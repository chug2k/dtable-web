{"version":3,"sources":["components/end-remarks.js","pages/dtable-share-form/app-main.js","pages/dtable-share-form/app-main-mobile.js","dtable-shared-form-view.js","pages/dtable-share-form/cell-editor-widgets/collaborator-editor-option.js","pages/dtable-share-form/cell-editor-widgets/collaborator-editor-popover.js","pages/dtable-share-form/generator/label-generator.js","pages/dtable-share-form/cell-editor/collaborator-editor.js","pages/dtable-share-form/cell-editor-widgets/select-editor-option.js","pages/dtable-share-form/cell-editor-widgets/select-editor-popover.js","pages/dtable-share-form/cell-viewer-mobile/mobile-common-header.js","pages/dtable-share-form/cell-viewer-mobile/single-select-view.js","pages/dtable-share-form/utils/zIndexes.js","pages/dtable-share-form/cell-editor/single-select-editor.js","pages/dtable-share-form/cell-viewer-mobile/multi-select-view.js","pages/dtable-share-form/cell-editor/mutiple-select-editor.js","pages/dtable-share-form/cell-editor-widgets/long-text-editor-preview-all.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/header-list.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/button-group.js","../node_modules/@seafile/seafile-editor/node_modules/reactstrap/dist/reactstrap.es.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/icon-button.js","../node_modules/@seafile/seafile-editor/dist/components/add-link-dialog.js","../node_modules/@seafile/seafile-editor/dist/components/add-image-dialog.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/table-toolbar.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/upload-img.js","../node_modules/@seafile/seafile-editor/dist/components/toolbar.js","../node_modules/@seafile/seafile-editor/dist/editor/editor-utils/range-utils.js","../node_modules/@seafile/seafile-editor/dist/editor/textlink-hovermenu.js","../node_modules/@seafile/seafile-editor/dist/components/context-menu.js","../node_modules/@seafile/seafile-editor/dist/editor/element-model/link.js","../node_modules/@seafile/seafile-editor/dist/editor/element-model/image.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/block-element-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/inline-element-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/void-element-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/editor-utils/text-utils.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/shortcut-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/normalize-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/custom/set-event-transfer.js","../node_modules/@seafile/seafile-editor/dist/editor/editor-plugin.js","../node_modules/@seafile/seafile-editor/dist/editor/simple-editor.js","pages/dtable-share-form/cell-editor-widgets/long-text-editor-dialog.js","pages/dtable-share-form/cell-viewer-mobile/long-text-view.js","pages/dtable-share-form/cell-editor/long-text-editor.js","pages/dtable-share-form/cell-viewer-mobile/date-editor-view.js","pages/dtable-share-form/cell-editor-widgets/click-outside.js","pages/dtable-share-form/cell-editor/date-editor.js","pages/dtable-share-form/cell-editor/text-editor.js","pages/dtable-share-form/utils/number-utils.js","pages/dtable-share-form/cell-editor/number-editor.js","pages/dtable-share-form/cell-editor/checkbox-editor.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/image-thumbnail.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/upload-progress.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/local-file-addition.js","pages/dtable-share-form/cell-editor/file-editor.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/local-image-addition.js","pages/dtable-share-form/cell-editor/image-editor.js","pages/dtable-share-form/cell-editor/editor-config.js","pages/dtable-share-form/generator/form-editor-generator.js","pages/dtable-share-form/row-item.js","../node_modules/i18next-browser-languagedetector/index.js","pages/dtable-share-form/remark-item.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","../node_modules/i18next/dist/esm/i18next.js","../node_modules/i18next-xhr-backend/dist/esm/i18nextXHRBackend.js","i18n-dtable.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/index.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/utils.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/cookie.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/querystring.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/localStorage.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/navigator.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/htmlTag.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/path.js","../node_modules/i18next-browser-languagedetector/dist/commonjs/browserLookups/subdomain.js"],"names":["EndRemark","props","className","src","mediaUrl","alt","width","height","content","gettext","window","formToken","shared","pageOptions","AppMain","onCommit","updated","rowData","Object","assign","setState","isDateUpdated","onSubmit","dtableWebAPI","submitFormData","state","table_id","JSON","stringify","then","res","isShowEndRemark","catch","error","errorMessage","Utils","getErrorMsg","toaster","danger","getRowItems","columns","remarkContent","rowItems","disabledType","key","column","includes","type","item","push","remarkItem","isDataLoading","form_name","formConfig","this","remarkOption","items","onClick","disabled","style","React","Component","AppMainMobile","dtableMetadata","DTableFormView","isLoading","formConfigData","parse","tables","metadata","serverColumns","find","table","_id","keys","map","filter","err","query","id","ReactDOM","render","i18n","fallback","document","getElementById","CollaboratorEditorOption","onDeleteCollaborator","event","nativeEvent","stopImmediatePropagation","stopPropagation","collaborator","getCollaborator","getContainerStyle","display","alignItems","marginRight","padding","fontSize","borderRadius","background","getAvatarStyle","margin","getAvatarIconStyle","getOperationStyle","lineHeight","cursor","color","transform","textAlign","containerStyle","avatarStyle","avatarIconStyle","operationStyle","name","avatar_url","CollaboratorEditorPopover","onValueChanged","e","value","target","trim","searchValue","onInputClick","onOptionItemToggle","getFilterCollaborators","collaborators","toLowerCase","toString","indexOf","popoverStyle","selectedCollaborators","onChange","placeholder","length","index","isSelect","some","selectedCollaborator","email","bind","LabelGenerator","POPOVER_MAX_HEIGHT","CollaboratorEditor","formatCollaborators","newValue","app","onDocumentToggle","isPopoverShow","onAddCollaboratorToggle","isReadOnly","slice","email_index","splice","setEditorRef","editor","caculatePopoverPosition","innerHeight","getClientRects","top","left","position","bottom","getPopoverStyle","isDataInit","addEventListener","removeEventListener","ref","defaultProps","SelectEditorOption","onDeleteOption","onDeleteSelectOption","option","backgroundColor","getOptionStyle","flex","alignContent","textColor","isShowRemoveIcon","optionStyle","SelectEditorPopover","onAddNewOption","getFilterOptions","options","isShowCreateBtn","selectedOptions","selectedOption","MobileCommonHeader","title","titleClass","onLeftClick","leftName","onRightClick","rightName","SingleSelectView","handleHistaryBack","preventDefault","closeEditor","onChangeSearch","searchVal","getFilteredOptions","onRemoveOption","onSelectOption","optionID","renderMenuContent","i","onMouseDown","maxWidth","clientWidth","data","clientHeight","body","history","pushState","filteredOptions","findIndex","zIndex","maxHeight","SingleSelectEditor","MobileMask","contains","formatOption","onAddOptionToggle","isEditorMounted","MultipSelectView","optionIdx","updatedValue","getMultipleSelectList","Array","isArray","forEach","v","isSelected","MutipleSelectEditor","option_index","formatOptions","updateValue","LongTextEditorPreviewAll","formatterLongTextValue","mdFile","processor","process","result","innerHtml","String","isFormatValue","text","nextProps","onContentClick","dangerouslySetInnerHTML","__html","_React$PureComponent","HeaderList","_this","call","handleClick","getContainer","toggle","dropdownOpen","findDOMNode","_this2","createElement","t","headerType","onClickHeader","PureComponent","ButtonGroup","apply","arguments","role","children","getScrollbarWidth","scrollDiv","overflow","appendChild","scrollbarWidth","offsetWidth","removeChild","setScrollbarWidth","paddingRight","isBodyOverflowing","innerWidth","getOriginalBodyPadding","getComputedStyle","parseInt","getPropertyValue","conditionallyUpdateScrollbar","fixedContent","querySelectorAll","bodyPadding","globalCssModule","mapToCssModules","undefined","cssModule","split","c","join","omit","obj","omitKeys","pick","pickKeys","warned","warnOnce","message","console","deprecated","propType","explanation","propName","componentName","_len","rest","_key","concat","DOMElement","Element","Error","getTarget","selection","querySelector","TransitionTimeouts","Fade","Collapse","Modal","Carousel","TransitionPropTypeKeys","TransitionStatuses","ENTERING","ENTERED","EXITING","EXITED","keyCodes","esc","space","tab","up","down","PopperPlacements","canUseDOM","_typeof","freeze","setGlobalCssModule","Symbol","iterator","constructor","prototype","instance","Constructor","TypeError","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_extends","source","hasOwnProperty","subClass","superClass","create","setPrototypeOf","__proto__","objectWithoutProperties","self","ReferenceError","propTypes","tag","oneOfType","func","string","fluid","bool","object","Tag","attributes","classes","propTypes$1","noGutters","stringOrNumberProp","number","columnProps","shape","size","pull","order","offset","propTypes$2","xs","sm","md","lg","xl","widths","array","defaultProps$2","getColumnSizeClass","isXs","colWidth","colSize","colClasses","columnProp","_classNames","colSizeInterfix","colClass","_colClass","propTypes$3","light","dark","inverse","full","fixed","sticky","toggleable","expand","toggleableToExpand","getExpandClass","getToggleableClass","propTypes$4","propTypes$5","node","propTypes$6","tabs","pills","vertical","horizontal","justified","fill","navbar","card","getVerticalClass","propTypes$7","active","propTypes$8","dropup","direction","oneOf","group","isOpen","nav","addonType","inNavbar","childContextTypes","isRequired","_React$Component","Dropdown","getPrototypeOf","addEvents","handleDocumentClick","handleKeyDown","removeEvents","handleProps","prevProps","_this3","which","container","test","tagName","click","focus","menuClass","itemClass","disabledClass","_omit","attrs","onKeyDown","propTypes$9","innerRef","href","any","NavLink","_props","propTypes$10","propTypes$11","propTypes$12","block","outline","Button","propTypes$13","propTypes$14","propTypes$15","propTypes$16","divider","header","contextTypes","DropdownItem","getTabIndex","context","tabIndex","propTypes$17","right","flip","contextTypes$1","noFlipModifier","enabled","directionPositionMap","show","position1","position2","placement","component","modifiers","propTypes$18","caret","contextTypes$2","DropdownToggle","ariaLabel","unwrapExports","x","__esModule","createCommonjsModule","fn","module","exports","classNamesShape","timeoutsShape","transitionTimeout","transitionType","timeoutPropName","enabledPropName","_propTypes2","default","enter","exit","enterActive","exitActive","UNMOUNTED","PropTypes$$1","newObj","_interopRequireWildcard","_react2","_interopRequireDefault","_reactDom2","Transition","_classCallCheck","_possibleConstructorReturn","parentGroup","transitionGroup","appear","isMounting","initialStatus","nextStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","_inherits","getChildContext","componentDidMount","updateStatus","componentWillReceiveProps","pendingState","componentDidUpdate","componentWillUnmount","cancelNextCallback","getTimeouts","timeout","mounting","performEnter","performExit","appearing","timeouts","onEnter","safeSetState","onEntering","onTransitionEnd","onEntered","onExit","onExiting","onExited","cancel","nextState","callback","_this4","setNextCallback","_this5","handler","addEndListener","setTimeout","childProps","_objectWithoutProperties","child","Children","only","cloneElement","noop","propTypes$19","arrayOf","baseClass","baseClassActive","defaultProps$18","otherProps","transitionProps","isActive","propTypes$20","pill","propTypes$21","propTypes$22","propTypes$23","propTypes$24","propTypes$25","propTypes$26","propTypes$27","propTypes$28","propTypes$29","cardImgClassName","propTypes$30","CarouselItem","startAnimation","isAppearing","offsetHeight","dispatchEvent","CustomEvent","isIn","slide","directionClassName","orderClassName","itemClasses","handleKeyPress","renderItems","hoverStart","hoverEnd","indicatorClicked","ride","setInterval","activeIndex","clearInterval","_setInterval","interval","cycleInterval","next","_clearInterval","pause","mouseEnter","_props2","mouseLeave","evt","keyboard","keyCode","previous","carouselItems","_props3","outerClasses","innerClasses","every","onMouseEnter","onMouseLeave","_carouselItems","_controlLeft","_controlRight","indicators","wrappedIndicators","onClickHandler","controlLeft","controlRight","directionText","anchorClasses","iconClasses","screenReaderClasses","listClasses","idx","indicatorClasses","caption","altText","captionHeader","captionText","propTypes$31","controls","autoPlay","goToIndex","_Component","UncontrolledCarousel","animating","nextIndex","newIndex","slides","propTypes$32","propTypes$33","propTypes$34","propTypes$35","placementPrefix","hideArrow","fallbackPlacement","childContextTypes$1","popperManager","PopperContent","handlePlacementChange","setTargetNode","getTargetNode","_element","renderIntoSubtree","hide","targetNode","getContainerNode","unmountComponentAtNode","childNodes","unstable_renderSubtreeIntoContainer","renderChildren","arrowClassName","popperClassName","extendedModifiers","behavior","update","PopperTargetHelper","propTypes$36","innerClassName","delay","DEFAULT_DELAYS","defaultProps$34","Popover","addTargetEvents","removeTargetEvents","getRef","_target","clearShowTimeout","clearHideTimeout","_popover","isNaN","_showTimeout","getDelay","_hideTimeout","clearTimeout","popperClasses","propTypes$37","propTypes$38","propTypes$39","bar","multi","max","animated","striped","barClassName","percent","progressClasses","progressBarClasses","ProgressBar","propTypes$41","Portal","defaultNode","createPortal","FadePropTypes","propTypes$40","autoFocus","centered","labelledBy","backdrop","onOpened","onClosed","wrapClassName","modalClassName","backdropClassName","contentClassName","external","fade","backdropTransition","modalTransition","propsToOmit","defaultProps$38","_originalBodyPadding","handleBackdropClick","handleEscape","init","setFocus","_isMounted","prevState","destroy","_dialog","parentNode","setAttribute","bodyClassAdded","modalOpenClassName","modalOpenClassNameRegex","RegExp","replace","dialogBaseClass","modalAttributes","onKeyUp","hasTransition","renderModalDialog","propTypes$42","wrapTag","closeAriaLabel","closeButton","WrapTag","fromCharCode","propTypes$43","propTypes$44","propTypes$45","autohide","DEFAULT_DELAYS$1","defaultProps$42","Tooltip","onMouseOverTooltip","onMouseLeaveTooltip","onMouseOverTooltipContent","onMouseLeaveTooltipContent","onMouseOver","propTypes$46","bordered","hover","responsive","responsiveTag","ResponsiveTag","responsiveClassName","propTypes$47","flush","propTypes$48","inline","propTypes$49","valid","defaultProps$46","propTypes$50","row","check","propTypes$51","propTypes$52","bsSize","invalid","static","plaintext","addon","Input","staticInput","checkInput","isNotaNumber","formControlClass","propTypes$53","propTypes$55","propTypes$54","stringOrNumberProp$1","columnProps$1","propTypes$58","hidden","for","defaultProps$53","getColumnSizeClass$1","htmlFor","propTypes$60","propTypes$61","propTypes$62","defaultAriaLabel","defaultCaret","propTypes$63","activeTab","childContextTypes$2","activeTabId","TabContent","propTypes$64","tabId","contextTypes$3","TabPane","propTypes$65","_transitionStatusToCl","propTypes$66","closeClassName","transition","defaultProps$60","Alert","closeClasses","propTypes$67","defaultProps$61","transitionStatusToClassHash","getHeight","scrollHeight","collapseClass","getTransitionClass","propTypes$68","action","handleDisabledOnClick","propTypes$69","propTypes$70","UncontrolledAlert","UncontrolledButtonDropdown","UncontrolledDropdown","UncontrolledTooltip","IconButton","isFreezed","tooltipOpen","that","isRichEditor","icon","AddLinkDialog","setInitialValue","editorUtils","getSelectedText","isLinkActive","linkNode","getCurrentLinkNode","getLinkText","url","handleUrlChange","handleTitleChange","handleSubmit","setLink","editorSelection","insertLink","toggleLinkDialog","seafileEditor","AddImageDialog","insertImage","onToggleImageDialog","TableToolBar","handle","onSetAlign","onInsertColumn","onRemoveColumn","onInsertRow","onRemoveRow","onRemoveTable","_React$PureComponent2","DropList","UploadImg","_getPrototypeOf2","args","imgtoggle","uploadLocalImage","editorApi","files","onInsertImage","handleFileChange","onInputFile","Fragment","isSimpleEditor","insertRepoImage","accept","ToolBar","onToggleLink","unwrapLink","onToggleLinkDialog","toolbarStatus","readOnly","isTableActive","isHeadActive","isCodeActive","isBoldActive","isItalicActive","isInlineCodeActive","isBlockquoteActive","isOrderedListActive","isUnorderedListActive","isCheckListActive","onClickMark","onClickBlock","onToggleCheckItem","onAddTable","isShowLinkDialog","isShowImageDialog","range","isCollapsed","TextLinkHoverMenu","link","saveRef","refDom","setMenuPosition","getSelection","anchorOffset","focusOffset","getRangeAt","rect","getBoundingClientRect","navigator","userAgent","collapsed","startOffset","setEnd","endContainer","setStart","startContainer","componentWillMount","componentWillUpdate","ContextMenu","menuHeight","menu","requestAnimationFrame","contextStyle","tableUtils","contextMenuPosition","_ref","insertRow","insertColumn","removeRow","removeColumn","Link","Image","exec","listUtils","codeUtils","blockquoteUtils","command","setNodes","_getEventTransfer","fragment","html","isInCodeBlock","endsWith","img","insertNodes","isInternalFileLink","lastIndexOf","substring","fileName","decodeURIComponent","isInternalDirLink","_index","dirName","isInTable","pasteContentInTable","isInlist","pasteContentInList","pasteContentInCodeBlock","isInBlockquote","pasteContentInBlockquote","insertFragment","_fragment","wrapBlockquote","unwrapBlockquote","wrapList","unwrapList","getCurrentListItem","checked","match","nearestItem","listItems","nodes","at","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","return","wrapCodeBlock","unwrapCodeBlock","splitNodes","always","insertText","anchor","path","insertTable","removeTable","setAlign","align","exitTable","isInline","element","elementData","wrapNodes","select","collapse","edge","unwrapNodes","removeNodes","newNodeLink","voids","types","isVoid","TextUtils","_editor","getTextInfoBeforeSelection","_Editor$nodes","start","beforeText","SHORTCUTS","textUtils","getNodesByTypeAtRange","splitNodesAtPoint","splitCodeLine","_textUtils$getTextInf","_block","blockNode","delete","_textUtils$getTextInf2","_beforeText","_range","increaseListDepth","_Editor$nodes3","_Editor$nodes5","listNode","codeBlock","blockPath","normalizeNode","_ref2","previousSibling","nextSiblings","mergeNodes","childPath","TRANSFER_TYPES","mime","transfer","dataTransfer","clipboardData","setData","getData","Plugin","mode","onCopy","getSelectedTableCells","encodedTable","btoa","encodeURIComponent","SimpleEditor","isShowContextMenu","operations","o","contentChanged","foucsEditor","editorRef","firstChild","hasContentChange","onContextMenu","clientX","clientY","plugin","isShowBigImage","onRef","_this$state","getToolbarStatus","selectionCollapsed","renderElement","renderLeaf","decorate","workspaceID","dtableName","dtableWebURL","editorUtilities","imageFile","parentPath","getTableAssetUploadLink","uploadLink","upload_link","newFile","File","formData","FormData","parent_path","append","uploadImage","onUploadProgress","_getImageURL","LongTextEditorDialog","isContentChanged","currentContent","getCurrentContent","onCloseEditorDialog","simpleEditor","markdownContent","getMarkdown","getPreviewContent","previewText","images","links","preview","setSimpleEditorRef","timer","LongTextView","saveValue","closeDialog","handleChange","rowCounts","rows","LongTextEditor","isShowEditorDialog","onCommitCancel","perview","now","moment","DateEditorView","handleDateChange","date","showTime","HM","time","format","newTime","Date","handleTimeChange","deleteDate","getCalendarContainer","calendarContainerRef","current","getFormat","showHour","defaultCalendarValue","createRef","iszhcn","config","lang","locale","clone","calendar","translateCalendar","dateInputPlaceholder","defaultValue","showDateInput","focusablePanel","showToday","open","onFocus","onReadOnlyFocus","renderCalendar","ClickOutside","isClickedInside","onClickOutside","handleMouseDown","onMouseDownCapture","DataEditor","getFormatValue","getDateFormat","onDateEditorToggle","onFocusDatePicker","showHourAndMinute","storageFormat","onOpenChange","onClear","getCalender","isDateInit","dateFormat","datePickerValue","animation","withTranslation","TextEditor","isEditorShow","onBlur","onEditorhandle","input","currentTarget","selectionStart","selectionEnd","isHotkey","onPaste","onCut","setInputRef","NP","enableBoundaryChecking","getFloatNumber","isIncludePercent","newData","parseFloat","toThousands","num","isCurrency","integer","Math","trunc","decimal","abs","minus","padEnd","counter","is","unshift","getCurrentOption","commaValue","moneyCommaValue","toFixed","NumebrEditor","formatValue","inputValue","textValue","onEditorHandle","getStyle","CheckboxEditor","getValue","marginLeft","formID","ImageThumbnail","UploadProgress","uploadPercent","theme","defaultColor","activeColor","success","successColor","symbolClassName","LocalFileAddition","persist","deleteFile","fileDragEnter","enteredCounter","isFileTipShow","fileDragOver","fileDragLeave","fileDrop","reader","FileReader","onload","readAsText","fileUploadClick","refs","showDeleteIcon","enterFileIndex","hideDeleteIcon","fileUploadAgain","calculateFileArr","fileArr","isUploading","thumbnailSrc","isErrorTip","medialUrl","fileItem","fileIconUrl","getFileIconUrl","direntType","uploadContainerClassName","addBoxClassName","addIconClassName","classnames","fileTips","onDragEnter","onDragOver","onDragLeave","onDrop","server","serviceURL","FileEditor","onAddFileToggle","isUpdated","iconUrl","onFileEditorToggle","uploadFile","file","uploadLocalFile","response","relativePath","getUploadLinkViaFormToken","file_relative_path","setFileMessage","loaded","total","floor","LocalImageAddition","handleImageChange","deleteImage","isImageTipShow","image_file","calculateImageArr","imageArr","imageItem","imageTips","ImageEditor","onAddImageToggle","enterImageIndex","decodeURI","onImageEditorToggle","image","img_relative_path","getImageUrl","EditorConfig","CELL_TYPE","COLLABORATOR","SINGLE_SELECT","MULTIPLE_SELECT","LONG_TEXT","DATE","TEXT","NUMBER","CHECKBOX","FILE","IMAGE","FormEditorGenerator","getCellEditor","CellEditor","editorProps","RowItem","setRowRef","rowItem","editorMode","main","RemarkItem","convertRemarkContent","noteContent","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","consoleLogger","log","output","warn","_console","baseLogger","Logger","concreteLogger","prefix","logger","debug","forward","_len2","_key2","_len3","_key3","_len4","_key4","lvl","debugOnly","moduleName","EventEmitter","observers","events","listener","l","cloned","observer","_cloned","defer","rej","promise","Promise","resolve","reject","makeString","getLastOfPath","Empty","cleanKey","canNotTraverseDeeper","stack","shift","k","setPath","_getLastOfPath","getPath","_getLastOfPath3","getPathWithDefaults","defaultData","deepExtend","overwrite","prop","regexEscape","str","_entityMap","s","_EventEmitter","ResourceStore","ns","defaultNS","keySeparator","lng","silent","addNamespaces","emit","resources","m","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","postProcessor","processors","addPostProcessor","translator","Translator","services","a","language","interpolation","resolved","nsSeparator","namespaces","parts","overloadTranslationOptionHandler","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy$$1","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","isValidLookup","count","suffix","pluralResolver","getSuffix","updateMissing","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","missingKeyHandler","backendConnector","saveMissing","needsPluralHandling","saveMissingPlurals","getPluralFormsOfKey","p","appendNamespaceToMissingKey","parseMissingKeyHandler","usedLng","usedNS","skipInterpolation","interpolator","defaultVariables","interpolate","nest","reset","postProcess","postProcessorNames","applyPostProcessor","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","code","pluralSuffix","possibleKey","finalKey","finalKeys","addLookupKeys","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","capitalize","charAt","toUpperCase","LanguageUtil","whitelist","formatLanguageCode","specialCases","lowerCaseLng","part","cleanCode","load","nonExplicitWhitelist","getLanguagePartFromCode","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","isWhitelisted","fc","sets","nr","_rulesPluralsTypes","1","n","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","PluralResolver","rules","set","numbers","plurals","createRules","rule","getRule","ret","noAbs","simplifyPluralSuffix","returnSuffix","prepend","compatibilityJSON","Interpolator","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","maxReplaces","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","replaces","regexSafe","val","handleFormat","f","missingInterpolationHandler","temp","lastIndex","_temp","clonedOptions","handleHasOptions","inheritedOptions","optionsString","Connector","backend","store","queue","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","errors","_name$split","_name$split2","addResourceBundle","q","_getLastOfPath2","pushPath","arr","what","remove","fcName","tried","wait","read","queueLoad","loadOne","prepareLoading","_name$split3","_name$split4","fallbackValue","isUpdate","get","initImmediate","preload","pluralSeparator","partialBundledLanguages","tDescription","_format","transformOptions","I18n","modules","isInitialized","isClone","createClassOnDemand","ClassOrObject","lu","on","languageDetector","detection","storeApi","_this2$store","deferred","changeLanguage","setLng","cacheUserLanguage","loadResources","async","detect","fixedT","opts","_this$translator","_this$translator2","exists","_this6","lastLng","loadNotPending","loadState","_this7","preloaded","newLngs","_this8","mergedOptions","membersToCopy","each","defaults","addQueryString","params","queryString","paramName","ajax","cache","queryStringParams","XMLHttpRequest","ActiveXObject","crossDomain","setRequestHeader","withCredentials","overrideMimeType","h","customHeaders","onreadystatechange","readyState","responseText","getDefaults","loadPath","addPath","allowMultiLoading","parsePayload","Backend","loadUrl","xhr","payload","version","use","LanguageDetector","initReactI18next","react","_createClass","_cookie2","_querystring2","_localStorage2","_navigator2","_htmlTag2","_path2","_subdomain2","Browser","detectors","i18nOptions","lookupQuerystring","lookupCookie","lookupLocalStorage","caches","excludeCacheFor","checkWhitelist","lookupFromUrlIndex","lookupFromPathIndex","addDetector","detector","detectionOrder","detected","detectorName","lookup","cleanedLng","cacheName","extend","cookie","minutes","domain","expires","setTime","getTime","toGMTString","nameEQ","ca","cookieMinutes","cookieDomain","location","search","pos","hasLocalStorageSupport","localStorage","setItem","removeItem","getItem","userLanguage","htmlTag","documentElement","getAttribute","pathname","lookupFromSubdomainIndex"],"mappings":"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","file":"static/js/dtableFormView.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { mediaUrl } from '../utils/constants';\n\nconst propTypes = {\n  content: PropTypes.string.isRequired,\n};\n\nfunction EndRemark(props) {\n  return (\n    <div className=\"form-share-end-remark-container\">\n      <img src={`${mediaUrl}img/submit-success.png`} alt=\"\" width=\"100\" height=\"100\" className=\"submit-success-icon\" />\n      <div className=\"form-share-end-remark-content\">{props.content}</div>\n    </div>\n  );\n}\n\nEndRemark.propTypes = propTypes;\n\nexport default EndRemark;","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport RowItem from './row-item';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport Loading from '../../components/loading';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport EndRemark from '../../components/end-remarks';\nimport RemarkItem from './remark-item';\nimport './css/end-remark.css';\n\nconst gettext = window.gettext;\nconst { formToken } = window.shared.pageOptions;\n\nconst propTypes = {\n  formConfig: PropTypes.object.isRequired,\n};\n\nclass AppMain extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDataLoading: true,\n      isDateUpdated: false,\n      table_id: '',\n      columns: [],\n      form_name: '',\n      isShowEndRemark: false\n    };\n    this.rowData = {};\n  }\n\n  componentDidMount() {\n    let formConfig = this.props.formConfig;\n    this.setState({\n      isDataLoading: false,\n      table_id: formConfig.table_id,\n      columns: formConfig.columns,\n      form_name: formConfig.form_name,\n      remarkContent: formConfig.remarkOption ? formConfig.remarkOption.remarkContent : ''\n    });\n  }\n\n  onCommit = (updated) => {\n    this.rowData = Object.assign({}, this.rowData, updated);\n    this.setState({isDateUpdated: true});\n  }\n\n  onSubmit = () => {\n    dtableWebAPI.submitFormData(formToken, this.state.table_id, JSON.stringify(this.rowData)).then(res => {\n      this.setState({\n        isShowEndRemark: true\n      });\n    }).catch(error => {\n      let errorMessage = Utils.getErrorMsg(error);\n      toaster.danger(errorMessage);\n    });\n  }\n\n  getRowItems = () => {\n    let { columns, remarkContent } = this.state;\n    let rowItems = [];\n    const disabledType = ['formula', 'link', 'collaborator', 'creator', 'ctime'];\n    for (let key in columns) {\n      let column = columns[key];\n      if (disabledType.includes(column.type)) {\n        continue;\n      }\n      let item = <RowItem key={key} column={column} onCommit={this.onCommit} />;\n      rowItems.push(item);\n    }\n    if (remarkContent) {\n      let remarkItem = <RemarkItem remarkContent={remarkContent} key=\"remark-item\" />;\n      rowItems.push(remarkItem);\n    }\n    return rowItems;\n  }\n  \n  render() {\n    if (this.state.isDataLoading) {\n      return <Loading />;\n    }\n\n    if (this.state.isShowEndRemark) {\n      let content = gettext('Thank you for submit the form!');\n      return <EndRemark content={content}/>;\n    }\n\n    let items = this.getRowItems();\n\n    return (\n      <Fragment>\n        <div className=\"form-header\">\n          <h3 className=\"form-header-title\">{this.state.form_name}</h3>\n        </div>\n        <div className=\"form-content\">\n          <div className=\"form-items-container\">\n            {items}\n            <button className=\"btn btn-primary mb-4 mt-4 flex-shrink-0\" onClick={this.onSubmit} disabled={!this.state.isDateUpdated}\n              style={{width: '5rem'}}>{gettext('Submit')}</button>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nAppMain.propTypes = propTypes;\n\nexport default AppMain;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport RowItem from './row-item';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport Loading from '../../components/loading';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport EndRemark from '../../components/end-remarks';\nimport './css/end-remark.css';\nimport './css/dtable-shared-form-mobile.css';\n\nconst gettext = window.gettext;\nconst { formToken } = window.shared.pageOptions;\n\nconst propTypes = {\n  formConfig: PropTypes.object.isRequired,\n};\n\nclass AppMainMobile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDataLoading: true,\n      isDateUpdated: false,\n      table_id: '',\n      columns: [],\n      form_name: '',\n      isShowEndRemark: false\n    };\n    this.rowData = {};\n  }\n\n  componentDidMount() {\n    let formConfig = this.props.formConfig;\n    this.setState({\n      isDataLoading: false,\n      table_id: formConfig.table_id,\n      columns: formConfig.columns,\n      form_name: formConfig.form_name\n    });\n  }\n\n  onCommit = (updated) => {\n    this.rowData = Object.assign({}, this.rowData, updated);\n    this.setState({isDateUpdated: true});\n  }\n\n  onSubmit = () => {\n    dtableWebAPI.submitFormData(formToken, this.state.table_id, JSON.stringify(this.rowData)).then(res => {\n      this.setState({\n        isShowEndRemark: true\n      });\n    }).catch(error => {\n      let errorMessage = Utils.getErrorMsg(error);\n      toaster.danger(errorMessage);\n    });\n  }\n\n  getRowItems = () => {\n    let { columns } = this.state;\n    let rowItems = [];\n    const disabledType = ['formula', 'link', 'collaborator', 'creator', 'ctime'];\n    for (let key in columns) {\n      let column = columns[key];\n      if (disabledType.includes(column.type)) {\n        continue;\n      }\n      let item = <RowItem key={key} column={column} onCommit={this.onCommit} />;\n      rowItems.push(item);\n    }\n    return rowItems;\n  }\n  \n  render() {\n    const { isDataLoading, isShowEndRemark, form_name, isDateUpdated } = this.state;\n    if (isDataLoading) {\n      return <Loading />;\n    }\n    if (isShowEndRemark) {\n      let content = gettext('Thank you for submit the form!');\n      return (<EndRemark content={content}/>);\n    }\n    return (\n      <Fragment>\n        <div className=\"form-header\">\n          <h3 className=\"form-header-title\">{form_name}</h3>\n        </div>\n        <div className=\"form-content\">\n          <div className=\"form-items-container\">\n            {this.getRowItems()}\n          </div>\n        </div>\n        <div className=\"form-footer\">\n          <button className=\"btn btn-primary w-100\" onClick={this.onSubmit} disabled={!isDateUpdated}>\n            {gettext('Submit')}\n          </button>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nAppMainMobile.propTypes = propTypes;\n\nexport default AppMainMobile;\n","import React, { Suspense, Fragment }  from 'react';\nimport ReactDOM from 'react-dom';\nimport AppMain from './pages/dtable-share-form/app-main';\nimport AppMainMobile from './pages/dtable-share-form/app-main-mobile';\nimport { I18nextProvider } from 'react-i18next';\nimport i18n from './i18n-dtable';\nimport MediaQuery from 'react-responsive';\nimport Loading from './components/loading';\nimport './css/dtable-share-form.css';\n\nconst gettext = window.gettext;\nconst { dtableMetadata, formConfig } = window.shared.pageOptions;\n\nclass DTableFormView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      formConfigData: JSON.parse(formConfig),\n    };\n  }\n\n  componentDidMount() {\n    let { formConfigData } = this.state;\n    let tables = JSON.parse(dtableMetadata).metadata.tables;\n    \n    try {\n      let currentTable = tables.find(table => { return table._id === formConfigData.table_id; });\n      let serverColumns = currentTable.columns;\n      let dbColumns = formConfigData.columns;\n      let keys = dbColumns.map(column => {\n        return column.key;\n      });\n  \n      let columns = serverColumns.filter(column => {\n        return keys.find(key => { return key === column.key; });\n      });\n      \n      formConfigData.columns = columns;\n  \n      this.setState({\n        isLoading: false,\n        formConfigData: formConfigData\n      });\n    } catch(err) {\n      let errorMessage = gettext('The form you want to access has not been created.');\n      this.setState({\n        isLoading: false,\n        errorMessage: errorMessage\n      });\n    }\n  }\n\n  render() {\n\n    let { isLoading, formConfigData, errorMessage } = this.state;\n\n    if (isLoading) {\n      return <Loading />;\n    }\n\n    if (errorMessage) {\n      return <p className=\"text-center mt-8 error\">{errorMessage}</p>;\n    }\n\n    return (\n      <Fragment>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          <div id=\"main\" className='app-main-mobile'>\n            <AppMainMobile formConfig={formConfigData} />\n          </div>\n        </MediaQuery>\n        <MediaQuery query=\"(min-width: 767.8px)\">\n          <div id=\"main\">\n            <AppMain formConfig={formConfigData} />\n          </div>\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nReactDOM.render(\n  <I18nextProvider i18n={i18n}>\n    <Suspense fallback={<Loading/>}>\n      <DTableFormView />\n    </Suspense>\n  </I18nextProvider>,\n  document.getElementById('wrapper')\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  column: PropTypes.object,\n  collaborator: PropTypes.object,\n  onDeleteCollaborator: PropTypes.func.isRequired,\n};\n\nclass CollaboratorEditorOption extends React.Component {\n\n  onDeleteCollaborator = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    let collaborator = this.props.collaborator;\n    this.props.onDeleteCollaborator(collaborator);\n  }\n\n  getCollaborator = () => {\n    let { collaborator } = this.props;\n    return collaborator;\n  }\n\n  getContainerStyle = () => {\n    return {\n      display: 'inline-flex',\n      alignItems: 'center',\n      marginRight: '10px',\n      padding: '0 8px 0 2px',\n      height: '20px',\n      fontSize: '13px',\n      borderRadius: '10px',\n      background: '#eaeaea',\n    };\n  }\n\n  getAvatarStyle = () => {\n    return {\n      display: 'flex',\n      alignItems: 'center',\n      margin: '0 4px 0 2px',\n    };\n  }\n  \n  getAvatarIconStyle = () => {\n    return {\n      width: '16px',\n      height: '16px',\n      marginRight: '4px',\n      borderRadius: '50%',\n    };\n  }\n\n  getOperationStyle = () => {\n    return {\n      display: 'inline-block',\n      width: '16px',\n      height: '20px',\n      lineHeight: '20px',\n      cursor: 'pointer',\n      color: '#909090',\n      transform: 'scale(.8)',\n      textAlign: 'center'\n    };\n  }\n\n  render() {\n    let collaborator = this.getCollaborator();\n    let containerStyle = this.getContainerStyle();\n    let avatarStyle = this.getAvatarStyle();\n    let avatarIconStyle = this.getAvatarIconStyle();\n    let operationStyle = this.getOperationStyle();\n\n    return (\n      <div className=\"collaborator-option-item\" style={containerStyle}>\n        <span className=\"collaborator-avatar\" style={avatarStyle}>\n          <img className=\"collaborator-icon\" style={avatarIconStyle} alt={collaborator.name} src={collaborator.avatar_url} />\n          <span className=\"collaborator-name\">{collaborator.name}</span>\n        </span>\n        <span className=\"collaborator-remove\" style={operationStyle} onClick={this.onDeleteCollaborator}>\n          <i className=\"dtable-font dtable-icon-fork-number\" style={{fontSize: '12px', height: '20px', lineHeight: '20px'}}></i>\n        </span>\n      </div>\n    );\n  }\n}\n\nCollaboratorEditorOption.propTypes = propTypes;\n\nexport default CollaboratorEditorOption;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  popoverStyle: PropTypes.object.isRequired,\n  collaborators: PropTypes.array.isRequired,\n  selectedCollaborators: PropTypes.array.isRequired,\n  onOptionItemToggle: PropTypes.func.isRequired,\n};\n\nclass CollaboratorEditorPopover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: '',\n    };\n  }\n\n  onValueChanged = (e) => {\n    let value = e.target.value.trim();\n    this.setState({searchValue: value});\n  }\n\n  onInputClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n  } \n\n  onOptionItemToggle = (collaborator) => {\n    this.props.onOptionItemToggle(collaborator);\n  }\n\n  getFilterCollaborators = () => {\n    let { collaborators } = this.props;\n    let filter = this.state.searchValue.toLowerCase();\n    if (!filter) {\n      return collaborators;\n    }\n    return collaborators.filter(collaborator => {\n      return (collaborator.name.toString().toLowerCase()).indexOf(filter) > -1;\n    });\n  }\n\n  render() {\n\n    let { popoverStyle, selectedCollaborators } = this.props;\n    let collaborators = this.getFilterCollaborators();\n\n    return (\n      <div className=\"collaborator-editor-popover\" style={popoverStyle}>\n        <div className=\"collaborator-options-search\">\n          <input className=\"form-control\" onChange={this.onValueChanged} onClick={this.onInputClick} placeholder={gettext('Find a collaborator')}></input>\n        </div>\n        <div className=\"collaborator-options-container\">\n          {collaborators.length > 0 && collaborators.map((collaborator, index) => {\n            // check is selected\n            let isSelect = selectedCollaborators.some(selectedCollaborator => {\n              return selectedCollaborator.email === collaborator.email;\n            });\n            return (\n              <div key={index} className=\"collaborator-option-item\" onClick={this.onOptionItemToggle.bind(this, collaborator)}>\n                <div className=\"collaborator-avatar\" >\n                  <img className=\"collaborator-icon\" alt={collaborator.name} src={collaborator.avatar_url} />\n                  <span className=\"collaborator-name\">{collaborator.name}</span>\n                </div>\n                <div className=\"collaborator-checked\">\n                  {isSelect && <i className=\"dtable-font dtable-icon-check-mark\" style={{fontSize: '12px'}}></i>}\n                </div>\n              </div>\n            );\n          })}\n          {collaborators.length === 0 && (<div className=\"search-option-null\">{gettext('No collaborators available')}</div>)}\n        </div>\n      </div>\n    );\n  }\n}\n\nCollaboratorEditorPopover.propTypes = propTypes;\n\nexport default CollaboratorEditorPopover;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CellLabel from '../../dtable-share-row/cell-label';\n\nconst propTypes = {\n  column: PropTypes.object,\n};\n\nclass LabelGenerator extends React.Component {\n\n  render() {\n    let { column } = this.props;\n\n    return <CellLabel column={column} />;\n  }\n}\n\nLabelGenerator.propTypes = propTypes;\n\nexport default LabelGenerator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CollaboratorEditorOption from '../cell-editor-widgets/collaborator-editor-option';\nimport CollaboratorEditorPopover from '../cell-editor-widgets/collaborator-editor-popover';\n\nimport '../css/collaborator.css'; \n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst POPOVER_MAX_HEIGHT = 200;\n\nclass CollaboratorEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: [],\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: null,\n      isDataInit: false,\n      isPopoverShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    this.setState({ \n      newValue: value,\n      isDataInit: true,\n    });\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n  \n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  formatCollaborators = () => {\n    let { newValue } = this.state;\n    \n    if (!newValue || newValue.length === 0) {\n      return [];\n    }\n\n    let collaborators = window.app.collaborators;\n    let selectedCollaborators = collaborators.length > 0 && collaborators.filter(collaborator => {\n      return newValue && newValue.indexOf(collaborator.email) > -1;\n    });\n    return selectedCollaborators || [];\n  }\n\n  onCommit = (newValue) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = newValue;\n    this.props.onCommit(updated, column);\n  }\n  \n  onDocumentToggle = () => {\n    this.setState({isPopoverShow: false});\n  }\n\n  onAddCollaboratorToggle = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isPopoverShow: !this.state.isPopoverShow});\n  }\n\n  onDeleteCollaborator = (collaborator) => {\n    let { newValue: currentValue } = this.state;\n    let newValue = currentValue.filter(item => item !== collaborator.email);\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n  }\n\n  onOptionItemToggle = (collaborator) => {\n    let { newValue: currentValue } = this.state;\n    let newValue = currentValue.slice(0);  // make a copy\n\n    let email_index = newValue.indexOf(collaborator.email);\n    if (email_index > -1) {\n      newValue.splice(email_index, 1);\n    } else {\n      newValue.push(collaborator.email);\n    }\n\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  caculatePopoverPosition = () => {\n    let innerHeight = window.innerHeight;\n    let { top, left, height } = this.editor.getClientRects()[0];\n    let isBelow = (innerHeight - (top + height)) > POPOVER_MAX_HEIGHT;\n    let position = { top : (top + height + 1), left: left};\n    if (!isBelow) {\n      let bottom = innerHeight - top;\n      position = { bottom: bottom, left: left };\n    }\n    return position;\n  }\n\n  getPopoverStyle = () => {\n    let defaultPosition = { \n      position: 'absolute',\n    };\n    let position = this.caculatePopoverPosition();\n    return Object.assign({}, {...defaultPosition}, {...position});\n  }\n  \n  render() {\n\n    let collaborators = window.app.collaborators;\n    let selectedCollaborators = this.formatCollaborators();\n\n    let { isDataInit } = this.state;\n    let popoverStyle = null;\n    if (isDataInit) {\n      popoverStyle = this.getPopoverStyle();\n    }\n\n    return (\n      <div className=\"cell-editor grid-cell-type-collaborator\">\n        <div ref={this.setEditorRef} className=\"collaborator-editor-container\">\n          {selectedCollaborators.map((collaborator, index) => {\n            return <CollaboratorEditorOption key={index} collaborator={collaborator} onDeleteCollaborator={this.onDeleteCollaborator}/>;\n          })}\n        </div>\n        <div className=\"collaborator-editor-add\" onClick={this.onAddCollaboratorToggle}>\n          <i className=\"dtable-font dtable-icon-add-square\"></i>\n        </div>\n        {this.state.isPopoverShow && (\n          <CollaboratorEditorPopover\n            popoverStyle={popoverStyle}\n            collaborators={collaborators} \n            selectedCollaborators={selectedCollaborators}\n            onOptionItemToggle={this.onOptionItemToggle} \n          />\n        )}\n      </div>\n    );\n  }\n}\n\nCollaboratorEditor.propTypes = propTypes;\n\nexport default CollaboratorEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  option: PropTypes.object.isRequired,\n  isShowRemoveIcon: PropTypes.bool,\n  onDeleteSelectOption: PropTypes.func,\n};\n\n/**\n * option : {\n *   id: '',\n *   name: '',\n *   color: '',\n * }\n */\n\nclass SelectEditorOption extends React.Component {\n\n  static defaultProps = {\n    isShowRemoveIcon: false,\n  }\n\n  onDeleteOption = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    this.props.onDeleteSelectOption(this.props.option);\n  }\n\n  getContainerStyle = () => {\n    let option = this.props.option;\n    return {\n      display: 'inline-flex',\n      marginRight: '10px',\n      padding: '0px 10px',\n      height: '20px',\n      textAlign: 'center',\n      borderRadius: '10px',\n      fontSize: '13px',\n      backgroundColor: option.color,\n    };\n  }\n\n  getOptionStyle = (option) => {\n    const textColor = option.textColor || null;\n    return {\n      flex: 1,\n      display: 'flex',\n      alignContent: 'center',\n      margin: '0 4px 0 2px',\n      color: textColor,\n    };\n  }\n\n  getOperationStyle = (option) => {\n    const textColor = option.textColor || null;\n    return {\n      height: '20px',\n      width: '16px',\n      cursor: 'pointer',\n      color: textColor === '#FFFFFF' ? '#FFFFFF' : '#909090',\n      transform: 'scale(.8)',\n    };\n  }\n\n  render() {\n    let { option, isShowRemoveIcon } = this.props;\n    let containerStyle = this.getContainerStyle();\n    let optionStyle = this.getOptionStyle(option);\n    let operationStyle = this.getOperationStyle(option);\n\n    return (\n      <div className=\"select-option-item\" style={containerStyle}>\n        <div className=\"option-info\" style={optionStyle}>\n          <div className=\"option-name\">{option.name}</div>\n        </div>\n        {isShowRemoveIcon && (\n          <div className=\"option-remove\" style={operationStyle} onClick={this.onDeleteOption}>\n            <i className=\"dtable-font dtable-icon-fork-number\" style={{fontSize: '12px', lineHeight: '20px'}}></i>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nSelectEditorOption.propTypes = propTypes;\n\nexport default SelectEditorOption;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  popoverStyle: PropTypes.object.isRequired,\n  options: PropTypes.array.isRequired,\n  onAddNewOption: PropTypes.func,\n  selectedOptions: PropTypes.array.isRequired,\n  onOptionItemToggle: PropTypes.func.isRequired,\n};\n\nclass SelectEditorPopover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: '',\n      isShowCreateBtn: false,\n    };\n  }\n\n  onValueChanged = (event) => {\n    let value = event.target.value.trim();\n    this.setState({searchValue: value});\n  }\n\n  onInputClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n  } \n\n  onAddNewOption = () => {\n    let name = this.state.searchValue;\n    this.props.onAddNewOption(name);\n  }\n\n  onOptionItemToggle = (item) => {\n    this.props.onOptionItemToggle(item);\n  }\n\n  getFilterOptions = () => {\n    let { options } = this.props;\n    let filter = this.state.searchValue.toLowerCase();\n    if (!filter) {\n      return options;\n    }\n    return options.filter(option => {\n      return (option.name.toString().toLowerCase()).indexOf(filter) > -1;\n    });\n  }\n\n  getOptionStyle = (option) => {\n    const textColor = option.textColor || null;\n    return {\n      display: 'inline-block',\n      padding: '0px 10px',\n      height: '20px',\n      lineHeight: '20px',\n      borderRadius: '10px',\n      fontSize: '13px',\n      backgroundColor: option.color,\n      color: textColor,\n    };\n  }\n\n  render() {\n    let { popoverStyle, selectedOptions } = this.props;\n    let options = this.getFilterOptions();\n    let { isShowCreateBtn } = this.state;\n    return (\n      <div className=\"select-editor-popover\" style={popoverStyle}>\n        <div className=\"select-options-search\">\n          <input className=\"form-control\" onChange={this.onValueChanged} onClick={this.onInputClick} placeholder={gettext('Find a collaborator')}></input>\n        </div>\n        <div className=\"select-options-container\">\n          {options.length > 0 && options.map((option, index) => {\n            let optionStyle = this.getOptionStyle(option);\n            let isSelect = selectedOptions.some(selectedOption => {\n              return selectedOption.id === option.id;\n            }); \n            return (\n              <div key={index} className=\"select-option-item\" onClick={this.onOptionItemToggle.bind(this, option)}>\n                <div className=\"option-info\">\n                  <div className=\"option-name\" style={optionStyle}>{option.name}</div>\n                </div>\n                <div className=\"option-checked\">\n                  {isSelect && <i className=\"dtable-font dtable-icon-check-mark\"></i>}\n                </div>\n              </div>\n            );\n          })}\n          {options.length === 0 && (<div className=\"search-option-null\">{gettext('No options avaliable')}</div>)}\n        </div>\n        {isShowCreateBtn && (\n          <div className=\"select-options-add\" onClick=\"this.onAddNewOption\">{gettext('Add an option')}{this.state.searchValue}</div>\n        )}\n      </div>\n    );\n  }\n}\n\nSelectEditorPopover.propTypes = propTypes;\n\nexport default SelectEditorPopover;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction MobileCommonHeader(props) {\n  const { title, titleClass, onLeftClick, leftName, onRightClick, rightName } = props;\n  return(\n    <div className={`am-list-header mobile-am-list-header ${titleClass ? titleClass : ''}`}>\n      <div className=\"row-expand-view-header\">\n        <span className=\"row-expand-view-header-btn\" onClick={onLeftClick}>{leftName || ''}</span>\n        <h4 className=\"row-expand-view-header-title\">{title}</h4>\n        <span className=\"row-expand-view-header-btn\" onClick={onRightClick}\n          style={{ color: '#f09f3f'}}>{rightName || ''}</span>\n      </div>\n    </div>\n  );\n}\n\nMobileCommonHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  titleClass: PropTypes.string,\n  onLeftClick: PropTypes.func,\n  onRightClick: PropTypes.func,\n  leftName: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  rightName: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n};\n\nexport default MobileCommonHeader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as zIndexes from '../utils/zIndexes';\nimport { gettext } from '../../../utils/constants';\nimport MobileCommonHeader from './mobile-common-header';\n\nconst propTypes = {\n  closeEditor: PropTypes.func,\n  onCommit: PropTypes.func,\n  column: PropTypes.object,\n  value: PropTypes.string,\n  isReadOnly: PropTypes.bool,\n};\n\nclass SingleSelectView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value || '',\n      searchVal: '',\n      options: props.column.data ? props.column.data.options : [],\n    };\n    this.clientHeight = document.body.clientHeight;\n    this.clientWidth = document.body.clientWidth;\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  onChangeSearch = (event) => {\n    let { searchVal } = this.state;\n    if (searchVal === event.target.value) {\n      return;\n    }\n    searchVal = event.target.value;\n    this.setState({ searchVal });\n  }\n\n  getFilteredOptions = () => {\n    let { searchVal, options } = this.state;\n    return searchVal ? options.filter((item) => item.name.indexOf(searchVal) > -1) : options;\n  }\n\n  onRemoveOption = () => {\n    this.setState({ value: '' }, () => {\n      this.props.onCommit({id: this.state.value});\n      this.props.closeEditor();\n    });\n  }\n\n  onSelectOption = (optionID) => {\n    this.setState({ value: optionID }, () => {\n      this.props.onCommit({id: this.state.value});\n      this.props.closeEditor();\n    });\n  }\n\n  renderMenuContent = (options) => {\n    let { value } = this.state;\n    if (options.length === 0) {\n      return <div className=\"none-search-result\">{gettext('No options available.')}</div>;\n    }\n    // this.clientWidth - 16 - 10 - 20 - 10: \n    // clientWidth - select-options-body's paddingLeft - single-select-container's paddingRight - check-icon's width - gaps\n    return options.map((option, i) => {\n      return (\n        <div className=\"single-select-item\" key={i}>\n          <div className=\"single-select-container\" onMouseDown={this.onSelectOption.bind(this, option.id)}>\n            <span className=\"single-select\">\n              <span className=\"single-select-name\" \n                style={{backgroundColor: option.color, color: option.textColor || null, maxWidth: this.clientWidth - 16 - 10 - 20 - 10}}\n              >\n                {option.name}\n              </span>\n            </span>\n            {value === option.id && \n              <span className='single-select-check-icon'><i className=\"dtable-font dtable-icon-check-mark\"></i></span>\n            }\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const { column, value, isReadOnly } = this.props;\n    const { searchVal } = this.state;\n    const filteredOptions = this.getFilteredOptions();\n    const isShowCreateBtn = searchVal ? filteredOptions.findIndex(option => option.name === searchVal) === -1 : false;\n    let selectedOption = column.data && column.data.options.find(option => option.id === value);\n    let textColor = selectedOption ? selectedOption.textColor : null;\n    return (\n      <div className=\"row-expand-view single-select-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={column.name}\n          onLeftClick={this.props.closeEditor}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"select-options-body\" style={{ maxHeight: this.clientHeight - 50 }}>\n          <div className=\"current-cell-value-container\">\n            <div className=\"view-subtitle\">\n              <span>{gettext('Current option')}</span>\n            </div>\n            <div className=\"current-cell-value\">\n              {selectedOption ?\n                <div className=\"current-option-container\" style={{ backgroundColor: selectedOption.color }}>\n                  <span className=\"current-option-name\" style={{ color: textColor}}>{selectedOption.name}</span>\n                  {!isReadOnly && \n                    <div className=\"remove-container\" onClick={this.onRemoveOption}>\n                      <i className=\"remove-option dtable-font dtable-icon-fork-number\" style={{ color: textColor === '#FFFFFF' ? textColor : null }}></i>\n                    </div>\n                  }\n                </div>\n                :\n                <span className=\"empty-placeholder\">{gettext('No option')}</span>\n              }\n            </div>\n          </div>\n          <div className=\"view-partition\"></div>\n          <div className=\"single-selects-editor-list\">\n            <div className=\"search-single-selects\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder={gettext('Find an option')}\n                value={searchVal}\n                onChange={this.onChangeSearch}\n                onClick={(e) => {e.stopPropagation();}}\n              />\n            </div>\n            <div className=\"view-subtitle\">\n              <span>{!isShowCreateBtn && gettext('Choose an option')}</span>\n            </div>\n            <div className=\"single-selects-container\">\n              {this.renderMenuContent(filteredOptions)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSingleSelectView.propTypes = propTypes;\n\nexport default SingleSelectView;","export const ROW_EXPAND_VIEW = 100;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SelectEditorOption from '../cell-editor-widgets/select-editor-option';\nimport SelectEditorPopover from '../cell-editor-widgets/select-editor-popover';\nimport MediaQuery from 'react-responsive';\nimport SingleSelectView from '../cell-viewer-mobile/single-select-view';\nimport { gettext } from '../../../utils/constants';\n\nimport '../css/select-editor.css';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.string,\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst POPOVER_MAX_HEIGHT = 200;\n\nclass SingleSelectEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: ''\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: null,\n      isPopoverShow: false,\n    };\n    this.isEditorMounted = false;\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    this.isEditorMounted = true;\n    this.setState({newValue: value});\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  onDocumentToggle = (e) => {\n    if (this.MobileMask && this.MobileMask.contains(e.target)) {\n      return;\n    }\n    this.setState({isPopoverShow: false});\n  }\n\n  formatOption = () => {\n    let { column } = this.props;\n    let newValue = this.state.newValue;\n    if (!newValue) {\n      return null;\n    }\n\n    let options = (column && column.data && column.data.options) || [];\n    let option = options.find(option => option.id === newValue);\n    return option;\n  }\n\n  onAddOptionToggle = (event) => {\n    if (event) {\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    }\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isPopoverShow: !this.state.isPopoverShow});\n  }\n\n  onCommit = (newValue) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = newValue;\n    this.props.onCommit(updated, column);\n  }\n\n  onOptionItemToggle = (option) => {\n    let { newValue } = this.state;\n\n    if (newValue === option.id) {\n      return;\n    }\n\n    this.setState({newValue: option.id}, () => {\n      this.onCommit(option.id);\n    });\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  caculatePopoverPosition = () => {\n    let innerHeight = window.innerHeight;\n    let { top, left, height } = this.editor.getClientRects()[0];\n    let isBelow = (innerHeight - (top + height)) > POPOVER_MAX_HEIGHT;\n    let position = { top : (top + height + 1), left: left};\n    if (!isBelow) {\n      let bottom = innerHeight - top;\n      position = { bottom: bottom, left: left };\n    }\n    return position;\n  }\n\n  getPopoverStyle = () => {\n    let defaultPosition = { \n      position: 'absolute',\n    };\n    let position = this.caculatePopoverPosition();\n    return Object.assign({}, {...defaultPosition}, {...position});\n  }\n\n  render() {\n    let { column, isReadOnly } = this.props;\n    let option = this.formatOption();\n    let options = column.data && (column.data.options || []);\n    let selectedOptions = option ? [option] : [];\n    let popoverStyle = null;\n    let { isPopoverShow } = this.state;\n    if (this.isEditorMounted && isPopoverShow) { // after component mounted;\n      popoverStyle = this.getPopoverStyle();\n    }\n    return (\n      <div className=\"cell-editor grid-cell-type-single-select\">\n        <div ref={this.setEditorRef} className=\"select-editor-container\" onClick={this.onAddOptionToggle}>\n          {option && <SelectEditorOption option={option} />}\n        </div>\n        {!option && <div className=\"select-editor-add\" onClick={this.onAddOptionToggle}>{gettext('Add an option')}</div>}\n        <MediaQuery query=\"(min-width: 768px)\">\n          {isPopoverShow &&\n            <SelectEditorPopover \n              popoverStyle={popoverStyle}\n              options={options}\n              selectedOptions={selectedOptions}\n              onAddNewOption={this.onAddNewOption}\n              onOptionItemToggle={this.onOptionItemToggle}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {isPopoverShow &&\n            <div className=\"cell-viewer-mobile-mask\" ref={ref => this.MobileMask = ref}>\n              <SingleSelectView\n                column={this.props.column}\n                value={this.state.newValue}\n                onCommit={this.onOptionItemToggle}\n                closeEditor={this.onAddOptionToggle}\n                isReadOnly={isReadOnly}\n              />\n            </div>\n          }\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nSingleSelectEditor.propTypes = propTypes;\n\nexport default SingleSelectEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as zIndexes from '../utils/zIndexes';\nimport { gettext } from '../../../utils/constants';\nimport MobileCommonHeader from './mobile-common-header';\n\nconst propTypes = {\n  column: PropTypes.object,\n  value: PropTypes.array,\n  onCommit: PropTypes.func,\n  closeEditor: PropTypes.func,\n  isReadOnly: PropTypes.bool,\n};\n\nclass MultipSelectView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value || [],\n      searchVal: '',\n      options: (props.column && props.column.data) ? props.column.data.options : [],\n    };\n    this.clientHeight = document.body.clientHeight;\n    this.clientWidth = document.body.clientWidth;\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false); \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  onChangeSearch = (event) => {\n    let { searchVal } = this.state;\n    if (searchVal === event.target.value) {\n      return;\n    }\n    this.setState({ searchVal: event.target.value });\n  }\n\n  onSelectOption = (optionID) => {\n    let { value } = this.state;\n    let optionIdx = value.indexOf(optionID);\n    let updatedValue = value.slice(0);\n    if (optionIdx > -1) {\n      updatedValue.splice(optionIdx, 1);\n    } else {\n      updatedValue.push(optionID);\n    }\n    this.setState({ value: updatedValue }, () => {\n      this.props.onCommit(this.state.value);\n    });\n  }\n\n  getFilteredOptions = () => {\n    let { searchVal, options } = this.state;\n    if (searchVal) {\n      return options.filter((item) => item.name.indexOf(searchVal) > -1);\n    } else {\n      return options;\n    } \n  }\n\n  onRemoveOption = (optionIdx) => {\n    let { value } = this.state;\n    let updatedValue = value.slice(0);\n    updatedValue.splice(optionIdx, 1);\n    this.setState({ value: updatedValue }, () => {\n      this.props.onCommit(this.state.value);\n    });\n  }\n\n  getMultipleSelectList = () => {\n    const { value } = this.state;\n    const { column, isReadOnly } = this.props;\n    const options = column.data ? column.data.options : [];\n    let newValue = [];\n    if (Array.isArray(value)) { \n      value.forEach((v, optionIdx) => {\n        let option = options.find(option => option.id === v);\n        if (option) {\n          newValue.push(\n            <div className=\"multiple-select-item current-multiple-select-item\" key={'multiple_select_' + optionIdx}>\n              <div className=\"current-option-container\" style={{ backgroundColor: option.color }} title={option.name}>\n                <span className=\"current-option-name\" style={{ color: option.textColor || null }}>{option.name}</span>\n                {!isReadOnly && \n                  <div className=\"remove-container\" onClick={this.onRemoveOption.bind(this, optionIdx)}>\n                    <i className=\"remove-option dtable-font dtable-icon-fork-number\" style={{ color: option.textColor === '#FFFFFF' ? option.textColor : null }}></i>\n                  </div>\n                }\n              </div>\n            </div>\n          );\n        }\n      });\n    }\n    return newValue;\n  }\n\n  renderMenuContent = (filteredOptions) => {\n    let { value } = this.state;\n    if (filteredOptions.length === 0) {\n      return (<span className=\"none-search-result\">{gettext('No options available.')}</span>);\n    }\n    // this.clientWidth - 16 - 10 - 20 - 10: \n    // clientWidth - select-options-body's paddingLeft - single-select-container's paddingRight - check-icon's width - gaps\n    return filteredOptions.map((option, i) => {\n      const isSelected = value.find((item) => item === option.id);\n      return (\n        <div key={i} className=\"dropdown-item multiple-select-item\">\n          <div className=\"multiple-select-container\" onMouseDown={this.onSelectOption.bind(this, option.id)}>\n            <div className=\"multiple-select\">\n              <span className=\"multiple-select-name\" \n                style={{backgroundColor: option.color, color: option.textColor || null, maxWidth: this.clientWidth - 16 - 10 - 20 - 10}}\n              >\n                {option.name}\n              </span>\n            </div>\n            <div className='multiple-select-check-icon'>\n              {isSelected && <i className=\"dtable-font dtable-icon-check-mark\"></i>}\n            </div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    let { column } = this.props;\n    let { searchVal } = this.state;\n    let filteredOptions = this.getFilteredOptions();\n    let isShowCreateBtn = false;\n    if (this.state.searchVal) {\n      isShowCreateBtn = filteredOptions.findIndex(option => option.name === searchVal) === -1 ? true : false;\n    }\n    let value = this.getMultipleSelectList();\n    return (\n      <div className=\"row-expand-view multiple-select-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={column.name}\n          onLeftClick={this.props.closeEditor}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"select-options-body\" style={{ maxHeight: this.clientHeight - 50 }}>\n          <div className=\"current-cell-value-container\">\n            <div className=\"view-subtitle\">\n              <span>{gettext('Current option')}</span>\n            </div>\n            <div className=\"current-cell-value\" style={value.length  === 0 ? {height: 50} : {}}>\n              {value.length > 0 ?\n                value\n                :\n                <span className=\"empty-placeholder\">{gettext('No option')}</span>\n              }\n            </div>\n          </div>\n          <div className=\"view-partition\"></div>\n          <div className=\"multiple-selects-editor-list\">\n            <div className=\"search-multiple-selects\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder={gettext('Find an option')}\n                value={this.state.searchVal}\n                onChange={this.onChangeSearch}\n                onClick={(e) => {e.stopPropagation();}}\n              />\n            </div>\n            <div className=\"view-subtitle\">\n              <span>{!isShowCreateBtn && gettext('Choose options')}</span>\n            </div>\n            <div className=\"multiple-selects-container\">\n              {this.renderMenuContent(filteredOptions)}\n            </div> \n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMultipSelectView.propTypes = propTypes;\n\nexport default MultipSelectView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SelectEditorOption from '../cell-editor-widgets/select-editor-option';\nimport SelectEditorPopover from '../cell-editor-widgets/select-editor-popover';\nimport MediaQuery from 'react-responsive';\nimport MultipSelectView from '../cell-viewer-mobile/multi-select-view';\nimport { gettext } from '../../../utils/constants';\n\nimport '../css/select-editor.css';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst POPOVER_MAX_HEIGHT = 200;\n\nclass MutipleSelectEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: []\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: null,\n      isPopoverShow: false\n    };\n\n    this.isEditorMounted = false;\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    this.isEditorMounted = true;\n    this.setState({newValue: value});\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  onDocumentToggle = (e) => {\n    if (this.MobileMask && this.MobileMask.contains(e.target)) {\n      return;\n    }\n    this.setState({isPopoverShow: false});\n  }\n\n  onAddOptionToggle = (event) => {\n    if (event) {\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    }\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isPopoverShow: !this.state.isPopoverShow});\n  }\n\n  onCommit = (newValue) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = newValue;\n    this.props.onCommit(updated, column);\n  }\n\n  onDeleteSelectOption = (option) => {\n    let { newValue : currentValue } = this.state;\n    let newValue = currentValue.filter(item => item !== option.id);\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n  }\n\n  onAddNewOption = (name) => {\n    // need todo\n  }\n\n  onOptionItemToggle = (option) => {\n    let { newValue } = this.state;\n\n    let option_index = newValue.indexOf(option.id);\n    if (option_index > -1) {\n      newValue.splice(option_index, 1);\n    } else {\n      newValue.push(option.id);\n    }\n\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n\n  }\n\n  formatOptions = () => {\n    let { newValue } = this.state;\n    let { column } = this.props;\n    let options = (column && column.data && column.data.options) || [];\n\n    if (!newValue || !newValue.length === 0) {\n      return [];\n    } \n\n    let selectedOptions = options.filter(option => {\n      return newValue.indexOf(option.id) > -1;\n    });\n\n    return selectedOptions;\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  caculatePopoverPosition = () => {\n    let innerHeight = window.innerHeight;\n    let { top, left, height } = this.editor.getClientRects()[0];\n    let isBelow = (innerHeight - (top + height)) > POPOVER_MAX_HEIGHT;\n    let position = { top : (top + height + 1), left: left};\n    if (!isBelow) {\n      let bottom = innerHeight - top;\n      position = { bottom: bottom, left: left };\n    }\n    return position;\n  }\n\n  getPopoverStyle = () => {\n    let defaultPosition = { \n      position: 'absolute',\n    };\n    let position = this.caculatePopoverPosition();\n    return Object.assign({}, {...defaultPosition}, {...position});\n  }\n\n  updateValue = (newValue) => {\n    this.setState({ newValue }, () => {\n      this.onCommit(newValue);\n    });\n  }\n\n  render() {\n    let { column, isReadOnly } = this.props;\n    let selectedOptions = this.formatOptions();\n    let options = column.data && (column.data.options || []);\n    let popoverStyle = null;\n    let { isPopoverShow } = this.state;\n    if (this.isEditorMounted && isPopoverShow) { // after component mounted;\n      popoverStyle = this.getPopoverStyle();\n    }\n    return (\n      <div className=\"cell-editor grid-cell-type-single-select\">\n        <div ref={this.setEditorRef} className=\"select-editor-container\" onClick={this.onAddOptionToggle}>\n          {selectedOptions.length > 0 && selectedOptions.map((option) => {\n            return (\n              <SelectEditorOption \n                key={option.id}\n                option={option} \n                isShowRemoveIcon={true} \n                onDeleteSelectOption={this.onDeleteSelectOption.bind(this, option)}\n              /> \n            );\n          })}\n        </div>\n        {selectedOptions.length === 0 &&\n          <div className=\"select-editor-add\" onClick={this.onAddOptionToggle}>{gettext('Add an option')}</div>\n        }\n        <MediaQuery query=\"(min-width: 768px)\">\n          {isPopoverShow &&\n            <SelectEditorPopover \n              popoverStyle={popoverStyle}\n              options={options}\n              selectedOptions={selectedOptions}\n              onAddNewOption={this.onAddNewOption}\n              onOptionItemToggle={this.onOptionItemToggle}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {isPopoverShow &&\n            <div className=\"cell-viewer-mobile-mask\" ref={ref => this.MobileMask = ref}>\n              <MultipSelectView\n                column={this.props.column}\n                value={this.state.newValue}\n                onCommit={this.updateValue}\n                closeEditor={this.onAddOptionToggle}\n                isReadOnly={isReadOnly}\n              />\n            </div>\n          }\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nMutipleSelectEditor.propTypes = propTypes;\n\nexport default MutipleSelectEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { processor } from '@seafile/seafile-editor/dist/utils/seafile-markdown2html';\nimport Loading from '../../../components/loading';\n\nconst propTypes = {\n  newValue: PropTypes.object,\n  onContentClick: PropTypes.func.isRequired,\n};\n\nclass LongTextEditorPreviewAll extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      innerHtml: null,\n      isFormatValue: true,\n    };\n  }\n\n  componentDidMount() {\n    let newValue = this.props.newValue;\n    let mdFile = newValue ? newValue.text : '';\n    if (mdFile) {\n      this.formatterLongTextValue(mdFile);\n    } else {\n      this.setState({\n        isFormatValue: false,\n        innerHtml: ''\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let mdFile = nextProps.newValue.text;\n    this.formatterLongTextValue(mdFile);\n  }\n\n  formatterLongTextValue = (mdFile) => {\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({\n        isFormatValue: false,\n        innerHtml: innerHtml\n      });\n    });\n  }\n\n  render() {\n    if (this.state.isFormatValue) {\n      return <Loading />;\n    }\n\n    return (\n      <div className=\"long-text-editor-container article\" onClick={this.props.onContentClick}>\n        <div dangerouslySetInnerHTML={{__html: this.state.innerHtml}}></div>\n      </div>\n    );\n  }\n\n}\n\nLongTextEditorPreviewAll.propTypes = propTypes;\n\nexport default LongTextEditorPreviewAll;\n","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTranslation } from 'react-i18next';\n\nvar HeaderList =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(HeaderList, _React$PureComponent);\n\n  function HeaderList(props) {\n    var _this;\n\n    _classCallCheck(this, HeaderList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HeaderList).call(this, props));\n\n    _this.handleClick = function (event) {\n      if (_this.props.disabled) return;\n\n      var container = _this.getContainer();\n\n      if (container.contains(event.target)) {\n        _this.toggle();\n      } else {\n        if (_this.state.dropdownOpen) {\n          _this.setState({\n            dropdownOpen: !_this.state.dropdownOpen\n          });\n        }\n      }\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        dropdownOpen: !_this.state.dropdownOpen\n      });\n    };\n\n    _this.state = {\n      dropdownOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(HeaderList, [{\n    key: \"getContainer\",\n    value: function getContainer() {\n      return ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      /*\n      *  here need to use click event in DropdownItem instead of onMouseDown, reactStrap listen click, keyUp, to trigger toggle function,\n      *  if we listen mouseDown event the tool bar will render,the position of the component will change\n      *  and then the click event of this component will not be triggered\n      * */\n\n\n      return React.createElement(\"div\", {\n        className: 'header-list'\n      }, React.createElement(\"div\", {\n        className: 'list-body ' + (this.props.disabled ? '' : 'header-list-body-hover') + (this.state.dropdownOpen ? ' header-list-body-highlight' : '')\n      }, React.createElement(\"div\", {\n        className: 'list-title'\n      }, this.props.t(this.props.headerType)), React.createElement(\"div\", {\n        className: 'list-caret'\n      }, React.createElement(\"i\", {\n        className: this.state.dropdownOpen ? 'fa fa-caret-up' : 'fa fa-caret-down'\n      }))), this.state.dropdownOpen && React.createElement(\"div\", {\n        className: 'list-dropdown'\n      }, React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'paragraph');\n        }\n      }, this.props.t('paragraph')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_one');\n        }\n      }, this.props.t('header_one')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_two');\n        }\n      }, this.props.t('header_two')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_three');\n        }\n      }, this.props.t('header_three')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_four');\n        }\n      }, this.props.t('header_four')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_five');\n        }\n      }, this.props.t('header_five')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_six');\n        }\n      }, this.props.t('header_six'))));\n    }\n  }]);\n\n  return HeaderList;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(HeaderList);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\n\nvar ButtonGroup =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ButtonGroup, _React$PureComponent);\n\n  function ButtonGroup() {\n    _classCallCheck(this, ButtonGroup);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ButtonGroup).apply(this, arguments));\n  }\n\n  _createClass(ButtonGroup, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: 'btn-group ' + this.props.className,\n        role: 'group'\n      }, this.props.children);\n    }\n  }]);\n\n  return ButtonGroup;\n}(React.PureComponent);\n\nexport default ButtonGroup;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport isFunction from 'lodash.isfunction';\nimport isobject from 'lodash.isobject';\nimport ReactDOM from 'react-dom';\nimport { Arrow, Manager, Popper, Target } from 'react-popper';\nimport toNumber from 'lodash.tonumber'; // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L436-L443\n\nfunction getScrollbarWidth() {\n  var scrollDiv = document.createElement('div'); // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\n\nfunction setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? padding + 'px' : null;\n}\n\nfunction isBodyOverflowing() {\n  return document.body.clientWidth < window.innerWidth;\n}\n\nfunction getOriginalBodyPadding() {\n  var style = window.getComputedStyle(document.body, null);\n  return parseInt(style && style.getPropertyValue('padding-right') || 0, 10);\n}\n\nfunction conditionallyUpdateScrollbar() {\n  var scrollbarWidth = getScrollbarWidth(); // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n\n  var fixedContent = document.querySelectorAll('.fixed-top, .fixed-bottom, .is-fixed, .sticky-top')[0];\n  var bodyPadding = fixedContent ? parseInt(fixedContent.style.paddingRight || 0, 10) : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\n\nvar globalCssModule = void 0;\n\nfunction setGlobalCssModule(cssModule) {\n  globalCssModule = cssModule;\n}\n\nfunction mapToCssModules() {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var cssModule = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : globalCssModule;\n  if (!cssModule) return className;\n  return className.split(' ').map(function (c) {\n    return cssModule[c] || c;\n  }).join(' ');\n}\n/**\n * Returns a new object with the key/value pairs from `obj` that are not in the array `omitKeys`.\n */\n\n\nfunction omit(obj, omitKeys) {\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    if (omitKeys.indexOf(key) === -1) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n/**\n * Returns a filtered copy of an object with only the specified keys.\n */\n\n\nfunction pick(obj, keys) {\n  var pickKeys = Array.isArray(keys) ? keys : [keys];\n  var length = pickKeys.length;\n  var key = void 0;\n  var result = {};\n\n  while (length > 0) {\n    length -= 1;\n    key = pickKeys[length];\n    result[key] = obj[key];\n  }\n\n  return result;\n}\n\nvar warned = {};\n\nfunction warnOnce(message) {\n  if (!warned[message]) {\n    /* istanbul ignore else */\n    if (typeof console !== 'undefined') {\n      console.error(message); // eslint-disable-line no-console\n    }\n\n    warned[message] = true;\n  }\n}\n\nfunction deprecated(propType, explanation) {\n  return function validate(props, propName, componentName) {\n    if (props[propName] !== null && typeof props[propName] !== 'undefined') {\n      warnOnce('\"' + propName + '\" property of \"' + componentName + '\" has been deprecated.\\n' + explanation);\n    }\n\n    for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      rest[_key - 3] = arguments[_key];\n    }\n\n    return propType.apply(undefined, [props, propName, componentName].concat(rest));\n  };\n}\n\nfunction DOMElement(props, propName, componentName) {\n  if (!(props[propName] instanceof Element)) {\n    return new Error('Invalid prop `' + propName + '` supplied to `' + componentName + '`. Expected prop to be an instance of Element. Validation failed.');\n  }\n}\n\nfunction getTarget(target) {\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (typeof target === 'string' && document) {\n    var selection = document.querySelector(target);\n\n    if (selection === null) {\n      selection = document.querySelector('#' + target);\n    }\n\n    if (selection === null) {\n      throw new Error('The target \\'' + target + '\\' could not be identified in the dom, tip: check spelling');\n    }\n\n    return selection;\n  }\n\n  return target;\n}\n/* eslint key-spacing: [\"error\", { afterColon: true, align: \"value\" }] */\n// These are all setup to match what is in the bootstrap _variables.scss\n// https://github.com/twbs/bootstrap/blob/v4-dev/scss/_variables.scss\n\n\nvar TransitionTimeouts = {\n  Fade: 150,\n  // $transition-fade\n  Collapse: 350,\n  // $transition-collapse\n  Modal: 300,\n  // $modal-transition\n  Carousel: 600 // $carousel-transition\n\n}; // Duplicated Transition.propType keys to ensure that Reactstrap builds\n// for distribution properly exclude these keys for nested child HTML attributes\n// since `react-transition-group` removes propTypes in production builds.\n\nvar TransitionPropTypeKeys = ['in', 'mountOnEnter', 'unmountOnExit', 'appear', 'enter', 'exit', 'timeout', 'onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'];\nvar TransitionStatuses = {\n  ENTERING: 'entering',\n  ENTERED: 'entered',\n  EXITING: 'exiting',\n  EXITED: 'exited'\n};\nvar keyCodes = {\n  esc: 27,\n  space: 32,\n  tab: 9,\n  up: 38,\n  down: 40\n};\nvar PopperPlacements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar utils = Object.freeze({\n  getScrollbarWidth: getScrollbarWidth,\n  setScrollbarWidth: setScrollbarWidth,\n  isBodyOverflowing: isBodyOverflowing,\n  getOriginalBodyPadding: getOriginalBodyPadding,\n  conditionallyUpdateScrollbar: conditionallyUpdateScrollbar,\n  setGlobalCssModule: setGlobalCssModule,\n  mapToCssModules: mapToCssModules,\n  omit: omit,\n  pick: pick,\n  warnOnce: warnOnce,\n  deprecated: deprecated,\n  DOMElement: DOMElement,\n  getTarget: getTarget,\n  TransitionTimeouts: TransitionTimeouts,\n  TransitionPropTypeKeys: TransitionPropTypeKeys,\n  TransitionStatuses: TransitionStatuses,\n  keyCodes: keyCodes,\n  PopperPlacements: PopperPlacements,\n  canUseDOM: canUseDOM\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar propTypes = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Container = function Container(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      fluid = props.fluid,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'fluid', 'tag']);\n  var classes = mapToCssModules(classNames(className, fluid ? 'container-fluid' : 'container'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nContainer.propTypes = propTypes;\nContainer.defaultProps = defaultProps;\nvar propTypes$1 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$1 = {\n  tag: 'div'\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'noGutters', 'tag']);\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, 'row'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes$1;\nRow.defaultProps = defaultProps$1;\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  push: deprecated(stringOrNumberProp, 'Please use the prop \"order\"'),\n  pull: deprecated(stringOrNumberProp, 'Please use the prop \"order\"'),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes$2 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps$2 = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : 'col-' + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : 'col-' + colWidth + '-auto';\n  }\n\n  return isXs ? 'col-' + colSize : 'col-' + colWidth + '-' + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'widths', 'tag']);\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isobject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : '-' + colWidth + '-';\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, defineProperty(_classNames, colClass, columnProp.size || columnProp.size === ''), defineProperty(_classNames, 'order' + colSizeInterfix + columnProp.order, columnProp.order || columnProp.order === 0), defineProperty(_classNames, 'offset' + colSizeInterfix + columnProp.offset, columnProp.offset || columnProp.offset === 0), _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes$2;\nCol.defaultProps = defaultProps$2;\nvar propTypes$3 = {\n  light: PropTypes.bool,\n  dark: PropTypes.bool,\n  inverse: deprecated(PropTypes.bool, 'Please use the prop \"dark\"'),\n  full: PropTypes.bool,\n  fixed: PropTypes.string,\n  sticky: PropTypes.string,\n  color: PropTypes.string,\n  role: PropTypes.string,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggleable: deprecated(PropTypes.oneOfType([PropTypes.bool, PropTypes.string]), 'Please use the prop \"expand\"'),\n  expand: PropTypes.oneOfType([PropTypes.bool, PropTypes.string])\n};\nvar defaultProps$3 = {\n  tag: 'nav',\n  expand: false\n};\n\nvar getExpandClass = function getExpandClass(expand) {\n  if (expand === false) {\n    return false;\n  } else if (expand === true || expand === 'xs') {\n    return 'navbar-expand';\n  }\n\n  return 'navbar-expand-' + expand;\n}; // To better maintain backwards compatibility while toggleable is deprecated.\n// We must map breakpoints to the next breakpoint so that toggleable and expand do the same things at the same breakpoint.\n\n\nvar toggleableToExpand = {\n  xs: 'sm',\n  sm: 'md',\n  md: 'lg',\n  lg: 'xl'\n};\n\nvar getToggleableClass = function getToggleableClass(toggleable) {\n  if (toggleable === undefined || toggleable === 'xl') {\n    return false;\n  } else if (toggleable === false) {\n    return 'navbar-expand';\n  }\n\n  return 'navbar-expand-' + (toggleable === true ? 'sm' : toggleableToExpand[toggleable] || toggleable);\n};\n\nvar Navbar = function Navbar(props) {\n  var _classNames;\n\n  var toggleable = props.toggleable,\n      expand = props.expand,\n      className = props.className,\n      cssModule = props.cssModule,\n      light = props.light,\n      dark = props.dark,\n      inverse = props.inverse,\n      fixed = props.fixed,\n      sticky = props.sticky,\n      color = props.color,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['toggleable', 'expand', 'className', 'cssModule', 'light', 'dark', 'inverse', 'fixed', 'sticky', 'color', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'navbar', getExpandClass(expand) || getToggleableClass(toggleable), (_classNames = {\n    'navbar-light': light,\n    'navbar-dark': inverse || dark\n  }, defineProperty(_classNames, 'bg-' + color, color), defineProperty(_classNames, 'fixed-' + fixed, fixed), defineProperty(_classNames, 'sticky-' + sticky, sticky), _classNames)), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNavbar.propTypes = propTypes$3;\nNavbar.defaultProps = defaultProps$3;\nvar propTypes$4 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$4 = {\n  tag: 'a'\n};\n\nvar NavbarBrand = function NavbarBrand(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'navbar-brand'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNavbarBrand.propTypes = propTypes$4;\nNavbarBrand.defaultProps = defaultProps$4;\nvar propTypes$5 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  type: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node\n};\nvar defaultProps$5 = {\n  tag: 'button',\n  type: 'button'\n};\n\nvar NavbarToggler = function NavbarToggler(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'children', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'navbar-toggler'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }), children || React.createElement('span', {\n    className: mapToCssModules('navbar-toggler-icon', cssModule)\n  }));\n};\n\nNavbarToggler.propTypes = propTypes$5;\nNavbarToggler.defaultProps = defaultProps$5;\nvar propTypes$6 = {\n  tabs: PropTypes.bool,\n  pills: PropTypes.bool,\n  vertical: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  horizontal: PropTypes.string,\n  justified: PropTypes.bool,\n  fill: PropTypes.bool,\n  navbar: PropTypes.bool,\n  card: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$6 = {\n  tag: 'ul',\n  vertical: false\n};\n\nvar getVerticalClass = function getVerticalClass(vertical) {\n  if (vertical === false) {\n    return false;\n  } else if (vertical === true || vertical === 'xs') {\n    return 'flex-column';\n  }\n\n  return 'flex-' + vertical + '-column';\n};\n\nvar Nav = function Nav(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      tabs = props.tabs,\n      pills = props.pills,\n      vertical = props.vertical,\n      horizontal = props.horizontal,\n      justified = props.justified,\n      fill = props.fill,\n      navbar = props.navbar,\n      card = props.card,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tabs', 'pills', 'vertical', 'horizontal', 'justified', 'fill', 'navbar', 'card', 'tag']);\n  var classes = mapToCssModules(classNames(className, navbar ? 'navbar-nav' : 'nav', horizontal ? 'justify-content-' + horizontal : false, getVerticalClass(vertical), {\n    'nav-tabs': tabs,\n    'card-header-tabs': card && tabs,\n    'nav-pills': pills,\n    'card-header-pills': card && pills,\n    'nav-justified': justified,\n    'nav-fill': fill\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNav.propTypes = propTypes$6;\nNav.defaultProps = defaultProps$6;\nvar propTypes$7 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$7 = {\n  tag: 'li'\n};\n\nvar NavItem = function NavItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      active = props.active,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'active', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'nav-item', active ? 'active' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNavItem.propTypes = propTypes$7;\nNavItem.defaultProps = defaultProps$7;\n/* eslint react/no-find-dom-node: 0 */\n// https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-find-dom-node.md\n\nvar propTypes$8 = {\n  disabled: PropTypes.bool,\n  dropup: deprecated(PropTypes.bool, 'Please use the prop \"direction\" with the value \"up\".'),\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']),\n  group: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  nav: PropTypes.bool,\n  active: PropTypes.bool,\n  addonType: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['prepend', 'append'])]),\n  size: PropTypes.string,\n  tag: PropTypes.string,\n  toggle: PropTypes.func,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  inNavbar: PropTypes.bool\n};\nvar defaultProps$8 = {\n  isOpen: false,\n  direction: 'down',\n  nav: false,\n  active: false,\n  addonType: false,\n  inNavbar: false\n};\nvar childContextTypes = {\n  toggle: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']).isRequired,\n  inNavbar: PropTypes.bool.isRequired\n};\n\nvar Dropdown = function (_React$Component) {\n  inherits(Dropdown, _React$Component);\n\n  function Dropdown(props) {\n    classCallCheck(this, Dropdown);\n\n    var _this = possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, props));\n\n    _this.addEvents = _this.addEvents.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.removeEvents = _this.removeEvents.bind(_this);\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(Dropdown, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        toggle: this.props.toggle,\n        isOpen: this.props.isOpen,\n        direction: this.props.direction === 'down' && this.props.dropup ? 'up' : this.props.direction,\n        inNavbar: this.props.inNavbar\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.handleProps();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.isOpen !== prevProps.isOpen) {\n        this.handleProps();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeEvents();\n    }\n  }, {\n    key: 'getContainer',\n    value: function getContainer() {\n      return ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: 'addEvents',\n    value: function addEvents() {\n      var _this2 = this;\n\n      ['click', 'touchstart', 'keyup'].forEach(function (event) {\n        return document.addEventListener(event, _this2.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'removeEvents',\n    value: function removeEvents() {\n      var _this3 = this;\n\n      ['click', 'touchstart', 'keyup'].forEach(function (event) {\n        return document.removeEventListener(event, _this3.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(e) {\n      if (e && (e.which === 3 || e.type === 'keyup' && e.which !== keyCodes.tab)) return;\n      var container = this.getContainer();\n\n      if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === keyCodes.tab)) {\n        return;\n      }\n\n      this.toggle(e);\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      if ([keyCodes.esc, keyCodes.up, keyCodes.down, keyCodes.space].indexOf(e.which) === -1 || /button/i.test(e.target.tagName) && e.which === keyCodes.space || /input|textarea/i.test(e.target.tagName)) {\n        return;\n      }\n\n      e.preventDefault();\n      if (this.props.disabled) return;\n      var container = this.getContainer();\n\n      if (e.which === keyCodes.space && this.props.isOpen && container !== e.target) {\n        e.target.click();\n      }\n\n      if (e.which === keyCodes.esc || !this.props.isOpen) {\n        this.toggle(e);\n        container.querySelector('[aria-expanded]').focus();\n        return;\n      }\n\n      var menuClass = mapToCssModules('dropdown-menu', this.props.cssModule);\n      var itemClass = mapToCssModules('dropdown-item', this.props.cssModule);\n      var disabledClass = mapToCssModules('disabled', this.props.cssModule);\n      var items = container.querySelectorAll('.' + menuClass + ' .' + itemClass + ':not(.' + disabledClass + ')');\n      if (!items.length) return;\n      var index = -1;\n\n      for (var i = 0; i < items.length; i += 1) {\n        if (items[i] === e.target) {\n          index = i;\n          break;\n        }\n      }\n\n      if (e.which === keyCodes.up && index > 0) {\n        index -= 1;\n      }\n\n      if (e.which === keyCodes.down && index < items.length - 1) {\n        index += 1;\n      }\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      items[index].focus();\n    }\n  }, {\n    key: 'handleProps',\n    value: function handleProps() {\n      if (this.props.isOpen) {\n        this.addEvents();\n      } else {\n        this.removeEvents();\n      }\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(e) {\n      if (this.props.disabled) {\n        return e && e.preventDefault();\n      }\n\n      return this.props.toggle(e);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _omit = omit(this.props, ['toggle', 'disabled', 'inNavbar', 'direction']),\n          className = _omit.className,\n          cssModule = _omit.cssModule,\n          dropup = _omit.dropup,\n          isOpen = _omit.isOpen,\n          group = _omit.group,\n          size = _omit.size,\n          nav = _omit.nav,\n          active = _omit.active,\n          addonType = _omit.addonType,\n          attrs = objectWithoutProperties(_omit, ['className', 'cssModule', 'dropup', 'isOpen', 'group', 'size', 'nav', 'active', 'addonType']);\n\n      var direction = this.props.direction === 'down' && dropup ? 'up' : this.props.direction;\n      attrs.tag = attrs.tag || (nav ? 'li' : 'div');\n      var classes = mapToCssModules(classNames(className, direction !== 'down' && 'drop' + direction, nav && active ? 'active' : false, (_classNames = {}, defineProperty(_classNames, 'input-group-' + addonType, addonType), defineProperty(_classNames, 'btn-group', group), defineProperty(_classNames, 'btn-group-' + size, !!size), defineProperty(_classNames, 'dropdown', !group && !addonType), defineProperty(_classNames, 'show', isOpen), defineProperty(_classNames, 'nav-item', nav), _classNames)), cssModule);\n      return React.createElement(Manager, _extends({}, attrs, {\n        className: classes,\n        onKeyDown: this.handleKeyDown\n      }));\n    }\n  }]);\n  return Dropdown;\n}(React.Component);\n\nDropdown.propTypes = propTypes$8;\nDropdown.defaultProps = defaultProps$8;\nDropdown.childContextTypes = childContextTypes;\n\nfunction NavDropdown(props) {\n  warnOnce('The \"NavDropdown\" component has been deprecated.\\nPlease use component \"Dropdown\" with nav prop.');\n  return React.createElement(Dropdown, _extends({\n    nav: true\n  }, props));\n}\n\nvar propTypes$9 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  disabled: PropTypes.bool,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  onClick: PropTypes.func,\n  href: PropTypes.any\n};\nvar defaultProps$9 = {\n  tag: 'a'\n};\n\nvar NavLink = function (_React$Component) {\n  inherits(NavLink, _React$Component);\n\n  function NavLink(props) {\n    classCallCheck(this, NavLink);\n\n    var _this = possibleConstructorReturn(this, (NavLink.__proto__ || Object.getPrototypeOf(NavLink)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  createClass(NavLink, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.href === '#') {\n        e.preventDefault();\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          active = _props.active,\n          Tag = _props.tag,\n          innerRef = _props.innerRef,\n          attributes = objectWithoutProperties(_props, ['className', 'cssModule', 'active', 'tag', 'innerRef']);\n      var classes = mapToCssModules(classNames(className, 'nav-link', {\n        disabled: attributes.disabled,\n        active: active\n      }), cssModule);\n      return React.createElement(Tag, _extends({}, attributes, {\n        ref: innerRef,\n        onClick: this.onClick,\n        className: classes\n      }));\n    }\n  }]);\n  return NavLink;\n}(React.Component);\n\nNavLink.propTypes = propTypes$9;\nNavLink.defaultProps = defaultProps$9;\nvar propTypes$10 = {\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$10 = {\n  tag: 'ol'\n};\n\nvar Breadcrumb = function Breadcrumb(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'breadcrumb'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nBreadcrumb.propTypes = propTypes$10;\nBreadcrumb.defaultProps = defaultProps$10;\nvar propTypes$11 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$11 = {\n  tag: 'li'\n};\n\nvar BreadcrumbItem = function BreadcrumbItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      active = props.active,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'active', 'tag']);\n  var classes = mapToCssModules(classNames(className, active ? 'active' : false, 'breadcrumb-item'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nBreadcrumbItem.propTypes = propTypes$11;\nBreadcrumbItem.defaultProps = defaultProps$11;\nvar propTypes$12 = {\n  active: PropTypes.bool,\n  block: PropTypes.bool,\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  outline: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  onClick: PropTypes.func,\n  size: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$12 = {\n  color: 'secondary',\n  tag: 'button'\n};\n\nvar Button = function (_React$Component) {\n  inherits(Button, _React$Component);\n\n  function Button(props) {\n    classCallCheck(this, Button);\n\n    var _this = possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  createClass(Button, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          active = _props.active,\n          block = _props.block,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          color = _props.color,\n          outline = _props.outline,\n          size = _props.size,\n          Tag = _props.tag,\n          innerRef = _props.innerRef,\n          attributes = objectWithoutProperties(_props, ['active', 'block', 'className', 'cssModule', 'color', 'outline', 'size', 'tag', 'innerRef']);\n      var classes = mapToCssModules(classNames(className, 'btn', 'btn' + (outline ? '-outline' : '') + '-' + color, size ? 'btn-' + size : false, block ? 'btn-block' : false, {\n        active: active,\n        disabled: this.props.disabled\n      }), cssModule);\n\n      if (attributes.href && Tag === 'button') {\n        Tag = 'a';\n      }\n\n      return React.createElement(Tag, _extends({\n        type: Tag === 'button' && attributes.onClick ? 'button' : undefined\n      }, attributes, {\n        className: classes,\n        ref: innerRef,\n        onClick: this.onClick\n      }));\n    }\n  }]);\n  return Button;\n}(React.Component);\n\nButton.propTypes = propTypes$12;\nButton.defaultProps = defaultProps$12;\nvar propTypes$13 = {\n  children: PropTypes.node\n};\n\nvar ButtonDropdown = function ButtonDropdown(props) {\n  return React.createElement(Dropdown, _extends({\n    group: true\n  }, props));\n};\n\nButtonDropdown.propTypes = propTypes$13;\nvar propTypes$14 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  'aria-label': PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  role: PropTypes.string,\n  size: PropTypes.string,\n  vertical: PropTypes.bool\n};\nvar defaultProps$13 = {\n  tag: 'div',\n  role: 'group'\n};\n\nvar ButtonGroup = function ButtonGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      vertical = props.vertical,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'size', 'vertical', 'tag']);\n  var classes = mapToCssModules(classNames(className, size ? 'btn-group-' + size : false, vertical ? 'btn-group-vertical' : 'btn-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nButtonGroup.propTypes = propTypes$14;\nButtonGroup.defaultProps = defaultProps$13;\nvar propTypes$15 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  'aria-label': PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  role: PropTypes.string\n};\nvar defaultProps$14 = {\n  tag: 'div',\n  role: 'toolbar'\n};\n\nvar ButtonToolbar = function ButtonToolbar(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'btn-toolbar'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nButtonToolbar.propTypes = propTypes$15;\nButtonToolbar.defaultProps = defaultProps$14;\nvar propTypes$16 = {\n  children: PropTypes.node,\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  header: PropTypes.bool,\n  onClick: PropTypes.func,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.bool\n};\nvar contextTypes = {\n  toggle: PropTypes.func\n};\nvar defaultProps$15 = {\n  tag: 'button',\n  toggle: true\n};\n\nvar DropdownItem = function (_React$Component) {\n  inherits(DropdownItem, _React$Component);\n\n  function DropdownItem(props) {\n    classCallCheck(this, DropdownItem);\n\n    var _this = possibleConstructorReturn(this, (DropdownItem.__proto__ || Object.getPrototypeOf(DropdownItem)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    _this.getTabIndex = _this.getTabIndex.bind(_this);\n    return _this;\n  }\n\n  createClass(DropdownItem, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled || this.props.header || this.props.divider) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n\n      if (this.props.toggle) {\n        this.context.toggle(e);\n      }\n    }\n  }, {\n    key: 'getTabIndex',\n    value: function getTabIndex() {\n      if (this.props.disabled || this.props.header || this.props.divider) {\n        return '-1';\n      }\n\n      return '0';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var tabIndex = this.getTabIndex();\n\n      var _omit = omit(this.props, ['toggle']),\n          className = _omit.className,\n          cssModule = _omit.cssModule,\n          divider = _omit.divider,\n          Tag = _omit.tag,\n          header = _omit.header,\n          active = _omit.active,\n          props = objectWithoutProperties(_omit, ['className', 'cssModule', 'divider', 'tag', 'header', 'active']);\n\n      var classes = mapToCssModules(classNames(className, {\n        disabled: props.disabled,\n        'dropdown-item': !divider && !header,\n        active: active,\n        'dropdown-header': header,\n        'dropdown-divider': divider\n      }), cssModule);\n\n      if (Tag === 'button') {\n        if (header) {\n          Tag = 'h6';\n        } else if (divider) {\n          Tag = 'div';\n        } else if (props.href) {\n          Tag = 'a';\n        }\n      }\n\n      return React.createElement(Tag, _extends({\n        type: Tag === 'button' && (props.onClick || this.props.toggle) ? 'button' : undefined\n      }, props, {\n        tabIndex: tabIndex,\n        className: classes,\n        onClick: this.onClick\n      }));\n    }\n  }]);\n  return DropdownItem;\n}(React.Component);\n\nDropdownItem.propTypes = propTypes$16;\nDropdownItem.defaultProps = defaultProps$15;\nDropdownItem.contextTypes = contextTypes;\nvar propTypes$17 = {\n  tag: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  right: PropTypes.bool,\n  flip: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$16 = {\n  tag: 'div',\n  flip: true\n};\nvar contextTypes$1 = {\n  isOpen: PropTypes.bool.isRequired,\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']).isRequired,\n  inNavbar: PropTypes.bool.isRequired\n};\nvar noFlipModifier = {\n  flip: {\n    enabled: false\n  }\n};\nvar directionPositionMap = {\n  up: 'top',\n  left: 'left',\n  right: 'right',\n  down: 'bottom'\n};\n\nvar DropdownMenu = function DropdownMenu(props, context) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      right = props.right,\n      tag = props.tag,\n      flip = props.flip,\n      attrs = objectWithoutProperties(props, ['className', 'cssModule', 'right', 'tag', 'flip']);\n  var classes = mapToCssModules(classNames(className, 'dropdown-menu', {\n    'dropdown-menu-right': right,\n    show: context.isOpen\n  }), cssModule);\n  var Tag = tag;\n\n  if (context.isOpen && !context.inNavbar) {\n    Tag = Popper;\n    var position1 = directionPositionMap[context.direction] || 'bottom';\n    var position2 = right ? 'end' : 'start';\n    attrs.placement = position1 + '-' + position2;\n    attrs.component = tag;\n    attrs.modifiers = !flip ? noFlipModifier : undefined;\n  }\n\n  return React.createElement(Tag, _extends({\n    tabIndex: '-1',\n    role: 'menu'\n  }, attrs, {\n    'aria-hidden': !context.isOpen,\n    className: classes\n  }));\n};\n\nDropdownMenu.propTypes = propTypes$17;\nDropdownMenu.defaultProps = defaultProps$16;\nDropdownMenu.contextTypes = contextTypes$1;\nvar propTypes$18 = {\n  caret: PropTypes.bool,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  'aria-haspopup': PropTypes.bool,\n  split: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  nav: PropTypes.bool\n};\nvar defaultProps$17 = {\n  'aria-haspopup': true,\n  color: 'secondary'\n};\nvar contextTypes$2 = {\n  isOpen: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n  inNavbar: PropTypes.bool.isRequired\n};\n\nvar DropdownToggle = function (_React$Component) {\n  inherits(DropdownToggle, _React$Component);\n\n  function DropdownToggle(props) {\n    classCallCheck(this, DropdownToggle);\n\n    var _this = possibleConstructorReturn(this, (DropdownToggle.__proto__ || Object.getPrototypeOf(DropdownToggle)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  createClass(DropdownToggle, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.nav && !this.props.tag) {\n        e.preventDefault();\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n\n      this.context.toggle(e);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          color = _props.color,\n          cssModule = _props.cssModule,\n          caret = _props.caret,\n          split = _props.split,\n          nav = _props.nav,\n          tag = _props.tag,\n          props = objectWithoutProperties(_props, ['className', 'color', 'cssModule', 'caret', 'split', 'nav', 'tag']);\n      var ariaLabel = props['aria-label'] || 'Toggle Dropdown';\n      var classes = mapToCssModules(classNames(className, {\n        'dropdown-toggle': caret || split,\n        'dropdown-toggle-split': split,\n        'nav-link': nav\n      }), cssModule);\n      var children = props.children || React.createElement('span', {\n        className: 'sr-only'\n      }, ariaLabel);\n      var Tag = void 0;\n\n      if (nav && !tag) {\n        Tag = 'a';\n        props.href = '#';\n      } else if (!tag) {\n        Tag = Button;\n        props.color = color;\n        props.cssModule = cssModule;\n      } else {\n        Tag = tag;\n      }\n\n      if (this.context.inNavbar) {\n        return React.createElement(Tag, _extends({}, props, {\n          className: classes,\n          onClick: this.onClick,\n          'aria-expanded': this.context.isOpen,\n          children: children\n        }));\n      }\n\n      return React.createElement(Target, _extends({}, props, {\n        className: classes,\n        component: Tag,\n        onClick: this.onClick,\n        'aria-expanded': this.context.isOpen,\n        children: children\n      }));\n    }\n  }]);\n  return DropdownToggle;\n}(React.Component);\n\nDropdownToggle.propTypes = propTypes$18;\nDropdownToggle.defaultProps = defaultProps$17;\nDropdownToggle.contextTypes = contextTypes$2;\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar PropTypes$1 = createCommonjsModule(function (module, exports) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.classNamesShape = exports.timeoutsShape = undefined;\n  exports.transitionTimeout = transitionTimeout;\n\n  var _propTypes2 = _interopRequireDefault(PropTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function transitionTimeout(transitionType) {\n    var timeoutPropName = 'transition' + transitionType + 'Timeout';\n    var enabledPropName = 'transition' + transitionType;\n    return function (props) {\n      // If the transition is enabled\n      if (props[enabledPropName]) {\n        // If no timeout duration is provided\n        if (props[timeoutPropName] == null) {\n          return new Error(timeoutPropName + ' wasn\\'t supplied to CSSTransitionGroup: ' + 'this can cause unreliable animations and won\\'t be supported in ' + 'a future version of React. See ' + 'https://fb.me/react-animation-transition-group-timeout for more ' + 'information.'); // If the duration isn't a number\n        } else if (typeof props[timeoutPropName] !== 'number') {\n          return new Error(timeoutPropName + ' must be a number (in milliseconds)');\n        }\n      }\n\n      return null;\n    };\n  }\n\n  var timeoutsShape = exports.timeoutsShape = _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.shape({\n    enter: _propTypes2.default.number,\n    exit: _propTypes2.default.number\n  }).isRequired]);\n\n  var classNamesShape = exports.classNamesShape = _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    enter: _propTypes2.default.string,\n    exit: _propTypes2.default.string,\n    active: _propTypes2.default.string\n  }), _propTypes2.default.shape({\n    enter: _propTypes2.default.string,\n    enterActive: _propTypes2.default.string,\n    exit: _propTypes2.default.string,\n    exitActive: _propTypes2.default.string\n  })]);\n});\nunwrapExports(PropTypes$1);\nvar Transition_1 = createCommonjsModule(function (module, exports) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.EXITING = exports.ENTERED = exports.ENTERING = exports.EXITED = exports.UNMOUNTED = undefined;\n\n  var PropTypes$$1 = _interopRequireWildcard(PropTypes);\n\n  var _react2 = _interopRequireDefault(React);\n\n  var _reactDom2 = _interopRequireDefault(ReactDOM);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var UNMOUNTED = exports.UNMOUNTED = 'unmounted';\n  var EXITED = exports.EXITED = 'exited';\n  var ENTERING = exports.ENTERING = 'entering';\n  var ENTERED = exports.ENTERED = 'entered';\n  var EXITING = exports.EXITING = 'exiting';\n  /**\n   * The Transition component lets you describe a transition from one component\n   * state to another _over time_ with a simple declarative API. Most commonly\n   * it's used to animate the mounting and unmounting of a component, but can also\n   * be used to describe in-place transition states as well.\n   *\n   * By default the `Transition` component does not alter the behavior of the\n   * component it renders, it only tracks \"enter\" and \"exit\" states for the components.\n   * It's up to you to give meaning and effect to those states. For example we can\n   * add styles to a component when it enters or exits:\n   *\n   * ```jsx\n   * import Transition from 'react-transition-group/Transition';\n   *\n   * const duration = 300;\n   *\n   * const defaultStyle = {\n   *   transition: `opacity ${duration}ms ease-in-out`,\n   *   opacity: 0,\n   * }\n   *\n   * const transitionStyles = {\n   *   entering: { opacity: 0 },\n   *   entered:  { opacity: 1 },\n   * };\n   *\n   * const Fade = ({ in: inProp }) => (\n   *   <Transition in={inProp} timeout={duration}>\n   *     {(state) => (\n   *       <div style={{\n   *         ...defaultStyle,\n   *         ...transitionStyles[state]\n   *       }}>\n   *         I'm A fade Transition!\n   *       </div>\n   *     )}\n   *   </Transition>\n   * );\n   * ```\n   *\n   * As noted the `Transition` component doesn't _do_ anything by itself to its child component.\n   * What it does do is track transition states over time so you can update the\n   * component (such as by adding styles or classes) when it changes states.\n   *\n   * There are 4 main states a Transition can be in:\n   *  - `ENTERING`\n   *  - `ENTERED`\n   *  - `EXITING`\n   *  - `EXITED`\n   *\n   * Transition state is toggled via the `in` prop. When `true` the component begins the\n   * \"Enter\" stage. During this stage, the component will shift from its current transition state,\n   * to `'entering'` for the duration of the transition and then to the `'entered'` stage once\n   * it's complete. Let's take the following example:\n   *\n   * ```jsx\n   * state= { in: false };\n   *\n   * toggleEnterState = () => {\n   *   this.setState({ in: true });\n   * }\n   *\n   * render() {\n   *   return (\n   *     <div>\n   *       <Transition in={this.state.in} timeout={500} />\n   *       <button onClick={this.toggleEnterState}>Click to Enter</button>\n   *     </div>\n   *   );\n   * }\n   * ```\n   *\n   * When the button is clicked the component will shift to the `'entering'` state and\n   * stay there for 500ms (the value of `timeout`) when finally switches to `'entered'`.\n   *\n   * When `in` is `false` the same thing happens except the state moves from `'exiting'` to `'exited'`.\n   */\n\n  var Transition = function (_React$Component) {\n    _inherits(Transition, _React$Component);\n\n    function Transition(props, context) {\n      _classCallCheck(this, Transition);\n\n      var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n      var parentGroup = context.transitionGroup; // In the context of a TransitionGroup all enters are really appears\n\n      var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n      var initialStatus = void 0;\n      _this.nextStatus = null;\n\n      if (props.in) {\n        if (appear) {\n          initialStatus = EXITED;\n          _this.nextStatus = ENTERING;\n        } else {\n          initialStatus = ENTERED;\n        }\n      } else {\n        if (props.unmountOnExit || props.mountOnEnter) {\n          initialStatus = UNMOUNTED;\n        } else {\n          initialStatus = EXITED;\n        }\n      }\n\n      _this.state = {\n        status: initialStatus\n      };\n      _this.nextCallback = null;\n      return _this;\n    }\n\n    Transition.prototype.getChildContext = function getChildContext() {\n      return {\n        transitionGroup: null\n      }; // allows for nested Transitions\n    };\n\n    Transition.prototype.componentDidMount = function componentDidMount() {\n      this.updateStatus(true);\n    };\n\n    Transition.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var _ref = this.pendingState || this.state,\n          status = _ref.status;\n\n      if (nextProps.in) {\n        if (status === UNMOUNTED) {\n          this.setState({\n            status: EXITED\n          });\n        }\n\n        if (status !== ENTERING && status !== ENTERED) {\n          this.nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          this.nextStatus = EXITING;\n        }\n      }\n    };\n\n    Transition.prototype.componentDidUpdate = function componentDidUpdate() {\n      this.updateStatus();\n    };\n\n    Transition.prototype.componentWillUnmount = function componentWillUnmount() {\n      this.cancelNextCallback();\n    };\n\n    Transition.prototype.getTimeouts = function getTimeouts() {\n      var timeout = this.props.timeout;\n      var exit = void 0,\n          enter = void 0,\n          appear = void 0;\n      exit = enter = appear = timeout;\n\n      if (timeout != null && typeof timeout !== 'number') {\n        exit = timeout.exit;\n        enter = timeout.enter;\n        appear = timeout.appear;\n      }\n\n      return {\n        exit: exit,\n        enter: enter,\n        appear: appear\n      };\n    };\n\n    Transition.prototype.updateStatus = function updateStatus() {\n      var mounting = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var nextStatus = this.nextStatus;\n\n      if (nextStatus !== null) {\n        this.nextStatus = null; // nextStatus will always be ENTERING or EXITING.\n\n        this.cancelNextCallback();\n\n        var node = _reactDom2.default.findDOMNode(this);\n\n        if (nextStatus === ENTERING) {\n          this.performEnter(node, mounting);\n        } else {\n          this.performExit(node);\n        }\n      } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n        this.setState({\n          status: UNMOUNTED\n        });\n      }\n    };\n\n    Transition.prototype.performEnter = function performEnter(node, mounting) {\n      var _this2 = this;\n\n      var enter = this.props.enter;\n      var appearing = this.context.transitionGroup ? this.context.transitionGroup.isMounting : mounting;\n      var timeouts = this.getTimeouts(); // no enter animation skip right to ENTERED\n      // if we are mounting and running this it means appear _must_ be set\n\n      if (!mounting && !enter) {\n        this.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node);\n        });\n        return;\n      }\n\n      this.props.onEnter(node, appearing);\n      this.safeSetState({\n        status: ENTERING\n      }, function () {\n        _this2.props.onEntering(node, appearing); // FIXME: appear timeout?\n\n\n        _this2.onTransitionEnd(node, timeouts.enter, function () {\n          _this2.safeSetState({\n            status: ENTERED\n          }, function () {\n            _this2.props.onEntered(node, appearing);\n          });\n        });\n      });\n    };\n\n    Transition.prototype.performExit = function performExit(node) {\n      var _this3 = this;\n\n      var exit = this.props.exit;\n      var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n      if (!exit) {\n        this.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n        return;\n      }\n\n      this.props.onExit(node);\n      this.safeSetState({\n        status: EXITING\n      }, function () {\n        _this3.props.onExiting(node);\n\n        _this3.onTransitionEnd(node, timeouts.exit, function () {\n          _this3.safeSetState({\n            status: EXITED\n          }, function () {\n            _this3.props.onExited(node);\n          });\n        });\n      });\n    };\n\n    Transition.prototype.cancelNextCallback = function cancelNextCallback() {\n      if (this.nextCallback !== null) {\n        this.nextCallback.cancel();\n        this.nextCallback = null;\n      }\n    };\n\n    Transition.prototype.safeSetState = function safeSetState(nextState, callback) {\n      var _this4 = this; // We need to track pending updates for instances where a cWRP fires quickly\n      // after cDM and before the state flushes, which would double trigger a\n      // transition\n\n\n      this.pendingState = nextState; // This shouldn't be necessary, but there are weird race conditions with\n      // setState callbacks and unmounting in testing, so always make sure that\n      // we can cancel any pending setState callbacks after we unmount.\n\n      callback = this.setNextCallback(callback);\n      this.setState(nextState, function () {\n        _this4.pendingState = null;\n        callback();\n      });\n    };\n\n    Transition.prototype.setNextCallback = function setNextCallback(callback) {\n      var _this5 = this;\n\n      var active = true;\n\n      this.nextCallback = function (event) {\n        if (active) {\n          active = false;\n          _this5.nextCallback = null;\n          callback(event);\n        }\n      };\n\n      this.nextCallback.cancel = function () {\n        active = false;\n      };\n\n      return this.nextCallback;\n    };\n\n    Transition.prototype.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n      this.setNextCallback(handler);\n\n      if (node) {\n        if (this.props.addEndListener) {\n          this.props.addEndListener(node, this.nextCallback);\n        }\n\n        if (timeout != null) {\n          setTimeout(this.nextCallback, timeout);\n        }\n      } else {\n        setTimeout(this.nextCallback, 0);\n      }\n    };\n\n    Transition.prototype.render = function render() {\n      var status = this.state.status;\n\n      if (status === UNMOUNTED) {\n        return null;\n      }\n\n      var _props = this.props,\n          children = _props.children,\n          childProps = _objectWithoutProperties(_props, ['children']); // filter props for Transtition\n\n\n      delete childProps.in;\n      delete childProps.mountOnEnter;\n      delete childProps.unmountOnExit;\n      delete childProps.appear;\n      delete childProps.enter;\n      delete childProps.exit;\n      delete childProps.timeout;\n      delete childProps.addEndListener;\n      delete childProps.onEnter;\n      delete childProps.onEntering;\n      delete childProps.onEntered;\n      delete childProps.onExit;\n      delete childProps.onExiting;\n      delete childProps.onExited;\n\n      if (typeof children === 'function') {\n        return children(status, childProps);\n      }\n\n      var child = _react2.default.Children.only(children);\n\n      return _react2.default.cloneElement(child, childProps);\n    };\n\n    return Transition;\n  }(_react2.default.Component);\n\n  Transition.contextTypes = {\n    transitionGroup: PropTypes$$1.object\n  };\n  Transition.childContextTypes = {\n    transitionGroup: function transitionGroup() {}\n  };\n  Transition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    /**\n     * A `function` child can be used instead of a React element.\n     * This function is called with the current transition status\n     * ('entering', 'entered', 'exiting', 'exited', 'unmounted'), which can used\n     * to apply context specific props to a component.\n     *\n     * ```jsx\n     * <Transition timeout={150}>\n     *   {(status) => (\n     *     <MyComponent className={`fade fade-${status}`} />\n     *   )}\n     * </Transition>\n     * ```\n     */\n    children: PropTypes$$1.oneOfType([PropTypes$$1.func.isRequired, PropTypes$$1.element.isRequired]).isRequired,\n\n    /**\n     * Show the component; triggers the enter or exit states\n     */\n    in: PropTypes$$1.bool,\n\n    /**\n     * By default the child component is mounted immediately along with\n     * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n     * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n     * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n     */\n    mountOnEnter: PropTypes$$1.bool,\n\n    /**\n     * By default the child component stays mounted after it reaches the `'exited'` state.\n     * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n     */\n    unmountOnExit: PropTypes$$1.bool,\n\n    /**\n     * Normally a component is not transitioned if it is shown when the `<Transition>` component mounts.\n     * If you want to transition on the first mount set `appear` to `true`, and the\n     * component will transition in as soon as the `<Transition>` mounts.\n     *\n     * > Note: there are no specific \"appear\" states. `appear` only adds an additional `enter` transition.\n     */\n    appear: PropTypes$$1.bool,\n\n    /**\n     * Enable or disable enter transitions.\n     */\n    enter: PropTypes$$1.bool,\n\n    /**\n     * Enable or disable exit transitions.\n     */\n    exit: PropTypes$$1.bool,\n\n    /**\n     * The duration of the transition, in milliseconds.\n     * Required unless `addEventListener` is provided\n     *\n     * You may specify a single timeout for all transitions like: `timeout={500}`,\n     * or individually like:\n     *\n     * ```jsx\n     * timeout={{\n     *  enter: 300,\n     *  exit: 500,\n     * }}\n     * ```\n     *\n     * @type {number | { enter?: number, exit?: number }}\n     */\n    timeout: function timeout(props) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var pt = PropTypes$1.timeoutsShape;\n      if (!props.addEndListener) pt = pt.isRequired;\n      return pt.apply(undefined, [props].concat(args));\n    },\n\n    /**\n     * Add a custom transition end trigger. Called with the transitioning\n     * DOM node and a `done` callback. Allows for more fine grained transition end\n     * logic. **Note:** Timeouts are still used as a fallback if provided.\n     *\n     * ```jsx\n     * addEndListener={(node, done) => {\n     *   // use the css transitionend event to mark the finish of a transition\n     *   node.addEventListener('transitionend', done, false);\n     * }}\n     * ```\n     */\n    addEndListener: PropTypes$$1.func,\n\n    /**\n     * Callback fired before the \"entering\" status is applied. An extra parameter\n     * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n     *\n     * @type Function(node: HtmlElement, isAppearing: bool) -> void\n     */\n    onEnter: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"entering\" status is applied. An extra parameter\n     * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n     *\n     * @type Function(node: HtmlElement, isAppearing: bool)\n     */\n    onEntering: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"entered\" status is applied. An extra parameter\n     * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n     *\n     * @type Function(node: HtmlElement, isAppearing: bool) -> void\n     */\n    onEntered: PropTypes$$1.func,\n\n    /**\n     * Callback fired before the \"exiting\" status is applied.\n     *\n     * @type Function(node: HtmlElement) -> void\n     */\n    onExit: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"exiting\" status is applied.\n     *\n     * @type Function(node: HtmlElement) -> void\n     */\n    onExiting: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"exited\" status is applied.\n     *\n     * @type Function(node: HtmlElement) -> void\n     */\n    onExited: PropTypes$$1.func\n  } : {}; // Name the function so it is clearer in the documentation\n\n  function noop() {}\n\n  Transition.defaultProps = {\n    in: false,\n    mountOnEnter: false,\n    unmountOnExit: false,\n    appear: false,\n    enter: true,\n    exit: true,\n    onEnter: noop,\n    onEntering: noop,\n    onEntered: noop,\n    onExit: noop,\n    onExiting: noop,\n    onExited: noop\n  };\n  Transition.UNMOUNTED = 0;\n  Transition.EXITED = 1;\n  Transition.ENTERING = 2;\n  Transition.ENTERED = 3;\n  Transition.EXITING = 4;\n  exports.default = Transition;\n});\nvar Transition = unwrapExports(Transition_1);\n\nvar propTypes$19 = _extends({}, Transition.propTypes, {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  tag: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  baseClass: PropTypes.string,\n  baseClassActive: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n});\n\nvar defaultProps$18 = _extends({}, Transition.defaultProps, {\n  tag: 'div',\n  baseClass: 'fade',\n  baseClassActive: 'show',\n  timeout: TransitionTimeouts.Fade,\n  appear: true,\n  enter: true,\n  exit: true,\n  in: true\n});\n\nfunction Fade(props) {\n  var Tag = props.tag,\n      baseClass = props.baseClass,\n      baseClassActive = props.baseClassActive,\n      className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      otherProps = objectWithoutProperties(props, ['tag', 'baseClass', 'baseClassActive', 'className', 'cssModule', 'children']); // In NODE_ENV=production the Transition.propTypes are wrapped which results in an\n  // empty object \"{}\". This is the result of the `react-transition-group` babel\n  // configuration settings. Therefore, to ensure that production builds work without\n  // error, we can either explicitly define keys or use the Transition.defaultProps.\n  // Using the Transition.defaultProps excludes any required props. Thus, the best\n  // solution is to explicitly define required props in our utilities and reference these.\n  // This also gives us more flexibility in the future to remove the prop-types\n  // dependency in distribution builds (Similar to how `react-transition-group` does).\n  // Note: Without omitting the `react-transition-group` props, the resulting child\n  // Tag component would inherit the Transition properties as attributes for the HTML\n  // element which results in errors/warnings for non-valid attributes.\n\n  var transitionProps = pick(otherProps, TransitionPropTypeKeys);\n  var childProps = omit(otherProps, TransitionPropTypeKeys);\n  return React.createElement(Transition, transitionProps, function (status) {\n    var isActive = status === 'entered';\n    var classes = mapToCssModules(classNames(className, baseClass, isActive && baseClassActive), cssModule);\n    return React.createElement(Tag, _extends({\n      className: classes\n    }, childProps), children);\n  });\n}\n\nFade.propTypes = propTypes$19;\nFade.defaultProps = defaultProps$18;\nvar propTypes$20 = {\n  color: PropTypes.string,\n  pill: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$19 = {\n  color: 'secondary',\n  pill: false,\n  tag: 'span'\n};\n\nvar Badge = function Badge(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      pill = props.pill,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'color', 'pill', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'badge', 'badge-' + color, pill ? 'badge-pill' : false), cssModule);\n\n  if (attributes.href && Tag === 'span') {\n    Tag = 'a';\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nBadge.propTypes = propTypes$20;\nBadge.defaultProps = defaultProps$19;\nvar propTypes$21 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  block: deprecated(PropTypes.bool, 'Please use the props \"body\"'),\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$20 = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      block = props.block,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'color', 'block', 'body', 'inverse', 'outline', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, block || body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + '-' + color : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCard.propTypes = propTypes$21;\nCard.defaultProps = defaultProps$20;\nvar propTypes$22 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$21 = {\n  tag: 'div'\n};\n\nvar CardGroup = function CardGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardGroup.propTypes = propTypes$22;\nCardGroup.defaultProps = defaultProps$21;\nvar propTypes$23 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$22 = {\n  tag: 'div'\n};\n\nvar CardDeck = function CardDeck(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-deck'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardDeck.propTypes = propTypes$23;\nCardDeck.defaultProps = defaultProps$22;\nvar propTypes$24 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$23 = {\n  tag: 'div'\n};\n\nvar CardColumns = function CardColumns(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-columns'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardColumns.propTypes = propTypes$24;\nCardColumns.defaultProps = defaultProps$23;\nvar propTypes$25 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$24 = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardBody.propTypes = propTypes$25;\nCardBody.defaultProps = defaultProps$24;\n\nfunction CardBlock(props) {\n  warnOnce('The \"CardBlock\" component has been deprecated.\\nPlease use component \"CardBody\".');\n  return React.createElement(CardBody, props);\n}\n\nvar propTypes$26 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$25 = {\n  tag: 'a'\n};\n\nvar CardLink = function CardLink(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'innerRef']);\n  var classes = mapToCssModules(classNames(className, 'card-link'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n};\n\nCardLink.propTypes = propTypes$26;\nCardLink.defaultProps = defaultProps$25;\nvar propTypes$27 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$26 = {\n  tag: 'div'\n};\n\nvar CardFooter = function CardFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardFooter.propTypes = propTypes$27;\nCardFooter.defaultProps = defaultProps$26;\nvar propTypes$28 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$27 = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes$28;\nCardHeader.defaultProps = defaultProps$27;\nvar propTypes$29 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  top: PropTypes.bool,\n  bottom: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$28 = {\n  tag: 'img'\n};\n\nvar CardImg = function CardImg(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      top = props.top,\n      bottom = props.bottom,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'top', 'bottom', 'tag']);\n  var cardImgClassName = 'card-img';\n\n  if (top) {\n    cardImgClassName = 'card-img-top';\n  }\n\n  if (bottom) {\n    cardImgClassName = 'card-img-bottom';\n  }\n\n  var classes = mapToCssModules(classNames(className, cardImgClassName), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardImg.propTypes = propTypes$29;\nCardImg.defaultProps = defaultProps$28;\nvar propTypes$30 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$29 = {\n  tag: 'div'\n};\n\nvar CardImgOverlay = function CardImgOverlay(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-img-overlay'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardImgOverlay.propTypes = propTypes$30;\nCardImgOverlay.defaultProps = defaultProps$29;\n\nvar CarouselItem = function (_React$Component) {\n  inherits(CarouselItem, _React$Component);\n\n  function CarouselItem(props) {\n    classCallCheck(this, CarouselItem);\n\n    var _this = possibleConstructorReturn(this, (CarouselItem.__proto__ || Object.getPrototypeOf(CarouselItem)).call(this, props));\n\n    _this.state = {\n      startAnimation: false\n    };\n    _this.onEnter = _this.onEnter.bind(_this);\n    _this.onEntering = _this.onEntering.bind(_this);\n    _this.onExit = _this.onExit.bind(_this);\n    _this.onExiting = _this.onExiting.bind(_this);\n    _this.onExited = _this.onExited.bind(_this);\n    return _this;\n  }\n\n  createClass(CarouselItem, [{\n    key: 'onEnter',\n    value: function onEnter(node, isAppearing) {\n      this.setState({\n        startAnimation: false\n      });\n      this.props.onEnter(node, isAppearing);\n    }\n  }, {\n    key: 'onEntering',\n    value: function onEntering(node, isAppearing) {\n      // getting this variable triggers a reflow\n      var offsetHeight = node.offsetHeight;\n      this.setState({\n        startAnimation: true\n      });\n      this.props.onEntering(node, isAppearing);\n      return offsetHeight;\n    }\n  }, {\n    key: 'onExit',\n    value: function onExit(node) {\n      this.setState({\n        startAnimation: false\n      });\n      this.props.onExit(node);\n    }\n  }, {\n    key: 'onExiting',\n    value: function onExiting(node) {\n      this.setState({\n        startAnimation: true\n      });\n      node.dispatchEvent(new CustomEvent('slide.bs.carousel'));\n      this.props.onExiting(node);\n    }\n  }, {\n    key: 'onExited',\n    value: function onExited(node) {\n      node.dispatchEvent(new CustomEvent('slid.bs.carousel'));\n      this.props.onExited(node);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          isIn = _props.in,\n          children = _props.children,\n          cssModule = _props.cssModule,\n          slide = _props.slide,\n          Tag = _props.tag,\n          className = _props.className,\n          transitionProps = objectWithoutProperties(_props, ['in', 'children', 'cssModule', 'slide', 'tag', 'className']);\n      return React.createElement(Transition, _extends({}, transitionProps, {\n        enter: slide,\n        exit: slide,\n        'in': isIn,\n        onEnter: this.onEnter,\n        onEntering: this.onEntering,\n        onExit: this.onExit,\n        onExiting: this.onExiting,\n        onExited: this.onExited\n      }), function (status) {\n        var direction = _this2.context.direction;\n        var isActive = status === TransitionStatuses.ENTERED || status === TransitionStatuses.EXITING;\n        var directionClassName = (status === TransitionStatuses.ENTERING || status === TransitionStatuses.EXITING) && _this2.state.startAnimation && (direction === 'right' ? 'carousel-item-left' : 'carousel-item-right');\n        var orderClassName = status === TransitionStatuses.ENTERING && (direction === 'right' ? 'carousel-item-next' : 'carousel-item-prev');\n        var itemClasses = mapToCssModules(classNames(className, 'carousel-item', isActive && 'active', directionClassName, orderClassName), cssModule);\n        return React.createElement(Tag, {\n          className: itemClasses\n        }, children);\n      });\n    }\n  }]);\n  return CarouselItem;\n}(React.Component);\n\nCarouselItem.propTypes = _extends({}, Transition.propTypes, {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  in: PropTypes.bool,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  slide: PropTypes.bool,\n  className: PropTypes.string\n});\nCarouselItem.defaultProps = _extends({}, Transition.defaultProps, {\n  tag: 'div',\n  timeout: TransitionTimeouts.Carousel,\n  slide: true\n});\nCarouselItem.contextTypes = {\n  direction: PropTypes.string\n};\n\nvar Carousel = function (_React$Component) {\n  inherits(Carousel, _React$Component);\n\n  function Carousel(props) {\n    classCallCheck(this, Carousel);\n\n    var _this = possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n    _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n    _this.renderItems = _this.renderItems.bind(_this);\n    _this.hoverStart = _this.hoverStart.bind(_this);\n    _this.hoverEnd = _this.hoverEnd.bind(_this);\n    _this.state = {\n      direction: 'right',\n      indicatorClicked: false\n    };\n    return _this;\n  }\n\n  createClass(Carousel, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        direction: this.state.direction\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Set up the cycle\n      if (this.props.ride === 'carousel') {\n        this.setInterval();\n      } // TODO: move this to the specific carousel like bootstrap. Currently it will trigger ALL carousels on the page.\n\n\n      document.addEventListener('keyup', this.handleKeyPress);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setInterval(nextProps); // Calculate the direction to turn\n\n      if (this.props.activeIndex + 1 === nextProps.activeIndex) {\n        this.setState({\n          direction: 'right'\n        });\n      } else if (this.props.activeIndex - 1 === nextProps.activeIndex) {\n        this.setState({\n          direction: 'left'\n        });\n      } else if (this.props.activeIndex > nextProps.activeIndex) {\n        this.setState({\n          direction: this.state.indicatorClicked ? 'left' : 'right'\n        });\n      } else if (this.props.activeIndex !== nextProps.activeIndex) {\n        this.setState({\n          direction: this.state.indicatorClicked ? 'right' : 'left'\n        });\n      }\n\n      this.setState({\n        indicatorClicked: false\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.clearInterval();\n      document.removeEventListener('keyup', this.handleKeyPress);\n    }\n  }, {\n    key: 'setInterval',\n    value: function (_setInterval) {\n      function setInterval() {\n        return _setInterval.apply(this, arguments);\n      }\n\n      setInterval.toString = function () {\n        return _setInterval.toString();\n      };\n\n      return setInterval;\n    }(function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props; // make sure not to have multiple intervals going...\n\n      this.clearInterval();\n\n      if (props.interval) {\n        this.cycleInterval = setInterval(function () {\n          props.next();\n        }, parseInt(props.interval, 10));\n      }\n    })\n  }, {\n    key: 'clearInterval',\n    value: function (_clearInterval) {\n      function clearInterval() {\n        return _clearInterval.apply(this, arguments);\n      }\n\n      clearInterval.toString = function () {\n        return _clearInterval.toString();\n      };\n\n      return clearInterval;\n    }(function () {\n      clearInterval(this.cycleInterval);\n    })\n  }, {\n    key: 'hoverStart',\n    value: function hoverStart() {\n      if (this.props.pause === 'hover') {\n        this.clearInterval();\n      }\n\n      if (this.props.mouseEnter) {\n        var _props;\n\n        (_props = this.props).mouseEnter.apply(_props, arguments);\n      }\n    }\n  }, {\n    key: 'hoverEnd',\n    value: function hoverEnd() {\n      if (this.props.pause === 'hover') {\n        this.setInterval();\n      }\n\n      if (this.props.mouseLeave) {\n        var _props2;\n\n        (_props2 = this.props).mouseLeave.apply(_props2, arguments);\n      }\n    }\n  }, {\n    key: 'handleKeyPress',\n    value: function handleKeyPress(evt) {\n      if (this.props.keyboard) {\n        if (evt.keyCode === 37) {\n          this.props.previous();\n        } else if (evt.keyCode === 39) {\n          this.props.next();\n        }\n      }\n    }\n  }, {\n    key: 'renderItems',\n    value: function renderItems(carouselItems, className) {\n      var _this2 = this;\n\n      var slide = this.props.slide;\n      return React.createElement('div', {\n        role: 'listbox',\n        className: className\n      }, carouselItems.map(function (item, index) {\n        var isIn = index === _this2.props.activeIndex;\n        return React.cloneElement(item, {\n          in: isIn,\n          slide: slide\n        });\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props3 = this.props,\n          children = _props3.children,\n          cssModule = _props3.cssModule,\n          slide = _props3.slide,\n          className = _props3.className;\n      var outerClasses = mapToCssModules(classNames(className, 'carousel', slide && 'slide'), cssModule);\n      var innerClasses = mapToCssModules(classNames('carousel-inner'), cssModule);\n      var slidesOnly = children.every(function (child) {\n        return child.type === CarouselItem;\n      }); // Rendering only slides\n\n      if (slidesOnly) {\n        return React.createElement('div', {\n          className: outerClasses,\n          onMouseEnter: this.hoverStart,\n          onMouseLeave: this.hoverEnd\n        }, this.renderItems(children, innerClasses));\n      } // Rendering slides and controls\n\n\n      if (children[0] instanceof Array) {\n        var _carouselItems = children[0];\n        var _controlLeft = children[1];\n        var _controlRight = children[2];\n        return React.createElement('div', {\n          className: outerClasses,\n          onMouseEnter: this.hoverStart,\n          onMouseLeave: this.hoverEnd\n        }, this.renderItems(_carouselItems, innerClasses), _controlLeft, _controlRight);\n      } // Rendering indicators, slides and controls\n\n\n      var indicators = children[0];\n\n      var wrappedOnClick = function wrappedOnClick(e) {\n        if (typeof indicators.props.onClickHandler === 'function') {\n          _this3.setState({\n            indicatorClicked: true\n          }, function () {\n            return indicators.props.onClickHandler(e);\n          });\n        }\n      };\n\n      var wrappedIndicators = React.cloneElement(indicators, {\n        onClickHandler: wrappedOnClick\n      });\n      var carouselItems = children[1];\n      var controlLeft = children[2];\n      var controlRight = children[3];\n      return React.createElement('div', {\n        className: outerClasses,\n        onMouseEnter: this.hoverStart,\n        onMouseLeave: this.hoverEnd\n      }, wrappedIndicators, this.renderItems(carouselItems, innerClasses), controlLeft, controlRight);\n    }\n  }]);\n  return Carousel;\n}(React.Component);\n\nCarousel.propTypes = {\n  // the current active slide of the carousel\n  activeIndex: PropTypes.number,\n  // a function which should advance the carousel to the next slide (via activeIndex)\n  next: PropTypes.func.isRequired,\n  // a function which should advance the carousel to the previous slide (via activeIndex)\n  previous: PropTypes.func.isRequired,\n  // controls if the left and right arrow keys should control the carousel\n  keyboard: PropTypes.bool,\n\n  /* If set to \"hover\", pauses the cycling of the carousel on mouseenter and resumes the cycling of the carousel on\n   * mouseleave. If set to false, hovering over the carousel won't pause it. (default: \"hover\")\n   */\n  pause: PropTypes.oneOf(['hover', false]),\n  // Autoplays the carousel after the user manually cycles the first item. If \"carousel\", autoplays the carousel on load.\n  // This is how bootstrap defines it... I would prefer a bool named autoplay or something...\n  ride: PropTypes.oneOf(['carousel']),\n  // the interval at which the carousel automatically cycles (default: 5000)\n  // eslint-disable-next-line react/no-unused-prop-types\n  interval: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),\n  children: PropTypes.array,\n  // called when the mouse enters the Carousel\n  mouseEnter: PropTypes.func,\n  // called when the mouse exits the Carousel\n  mouseLeave: PropTypes.func,\n  // controls whether the slide animation on the Carousel works or not\n  slide: PropTypes.bool,\n  cssModule: PropTypes.object,\n  className: PropTypes.string\n};\nCarousel.defaultProps = {\n  interval: 5000,\n  pause: 'hover',\n  keyboard: true,\n  slide: true\n};\nCarousel.childContextTypes = {\n  direction: PropTypes.string\n};\n\nvar CarouselControl = function CarouselControl(props) {\n  var direction = props.direction,\n      onClickHandler = props.onClickHandler,\n      cssModule = props.cssModule,\n      directionText = props.directionText,\n      className = props.className;\n  var anchorClasses = mapToCssModules(classNames(className, 'carousel-control-' + direction), cssModule);\n  var iconClasses = mapToCssModules(classNames('carousel-control-' + direction + '-icon'), cssModule);\n  var screenReaderClasses = mapToCssModules(classNames('sr-only'), cssModule);\n  return React.createElement('a', {\n    className: anchorClasses,\n    role: 'button',\n    tabIndex: '0',\n    onClick: function onClick(e) {\n      e.preventDefault();\n      onClickHandler();\n    }\n  }, React.createElement('span', {\n    className: iconClasses,\n    'aria-hidden': 'true'\n  }), React.createElement('span', {\n    className: screenReaderClasses\n  }, directionText || direction));\n};\n\nCarouselControl.propTypes = {\n  direction: PropTypes.oneOf(['prev', 'next']).isRequired,\n  onClickHandler: PropTypes.func.isRequired,\n  cssModule: PropTypes.object,\n  directionText: PropTypes.string,\n  className: PropTypes.string\n};\n\nvar CarouselIndicators = function CarouselIndicators(props) {\n  var items = props.items,\n      activeIndex = props.activeIndex,\n      cssModule = props.cssModule,\n      onClickHandler = props.onClickHandler,\n      className = props.className;\n  var listClasses = mapToCssModules(classNames(className, 'carousel-indicators'), cssModule);\n  var indicators = items.map(function (item, idx) {\n    var indicatorClasses = mapToCssModules(classNames({\n      active: activeIndex === idx\n    }), cssModule);\n    return React.createElement('li', {\n      key: '' + (item.key || item.src) + item.caption + item.altText,\n      onClick: function onClick(e) {\n        e.preventDefault();\n        onClickHandler(idx);\n      },\n      className: indicatorClasses\n    });\n  });\n  return React.createElement('ol', {\n    className: listClasses\n  }, indicators);\n};\n\nCarouselIndicators.propTypes = {\n  items: PropTypes.array.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n  cssModule: PropTypes.object,\n  onClickHandler: PropTypes.func.isRequired,\n  className: PropTypes.string\n};\n\nvar CarouselCaption = function CarouselCaption(props) {\n  var captionHeader = props.captionHeader,\n      captionText = props.captionText,\n      cssModule = props.cssModule,\n      className = props.className;\n  var classes = mapToCssModules(classNames(className, 'carousel-caption', 'd-none', 'd-md-block'), cssModule);\n  return React.createElement('div', {\n    className: classes\n  }, React.createElement('h3', null, captionHeader), React.createElement('p', null, captionText));\n};\n\nCarouselCaption.propTypes = {\n  captionHeader: PropTypes.string,\n  captionText: PropTypes.string.isRequired,\n  cssModule: PropTypes.object,\n  className: PropTypes.string\n};\nvar propTypes$31 = {\n  items: PropTypes.array.isRequired,\n  indicators: PropTypes.bool,\n  controls: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  activeIndex: PropTypes.number,\n  next: PropTypes.func,\n  previous: PropTypes.func,\n  goToIndex: PropTypes.func\n};\n\nvar UncontrolledCarousel = function (_Component) {\n  inherits(UncontrolledCarousel, _Component);\n\n  function UncontrolledCarousel(props) {\n    classCallCheck(this, UncontrolledCarousel);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledCarousel.__proto__ || Object.getPrototypeOf(UncontrolledCarousel)).call(this, props));\n\n    _this.animating = false;\n    _this.state = {\n      activeIndex: 0\n    };\n    _this.next = _this.next.bind(_this);\n    _this.previous = _this.previous.bind(_this);\n    _this.goToIndex = _this.goToIndex.bind(_this);\n    _this.onExiting = _this.onExiting.bind(_this);\n    _this.onExited = _this.onExited.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledCarousel, [{\n    key: 'onExiting',\n    value: function onExiting() {\n      this.animating = true;\n    }\n  }, {\n    key: 'onExited',\n    value: function onExited() {\n      this.animating = false;\n    }\n  }, {\n    key: 'next',\n    value: function next() {\n      if (this.animating) return;\n      var nextIndex = this.state.activeIndex === this.props.items.length - 1 ? 0 : this.state.activeIndex + 1;\n      this.setState({\n        activeIndex: nextIndex\n      });\n    }\n  }, {\n    key: 'previous',\n    value: function previous() {\n      if (this.animating) return;\n      var nextIndex = this.state.activeIndex === 0 ? this.props.items.length - 1 : this.state.activeIndex - 1;\n      this.setState({\n        activeIndex: nextIndex\n      });\n    }\n  }, {\n    key: 'goToIndex',\n    value: function goToIndex(newIndex) {\n      if (this.animating) return;\n      this.setState({\n        activeIndex: newIndex\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          autoPlay = _props.autoPlay,\n          indicators = _props.indicators,\n          controls = _props.controls,\n          items = _props.items,\n          goToIndex = _props.goToIndex,\n          props = objectWithoutProperties(_props, ['autoPlay', 'indicators', 'controls', 'items', 'goToIndex']);\n      var activeIndex = this.state.activeIndex;\n      var slides = items.map(function (item) {\n        return React.createElement(CarouselItem, {\n          onExiting: _this2.onExiting,\n          onExited: _this2.onExited,\n          key: item.src\n        }, React.createElement('img', {\n          src: item.src,\n          alt: item.altText\n        }), React.createElement(CarouselCaption, {\n          captionText: item.caption,\n          captionHeader: item.caption\n        }));\n      });\n      return React.createElement(Carousel, _extends({\n        activeIndex: activeIndex,\n        next: this.next,\n        previous: this.previous,\n        ride: autoPlay ? 'carousel' : undefined\n      }, props), indicators && React.createElement(CarouselIndicators, {\n        items: items,\n        activeIndex: props.activeIndex || activeIndex,\n        onClickHandler: goToIndex || this.goToIndex\n      }), slides, controls && React.createElement(CarouselControl, {\n        direction: 'prev',\n        directionText: 'Previous',\n        onClickHandler: props.previous || this.previous\n      }), controls && React.createElement(CarouselControl, {\n        direction: 'next',\n        directionText: 'Next',\n        onClickHandler: props.next || this.next\n      }));\n    }\n  }]);\n  return UncontrolledCarousel;\n}(Component);\n\nUncontrolledCarousel.propTypes = propTypes$31;\nUncontrolledCarousel.defaultProps = {\n  controls: true,\n  indicators: true,\n  autoPlay: true\n};\nvar propTypes$32 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$30 = {\n  tag: 'h6'\n};\n\nvar CardSubtitle = function CardSubtitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-subtitle'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardSubtitle.propTypes = propTypes$32;\nCardSubtitle.defaultProps = defaultProps$30;\nvar propTypes$33 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$31 = {\n  tag: 'p'\n};\n\nvar CardText = function CardText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardText.propTypes = propTypes$33;\nCardText.defaultProps = defaultProps$31;\nvar propTypes$34 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$32 = {\n  tag: 'h5'\n};\n\nvar CardTitle = function CardTitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-title'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardTitle.propTypes = propTypes$34;\nCardTitle.defaultProps = defaultProps$32;\nvar propTypes$35 = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  placement: PropTypes.string,\n  placementPrefix: PropTypes.string,\n  hideArrow: PropTypes.bool,\n  tag: PropTypes.string,\n  isOpen: PropTypes.bool.isRequired,\n  cssModule: PropTypes.object,\n  offset: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  fallbackPlacement: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  flip: PropTypes.bool,\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired,\n  modifiers: PropTypes.object\n};\nvar defaultProps$33 = {\n  placement: 'auto',\n  hideArrow: false,\n  isOpen: false,\n  offset: 0,\n  fallbackPlacement: 'flip',\n  flip: true,\n  container: 'body',\n  modifiers: {}\n};\nvar childContextTypes$1 = {\n  popperManager: PropTypes.object.isRequired\n};\n\nvar PopperContent = function (_React$Component) {\n  inherits(PopperContent, _React$Component);\n\n  function PopperContent(props) {\n    classCallCheck(this, PopperContent);\n\n    var _this = possibleConstructorReturn(this, (PopperContent.__proto__ || Object.getPrototypeOf(PopperContent)).call(this, props));\n\n    _this.handlePlacementChange = _this.handlePlacementChange.bind(_this);\n    _this.setTargetNode = _this.setTargetNode.bind(_this);\n    _this.getTargetNode = _this.getTargetNode.bind(_this);\n    _this.state = {};\n    return _this;\n  }\n\n  createClass(PopperContent, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        popperManager: {\n          setTargetNode: this.setTargetNode,\n          getTargetNode: this.getTargetNode\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.handleProps();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.isOpen !== prevProps.isOpen) {\n        this.handleProps();\n      } else if (this._element) {\n        // rerender\n        this.renderIntoSubtree();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.hide();\n    }\n  }, {\n    key: 'setTargetNode',\n    value: function setTargetNode(node) {\n      this.targetNode = node;\n    }\n  }, {\n    key: 'getTargetNode',\n    value: function getTargetNode() {\n      return this.targetNode;\n    }\n  }, {\n    key: 'getContainerNode',\n    value: function getContainerNode() {\n      return getTarget(this.props.container);\n    }\n  }, {\n    key: 'handlePlacementChange',\n    value: function handlePlacementChange(data) {\n      if (this.state.placement !== data.placement) {\n        this.setState({\n          placement: data.placement\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: 'handleProps',\n    value: function handleProps() {\n      if (this.props.container !== 'inline') {\n        if (this.props.isOpen) {\n          this.show();\n        } else {\n          this.hide();\n        }\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (this._element) {\n        this.getContainerNode().removeChild(this._element);\n        ReactDOM.unmountComponentAtNode(this._element);\n        this._element = null;\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this._element = document.createElement('div');\n      this.getContainerNode().appendChild(this._element);\n      this.renderIntoSubtree();\n\n      if (this._element.childNodes && this._element.childNodes[0] && this._element.childNodes[0].focus) {\n        this._element.childNodes[0].focus();\n      }\n    }\n  }, {\n    key: 'renderIntoSubtree',\n    value: function renderIntoSubtree() {\n      ReactDOM.unstable_renderSubtreeIntoContainer(this, this.renderChildren(), this._element);\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      var _props = this.props,\n          cssModule = _props.cssModule,\n          children = _props.children,\n          isOpen = _props.isOpen,\n          flip = _props.flip,\n          target = _props.target,\n          offset = _props.offset,\n          fallbackPlacement = _props.fallbackPlacement,\n          placementPrefix = _props.placementPrefix,\n          hideArrow = _props.hideArrow,\n          className = _props.className,\n          tag = _props.tag,\n          container = _props.container,\n          modifiers = _props.modifiers,\n          attrs = objectWithoutProperties(_props, ['cssModule', 'children', 'isOpen', 'flip', 'target', 'offset', 'fallbackPlacement', 'placementPrefix', 'hideArrow', 'className', 'tag', 'container', 'modifiers']);\n      var arrowClassName = mapToCssModules('arrow', cssModule);\n      var placement = (this.state.placement || attrs.placement).split('-')[0];\n      var popperClassName = mapToCssModules(classNames(className, placementPrefix ? placementPrefix + '-' + placement : placement), this.props.cssModule);\n\n      var extendedModifiers = _extends({\n        offset: {\n          offset: offset\n        },\n        flip: {\n          enabled: flip,\n          behavior: fallbackPlacement\n        },\n        update: {\n          enabled: true,\n          order: 950,\n          fn: this.handlePlacementChange\n        }\n      }, modifiers);\n\n      return React.createElement(Popper, _extends({\n        modifiers: extendedModifiers\n      }, attrs, {\n        component: tag,\n        className: popperClassName\n      }), children, !hideArrow && React.createElement(Arrow, {\n        className: arrowClassName\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.setTargetNode(getTarget(this.props.target));\n\n      if (this.props.container === 'inline') {\n        return this.props.isOpen ? this.renderChildren() : null;\n      }\n\n      return null;\n    }\n  }]);\n  return PopperContent;\n}(React.Component);\n\nPopperContent.propTypes = propTypes$35;\nPopperContent.defaultProps = defaultProps$33;\nPopperContent.childContextTypes = childContextTypes$1;\n\nvar PopperTargetHelper = function PopperTargetHelper(props, context) {\n  context.popperManager.setTargetNode(getTarget(props.target));\n  return null;\n};\n\nPopperTargetHelper.contextTypes = {\n  popperManager: PropTypes.object.isRequired\n};\nPopperTargetHelper.propTypes = {\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired\n};\nvar propTypes$36 = {\n  placement: PropTypes.oneOf(PopperPlacements),\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired,\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  isOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  hideArrow: PropTypes.bool,\n  className: PropTypes.string,\n  innerClassName: PropTypes.string,\n  placementPrefix: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.func,\n  delay: PropTypes.oneOfType([PropTypes.shape({\n    show: PropTypes.number,\n    hide: PropTypes.number\n  }), PropTypes.number]),\n  modifiers: PropTypes.object\n};\nvar DEFAULT_DELAYS = {\n  show: 0,\n  hide: 0\n};\nvar defaultProps$34 = {\n  isOpen: false,\n  hideArrow: false,\n  placement: 'right',\n  placementPrefix: 'bs-popover',\n  delay: DEFAULT_DELAYS,\n  toggle: function toggle() {}\n};\n\nvar Popover = function (_React$Component) {\n  inherits(Popover, _React$Component);\n\n  function Popover(props) {\n    classCallCheck(this, Popover);\n\n    var _this = possibleConstructorReturn(this, (Popover.__proto__ || Object.getPrototypeOf(Popover)).call(this, props));\n\n    _this.addTargetEvents = _this.addTargetEvents.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.removeTargetEvents = _this.removeTargetEvents.bind(_this);\n    _this.getRef = _this.getRef.bind(_this);\n    _this.toggle = _this.toggle.bind(_this);\n    _this.show = _this.show.bind(_this);\n    _this.hide = _this.hide.bind(_this);\n    return _this;\n  }\n\n  createClass(Popover, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._target = getTarget(this.props.target);\n      this.handleProps();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.handleProps();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.clearShowTimeout();\n      this.clearHideTimeout();\n      this.removeTargetEvents();\n    }\n  }, {\n    key: 'getRef',\n    value: function getRef(ref) {\n      this._popover = ref;\n    }\n  }, {\n    key: 'getDelay',\n    value: function getDelay(key) {\n      var delay = this.props.delay;\n\n      if ((typeof delay === 'undefined' ? 'undefined' : _typeof(delay)) === 'object') {\n        return isNaN(delay[key]) ? DEFAULT_DELAYS[key] : delay[key];\n      }\n\n      return delay;\n    }\n  }, {\n    key: 'handleProps',\n    value: function handleProps() {\n      if (this.props.isOpen) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.clearHideTimeout();\n      this.addTargetEvents();\n\n      if (!this.props.isOpen) {\n        this.clearShowTimeout();\n        this._showTimeout = setTimeout(this.toggle, this.getDelay('show'));\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.clearShowTimeout();\n      this.removeTargetEvents();\n\n      if (this.props.isOpen) {\n        this.clearHideTimeout();\n        this._hideTimeout = setTimeout(this.toggle, this.getDelay('hide'));\n      }\n    }\n  }, {\n    key: 'clearShowTimeout',\n    value: function clearShowTimeout() {\n      clearTimeout(this._showTimeout);\n      this._showTimeout = undefined;\n    }\n  }, {\n    key: 'clearHideTimeout',\n    value: function clearHideTimeout() {\n      clearTimeout(this._hideTimeout);\n      this._hideTimeout = undefined;\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(e) {\n      if (e.target !== this._target && !this._target.contains(e.target) && e.target !== this._popover && !(this._popover && this._popover.contains(e.target))) {\n        if (this._hideTimeout) {\n          this.clearHideTimeout();\n        }\n\n        if (this.props.isOpen) {\n          this.toggle(e);\n        }\n      }\n    }\n  }, {\n    key: 'addTargetEvents',\n    value: function addTargetEvents() {\n      var _this2 = this;\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.addEventListener(event, _this2.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'removeTargetEvents',\n    value: function removeTargetEvents() {\n      var _this3 = this;\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.removeEventListener(event, _this3.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(e) {\n      if (this.props.disabled) {\n        return e && e.preventDefault();\n      }\n\n      return this.props.toggle(e);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.isOpen) {\n        return null;\n      }\n\n      var attributes = omit(this.props, Object.keys(propTypes$36));\n      var classes = mapToCssModules(classNames('popover-inner', this.props.innerClassName), this.props.cssModule);\n      var popperClasses = mapToCssModules(classNames('popover', 'show', this.props.className), this.props.cssModule);\n      return React.createElement(PopperContent, {\n        className: popperClasses,\n        target: this.props.target,\n        isOpen: this.props.isOpen,\n        hideArrow: this.props.hideArrow,\n        placement: this.props.placement,\n        placementPrefix: this.props.placementPrefix,\n        container: this.props.container,\n        modifiers: this.props.modifiers\n      }, React.createElement('div', _extends({}, attributes, {\n        className: classes,\n        ref: this.getRef\n      })));\n    }\n  }]);\n  return Popover;\n}(React.Component);\n\nPopover.propTypes = propTypes$36;\nPopover.defaultProps = defaultProps$34;\nvar propTypes$37 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$35 = {\n  tag: 'h3'\n};\n\nvar PopoverHeader = function PopoverHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'popover-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPopoverHeader.propTypes = propTypes$37;\nPopoverHeader.defaultProps = defaultProps$35;\n\nfunction PopoverTitle(props) {\n  warnOnce('The \"PopoverTitle\" component has been deprecated.\\nPlease use component \"PopoverHeader\".');\n  return React.createElement(PopoverHeader, props);\n}\n\nvar propTypes$38 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$36 = {\n  tag: 'div'\n};\n\nvar PopoverBody = function PopoverBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'popover-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPopoverBody.propTypes = propTypes$38;\nPopoverBody.defaultProps = defaultProps$36;\n\nfunction PopoverContent(props) {\n  warnOnce('The \"PopoverContent\" component has been deprecated.\\nPlease use component \"PopoverBody\".');\n  return React.createElement(PopoverBody, props);\n}\n\nvar propTypes$39 = {\n  children: PropTypes.node,\n  bar: PropTypes.bool,\n  multi: PropTypes.bool,\n  tag: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  animated: PropTypes.bool,\n  striped: PropTypes.bool,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  barClassName: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$37 = {\n  tag: 'div',\n  value: 0,\n  max: 100\n};\n\nvar Progress = function Progress(props) {\n  var children = props.children,\n      className = props.className,\n      barClassName = props.barClassName,\n      cssModule = props.cssModule,\n      value = props.value,\n      max = props.max,\n      animated = props.animated,\n      striped = props.striped,\n      color = props.color,\n      bar = props.bar,\n      multi = props.multi,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['children', 'className', 'barClassName', 'cssModule', 'value', 'max', 'animated', 'striped', 'color', 'bar', 'multi', 'tag']);\n  var percent = toNumber(value) / toNumber(max) * 100;\n  var progressClasses = mapToCssModules(classNames(className, 'progress'), cssModule);\n  var progressBarClasses = mapToCssModules(classNames('progress-bar', bar ? className || barClassName : barClassName, animated ? 'progress-bar-animated' : null, color ? 'bg-' + color : null, striped || animated ? 'progress-bar-striped' : null), cssModule);\n  var ProgressBar = multi ? children : React.createElement('div', {\n    className: progressBarClasses,\n    style: {\n      width: percent + '%'\n    },\n    role: 'progressbar',\n    'aria-valuenow': value,\n    'aria-valuemin': '0',\n    'aria-valuemax': max,\n    children: children\n  });\n\n  if (bar) {\n    return ProgressBar;\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: progressClasses,\n    children: ProgressBar\n  }));\n};\n\nProgress.propTypes = propTypes$39;\nProgress.defaultProps = defaultProps$37;\nvar propTypes$41 = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nvar Portal = function (_React$Component) {\n  inherits(Portal, _React$Component);\n\n  function Portal() {\n    classCallCheck(this, Portal);\n    return possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = propTypes$41;\n\nfunction noop() {}\n\nvar FadePropTypes = PropTypes.shape(Fade.propTypes);\nvar propTypes$40 = {\n  isOpen: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  centered: PropTypes.bool,\n  size: PropTypes.string,\n  toggle: PropTypes.func,\n  keyboard: PropTypes.bool,\n  role: PropTypes.string,\n  labelledBy: PropTypes.string,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['static'])]),\n  onEnter: PropTypes.func,\n  onExit: PropTypes.func,\n  onOpened: PropTypes.func,\n  onClosed: PropTypes.func,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  wrapClassName: PropTypes.string,\n  modalClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  contentClassName: PropTypes.string,\n  external: PropTypes.node,\n  fade: PropTypes.bool,\n  cssModule: PropTypes.object,\n  zIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  backdropTransition: FadePropTypes,\n  modalTransition: FadePropTypes\n};\nvar propsToOmit = Object.keys(propTypes$40);\nvar defaultProps$38 = {\n  isOpen: false,\n  autoFocus: true,\n  centered: false,\n  role: 'dialog',\n  backdrop: true,\n  keyboard: true,\n  zIndex: 1050,\n  fade: true,\n  onOpened: noop,\n  onClosed: noop,\n  modalTransition: {\n    timeout: TransitionTimeouts.Modal\n  },\n  backdropTransition: {\n    mountOnEnter: true,\n    timeout: TransitionTimeouts.Fade // uses standard fade transition\n\n  }\n};\n\nvar Modal = function (_React$Component) {\n  inherits(Modal, _React$Component);\n\n  function Modal(props) {\n    classCallCheck(this, Modal);\n\n    var _this = possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n    _this._element = null;\n    _this._originalBodyPadding = null;\n    _this.handleBackdropClick = _this.handleBackdropClick.bind(_this);\n    _this.handleEscape = _this.handleEscape.bind(_this);\n    _this.onOpened = _this.onOpened.bind(_this);\n    _this.onClosed = _this.onClosed.bind(_this);\n    _this.state = {\n      isOpen: props.isOpen\n    };\n\n    if (props.isOpen) {\n      _this.init();\n    }\n\n    return _this;\n  }\n\n  createClass(Modal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.onEnter) {\n        this.props.onEnter();\n      }\n\n      if (this.state.isOpen && this.props.autoFocus) {\n        this.setFocus();\n      }\n\n      this._isMounted = true;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.isOpen && !this.props.isOpen) {\n        this.setState({\n          isOpen: nextProps.isOpen\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      if (nextState.isOpen && !this.state.isOpen) {\n        this.init();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.autoFocus && this.state.isOpen && !prevState.isOpen) {\n        this.setFocus();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.onExit) {\n        this.props.onExit();\n      }\n\n      if (this.state.isOpen) {\n        this.destroy();\n      }\n\n      this._isMounted = false;\n    }\n  }, {\n    key: 'onOpened',\n    value: function onOpened(node, isAppearing) {\n      this.props.onOpened();\n      (this.props.modalTransition.onEntered || noop)(node, isAppearing);\n    }\n  }, {\n    key: 'onClosed',\n    value: function onClosed(node) {\n      // so all methods get called before it is unmounted\n      this.props.onClosed();\n      (this.props.modalTransition.onExited || noop)(node);\n      this.destroy();\n\n      if (this._isMounted) {\n        this.setState({\n          isOpen: false\n        });\n      }\n    }\n  }, {\n    key: 'setFocus',\n    value: function setFocus() {\n      if (this._dialog && this._dialog.parentNode && typeof this._dialog.parentNode.focus === 'function') {\n        this._dialog.parentNode.focus();\n      }\n    }\n  }, {\n    key: 'handleBackdropClick',\n    value: function handleBackdropClick(e) {\n      e.stopPropagation();\n      if (!this.props.isOpen || this.props.backdrop !== true) return;\n      var container = this._dialog;\n\n      if (e.target && !container.contains(e.target) && this.props.toggle) {\n        this.props.toggle(e);\n      }\n    }\n  }, {\n    key: 'handleEscape',\n    value: function handleEscape(e) {\n      if (this.props.isOpen && this.props.keyboard && e.keyCode === 27 && this.props.toggle) {\n        this.props.toggle(e);\n      }\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this._element = document.createElement('div');\n\n      this._element.setAttribute('tabindex', '-1');\n\n      this._element.style.position = 'relative';\n      this._element.style.zIndex = this.props.zIndex;\n      this._originalBodyPadding = getOriginalBodyPadding();\n      conditionallyUpdateScrollbar();\n      document.body.appendChild(this._element);\n\n      if (!this.bodyClassAdded) {\n        document.body.className = classNames(document.body.className, mapToCssModules('modal-open', this.props.cssModule));\n        this.bodyClassAdded = true;\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      if (this._element) {\n        document.body.removeChild(this._element);\n        this._element = null;\n      }\n\n      if (this.bodyClassAdded) {\n        var modalOpenClassName = mapToCssModules('modal-open', this.props.cssModule); // Use regex to prevent matching `modal-open` as part of a different class, e.g. `my-modal-opened`\n\n        var modalOpenClassNameRegex = new RegExp('(^| )' + modalOpenClassName + '( |$)');\n        document.body.className = document.body.className.replace(modalOpenClassNameRegex, ' ').trim();\n        this.bodyClassAdded = false;\n      }\n\n      setScrollbarWidth(this._originalBodyPadding);\n    }\n  }, {\n    key: 'renderModalDialog',\n    value: function renderModalDialog() {\n      var _classNames,\n          _this2 = this;\n\n      var attributes = omit(this.props, propsToOmit);\n      var dialogBaseClass = 'modal-dialog';\n      return React.createElement('div', _extends({}, attributes, {\n        className: mapToCssModules(classNames(dialogBaseClass, this.props.className, (_classNames = {}, defineProperty(_classNames, 'modal-' + this.props.size, this.props.size), defineProperty(_classNames, dialogBaseClass + '-centered', this.props.centered), _classNames)), this.props.cssModule),\n        role: 'document',\n        ref: function ref(c) {\n          _this2._dialog = c;\n        }\n      }), React.createElement('div', {\n        className: mapToCssModules(classNames('modal-content', this.props.contentClassName), this.props.cssModule)\n      }, this.props.children));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.isOpen) {\n        var _props = this.props,\n            wrapClassName = _props.wrapClassName,\n            modalClassName = _props.modalClassName,\n            backdropClassName = _props.backdropClassName,\n            cssModule = _props.cssModule,\n            isOpen = _props.isOpen,\n            backdrop = _props.backdrop,\n            role = _props.role,\n            labelledBy = _props.labelledBy,\n            external = _props.external;\n        var modalAttributes = {\n          onClick: this.handleBackdropClick,\n          onKeyUp: this.handleEscape,\n          style: {\n            display: 'block'\n          },\n          'aria-labelledby': labelledBy,\n          role: role,\n          tabIndex: '-1'\n        };\n        var hasTransition = this.props.fade;\n\n        var modalTransition = _extends({}, Fade.defaultProps, this.props.modalTransition, {\n          baseClass: hasTransition ? this.props.modalTransition.baseClass : '',\n          timeout: hasTransition ? this.props.modalTransition.timeout : 0\n        });\n\n        var backdropTransition = _extends({}, Fade.defaultProps, this.props.backdropTransition, {\n          baseClass: hasTransition ? this.props.backdropTransition.baseClass : '',\n          timeout: hasTransition ? this.props.backdropTransition.timeout : 0\n        });\n\n        return React.createElement(Portal, {\n          node: this._element\n        }, React.createElement('div', {\n          className: mapToCssModules(wrapClassName)\n        }, React.createElement(Fade, _extends({}, modalAttributes, modalTransition, {\n          'in': isOpen,\n          onEntered: this.onOpened,\n          onExited: this.onClosed,\n          cssModule: cssModule,\n          className: mapToCssModules(classNames('modal', modalClassName), cssModule)\n        }), external, this.renderModalDialog()), React.createElement(Fade, _extends({}, backdropTransition, {\n          'in': isOpen && !!backdrop,\n          cssModule: cssModule,\n          className: mapToCssModules(classNames('modal-backdrop', backdropClassName), cssModule)\n        }))));\n      }\n\n      return null;\n    }\n  }]);\n  return Modal;\n}(React.Component);\n\nModal.propTypes = propTypes$40;\nModal.defaultProps = defaultProps$38;\nvar propTypes$42 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  wrapTag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  toggle: PropTypes.func,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  closeAriaLabel: PropTypes.string\n};\nvar defaultProps$39 = {\n  tag: 'h5',\n  wrapTag: 'div',\n  closeAriaLabel: 'Close'\n};\n\nvar ModalHeader = function ModalHeader(props) {\n  var closeButton = void 0;\n  var className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      toggle = props.toggle,\n      Tag = props.tag,\n      WrapTag = props.wrapTag,\n      closeAriaLabel = props.closeAriaLabel,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'children', 'toggle', 'tag', 'wrapTag', 'closeAriaLabel']);\n  var classes = mapToCssModules(classNames(className, 'modal-header'), cssModule);\n\n  if (toggle) {\n    closeButton = React.createElement('button', {\n      type: 'button',\n      onClick: toggle,\n      className: mapToCssModules('close', cssModule),\n      'aria-label': closeAriaLabel\n    }, React.createElement('span', {\n      'aria-hidden': 'true'\n    }, String.fromCharCode(215)));\n  }\n\n  return React.createElement(WrapTag, _extends({}, attributes, {\n    className: classes\n  }), React.createElement(Tag, {\n    className: mapToCssModules('modal-title', cssModule)\n  }, children), closeButton);\n};\n\nModalHeader.propTypes = propTypes$42;\nModalHeader.defaultProps = defaultProps$39;\nvar propTypes$43 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$40 = {\n  tag: 'div'\n};\n\nvar ModalBody = function ModalBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'modal-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalBody.propTypes = propTypes$43;\nModalBody.defaultProps = defaultProps$40;\nvar propTypes$44 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$41 = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes$44;\nModalFooter.defaultProps = defaultProps$41;\nvar propTypes$45 = {\n  placement: PropTypes.oneOf(PopperPlacements),\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired,\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  isOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  hideArrow: PropTypes.bool,\n  className: PropTypes.string,\n  innerClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.func,\n  autohide: PropTypes.bool,\n  placementPrefix: PropTypes.string,\n  delay: PropTypes.oneOfType([PropTypes.shape({\n    show: PropTypes.number,\n    hide: PropTypes.number\n  }), PropTypes.number]),\n  modifiers: PropTypes.object\n};\nvar DEFAULT_DELAYS$1 = {\n  show: 0,\n  hide: 250\n};\nvar defaultProps$42 = {\n  isOpen: false,\n  hideArrow: false,\n  placement: 'top',\n  placementPrefix: 'bs-tooltip',\n  delay: DEFAULT_DELAYS$1,\n  autohide: true,\n  toggle: function toggle() {}\n};\n\nvar Tooltip = function (_React$Component) {\n  inherits(Tooltip, _React$Component);\n\n  function Tooltip(props) {\n    classCallCheck(this, Tooltip);\n\n    var _this = possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, props));\n\n    _this.addTargetEvents = _this.addTargetEvents.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.removeTargetEvents = _this.removeTargetEvents.bind(_this);\n    _this.toggle = _this.toggle.bind(_this);\n    _this.onMouseOverTooltip = _this.onMouseOverTooltip.bind(_this);\n    _this.onMouseLeaveTooltip = _this.onMouseLeaveTooltip.bind(_this);\n    _this.onMouseOverTooltipContent = _this.onMouseOverTooltipContent.bind(_this);\n    _this.onMouseLeaveTooltipContent = _this.onMouseLeaveTooltipContent.bind(_this);\n    _this.show = _this.show.bind(_this);\n    _this.hide = _this.hide.bind(_this);\n    return _this;\n  }\n\n  createClass(Tooltip, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._target = getTarget(this.props.target);\n      this.addTargetEvents();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeTargetEvents();\n    }\n  }, {\n    key: 'onMouseOverTooltip',\n    value: function onMouseOverTooltip() {\n      if (this._hideTimeout) {\n        this.clearHideTimeout();\n      }\n\n      this._showTimeout = setTimeout(this.show, this.getDelay('show'));\n    }\n  }, {\n    key: 'onMouseLeaveTooltip',\n    value: function onMouseLeaveTooltip() {\n      if (this._showTimeout) {\n        this.clearShowTimeout();\n      }\n\n      this._hideTimeout = setTimeout(this.hide, this.getDelay('hide'));\n    }\n  }, {\n    key: 'onMouseOverTooltipContent',\n    value: function onMouseOverTooltipContent() {\n      if (this.props.autohide) {\n        return;\n      }\n\n      if (this._hideTimeout) {\n        this.clearHideTimeout();\n      }\n    }\n  }, {\n    key: 'onMouseLeaveTooltipContent',\n    value: function onMouseLeaveTooltipContent() {\n      if (this.props.autohide) {\n        return;\n      }\n\n      if (this._showTimeout) {\n        this.clearShowTimeout();\n      }\n\n      this._hideTimeout = setTimeout(this.hide, this.getDelay('hide'));\n    }\n  }, {\n    key: 'getDelay',\n    value: function getDelay(key) {\n      var delay = this.props.delay;\n\n      if ((typeof delay === 'undefined' ? 'undefined' : _typeof(delay)) === 'object') {\n        return isNaN(delay[key]) ? DEFAULT_DELAYS$1[key] : delay[key];\n      }\n\n      return delay;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      if (!this.props.isOpen) {\n        this.clearShowTimeout();\n        this.toggle();\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (this.props.isOpen) {\n        this.clearHideTimeout();\n        this.toggle();\n      }\n    }\n  }, {\n    key: 'clearShowTimeout',\n    value: function clearShowTimeout() {\n      clearTimeout(this._showTimeout);\n      this._showTimeout = undefined;\n    }\n  }, {\n    key: 'clearHideTimeout',\n    value: function clearHideTimeout() {\n      clearTimeout(this._hideTimeout);\n      this._hideTimeout = undefined;\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(e) {\n      if (e.target === this._target || this._target.contains(e.target)) {\n        if (this._hideTimeout) {\n          this.clearHideTimeout();\n        }\n\n        if (!this.props.isOpen) {\n          this.toggle();\n        }\n      }\n    }\n  }, {\n    key: 'addTargetEvents',\n    value: function addTargetEvents() {\n      var _this2 = this;\n\n      this._target.addEventListener('mouseover', this.onMouseOverTooltip, true);\n\n      this._target.addEventListener('mouseout', this.onMouseLeaveTooltip, true);\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.addEventListener(event, _this2.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'removeTargetEvents',\n    value: function removeTargetEvents() {\n      var _this3 = this;\n\n      this._target.removeEventListener('mouseover', this.onMouseOverTooltip, true);\n\n      this._target.removeEventListener('mouseout', this.onMouseLeaveTooltip, true);\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.removeEventListener(event, _this3.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(e) {\n      if (this.props.disabled) {\n        return e && e.preventDefault();\n      }\n\n      return this.props.toggle();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.isOpen) {\n        return null;\n      }\n\n      var attributes = omit(this.props, Object.keys(propTypes$45));\n      var classes = mapToCssModules(classNames('tooltip-inner', this.props.innerClassName), this.props.cssModule);\n      var popperClasses = mapToCssModules(classNames('tooltip', 'show', this.props.className), this.props.cssModule);\n      return React.createElement(PopperContent, {\n        className: popperClasses,\n        target: this.props.target,\n        isOpen: this.props.isOpen,\n        hideArrow: this.props.hideArrow,\n        placement: this.props.placement,\n        placementPrefix: this.props.placementPrefix,\n        container: this.props.container,\n        modifiers: this.props.modifiers\n      }, React.createElement('div', _extends({}, attributes, {\n        className: classes,\n        onMouseOver: this.onMouseOverTooltipContent,\n        onMouseLeave: this.onMouseLeaveTooltipContent\n      })));\n    }\n  }]);\n  return Tooltip;\n}(React.Component);\n\nTooltip.propTypes = propTypes$45;\nTooltip.defaultProps = defaultProps$42;\nvar propTypes$46 = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  striped: PropTypes.bool,\n  inverse: deprecated(PropTypes.bool, 'Please use the prop \"dark\"'),\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  responsiveTag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$43 = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      striped = props.striped,\n      inverse = props.inverse,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'size', 'bordered', 'striped', 'inverse', 'dark', 'hover', 'responsive', 'tag', 'responsiveTag']);\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, striped ? 'table-striped' : false, dark || inverse ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = responsive === true ? 'table-responsive' : 'table-responsive-' + responsive;\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes$46;\nTable.defaultProps = defaultProps$43;\nvar propTypes$47 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  flush: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$44 = {\n  tag: 'ul'\n};\n\nvar ListGroup = function ListGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      flush = props.flush,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'flush']);\n  var classes = mapToCssModules(classNames(className, 'list-group', flush ? 'list-group-flush' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroup.propTypes = propTypes$47;\nListGroup.defaultProps = defaultProps$44;\nvar propTypes$48 = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$45 = {\n  tag: 'form'\n};\n\nvar Form = function Form(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      inline = props.inline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'inline', 'tag', 'innerRef']);\n  var classes = mapToCssModules(classNames(className, inline ? 'form-inline' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n};\n\nForm.propTypes = propTypes$48;\nForm.defaultProps = defaultProps$45;\nvar propTypes$49 = {\n  children: PropTypes.node,\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  valid: PropTypes.bool\n};\nvar defaultProps$46 = {\n  tag: 'div',\n  valid: undefined\n};\n\nvar FormFeedback = function FormFeedback(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      valid = props.valid,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'valid', 'tag']);\n  var classes = mapToCssModules(classNames(className, valid ? 'valid-feedback' : 'invalid-feedback'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormFeedback.propTypes = propTypes$49;\nFormFeedback.defaultProps = defaultProps$46;\nvar propTypes$50 = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$47 = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'row', 'disabled', 'check', 'inline', 'tag']);\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes$50;\nFormGroup.defaultProps = defaultProps$47;\nvar propTypes$51 = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  color: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$48 = {\n  tag: 'small',\n  color: 'muted'\n};\n\nvar FormText = function FormText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      inline = props.inline,\n      color = props.color,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'inline', 'color', 'tag']);\n  var classes = mapToCssModules(classNames(className, !inline ? 'form-text' : false, color ? 'text-' + color : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormText.propTypes = propTypes$51;\nFormText.defaultProps = defaultProps$48;\n/* eslint react/prefer-stateless-function: 0 */\n\nvar propTypes$52 = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.string,\n  bsSize: PropTypes.string,\n  state: deprecated(PropTypes.string, 'Please use the props \"valid\" and \"invalid\" to indicate the state.'),\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  static: deprecated(PropTypes.bool, 'Please use the prop \"plaintext\"'),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$49 = {\n  type: 'text'\n};\n\nvar Input = function (_React$Component) {\n  inherits(Input, _React$Component);\n\n  function Input() {\n    classCallCheck(this, Input);\n    return possibleConstructorReturn(this, (Input.__proto__ || Object.getPrototypeOf(Input)).apply(this, arguments));\n  }\n\n  createClass(Input, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          type = _props.type,\n          bsSize = _props.bsSize,\n          state = _props.state,\n          valid = _props.valid,\n          invalid = _props.invalid,\n          tag = _props.tag,\n          addon = _props.addon,\n          staticInput = _props.static,\n          plaintext = _props.plaintext,\n          innerRef = _props.innerRef,\n          attributes = objectWithoutProperties(_props, ['className', 'cssModule', 'type', 'bsSize', 'state', 'valid', 'invalid', 'tag', 'addon', 'static', 'plaintext', 'innerRef']);\n      var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n      var isNotaNumber = new RegExp('\\\\D', 'g');\n      var fileInput = type === 'file';\n      var textareaInput = type === 'textarea';\n      var selectInput = type === 'select';\n      var Tag = tag || (selectInput || textareaInput ? type : 'input');\n      var formControlClass = 'form-control';\n\n      if (plaintext || staticInput) {\n        formControlClass = formControlClass + '-plaintext';\n        Tag = tag || 'p';\n      } else if (fileInput) {\n        formControlClass = formControlClass + '-file';\n      } else if (checkInput) {\n        if (addon) {\n          formControlClass = null;\n        } else {\n          formControlClass = 'form-check-input';\n        }\n      }\n\n      if (state && typeof valid === 'undefined' && typeof invalid === 'undefined') {\n        if (state === 'danger') {\n          invalid = true;\n        } else if (state === 'success') {\n          valid = true;\n        }\n      }\n\n      if (attributes.size && isNotaNumber.test(attributes.size)) {\n        warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n        bsSize = attributes.size;\n        delete attributes.size;\n      }\n\n      var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? 'form-control-' + bsSize : false, formControlClass), cssModule);\n\n      if (Tag === 'input' || typeof tag !== 'string') {\n        attributes.type = type;\n      }\n\n      return React.createElement(Tag, _extends({}, attributes, {\n        ref: innerRef,\n        className: classes\n      }));\n    }\n  }]);\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes$52;\nInput.defaultProps = defaultProps$49;\nvar propTypes$53 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  size: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$50 = {\n  tag: 'div'\n};\n\nvar InputGroup = function InputGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      size = props.size,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'size']);\n  var classes = mapToCssModules(classNames(className, 'input-group', size ? 'input-group-' + size : null), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nInputGroup.propTypes = propTypes$53;\nInputGroup.defaultProps = defaultProps$50;\nvar propTypes$55 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$52 = {\n  tag: 'span'\n};\n\nvar InputGroupText = function InputGroupText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'input-group-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nInputGroupText.propTypes = propTypes$55;\nInputGroupText.defaultProps = defaultProps$52;\nvar propTypes$54 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$51 = {\n  tag: 'div'\n};\n\nvar InputGroupAddon = function InputGroupAddon(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      addonType = props.addonType,\n      children = props.children,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'addonType', 'children']);\n  var classes = mapToCssModules(classNames(className, 'input-group-' + addonType), cssModule); // Convenience to assist with transition\n\n  if (typeof children === 'string') {\n    return React.createElement(Tag, _extends({}, attributes, {\n      className: classes\n    }), React.createElement(InputGroupText, {\n      children: children\n    }));\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    children: children\n  }));\n};\n\nInputGroupAddon.propTypes = propTypes$54;\nInputGroupAddon.defaultProps = defaultProps$51;\nvar propTypes$56 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node,\n  groupClassName: PropTypes.string,\n  groupAttributes: PropTypes.object,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\n\nvar InputGroupButton = function InputGroupButton(props) {\n  warnOnce('The \"InputGroupButton\" component has been deprecated.\\nPlease use component \"InputGroupAddon\".');\n  var children = props.children,\n      groupClassName = props.groupClassName,\n      groupAttributes = props.groupAttributes,\n      propsWithoutGroup = objectWithoutProperties(props, ['children', 'groupClassName', 'groupAttributes']);\n\n  if (typeof children === 'string') {\n    var cssModule = propsWithoutGroup.cssModule,\n        tag = propsWithoutGroup.tag,\n        addonType = propsWithoutGroup.addonType,\n        attributes = objectWithoutProperties(propsWithoutGroup, ['cssModule', 'tag', 'addonType']);\n\n    var allGroupAttributes = _extends({}, groupAttributes, {\n      cssModule: cssModule,\n      tag: tag,\n      addonType: addonType\n    });\n\n    return React.createElement(InputGroupAddon, _extends({}, allGroupAttributes, {\n      className: groupClassName\n    }), React.createElement(Button, _extends({}, attributes, {\n      children: children\n    })));\n  }\n\n  return React.createElement(InputGroupAddon, _extends({}, props, {\n    children: children\n  }));\n};\n\nInputGroupButton.propTypes = propTypes$56;\nvar propTypes$57 = {\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node\n};\n\nvar InputGroupButtonDropdown = function InputGroupButtonDropdown(props) {\n  return React.createElement(Dropdown, props);\n};\n\nInputGroupButtonDropdown.propTypes = propTypes$57;\nvar colWidths$1 = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp$1 = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps$1 = PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.shape({\n  size: stringOrNumberProp$1,\n  push: deprecated(stringOrNumberProp$1, 'Please use the prop \"order\"'),\n  pull: deprecated(stringOrNumberProp$1, 'Please use the prop \"order\"'),\n  order: stringOrNumberProp$1,\n  offset: stringOrNumberProp$1\n})]);\nvar propTypes$58 = {\n  children: PropTypes.node,\n  hidden: PropTypes.bool,\n  check: PropTypes.bool,\n  size: PropTypes.string,\n  for: PropTypes.string,\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  xs: columnProps$1,\n  sm: columnProps$1,\n  md: columnProps$1,\n  lg: columnProps$1,\n  xl: columnProps$1,\n  widths: PropTypes.array\n};\nvar defaultProps$53 = {\n  tag: 'label',\n  widths: colWidths$1\n};\n\nvar getColumnSizeClass$1 = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : 'col-' + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : 'col-' + colWidth + '-auto';\n  }\n\n  return isXs ? 'col-' + colSize : 'col-' + colWidth + '-' + colSize;\n};\n\nvar Label = function Label(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      hidden = props.hidden,\n      widths = props.widths,\n      Tag = props.tag,\n      check = props.check,\n      size = props.size,\n      htmlFor = props.for,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'hidden', 'widths', 'tag', 'check', 'size', 'for']);\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n    var colClass = void 0;\n\n    if (isobject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : '-' + colWidth + '-';\n      colClass = getColumnSizeClass$1(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, defineProperty(_classNames, colClass, columnProp.size || columnProp.size === ''), defineProperty(_classNames, 'order' + colSizeInterfix + columnProp.order, columnProp.order || columnProp.order === 0), defineProperty(_classNames, 'offset' + colSizeInterfix + columnProp.offset, columnProp.offset || columnProp.offset === 0), _classNames))), cssModule);\n    } else {\n      colClass = getColumnSizeClass$1(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n  var classes = mapToCssModules(classNames(className, hidden ? 'sr-only' : false, check ? 'form-check-label' : false, size ? 'col-form-label-' + size : false, colClasses, colClasses.length ? 'col-form-label' : false), cssModule);\n  return React.createElement(Tag, _extends({\n    htmlFor: htmlFor\n  }, attributes, {\n    className: classes\n  }));\n};\n\nLabel.propTypes = propTypes$58;\nLabel.defaultProps = defaultProps$53;\nvar propTypes$59 = {\n  body: PropTypes.bool,\n  bottom: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  heading: PropTypes.bool,\n  left: PropTypes.bool,\n  list: PropTypes.bool,\n  middle: PropTypes.bool,\n  object: PropTypes.bool,\n  right: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  top: PropTypes.bool\n};\n\nvar Media = function Media(props) {\n  var body = props.body,\n      bottom = props.bottom,\n      className = props.className,\n      cssModule = props.cssModule,\n      heading = props.heading,\n      left = props.left,\n      list = props.list,\n      middle = props.middle,\n      object = props.object,\n      right = props.right,\n      tag = props.tag,\n      top = props.top,\n      attributes = objectWithoutProperties(props, ['body', 'bottom', 'className', 'cssModule', 'heading', 'left', 'list', 'middle', 'object', 'right', 'tag', 'top']);\n  var defaultTag = void 0;\n\n  if (heading) {\n    defaultTag = 'h4';\n  } else if (left || right) {\n    defaultTag = 'a';\n  } else if (object) {\n    defaultTag = 'img';\n  } else if (list) {\n    defaultTag = 'ul';\n  } else {\n    defaultTag = 'div';\n  }\n\n  var Tag = tag || defaultTag;\n  var classes = mapToCssModules(classNames(className, {\n    'media-body': body,\n    'media-heading': heading,\n    'media-left': left,\n    'media-right': right,\n    'media-top': top,\n    'media-bottom': bottom,\n    'media-middle': middle,\n    'media-object': object,\n    'media-list': list,\n    media: !body && !heading && !left && !right && !top && !bottom && !middle && !object && !list\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nMedia.propTypes = propTypes$59;\nvar propTypes$60 = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$54 = {\n  tag: 'ul'\n};\n\nvar Pagination = function Pagination(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'size', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'pagination', defineProperty({}, 'pagination-' + size, !!size)), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPagination.propTypes = propTypes$60;\nPagination.defaultProps = defaultProps$54;\nvar propTypes$61 = {\n  active: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  disabled: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$55 = {\n  tag: 'li'\n};\n\nvar PaginationItem = function PaginationItem(props) {\n  var active = props.active,\n      className = props.className,\n      cssModule = props.cssModule,\n      disabled = props.disabled,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['active', 'className', 'cssModule', 'disabled', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'page-item', {\n    active: active,\n    disabled: disabled\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPaginationItem.propTypes = propTypes$61;\nPaginationItem.defaultProps = defaultProps$55;\nvar propTypes$62 = {\n  'aria-label': PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  next: PropTypes.bool,\n  previous: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$56 = {\n  tag: 'a'\n};\n\nvar PaginationLink = function PaginationLink(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      next = props.next,\n      previous = props.previous,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'next', 'previous', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'page-link'), cssModule);\n  var defaultAriaLabel = void 0;\n\n  if (previous) {\n    defaultAriaLabel = 'Previous';\n  } else if (next) {\n    defaultAriaLabel = 'Next';\n  }\n\n  var ariaLabel = props['aria-label'] || defaultAriaLabel;\n  var defaultCaret = void 0;\n\n  if (previous) {\n    defaultCaret = '\\xAB';\n  } else if (next) {\n    defaultCaret = '\\xBB';\n  }\n\n  var children = props.children;\n\n  if (children && Array.isArray(children) && children.length === 0) {\n    children = null;\n  }\n\n  if (previous || next) {\n    children = [React.createElement('span', {\n      'aria-hidden': 'true',\n      key: 'caret'\n    }, children || defaultCaret), React.createElement('span', {\n      className: 'sr-only',\n      key: 'sr'\n    }, ariaLabel)];\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    'aria-label': ariaLabel\n  }), children);\n};\n\nPaginationLink.propTypes = propTypes$62;\nPaginationLink.defaultProps = defaultProps$56;\nvar propTypes$63 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  activeTab: PropTypes.any,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$57 = {\n  tag: 'div'\n};\nvar childContextTypes$2 = {\n  activeTabId: PropTypes.any\n};\n\nvar TabContent = function (_Component) {\n  inherits(TabContent, _Component);\n\n  function TabContent(props) {\n    classCallCheck(this, TabContent);\n\n    var _this = possibleConstructorReturn(this, (TabContent.__proto__ || Object.getPrototypeOf(TabContent)).call(this, props));\n\n    _this.state = {\n      activeTab: _this.props.activeTab\n    };\n    return _this;\n  }\n\n  createClass(TabContent, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        activeTabId: this.state.activeTab\n      };\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.activeTab !== nextProps.activeTab) {\n        this.setState({\n          activeTab: nextProps.activeTab\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          Tag = _props.tag;\n      var attributes = omit(this.props, Object.keys(propTypes$63));\n      var classes = mapToCssModules(classNames('tab-content', className), cssModule);\n      return React.createElement(Tag, _extends({}, attributes, {\n        className: classes\n      }));\n    }\n  }]);\n  return TabContent;\n}(Component);\n\nTabContent.propTypes = propTypes$63;\nTabContent.defaultProps = defaultProps$57;\nTabContent.childContextTypes = childContextTypes$2;\nvar propTypes$64 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  tabId: PropTypes.any\n};\nvar defaultProps$58 = {\n  tag: 'div'\n};\nvar contextTypes$3 = {\n  activeTabId: PropTypes.any\n};\n\nfunction TabPane(props, context) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      tabId = props.tabId,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tabId', 'tag']);\n  var classes = mapToCssModules(classNames('tab-pane', className, {\n    active: tabId === context.activeTabId\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n}\n\nTabPane.propTypes = propTypes$64;\nTabPane.defaultProps = defaultProps$58;\nTabPane.contextTypes = contextTypes$3;\nvar propTypes$65 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$59 = {\n  tag: 'div'\n};\n\nvar Jumbotron = function Jumbotron(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      fluid = props.fluid,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'fluid']);\n  var classes = mapToCssModules(classNames(className, 'jumbotron', fluid ? 'jumbotron-fluid' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nJumbotron.propTypes = propTypes$65;\nJumbotron.defaultProps = defaultProps$59;\nvar propTypes$66 = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  closeAriaLabel: PropTypes.string,\n  cssModule: PropTypes.object,\n  color: PropTypes.string,\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transition: PropTypes.shape(Fade.propTypes)\n};\nvar defaultProps$60 = {\n  color: 'success',\n  isOpen: true,\n  tag: 'div',\n  closeAriaLabel: 'Close',\n  transition: _extends({}, Fade.defaultProps, {\n    unmountOnExit: true\n  })\n};\n\nfunction Alert(props) {\n  var className = props.className,\n      closeClassName = props.closeClassName,\n      closeAriaLabel = props.closeAriaLabel,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      color = props.color,\n      isOpen = props.isOpen,\n      toggle = props.toggle,\n      children = props.children,\n      transition = props.transition,\n      attributes = objectWithoutProperties(props, ['className', 'closeClassName', 'closeAriaLabel', 'cssModule', 'tag', 'color', 'isOpen', 'toggle', 'children', 'transition']);\n  var classes = mapToCssModules(classNames(className, 'alert', 'alert-' + color, {\n    'alert-dismissible': toggle\n  }), cssModule);\n  var closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n  return React.createElement(Fade, _extends({}, attributes, transition, {\n    tag: Tag,\n    className: classes,\n    'in': isOpen,\n    role: 'alert'\n  }), toggle ? React.createElement('button', {\n    type: 'button',\n    className: closeClasses,\n    'aria-label': closeAriaLabel,\n    onClick: toggle\n  }, React.createElement('span', {\n    'aria-hidden': 'true'\n  }, '\\xD7')) : null, children);\n}\n\nAlert.propTypes = propTypes$66;\nAlert.defaultProps = defaultProps$60;\n\nvar _transitionStatusToCl;\n\nvar propTypes$67 = _extends({}, Transition.propTypes, {\n  isOpen: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.node,\n  navbar: PropTypes.bool,\n  cssModule: PropTypes.object\n});\n\nvar defaultProps$61 = _extends({}, Transition.defaultProps, {\n  isOpen: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  tag: 'div',\n  timeout: TransitionTimeouts.Collapse\n});\n\nvar transitionStatusToClassHash = (_transitionStatusToCl = {}, defineProperty(_transitionStatusToCl, TransitionStatuses.ENTERING, 'collapsing'), defineProperty(_transitionStatusToCl, TransitionStatuses.ENTERED, 'collapse show'), defineProperty(_transitionStatusToCl, TransitionStatuses.EXITING, 'collapsing'), defineProperty(_transitionStatusToCl, TransitionStatuses.EXITED, 'collapse'), _transitionStatusToCl);\n\nfunction getTransitionClass(status) {\n  return transitionStatusToClassHash[status] || 'collapse';\n}\n\nfunction getHeight(node) {\n  return node.scrollHeight;\n}\n\nvar Collapse = function (_Component) {\n  inherits(Collapse, _Component);\n\n  function Collapse(props) {\n    classCallCheck(this, Collapse);\n\n    var _this = possibleConstructorReturn(this, (Collapse.__proto__ || Object.getPrototypeOf(Collapse)).call(this, props));\n\n    _this.state = {\n      height: null\n    };\n    ['onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'].forEach(function (name) {\n      _this[name] = _this[name].bind(_this);\n    });\n    return _this;\n  }\n\n  createClass(Collapse, [{\n    key: 'onEntering',\n    value: function onEntering(node, isAppearing) {\n      this.setState({\n        height: getHeight(node)\n      });\n      this.props.onEntering(node, isAppearing);\n    }\n  }, {\n    key: 'onEntered',\n    value: function onEntered(node, isAppearing) {\n      this.setState({\n        height: null\n      });\n      this.props.onEntered(node, isAppearing);\n    }\n  }, {\n    key: 'onExit',\n    value: function onExit(node) {\n      this.setState({\n        height: getHeight(node)\n      });\n      this.props.onExit(node);\n    }\n  }, {\n    key: 'onExiting',\n    value: function onExiting(node) {\n      // getting this variable triggers a reflow\n      var _unused = node.offsetHeight; // eslint-disable-line no-unused-vars\n\n      this.setState({\n        height: 0\n      });\n      this.props.onExiting(node);\n    }\n  }, {\n    key: 'onExited',\n    value: function onExited(node) {\n      this.setState({\n        height: null\n      });\n      this.props.onExited(node);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          Tag = _props.tag,\n          isOpen = _props.isOpen,\n          className = _props.className,\n          navbar = _props.navbar,\n          cssModule = _props.cssModule,\n          children = _props.children,\n          otherProps = objectWithoutProperties(_props, ['tag', 'isOpen', 'className', 'navbar', 'cssModule', 'children']);\n      var height = this.state.height; // In NODE_ENV=production the Transition.propTypes are wrapped which results in an\n      // empty object \"{}\". This is the result of the `react-transition-group` babel\n      // configuration settings. Therefore, to ensure that production builds work without\n      // error, we can either explicitly define keys or use the Transition.defaultProps.\n      // Using the Transition.defaultProps excludes any required props. Thus, the best\n      // solution is to explicitly define required props in our utilities and reference these.\n      // This also gives us more flexibility in the future to remove the prop-types\n      // dependency in distribution builds (Similar to how `react-transition-group` does).\n      // Note: Without omitting the `react-transition-group` props, the resulting child\n      // Tag component would inherit the Transition properties as attributes for the HTML\n      // element which results in errors/warnings for non-valid attributes.\n\n      var transitionProps = pick(otherProps, TransitionPropTypeKeys);\n      var childProps = omit(otherProps, TransitionPropTypeKeys);\n      return React.createElement(Transition, _extends({}, transitionProps, {\n        'in': isOpen,\n        onEntering: this.onEntering,\n        onEntered: this.onEntered,\n        onExit: this.onExit,\n        onExiting: this.onExiting,\n        onExited: this.onExited\n      }), function (status) {\n        var collapseClass = getTransitionClass(status);\n        var classes = mapToCssModules(classNames(className, collapseClass, navbar && 'navbar-collapse'), cssModule);\n        var style = height === null ? null : {\n          height: height\n        };\n        return React.createElement(Tag, _extends({}, childProps, {\n          style: _extends({}, childProps.style, style),\n          className: classes\n        }), children);\n      });\n    }\n  }]);\n  return Collapse;\n}(Component);\n\nCollapse.propTypes = propTypes$67;\nCollapse.defaultProps = defaultProps$61;\nvar propTypes$68 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  color: PropTypes.string,\n  action: PropTypes.bool,\n  className: PropTypes.any,\n  cssModule: PropTypes.object\n};\nvar defaultProps$62 = {\n  tag: 'li'\n};\n\nvar handleDisabledOnClick = function handleDisabledOnClick(e) {\n  e.preventDefault();\n};\n\nvar ListGroupItem = function ListGroupItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      active = props.active,\n      disabled = props.disabled,\n      action = props.action,\n      color = props.color,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'active', 'disabled', 'action', 'color']);\n  var classes = mapToCssModules(classNames(className, active ? 'active' : false, disabled ? 'disabled' : false, action ? 'list-group-item-action' : false, color ? 'list-group-item-' + color : false, 'list-group-item'), cssModule); // Prevent click event when disabled.\n\n  if (disabled) {\n    attributes.onClick = handleDisabledOnClick;\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroupItem.propTypes = propTypes$68;\nListGroupItem.defaultProps = defaultProps$62;\nvar propTypes$69 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.any,\n  cssModule: PropTypes.object\n};\nvar defaultProps$63 = {\n  tag: 'h5'\n};\n\nvar ListGroupItemHeading = function ListGroupItemHeading(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'list-group-item-heading'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroupItemHeading.propTypes = propTypes$69;\nListGroupItemHeading.defaultProps = defaultProps$63;\nvar propTypes$70 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.any,\n  cssModule: PropTypes.object\n};\nvar defaultProps$64 = {\n  tag: 'p'\n};\n\nvar ListGroupItemText = function ListGroupItemText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'list-group-item-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroupItemText.propTypes = propTypes$70;\nListGroupItemText.defaultProps = defaultProps$64;\n\nvar UncontrolledAlert = function (_Component) {\n  inherits(UncontrolledAlert, _Component);\n\n  function UncontrolledAlert(props) {\n    classCallCheck(this, UncontrolledAlert);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledAlert.__proto__ || Object.getPrototypeOf(UncontrolledAlert)).call(this, props));\n\n    _this.state = {\n      isOpen: true\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledAlert, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Alert, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledAlert;\n}(Component);\n\nvar UncontrolledButtonDropdown = function (_Component) {\n  inherits(UncontrolledButtonDropdown, _Component);\n\n  function UncontrolledButtonDropdown(props) {\n    classCallCheck(this, UncontrolledButtonDropdown);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledButtonDropdown.__proto__ || Object.getPrototypeOf(UncontrolledButtonDropdown)).call(this, props));\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledButtonDropdown, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(ButtonDropdown, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledButtonDropdown;\n}(Component);\n\nvar UncontrolledDropdown = function (_Component) {\n  inherits(UncontrolledDropdown, _Component);\n\n  function UncontrolledDropdown(props) {\n    classCallCheck(this, UncontrolledDropdown);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledDropdown.__proto__ || Object.getPrototypeOf(UncontrolledDropdown)).call(this, props));\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledDropdown, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Dropdown, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledDropdown;\n}(Component);\n\nvar UncontrolledNavDropdown = function UncontrolledNavDropdown(props) {\n  warnOnce('The \"UncontrolledNavDropdown\" component has been deprecated.\\nPlease use component \"UncontrolledDropdown\" with nav prop.');\n  return React.createElement(UncontrolledDropdown, _extends({\n    nav: true\n  }, props));\n};\n\nvar UncontrolledTooltip = function (_Component) {\n  inherits(UncontrolledTooltip, _Component);\n\n  function UncontrolledTooltip(props) {\n    classCallCheck(this, UncontrolledTooltip);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledTooltip.__proto__ || Object.getPrototypeOf(UncontrolledTooltip)).call(this, props));\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledTooltip, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Tooltip, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledTooltip;\n}(Component);\n\nexport { Alert, Container, Row, Col, Navbar, NavbarBrand, NavbarToggler, Nav, NavItem, NavDropdown, NavLink, Breadcrumb, BreadcrumbItem, Button, ButtonDropdown, ButtonGroup, ButtonToolbar, Dropdown, DropdownItem, DropdownMenu, DropdownToggle, Fade, Badge, Card, CardLink, CardGroup, CardDeck, CardColumns, CardBody, CardBlock, CardFooter, CardHeader, CardImg, CardImgOverlay, Carousel, UncontrolledCarousel, CarouselControl, CarouselItem, CarouselIndicators, CarouselCaption, CardSubtitle, CardText, CardTitle, Popover, PopoverContent, PopoverBody, PopoverTitle, PopoverHeader, Progress, Modal, ModalHeader, ModalBody, ModalFooter, PopperContent, PopperTargetHelper, Tooltip, Table, ListGroup, Form, FormFeedback, FormGroup, FormText, Input, InputGroup, InputGroupAddon, InputGroupButton, InputGroupButtonDropdown, InputGroupText, Label, Media, Pagination, PaginationItem, PaginationLink, TabContent, TabPane, Jumbotron, Collapse, ListGroupItem, ListGroupItemText, ListGroupItemHeading, UncontrolledAlert, UncontrolledButtonDropdown, UncontrolledDropdown, UncontrolledNavDropdown, UncontrolledTooltip, utils as Util };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Tooltip } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar IconButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(IconButton, _React$Component);\n\n  function IconButton(props) {\n    var _this;\n\n    _classCallCheck(this, IconButton);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IconButton).call(this, props));\n\n    _this.toggle = function () {\n      if (_this.props.disabled || _this.state.isFreezed && !_this.state.tooltipOpen) return;\n\n      _this.setState({\n        tooltipOpen: !_this.state.tooltipOpen,\n        isFreezed: true\n      });\n\n      var that = _assertThisInitialized(_this);\n\n      setTimeout(function () {\n        that.setState({\n          isFreezed: false\n        });\n      }, 100);\n    };\n\n    _this.state = {\n      tooltipOpen: false,\n      isFreezed: false\n    };\n    return _this;\n  }\n\n  _createClass(IconButton, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (this.props.disabled !== nextProps.disabled) {\n        this.setState({\n          tooltipOpen: false\n        });\n        return true;\n      } // only render iconButton when the button is active or show show tooltip\n\n\n      if (nextState.tooltipOpen === this.state.tooltipOpen && nextProps.isActive === this.props.isActive) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.props.isRichEditor ? 'rich-icon-btn ' + (this.props.disabled ? 'rich-icon-btn-disabled' : 'rich-icon-btn-hover') : 'btn btn-icon btn-secondary btn-active';\n      return React.createElement(\"button\", {\n        id: this.props.id,\n        type: 'button',\n        onClick: this.props.disabled ? null : this.props.onClick,\n        onMouseDown: this.props.disabled ? null : this.props.onMouseDown,\n        className: className,\n        \"data-active\": this.props.isActive || false,\n        disabled: this.props.disabled\n      }, React.createElement(\"i\", {\n        className: this.props.icon\n      }), React.createElement(Tooltip, {\n        toggle: this.toggle,\n        delay: {\n          show: 0,\n          hide: 0\n        },\n        target: this.props.id,\n        placement: \"bottom\",\n        isOpen: this.state.tooltipOpen\n      }, this.props.text));\n    }\n  }]);\n\n  return IconButton;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(IconButton);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Fragment } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\nimport { EditorUtils } from '../editor/editor-utils/common-editor-utils';\n\nvar AddLinkDialog =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(AddLinkDialog, _React$PureComponent);\n\n  function AddLinkDialog(props) {\n    var _this;\n\n    _classCallCheck(this, AddLinkDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddLinkDialog).call(this, props));\n\n    _this.setInitialValue = function () {\n      var text = _this.editorUtils.getSelectedText();\n\n      if (_this.isLinkActive) {\n        var linkNode = _this.editorUtils.getCurrentLinkNode();\n\n        _this.setState({\n          title: _this.editorUtils.getLinkText(linkNode),\n          url: linkNode.data.href\n        });\n      } else {\n        _this.setState({\n          title: text,\n          url: ''\n        });\n      }\n    };\n\n    _this.handleUrlChange = function (event) {\n      _this.setState({\n        url: event.target.value\n      });\n    };\n\n    _this.handleTitleChange = function (event) {\n      _this.setState({\n        title: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (!_this.isLinkActive) {\n        _this.editorUtils.insertLink({\n          text: _this.state.title,\n          url: _this.state.url,\n          selection: _this.editorSelection\n        });\n      } else {\n        _this.editorUtils.setLink({\n          text: _this.state.title,\n          url: _this.state.url,\n          selection: _this.editorSelection\n        });\n      }\n\n      _this.props.toggleLinkDialog();\n    };\n\n    _this.editorUtils = new EditorUtils(window.seafileEditor);\n    _this.isLinkActive = _this.editorUtils.isLinkActive();\n    _this.editorSelection = null;\n    _this.state = {\n      url: '',\n      title: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddLinkDialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.editorSelection = window.seafileEditor.selection;\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setInitialValue();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        isOpen: true,\n        toggle: this.props.toggleLinkDialog,\n        className: this.props.className\n      }, React.createElement(ModalHeader, {\n        toggle: this.props.toggleLinkDialog\n      }, this.props.t('insert_link')), React.createElement(ModalBody, null, React.createElement(Fragment, null, React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"addLink\"\n      }, this.props.t('link_address')), React.createElement(\"input\", {\n        type: \"url\",\n        className: \"form-control\",\n        id: \"addLink\",\n        value: this.state.url,\n        onChange: this.handleUrlChange\n      })), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"addTitle\"\n      }, this.props.t('link_title')), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"addTitle\",\n        value: this.state.title,\n        onChange: this.handleTitleChange\n      })))), React.createElement(ModalFooter, null, React.createElement(Button, {\n        color: \"primary\",\n        disabled: false,\n        onClick: this.handleSubmit\n      }, this.props.t('add_link')), React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.props.toggleLinkDialog\n      }, this.props.t('cancel'))));\n    }\n  }]);\n\n  return AddLinkDialog;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(AddLinkDialog);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar AddImageDialog =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(AddImageDialog, _React$PureComponent);\n\n  function AddImageDialog(props) {\n    var _this;\n\n    _classCallCheck(this, AddImageDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddImageDialog).call(this, props));\n\n    _this.handleUrlChange = function (event) {\n      _this.setState({\n        url: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      _this.props.insertImage({\n        url: _this.state.url,\n        selection: _this.editorSelection\n      });\n\n      _this.props.onToggleImageDialog();\n    };\n\n    _this.state = {\n      url: ''\n    };\n    _this.editorSelection = null;\n    return _this;\n  }\n\n  _createClass(AddImageDialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.editorSelection = window.seafileEditor.selection;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        isOpen: true,\n        toggle: this.props.onToggleImageDialog,\n        className: this.props.className\n      }, React.createElement(ModalHeader, {\n        toggle: this.props.onToggleImageDialog\n      }, this.props.t('insert_image')), React.createElement(ModalBody, null, React.createElement(\"p\", null, this.props.t('image_address')), React.createElement(\"input\", {\n        type: \"url\",\n        value: this.state.value,\n        onChange: this.handleUrlChange\n      })), React.createElement(ModalFooter, null, React.createElement(Button, {\n        color: \"primary\",\n        disabled: this.state.url.length === 0,\n        onClick: this.handleSubmit\n      }, this.props.t('submit')), ' ', React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.props.onToggleImageDialog\n      }, this.props.t('cancel'))));\n    }\n  }]);\n\n  return AddImageDialog;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(AddImageDialog);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport IconButton from './icon-button';\nimport ButtonGroup from './button-group';\nimport { withTranslation } from 'react-i18next';\n\nvar TableToolBar =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(TableToolBar, _React$PureComponent);\n\n  function TableToolBar() {\n    _classCallCheck(this, TableToolBar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TableToolBar).apply(this, arguments));\n  }\n\n  _createClass(TableToolBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(DropList, {\n        icon: 'ico ico-left-align',\n        items: [{\n          handle: function handle(e) {\n            _this.props.onSetAlign(e, 'left');\n          },\n          icon: 'ico ico-left-align',\n          text: this.props.t('left')\n        }, {\n          handle: function handle(e) {\n            _this.props.onSetAlign(e, 'center');\n          },\n          icon: 'ico ico-center-horizontally',\n          text: this.props.t('center')\n        }, {\n          handle: function handle(e) {\n            _this.props.onSetAlign(e, 'right');\n          },\n          icon: 'ico ico-right-align',\n          text: this.props.t('right')\n        }]\n      }), React.createElement(DropList, {\n        icon: 'ico ico-column',\n        items: [{\n          handle: this.props.onInsertColumn,\n          text: this.props.t('Insert_Column')\n        }, {\n          handle: this.props.onRemoveColumn,\n          text: this.props.t('Remove_Column')\n        }]\n      }), React.createElement(DropList, {\n        icon: 'ico ico-row',\n        items: [{\n          handle: this.props.onInsertRow,\n          text: this.props.t('Insert_Row')\n        }, {\n          handle: this.props.onRemoveRow,\n          text: this.props.t('Remove_Row')\n        }]\n      }), React.createElement(IconButton, {\n        disabled: false,\n        isRichEditor: true,\n        text: this.props.t('remove_table'),\n        id: 'removeTable',\n        icon: 'ico ico-delete-table',\n        onMouseDown: this.props.onRemoveTable\n      }));\n    }\n  }]);\n\n  return TableToolBar;\n}(React.PureComponent);\n\nvar DropList =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(DropList, _React$PureComponent2);\n\n  function DropList(props) {\n    var _this2;\n\n    _classCallCheck(this, DropList);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(DropList).call(this, props));\n\n    _this2.handleClick = function (event) {\n      if (_this2.props.disabled) return;\n\n      var container = _this2.getContainer();\n\n      if (container.contains(event.target)) {\n        _this2.toggle();\n      } else {\n        if (_this2.state.dropdownOpen) {\n          _this2.setState({\n            dropdownOpen: !_this2.state.dropdownOpen\n          });\n        }\n      }\n    };\n\n    _this2.toggle = function () {\n      _this2.setState({\n        dropdownOpen: !_this2.state.dropdownOpen\n      });\n    };\n\n    _this2.state = {\n      dropdownOpen: false\n    };\n    return _this2;\n  }\n\n  _createClass(DropList, [{\n    key: \"getContainer\",\n    value: function getContainer() {\n      return ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var items = [];\n      this.props.items.forEach(function (item, index) {\n        items.push(React.createElement(\"button\", {\n          key: 'dropdown-item' + index,\n          onMouseDown: item.handle,\n          className: 'dropdown-item'\n        }, item.icon ? React.createElement(\"i\", {\n          className: item.icon,\n          style: {\n            marginRight: '6px'\n          }\n        }) : null, item.text));\n      });\n      return React.createElement(\"div\", {\n        className: 'custom-dropdown-list'\n      }, React.createElement(\"div\", {\n        id: 'list_toggle',\n        className: 'dropdown-list-toggle'\n      }, React.createElement(\"i\", {\n        className: this.props.icon,\n        style: {\n          marginRight: '3px'\n        }\n      }), React.createElement(\"i\", {\n        className: this.state.dropdownOpen ? 'fa fa-caret-up' : 'fa fa-caret-down'\n      })), this.state.dropdownOpen && React.createElement(\"div\", {\n        role: 'menu',\n        className: 'custom-dropdown-menu dropdown-menu'\n      }, items));\n    }\n  }]);\n\n  return DropList;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(TableToolBar);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem, Tooltip } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar UploadImg =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UploadImg, _React$Component);\n\n  function UploadImg() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UploadImg);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UploadImg)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      dropdownOpen: false,\n      tooltipOpen: false\n    };\n\n    _this.imgtoggle = function () {\n      _this.setState({\n        dropdownOpen: !_this.state.dropdownOpen\n      });\n    };\n\n    _this.toggle = function () {\n      if (_this.props.disabled) {\n        _this.setState({\n          tooltipOpen: false\n        });\n\n        return;\n      }\n\n      _this.setState({\n        tooltipOpen: !_this.state.tooltipOpen\n      });\n    };\n\n    _this.uploadLocalImage = function (event) {\n      window.seafileEditor.editorApi.uploadLocalImage(event.target.files[0]).then(function (res) {\n        _this.props.onInsertImage({\n          url: res\n        });\n      });\n    };\n\n    _this.handleFileChange = function (event) {\n      _this.uploadLocalImage(event);\n\n      _this.setState({\n        dropdownOpen: false\n      });\n    };\n\n    _this.onInputFile = function (event) {\n      event.target.value = null;\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    };\n\n    return _this;\n  }\n\n  _createClass(UploadImg, [{\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      return React.createElement(React.Fragment, null, React.createElement(Dropdown, {\n        isOpen: this.state.dropdownOpen,\n        toggle: this.imgtoggle,\n        className: this.props.disabled ? 'upload-localimg upload-localimg-disabled' : 'upload-localimg upload-localimg-hover'\n      }, React.createElement(DropdownToggle, {\n        id: this.props.id,\n        disabled: this.props.disabled\n      }, React.createElement(\"i\", {\n        className: \"fa fa-image\"\n      }), React.createElement(Tooltip, {\n        toggle: this.toggle,\n        delay: {\n          show: 0,\n          hide: 0\n        },\n        target: this.props.id,\n        placement: \"bottom\",\n        isOpen: this.state.tooltipOpen\n      }, t('insert_image'))), React.createElement(DropdownMenu, null, React.createElement(DropdownItem, {\n        onClick: this.props.onToggleImageDialog\n      }, t('insert_network_image')), !this.props.isSimpleEditor && React.createElement(DropdownItem, {\n        onMouseDown: this.props.editor.insertRepoImage\n      }, t('Insert_library_image')), React.createElement(DropdownItem, {\n        className: \"seafile-ed-dropbtn\"\n      }, React.createElement(\"span\", {\n        className: \"seafile-ed-localimgspan\"\n      }, React.createElement(\"span\", {\n        className: \"upload-local-image-word\"\n      }, t('upload_local_image')), React.createElement(\"input\", {\n        type: \"file\",\n        onClick: this.onInputFile,\n        className: \"seafile-ed-localimginput\",\n        accept: \"image/*\",\n        onChange: this.handleFileChange\n      }))))));\n    }\n  }]);\n\n  return UploadImg;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(UploadImg);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport HeaderList from '../components/topbar-component/header-list';\nimport ButtonGroup from '../components/topbar-component/button-group';\nimport IconButton from '../components/topbar-component/icon-button';\nimport { withTranslation } from 'react-i18next';\nimport AddLinkDialog from './add-link-dialog';\nimport AddImageDialog from './add-image-dialog';\nimport TableToolBar from './topbar-component/table-toolbar';\nimport { EditorUtils } from '../editor/editor-utils/common-editor-utils';\nimport UploadImg from './topbar-component/upload-img'; // import InsertFile from './topbarcomponent/insertFile';\n\nvar ToolBar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ToolBar, _React$Component);\n\n  function ToolBar(props) {\n    var _this;\n\n    _classCallCheck(this, ToolBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToolBar).call(this, props));\n\n    _this.onToggleLink = function (event) {\n      var isLinkActive = _this.editorUtils.isLinkActive();\n\n      if (!isLinkActive) {\n        _this.props.onToggleLinkDialog();\n\n        return;\n      } else {\n        _this.editorUtils.unwrapLink();\n      }\n    };\n\n    _this.editor = window.seafileEditor;\n    _this.editorUtils = new EditorUtils(_this.editor);\n    return _this;\n  }\n\n  _createClass(ToolBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      var toolbarStatus = this.props.toolbarStatus;\n      var readOnly = this.props.readOnly;\n      var isTableActive = toolbarStatus.isTableActive,\n          isHeadActive = toolbarStatus.isHeadActive,\n          isCodeActive = toolbarStatus.isCodeActive,\n          isBoldActive = toolbarStatus.isBoldActive,\n          isItalicActive = toolbarStatus.isItalicActive,\n          isInlineCodeActive = toolbarStatus.isInlineCodeActive,\n          isLinkActive = toolbarStatus.isLinkActive,\n          isBlockquoteActive = toolbarStatus.isBlockquoteActive,\n          isOrderedListActive = toolbarStatus.isOrderedListActive,\n          isUnorderedListActive = toolbarStatus.isUnorderedListActive,\n          isCheckListActive = toolbarStatus.isCheckListActive;\n      return React.createElement(\"div\", {\n        className: 'sf-editor-rich-menu ' + (this.props.isSimpleEditor ? '' : 'rich-menu')\n      }, React.createElement(\"div\", {\n        className: 'button-container'\n      }, !readOnly && React.createElement(\"div\", {\n        className: 'header-list-container'\n      }, React.createElement(HeaderList, {\n        disabled: isCodeActive || isTableActive,\n        headerType: toolbarStatus.headerType,\n        onClickHeader: this.editorUtils.onClickHeader\n      })), React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('bold'),\n        id: 'BOLDButton',\n        icon: 'fa fa-bold',\n        isActive: isBoldActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickMark(event, 'BOLD');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('italic'),\n        id: 'ITALICButton',\n        icon: 'fa fa-italic',\n        isActive: isItalicActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickMark(event, 'ITALIC');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('code'),\n        id: 'CODEButton',\n        icon: 'fa fa-code',\n        isActive: isInlineCodeActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickMark(event, 'CODE');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('insert_link'),\n        id: 'linkButton',\n        icon: 'fa fa-link',\n        isActive: isLinkActive,\n        onMouseDown: this.onToggleLink\n      })), React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('quote'),\n        id: 'block-quoteButton',\n        icon: 'fa fa-quote-left',\n        isActive: isBlockquoteActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'blockquote');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('ordered_list'),\n        id: 'ordered_listButton',\n        icon: 'fa fa-list-ol',\n        isActive: isOrderedListActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'ordered_list');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('unordered_list'),\n        id: 'unordered_listButton',\n        icon: 'fa fa-list-ul',\n        isActive: isUnorderedListActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'unordered_list');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('check_list_item'),\n        id: 'checkListItemButton',\n        icon: 'fa fa-check-square',\n        isActive: isCheckListActive,\n        onMouseDown: this.editorUtils.onToggleCheckItem\n      })), React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(IconButton, {\n        disabled: isTableActive || isHeadActive,\n        isRichEditor: true,\n        text: t('code_block'),\n        id: 'codeButton',\n        icon: 'ico ico-code-block',\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'code_block');\n        },\n        isActive: isCodeActive && !readOnly\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isTableActive || isHeadActive,\n        isRichEditor: true,\n        text: t('insert_table'),\n        id: 'tableButton',\n        icon: 'fa fa-table',\n        onMouseDown: this.editorUtils.onAddTable\n      }), React.createElement(UploadImg, {\n        disabled: isCodeActive || isHeadActive,\n        text: 'insert_image',\n        id: 'insertImageButton',\n        isSimpleEditor: this.props.isSimpleEditor,\n        onInsertImage: this.editorUtils.insertImage,\n        toolbarStatus: this.props.toolbarStatus,\n        onToggleImageDialog: this.props.onToggleImageDialog\n      })), isTableActive && !readOnly && React.createElement(TableToolBar, {\n        onRemoveTable: this.editorUtils.onRemoveTable,\n        onInsertColumn: this.editorUtils.onInsertColumn,\n        onRemoveColumn: this.editorUtils.onRemoveColumn,\n        onInsertRow: this.editorUtils.onInsertRow,\n        onRemoveRow: this.editorUtils.onRemoveRow,\n        onSetAlign: this.editorUtils.onSetAlign\n      })), this.props.isShowLinkDialog && React.createElement(AddLinkDialog, {\n        toggleLinkDialog: this.props.onToggleLinkDialog\n      }), this.props.isShowImageDialog && React.createElement(AddImageDialog, {\n        onToggleImageDialog: this.props.onToggleImageDialog,\n        insertImage: this.editorUtils.insertImage\n      }));\n    }\n  }]);\n\n  return ToolBar;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(ToolBar);","import { Range } from 'slate';\n\nvar isRangeCollapsed = function isRangeCollapsed(range) {\n  if (range) {\n    return Range.isCollapsed(range);\n  }\n};\n\nexport { isRangeCollapsed };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Button } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar TextLinkHoverMenu =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(TextLinkHoverMenu, _React$PureComponent);\n\n  function TextLinkHoverMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TextLinkHoverMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TextLinkHoverMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      link: ''\n    };\n\n    _this.saveRef = function (ref) {\n      _this.refDom = ref;\n    };\n\n    _this.setLink = function () {\n      var linkNode = _this.props.editorUtils.getCurrentLinkNode();\n\n      if (linkNode) {\n        _this.setState({\n          link: linkNode.data.href\n        });\n      }\n    };\n\n    _this.setMenuPosition = function () {\n      if (_this.refDom && window.getSelection().anchorOffset !== 0 && window.getSelection().focusOffset !== 0) {\n        var native = window.getSelection();\n        var range = native.getRangeAt(0);\n        var rect = range.getBoundingClientRect();\n\n        if (navigator.userAgent.indexOf('Chrome') < 0 && navigator.userAgent.indexOf('Safari') > 0) {\n          if (range.collapsed && rect.top === 0 && rect.height === 0) {\n            if (range.startOffset === 0) {\n              range.setEnd(range.endContainer, 1);\n            } else {\n              range.setStart(range.startContainer, range.startOffset - 1);\n            }\n\n            rect = range.getBoundingClientRect();\n\n            if (rect.top === 0 && rect.height === 0) {\n              if (range.getClientRects().length) {\n                rect = range.getClientRects()[0];\n              }\n            }\n          }\n        }\n\n        var style = _this.refDom.style;\n        style.zIndex = '1050';\n        style.top = \"\".concat(rect.top - 45, \"px\");\n        var left = parseInt(rect.x - 125);\n\n        if (left < 0) {\n          style.left = '0px';\n        } else if (left + 250 > document.body.clientWidth) {\n          style.left = \"\".concat(document.body.clientWidth - 250, \"px\");\n        } else {\n          style.left = \"\".concat(rect.x - 125, \"px\");\n        }\n      }\n    };\n\n    _this.componentWillMount = function () {\n      _this.saveRef();\n\n      _this.setLink();\n    };\n\n    _this.componentDidMount = function () {\n      _this.setMenuPosition();\n    };\n\n    _this.componentWillUnmount = function () {\n      _this.refDom = null;\n    };\n\n    _this.componentWillUpdate = function () {\n      _this.setMenuPosition();\n\n      _this.setLink();\n    };\n\n    return _this;\n  }\n\n  _createClass(TextLinkHoverMenu, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"seafile-ed-hovermenu\",\n        ref: this.saveRef\n      }, React.createElement(\"a\", {\n        href: this.state.link,\n        target: \"blank\",\n        className: \"seafile-ed-hovermenu-link\"\n      }, this.state.link), React.createElement(Button, {\n        color: \"\",\n        className: \"seafile-ed-hovermenu-btn\",\n        onClick: this.props.editorUtils.unwrapLink\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\"\n      })), React.createElement(Button, {\n        color: \"\",\n        onClick: this.props.onToggleLinkDialog,\n        className: \"seafile-ed-hovermenu-btn\"\n      }, React.createElement(\"i\", {\n        className: \"fa fa-edit\"\n      })), React.createElement(\"span\", {\n        className: \"seafile-ed-hovermenu-triangle\"\n      }));\n    }\n  }]);\n\n  return TextLinkHoverMenu;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(TextLinkHoverMenu);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\n\nvar ContextMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContextMenu, _React$Component);\n\n  function ContextMenu(props) {\n    var _this;\n\n    _classCallCheck(this, ContextMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenu).call(this, props));\n\n    _this.setMenuPosition = function () {\n      var menuHeight = _this.menu.offsetHeight; // get height of context menu when the menu is drawing completed in this page\n\n      if (menuHeight === 0) {\n        requestAnimationFrame(_this.setMenuPosition);\n      }\n\n      var top = 0;\n\n      if (_this.position.top + menuHeight > document.body.clientHeight) {\n        top = document.body.clientHeight - menuHeight - 5;\n      } else {\n        top = _this.position.top;\n      }\n\n      var left = _this.position.left + 3;\n\n      _this.setState({\n        contextStyle: {\n          top: top,\n          left: left,\n          zIndex: '1051',\n          display: 'block'\n        }\n      });\n    };\n\n    _this.tableUtils = props.tableUtils;\n    _this.state = {\n      contextStyle: {}\n    };\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.position = this.props.contextMenuPosition;\n      this.setMenuPosition();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.menu = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        role: 'menu',\n        style: this.state.contextStyle,\n        ref: function ref(_ref) {\n          return _this2.menu = _ref;\n        },\n        className: 'seafile-contextmenu dropdown-menu'\n      }, React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertRow('before');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Row_Before')), React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertRow('after');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Row_After')), React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertColumn('before');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Column_Before')), React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertColumn('after');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Column_After')), React.createElement(\"div\", {\n        className: 'seafile-divider dropdown-divider'\n      }), React.createElement(\"button\", {\n        onMouseDown: this.tableUtils.removeRow,\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Remove_Row')), React.createElement(\"button\", {\n        onMouseDown: this.tableUtils.removeColumn,\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Remove_Column')));\n    }\n  }]);\n\n  return ContextMenu;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(ContextMenu);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\n\nvar Link = function Link(options) {\n  _classCallCheck(this, Link);\n\n  this.type = options.type || 'link';\n  this.children = options.children || [{\n    text: ''\n  }];\n  this.data = options.data || {\n    href: ''\n  };\n};\n\nvar generateLinkElement = function generateLinkElement(options) {\n  return Object.assign({}, new Link(options));\n};\n\nexport default generateLinkElement;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\n\nvar Image = function Image(options) {\n  _classCallCheck(this, Image);\n\n  this.type = options.type || 'image';\n  this.data = options.data || {\n    src: ''\n  };\n  this.children = options.children || [{\n    text: ''\n  }];\n};\n\nvar generateImage = function generateImage(options) {\n  return Object.assign({}, new Image(options));\n};\n\nexport default generateImage;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Editor } from 'slate';\nimport ListUtils from '../editor-utils/block-element-utils/list-utils';\nimport CodeUtils from '../editor-utils/block-element-utils/code-utils';\nimport { isRangeCollapsed } from '../editor-utils/range-utils';\nimport TableUtils from '../editor-utils/block-element-utils/table-utils';\nimport getEventTransfer from '../custom/get-event-transfer';\nimport BlockquoteUtils from '../editor-utils/block-element-utils/blockquote-utils';\nimport { htmlDeserializer } from '../../utils/deserialize-html';\nimport generateLinkElement from '../element-model/link';\nimport generateImageElement from '../element-model/image';\nimport isUrl from 'is-url';\n\nvar withBlock = function withBlock(editor) {\n  var exec = editor.exec;\n  var listUtils = new ListUtils(editor);\n  var codeUtils = new CodeUtils(editor);\n  var tableUtils = new TableUtils(editor);\n  var blockquoteUtils = new BlockquoteUtils(editor);\n\n  editor.exec = function (command) {\n    var data = command.data;\n    var selection = editor.selection;\n\n    switch (command.type) {\n      case 'set_header':\n        Editor.setNodes(editor, {\n          type: command.headerType\n        });\n        break;\n\n      case 'insert_data':\n        var _getEventTransfer = getEventTransfer(data),\n            fragment = _getEventTransfer.fragment,\n            type = _getEventTransfer.type,\n            html = _getEventTransfer.html,\n            text = _getEventTransfer.text;\n\n        if (type === 'file') {\n          exec(command);\n          return;\n        } // insert a link if text content is a url\n\n\n        if (type === 'text' && !codeUtils.isInCodeBlock()) {\n          if (isUrl(text)) {\n            if (text.endsWith('png') || text.endsWith('PNG') || text.endsWith('jpg') || text.endsWith('JPG') || text.endsWith('gif') || text.endsWith('GIF')) {\n              var img = generateImageElement({\n                data: {\n                  src: text\n                }\n              });\n              Editor.insertNodes(editor, img);\n              return;\n            }\n\n            if (window.seafileEditor.editorApi.isInternalFileLink(text)) {\n              var index = text.lastIndexOf('/');\n\n              if (index > 0) {\n                var name = text.substring(index + 1);\n                var fileName = decodeURIComponent(name);\n                Editor.insertNodes(editor, generateLinkElement({\n                  data: {\n                    href: text\n                  },\n                  children: [{\n                    text: fileName\n                  }]\n                }));\n                return;\n              }\n            }\n\n            if (window.seafileEditor.editorApi.isInternalDirLink(text)) {\n              var _index = text.lastIndexOf('/');\n\n              if (_index > 0) {\n                var name = text.substring(_index + 1);\n                var dirName = decodeURIComponent(name);\n                Editor.insertNodes(editor, generateLinkElement({\n                  data: {\n                    href: text\n                  },\n                  children: [{\n                    text: dirName\n                  }]\n                }));\n                return editor;\n              }\n            }\n\n            Editor.insertNodes(editor, generateLinkElement({\n              data: {\n                href: text\n              },\n              children: [{\n                text: text\n              }]\n            }));\n            return;\n          }\n        }\n\n        if (tableUtils.isInTable()) {\n          tableUtils.pasteContentInTable(command);\n          return;\n        }\n\n        if (listUtils.isInlist()) {\n          listUtils.pasteContentInList(command);\n          return;\n        }\n\n        if (codeUtils.isInCodeBlock()) {\n          codeUtils.pasteContentInCodeBlock(command);\n          return;\n        }\n\n        if (blockquoteUtils.isInBlockquote()) {\n          blockquoteUtils.pasteContentInBlockquote(command);\n          return;\n        }\n\n        if (type === 'fragment') {\n          if (fragment.length === 1 && fragment[0].type === 'paragraph') {\n            Editor.insertFragment(editor, fragment);\n            return;\n          }\n\n          Editor.insertNodes(editor, fragment);\n          return;\n        }\n\n        if (type === 'html') {\n          var _fragment = htmlDeserializer(html);\n\n          Editor.insertNodes(editor, _fragment);\n          return;\n        }\n\n        exec(command);\n        break;\n\n      case 'set_blockquote':\n        if (!selection) {\n          return;\n        }\n\n        blockquoteUtils.wrapBlockquote();\n        break;\n\n      case 'unwrap_blockquote':\n        blockquoteUtils.unwrapBlockquote();\n        break;\n\n      case 'set_ordered_list':\n        if (!selection) {\n          return;\n        }\n\n        listUtils.wrapList('ordered_list');\n        break;\n\n      case 'set_unordered_list':\n        if (!selection) {\n          return;\n        }\n\n        listUtils.wrapList('unordered_list');\n        break;\n\n      case 'unwrap_unordered_list':\n      case 'unwrap_ordered_list':\n        listUtils.unwrapList();\n        break;\n\n      case 'wrap_check_list_item':\n        var listItem = listUtils.getCurrentListItem();\n\n        if (listItem.length === 0) {\n          // not in list, add list\n          listUtils.wrapList('unordered_list');\n          Editor.setNodes(editor, {\n            data: {\n              checked: false\n            }\n          }, {\n            match: {\n              type: 'list_item'\n            }\n          });\n        } else {\n          var listItems = Editor.nodes(editor, {\n            at: editor.selection,\n            match: {\n              type: 'list_item'\n            }\n          });\n          var nearestItem;\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = listItems[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var _listItem = _step.value;\n              nearestItem = _listItem;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          Editor.setNodes(editor, {\n            data: {\n              checked: false\n            }\n          }, {\n            at: nearestItem[1]\n          });\n        }\n\n        break;\n\n      case 'unwrap_check_list_item':\n        var item = listUtils.getCurrentListItem();\n        Editor.setNodes(editor, {\n          data: {}\n        }, {\n          at: item[0][1]\n        });\n        break;\n\n      case 'set_code_block':\n        codeUtils.wrapCodeBlock();\n        break;\n\n      case 'unwrap_code_block':\n        codeUtils.unwrapCodeBlock();\n        break;\n\n      case 'exit_code_block':\n        Editor.splitNodes(editor, {\n          match: 'block',\n          always: true\n        });\n        codeUtils.unwrapCodeBlock(true);\n        break;\n\n      case 'increase_code_block_indent':\n        if (isRangeCollapsed(editor.selection)) {\n          var block = Editor.match(editor, editor.selection, 'block');\n          Editor.insertText(editor, '\\t', {\n            at: {\n              anchor: {\n                path: [].concat(_toConsumableArray(block[1]), [0]),\n                offset: 0\n              },\n              focus: {\n                path: [].concat(_toConsumableArray(block[1]), [0]),\n                offset: 0\n              }\n            }\n          });\n        }\n\n        break;\n\n      case 'insert_table':\n        tableUtils.insertTable();\n        break;\n\n      case 'remove_table':\n        tableUtils.removeTable();\n        break;\n\n      case 'insert_row':\n        tableUtils.insertRow();\n        break;\n\n      case 'insert_column':\n        tableUtils.insertColumn();\n        break;\n\n      case 'remove_row':\n        tableUtils.removeRow();\n        break;\n\n      case 'remove_column':\n        tableUtils.removeColumn();\n        break;\n\n      case 'set_table_cell_align':\n        tableUtils.setAlign(command.align);\n        break;\n\n      case 'exit_table':\n        tableUtils.exitTable();\n        break;\n\n      default:\n        exec(command);\n        break;\n    }\n  };\n\n  return editor;\n};\n\nexport default withBlock;","import { Editor, Range } from 'slate';\nimport generateLinkElement from '../element-model/link';\nimport generateImageElement from '../element-model/image';\n\nvar withInline = function withInline(editor) {\n  var exec = editor.exec,\n      isInline = editor.isInline;\n\n  editor.isInline = function (element) {\n    return element.type === 'link' || element.type === 'image' ? true : isInline(element);\n  };\n\n  editor.exec = function (command) {\n    var data = command.data;\n    var selection = editor.selection;\n\n    switch (command.type) {\n      case 'insert_link_at_selection':\n        selection = command.elementData.selection;\n        var isCollapsed = selection && Range.isCollapsed(selection);\n        var link = generateLinkElement({\n          type: 'link',\n          children: [{\n            text: command.elementData.text\n          }],\n          data: {\n            href: command.elementData.url\n          }\n        });\n\n        if (isCollapsed) {\n          Editor.insertNodes(editor, link, {\n            at: selection\n          });\n        } else {\n          Editor.wrapNodes(editor, link, {\n            split: true,\n            at: selection\n          });\n          Editor.select(editor, selection);\n          Editor.collapse(editor, {\n            edge: 'end'\n          });\n        }\n\n        break;\n\n      case 'unwrap_link':\n        Editor.unwrapNodes(editor, {\n          match: {\n            type: 'link'\n          }\n        });\n        break;\n\n      case 'set_link':\n        Editor.removeNodes(editor, {\n          match: {\n            type: 'link'\n          }\n        });\n        var newNodeLink = generateLinkElement({\n          type: 'link',\n          data: {\n            href: command.elementData.url\n          },\n          children: [{\n            text: command.elementData.text\n          }]\n        });\n        Editor.insertNodes(editor, newNodeLink);\n        break;\n\n      case 'insert_image_at_selection':\n        var img = generateImageElement({\n          data: command.data\n        });\n        Editor.insertNodes(editor, img, {\n          at: command.at\n        });\n        break;\n\n      case 'set_image':\n        Editor.setNodes(editor, {\n          data: data\n        }, {\n          match: {\n            type: 'image'\n          },\n          at: editor.selection,\n          voids: true\n        });\n        break;\n\n      case 'insert_data':\n        if (data.types.includes('Files') && data.files[0].type.includes('image')) {\n          window.seafileEditor.editorApi.uploadLocalImage(command.data.files[0]).then(function (res) {\n            var img = generateImageElement({\n              data: {\n                src: res\n              }\n            });\n            Editor.insertNodes(editor, img);\n          });\n          return;\n        }\n\n        exec(command);\n        break;\n\n      default:\n        exec(command);\n        break;\n    }\n  };\n\n  return editor;\n};\n\nexport default withInline;","var withVoid = function withVoid(editor) {\n  var isVoid = editor.isVoid;\n\n  editor.isVoid = function (element) {\n    return element.type === 'image' ? true : isVoid(element);\n  };\n\n  return editor;\n};\n\nexport default withVoid;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { Editor } from 'slate';\n\nvar TextUtils = function TextUtils(_editor) {\n  var _this = this;\n\n  _classCallCheck(this, TextUtils);\n\n  this.getTextInfoBeforeSelection = function () {\n    var editor = _this.editor;\n    var selection = _this.editor.selection;\n    var anchor = selection.anchor;\n\n    var _Editor$nodes = Editor.nodes(editor, {\n      match: 'block'\n    }),\n        _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n        block = _Editor$nodes2[0];\n\n    var path = block ? block[1] : [];\n    var start = Editor.start(editor, path);\n    var range = {\n      anchor: anchor,\n      focus: start\n    };\n    var beforeText = Editor.text(editor, range);\n    return {\n      range: range,\n      beforeText: beforeText,\n      block: block\n    };\n  };\n\n  this.editor = _editor;\n} // Get text related variables before current selection\n// block: Parent of current text node\n// range: From start of block to current selection\n// beforeText: The text of block from start to selection\n;\n\nexport default TextUtils;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { Editor, Node, Range } from 'slate';\nimport ListUtils from '../editor-utils/block-element-utils/list-utils';\nimport { isRangeCollapsed } from '../editor-utils/range-utils';\nimport { SfEditor } from '../custom/custom';\nimport CodeUtils from '../editor-utils/block-element-utils/code-utils';\nimport TextUtils from '../editor-utils/text-utils';\nimport TableUtils from '../editor-utils/block-element-utils/table-utils';\nimport BlockquoteUtils from '../editor-utils/block-element-utils/blockquote-utils';\nvar SHORTCUTS = {\n  '1.': 'ordered_list',\n  '*': 'unordered_list',\n  '_': 'unordered_list',\n  '>': 'blockquote',\n  '#': 'header_one',\n  '##': 'header_two',\n  '###': 'header_three',\n  '####': 'header_four',\n  '#####': 'header_five',\n  '######': 'header_six',\n  '   ': 'code_block'\n};\n\nvar withMarkdownShortcut = function withMarkdownShortcut(editor) {\n  var exec = editor.exec;\n  var listUtils = new ListUtils(editor);\n  var codeUtils = new CodeUtils(editor);\n  var tableUtils = new TableUtils(editor);\n  var textUtils = new TextUtils(editor);\n  var blockquoteUtils = new BlockquoteUtils(editor);\n\n  editor.exec = function (command) {\n    var selection = editor.selection;\n\n    switch (command.type) {\n      case 'split_list_item':\n        Editor.splitNodes(editor, {\n          match: 'block',\n          always: true\n        });\n        break;\n\n      case 'insert_break':\n        if (!Range.isCollapsed(editor.selection)) {\n          exec(command);\n          return;\n        } // unwrap blockquote when press enter at an empty blockquote line;\n\n\n        if (blockquoteUtils.isInBlockquote()) {\n          var _Editor$nodes = Editor.nodes(editor, {\n            match: 'block'\n          }),\n              _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n              block = _Editor$nodes2[0];\n\n          if (Node.text(block[0]).length === 0) {\n            Editor.unwrapNodes(editor, {\n              match: {\n                type: 'blockquote'\n              },\n              split: true\n            });\n            return;\n          }\n        } // if press enter in a list unwrap the list or insert a new list item\n\n\n        if (listUtils.isInlist()) {\n          var node = SfEditor.getNodesByTypeAtRange(editor, 'list_item'); // unwrap list if the list item text is none\n\n          if (Node.text(node[0]).length === 0) {\n            listUtils.unwrapList();\n            return;\n          } // insert a new list item\n\n\n          if (isRangeCollapsed(editor.selection)) {\n            SfEditor.splitNodesAtPoint(editor, {\n              at: editor.selection.anchor,\n              match: {\n                type: 'list_item'\n              },\n              always: true\n            });\n            return;\n          }\n        }\n\n        if (codeUtils.isInCodeBlock()) {\n          codeUtils.splitCodeLine();\n          return;\n        }\n\n        if (tableUtils.isInTable()) {\n          tableUtils.insertRow();\n          return;\n        }\n\n        exec(command);\n        break;\n\n      case 'insert_text':\n        // set element by markdown shortcut;\n        if (command.text === ' ' && isRangeCollapsed(selection)) {\n          var _textUtils$getTextInf = textUtils.getTextInfoBeforeSelection(),\n              beforeText = _textUtils$getTextInf.beforeText,\n              range = _textUtils$getTextInf.range,\n              _block = _textUtils$getTextInf.block;\n\n          var path = _block[1];\n          var blockNode = _block[0];\n          var type = SHORTCUTS[beforeText];\n\n          if (!type || codeUtils.isInCodeBlock() || tableUtils.isInTable() || listUtils.isInlist() || blockNode.type !== 'paragraph') {\n            exec(command);\n            return;\n          }\n\n          Editor.select(editor, range);\n          Editor.delete(editor);\n\n          if (type === 'blockquote') {\n            if (!blockquoteUtils.isInBlockquote()) {\n              editor.exec({\n                type: 'set_blockquote'\n              });\n            }\n          }\n\n          if (type.includes('header')) {\n            // set the outest  paragraph into header \n            if (_block[0].type === 'paragraph' && path.length === 1) {\n              editor.exec({\n                type: 'set_header',\n                headerType: type\n              });\n            }\n          }\n\n          if (type === 'ordered_list') {\n            editor.exec({\n              type: 'set_ordered_list'\n            });\n          }\n\n          if (type === 'unordered_list') {\n            editor.exec({\n              type: 'set_unordered_list'\n            });\n          }\n\n          if (type === 'code_block') {\n            if (!codeUtils.isInCodeBlock()) {\n              editor.exec({\n                type: 'set_code_block'\n              });\n              return;\n            }\n          }\n        }\n\n        if (command.text === '`' && isRangeCollapsed(editor.selection)) {\n          var _textUtils$getTextInf2 = textUtils.getTextInfoBeforeSelection(),\n              _beforeText = _textUtils$getTextInf2.beforeText,\n              _range = _textUtils$getTextInf2.range;\n\n          if (_beforeText === '``' && !codeUtils.isInCodeBlock()) {\n            Editor.select(editor, _range);\n            Editor.delete(editor);\n            editor.exec({\n              type: 'set_code_block'\n            });\n            return;\n          }\n        }\n\n        exec(command);\n        break;\n\n      case 'increase_list_item_depth':\n        listUtils.increaseListDepth();\n        break;\n\n      case 'delete_backward':\n        var anchor = selection.anchor;\n\n        if (anchor.offset === 0 && isRangeCollapsed(selection)) {\n          var _Editor$nodes3 = Editor.nodes(editor, {\n            match: 'block'\n          }),\n              _Editor$nodes4 = _slicedToArray(_Editor$nodes3, 1),\n              match = _Editor$nodes4[0];\n\n          var _block2 = match[0];\n\n          if (_block2.type.includes('header')) {\n            editor.exec({\n              type: 'set_header',\n              headerType: 'paragraph'\n            });\n            return;\n          }\n\n          if (blockquoteUtils.isInBlockquote()) {\n            editor.exec({\n              type: 'unwrap_blockquote'\n            });\n            return;\n          }\n\n          if (listUtils.isInlist()) {\n            var _Editor$nodes5 = Editor.nodes(editor, {\n              match: [{\n                type: 'ordered_list'\n              }, {\n                type: 'unordered_list'\n              }]\n            }),\n                _Editor$nodes6 = _slicedToArray(_Editor$nodes5, 1),\n                _node = _Editor$nodes6[0];\n\n            var listNode = _node[0];\n\n            if (listNode.children.length === 1 && Node.text(listNode).length === 0) {\n              listUtils.unwrapList();\n              return;\n            }\n          }\n\n          if (codeUtils.isInCodeBlock()) {\n            var _node2 = Editor.match(editor, editor.selection, {\n              type: 'code_block'\n            });\n\n            var codeBlock = _node2[0];\n            var children = codeBlock.children;\n            var text = Node.text(codeBlock);\n\n            if (text.length === 0 && children.length === 1) {\n              editor.exec({\n                type: 'unwrap_code_block'\n              });\n              return;\n            }\n          }\n\n          if (tableUtils.isInTable()) {\n            var _block3 = Editor.match(editor, editor.selection, 'block');\n\n            var blockPath = _block3[1];\n            var start = Editor.start(editor, blockPath);\n            var offset = start.offset;\n\n            if (offset === 0) {\n              return;\n            }\n          }\n        }\n\n        exec(command);\n        break;\n\n      default:\n        exec(command);\n    }\n  };\n\n  return editor;\n};\n\nexport default withMarkdownShortcut;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { SfEditor } from '../custom/custom';\n\nvar normalizeNode = function normalizeNode(editor) {\n  var normalizeNode = editor.normalizeNode;\n\n  editor.normalizeNode = function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        node = _ref2[0],\n        path = _ref2[1]; // if current node is a list node\n\n\n    var type = node.type; // wrap the outest list item into unoreded list\n\n    if (path.length === 1 && type === 'list_item') {\n      SfEditor.wrapNodes(editor, {\n        type: 'unordered_list',\n        children: [node]\n      }, {\n        at: path\n      });\n    }\n\n    if (path.length === 1 && (type === 'ordered_list' || type === 'unordered_list')) {\n      var index = path[0];\n      var previousSibling = editor.children[index - 1];\n      var nextSiblings = editor.children[index + 1];\n\n      if (previousSibling && previousSibling.type === type) {\n        // merge previous same type list node\n        SfEditor.mergeNodes(editor, {\n          at: path\n        });\n      }\n\n      if (nextSiblings && nextSiblings.type === type) {\n        // merge next same type list node\n        SfEditor.mergeNodes(editor, {\n          at: [index + 1]\n        });\n      }\n    } // trailing a paragrph at the end of the document\n\n\n    if (path.length === 1 && path[0] === editor.children.length - 1 && node.type !== 'paragraph') {\n      SfEditor.insertNodes(editor, {\n        type: 'paragraph',\n        children: [{\n          text: ''\n        }]\n      }, {\n        at: [path[0] + 1]\n      });\n    }\n\n    if (type === 'blockquote') {\n      node.children.forEach(function (child, index) {\n        var childPath = [].concat(_toConsumableArray(path), [index]);\n\n        if (child.type === 'blockquote') {\n          SfEditor.unwrapNodes(editor, {\n            at: childPath\n          });\n        }\n      });\n    }\n\n    return normalizeNode([node, path]);\n  };\n\n  return editor;\n};\n\nexport default normalizeNode;","var TRANSFER_TYPES = {\n  fragment: 'application/x-slate-fragment',\n  html: 'text/html',\n  text: 'text/plain'\n}; // tranfrom slate fragment and write to clipboard\n\nfunction setEventTransfer(event, type, content) {\n  var mime = TRANSFER_TYPES[type];\n  var transfer = event.dataTransfer || event.clipboardData;\n  transfer.setData(mime, content);\n  transfer.setData('text', transfer.getData('text'));\n}\n\nexport default setEventTransfer;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport isHotKey from 'is-hotkey';\nimport { Range, Editor } from 'slate';\nimport ListUtils from './editor-utils/block-element-utils/list-utils';\nimport CodeUtils from './editor-utils/block-element-utils/code-utils';\nimport TableUtils from './editor-utils/block-element-utils/table-utils';\nimport setEventTransfer from './custom/set-event-transfer';\nimport { SfEditor } from '../editor/custom/custom';\n\nvar Plugin = function Plugin(_editor) {\n  var _this = this;\n\n  _classCallCheck(this, Plugin);\n\n  this.onKeyDown = function (event) {\n    if (isHotKey('shift+enter', event)) {\n      event.preventDefault();\n\n      if (_this.listUtils.isInlist()) {\n        _this.editor.exec({\n          type: 'split_list_item'\n        });\n      }\n    }\n\n    if (isHotKey('shift+tab', event)) {\n      event.preventDefault();\n\n      if (_this.listUtils.isInlist()) {\n        var _Editor$nodes = Editor.nodes(_this.editor, {\n          match: [{\n            type: 'unordered_list'\n          }, {\n            type: 'ordered_list'\n          }],\n          at: _this.editor.selection,\n          mode: 'highest'\n        }),\n            _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n            listNode = _Editor$nodes2[0];\n\n        if (!listNode) return;\n        var type = listNode[0].type;\n\n        _this.editor.exec({\n          type: \"unwrap_\".concat(type)\n        });\n      }\n    }\n\n    if (isHotKey('tab', event) && Range.isCollapsed(_this.editor.selection)) {\n      event.preventDefault();\n\n      if (_this.codeUtils.isInCodeBlock()) {\n        _this.editor.exec({\n          type: 'increase_code_block_indent'\n        });\n      }\n\n      if (_this.listUtils.isInlist()) {\n        _this.editor.exec({\n          type: 'increase_list_item_depth'\n        });\n      }\n    }\n\n    if (isHotKey('mod+enter', event)) {\n      event.preventDefault();\n\n      if (_this.codeUtils.isInCodeBlock()) {\n        _this.editor.exec({\n          type: 'exit_code_block'\n        });\n      }\n\n      if (_this.tableUtils.isInTable()) {\n        _this.editor.exec({\n          type: 'exit_table'\n        });\n      }\n    }\n  };\n\n  this.onCopy = function (event, editor) {\n    if (_this.tableUtils.isInTable()) {\n      event.preventDefault();\n\n      var table = _this.tableUtils.getSelectedTableCells();\n\n      if (!table) {\n        setEventTransfer(event, 'text', SfEditor.text(editor, editor.selection));\n        return;\n      } // encode table object to string with slate specific method\n\n\n      var encodedTable = window.btoa(encodeURIComponent(JSON.stringify(table)));\n      setEventTransfer(event, 'fragment', encodedTable);\n      return;\n    }\n  };\n\n  this.editor = _editor;\n  this.listUtils = new ListUtils(_editor);\n  this.codeUtils = new CodeUtils(_editor);\n  this.tableUtils = new TableUtils(_editor);\n};\n\nexport default Plugin;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport ToolBar from '../components/toolbar';\nimport { withTranslation } from 'react-i18next';\nimport { renderNode, renderLeaf, EditorUtils, decorationNode } from './editor-utils/common-editor-utils';\nimport { createEditor, Node } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { deserialize, serialize } from '../utils/slate2markdown/index';\nimport { Editable, withReact, Slate } from 'slate-react';\nimport { isRangeCollapsed } from './editor-utils/range-utils';\nimport ModalPortal from '../components/modal-portal';\nimport TextLinkHoverMenu from './textlink-hovermenu';\nimport ContextMenu from '../components/context-menu';\nimport withBlock from './controller/block-element-controller';\nimport withInline from './controller/inline-element-controller';\nimport withVoid from './controller/void-element-controller';\nimport withMarkdownShortcut from './controller/shortcut-controller';\nimport normalizeNode from './controller/normalize-controller';\nimport Plugin from './editor-plugin';\nimport TableUtils from '../editor/editor-utils/block-element-utils/table-utils';\nimport './code-highlight-package';\nimport '../css/layout.css';\nimport '../css/richeditor/rich-editor-main.css';\nimport '../css/richeditor/navbar-imgbutton.css';\nimport '../css/richeditor/textlink-hovermenu.css';\nimport '../css/richeditor/image.css';\nimport '../css/richeditor/link.css';\nimport '../css/topbar.css';\n\nvar SimpleEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SimpleEditor, _React$Component);\n\n  function SimpleEditor(props) {\n    var _this;\n\n    _classCallCheck(this, SimpleEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SimpleEditor).call(this, props));\n\n    _this.onChange = function (value) {\n      _this.setState({\n        value: value\n      }); // hide context menu when content change\n\n\n      if (_this.state.isShowContextMenu === true) {\n        _this.setState({\n          isShowContextMenu: false\n        });\n\n        _this.contextMenuPosition = {};\n      }\n\n      var operations = _this.editor.operations;\n      var hasChange = operations.some(function (o) {\n        return o.type !== 'set_selection' && o.type !== 'set_value';\n      });\n      if (hasChange) _this.contentChanged = true;\n    };\n\n    _this.foucsEditor = function () {\n      _this.editorRef.firstChild.focus();\n    };\n\n    _this.hasContentChange = function () {\n      return _this.contentChanged;\n    };\n\n    _this.onToggleLinkDialog = function () {\n      _this.setState({\n        isShowLinkDialog: !_this.state.isShowLinkDialog\n      });\n    };\n\n    _this.onToggleImageDialog = function () {\n      _this.setState({\n        isShowImageDialog: !_this.state.isShowImageDialog\n      });\n    };\n\n    _this.onContextMenu = function (event) {\n      if (_this.tableUtils.isInTable()) {\n        event.preventDefault();\n        _this.contextMenuPosition = {\n          left: event.clientX,\n          top: event.clientY\n        };\n\n        _this.setState({\n          isShowContextMenu: !_this.state.isShowContextMenu\n        });\n      }\n    };\n\n    _this.editor = normalizeNode(withMarkdownShortcut(withVoid(withBlock(withInline(withHistory(withReact(createEditor())))))));\n    _this.editor.editorApi = props.editorApi;\n    window.seafileEditor = _this.editor;\n    _this.editorUtils = new EditorUtils(_this.editor);\n    _this.tableUtils = new TableUtils(_this.editor);\n    _this.plugin = new Plugin(_this.editor);\n    _this.editorRef = null;\n    _this.contextMenuPosition = {};\n    _this.state = {\n      value: deserialize(props.value),\n      isShowLinkDialog: false,\n      isShowImageDialog: false,\n      isShowBigImage: false,\n      isShowContextMenu: false\n    };\n    return _this;\n  }\n\n  _createClass(SimpleEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef(this);\n    }\n  }, {\n    key: \"getMarkdown\",\n    value: function getMarkdown() {\n      this.contentChanged = false;\n      return serialize(this.state.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          value = _this$state.value,\n          isShowLinkDialog = _this$state.isShowLinkDialog,\n          isShowImageDialog = _this$state.isShowImageDialog;\n      var editor = this.editor,\n          foucsEditor = this.foucsEditor;\n      var toolbarStatus = this.editorUtils.getToolbarStatus();\n      var readOnly = this.props.readOnly;\n      var selectionCollapsed = isRangeCollapsed(editor.selection);\n      return React.createElement(\"div\", {\n        className: \"seafile-editor-module seafile-simple-editor\"\n      }, React.createElement(Slate, {\n        editor: this.editor,\n        value: value,\n        onChange: this.onChange\n      }, React.createElement(\"div\", {\n        className: \"seafile-rich-editor-topbar\"\n      }, React.createElement(ToolBar, {\n        onToggleLinkDialog: this.onToggleLinkDialog,\n        onToggleImageDialog: this.onToggleImageDialog,\n        toolbarStatus: toolbarStatus,\n        isSimpleEditor: true,\n        isShowLinkDialog: isShowLinkDialog,\n        isShowImageDialog: isShowImageDialog\n      })), React.createElement(\"div\", {\n        className: \"editor-container\"\n      }, React.createElement(\"div\", {\n        ref: function ref(_ref) {\n          return _this2.editorRef = _ref;\n        },\n        onClick: value.length === 1 && value[0].type === 'paragraph' && Node.text(value[0].children[0]).length === 0 ? foucsEditor : null,\n        className: \"editor article\"\n      }, React.createElement(Editable, {\n        renderElement: function renderElement(props) {\n          return renderNode(props, editor, readOnly);\n        },\n        className: 'editor-component',\n        renderLeaf: renderLeaf,\n        onContextMenu: this.onContextMenu,\n        onCopy: function onCopy(event) {\n          _this2.plugin.onCopy(event, editor);\n        },\n        autoFocus: true,\n        onKeyDown: this.plugin.onKeyDown,\n        decorate: decorationNode\n      })), toolbarStatus.isLinkActive && selectionCollapsed ? React.createElement(ModalPortal, null, React.createElement(TextLinkHoverMenu, {\n        onToggleLinkDialog: this.onToggleLinkDialog,\n        editorUtils: this.editorUtils\n      })) : null, this.state.isShowContextMenu && React.createElement(ModalPortal, null, React.createElement(ContextMenu, {\n        tableUtils: this.tableUtils,\n        contextMenuPosition: this.contextMenuPosition\n      })))));\n    }\n  }]);\n\n  return SimpleEditor;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(SimpleEditor);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport getPreviewContent from '../utils/markdown-utils';\nimport { dtableWebAPI } from '../../../utils/dtable-web-api';\n\nconst { workspaceID, dtableName, dtableWebURL } = window.shared.pageOptions;\n\nconst propTypes = {\n  newValue: PropTypes.object,\n  column: PropTypes.object.isRequired,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\n/**\n * use simple editor need to block shortcuts for external containers\n */\n\nclass EditorUtilities {\n\n  uploadLocalImage = (imageFile) => {\n    let parentPath;\n    return (\n      dtableWebAPI.getTableAssetUploadLink(workspaceID, dtableName).then((res) => {\n        const uploadLink = res.data.upload_link + '?ret-json=1';\n        const newFile = new File([imageFile], imageFile.name, {type: imageFile.type});\n        const formData = new FormData();\n        parentPath = res.data.parent_path;\n        formData.append('parent_dir', parentPath);\n        formData.append('relative_path', 'images');\n        formData.append('file', newFile);\n        return dtableWebAPI.uploadImage(uploadLink, formData, this.onUploadProgress);\n      }).then ((res) => {\n        return this._getImageURL(res.data[0].name, parentPath);\n      })\n    );\n  }\n  \n  _getImageURL(fileName, path) {\n    // todo\n    let url = dtableWebURL + 'workspace/' + workspaceID + path + '/images/' + encodeURIComponent(fileName);\n    return url;\n  }\n}\n\nconst editorUtilities = new EditorUtilities();\n\nclass LongTextEditorDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.timer = null;\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      if (this.isContentChanged()) {\n        let currentContent = this.getCurrentContent();\n        this.props.onCommit(currentContent);\n      }\n    }, 6000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  }\n\n  toggle = () => {\n    if (this.isContentChanged()) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  }\n\n  isContentChanged = () => {\n    return this.simpleEditor.hasContentChange();\n  }\n\n  getCurrentContent = () => {\n    let markdownContent = this.simpleEditor.getMarkdown();\n    let { previewText , images, links } = getPreviewContent(markdownContent);\n    let newValue = Object.assign({}, this.value, { text: markdownContent, preview: previewText, images: images, links: links });\n    return newValue;\n  }\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  }\n\n  render() {\n    let { newValue, column } = this.props;\n    return (\n      <Modal \n        isOpen={true} \n        toggle={this.toggle} \n        onKeyDown={this.onKeyDown}\n        wrapClassName={'long-text-editor-dialog-wrapper'}\n        className={'long-text-editor-dialog'}\n        contentClassName={'long-text-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"long-text-editor-dialog-title\" toggle={this.toggle}>{column.name}</ModalHeader>\n        <ModalBody className={'long-text-editor-dialog-main'}>\n          <SimpleEditor \n            onRef={this.setSimpleEditorRef.bind(this)}\n            editorUtilities={editorUtilities}\n            value={newValue.text}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nLongTextEditorDialog.propTypes = propTypes;\n\nexport default LongTextEditorDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextareaItem } from 'antd-mobile';\nimport * as zIndexes from '../utils/zIndexes';\nimport getPreviewContent from '../utils/markdown-utils';\nimport MobileCommonHeader from './mobile-common-header';\n\nconst propTypes = {\n  column: PropTypes.object,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  onCommit: PropTypes.func,\n  closeEditor: PropTypes.func,\n};\n\nclass LongTextView extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: (props.value && props.value.text) ? props.value.text : '', \n    };\n    const offsetWidth = document.body.offsetWidth;\n    this.rowCounts = offsetWidth < 767.8 ? 10 : 20;\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false); \n    this.timer = setInterval(() => {\n      this.saveValue();\n    }, 60000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  saveValue = () => {\n    const markdownContent = this.state.value;\n    const { previewText , images, links } = getPreviewContent(markdownContent);\n    const newValue = Object.assign({}, { text: markdownContent, preview: previewText, images: images, links: links });\n    this.props.onCommit(newValue);\n  }\n\n  closeDialog = () => {\n    this.saveValue();\n    this.props.closeEditor();\n  }\n\n  handleChange = (value) => {\n    this.setState({ value });\n  }\n\n  render() {\n    return (\n      <div className=\"row-expand-view long-text-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={this.props.column.name}\n          onLeftClick={this.closeDialog}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"view-partition view-partition-border-bottom\"></div>\n        <div className=\"long-text-container\">\n          <TextareaItem rows={this.rowCounts} value={this.state.value} onChange={this.handleChange}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nLongTextView.propTypes = propTypes;\n\nexport default LongTextView;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LongTextEditorPreviewAll from '../cell-editor-widgets/long-text-editor-preview-all';\nimport LongTextEditorDialog from '../cell-editor-widgets/long-text-editor-dialog';\nimport MediaQuery from 'react-responsive';\nimport LongTextView from '../cell-viewer-mobile/long-text-view';\nimport { gettext } from '../../../utils/constants';\n\nimport '../css/long-text.css';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass LongTextEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: { text: '', perview: '' }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: '',\n      innerHtml: '',\n      isShowEditorDialog: false,\n    };\n\n    this.value = props.value ? props.value : {text: '', preview: ''};\n  }\n\n  componentDidMount() {\n    this.setState({newValue: this.value});\n  }\n\n  onCommit = (newValue) => {\n    this.setState({newValue: newValue}, () => {\n      let updated = {};\n      let column = this.props.column;\n      updated[column.key] = newValue;\n      this.props.onCommit(updated);\n    });\n  }\n\n  onContentClick = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isShowEditorDialog: true});\n  }\n\n  onCloseEditorDialog = () => {\n    this.setState({isShowEditorDialog: false});\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  render() {\n    // todo compatible with grid mode\n    const { isShowEditorDialog, newValue } = this.state;\n    return (\n      <div className=\"cell-editor grid-cell-type-long-text\">\n        {newValue.text && (\n          <LongTextEditorPreviewAll \n            newValue={newValue} \n            onContentClick={this.onContentClick}\n          />\n        )}\n        {!newValue.text && (\n          <div className=\"editor-operation long-text-editor-edit\" onClick={this.onContentClick}>{gettext('Edit Text')}</div>\n        )}\n        <MediaQuery query=\"(min-width: 768px)\">\n          {isShowEditorDialog &&\n            <LongTextEditorDialog\n              newValue={newValue}\n              column={this.props.column}\n              onCommit={this.onCommit}\n              onCommitCancel={this.onCommitCancel}\n              onCloseEditorDialog={this.onCloseEditorDialog}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {isShowEditorDialog &&\n            <div className=\"cell-viewer-mobile-mask\">\n              <LongTextView\n                column={this.props.column}\n                value={newValue}\n                onCommit={this.onCommit}\n                closeEditor={this.onCloseEditorDialog}\n              />\n            </div>\n          }\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nLongTextEditor.propTypes = propTypes;\n\nexport default LongTextEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { DatePicker } from 'antd-mobile';\nimport Calendar from '@seafile/seafile-calendar';\nimport * as SeaDatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport * as zIndexes from '../utils/zIndexes';\nimport { translateCalendar } from '../utils/date-format-utils';\nimport { gettext } from '../../../utils/constants';\nimport MobileCommonHeader from './mobile-common-header';\nimport '@seafile/seafile-calendar/assets/index.css';\nimport 'moment/locale/zh-cn';\nimport 'moment/locale/en-gb';\n\nconst propTypes = {\n  column: PropTypes.object,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  onCommit: PropTypes.func,\n  onChange: PropTypes.func,\n  closeEditor: PropTypes.func,\n};\n\nconst now = moment();\n\nclass DateEditorView extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.showTime = props.column.data ? props.column.data.format === 'YYYY-MM-DD HH:mm': false;\n    this.state = {\n      time: null,\n      defaultCalendarValue: null,\n    };\n    this.calendarContainerRef = React.createRef();\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false);\n    let { value } = this.props;\n    const iszhcn = (window.app.config && window.app.config.lang === 'zh-cn');\n    if (iszhcn) {\n      now.locale('zh-cn');\n    } else {\n      now.locale('en-gb');\n    }\n    if (!value) {\n      value = new Date(Date.now());\n    }\n    this.setState({\n      defaultCalendarValue: now.clone(),\n      time: iszhcn ? moment(value).locale('zh-cn') : moment(value).locale('en-gb')\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  handleDateChange = (date) => {\n    if (this.showTime) {\n      const HM = moment(this.state.time).format('HH:mm');\n      const newTime = moment(date).format('YYYY-MM-DD') + ' ' + HM;\n      this.setState({ time: new Date(newTime) });\n    }\n    else {\n      this.setState({ time: date });\n    }\n  }\n\n  handleTimeChange = (time) => {\n    const YMD = moment(this.state.time).format('YYYY-MM-DD');\n    const newTime = YMD + ' ' + moment(time).format('HH:mm');\n    this.setState({ time: new Date(newTime) });\n  }\n\n  closeEditor = () => {\n    this.props.closeEditor();\n  }\n\n  deleteDate = () => {\n    this.props.onChange(null);\n    this.props.closeEditor();\n  }\n\n  getCalendarContainer = () => {\n    return this.calendarContainerRef.current;\n  }\n\n  getFormat = (showHour) => {\n    return showHour ? 'YYYY-MM-DD HH:mm' : 'YYYY-MM-DD';\n  }\n\n  onChange = (value) => {\n    if (!value) return;\n    const newTime = value.format(this.getFormat(this.showTime));\n    this.setState({ time: newTime });\n    this.props.onChange(value);\n  }\n\n  renderCalendar() {\n    const { time } = this.state;\n    const calendar = (\n      <Calendar\n        locale={translateCalendar()}\n        dateInputPlaceholder={gettext('Please input date')}\n        format={this.getFormat(this.showTime)}\n        defaultValue={this.state.defaultCalendarValue}\n        showDateInput={false}\n        focusablePanel={false}\n        showToday={false}\n        showTime={false}\n        style={{width: '100%', fontSize: '14px'}}\n      />\n    );\n    return (\n      <div className=\"date-picker-container\">\n        <SeaDatePicker\n          calendar={calendar}\n          value={moment(time)}\n          onChange={this.onChange}\n          getCalendarContainer={this.getCalendarContainer}\n          open={true}\n          style={{width: '100%'}}\n        >\n          {({ time }) => {\n            return (\n              <div tabIndex=\"0\" onFocus={this.onReadOnlyFocus}>\n                <input\n                  placeholder={gettext('Please select')}\n                  readOnly\n                  tabIndex=\"-1\"\n                  className=\"ant-calendar-picker-input ant-input form-control\"\n                  value={time ? moment(time).format(this.getFormat(this.showTime)) : ''}\n                />\n                <div ref={this.calendarContainerRef} style={{height: '22rem'}}/>\n              </div>\n            );\n          }}\n        </SeaDatePicker>\n      </div>\n    );\n  }\n\n  render() {\n    const { column } = this.props;\n    return (\n      <div className=\"row-expand-view date-editor-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={column.name}\n          onLeftClick={this.closeEditor}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"date-input\" style={this.showTime ? { width: '50%' } : { width: '100%' }}>\n          <DatePicker mode=\"date\" value={this.state.value} onChange={this.handleDateChange}>\n            <div className=\"date-input-day\">{moment(this.state.time).format('YYYY-MM-DD')}</div>\n          </DatePicker>\n        </div>\n        {this.showTime &&\n          <div className=\"date-input\" style={{ width: '50%' }}>\n            <DatePicker mode=\"time\" value={this.state.value} onChange={this.handleTimeChange}>\n              <div className=\"date-input-day\">{moment(this.state.time).format('HH:mm')}</div>\n            </DatePicker>\n          </div>\n        }\n        <div className=\"view-partition view-partition-border-top view-partition-border-bottom\"></div>\n        {this.renderCalendar()}\n        <div className=\"row-expand-view-footer\">\n          <div onClick={this.deleteDate} className=\"clear-date\">{gettext('Clear')}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nDateEditorView.propTypes = propTypes;\n\nexport default DateEditorView;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Detecting outside click on a react component is surprisingly hard.\n * A general approach is to have a global click handler on the document\n * which checks if the click target is inside the editor container or\n * not using editorContainer.contains(e.target). This approach works well\n * until portals are used for editors. Portals render children into a DOM\n * node that exists outside the DOM hierarchy of the parent component so\n * editorContainer.contains(e.target) does not work. Here are some examples\n * of the DOM structure with different types of editors\n *\n *\n * SimpleEditor for example Texbox (No Portals)\n *   <div react-data-grid>..<div>\n *   <div portal-created-by-the-grid-for-editors>\n *      <div editor-container>\n *        <div simple-editor>..</div>\n *      </div>\n *   <div>\n *\n * ComplexEditor for example Modals (using Portals)\n *   <div react-data-grid>..<div>\n *   <div portal-created-by-the-grid-for-editors>\n *      <div editor-container>\n *        // Nothing here\n *      </div>\n *   <div>\n *   <div portal-created-by-the-editor>\n *     <div complex-editor>..</div>\n *   </div>\n *\n *\n * One approach to detect outside click is to use event bubbling through\n * portals. An event fired from inside a portal will propagate to ancestors\n * in the containing React tree, even if those elements are not ancestors\n * in the DOM tree. This means a click handler can be attached on the document\n * and on the editor container. The editor container can set a flag to notify\n * that the click was inside the editor and the document click handler can use\n * this flag to call onClickOutside. This approach however has a few caveats\n * - Click handler on the document is set using document.addEventListener\n * - Click handler on the editor container is set using onClick prop\n *\n * This means if a child component inside the editor calls e.stopPropagation\n * then the click handler on the editor container will not be called whereas\n * document click handler will be called.\n * https://github.com/facebook/react/issues/12518\n *\n * To solve this issue onClickCapture event is used.\n */\n\nexport default class ClickOutside extends React.Component {\n  static propTypes = {\n    children: PropTypes.element.isRequired,\n    onClickOutside: PropTypes.func.isRequired\n  };\n\n  isClickedInside = false;\n\n  componentDidMount() {\n    document.addEventListener('click', this.handleDocumentClick);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleDocumentClick);\n  }\n\n  handleDocumentClick = (e) => {\n    if (this.isClickedInside) {\n      this.isClickedInside = false;\n      return;\n    }\n\n    this.props.onClickOutside(e);\n  };\n\n  handleMouseDown = () => {\n    this.isClickedInside = true;\n  }\n\n  render() {\n    return React.cloneElement(\n      React.Children.only(this.props.children), {\n        onMouseDownCapture: this.handleMouseDown\n      }\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport { withTranslation } from 'react-i18next';\nimport MediaQuery from 'react-responsive';\nimport DateEditorView from '../cell-viewer-mobile/date-editor-view';\nimport ClickOutside from '../cell-editor-widgets/click-outside';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../utils/date-format-utils';\nimport { gettext } from '../../../utils/constants';\nimport 'moment/locale/zh-cn';\nimport 'moment/locale/en-gb';\nimport '@seafile/seafile-calendar/assets/index.css';\nimport '../css/date-editor.css';\n\nconst now = moment();\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.string,\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n  t: PropTypes.func,\n};\n\nclass DataEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: '',\n    defaultCalendarValue: null,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      isDateInit: false,\n      isPopoverShow: false,\n      newValue: null,\n      dateFormat: 'YYYY-MM-DD',\n      showHourAndMinute: false,\n      defaultCalendarValue: null,\n    };\n\n    this.calendarContainerRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const iszhcn = (window.app.config && window.app.config.lang === 'zh-cn');\n    iszhcn ? moment.locale('zh-cn') : moment.locale('en-gb');\n    const { value } = this.props;\n    let dateFormat = this.getDateFormat();\n    this.setState({\n      isDateInit: true,\n      newValue: value && (iszhcn ? moment(value).locale('zh-cn') : moment(value).locale('en-gb')),\n      dateFormat: dateFormat,\n      showHourAndMinute: dateFormat.indexOf('HH:mm') > -1,\n      defaultCalendarValue: now.clone(),\n    });\n  }\n\n  onClickOutside = () => {\n    this.setState({isPopoverShow: false, open: false});\n  }\n\n  getFormatValue = (value) => {\n    if (!value) {\n      return null;\n    }\n    return moment(value);\n  }\n\n  getDateFormat = () => {\n    let { column } = this.props;\n    let defaultDateFormat = 'YYYY-MM-DD';\n    let dateFormat = column.data && column.data.format;\n    return dateFormat || defaultDateFormat;\n  }\n\n  onCommit = (value) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = value;\n    this.props.onCommit(updated);\n  }\n\n  onDateEditorToggle = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({\n      isPopoverShow: !this.state.isPopoverShow,\n      open: !this.state.open\n    });\n  }\n\n  onFocusDatePicker = () => {\n    this.setState({open: true});\n  }\n\n  handleMouseDown = (event) => {\n    event.stopPropagation();\n  }\n\n  onChange = (value) => {\n    if (!value) return;\n    let { showHourAndMinute } = this.state;\n    this.setState({newValue: value}, () => {\n      let storageFormat = showHourAndMinute ? 'YYYY-MM-DD HH:mm' : 'YYYY-MM-DD';\n      value = value && value.format(storageFormat);\n      this.onCommit(value);\n    });\n  }\n\n  onOpenChange = (open) => {\n    if (!this.state.showHourAndMinute) {\n      this.setState({\n        isPopoverShow: open,\n        open: open\n      });\n    }\n  }\n\n  getCalendarContainer = () => {\n    return this.calendarContainerRef.current;\n  }\n\n  onClear = () => {\n    this.setState({\n      isPopoverShow: false,\n      open: false,\n    });\n  }\n\n  getCalender = () => {\n    return (\n      <Calendar \n        locale={translateCalendar()}\n        style={{ zIndex: 1001 }}\n        format={this.getDateFormat()}\n        defaultValue={this.state.defaultCalendarValue}\n        showDateInput={true}\n        dateInputPlaceholder={gettext('Please input')}\n        focusablePanel={false}\n        showHourAndMinute={this.state.showHourAndMinute}\n        onClear={this.onClear}\n      />\n    );\n  }\n\n  render() {\n    if (!this.state.isDateInit) {\n      return (\n        <div className=\"cell-editor grid-cell-type-date\">\n          <div className=\"date-editor-conteinr\">\n            <div className=\"control-form\"></div>\n          </div>\n        </div>\n      );\n    }\n\n    let calendar = this.getCalender();\n    let state = this.state;\n    let value = state.newValue ? state.newValue.format(this.getDateFormat()) : '';\n\n    let datePickerValue = state.newValue || null;\n    return (\n      <ClickOutside onClickOutside={this.onClickOutside}>\n        <div className=\"cell-editor grid-cell-type-date\">\n          {!this.state.isPopoverShow && (\n            <div className=\"date-editor-container\" style={{width: 320}} onClick={this.onDateEditorToggle}>\n              <div className=\"form-control\">{value || ''}</div>\n            </div>\n          )}\n          <MediaQuery query=\"(min-width: 768px)\">\n            {this.state.isPopoverShow && (\n              <DatePicker \n                open={state.open}\n                value={datePickerValue}\n                animation=\"slide-up\"\n                style={{ zIndex: 1001 }}\n                calendar={calendar}\n                getCalendarContainer={this.getCalendarContainer}\n                onChange={this.onChange}\n                onOpenChange={this.onOpenChange}\n              >\n                {({value}) => {\n                  value = value && (value.format(this.getDateFormat()) || '');\n                  return (\n                    <span className=\"date-editor-container\" tabIndex=\"0\" onFocus={this.onFocusDatePicker}>\n                      <input\n                        placeholder={gettext('Please select')}\n                        readOnly\n                        tabIndex=\"-1\"\n                        className=\"ant-calendar-picker-input ant-input form-control\"\n                        value={value || ''}\n                        onMouseDown={this.handleMouseDown}\n                      />\n                      <div ref={this.calendarContainerRef} />\n                    </span>\n                  );\n                }}\n              </DatePicker>\n            )}\n          </MediaQuery>\n          <MediaQuery query=\"(max-width: 767.8px)\">\n            {this.state.isPopoverShow &&\n              <div className=\"cell-viewer-mobile-mask\">\n                <DateEditorView\n                  column={this.props.column}\n                  value={value}\n                  onCommit={this.props.onCommit}\n                  closeEditor={this.onDateEditorToggle}\n                  onChange={this.onChange}\n                />\n              </div>\n            }\n          </MediaQuery>\n        </div>\n      </ClickOutside>\n    );\n  }\n}\n\nDataEditor.propTypes = propTypes;\n\nexport default withTranslation('dtable') (DataEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport isHotkey from 'is-hotkey';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.string,\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass TextEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: '',\n      isEditorShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let { value } = this.props;\n    this.setState({newValue: value});\n  }\n\n  onCommit = () => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = this.state.newValue;\n    this.props.onCommit(updated);\n\n    this.setState({isEditorShow: false});\n  }\n\n  \n  onBlur = () => {\n    this.onCommit();\n  }\n  \n  onChange = (event) => {\n    let value = event.target.value.trim();\n    this.setState({newValue: value});\n  }\n  \n  onEditorhandle = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isEditorShow: true}, () => {\n      this.input.focus();\n    });\n  }\n\n  onKeyDown = (event) => {\n    let { selectionStart, selectionEnd, value } = event.currentTarget;\n    if (isHotkey('enter', event)) {\n      event.preventDefault();\n      this.onBlur();\n    } else if ((event.keyCode === 37 && selectionStart === 0) || \n      (event.keyCode === 39 && selectionEnd === value.length)\n    ) {\n      event.stopPropagation();\n    }\n  }\n\n  onPaste = (e) => {\n    e.stopPropagation();\n  }\n\n  onCut = (e) => {\n    e.stopPropagation();\n  }\n\n  setInputRef = (input) => {\n    this.input = input;\n  }\n\n  render() {\n\n    return (\n      <div className=\"cell-editor grid-cell-type-text\">\n        <div className=\"text-editor-container\">\n          {!this.state.isEditorShow && (\n            <div className=\"form-control\" onClick={this.onEditorhandle}>{this.state.newValue}</div>\n          )}\n          {this.state.isEditorShow && (\n            <input\n              ref={this.setInputRef} \n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.newValue} \n              onChange={this.onChange} \n              onKeyDown={this.onKeyDown}\n              onBlur={this.onBlur}\n              onCut={this.onCut}\n              onPaste={this.onPaste}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nTextEditor.propTypes = propTypes;\n\nexport default TextEditor;\n","import NP from 'number-precision';\nNP.enableBoundaryChecking(false);\n\nexport const getFloatNumber = data =>  {\n  let isIncludePercent = data.indexOf('%') > -1;\n  let newData = parseFloat(data.replace(/[^.-\\d]/g, ''));\n  if (isIncludePercent && !isNaN(newData)) {\n    return newData / 100;\n  }\n  return isNaN(newData) ? '' : newData;\n};\n\nexport const toThousands = (num, isCurrency) => {\n  let integer = Math.trunc(num);\n  let decimal = String(Math.abs(NP.minus(num, integer))).slice(1);\n  if (isCurrency) {\n    if (decimal.length === 2) {\n      decimal = decimal.padEnd(3, '0');\n    } else {\n      decimal = decimal.substring(0, 3).padEnd(3, '.00');\n    }\n  }\n  let result = [], counter = 0;\n  integer = Object.is(integer, -0) ? ['-', '0'] : integer.toString().split('');\n  for (var i = integer.length - 1; i >= 0; i--) {\n    counter++;\n    result.unshift(integer[i]);\n    if (!(counter % 3) && i !== 0) {\n      result.unshift(',');\n    }\n  }\n  return result.join('') + decimal;\n};\n\nexport const getCurrentOption = (value, format) => {\n  if (typeof value !== 'number') {\n    return '';\n  }\n  const commaValue = toThousands(value);\n  const moneyCommaValue = toThousands(value.toFixed(2), true);\n  switch(format) {\n    case 'number':\n      return value;\n    case 'number-with-commas':\n      return commaValue;\n    case 'percent':\n      return `${value * 100}%`;\n    case 'yuan':\n      return `￥${moneyCommaValue}`;\n    case 'dollar':\n      return `$${moneyCommaValue}`;\n    case 'euro':\n      return `€${moneyCommaValue}`;\n    default:\n      return value;\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport isHotkey from 'is-hotkey';\nimport { getFloatNumber, getCurrentOption } from '../utils/number-utils';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass NumebrEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDateInit: false,\n      inputValue: '',\n      textValue: '',\n      isEditorShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    let newValue = !value && value !== 0 ? '' : value;\n    let dateFormat = this.getDateFormat();\n    newValue = getCurrentOption(newValue, dateFormat);\n    this.setState({\n      inputValue: newValue,\n      textValue: newValue,\n    });\n  }\n\n  formatValue = (value) => {\n    let format = this.getDateFormat();\n    switch(format) {\n      case 'number':\n      case 'number-with-commas': {\n        return value.replace(/[^.-\\d,]/g,'');\n      }\n      case 'percent': {\n        return value.replace(/[^.-\\d,%]/g, '');\n      }\n      case 'yuan': {\n        return value.replace(/[^.-\\d￥,]/g, '');\n      }\n      case 'dollar': {\n        return value.replace(/[^.-\\d$,]/g, '');\n      }\n      case 'euro': {\n        return value.replace(/[^.-\\d€,]/g, '');\n      }\n      default:\n        return value.replace(/[^.-\\d,]/g,'');\n    }\n  }\n\n  getDateFormat = () => {\n    let { column } = this.props;\n    let dataFormat = column.data && column.data.format;\n    let defaultFormat = 'number';\n    return dataFormat || defaultFormat;\n  }\n\n  onCommit = () => {\n    let updated = {};\n    let { column } = this.props;\n    let inputValue = this.state.inputValue ? this.state.inputValue.toString() : '';\n    let value = getFloatNumber(inputValue);\n    updated[column.key] = value;\n    this.props.onCommit(updated);\n\n    let dateFormat = this.getDateFormat();\n    let newValue = getCurrentOption(value, dateFormat);\n    this.setState({\n      isEditorShow: false,\n      textValue: newValue\n    });\n  }\n\n  onEditorHandle = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({\n      isEditorShow: true,\n      inputValue: this.state.textValue\n    }, () => {\n      this.input.focus();\n    });\n  }\n\n  onBlur = () => {\n    this.onCommit();\n  }\n\n  onChange = (event) => {\n    let value = event.target.value.trim();\n    value = this.formatValue(value);\n    if (value === this.state.inputValue) {\n      return;\n    }\n    this.setState({inputValue : value});\n  }\n\n  onKeyDown = (event) => {\n    let { selectionStart, selectionEnd, value } = event.currentTarget;\n    if (isHotkey('enter', event)) {\n      event.preventDefault();\n      this.onBlur();\n    } else if ((event.keyCode === 37 && selectionStart === 0) || \n      (event.keyCode === 39 && selectionEnd === value.length)\n    ) {\n      event.stopPropagation();\n    }\n  }\n\n  onPaste = (e) => {\n    e.stopPropagation();\n  }\n\n  onCut = (e) => {\n    e.stopPropagation();\n  }\n\n  getStyle = () => {\n    return {\n      width: '320px',\n      textAlign: 'left',\n    };\n  }\n\n  setInputRef = (input) => {\n    this.input = input;\n    return this.input;\n  };\n  \n  render() {\n    let style = this.getStyle();\n    return (\n      <div className=\"cell-editor grid-cell-type-number\">\n        <div className=\"number-editor-container\">\n          {!this.state.isEditorShow &&\n            <div className=\"form-control\" style={style} onClick={this.onEditorHandle}>{this.state.textValue}</div>\n          }\n          {this.state.isEditorShow && (\n            <input \n              ref={this.setInputRef}\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.inputValue}\n              onChange={this.onChange}\n              onBlur={this.onBlur}\n              onCut={this.onCut}\n              onPaste={this.onPaste}\n              style={style}\n              onKeyDown={this.onKeyDown}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nNumebrEditor.propTypes = propTypes;\n\nexport default NumebrEditor;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass CheckboxEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: false\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value ? props.value : false,\n    };\n  }\n\n  getValue = () => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = this.state.value;\n    return updated;\n  }\n\n  onCommit = () => {\n    let updated = this.getValue();\n    this.props.onCommit(updated);\n  }\n\n  onChange = (event) => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    let value = event.target.checked;\n    if (value === this.state.value) {\n      return;\n    }\n    this.setState({ value }, () => {\n      this.onCommit();\n    });\n  }\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  }\n\n  onBlur = () => {\n    // this.onCommit();\n  }\n\n  setInputRef = (input) => {\n    this.input = input;\n  }\n\n  getStyle = () => {\n    return {\n      marginLeft: 0,\n      transform: 'scale(1.1)'\n    };\n  }\n\n  render() {\n    let style = this.getStyle();\n    \n    return (\n      <div className=\"cell-editor grid-cell-type-checkbox\">\n        <div className=\"checkbox-editor-container\">\n          <input \n            ref={this.setInputRef}\n            type=\"checkbox\"\n            className=\"checkbox\"\n            checked={this.state.value}\n            onBlur={this.onBlur}\n            onPaste={this.onPaste}\n            onKeyDown={this.onKeyDown}\n            onChange={this.onChange}\n            style={style}\n            readOnly={this.props.isReadOnly}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nCheckboxEditor.propTypes = propTypes;\n\nexport default CheckboxEditor;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from 'reactstrap';\n\nconst { formID } = window.shared.pageOptions;\n\nclass ImageThumbnail extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n  }\n\n  toggle = () => {\n    this.setState({ open: !this.state.open });\n  }\n\n  render() {\n    let { src, name, id } = this.props;\n    src += '?token=' + formID;\n    return (\n      <Fragment>\n        <img alt='' src={src} id={`thumbnail-${id}`}/>\n        <Tooltip placement='bottom' isOpen={this.state.open} toggle={this.toggle} target={`thumbnail-${id}`} delay={{show: 0, hide: 0 }} fade={'false'} >\n          {name}\n        </Tooltip>\n      </Fragment>\n    );\n  }\n}\n\nconst ImageThumbnailPropTypes = {\n  src: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nImageThumbnail.propTypes = ImageThumbnailPropTypes;\n\nexport default ImageThumbnail;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Progress } from 'react-sweet-progress';\nimport 'react-sweet-progress/lib/style.css';  \n\nfunction UploadProgress(props) {\n  return (\n    <Progress \n      type=\"circle\" \n      percent={props.uploadPercent} \n      width={props.width || 30}\n      theme={\n        {\n          default: {\n            color: props.defaultColor || 'rgba(0, 0, 0, 0.6)',\n          },\n          active: {\n            color: props.activeColor || '#fff',\n          },\n          success: {\n            color: props.successColor || '#fff',\n          }\n        }\n      }\n      style={\n        {\n          color: '#fff',\n          fontSize: '12px',\n          transform: 'rotate(-90deg)',\n          position: 'absolute',\n          zIndex: 4\n        }\n      }\n      symbolClassName=\"file-upload-span\"\n    />\n  );\n}\n\nUploadProgress.propTypes = {\n  uploadPercent: PropTypes.number.isRequired,\n  width: PropTypes.number,\n  defaultColor: PropTypes.string,\n  activeColor: PropTypes.string,\n  successColor: PropTypes.string,\n};\n\nexport default UploadProgress;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Progress from './upload-progress';\nimport { getFileIconUrl } from '../../../dtable-share-row/utils/utils';\nimport classnames from 'classnames';\nimport { gettext } from '../../../../utils/constants';\n\nconst propTypes = {\n  handleFileChange: PropTypes.func,\n  value: PropTypes.array,\n  deleteFile: PropTypes.func,\n  isUploading: PropTypes.bool,\n  event: PropTypes.object,\n  thumbnailSrc: PropTypes.string,\n  uploadPercent: PropTypes.number,\n  isErrorTip: PropTypes.bool,\n  config: PropTypes.object,\n};\n\nclass LocalFileAddition extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFileTipShow: false,\n      enterFileIndex: -1\n    };\n    this.enteredCounter = 0; // Determine whether to enter the child element to avoid dragging bubbling bugs。\n  }\n\n  handleFileChange = (event) => {\n    event.persist();\n    this.props.handleFileChange(event);\n  }\n\n  deleteFile = (index) => {\n    this.props.deleteFile(index);\n  }\n\n  fileDragEnter = (event) => {\n    event.preventDefault();\n    this.enteredCounter++;\n    if (this.enteredCounter !== 0) {\n      this.setState({ isFileTipShow: true });\n    }\n  }\n\n  fileDragOver = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  fileDragLeave = () => {\n    this.enteredCounter--;\n    if (this.enteredCounter === 0) {\n      this.setState({ isFileTipShow: false });\n    }\n  }\n\n  fileDrop = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    event.persist();\n    this.enteredCounter = 0;\n    this.setState({ isFileTipShow: false });\n    let files = event.dataTransfer.files;\n    let reader = new FileReader();\n    reader.onload = () => {\n      this.props.handleFileChange(event, files[0]);\n    };\n    reader.readAsText(files[0]);\n  }\n\n  fileUploadClick = () => {\n    this.refs.files.click();\n  }\n\n  onInputFile = (event) => {\n    event.stopPropagation();\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterFileIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterFileIndex: -1 });\n  }\n\n  fileUploadAgain = () => {\n    this.props.handleFileChange(this.props.event);\n  }\n\n  calculateFileArr = () => {\n    let fileArr = [];\n    let { config, value, isUploading, thumbnailSrc, uploadPercent, isErrorTip } = this.props;\n    let { isFileTipShow, enterFileIndex } = this.state;\n    let { medialUrl } = config;\n    if (Array.isArray(value)) {\n      fileArr = value.map((fileItem, index) => {\n        let fileIconUrl = getFileIconUrl(medialUrl ,fileItem.name, fileItem.direntType);\n        return (\n          <div key = {'file-wrapper-' + index} className=\"file-wrapper\" onMouseEnter={() => this.showDeleteIcon(index)} onMouseLeave={this.hideDeleteIcon}>\n            <div className=\"file-content\">\n              <img src={fileIconUrl} alt=\"\"/>\n            </div>\n            {enterFileIndex === index &&\n              <div className=\"delete-file-icon\" onClick={() => this.deleteFile(index)}  >\n                <span className=\"file-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      if (isUploading) {\n        let fileIconUrl = thumbnailSrc;\n        fileArr.push(\n          <div className=\"file-wrapper\" key={'file-wrapper-circle'} >\n            <div className=\"file-upload-percent\">\n              <img src={fileIconUrl} style={{position: 'absolute', zIndex: uploadPercent === 100 ? 3 : 1}} alt=\"\" />\n              {uploadPercent < 100 && !isErrorTip &&\n                <Progress \n                  uploadPercent={uploadPercent}\n                />\n              } \n              {uploadPercent === 100 && \n                <div className=\"file-upload-success\">\n                  <div className=\"file-upload-success-scale\">\n                    <span className=\"file-upload-success-icon\">\n                      <i className=\"dtable-font dtable-icon-check-mark\"></i>\n                    </span>\n                    <span className=\"file-upload-success-tip\">{gettext('Uploaded completed')}</span>\n                  </div>\n                </div>\n              } \n              <div className=\"file-upload-mask\"></div>\n              {isErrorTip && \n                <div className=\"file-upload-error-tip\">\n                  <span>{gettext('Network Error')}</span>\n                  <span className=\"file-upload-again\" onClick={this.fileUploadAgain}>{gettext('Re-upload')}</span>\n                </div>\n              }\n            </div>\n          </div>\n        );\n      }\n      let uploadContainerClassName = 'file-wrapper';\n      let addBoxClassName = 'file-add-box';\n      let addIconClassName = classnames('file-add-button', {'file-wrapper-drop-active': isFileTipShow});\n      let fileTips = '';\n      if (fileArr.length === 0) {\n        uploadContainerClassName = classnames('file-upload-container', {'file-upload-container-active': isFileTipShow});\n        addBoxClassName = classnames('file-tip-addition', {'file-drop-active': isFileTipShow});\n        addIconClassName = 'file-add-icon';\n        fileTips = isFileTipShow ?\n          <div className=\"file-add-span\">{gettext('Drag and drop to add a file')}</div> : \n          <div className=\"file-add-span\">{gettext('Drag and drop files or click here to add')}</div>;\n      }\n      fileArr.push(\n        <div className={uploadContainerClassName}\n          key={'file-wrapper-addition'} \n          onDragEnter={this.fileDragEnter} \n          onDragOver={this.fileDragOver} \n          onDragLeave={this.fileDragLeave}\n          onDrop={this.fileDrop} \n          onClick={this.fileUploadClick}\n        >\n          <div className={addBoxClassName}>\n            <div className={addIconClassName}>\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n              <input type=\"file\" ref='files'  className='upload-file' onClick={this.onInputFile} onChange={this.handleFileChange} />\n            </div>\n            {fileTips}\n          </div> \n        </div>\n      );\n    }\n    return fileArr;\n  }\n\n  render() {\n    return this.calculateFileArr();\n  }\n}\n\nLocalFileAddition.propTypes = propTypes;\n\nexport default withTranslation('dtable')(LocalFileAddition);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport ImageThumbnail from '../cell-editor-widgets/file-image-edit/image-thumbnail';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport LocalFileAddition from '../cell-editor-widgets/file-image-edit/local-file-addition';\nimport { getFileIconUrl } from '../../dtable-share-row/utils/utils';\nimport { dtableWebAPI } from '../../../utils/dtable-web-api';\nimport { gettext } from '../../../utils/constants';\nimport '../css/file-editor.css';\n\nconst FileEditorPropTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst { dtableName: fileName, workspaceID, dtableWebURL, formToken } = window.shared.pageOptions;\nconst { serviceURL, mediaUrl } = window.app.config;\nconst config = {\n  server: dtableWebURL,\n  workspaceID,\n  fileName,\n  medialUrl: serviceURL + mediaUrl,\n};\n\nclass FileEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: []\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: props.value,\n      isPopoverShow: false,\n      isUpdated: false,\n      uploadPercent: 0,\n      isUploading: false,\n      thumbnailSrc: '',\n      enterFileIndex: -1,\n      isErrorTip: false,\n      event: {},\n    };\n  }\n\n  onAddFileToggle = (event) => {\n    if (event) {\n      event.stopPropagation();\n    }\n    let { isPopoverShow, isUpdated, newValue } = this.state;\n    if (isPopoverShow && isUpdated) {\n      const { column, onCommit } = this.props;\n      let updated = { [column.key]: newValue };\n      onCommit(updated);\n    }\n    this.setState({ isPopoverShow: !isPopoverShow });\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterFileIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterFileIndex: -1 });\n  }\n\n  getFormatValue = () => {\n    const { medialUrl } = config;\n    let fileArr = [];\n    let { newValue, enterFileIndex } = this.state;\n    if (Array.isArray(newValue) && newValue.length > 0) { \n      newValue.forEach((fileItem, index) => {\n        let iconUrl = getFileIconUrl(medialUrl, fileItem.name, fileItem.type);\n        fileArr.push(\n          <div key={`file-${index}`} className=\"share-form-item-file\" onMouseEnter={() => this.showDeleteIcon(index)} onMouseLeave={this.hideDeleteIcon}>\n            <ImageThumbnail src={iconUrl} id={`item-file-${index}`} name={fileItem.name}/>\n            {enterFileIndex === index &&\n              <div className=\"editor-delete-icon\" onClick={() => this.deleteFile(index)}  >\n                <span className=\"file-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      fileArr.push(\n        <div key={`file-${newValue.length + 1}`} className=\"share-form-item-file\" onClick={this.onFileEditorToggle}>\n          <div className=\"file-add-box\">\n            <div className=\"file-add-button\">\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n            </div>\n          </div> \n        </div>\n      );\n    } else {\n      fileArr.push(\n        <div key=\"select-editor-add\" onClick={this.onFileEditorToggle} className=\"select-editor-add\">\n          {gettext('Add Files')}\n        </div>\n      );\n    }\n    return fileArr;\n  }\n\n  onFileEditorToggle = () => {\n    if (this.props.isReadOnly) return;\n    this.setState({ isPopoverShow: !this.state.isPopoverShow });\n  }\n\n  deleteFile = (index) => {\n    let value = this.state.newValue.slice(0);\n    value.splice(index, 1);\n    this.setState({\n      isUpdated: true,\n      newValue: value\n    }, () => {\n      let { column, onCommit } = this.props;\n      let updated = { [column.key]: value };\n      onCommit(updated);\n    });\n  }\n\n  handleFileChange = (event, uploadFile = null) => {\n    event.persist();\n    let file = uploadFile ? uploadFile : event.target.files[0];\n    if (!file) {\n      return;\n    }\n    let { medialUrl } = config;\n    let thumbnailSrc = getFileIconUrl(medialUrl, file.name, file.type);\n    this.setState({\n      isUploading: true,\n      isUpdated: true,\n      isErrorTip: false,\n      thumbnailSrc: thumbnailSrc,\n      event: {},\n    });\n\n    this.uploadLocalFile(file).then((response) => {\n      let value = this.state.newValue.slice(0);\n      value.push(response);\n      this.setState({\n        isUploading: false,\n        uploadPercent: 0,\n        newValue: value,\n        thumbnailSrc: '',\n        enterFileIndex: value.length,\n      });\n    }).catch(err => {\n      this.setState({ isErrorTip: true, event: event });\n    });\n  }\n\n  uploadLocalFile = (imageFile) => {\n    let parentPath = '', relativePath='';\n    return (\n      dtableWebAPI.getUploadLinkViaFormToken(formToken).then((res) => {\n        const uploadLink = res.data.upload_link + '?ret-json=1';\n        const newFile = new File([imageFile], imageFile.name, {type: File.type});\n        const formData = new FormData();\n        parentPath = res.data.parent_path;\n        relativePath = res.data.file_relative_path;\n        formData.append('parent_dir', parentPath);\n        formData.append('relative_path', relativePath);\n        formData.append('file', newFile);\n        return dtableWebAPI.uploadImage(uploadLink, formData, this.onUploadProgress);\n      }).then ((res) => {\n        return this.setFileMessage(res.data[0].name, parentPath, relativePath, res.data[0].size);\n      })\n    );\n  }\n\n  onUploadProgress = (event) => {\n    let { loaded, total } = event;\n    let uploadPercent = Math.floor(loaded / total * 100);\n    this.setState({uploadPercent});\n  }\n\n  setFileMessage(fileName, path, relativePath, size) {\n    let { server, workspaceID } = config;\n    let url = server + 'workspace/' + workspaceID + path + `/${relativePath}/` + encodeURIComponent(fileName);\n    return {\n      url,\n      size,\n      name: fileName,\n      type: 'file',\n    };\n  }\n\n  render() {\n    let value = this.getFormatValue();\n    let { isPopoverShow, newValue, uploadPercent, isUploading, thumbnailSrc, isErrorTip, event } = this.state;\n    return (\n      <div className=\"cell-editor grid-cell-type-file\">\n        {value}\n        {isPopoverShow && (\n          <Modal isOpen={true} toggle={this.onAddFileToggle} contentClassName={'file-editor-modal'}>\n            <ModalHeader toggle={this.onAddFileToggle}>\n              <span className=\"file-editor-title\">{gettext('Add Files')}</span>\n            </ModalHeader>\n            <ModalBody style={{padding: 0}}>\n              <div ref='fileEditorContainer' className=\"file-editor-container\">\n                <LocalFileAddition \n                  handleFileChange={this.handleFileChange}\n                  value={newValue}\n                  uploadPercent={uploadPercent}\n                  isUploading={isUploading}\n                  deleteFile={this.deleteFile} \n                  thumbnailSrc={thumbnailSrc}\n                  config={config}\n                  isErrorTip={isErrorTip}\n                  event={event}\n                />\n              </div>\n            </ModalBody>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nFileEditor.propTypes = FileEditorPropTypes;\nexport default withTranslation('dtable') (FileEditor);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Progress from './upload-progress';\nimport classnames from 'classnames';\nimport { gettext } from '../../../../utils/constants';\n\nconst { formID } = window.shared.pageOptions;\n\nconst propTypes = {\n  handleImageChange: PropTypes.func,\n  value: PropTypes.array,\n  deleteImage: PropTypes.func,\n  isUploading: PropTypes.bool,\n  event: PropTypes.object,\n  thumbnailSrc: PropTypes.string,\n  uploadPercent: PropTypes.number,\n  isErrorTip: PropTypes.bool,\n  config: PropTypes.object,\n};\n\nclass LocalImageAddition extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isImageTipShow: false,\n      enterFileIndex: -1\n    };\n    this.enteredCounter = 0; // Determine whether to enter the child element to avoid dragging bubbling bugs。\n  }\n\n  handleImageChange = (event) => {\n    event.persist();\n    this.props.handleImageChange(event);\n  }\n\n  deleteImage = (index) => {\n    this.props.deleteImage(index);\n  }\n\n  fileDragEnter = (event) => {\n    event.preventDefault();\n    this.enteredCounter++;\n    if (this.enteredCounter !== 0) {\n      this.setState({ isImageTipShow: true });\n    }\n  }\n\n  fileDragOver = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  fileDragLeave = () => {\n    this.enteredCounter--;\n    if (this.enteredCounter === 0) {\n      this.setState({ isImageTipShow: false });\n    }\n  }\n\n  fileDrop = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    event.persist();\n    this.enteredCounter = 0;\n    this.setState({ isImageTipShow: false, enterFileIndex: -1 });\n    let files = event.dataTransfer.files;\n    let isImage = /image/i.test(files[0].type);\n    if (isImage) {\n      this.props.handleImageChange(event, files[0]);\n    }\n  }\n\n  fileUploadClick = () => {\n    this.refs.image_file.click();\n  }\n\n  onInputFile = (event) => {\n    event.stopPropagation();\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterFileIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterFileIndex: -1 });\n  }\n\n  fileUploadAgain = () => {\n    this.props.handleImageChange(this.props.event);\n  }\n\n  calculateImageArr = () => {\n    let imageArr = [];\n    let { isImageTipShow, enterFileIndex } = this.state;\n    let { value, isUploading, thumbnailSrc, uploadPercent, isErrorTip } = this.props;\n    if (Array.isArray(value)) {\n      imageArr = value.map((imageItem, index) => {\n        return (\n          <div key = {'image-wrapper-' + index} className=\"image-wrapper\" onMouseEnter={() => this.showDeleteIcon(index)} onMouseLeave={this.hideDeleteIcon}>\n            <div className=\"image-content\">\n              <img src={imageItem+'?token='+formID} alt=\"\"/>\n            </div>\n            {enterFileIndex === index &&\n              <div className=\"delete-image-icon\" onClick={() => this.deleteImage(index)}  >\n                <span className=\"image-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      if (isUploading) {\n        imageArr.push(\n          <div className=\"image-wrapper\" key={'image-wrapper-circle'} >\n            <div className=\"image-upload-percent\">\n              <img src={thumbnailSrc} style={{ position: 'absolute', zIndex: uploadPercent === 100 ? 3 : 1 }} alt=\"\" />\n              {uploadPercent < 100 && !isErrorTip &&\n                <Progress \n                  uploadPercent={uploadPercent}\n                />\n              } \n              {uploadPercent === 100 && \n                <div className=\"image-upload-success\">\n                  <div className=\"image-upload-success-scale\">\n                    <span className=\"image-upload-success-icon\">\n                      <i className=\"dtable-font dtable-icon-check-mark\"></i>\n                    </span>\n                    <span className=\"image-upload-success-tip\">{gettext('Uploaded completed')}</span>\n                  </div>\n                </div>\n              } \n              <div className=\"image-upload-mask\"></div>\n              {isErrorTip && \n                <div className=\"image-upload-error-tip\">\n                  <span>{gettext('Network Error')}</span>\n                  <span className=\"image-upload-again\" onClick={this.fileUploadAgain}>{gettext('Re-upload')}</span>\n                </div>\n              }\n            </div>\n          </div>\n        );\n      }\n      let uploadContainerClassName = 'image-wrapper';\n      let addBoxClassName = 'image-add-box';\n      let addIconClassName = classnames('image-add-button', {'image-wrapper-drop-active': isImageTipShow});\n      let imageTips = '';\n      if (imageArr.length === 0) {\n        uploadContainerClassName = classnames('image-upload-container', {'image-upload-container-active': isImageTipShow});\n        addBoxClassName = classnames('image-tip-addition', {'image-drop-active': isImageTipShow});\n        addIconClassName = 'image-add-icon';\n        imageTips = isImageTipShow ?\n          <div className=\"image-add-span\">{gettext('Drag and drop to add an image')}</div> : \n          <div className=\"image-add-span\">{gettext('Drag and drop images or click here to add')}</div>;\n      }\n      imageArr.push(\n        <div className={uploadContainerClassName}\n          key={'image-wrapper-addition'} \n          onDragEnter={this.fileDragEnter} \n          onDragOver={this.fileDragOver} \n          onDragLeave={this.fileDragLeave}\n          onDrop={this.fileDrop} \n          onClick={this.fileUploadClick}\n        >\n          <div className={addBoxClassName}>\n            <div className={addIconClassName}>\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n              <input type=\"file\" className='upload-image' accept=\"image/*\" ref='image_file' onClick={this.onInputFile} onChange={this.handleImageChange} />\n            </div>\n            {imageTips}\n          </div> \n        </div>\n      );\n    }\n    return imageArr;\n  }\n\n  render() {\n    return this.calculateImageArr();\n  }\n}\n\nLocalImageAddition.propTypes = propTypes;\n\nexport default withTranslation('dtable')(LocalImageAddition); ","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport ImageThumbnail from '../cell-editor-widgets/file-image-edit/image-thumbnail';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport LocalImageAddition from '../cell-editor-widgets/file-image-edit/local-image-addition';\nimport { getFileIconUrl } from '../../dtable-share-row/utils/utils';\nimport { dtableWebAPI } from '../../../utils/dtable-web-api';\nimport { gettext } from '../../../utils/constants';\nimport '../css/image-editor.css';\n\nconst FileEditorPropTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst { dtableName: fileName, workspaceID, dtableWebURL, formToken } = window.shared.pageOptions;\nconst { serviceURL, mediaUrl } = window.app.config;\nconst config = {\n  server: dtableWebURL,\n  workspaceID,\n  fileName,\n  medialUrl: serviceURL + mediaUrl,\n};\n\nclass ImageEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: []\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: props.value,\n      isPopoverShow: false,\n      isUpdated: false,\n      uploadPercent: 0,\n      isUploading: false,\n      thumbnailSrc: '',\n      enterImageIndex: -1,\n      isErrorTip: false,\n      event: null,\n    };\n  }\n\n  onAddImageToggle = (event) => {\n    if (event) {\n      event.stopPropagation();\n    }\n    let { isPopoverShow, isUpdated, newValue } = this.state;\n    if (isPopoverShow && isUpdated) {\n      const { column, onCommit } = this.props;\n      let updated = { [column.key]: newValue };\n      onCommit(updated);\n    }\n    this.setState({ isPopoverShow: !isPopoverShow });\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterImageIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterImageIndex: -1 });\n  }\n\n  getFormatValue = () => {\n    let fileArr = [];\n    let { newValue, enterImageIndex } = this.state;\n\n    if (Array.isArray(newValue) && newValue.length > 0) {\n      newValue.forEach((imageItem, index) => {\n        let name = decodeURI(imageItem.slice(imageItem.lastIndexOf('/') + 1));\n        fileArr.push(\n          <div \n            key={`image-${index}`} \n            className=\"share-form-item-image\" \n            onMouseEnter={() => this.showDeleteIcon(index)} \n            onMouseLeave={this.hideDeleteIcon}\n          >\n            <ImageThumbnail src={imageItem} id={`item-image-${index}`} alt=\"\" name={name}/>\n            {enterImageIndex === index &&\n              <div className=\"editor-delete-icon\" onClick={() => this.deleteImage(index)} >\n                <span className=\"image-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      fileArr.push(\n        <div key={`image-${newValue.length + 1}`} className=\"share-form-item-image\" onClick={this.onImageEditorToggle}>\n          <div className=\"image-add-box\">\n            <div className=\"image-add-button\">\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n            </div>\n          </div> \n        </div>\n      );\n    } else {\n      fileArr.push(\n        <div key=\"select-editor-add\" onClick={this.onImageEditorToggle} className=\"select-editor-add\">\n          {gettext('Add Images')}\n        </div>\n      );\n    }\n    return fileArr;\n  }\n\n  onImageEditorToggle = () => {\n    if (this.props.isReadOnly) return;\n    this.setState({ isPopoverShow: !this.state.isPopoverShow });\n  }\n\n  deleteImage = (index) => {\n    let value = this.state.newValue.slice(0);\n    value.splice(index, 1);\n    this.setState({\n      isUpdated: true,\n      newValue: value,\n      enterImageIndex: -1,\n    }, () => {\n      let { column, onCommit } = this.props;\n      let updated = { [column.key]: value };\n      onCommit(updated);\n    });\n  }\n\n  handleImageChange = (event, uploadImage = null) => {\n    event.persist();\n    let image = uploadImage ? uploadImage : event.target.files[0];\n    if (!image) {\n      return;\n    }\n    let { medialUrl } = config;\n    let thumbnailSrc = getFileIconUrl(medialUrl, image.name, image.type);\n    this.setState({\n      isUploading: true,\n      isUpdated: true,\n      isErrorTip: false,\n      thumbnailSrc: thumbnailSrc\n    });\n\n    this.uploadLocalFile(image).then((response) => {\n      let value = this.state.newValue.slice(0);\n      value.push(response);\n      this.setState({\n        isUploading: false,\n        uploadPercent: 0,\n        newValue: value,\n        thumbnailSrc: '',\n        enterImageIndex: value.length,\n      });\n    }).catch(err => {\n      this.setState({ isErrorTip: true, event: event });\n    });\n  }\n\n  uploadLocalFile = (imageFile) => {\n    let parentPath = '', relativePath = '';\n    return (\n      dtableWebAPI.getUploadLinkViaFormToken(formToken).then((res) => {\n        const uploadLink = res.data.upload_link + '?ret-json=1';\n        const newFile = new File([imageFile], imageFile.name, {type: imageFile.type});\n        const formData = new FormData();\n        parentPath = res.data.parent_path;\n        relativePath = res.data.img_relative_path;\n        formData.append('parent_dir', parentPath);\n        formData.append('relative_path', relativePath);\n        formData.append('file', newFile);\n        return dtableWebAPI.uploadImage(uploadLink, formData, this.onUploadProgress);\n      }).then ((res) => {\n        return this.getImageUrl(res.data[0].name);\n      })\n    );\n  }\n\n  onUploadProgress = (event) => {\n    let { loaded, total } = event;\n    let uploadPercent = Math.floor(loaded / total * 100);\n    this.setState({uploadPercent});\n  }\n\n  getImageUrl(fileName) {\n    let { server } = config;\n    let url = server + 'dtable/forms/' + formToken + '/asset/' + encodeURIComponent(fileName);\n    return url;\n  }\n\n  render() {\n    let value = this.getFormatValue();\n    let { isPopoverShow, newValue, uploadPercent, isUploading, thumbnailSrc, isErrorTip, event } = this.state;\n    return (\n      <div className=\"cell-editor grid-cell-type-image\">\n        {value}\n        {isPopoverShow && (\n          <Modal isOpen={true} toggle={this.onAddImageToggle} contentClassName={'image-editor-modal'}>\n            <ModalHeader toggle={this.onAddImageToggle}>\n              <span className=\"image-editor-title\">{gettext('Add Images')}</span>\n            </ModalHeader>\n            <ModalBody style={{padding: 0}}>\n              <div ref='imageEditorContainer' className=\"image-editor-container\">\n                <LocalImageAddition \n                  handleImageChange={this.handleImageChange}\n                  value={newValue}\n                  uploadPercent={uploadPercent}\n                  isUploading={isUploading}\n                  deleteImage={this.deleteImage} \n                  thumbnailSrc={thumbnailSrc}\n                  config={config}\n                  isErrorTip={isErrorTip}\n                  event={event}\n                />\n              </div>\n            </ModalBody>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nImageEditor.propTypes = FileEditorPropTypes;\nexport default withTranslation('dtable') (ImageEditor);","import React from 'react';\nimport { CELL_TYPE } from '../../dtable-share-row/contants/contants';\nimport CollaboratorEditor from './collaborator-editor';\nimport SingleSelectEditor from './single-select-editor';\nimport MutipleSelectDitor from './mutiple-select-editor';\nimport LongTextEditor from './long-text-editor';\nimport DateEditor from './date-editor';\nimport TextEditor from './text-editor';\nimport NumberEditor from './number-editor';\nimport CheckboxEditor from './checkbox-editor';\nimport FileEditor from './file-editor';\nimport ImageEditor from './image-editor';\n\nimport '../css/common-editor.css';\n\nconst EditorConfig = {\n  [CELL_TYPE.COLLABORATOR]: <CollaboratorEditor />,\n  [CELL_TYPE.SINGLE_SELECT]: <SingleSelectEditor />,\n  [CELL_TYPE.MULTIPLE_SELECT]: <MutipleSelectDitor />,\n  [CELL_TYPE.LONG_TEXT]: <LongTextEditor />,\n  [CELL_TYPE.DATE]: <DateEditor />,\n  [CELL_TYPE.TEXT]: <TextEditor />,\n  [CELL_TYPE.NUMBER]: <NumberEditor />,\n  [CELL_TYPE.CHECKBOX]: <CheckboxEditor />,\n  [CELL_TYPE.FILE]: <FileEditor />,\n  [CELL_TYPE.IMAGE]: <ImageEditor />,\n};\n\nexport default EditorConfig;","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport EditorConfig from '../cell-editor/editor-config';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object, PropTypes.bool]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func.isRequired,\n  onCommitCancel: PropTypes.func\n};\n\nclass FormEditorGenerator extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n  }\n\n  getCellEditor = () => {\n    let { column } = this.props;\n    return EditorConfig[column.type];\n  }\n\n  render() {\n    let { isReadOnly, value, column, onCommit, onCommitCancel } = this.props;\n    let CellEditor = this.getCellEditor();\n    let editorProps = {\n      isReadOnly: isReadOnly,\n      value: value,\n      column: column,\n      onCommit: onCommit,\n      onCommitCancel: onCommitCancel,\n    };\n\n    return (\n      <Fragment>\n        {CellEditor && React.cloneElement(CellEditor, { ...editorProps })}\n      </Fragment>\n    );\n  }\n}\n\nFormEditorGenerator.propTypes = propTypes;\n\nexport default FormEditorGenerator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LabelGenerator from './generator/label-generator';\nimport FormEditorGenerator from './generator/form-editor-generator';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  column: PropTypes.object.isRequired,\n  firstEditorKeyPress: PropTypes.string,\n  onCommit: PropTypes.func,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object, PropTypes.bool]),\n};\n\nclass RowItem extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n  }\n\n  constructor(props) {\n    super(props);\n    this.editorMode = 'form_mdoe';\n  }\n\n  onCommit = (updated) => {\n    let { onCommit } = this.props;\n    if (onCommit) {\n      onCommit(updated);\n    }\n  }\n\n  setRowRef = (rowItem) => {\n    this.rowItem = rowItem;\n  }\n\n  render() {\n    let { isReadOnly, column, value } = this.props;\n    return (\n      <div className=\"form_mode compose-editor\">\n        <div className=\"cell-label-container\">\n          <LabelGenerator column={column}></LabelGenerator>\n        </div>\n        <div ref={(rowItem) => {this.setRowRef(rowItem);}} >\n          <FormEditorGenerator\n            isReadOnly={isReadOnly}\n            value={value}\n            column={column}\n            onCommit={this.onCommit}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nRowItem.propTypes = propTypes;\n\nexport default RowItem;\n","/* eslint no-var: 0 */\nvar main = require('./dist/commonjs/index.js').default;\n\nmodule.exports = main;\nmodule.exports.default = main;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { processor } from '@seafile/seafile-editor/dist/utils/seafile-markdown2html';\n\nconst propTypes = {\n  remarkContent: PropTypes.string,\n};\n\nconst gettext = window.gettext;\n\nclass RemarkItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      noteContent: null\n    };\n  }\n\n  componentDidMount() {\n    const { remarkContent } = this.props;\n    this.convertRemarkContent(remarkContent);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { remarkContent } = nextProps;\n    this.convertRemarkContent(remarkContent);\n  }\n\n  convertRemarkContent = (mdFile) => {\n    processor.process(mdFile).then((result) => {\n      let noteContent = String(result);\n      this.setState({noteContent: noteContent});\n    });\n  }\n\n  render() {\n    const { remarkContent } = this.props;\n    return(\n      <div className=\"form_mode compose-editor remark-editor-content\">\n        <div className=\"cell-label-container\">\n          <label className=\"cell-label\">{gettext('Note')}</label>\n        </div>\n        { remarkContent ? \n          <div \n            className=\"remark-content-tip\"\n            dangerouslySetInnerHTML={{ __html: this.state.noteContent }}\n          ></div> : \n          <div className=\"remark-content-tip\" style={{color: '#c2c2c2'}}>{gettext('Add notes here to guilde users how to fill the form.')}</div>\n        }\n      </div>\n    );\n  }\n}\n\nRemarkItem.propTypes = propTypes;\n\nexport default RemarkItem;","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    var _console;\n    /* eslint no-console: 0 */\n\n\n    if (console && console[type]) (_console = console)[type].apply(_console, _toConsumableArray(args));\n  }\n};\n\nvar Logger =\n/*#__PURE__*/\nfunction () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}(); // http://lea.verou.me/2016/12/resolve-promises-externally-with-this-one-weird-trick/\n\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\n\nfunction makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n\n  return '' + object;\n}\n\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\n\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  } // Fallback to default values\n\n\n  return getPath(defaultData, key);\n}\n\nfunction deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n\n  return target;\n}\n\nfunction regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n/* eslint-disable */\n\n\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\n/* eslint-enable */\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\n\nvar ResourceStore =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      return getPath(this.data, path);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n      /* eslint no-restricted-syntax: 0 */\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS; // COMPATIBILITY: remove extend in v2.1.0\n\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nvar Translator =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        /* eslint prefer-rest-params: 0 */\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {}; // non valid keys handling\n\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)]; // separators\n\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator; // get namespace(s)\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1]; // return key on CIMode\n\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      } // resolve from store\n\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays; // object\n\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        } // if we got a separator we loop over children - else we just return object as is\n        // as having it set to false means no hierarchy so no lookup for nested values\n\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy$$1 = resTypeIsArray ? [] : {}; // apply child translation on a copy\n\n          /* eslint no-restricted-syntax: 0 */\n\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy$$1[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy$$1[m] === deepKey) copy$$1[m] = res[m]; // if nothing found use orginal value as fallback\n            }\n          }\n\n          res = copy$$1;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        // array special treatment\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options);\n      } else {\n        // string, empty or null\n        var usedDefault = false;\n        var usedKey = false; // fallback value\n\n        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n          usedDefault = true;\n\n          if (options.count !== undefined) {\n            var suffix = this.pluralResolver.getSuffix(lng, options.count);\n            res = options[\"defaultValue\".concat(suffix)];\n          }\n\n          if (!res) res = options.defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        } // save missing\n\n\n        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (l) {\n                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);\n\n                plurals.forEach(function (p) {\n                  return send([l], p);\n                });\n              });\n            } else {\n              send(lngs, key);\n            }\n          }\n        } // extend\n\n\n        res = this.extendTranslation(res, keys, options, resolved); // append namespace if still key\n\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key); // parseMissingKeyHandler\n\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      } // return\n\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        // i18next.parsing\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        })); // interpolate\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options); // nesting\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          return _this3.translate.apply(_this3, arguments);\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      } // post process\n\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey; // plain key\n\n      var exactUsedKey; // key with context / plural\n\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys]; // forEach possible key\n\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (_this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for namespace \\\"\").concat(usedNS, \"\\\" won't get resolved as namespace was not yet loaded\"), 'This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count); // fallback for plural if context not found\n\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix); // get key for context if needed\n\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context)); // get key for plural if needed\n\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            } // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n\n\n            var possibleKey;\n            /* eslint no-cond-assign: 0 */\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil =\n/*#__PURE__*/\nfunction () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.whitelist || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase(); // if lenght 2 guess it's a country\n\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || []; // asume we have an object defining fallbacks\n\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this.isWhitelisted(c)) {\n          codes.push(c);\n        } else {\n          _this.logger.warn(\"rejecting non-whitelisted language code: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n/* eslint-disable */\n\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n === 1 ? 0 : n === 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver =\n/*#__PURE__*/\nfunction () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var _this = this;\n\n      var ret = [];\n      var rule = this.getRule(code);\n      if (!rule) return ret;\n      rule.numbers.forEach(function (n) {\n        var suffix = _this.getSuffix(code, n);\n\n        ret.push(\"\".concat(key).concat(suffix));\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        // if (rule.numbers.length === 1) return ''; // only singular\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx]; // special treatment for lngs only having singular and plural\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        }; // COMPATIBILITY JSON\n        // v1\n\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (\n        /* v2 */\n        this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (\n        /* v3 - gettext index */\n        this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator =\n/*#__PURE__*/\nfunction () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n  /* eslint no-param-reassign: 0 */\n\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000; // the regexp\n\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      // the regexp\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          return getPathWithDefaults(data, defaultData, key);\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng);\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      replaces = 0; // unescape if has unescapePrefix/Suffix\n\n      /* eslint no-cond-assign: 0 */\n\n      while (match = this.regexpUnescape.exec(str)) {\n        value = handleFormat(match[1].trim());\n\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            var temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else {\n            this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n\n        str = str.replace(match[0], regexSafe(value));\n        this.regexpUnescape.lastIndex = 0;\n        replaces++;\n\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n\n      replaces = 0; // regular escape on demand\n\n      while (match = this.regexp.exec(str)) {\n        value = handleFormat(match[1].trim());\n\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            var _temp = missingInterpolationHandler(str, match, options);\n\n            value = typeof _temp === 'string' ? _temp : '';\n          } else {\n            this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n\n        value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n        replaces++;\n\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n      delete clonedOptions.defaultValue; // assert we do not get a endless loop on interpolating defaultValue again and again\n      // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n\n      function handleHasOptions(key, inheritedOptions) {\n        if (key.indexOf(',') < 0) return key;\n        var p = key.split(',');\n        key = p.shift();\n        var optionsString = p.join(',');\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.error(\"failed parsing options string in nesting for key \".concat(key), e);\n        } // assert we do not get a endless loop on interpolating defaultValue again and again\n\n\n        delete clonedOptions.defaultValue;\n        return key;\n      } // regular escape on demand\n\n\n      while (match = this.nestingRegexp.exec(str)) {\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions); // is only the nesting key (key1 = '$(key2)') return the value without stringify\n\n        if (value && match[0] === str && typeof value !== 'string') return value; // no string to include or empty\n\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        } // Nested keys should not be escaped by default #854\n        // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this; // find what needs to be loaded\n\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2; // loaded\n          } else if (_this2.state[name] < 0) ;else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1; // pending\n\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var _name$split = name.split('|'),\n          _name$split2 = _slicedToArray(_name$split, 2),\n          lng = _name$split2[0],\n          ns = _name$split2[1];\n\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      } // set loaded\n\n\n      this.state[name] = err ? -1 : 2; // consolidated loading done in this run - only emit once for a loaded namespace\n\n      var loaded = {}; // callback if ready\n\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          // only do once per loaded -> this.emit('loaded', q.loaded);\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          /* eslint no-param-reassign: 0 */\n\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      }); // emit consolidated loaded event\n\n      this.emit('loaded', loaded); // remove done load requests\n\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {}); // noting to load\n\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data\n        /* = retryFlag */\n        && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n    /* eslint consistent-return: 0 */\n\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n\n        return null; // pendings will trigger callback\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      var _name$split3 = name.split('|'),\n          _name$split4 = _slicedToArray(_name$split3, 2),\n          lng = _name$split4[0],\n          ns = _name$split4[1];\n\n      this.read(lng, ns, 'read', null, null, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" for namespace \\\"\").concat(namespace, \"\\\" as the namespace was not yet loaded\"), 'This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null\n        /* unused callback */\n        , _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      } // write to store to avoid resending\n\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    // string or array of namespaces\n    whitelist: false,\n    // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all',\n    // | currentOnly | languageOnly\n    preload: false,\n    // array with preload languages\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    // allow bundling certain languages that are not remotely fetched\n    saveMissing: false,\n    // enable to send missing values\n    updateMissing: false,\n    // enable to update default values if different from translated value (only useful on initial development, or when keeping code as source of truth)\n    saveMissingTo: 'fallback',\n    // 'current' || 'all'\n    saveMissingPlurals: true,\n    // will save all forms not only singular key\n    missingKeyHandler: false,\n    // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n    missingInterpolationHandler: false,\n    // function(str, match)\n    postProcess: false,\n    // string or array of postProcessor names\n    returnNull: true,\n    // allows null value as valid translation\n    returnEmptyString: true,\n    // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false,\n    // or string to join array\n    returnedObjectHandler: false,\n    // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false,\n    // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n      maxReplaces: 1000 // max replaces to prevent endless loop\n\n    }\n  };\n}\n/* eslint no-param-reassign: 0 */\n\n\nfunction transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS]; // extend whitelist with cimode\n\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n    options.whitelist = options.whitelist.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      } // init services\n\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options); // pipe events from backendConnector\n\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options); // pipe events from translator\n\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      } // append api\n\n\n      var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        _this2.changeLanguage(_this2.options.lng, function (err, t) {\n          _this2.isInitialized = true;\n\n          _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)\n\n          callback(err, t);\n        });\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n    /* eslint consistent-return: 0 */\n\n  }, {\n    key: \"loadResources\",\n    value: function loadResources() {\n      var _this3 = this;\n\n      var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode\n\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!this.language) {\n          // at least load fallbacks in this case\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(this.language);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, callback);\n      } else {\n        callback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve(); // not rejecting on err (as err is only a loading translation failed warning)\n\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        _this4.translator.changeLanguage(l);\n\n        if (l) {\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1]; // we're in cimode so this shall pass\n\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      }; // loaded -> SUCCESS\n\n\n      if (this.hasResourceBundle(lng, ns)) return true; // were not loading at all -> SEMI SUCCESS\n\n      if (!this.services.backendConnector.backend) return true; // failed loading ns - but at least fallback is not pending -> SEMI SUCCESS\n\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      }); // Exit early if all given languages are already preloaded\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n    /* eslint class-methods-use-this: 0 */\n\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options; // sync options\n\n      return clone;\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\nexport default i18next;","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '',\n        e = encodeURIComponent; // Must encode data\n\n    for (var paramName in params) {\n      queryString += '&' + e(paramName) + '=' + e(params[paramName]);\n    }\n\n    if (!queryString) {\n      return url;\n    }\n\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n} // https://gist.github.com/Xeoncross/7663273\n\n\nfunction ajax(url, options, callback, data, cache) {\n  if (data && _typeof(data) === 'object') {\n    if (!cache) {\n      data['_t'] = new Date();\n    } // URL encoded form data must be in querystring format\n\n\n    data = addQueryString('', data).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n\n    if (XMLHttpRequest) {\n      x = new XMLHttpRequest();\n    } else {\n      x = new ActiveXObject('MSXML2.XMLHTTP.3.0');\n    }\n\n    x.open(data ? 'POST' : 'GET', url, 1);\n\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    x.withCredentials = !!options.withCredentials;\n\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n\n    if (x.overrideMimeType) {\n      x.overrideMimeType(\"application/json\");\n    }\n\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n\n    x.send(data);\n  } catch (e) {\n    console && console.log(e);\n  }\n}\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend =\n/*#__PURE__*/\nfunction () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: languages.join('+'),\n        ns: namespaces.join('+')\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      var loadPath = this.options.loadPath;\n\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath([language], [namespace]);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: language,\n        ns: namespace\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true\n        /* retry */\n        );\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false\n        /* no retry */\n        );\n        var ret, err;\n\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {//const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\nexport default Backend;","import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nlet mediaUrl = window.app.config.mediaUrl;\nconst lang = window.app.config.lang;\nconst version = window.app.config.version;\n\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    lng: lang,\n    fallbackLng: 'en',\n    ns: ['dtable', 'seafile-editor'],\n    defaultNS: 'dtable',\n\n    whitelist: ['en', 'zh-CN', 'fr', 'de', 'cs', 'es', 'es-AR', 'es-MX', 'ru'],\n\n    backend: {\n      loadPath: mediaUrl + 'locales/{{ lng }}/{{ ns }}.json',\n      // loadPath: '/media/locales/{{lng}}/{{ns}}.json',\n      queryStringParams: { v: version }\n    },\n\n    debug: false, // console log if debug: true\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n    contextSeparator: ' ',\n\n\n    load: 'currentOnly',\n\n    react: {\n      wait: true,\n    }\n  });\n\nexport default i18n;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _utils = require('./utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _cookie = require('./browserLookups/cookie.js');\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nvar _querystring = require('./browserLookups/querystring.js');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _localStorage = require('./browserLookups/localStorage.js');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _navigator = require('./browserLookups/navigator.js');\n\nvar _navigator2 = _interopRequireDefault(_navigator);\n\nvar _htmlTag = require('./browserLookups/htmlTag.js');\n\nvar _htmlTag2 = _interopRequireDefault(_htmlTag);\n\nvar _path = require('./browserLookups/path.js');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _subdomain = require('./browserLookups/subdomain.js');\n\nvar _subdomain2 = _interopRequireDefault(_subdomain);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'],\n    //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n    checkWhitelist: true\n  };\n}\n\nvar Browser = function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults()); // backwards compatibility\n\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n      this.i18nOptions = i18nOptions;\n      this.addDetector(_cookie2.default);\n      this.addDetector(_querystring2.default);\n      this.addDetector(_localStorage2.default);\n      this.addDetector(_navigator2.default);\n      this.addDetector(_htmlTag2.default);\n      this.addDetector(_path2.default);\n      this.addDetector(_subdomain2.default);\n    }\n  }, {\n    key: 'addDetector',\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: 'detect',\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      var found = void 0;\n      detected.forEach(function (lng) {\n        if (found) return;\n\n        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n\n        if (!_this.options.checkWhitelist || _this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found) {\n        var fallbacks = this.i18nOptions.fallbackLng;\n        if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n        if (!fallbacks) fallbacks = [];\n\n        if (Object.prototype.toString.apply(fallbacks) === '[object Array]') {\n          found = fallbacks[0];\n        } else {\n          found = fallbacks[0] || fallbacks.default && fallbacks.default[0];\n        }\n      }\n\n      return found;\n    }\n  }, {\n    key: 'cacheUserLanguage',\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\nexports.default = Browser;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaults = defaults;\nexports.extend = extend;\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction extend(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar cookie = {\n  create: function create(name, value, minutes, domain) {\n    var expires = void 0;\n\n    if (minutes) {\n      var date = new Date();\n      date.setTime(date.getTime() + minutes * 60 * 1000);\n      expires = '; expires=' + date.toGMTString();\n    } else expires = '';\n\n    domain = domain ? 'domain=' + domain + ';' : '';\n    document.cookie = name + '=' + value + expires + ';' + domain + 'path=/';\n  },\n  read: function read(name) {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  },\n  remove: function remove(name) {\n    this.create(name, '', -1);\n  }\n};\nexports.default = {\n  name: 'cookie',\n  lookup: function lookup(options) {\n    var found = void 0;\n\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      var c = cookie.read(options.lookupCookie);\n      if (c) found = c;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain);\n    }\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'querystring',\n  lookup: function lookup(options) {\n    var found = void 0;\n\n    if (typeof window !== 'undefined') {\n      var query = window.location.search.substring(1);\n      var params = query.split('&');\n\n      for (var i = 0; i < params.length; i++) {\n        var pos = params[i].indexOf('=');\n\n        if (pos > 0) {\n          var key = params[i].substring(0, pos);\n\n          if (key === options.lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n\n    return found;\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar hasLocalStorageSupport = void 0;\n\ntry {\n  hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;\n  var testKey = 'i18next.translate.boo';\n  window.localStorage.setItem(testKey, 'foo');\n  window.localStorage.removeItem(testKey);\n} catch (e) {\n  hasLocalStorageSupport = false;\n}\n\nexports.default = {\n  name: 'localStorage',\n  lookup: function lookup(options) {\n    var found = void 0;\n\n    if (options.lookupLocalStorage && hasLocalStorageSupport) {\n      var lng = window.localStorage.getItem(options.lookupLocalStorage);\n      if (lng) found = lng;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupLocalStorage && hasLocalStorageSupport) {\n      window.localStorage.setItem(options.lookupLocalStorage, lng);\n    }\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'navigator',\n  lookup: function lookup(options) {\n    var found = [];\n\n    if (typeof navigator !== 'undefined') {\n      if (navigator.languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (var i = 0; i < navigator.languages.length; i++) {\n          found.push(navigator.languages[i]);\n        }\n      }\n\n      if (navigator.userLanguage) {\n        found.push(navigator.userLanguage);\n      }\n\n      if (navigator.language) {\n        found.push(navigator.language);\n      }\n    }\n\n    return found.length > 0 ? found : undefined;\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'htmlTag',\n  lookup: function lookup(options) {\n    var found = void 0;\n    var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n\n    if (htmlTag && typeof htmlTag.getAttribute === 'function') {\n      found = htmlTag.getAttribute('lang');\n    }\n\n    return found;\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'path',\n  lookup: function lookup(options) {\n    var found = void 0;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromPathIndex === 'number') {\n          if (typeof language[options.lookupFromPathIndex] !== 'string') {\n            return undefined;\n          }\n\n          found = language[options.lookupFromPathIndex].replace('/', '');\n        } else {\n          found = language[0].replace('/', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'subdomain',\n  lookup: function lookup(options) {\n    var found = void 0;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.href.match(/(?:http[s]*\\:\\/\\/)*(.*?)\\.(?=[^\\/]*\\..{2,5})/gi);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromSubdomainIndex === 'number') {\n          found = language[options.lookupFromSubdomainIndex].replace('http://', '').replace('https://', '').replace('.', '');\n        } else {\n          found = language[0].replace('http://', '').replace('https://', '').replace('.', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};"],"sourceRoot":""}