(this["webpackJsonpdtable-web"]=this["webpackJsonpdtable-web"]||[]).push([[10],[,,,function(e,t,n){!function(t,a){e.exports=a(n(65),n(125),n(416))}("undefined"!==typeof self&&self,(function(e,t,n){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);var a=n(2);n.d(t,"CellType",(function(){return a.CellType})),n.d(t,"SORT_COLUMN_OPTIONS",(function(){return a.SORT_COLUMN_OPTIONS})),n.d(t,"FILTER_COLUMN_OPTIONS",(function(){return a.FILTER_COLUMN_OPTIONS})),n.d(t,"SUPPORT_GROUP_COLUMN_TYPES",(function(){return a.SUPPORT_GROUP_COLUMN_TYPES})),n.d(t,"GROUP_GEOLOCATION_GRANULARITY",(function(){return a.GROUP_GEOLOCATION_GRANULARITY})),n.d(t,"DISPLAY_GROUP_GEOLOCATION_GRANULARITY",(function(){return a.DISPLAY_GROUP_GEOLOCATION_GRANULARITY})),n.d(t,"COLUMN_OPTIONS",(function(){return a.COLUMN_OPTIONS})),n.d(t,"DATE_COLUMN_OPTIONS",(function(){return a.DATE_COLUMN_OPTIONS})),n.d(t,"CONVERSION_DATA_RETENTION_STATUS",(function(){return a.CONVERSION_DATA_RETENTION_STATUS})),n.d(t,"SUPPORT_CONVERSION_COLUMN_TYPES",(function(){return a.SUPPORT_CONVERSION_COLUMN_TYPES})),n.d(t,"CONVERSION_TYPE_MAP",(function(){return a.CONVERSION_TYPE_MAP})),n.d(t,"CONVERSION_DATA_RETENTION_MAP",(function(){return a.CONVERSION_DATA_RETENTION_MAP})),n.d(t,"DATE_FORMATS",(function(){return a.DATE_FORMATS})),n.d(t,"NUMBER_FORMATS",(function(){return a.NUMBER_FORMATS})),n.d(t,"FILTER_PREDICATE_TYPE",(function(){return a.FILTER_PREDICATE_TYPE})),n.d(t,"FILTER_PREDICATE_SHOW",(function(){return a.FILTER_PREDICATE_SHOW})),n.d(t,"FILTER_TERM_MODIFIER_TYPE",(function(){return a.FILTER_TERM_MODIFIER_TYPE})),n.d(t,"FILTER_TERM_MODIFIER_SHOW",(function(){return a.FILTER_TERM_MODIFIER_SHOW})),n.d(t,"filterTermModifierIsWithin",(function(){return a.filterTermModifierIsWithin})),n.d(t,"filterTermModifierNotWithin",(function(){return a.filterTermModifierNotWithin})),n.d(t,"OPERATION_TYPE",(function(){return a.OPERATION_TYPE})),n.d(t,"OPERATION_PARAMS",(function(){return a.OPERATION_PARAMS})),n.d(t,"OPERATION_ATTRIBUTES",(function(){return a.OPERATION_ATTRIBUTES})),n.d(t,"UNDO_OPERATION_TYPE",(function(){return a.UNDO_OPERATION_TYPE})),n.d(t,"VIEW_OPERATIONS",(function(){return a.VIEW_OPERATIONS})),n.d(t,"SELECT_OPTION_COLORS",(function(){return a.SELECT_OPTION_COLORS})),n.d(t,"HIGHLIGHT_COLORS",(function(){return a.HIGHLIGHT_COLORS})),n.d(t,"GROUP_DATE_GRANULARITY",(function(){return a.GROUP_DATE_GRANULARITY})),n.d(t,"DISPLAY_GROUP_DATE_GRANULARITY",(function(){return a.DISPLAY_GROUP_DATE_GRANULARITY})),n.d(t,"SORT_TYPE",(function(){return a.SORT_TYPE})),n.d(t,"STATISTICS_COUNT_TYPE",(function(){return a.STATISTICS_COUNT_TYPE})),n.d(t,"STATISTICS_COUNT_SHOW",(function(){return a.STATISTICS_COUNT_SHOW})),n.d(t,"STATISTICS_TYPE_TABLE",(function(){return a.STATISTICS_TYPE_TABLE})),n.d(t,"CHART_MAP",(function(){return a.CHART_MAP})),n.d(t,"PIE_CHART_COLORS",(function(){return a.PIE_CHART_COLORS})),n.d(t,"CALCULATION_METHOD",(function(){return a.CALCULATION_METHOD})),n.d(t,"SETTING_KEY",(function(){return a.SETTING_KEY})),n.d(t,"FORMULA_TIP",(function(){return a.FORMULA_TIP})),n.d(t,"SUPPORT_FORMULA_COLUMN_TYPE",(function(){return a.SUPPORT_FORMULA_COLUMN_TYPE})),n.d(t,"FORMULA_TYPE",(function(){return a.FORMULA_TYPE}));var r=n(18);n.d(t,"normalizeTable",(function(){return r.normalizeTable})),n.d(t,"setIdRowMap",(function(){return r.setIdRowMap})),n.d(t,"generatorBase64Code",(function(){return r.generatorBase64Code})),n.d(t,"generatorTableId",(function(){return r.generatorTableId})),n.d(t,"generatorStatId",(function(){return r.generatorStatId})),n.d(t,"generatorFormId",(function(){return r.generatorFormId})),n.d(t,"generatorViewId",(function(){return r.generatorViewId})),n.d(t,"generatorColumnKey",(function(){return r.generatorColumnKey})),n.d(t,"generateOptionID",(function(){return r.generateOptionID})),n.d(t,"getFloatNumber",(function(){return r.getFloatNumber})),n.d(t,"getViewDefaultName",(function(){return r.getViewDefaultName})),n.d(t,"getColumnDefaultName",(function(){return r.getColumnDefaultName})),n.d(t,"formatTextToDate",(function(){return r.formatTextToDate})),n.d(t,"getDateDisplayString",(function(){return r.getDateDisplayString})),n.d(t,"getNumberDisplayString",(function(){return r.getNumberDisplayString})),n.d(t,"getGeolocationDisplayString",(function(){return r.getGeolocationDisplayString})),n.d(t,"formatTextToGeolocation",(function(){return r.formatTextToGeolocation})),n.d(t,"getOption",(function(){return r.getOption})),n.d(t,"getOptionName",(function(){return r.getOptionName})),n.d(t,"getMultipleOptionName",(function(){return r.getMultipleOptionName})),n.d(t,"getCollaborator",(function(){return r.getCollaborator})),n.d(t,"getCollaboratorsName",(function(){return r.getCollaboratorsName})),n.d(t,"getNewCellVal",(function(){return r.getNewCellVal})),n.d(t,"LinksUtils",(function(){return r.LinksUtils})),n.d(t,"TableUtils",(function(){return r.TableUtils})),n.d(t,"RowUtils",(function(){return r.RowUtils}));var i=n(167);n.d(t,"FormulaCalculator",(function(){return i.FormulaCalculator})),n.d(t,"FORMULA_RESULT_TYPE",(function(){return i.FORMULA_RESULT_TYPE}));var o=n(189);n.d(t,"Chart",(function(){return o.Chart})),n.d(t,"PivotTable",(function(){return o.PivotTable}));var s=n(197);n.d(t,"DTableAPI",(function(){return s.default}));var l=n(193);n.d(t,"sortTableRows",(function(){return l.sortTableRows})),n.d(t,"sortViewRows",(function(){return l.sortViewRows})),n.d(t,"sortText",(function(){return l.sortText})),n.d(t,"sortNumber",(function(){return l.sortNumber})),n.d(t,"sortDate",(function(){return l.sortDate})),n.d(t,"sortSingleSelect",(function(){return l.sortSingleSelect}));var c=n(199);n.d(t,"GridTable",(function(){return c.default}));var u=n(200);n.d(t,"GridView",(function(){return u.default}));var d=n(201);n.d(t,"GridColumn",(function(){return d.default}));var p=n(202);n.d(t,"GridRow",(function(){return p.default}));var h=n(214);n.d(t,"StatItem",(function(){return h.default}));var f=n(215);n.d(t,"Operation",(function(){return f.default}));var m=n(191);n.d(t,"Views",(function(){return m.default}));var g=n(219);n.d(t,"DTableStore",(function(){return g.default}))},function(e,t,n){"use strict";n.r(t);var a=n(3);n.d(t,"CellType",(function(){return a}));var r=n(4);n.d(t,"SORT_COLUMN_OPTIONS",(function(){return r.SORT_COLUMN_OPTIONS})),n.d(t,"FILTER_COLUMN_OPTIONS",(function(){return r.FILTER_COLUMN_OPTIONS})),n.d(t,"COLUMN_OPTIONS",(function(){return r.COLUMN_OPTIONS})),n.d(t,"DATE_COLUMN_OPTIONS",(function(){return r.DATE_COLUMN_OPTIONS}));var i=n(8);n.d(t,"SUPPORT_CONVERSION_COLUMN_TYPES",(function(){return i.SUPPORT_CONVERSION_COLUMN_TYPES})),n.d(t,"CONVERSION_TYPE_MAP",(function(){return i.CONVERSION_TYPE_MAP})),n.d(t,"CONVERSION_DATA_RETENTION_STATUS",(function(){return i.CONVERSION_DATA_RETENTION_STATUS})),n.d(t,"CONVERSION_DATA_RETENTION_MAP",(function(){return i.CONVERSION_DATA_RETENTION_MAP}));var o=n(9);n.d(t,"DATE_FORMATS",(function(){return o.DATE_FORMATS})),n.d(t,"NUMBER_FORMATS",(function(){return o.NUMBER_FORMATS}));var s=n(6);n.d(t,"FILTER_PREDICATE_TYPE",(function(){return s.FILTER_PREDICATE_TYPE})),n.d(t,"FILTER_PREDICATE_SHOW",(function(){return s.FILTER_PREDICATE_SHOW}));var l=n(7);n.d(t,"FILTER_TERM_MODIFIER_TYPE",(function(){return l.FILTER_TERM_MODIFIER_TYPE})),n.d(t,"FILTER_TERM_MODIFIER_SHOW",(function(){return l.FILTER_TERM_MODIFIER_SHOW}));var c=n(10);n.d(t,"filterTermModifierIsWithin",(function(){return c.filterTermModifierIsWithin})),n.d(t,"filterTermModifierNotWithin",(function(){return c.filterTermModifierNotWithin}));var u=n(11);n.d(t,"OPERATION_TYPE",(function(){return u.OPERATION_TYPE})),n.d(t,"OPERATION_PARAMS",(function(){return u.OPERATION_PARAMS})),n.d(t,"OPERATION_ATTRIBUTES",(function(){return u.OPERATION_ATTRIBUTES})),n.d(t,"UNDO_OPERATION_TYPE",(function(){return u.UNDO_OPERATION_TYPE})),n.d(t,"VIEW_OPERATIONS",(function(){return u.VIEW_OPERATIONS}));var d=n(12);n.d(t,"SELECT_OPTION_COLORS",(function(){return d.SELECT_OPTION_COLORS})),n.d(t,"HIGHLIGHT_COLORS",(function(){return d.HIGHLIGHT_COLORS}));var p=n(13);n.d(t,"SUPPORT_GROUP_COLUMN_TYPES",(function(){return p.SUPPORT_GROUP_COLUMN_TYPES})),n.d(t,"GROUP_GEOLOCATION_GRANULARITY",(function(){return p.GROUP_GEOLOCATION_GRANULARITY})),n.d(t,"DISPLAY_GROUP_GEOLOCATION_GRANULARITY",(function(){return p.DISPLAY_GROUP_GEOLOCATION_GRANULARITY})),n.d(t,"GROUP_DATE_GRANULARITY",(function(){return p.GROUP_DATE_GRANULARITY})),n.d(t,"DISPLAY_GROUP_DATE_GRANULARITY",(function(){return p.DISPLAY_GROUP_DATE_GRANULARITY}));var h=n(14);n.d(t,"SORT_TYPE",(function(){return h.SORT_TYPE}));var f=n(15);n.d(t,"STATISTICS_COUNT_TYPE",(function(){return f.STATISTICS_COUNT_TYPE})),n.d(t,"STATISTICS_COUNT_SHOW",(function(){return f.STATISTICS_COUNT_SHOW})),n.d(t,"STATISTICS_TYPE_TABLE",(function(){return f.STATISTICS_TYPE_TABLE})),n.d(t,"CHART_MAP",(function(){return f.CHART_MAP})),n.d(t,"PIE_CHART_COLORS",(function(){return f.PIE_CHART_COLORS})),n.d(t,"CALCULATION_METHOD",(function(){return f.CALCULATION_METHOD}));var m=n(16);n.d(t,"SETTING_KEY",(function(){return m.SETTING_KEY}));var g=n(17);n.d(t,"FORMULA_TIP",(function(){return g.FORMULA_TIP})),n.d(t,"SUPPORT_FORMULA_COLUMN_TYPE",(function(){return g.SUPPORT_FORMULA_COLUMN_TYPE})),n.d(t,"FORMULA_TYPE",(function(){return g.FORMULA_TYPE}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT",(function(){return a})),n.d(t,"NUMBER",(function(){return r})),n.d(t,"TEXT",(function(){return i})),n.d(t,"CHECKBOX",(function(){return o})),n.d(t,"DATE",(function(){return s})),n.d(t,"SINGLE_SELECT",(function(){return l})),n.d(t,"LONG_TEXT",(function(){return c})),n.d(t,"IMAGE",(function(){return u})),n.d(t,"FILE",(function(){return d})),n.d(t,"MULTIPLE_SELECT",(function(){return p})),n.d(t,"COLLABORATOR",(function(){return h})),n.d(t,"LINK",(function(){return f})),n.d(t,"LINK_COMMON_DATASET",(function(){return m})),n.d(t,"FORMULA",(function(){return g})),n.d(t,"CREATOR",(function(){return v})),n.d(t,"CTIME",(function(){return y})),n.d(t,"LAST_MODIFIER",(function(){return _})),n.d(t,"MTIME",(function(){return b})),n.d(t,"GEOLOCATION",(function(){return w}));var a="default",r="number",i="text",o="checkbox",s="date",l="single-select",c="long-text",u="image",d="file",p="multiple-select",h="collaborator",f="link",m="link-common-dataset",g="formula",v="creator",y="ctime",_="last-modifier",b="mtime",w="geolocation"},function(e,t,n){"use strict";n.r(t),n.d(t,"FILTER_COLUMN_OPTIONS",(function(){return u})),n.d(t,"SORT_COLUMN_OPTIONS",(function(){return d})),n.d(t,"COLUMN_OPTIONS",(function(){return p})),n.d(t,"DATE_COLUMN_OPTIONS",(function(){return h}));var a,r=n(5),i=n(6),o=n(7),s=n(3),l=[i.FILTER_PREDICATE_TYPE.IS,i.FILTER_PREDICATE_TYPE.IS_WITHIN,i.FILTER_PREDICATE_TYPE.IS_BEFORE,i.FILTER_PREDICATE_TYPE.IS_AFTER,i.FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE,i.FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER,i.FILTER_PREDICATE_TYPE.IS_NOT,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY],c=[o.FILTER_TERM_MODIFIER_TYPE.TODAY,o.FILTER_TERM_MODIFIER_TYPE.TOMORROW,o.FILTER_TERM_MODIFIER_TYPE.YESTERDAY,o.FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO,o.FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW,o.FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO,o.FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW,o.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,o.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,o.FILTER_TERM_MODIFIER_TYPE.EXACT_DATE],u=(a={},Object(r.default)(a,s.TEXT,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.CONTAINS,i.FILTER_PREDICATE_TYPE.NOT_CONTAIN,i.FILTER_PREDICATE_TYPE.IS,i.FILTER_PREDICATE_TYPE.IS_NOT,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY]}),Object(r.default)(a,s.NUMBER,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.EQUAL,i.FILTER_PREDICATE_TYPE.NOT_EQUAL,i.FILTER_PREDICATE_TYPE.LESS,i.FILTER_PREDICATE_TYPE.GREATER,i.FILTER_PREDICATE_TYPE.LESS_OR_EQUAL,i.FILTER_PREDICATE_TYPE.GREATER_OR_EQUAL,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY]}),Object(r.default)(a,s.CHECKBOX,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.IS]}),Object(r.default)(a,s.DATE,{filterPredicateList:l,filterTermModifierList:c}),Object(r.default)(a,s.CTIME,{filterPredicateList:l,filterTermModifierList:c}),Object(r.default)(a,s.MTIME,{filterPredicateList:l,filterTermModifierList:c}),Object(r.default)(a,s.SINGLE_SELECT,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.IS,i.FILTER_PREDICATE_TYPE.IS_NOT,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY]}),Object(r.default)(a,s.MULTIPLE_SELECT,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.HAS_ANY_OF,i.FILTER_PREDICATE_TYPE.HAS_ALL_OF,i.FILTER_PREDICATE_TYPE.HAS_NONE_OF,i.FILTER_PREDICATE_TYPE.IS_EXACTLY,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY]}),Object(r.default)(a,s.COLLABORATOR,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.HAS_ANY_OF,i.FILTER_PREDICATE_TYPE.HAS_ALL_OF,i.FILTER_PREDICATE_TYPE.HAS_NONE_OF,i.FILTER_PREDICATE_TYPE.IS_EXACTLY,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY,i.FILTER_PREDICATE_TYPE.INCLUDE_ME]}),Object(r.default)(a,s.CREATOR,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.CONTAINS,i.FILTER_PREDICATE_TYPE.NOT_CONTAIN,i.FILTER_PREDICATE_TYPE.IS,i.FILTER_PREDICATE_TYPE.IS_NOT]}),Object(r.default)(a,s.GEOLOCATION,{filterPredicateList:[i.FILTER_PREDICATE_TYPE.CONTAINS,i.FILTER_PREDICATE_TYPE.NOT_CONTAIN,i.FILTER_PREDICATE_TYPE.IS,i.FILTER_PREDICATE_TYPE.IS_NOT,i.FILTER_PREDICATE_TYPE.EMPTY,i.FILTER_PREDICATE_TYPE.NOT_EMPTY]}),a),d=[s.DATE,s.CTIME,s.MTIME,s.SINGLE_SELECT,s.TEXT,s.NUMBER],p=[{iconName:"Basic",iconClass:"",isDisabled:!0},{iconName:"Text",iconClass:"dtable-icon-single-line-text",type:s.TEXT},{iconName:"Number",iconClass:"dtable-icon-number",type:s.NUMBER},{iconName:"Checkbox",iconClass:"dtable-icon-check-square-solid",type:s.CHECKBOX},{iconName:"Date",iconClass:"dtable-icon-calendar-alt-solid",type:s.DATE},{iconName:"Single_Select",iconClass:"dtable-icon-single-election",type:s.SINGLE_SELECT},{iconName:"Long_Text",iconClass:"dtable-icon-long-text",type:s.LONG_TEXT},{iconName:"Image",iconClass:"dtable-icon-picture",type:s.IMAGE},{iconName:"File",iconClass:"dtable-icon-file-alt-solid",type:s.FILE},{iconName:"Multiple_Select",iconClass:"dtable-icon-multiple-selection",type:s.MULTIPLE_SELECT},{iconName:"Collaborator",iconClass:"dtable-icon-collaborator",type:s.COLLABORATOR},{iconName:"Advanced",iconClass:"",isDisabled:!0},{iconName:"Formula",iconClass:"dtable-icon-formula",type:s.FORMULA},{iconName:"Geolocation",iconClass:"dtable-icon-location",type:s.GEOLOCATION},{iconName:"Link_other_records",iconClass:"dtable-icon-link-other-record",type:s.LINK},{iconName:"Link_common_dataset",iconClass:"dtable-icon-link-common-dataset",type:s.LINK_COMMON_DATASET},{iconName:"Creator",iconClass:"dtable-icon-creator",type:s.CREATOR},{iconName:"CTime",iconClass:"dtable-icon-creation-time",type:s.CTIME},{iconName:"Last_Modifier",iconClass:"dtable-icon-creator",type:s.LAST_MODIFIER},{iconName:"Last_Modified_Time",iconClass:"dtable-icon-creation-time",type:s.MTIME}],h=[s.DATE,s.CTIME,s.MTIME]},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){"use strict";n.r(t),n.d(t,"FILTER_PREDICATE_TYPE",(function(){return a})),n.d(t,"FILTER_PREDICATE_SHOW",(function(){return r}));var a={CONTAINS:"contains",NOT_CONTAIN:"does_not_contain",IS:"is",IS_NOT:"is_not",EQUAL:"equal",NOT_EQUAL:"not_equal",LESS:"less",GREATER:"greater",LESS_OR_EQUAL:"less_or_equal",GREATER_OR_EQUAL:"greater_or_equal",EMPTY:"is_empty",NOT_EMPTY:"is_not_empty",IS_WITHIN:"is_within",IS_BEFORE:"is_before",IS_AFTER:"is_after",IS_ON_OR_BEFORE:"is_on_or_before",IS_ON_OR_AFTER:"is_on_or_after",HAS_ANY_OF:"has_any_of",HAS_ALL_OF:"has_all_of",HAS_NONE_OF:"has_none_of",IS_EXACTLY:"is_exactly",INCLUDE_ME:"include_me"},r={contains:"contains",does_not_contain:"does not contain",is:"is",is_not:"is not",equal:"=",not_equal:"\u2260",less:"<",greater:">",less_or_equal:"\u2264",greater_or_equal:"\u2265",is_empty:"is empty",is_not_empty:"is not empty",is_within:"is within...",is_before:"is before...",is_after:"is after...",is_on_or_before:"is on or before...",is_on_or_after:"is on or after...",has_any_of:"has any of...",has_all_of:"has all of...",has_none_of:"has none of...",is_exactly:"is exactly..."}},function(e,t,n){"use strict";n.r(t),n.d(t,"FILTER_TERM_MODIFIER_TYPE",(function(){return a})),n.d(t,"FILTER_TERM_MODIFIER_SHOW",(function(){return r}));var a={TODAY:"today",TOMORROW:"tomorrow",YESTERDAY:"yesterday",ONE_WEEK_AGO:"one_week_ago",ONE_WEEK_FROM_NOW:"one_week_from_now",ONE_MONTH_AGO:"one_month_ago",ONE_MONTH_FROM_NOW:"one_month_from_now",NUMBER_OF_DAYS_AGO:"number_of_days_ago",NUMBER_OF_DAYS_FROM_NOW:"number_of_days_from_now",EXACT_DATE:"exact_date",THE_PAST_WEEK:"the_past_week",THE_PAST_MONTH:"the_past_month",THE_PAST_YEAR:"the_past_year",THE_NEXT_WEEK:"the_next_week",THE_NEXT_MONTH:"the_next_month",THE_NEXT_YEAR:"the_next_year",THE_NEXT_NUMBERS_OF_DAYS:"the_next_numbers_of_days",THE_PAST_NUMBERS_OF_DAYS:"the_past_numbers_of_days",THIS_WEEK:"this_week",THIS_MONTH:"this_month",THIS_YEAR:"this_year"},r={today:"today",tomorrow:"tomorrow",yesterday:"yesterday",one_week_ago:"one week ago",one_week_from_now:"one week from now",one_month_ago:"one month ago",one_month_from_now:"one month from now",number_of_days_ago:"number of days ago",number_of_days_from_now:"number of days from now",exact_date:"exact date",the_past_week:"the past week",the_past_month:"the past month",the_past_year:"the past year",the_next_week:"the next week",the_next_month:"the next month",the_next_year:"the next year",the_next_numbers_of_days:"the next numbers of days...",the_past_numbers_of_days:"the past numbers of days...",this_week:"this week",this_month:"this month",this_year:"this year"}},function(e,t,n){"use strict";n.r(t),n.d(t,"CONVERSION_DATA_RETENTION_STATUS",(function(){return v})),n.d(t,"SUPPORT_CONVERSION_COLUMN_TYPES",(function(){return y})),n.d(t,"CONVERSION_TYPE_MAP",(function(){return _})),n.d(t,"CONVERSION_DATA_RETENTION_MAP",(function(){return b}));var a,r,i,o,s,l,c,u,d,p,h,f,m=n(5),g=n(3),v={ALL:"all",PART:"part",NOTHING:"nothing"},y=[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT,g.COLLABORATOR,g.FORMULA,g.GEOLOCATION],_=(a={},Object(m.default)(a,g.TEXT,[g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.COLLABORATOR,g.FORMULA,g.GEOLOCATION]),Object(m.default)(a,g.NUMBER,[g.TEXT,g.DATE,g.SINGLE_SELECT,g.CHECKBOX,g.FORMULA]),Object(m.default)(a,g.CHECKBOX,[g.TEXT,g.NUMBER,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.MULTIPLE_SELECT,g.COLLABORATOR,g.LONG_TEXT,g.FORMULA]),Object(m.default)(a,g.DATE,[g.TEXT,g.CHECKBOX,g.NUMBER,g.SINGLE_SELECT,g.DATE,g.FORMULA]),Object(m.default)(a,g.SINGLE_SELECT,[g.TEXT,g.CHECKBOX,g.MULTIPLE_SELECT,g.NUMBER,g.DATE,g.FORMULA]),Object(m.default)(a,g.MULTIPLE_SELECT,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.COLLABORATOR,g.FORMULA]),Object(m.default)(a,g.LONG_TEXT,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.COLLABORATOR,g.FORMULA]),Object(m.default)(a,g.COLLABORATOR,[]),Object(m.default)(a,g.FILE,[]),Object(m.default)(a,g.IMAGE,[]),Object(m.default)(a,g.FORMULA,[]),Object(m.default)(a,g.LINK,[]),Object(m.default)(a,g.GEOLOCATION,[]),Object(m.default)(a,g.CREATOR,[]),Object(m.default)(a,g.CTIME,[]),Object(m.default)(a,g.LAST_MODIFIER,[]),Object(m.default)(a,g.MTIME,[]),Object(m.default)(a,g.GEOLOCATION,[g.TEXT]),a),b=(f={},Object(m.default)(f,g.TEXT,(r={},Object(m.default)(r,v.ALL,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.COLLABORATOR,g.GEOLOCATION]),Object(m.default)(r,v.PART,[g.LONG_TEXT]),Object(m.default)(r,v.NOTHING,[g.FORMULA]),r)),Object(m.default)(f,g.NUMBER,(i={},Object(m.default)(i,v.ALL,[g.NUMBER,g.DATE]),Object(m.default)(i,v.PART,[g.TEXT,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT]),Object(m.default)(i,v.NOTHING,[g.CHECKBOX,g.COLLABORATOR,g.GEOLOCATION,g.FORMULA]),i)),Object(m.default)(f,g.CHECKBOX,(o={},Object(m.default)(o,v.ALL,[g.CHECKBOX]),Object(m.default)(o,v.PART,[]),Object(m.default)(o,v.NOTHING,[g.TEXT,g.NUMBER,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT,g.COLLABORATOR,g.FORMULA,g.GEOLOCATION]),o)),Object(m.default)(f,g.DATE,(s={},Object(m.default)(s,v.ALL,[g.DATE]),Object(m.default)(s,v.PART,[g.TEXT,g.NUMBER,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT]),Object(m.default)(s,v.NOTHING,[g.CHECKBOX,g.COLLABORATOR,g.FORMULA,g.GEOLOCATION]),s)),Object(m.default)(f,g.SINGLE_SELECT,(l={},Object(m.default)(l,v.ALL,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.COLLABORATOR,g.GEOLOCATION]),Object(m.default)(l,v.PART,[g.MULTIPLE_SELECT,g.LONG_TEXT]),Object(m.default)(l,v.NOTHING,[g.FORMULA]),l)),Object(m.default)(f,g.MULTIPLE_SELECT,(c={},Object(m.default)(c,v.ALL,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.COLLABORATOR,g.GEOLOCATION]),Object(m.default)(c,v.PART,[g.LONG_TEXT]),Object(m.default)(c,v.NOTHING,[g.FORMULA]),c)),Object(m.default)(f,g.LONG_TEXT,(u={},Object(m.default)(u,v.ALL,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT,g.COLLABORATOR,g.GEOLOCATION]),Object(m.default)(u,v.PART,[]),Object(m.default)(u,v.NOTHING,[g.FORMULA]),u)),Object(m.default)(f,g.COLLABORATOR,(d={},Object(m.default)(d,v.ALL,[g.COLLABORATOR]),Object(m.default)(d,v.PART,[]),Object(m.default)(d,v.NOTHING,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT,g.FORMULA,g.GEOLOCATION]),d)),Object(m.default)(f,g.FORMULA,(p={},Object(m.default)(p,v.ALL,[g.FORMULA]),Object(m.default)(p,v.PART,[]),Object(m.default)(p,v.NOTHING,[g.TEXT,g.NUMBER,g.CHECKBOX,g.DATE,g.SINGLE_SELECT,g.MULTIPLE_SELECT,g.LONG_TEXT,g.COLLABORATOR,g.GEOLOCATION]),p)),Object(m.default)(f,g.GEOLOCATION,(h={},Object(m.default)(h,v.ALL,[g.GEOLOCATION]),Object(m.default)(h,v.PART,[g.TEXT,g.SINGLE_SELECT,g.LONG_TEXT]),Object(m.default)(h,v.NOTHING,[g.NUMBER,g.CHECKBOX,g.DATE,g.MULTIPLE_SELECT,g.COLLABORATOR,g.FORMULA]),h)),f)},function(e,t,n){"use strict";n.r(t),n.d(t,"NUMBER_FORMATS",(function(){return a})),n.d(t,"DATE_FORMATS",(function(){return r}));var a=[{name:"Number",type:"number"},{name:"Number_With_Commas",type:"number-with-commas"},{name:"Percent",type:"percent"},{name:"Yuan",type:"yuan"},{name:"Dollar",type:"dollar"},{name:"Euro",type:"euro"}],r=[{name:"ISO",type:"YYYY-MM-DD"},{name:"US",type:"M/D/YYYY"},{name:"European",type:"D/M/YYYY"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"filterTermModifierNotWithin",(function(){return r})),n.d(t,"filterTermModifierIsWithin",(function(){return i}));var a=n(7),r=[a.FILTER_TERM_MODIFIER_TYPE.EXACT_DATE,a.FILTER_TERM_MODIFIER_TYPE.TODAY,a.FILTER_TERM_MODIFIER_TYPE.TOMORROW,a.FILTER_TERM_MODIFIER_TYPE.YESTERDAY,a.FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO,a.FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW,a.FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO,a.FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW,a.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,a.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW],i=[a.FILTER_TERM_MODIFIER_TYPE.THE_PAST_WEEK,a.FILTER_TERM_MODIFIER_TYPE.THE_PAST_MONTH,a.FILTER_TERM_MODIFIER_TYPE.THE_PAST_YEAR,a.FILTER_TERM_MODIFIER_TYPE.THIS_WEEK,a.FILTER_TERM_MODIFIER_TYPE.THIS_MONTH,a.FILTER_TERM_MODIFIER_TYPE.THIS_YEAR,a.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_WEEK,a.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_MONTH,a.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_YEAR,a.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,a.FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS]},function(e,t,n){"use strict";n.r(t),n.d(t,"OPERATION_TYPE",(function(){return a})),n.d(t,"OPERATION_PARAMS",(function(){return r})),n.d(t,"OPERATION_ATTRIBUTES",(function(){return i})),n.d(t,"UNDO_OPERATION_TYPE",(function(){return o})),n.d(t,"VIEW_OPERATIONS",(function(){return s}));var a={INSERT_ROW:"insert_row",INSERT_ROWS:"insert_rows",DELETE_ROW:"delete_row",DELETE_ROWS:"delete_rows",MOVE_ROWS:"move_rows",MOVE_GROUP_ROWS:"move_group_rows",INSERT_COLUMN:"insert_column",DELETE_COLUMN:"delete_column",RESTORE_COLUMN:"restore_column",RENAME_COLUMN:"rename_column",MODIFY_COLUMN_DATA:"modify_column_data",RESIZE_COLUMN:"resize_column",FREEZE_COLUMN:"freeze_column",MOVE_COLUMN:"move_column",MODIFY_ROW:"modify_row",MODIFY_ROWS:"modify_rows",INSERT_TABLE:"insert_table",RENAME_TABLE:"rename_table",DELETE_TABLE:"delete_table",MOVE_TABLE:"move_table",INSERT_VIEW:"insert_view",RENAME_VIEW:"rename_view",DELETE_VIEW:"delete_view",MOVE_VIEW:"move_view",MODIFY_VIEW_LOCK:"modify_view_lock",MODIFY_HEADER_LOCK:"modify_header_lock",MODIFY_FILTERS:"modify_filters",MODIFY_HIDDEN_COLUMNS:"modify_hidden_columns",MODIFY_SORTS:"modify_sorts",ADD_STATISTICS:"add_statistics",DELETE_STATISTICS:"delete_statistics",EDIT_STATISTICS:"edit_statistics",MODIFY_GROUPBYS:"modify_groupbys",MODIFY_COLUMN_TYPE:"modify_column_type",RESTORE_COLUMN_TYPE:"restore_column_type",ADD_LINK:"add_link",REMOVE_LINK:"remove_link",UPDATE_TABLE_SETTING:"update_table_setting",DELETE_TABLE_SETTING:"delete_table_setting",MODIFY_DTABLE_DESCRIPTION:"modify_dtable_description",UPDATE_DEFAULT_DATA:"update_default_data",UPDATE_PLUGIN_SETTINGS:"update_plugin_settings",DELETE_PLUGIN_SETTINGS:"delete_plugin_settings",UPDATE_SETTING:"update_setting",DELETE_SETTING:"delete_setting"},r={row_index:void 0,row_id:void 0,row_ids:void 0,row_insert_position:void 0,row_data:void 0,old_rows_data:void 0,moved_rows:void 0,column_key:void 0,column_name:void 0,column_type:void 0,column_size:void 0,column_dragged_index:void 0,column_insert_index:void 0,column_data:void 0,moved_column_key:void 0,target_column_key:void 0,updated:void 0,table_index:void 0,table_id:void 0,table_name:void 0,moved_table:void 0,deleted_table:void 0,target_id:void 0,move_position:void 0,view_data:void 0,view_id:void 0,moved_view:void 0,filters:void 0,filter_conjunction:void 0,hidden_columns:void 0,sorts:void 0,stat_item:void 0,groupbys:void 0,is_locked:void 0,is_header_locked:void 0,new_column:void 0,old_column:void 0,collaborators:void 0,setting_key:void 0,setting_value:void 0,description:void 0,lang:void 0,plugin_name:void 0,plugin_settings:void 0},i={insert_row:["table_id","row_id","row_insert_position","row_data"],insert_rows:["table_id","row_ids","row_insert_position","row_datas"],delete_row:["table_id","row_id","deleted_row","upper_row_id"],delete_rows:["table_id","row_ids","deleted_rows","upper_row_ids"],move_rows:["table_id","target_ids","moved_rows","move_position","upper_row_ids"],move_group_rows:["table_id","target_ids","moved_rows","move_position","upper_row_ids","updated","old_rows"],insert_column:["table_id","column_key","column_data"],restore_column:["table_id","column_key","new_column","new_column_value"],delete_column:["table_id","column_key","old_column","old_column_value","upper_column_key"],rename_column:["table_id","column_key","new_column_name","old_column_name"],modify_column_data:["table_id","column_key","column_data"],resize_column:["table_id","column_key","new_column_width","old_column_width"],freeze_column:["table_id","column_key","frozen"],move_column:["table_id","move_position","moved_column_key","target_column_key","upper_column_key"],modify_row:["table_id","row_id","updated","old_row"],modify_rows:["table_id","row_ids","updated","old_rows"],insert_table:["table_data"],rename_table:["table_id","table_name"],delete_table:["table_id","table_name","deleted_table"],move_table:["target_table_id","moved_table","move_position"],insert_view:["table_id","view_data"],rename_view:["table_id","view_id","view_name"],delete_view:["table_id","view_id","view_name"],move_view:["table_id","target_view_id","moved_view","move_position"],modify_view_lock:["table_id","view_id","is_locked"],modify_header_lock:["table_id","is_header_locked"],modify_filters:["table_id","view_id","filters","filter_conjunction"],modify_hidden_columns:["table_id","view_id","hidden_columns"],modify_sorts:["table_id","view_id","sorts"],add_statistics:["stat_item"],delete_statistics:["stat_id","stat_name"],edit_statistics:["stat_id","stat_item"],modify_groupbys:["table_id","view_id","groupbys"],modify_column_type:["table_id","column_key","new_column","old_column","old_rows_data","collaborators"],restore_column_type:["table_id","column_key","new_column","old_column","old_rows_data"],add_link:["table1_id","table2_id","table1_row_id","table2_row_id"],remove_link:["table1_id","table2_id","table1_row_id","table2_row_id"],update_table_setting:["table_id","setting_key","setting_value"],delete_table_setting:["table_id","setting_key"],modify_dtable_description:["description"],update_default_data:["table_id","view_id","column_key","lang"],update_setting:["setting_key","setting_value"],delete_setting:["setting_key"],update_plugin_settings:["plugin_name","plugin_settings"],delete_plugin_settings:["plugin_name"]},o=[a.MODIFY_ROW,a.MODIFY_ROWS,a.INSERT_ROW,a.INSERT_ROWS,a.DELETE_ROW,a.DELETE_ROWS,a.MOVE_ROWS,a.MOVE_GROUP_ROWS,a.INSERT_COLUMN,a.DELETE_COLUMN,a.MOVE_COLUMN,a.RESIZE_COLUMN,a.RENAME_COLUMN,a.MODIFY_COLUMN_TYPE],s=[a.MODIFY_SORTS,a.MODIFY_FILTERS,a.MODIFY_GROUPBYS,a.MODIFY_COLUMN_DATA,a.MODIFY_COLUMN_TYPE,a.RESTORE_COLUMN_TYPE,a.DELETE_COLUMN,a.RESTORE_COLUMN,a.INSERT_ROW,a.INSERT_ROWS,a.DELETE_ROW,a.DELETE_ROWS,a.MODIFY_ROW,a.MODIFY_ROWS,a.MOVE_ROWS,a.MOVE_GROUP_ROWS]},function(e,t,n){"use strict";n.r(t),n.d(t,"SELECT_OPTION_COLORS",(function(){return a})),n.d(t,"HIGHLIGHT_COLORS",(function(){return r}));var a=[{COLOR:"#FFFCB5",BORDER_COLOR:"#E8E79D",TEXT_COLOR:"#202428"},{COLOR:"#FFEAB6",BORDER_COLOR:"#ECD084",TEXT_COLOR:"#202428"},{COLOR:"#FFD9C8",BORDER_COLOR:"#EFBAA3",TEXT_COLOR:"#202428"},{COLOR:"#FFDDE5",BORDER_COLOR:"#EDC4C1",TEXT_COLOR:"#202428"},{COLOR:"#FFD4FF",BORDER_COLOR:"#E6B6E6",TEXT_COLOR:"#202428"},{COLOR:"#DAD7FF",BORDER_COLOR:"#C3BEEF",TEXT_COLOR:"#202428"},{COLOR:"#DDFFE6",BORDER_COLOR:"#BBEBCD",TEXT_COLOR:"#202428"},{COLOR:"#DEF7C4",BORDER_COLOR:"#C5EB9E",TEXT_COLOR:"#202428"},{COLOR:"#D8FAFF",BORDER_COLOR:"#B4E4E9",TEXT_COLOR:"#202428"},{COLOR:"#D7E8FF",BORDER_COLOR:"#BAD1E9",TEXT_COLOR:"#202428"},{COLOR:"#B7CEF9",BORDER_COLOR:"#96B2E1",TEXT_COLOR:"#202428"},{COLOR:"#E9E9E9",BORDER_COLOR:"#DADADA",TEXT_COLOR:"#202428"},{COLOR:"#FBD44A",BORDER_COLOR:"#E5C142",TEXT_COLOR:"#FFFFFF"},{COLOR:"#EAA775",BORDER_COLOR:"#D59361",TEXT_COLOR:"#FFFFFF"},{COLOR:"#F4667C",BORDER_COLOR:"#DC556A",TEXT_COLOR:"#FFFFFF"},{COLOR:"#DC82D2",BORDER_COLOR:"#D166C5",TEXT_COLOR:"#FFFFFF"},{COLOR:"#9860E5",BORDER_COLOR:"#844BD2",TEXT_COLOR:"#FFFFFF"},{COLOR:"#9F8CF1",BORDER_COLOR:"#8F75E2",TEXT_COLOR:"#FFFFFF"},{COLOR:"#59CB74",BORDER_COLOR:"#4EB867",TEXT_COLOR:"#FFFFFF"},{COLOR:"#ADDF84",BORDER_COLOR:"#9CCF72",TEXT_COLOR:"#FFFFFF"},{COLOR:"#89D2EA",BORDER_COLOR:"#7BC0D6",TEXT_COLOR:"#FFFFFF"},{COLOR:"#4ECCCB",BORDER_COLOR:"#45BAB9",TEXT_COLOR:"#FFFFFF"},{COLOR:"#46A1FD",BORDER_COLOR:"#3C8FE4",TEXT_COLOR:"#FFFFFF"},{COLOR:"#C2C2C2",BORDER_COLOR:"#ADADAD",TEXT_COLOR:"#FFFFFF"}],r={"#FFE8E6":"#FF6052","#FFDED5":"#FF714A","#FFE7D1":"#FF851A","#EED5FF":"#B64DFD","#DAD7FF":"#5F4CFF","#D7E8FF":"#3C8FFF","#D8FAFF":"#41E7FF","#DDFFE6":"#16BA51","#E9E9E9":"#999999","#FBD44A":"#E5C142","#EAA775":"#D59361","#F4667C":"#DC556A","#DC82D2":"#D166C5","#9860E5":"#844BD2","#9F8CF1":"#8F75E2","#59CB74":"#4EB867","#ADDF84":"#9CCF72","#89D2EA":"#7BC0D6","#4ECCCB":"#45BAB9","#46A1FD":"#3C8FE4","#C2C2C2":"#ADADAD","#FFFCB5":"#E8E79D","#FFEAB6":"#ECD084","#FFD9C8":"#EFBAA3","#FFDDE5":"#EDC4C1","#FFD4FF":"#E6B6E6","#DEF7C4":"#C5EB9E","#B7CEF9":"#96B2E1"}},function(e,t,n){"use strict";n.r(t),n.d(t,"GROUP_DATE_GRANULARITY",(function(){return o})),n.d(t,"DISPLAY_GROUP_DATE_GRANULARITY",(function(){return s})),n.d(t,"SUPPORT_GROUP_COLUMN_TYPES",(function(){return l})),n.d(t,"GROUP_GEOLOCATION_GRANULARITY",(function(){return c})),n.d(t,"DISPLAY_GROUP_GEOLOCATION_GRANULARITY",(function(){return u}));var a,r=n(5),i=n(3),o={DAY:"day",WEEK:"week",MONTH:"month",QUARTAR:"quartar",YEAR:"year"},s={day:"By_Day",week:"By_Week",month:"By_Month",quartar:"By_Quarter",year:"By_Year"},l=[i.TEXT,i.DATE,i.CTIME,i.MTIME,i.NUMBER,i.CHECKBOX,i.SINGLE_SELECT,i.MULTIPLE_SELECT,i.COLLABORATOR,i.CREATOR,i.GEOLOCATION],c={PROVINCE:"province",CITY:"city",DISTRICT:"district"},u=(a={},Object(r.default)(a,c.PROVINCE,"By_Province"),Object(r.default)(a,c.CITY,"By_City"),Object(r.default)(a,c.DISTRICT,"By_District"),a)},function(e,t,n){"use strict";n.r(t),n.d(t,"SORT_TYPE",(function(){return a}));var a={UP:"up",DOWN:"down"}},function(e,t,n){"use strict";n.r(t),n.d(t,"STATISTICS_COUNT_TYPE",(function(){return a})),n.d(t,"STATISTICS_COUNT_SHOW",(function(){return r})),n.d(t,"CHART_MAP",(function(){return i})),n.d(t,"STATISTICS_TYPE_TABLE",(function(){return o})),n.d(t,"PIE_CHART_COLORS",(function(){return s})),n.d(t,"CALCULATION_METHOD",(function(){return l}));var a={COUNT:"count",ADVANCED:"advanced",DAY:"day",WEEK:"week",QUARTAR:"quartar",MONTH:"month",YEAR:"year",SUM:"Sum",MAX:"Max",MIN:"Min",MEAN:"Mean",PROVINCE:"province",CITY:"city",DISTRICT:"district"},r={count:"Counting",advanced:"Advanced_count",day:"By_Day",week:"By_Week",month:"By_Month",quartar:"By_Quarter",year:"By_Year",Sum:"Sum",Max:"Max",Min:"Min",Mean:"Mean",province:"By_Province",city:"By_City",district:"By_District"},i={chart_bar:"bar",chart_line:"line",chart_pie:"pie"},o="pivot_table",s=["#46A1FD","#4ECCCB","#59CB74","#FBD44A","#F4667C","#9860E5","#9F8CF1","#DC82D2","#EAA775","#ADDF84","#85E0BE","#89D2EA"],l=["Sum","Max","Min","Mean"]},function(e,t,n){"use strict";n.r(t),n.d(t,"SETTING_KEY",(function(){return a}));var a={CALENDAR_VIEW:"calendar_view"}},function(e,t,n){"use strict";n.r(t),n.d(t,"FORMULA_TIP",(function(){return i})),n.d(t,"SUPPORT_FORMULA_COLUMN_TYPE",(function(){return o})),n.d(t,"FORMULA_TYPE",(function(){return r}));var a=n(3),r={COLUMN:"column",CONSTANTS:"constants",OPERATORS:"operators",MATH:"math",TEXT:"text",DATE:"date",LOGICAL:"logical",STATISTIC:"statistic"},i=[{name:"Constants",type:r.CONSTANTS,value:[{name:"e",valueType:a.NUMBER,description:"The_natural_number_e",syntax:"e",example:"e == 2.718281828459045"},{name:"false",valueType:a.CHECKBOX,description:"Logical_value_false",syntax:"false()",example:"false() == false"},{name:"pi",valueType:a.NUMBER,description:"PI_\u03c0",syntax:"pi",example:"pi == 3.141592653589793"},{name:"true",valueType:a.CHECKBOX,description:"Logical_value_true",syntax:"true()",example:"true() == true"}]},{name:"Operators",type:r.OPERATORS,value:[{name:"add",valueType:a.NUMBER,description:"Add_two_numbers",syntax:["number + number","add(number, number)"],example:["2 + 3 = 5","add(2, 3) == 5"],operator:"+"},{name:"concatenate",valueType:a.TEXT,description:"Concatenate_text_values_into_a_single_text_value",syntax:["text & text & text","concatenate(text, text, text)"],example:["sea & Table & . == seaTable.","concatenate(sea, Table, .) == seaTable."],operator:"&"},{name:"divide",valueType:a.NUMBER,description:"Divide_two_numbers",syntax:["number / number","divide(number, number)"],example:["9 / 3 = 3","divide(9, 3) == 3"],operator:"/"},{name:"equal",valueType:a.CHECKBOX,description:"Equal_to",syntax:["number1 === number2","equal(number1, number2)"],example:["3 === 3 == true","equal(2, 3) == false"],operator:"==="},{name:"greater",valueType:a.CHECKBOX,description:"Greater_than",syntax:["number1 > number2","greater(number1, number2)"],example:["4 > 3 == true","greater(3, 3) == false"],operator:">"},{name:"greater or equal",valueType:a.CHECKBOX,description:"Greater_than_or_equal_to",syntax:["number1 >= number2","greatereq(number1, number2)"],example:["4 >= 3 == true","greatereq(3, 3) == true"],operator:">="},{name:"less than",valueType:a.CHECKBOX,description:"Less_than",syntax:["number1 < number2","lessthan(number1, number2)"],example:["4 < 3 == false","lessthan(3, 4) == true"],operator:"<"},{name:"less or equal",valueType:a.CHECKBOX,description:"Less_than_or_equal_to",syntax:["number1 <= number2","lessthaneq(number1, number2)"],example:["4 <= 3 == false","lessthaneq(3, 4) == true"],operator:"<="},{name:"mod",valueType:a.NUMBER,description:"The_remainder_when_dividing_two_numbers",syntax:["number % number","mod(number, number)"],example:["9 % 6 = 3","mod(9, 6) == 3"],operator:"%"},{name:"multiply",valueType:a.NUMBER,description:"Multipl_two_numbers",syntax:["number * number","multiply(number, number)"],example:["9 * 6 = 54","multiply(9, 6) == 54"],operator:"*"},{name:"power",valueType:a.NUMBER,description:"Power",syntax:["base ^ number","power(base, number)"],example:["2 ^ 3 = 8","power(2, 3) == 8"],operator:"^"},{name:"subtract",valueType:a.NUMBER,description:"Subtract_two_numbers",syntax:["number - number","subtract(number, number)"],example:["9 - 6 = 3","subtract(9, 6) == 3"],operator:"-"},{name:"unequal",valueType:a.CHECKBOX,description:"Is_not_equal_to",syntax:["number1 <> number2","unequal(number1, number2)"],example:["4 <> 3 == true","unequal(3, 4) == true"],operator:"<>"}]},{name:"Math_functions",type:r.MATH,value:[{name:"abs",valueType:a.NUMBER,description:"Computes_the_absolute_value_of_a_number",syntax:"abs(number)",example:"abs(-2) == 2"},{name:"ceiling",valueType:a.NUMBER,description:"Computes_a_number_rounded_to_the_left",syntax:"ceiling(number)",example:"ceiling(2.3) == 3"},{name:"even",valueType:a.NUMBER,description:"Computes_the_nearest_even_number_after_rounding_to_the_left",syntax:"even(number)",example:"even(3) == 4"},{name:"exp",valueType:a.NUMBER,description:"Computes_the_number_power_of_number_e",syntax:"exp(number)",example:"exp(1) == 2.71828183"},{name:"floor",valueType:a.NUMBER,description:"Computes_a_number_rounded_to_the_right",syntax:"floor(number)",example:"floor(2.3) == 2"},{name:"int",valueType:a.NUMBER,description:"Computes_the_integer_part_of_a_number",syntax:"int(number)",example:"int(3.2) == 3"},{name:"lg",valueType:a.NUMBER,description:"Computes_the_logarithm_of_the_number_in_specified_base_10",syntax:"lg(number)",example:"lg(100) == 2"},{name:"ln",valueType:a.NUMBER,description:"Computes_the_logarithm_of_the_number_in_specified_base_e",syntax:"ln(number)",example:"ln(e) == 1"},{name:"log",valueType:a.NUMBER,description:"Computes_the_logarithm_of_the_number_in_provided_base_the_base_defaults_to_10_if_not_specified",syntax:["log(number)","log(number, base)"],example:["log(100) == 2","log(8, 2) == 3"]},{name:"odd",valueType:a.NUMBER,description:"Computes_the_nearest_odd_number_after_rounding_to_the_left",syntax:"odd(number)",example:"odd(2.3) == 3"},{name:"round",valueType:a.NUMBER,description:"Computes_the_value_of_rounding_a_number_by_the_number_of_decimal_places",syntax:"round(number[, num_digits])",example:["round(3.1415923, 3) == 3.142","round(3.1415923, -3) == 0","round(999.1415923, -3) == 1000"]},{name:"rounddown",valueType:a.NUMBER,description:"Computes_the_value_of_a_number_truncated_by_the_number_of_decimal_places",syntax:"rounddown(number[, num_digits])",example:["rounddown(3.1415923, 3) == 3.141","rounddown(999.1415923, -3) == 0"]},{name:"roundup",valueType:a.NUMBER,description:"Computes_the_value_of_a_number_after_the_number_of_decimal_places",syntax:"roundup(number[, num_digits])",example:["roundup(3.1415923, 3) == 3.142","roundup(345.1415923, -3) == 1000"]},{name:"sign",valueType:a.NUMBER,description:"Returns_whether_a_number_is_0_negative_or_positive_if_0_return_0_if_negative_return_-1_if_positive_return_1",syntax:"sign(number)",example:"sign(-2) == -1"},{name:"sqrt",valueType:a.NUMBER,description:"Computes_the_positive_square_root_of_a_number",syntax:"sqrt(number)",example:"sqrt(4) == 2"},{name:"sum",valueType:a.NUMBER,description:"Computes_the_sum_of_a_set_of_numbers",syntax:"sum(number, number, number[, number, ...])",example:"sum(1, 2, 3) == 6"}]},{name:"Text_functions",type:r.TEXT,value:[{name:"exact",valueType:a.CHECKBOX,description:"Returns_whether_two_strings_are_equal",syntax:"exact(string1, string2)",example:'exact("SeaTable", "SeaTable") == true'},{name:"find",valueType:a.NUMBER,description:"Finds_an_occurrence_of_findString_in_sourceString_starting_from_the_startPosition_if_no_occurrence_of_findString_is_found_the_result_will_be_0",syntax:"find(findString, sourceString, startPosition)",example:'find("sea", "SeaTable", 1) == 0'},{name:"left",valueType:a.TEXT,description:"Extract_howMany_characters_from_the_beginning_of_the_string",syntax:"left(string, count)",example:'left("SeaTable", 3) == Sea'},{name:"len",valueType:a.NUMBER,description:"Returns_the_length_of_string",syntax:"len(string)",example:'len("seaTable") == 8'},{name:"lower",valueType:a.TEXT,description:"Makes_a_string_lowercase",syntax:"lower(string)",example:'lower("seaTable") == seatable'},{name:"mid",valueType:a.TEXT,description:"Extract_a_substring_of_count_characters_starting_at_startPosition",syntax:"mid(string, startPosition, count)",example:'mid("SeaTable is very good.", 1, 8 ) == SeaTable'},{name:"replace",valueType:a.TEXT,description:"Replaces_the_number_of_characters_beginning_with_the_start_character_with_the_replacement_text",syntax:"replace(sourceString, startPosition, count, replacementText)",example:'replace("SeaTable is very good.", 1, 8, "Seafile") == Seafile is very good.'},{name:"rept",valueType:a.TEXT,description:"Repeats_string_by_the_specified_number_of_times",syntax:"rept(string, number)",example:'rept("Sea", 3) == "SeaSeaSea"'},{name:"right",valueType:a.TEXT,description:"Extract_howMany_characters_from_the_end_of_the_string",syntax:"right(string, count)",example:'right("SeaTable is very good.", 5) == good.'},{name:"search",valueType:a.NUMBER,description:"Finds_an_occurrence_of_findString_in_sourceString_starting_from_the_startPosition_if_no_occurrence_of_findString_is_found_the_result_will_be_0",syntax:"search(findString, sourceString, startPosition)",example:'search("sea", \u201cSeaTable\u201d, 1) == 1'},{name:"substitute",valueType:a.TEXT,description:"Replace_the_string_with_new_string_at_index_show_in_source_string",syntax:"substitute(sourceString, oldString, newString[, index])",example:'substitute("SeaTableTable", "Table", "file", 0) == Seafilefile'},{name:"T",valueType:a.TEXT,description:"Returns_the_argument_if_it_is_text",syntax:"T(value)",example:['T("123") == "123"','T(123) === ""']},{name:"trim",valueType:a.TEXT,description:"Removes_whitespace_at_the_beginning_and_end_of_string",syntax:"trim(number)",example:'trim("  seaTable  ") == seaTable'},{name:"upper",valueType:a.TEXT,description:"Makes_a_string_uppercase",syntax:"upper(string)",example:'upper("seaTable") == SEATABLE'},{name:"value",valueType:a.NUMBER,description:"Convert_text_string_to_number",syntax:"value(string)",example:'value("123") == 123'}]},{name:"Date_functions",type:r.DATE,value:[{name:"dateAdd",valueType:a.DATE,description:"Add_to_a_date",syntax:"dateAdd(date, count, unit)",example:['dateAdd("2020-02-03", 2, "years") == 2022-02-03','dateAdd("2020-02-03 08:00:00", 2, "years") == 2022-02-03 08:00:00','dateAdd("2020-02-03", 2, "months") == 2020-04-03','dateAdd("2020-02-03 22:22", -2, "weeks") == 2020-01-20 22:22','dateAdd("2020-02-03", 2, "days") == 2020-02-05','dateAdd("2020-02-03 23:34", -2, "hours") == 2020-02-03 21:34','dateAdd("2020-02-03 08:00:00", 2, "hours") == 2020-02-03 10:00:00','dateAdd("2020-02-03", -2, "minutes") == 2020-02-03','dateAdd("2020-02-03 08:58", 2, "minutes") == 2020-02-03 09:00','dateAdd("2020-02-03", -2, "seconds") == 2020-02-03','dateAdd("2020-02-03 22:22:20", 2, "seconds") == 2020-02-03 22:22:22']},{name:"day",valueType:a.NUMBER,description:"Get_the_day_in_a_date",syntax:"day(date)",example:'day("2020-01-03") == 3'},{name:"days",valueType:a.NUMBER,description:"Get_the_days_from_start_date_to_end_date",syntax:"days(startDate, endDate)",example:'days("2020-01-01", "2020-02-03") == 33'},{name:"hour",valueType:a.NUMBER,description:"Get_hours_in_a_date",syntax:"hour(date)",example:"hour(2020-02-14 13:14:52) == 13"},{name:"minute",valueType:a.NUMBER,description:"Get_minutes_in_a_date",syntax:"minute(date)",example:'minute("2020-02-14 13:14:52") == 14'},{name:"month",valueType:a.NUMBER,description:"Get_month_in_a_date",syntax:"month(date)",example:'month("2020-02-14 13:14:52") == 2'},{name:"networkdays",valueType:a.NUMBER,description:"Get_working_days_that_from_start_date_to_end_date_and_except_holiday",syntax:"networkdays(startDate,endDate,holiday1, [holiday2, ...])",example:'networkdays("2020-01-01", "2020-01-07","2020-01-01") == 6'},{name:"now",valueType:a.DATE,description:"Get_now_time",syntax:"now()",example:"now() == 2020-02-14 13:14"},{name:"second",valueType:a.NUMBER,description:"Get_seconds_in_a_date",syntax:"second(date)",example:'second("2020-02-14 13:14:52") == 52'},{name:"today",valueType:a.DATE,description:"Get_today_date",syntax:"today()",example:"today() == 2020-02-14"},{name:"weekday",valueType:a.NUMBER,description:"Get_the_date_is_the_day_of_the_week",syntax:"weekday(date[, weekStart])",example:'weekday("2020-01-01", "Monday") == 3'},{name:"weeknum",valueType:a.NUMBER,description:"Get_the_date_is_the_week_of_the_year",syntax:"weeknum(date[, weekStart])",example:'weeknum("2020-01-13", "Monday) == 2'},{name:"year",valueType:a.NUMBER,description:"Get_year_in_a_date",syntax:"year(date)",example:'year("2020-01-01") == 2020'}]},{name:"Logical_functions",type:r.LOGICAL,value:[{name:"and",valueType:a.CHECKBOX,description:"Returns_true_if_all_the_arguments_are_true_returns_false_otherwise",syntax:"and(value1, value2, ...)",example:'and(1, "", 2) == false'},{name:"if",valueType:a.TEXT,description:"if_logical_is_true_return_value1_otherwise_return_value2",syntax:"if(logical, value1, value2)",example:"if(1 > 2, 1, 2) == 2"},{name:"not",valueType:a.CHECKBOX,description:"Reverses_the_logical_value_of_its_argument",syntax:"not(boolean)",example:"not(true) == false"},{name:"or",valueType:a.CHECKBOX,description:"Returns_true_if_any_one_of_the_arguments_is_valid_value",syntax:"or(value1[, value2, ...])",example:'or(1, "", false)) == true'},{name:"switch",valueType:a.TEXT,description:"Returns_the_value_that_the_logical_belongs_to_category",syntax:"switch(logical, matcher1, value1, matcher2, value2, default)",example:'switch(INT(68/10), 6, "so so", 7, "good", 8, "nice", 9, "excellent", 10, "best", "failed" ) == so so'},{name:"xor",valueType:a.CHECKBOX,description:"Returns_whether_the_count_of_valid_values_\u200b\u200bin_a_set_of_numbers_is_odd",syntax:"xor(value1[, value2, ...])",example:'xor(1, "", 2, "", 3) == true'}]},{name:"Statistics_functions",type:r.STATISTIC,value:[{name:"average",valueType:a.NUMBER,description:"Returns_the_average_of_significant_digits_in_a_set_of_numbers",syntax:"average(number1[, number2, ...])",example:"average(1, 2, 3, 4, 5) == 3"},{name:"count",valueType:a.NUMBER,description:"Returns_the_total_number_of_significant_digits_in_a_set_of_numbers",syntax:"count(number1[, number2, ...])",example:'count(1, "", 2, "3") == 2'},{name:"counta",valueType:a.NUMBER,description:"Returns_the_total_number_of_non_empty_numbers_in_a_set_of_values",syntax:"counta(textOrNumber2[, textOrNumber2, ...])",example:'counta(1, "", 2, "3") == 3'},{name:"countall",valueType:a.NUMBER,description:"Returns_the_total_of_a_set_of_values",syntax:"countall(textOrNumber2[, textOrNumber2, ...])",example:'countall(1, "", 2, 3) == 4'},{name:"countblank",valueType:a.NUMBER,description:"Returns_the_total_number_of_invalid_data_in_a_set_of_values",syntax:"countblank(textOrNumber2[, textOrNumber2, ...])",example:'countblank(1, "", 2, 3, "") == 2'},{name:"max",valueType:a.NUMBER,description:"Returns_the_largest_value_in_a_set_of_numbers",syntax:"max(number1[, number2, ...])",example:"max(-1, 3, 4, 2, -1) == 4"},{name:"min",valueType:a.NUMBER,description:"Returns_the_smallest_value_in_a_set_of_numbers",syntax:"min(number1[, number2, ...])",example:"min(1, 3, 4, 2, -1) == -1"}]}],o=[a.NUMBER,a.TEXT,a.DATE,a.CTIME,a.MTIME,a.CHECKBOX]},function(e,t,n){"use strict";n.r(t);var a=n(19);n.d(t,"normalizeTable",(function(){return a.normalizeTable})),n.d(t,"setIdRowMap",(function(){return a.setIdRowMap})),n.d(t,"generatorBase64Code",(function(){return a.generatorBase64Code})),n.d(t,"generatorTableId",(function(){return a.generatorTableId})),n.d(t,"generatorStatId",(function(){return a.generatorStatId})),n.d(t,"generatorFormId",(function(){return a.generatorFormId})),n.d(t,"generatorViewId",(function(){return a.generatorViewId})),n.d(t,"generatorColumnKey",(function(){return a.generatorColumnKey})),n.d(t,"generateOptionID",(function(){return a.generateOptionID})),n.d(t,"getFloatNumber",(function(){return a.getFloatNumber})),n.d(t,"getCreators",(function(){return a.getCreators}));var r=n(20);n.d(t,"getViewDefaultName",(function(){return r.getViewDefaultName})),n.d(t,"getColumnDefaultName",(function(){return r.getColumnDefaultName}));var i=n(21);n.d(t,"formatTextToDate",(function(){return i.formatTextToDate})),n.d(t,"getDateDisplayString",(function(){return i.getDateDisplayString})),n.d(t,"getNumberDisplayString",(function(){return i.getNumberDisplayString})),n.d(t,"formatTextToGeolocation",(function(){return i.formatTextToGeolocation})),n.d(t,"getGeolocationDisplayString",(function(){return i.getGeolocationDisplayString})),n.d(t,"getOption",(function(){return i.getOption})),n.d(t,"getOptionName",(function(){return i.getOptionName})),n.d(t,"getMultipleOptionName",(function(){return i.getMultipleOptionName})),n.d(t,"getCollaborator",(function(){return i.getCollaborator})),n.d(t,"getCollaboratorsName",(function(){return i.getCollaboratorsName})),n.d(t,"getDateByGranularity",(function(){return i.getDateByGranularity})),n.d(t,"getValidOptionIds",(function(){return i.getValidOptionIds})),n.d(t,"getValidCollaborators",(function(){return i.getValidCollaborators})),n.d(t,"getGeolocationByGranularity",(function(){return i.getGeolocationByGranularity}));var o=n(153);n.d(t,"getNewCellVal",(function(){return o.getNewCellVal}));var s=n(154);n.d(t,"LinksUtils",(function(){return s.default}));var l=n(157);n.d(t,"TableUtils",(function(){return l.default}));var c=n(158);n.d(t,"RowUtils",(function(){return c.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"normalizeTable",(function(){return a})),n.d(t,"setIdRowMap",(function(){return r})),n.d(t,"generatorBase64Code",(function(){return i})),n.d(t,"generatorTableId",(function(){return o})),n.d(t,"generatorViewId",(function(){return s})),n.d(t,"generatorStatId",(function(){return l})),n.d(t,"generatorFormId",(function(){return c})),n.d(t,"generatorColumnKey",(function(){return u})),n.d(t,"generateOptionID",(function(){return d})),n.d(t,"getFloatNumber",(function(){return p})),n.d(t,"getCreators",(function(){return h}));var a=function(e,t){e.id_row_map=r(e)},r=function(e){var t={};return e.rows.forEach((function(e){t[e._id]||(t[e._id]=e)})),t},i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},o=function(e){for(var t,n=!1;!n&&(t=i(),!(n=e.every((function(e){return e._id!==t})))););return t},s=function(e){for(var t,n=!1;!n&&(t=i(4),!(n=e.every((function(e){return e._id!==t})))););return t},l=function(e){for(var t,n=!1;!n&&(t=i(),!(n=e.every((function(e){return e._id!==t})))););return t},c=function(e){for(var t="",n=!1;!n&&(t=i(),!(n=e.every((function(e){return e._id!==t})))););return t},u=function(e){for(var t="",n=!1;!n&&(t=i(),!(n=e.every((function(e){return e.key!==t})))););return t},d=function(e){if(1===e.length)return""+Math.floor(Math.random()*Math.pow(10,6));for(var t,n=!1;!n&&(t=""+Math.floor(Math.random()*Math.pow(10,6)),!(n=e.every((function(e){return e.id!==t})))););return t},p=function(e){if(!e&&0!==e)return null;var t=String(e).indexOf("%")>-1,n=parseFloat(e.replace(/[^.-\d]/g,""));return t&&!isNaN(n)?n/100:isNaN(n)?null:n},h=function(){var e=window.app.state.collaborators.map((function(e){return e.email}));return e.push("anonymous"),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"getViewDefaultName",(function(){return s})),n.d(t,"getColumnDefaultName",(function(){return l})),n.d(t,"getEmptyName",(function(){return c})),n.d(t,"getTotalName",(function(){return u}));var a={en:"Default View","zh-cn":"\u9ed8\u8ba4\u89c6\u56fe"},r={en:"Name","zh-cn":"\u540d\u79f0"},i={en:"Empty","zh-cn":"\u7a7a"},o={en:"Total","zh-cn":"\u603b\u8ba1"},s=function(e){return a[e]||a.en},l=function(e){return r[e]||r.en},c=function(e){return i[e]||i.en},u=function(e){return o[e]||o.en}},function(e,t,n){"use strict";n.r(t),n.d(t,"formatTextToDate",(function(){return c})),n.d(t,"getDateDisplayString",(function(){return u})),n.d(t,"getGeolocationDisplayString",(function(){return d})),n.d(t,"getNumberDisplayString",(function(){return h})),n.d(t,"getOption",(function(){return f})),n.d(t,"getOptionName",(function(){return m})),n.d(t,"getMultipleOptionName",(function(){return g})),n.d(t,"getCollaborator",(function(){return v})),n.d(t,"getCollaboratorsName",(function(){return y})),n.d(t,"getDateByGranularity",(function(){return _})),n.d(t,"getValidOptionIds",(function(){return b})),n.d(t,"getValidCollaborators",(function(){return w})),n.d(t,"getCollaboratorsNames",(function(){return E})),n.d(t,"getLongtextDisplayString",(function(){return T})),n.d(t,"getDisplayValue",(function(){return x})),n.d(t,"getGeolocationByGranularity",(function(){return C})),n.d(t,"formatTextToGeolocation",(function(){return M}));var a=n(22),r=n.n(a),i=n(23),o=n.n(i),s=n(19),l=n(2);r.a.enableBoundaryChecking(!1);var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if(!e)return null;var n=/^[0-9]+$/.test(e);if(n)return o()(Object(s.getFloatNumber)(e)).format(t);var a=new Date(e);if(a&&a.getYear()){var r=a.getFullYear(),i=a.getMonth()+1,l=a.getDate();if(i=i<10?"0".concat(i):i,l=l<10?"0".concat(l):l,t.indexOf("HH:mm")<0)return"".concat(r,"-").concat(i,"-").concat(l);var c,u,d=2===e.split(" ").length;return d?(u=a.getMinutes(),c=(c=a.getHours())<10?"0".concat(c):c,u=u<10?"0".concat(u):u):(c="00",u="00"),"".concat(r,"-").concat(i,"-").concat(l," ").concat(c,":").concat(u)}return null},u=function(e,t){if(""===e||!e)return null;var n=e.split(" "),a=n[0].split("-");switch(t){case"M/D/YYYY HH:mm":return n[1]?"".concat(Number(a[1]),"/").concat(Number(a[2]),"/").concat(a[0]," ").concat(n[1]):"".concat(Number(a[1]),"/").concat(Number(a[2]),"/").concat(a[0]);case"D/M/YYYY HH:mm":return n[1]?"".concat(Number(a[2]),"/").concat(Number(a[1]),"/").concat(a[0]," ").concat(n[1]):"".concat(Number(a[2]),"/").concat(Number(a[1]),"/").concat(a[0]);case"YYYY-MM-DD HH:mm":return e;case"M/D/YYYY":return"".concat(Number(a[1]),"/").concat(Number(a[2]),"/").concat(a[0]);case"D/M/YYYY":return"".concat(Number(a[2]),"/").concat(Number(a[1]),"/").concat(a[0]);case"YYYY-MM-DD":return"".concat(a[0],"-").concat(a[1],"-").concat(a[2]);default:return e}},d=function(e){var t=e||{};return e?"".concat(t.province||"").concat(t.city||"").concat(t.district||"").concat(t.detail||""):null},p=function(e,t){var n=Math.trunc(e),a=String(Math.abs(r.a.minus(e,n))).slice(1);t&&(a=2===a.length?a.padEnd(3,"0"):a.substring(0,3).padEnd(3,".00"));for(var i=[],o=0,s=(n=Object.is(n,-0)?["-","0"]:n.toString().split("")).length-1;s>=0;s--)o++,i.unshift(n[s]),o%3||0===s||i.unshift(",");return i.join("")+a},h=function(e,t){if("number"!==typeof e)return null;var n=p(e.toFixed(2),!0);switch(t){case"number-with-commas":return""+p(e);case"percent":return"".concat(100*e,"%");case"yuan":return"\uffe5".concat(n);case"dollar":return"$".concat(n);case"euro":return"\u20ac".concat(n);default:return""+e}},f=function(e,t){return e.find((function(e){return e.id===t}))},m=function(e,t){if(t){var n=e&&e.find((function(e){return e.id===t}));return n?n.name:null}return null},g=function(e,t){if(t){var n=[];return t.forEach((function(t){var a=m(e,t);a&&n.push(a)})),0===n.length?null:n.join(",")}return null},v=function(e,t){return e.find((function(e){return e.email===t}))},y=function(e,t){if(t){var n=[];return t.forEach((function(t){var a=e.find((function(e){return e.email===t}));a&&n.push(a.name)})),0===n.length?null:n.join(",")}return null},_=function(e,t){if(!e)return null;var n=o()(e);switch(t){case"day":return n.format("YYYY-MM-DD");case"week":return n.startOf("week").format("YYYY-MM-DD");case"month":return n.format("YYYY-MM");case"quartar":return"".concat(n.year(),"-Q").concat(n.quarter());case"year":return"".concat(n.year());default:return null}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Array.isArray(t)?t.filter((function(t){return e.findIndex((function(e){return e.id===t}))>-1})):[]},w=function(e){var t=window.app.state.collaborators;return Array.isArray(e)?e.filter((function(e){return t.findIndex((function(t){return t.email===e}))>-1})):[]},E=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return[];var n=[];return e.forEach((function(e){var a=t.find((function(t){return t.email===e}));a&&n.push(a.name)})),n},T=function(e){return(e||{}).text||null},x=function(e,t,n){var a=n.collaborators,r=n.options;switch(e){case l.CellType.SINGLE_SELECT:case l.CellType.MULTIPLE_SELECT:return m(r,t);case l.CellType.COLLABORATOR:return y(a,[t]);default:return t}},C=function(e,t){if(!e)return"";var n=e.province,a=e.city,r=e.district;switch(t){case l.GROUP_GEOLOCATION_GRANULARITY.CITY:return a;case l.GROUP_GEOLOCATION_GRANULARITY.DISTRICT:return r;default:return n}},S=/.+\u7701|.+\u81ea\u6cbb\u533a|.+\u7279\u522b\u884c\u653f\u533a|\u5317\u4eac\u5e02|\u5929\u6d25\u5e02|\u4e0a\u6d77\u5e02|\u91cd\u5e86\u5e02|\u5b89\u5fbd|\u798f\u5efa|\u7518\u8083|\u5e7f\u4e1c|\u5e7f\u897f|\u8d35\u5dde|\u6d77\u5357|\u6cb3\u5317|\u6cb3\u5357|\u9ed1\u9f99\u6c5f|\u6e56\u5317|\u6e56\u5357|\u5409\u6797|\u6c5f\u82cf|\u6c5f\u897f|\u8fbd\u5b81|\u5185\u8499\u53e4|\u5b81\u590f|\u9752\u6d77|\u5c71\u4e1c|\u5c71\u897f|\u9655\u897f|\u56db\u5ddd|\u897f\u85cf|\u65b0\u7586|\u4e91\u5357|\u6d59\u6c5f|\u5317\u4eac|\u4e0a\u6d77|\u5929\u6d25|\u91cd\u5e86/,k=/.+\u81ea\u6cbb\u5dde|[^\u5e02]+\u5e02|.+\u76df|.+\u5730\u533a|.+\u533a\u5212/,O=/(.+\u5e02|.+\u53bf|.+\u65d7|.+\u533a)/,M=function(e){var t=e||"";if(t.length<3)return{};var n=t.match(S),a="",r="",i="";n&&(a=n[0],t=t.slice(n.index+a.length));var o=t.match(k);o?(r=o[0],t=t.slice(o.index+r.length)):(a.includes("\u5317\u4eac")||a.includes("\u5929\u6d25")||a.includes("\u91cd\u5e86")||a.includes("\u4e0a\u6d77"))&&(r=a);var s=t.match(O);return s&&(i=s[0],t=t.slice(s.index+i.length)),{province:a,city:r,district:i,detail:t}}},function(e,t,n){"use strict";function a(e,t){return void 0===t&&(t=12),+parseFloat(e.toPrecision(t))}function r(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function i(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=r(e);return t>0?a(e*Math.pow(10,t)):e}function o(e){p&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function s(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(n.length>0)return s.apply(void 0,[s(e,t),n[0]].concat(n.slice(1)));var l=i(e),c=i(t),u=r(e)+r(t),d=l*c;return o(d),d/Math.pow(10,u)}function l(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(n.length>0)return l.apply(void 0,[l(e,t),n[0]].concat(n.slice(1)));var i=Math.pow(10,Math.max(r(e),r(t)));return(s(e,i)+s(t,i))/i}function c(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];if(n.length>0)return c.apply(void 0,[c(e,t),n[0]].concat(n.slice(1)));var i=Math.pow(10,Math.max(r(e),r(t)));return(s(e,i)-s(t,i))/i}function u(e,t){for(var n=[],l=2;l<arguments.length;l++)n[l-2]=arguments[l];if(n.length>0)return u.apply(void 0,[u(e,t),n[0]].concat(n.slice(1)));var c=i(e),d=i(t);return o(c),o(d),s(c/d,a(Math.pow(10,r(t)-r(e))))}function d(e,t){var n=Math.pow(10,t);return u(Math.round(s(e,n)),n)}Object.defineProperty(t,"__esModule",{value:!0});var p=!0;function h(e){void 0===e&&(e=!0),p=e}var f={strip:a,plus:l,minus:c,times:s,divide:u,round:d,digitLength:r,float2Fixed:i,enableBoundaryChecking:h};t.strip=a,t.plus=l,t.minus=c,t.times=s,t.divide=u,t.round=d,t.digitLength=r,t.float2Fixed=i,t.enableBoundaryChecking=h,t.default=f},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,a;function r(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,a){return Nt(e,t,n,a,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=a.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=h(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}a=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var v=r.momentProperties=[];function y(e,t){var n,a,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=f(t)),s(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)s(r=t[a=v[n]])||(e[a]=r);return e}var _=!1;function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function E(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function T(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=E(t)),n}function x(e,t,n){var a,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&T(e[a])!==T(t[a]))&&o++;return o+i}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var a,i=[],o=0;o<arguments.length;o++){if(a="","object"===typeof arguments[o]){for(var s in a+="\n["+o+"] ",arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[o];i.push(a)}C(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,O={};function M(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),O[e]||(C(t),O[e]=!0)}function L(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,a=p({},e);for(n in t)d(t,n)&&(o(e[n])&&o(t[n])?(a[n]={},p(a[n],e[n]),p(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)d(e,n)&&!d(t,n)&&o(e[n])&&(a[n]=p({},a[n]));return a}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var N={};function I(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function A(e){return"string"===typeof e?N[e]||N[e.toLowerCase()]:void 0}function P(e){var t,n,a={};for(n in e)d(e,n)&&(t=A(n))&&(a[t]=e[n]);return a}var Y={};function F(e,t){Y[e]=t}function j(e,t,n){var a=""+Math.abs(e),r=t-a.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},V={};function G(e,t,n,a){var r=a;"string"===typeof a&&(r=function(){return this[a]()}),e&&(V[e]=r),t&&(V[t[0]]=function(){return j(r.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=z(t,e.localeData()),B[t]=B[t]||function(e){var t,n,a,r=e.match(U);for(t=0,n=r.length;t<n;t++)V[r[t]]?r[t]=V[r[t]]:r[t]=(a=r[t]).match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"");return function(t){var a,i="";for(a=0;a<n;a++)i+=L(r[a])?r[a].call(t,e):r[a];return i}}(t),B[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function a(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,a),H.lastIndex=0,n-=1;return e}var q=/\d/,K=/\d\d/,X=/\d{3}/,J=/\d{4}/,Z=/[+-]?\d{6}/,$=/\d\d?/,Q=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,ae=/[+-]?\d{1,6}/,re=/\d+/,ie=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function ue(e,t,n){ce[e]=L(t)?t:function(e,a){return e&&n?n:t}}function de(e,t){return d(ce,e)?ce[e](t._strict,t._locale):new RegExp(function(e){return pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,a,r){return t||n||a||r})))}(e))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function fe(e,t){var n,a=t;for("string"===typeof e&&(e=[e]),l(t)&&(a=function(e,n){n[t]=T(e)}),n=0;n<e.length;n++)he[e[n]]=a}function me(e,t){fe(e,(function(e,n,a,r){a._w=a._w||{},t(e,a._w,a,r)}))}function ge(e,t,n){null!=t&&d(he,e)&&he[e](t,n._a,n,e)}var ve=0,ye=1,_e=2,be=3,we=4,Ee=5,Te=6,xe=7,Ce=8;function Se(e){return ke(e)?366:365}function ke(e){return e%4===0&&e%100!==0||e%400===0}G("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),G(0,["YY",2],0,(function(){return this.year()%100})),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),I("year","y"),F("year",1),ue("Y",ie),ue("YY",$,K),ue("YYYY",ne,J),ue("YYYYY",ae,Z),ue("YYYYYY",ae,Z),fe(["YYYYY","YYYYYY"],ve),fe("YYYY",(function(e,t){t[ve]=2===e.length?r.parseTwoDigitYear(e):T(e)})),fe("YY",(function(e,t){t[ve]=r.parseTwoDigitYear(e)})),fe("Y",(function(e,t){t[ve]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return T(e)+(T(e)>68?1900:2e3)};var Oe,Me=Le("FullYear",!0);function Le(e,t){return function(n){return null!=n?(Re(this,e,n),r.updateOffset(this,t),this):De(this,e)}}function De(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Re(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ke(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ne(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ne(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?ke(e)?29:28:31-n%7%2}Oe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},G("M",["MM",2],"Mo",(function(){return this.month()+1})),G("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),G("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),I("month","M"),F("month",8),ue("M",$),ue("MM",$,K),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),fe(["M","MM"],(function(e,t){t[ye]=T(e)-1})),fe(["MMM","MMMM"],(function(e,t,n,a){var r=n._locale.monthsParse(e,a,n._strict);null!=r?t[ye]=r:f(n).invalidMonth=e}));var Ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ye(e,t,n){var a,r,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)i=h([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Oe.call(this._shortMonthsParse,o))?r:null:-1!==(r=Oe.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Oe.call(this._shortMonthsParse,o))?r:-1!==(r=Oe.call(this._longMonthsParse,o))?r:null:-1!==(r=Oe.call(this._longMonthsParse,o))?r:-1!==(r=Oe.call(this._shortMonthsParse,o))?r:null}function Fe(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=T(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function je(e){return null!=e?(Fe(this,e),r.updateOffset(this,!0),this):De(this,"Month")}var Ue=le,He=le;function Be(){function e(e,t){return t.length-e.length}var t,n,a=[],r=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),a.push(this.monthsShort(n,"")),r.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(a.sort(e),r.sort(e),i.sort(e),t=0;t<12;t++)a[t]=pe(a[t]),r[t]=pe(r[t]);for(t=0;t<24;t++)i[t]=pe(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ve(e,t,n,a,r,i,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,a,r,i,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,a,r,i,o),s}function Ge(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function We(e,t,n){var a=7+t-n;return-(7+Ge(e,0,a).getUTCDay()-t)%7+a-1}function ze(e,t,n,a,r){var i,o,s=1+7*(t-1)+(7+n-a)%7+We(e,a,r);return s<=0?o=Se(i=e-1)+s:s>Se(e)?(i=e+1,o=s-Se(e)):(i=e,o=s),{year:i,dayOfYear:o}}function qe(e,t,n){var a,r,i=We(e.year(),t,n),o=Math.floor((e.dayOfYear()-i-1)/7)+1;return o<1?a=o+Ke(r=e.year()-1,t,n):o>Ke(e.year(),t,n)?(a=o-Ke(e.year(),t,n),r=e.year()+1):(r=e.year(),a=o),{week:a,year:r}}function Ke(e,t,n){var a=We(e,t,n),r=We(e+1,t,n);return(Se(e)-a+r)/7}function Xe(e,t){return e.slice(t,7).concat(e.slice(0,t))}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",$),ue("ww",$,K),ue("W",$),ue("WW",$,K),me(["w","ww","W","WW"],(function(e,t,n,a){t[a.substr(0,1)]=T(e)})),G("d",0,"do","day"),G("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),G("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),G("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",$),ue("e",$),ue("E",$),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,n,a){var r=n._locale.weekdaysParse(e,a,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e})),me(["d","e","E"],(function(e,t,n,a){t[a]=T(e)}));var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Qe(e,t,n){var a,r,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)i=h([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Oe.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Oe.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Oe.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Oe.call(this._weekdaysParse,o))?r:-1!==(r=Oe.call(this._shortWeekdaysParse,o))?r:-1!==(r=Oe.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Oe.call(this._shortWeekdaysParse,o))?r:-1!==(r=Oe.call(this._weekdaysParse,o))?r:-1!==(r=Oe.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Oe.call(this._minWeekdaysParse,o))?r:-1!==(r=Oe.call(this._weekdaysParse,o))?r:-1!==(r=Oe.call(this._shortWeekdaysParse,o))?r:null}var et=le,tt=le,nt=le;function at(){function e(e,t){return t.length-e.length}var t,n,a,r,i,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),a=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),i=this.weekdays(n,""),o.push(a),s.push(r),l.push(i),c.push(a),c.push(r),c.push(i);for(o.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=pe(s[t]),l[t]=pe(l[t]),c[t]=pe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function rt(){return this.hours()%12||12}function it(e,t){G(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ot(e,t){return t._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,rt),G("k",["kk",2],0,(function(){return this.hours()||24})),G("hmm",0,0,(function(){return""+rt.apply(this)+j(this.minutes(),2)})),G("hmmss",0,0,(function(){return""+rt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),G("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),G("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),it("a",!0),it("A",!1),I("hour","h"),F("hour",13),ue("a",ot),ue("A",ot),ue("H",$),ue("h",$),ue("k",$),ue("HH",$,K),ue("hh",$,K),ue("kk",$,K),ue("hmm",Q),ue("hmmss",ee),ue("Hmm",Q),ue("Hmmss",ee),fe(["H","HH"],be),fe(["k","kk"],(function(e,t,n){var a=T(e);t[be]=24===a?0:a})),fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),fe(["h","hh"],(function(e,t,n){t[be]=T(e),f(n).bigHour=!0})),fe("hmm",(function(e,t,n){var a=e.length-2;t[be]=T(e.substr(0,a)),t[we]=T(e.substr(a)),f(n).bigHour=!0})),fe("hmmss",(function(e,t,n){var a=e.length-4,r=e.length-2;t[be]=T(e.substr(0,a)),t[we]=T(e.substr(a,2)),t[Ee]=T(e.substr(r)),f(n).bigHour=!0})),fe("Hmm",(function(e,t,n){var a=e.length-2;t[be]=T(e.substr(0,a)),t[we]=T(e.substr(a))})),fe("Hmmss",(function(e,t,n){var a=e.length-4,r=e.length-2;t[be]=T(e.substr(0,a)),t[we]=T(e.substr(a,2)),t[Ee]=T(e.substr(r))}));var st,lt=Le("Hours",!0),ct={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Pe,week:{dow:0,doy:6},weekdays:Je,weekdaysMin:$e,weekdaysShort:Ze,meridiemParse:/[ap]\.?m?\.?/i},ut={},dt={};function pt(e){return e?e.toLowerCase().replace("_","-"):e}function ht(t){var a=null;if(!ut[t]&&"undefined"!==typeof e&&e&&e.exports)try{a=st._abbr,n(25)("./"+t),ft(a)}catch(v){}return ut[t]}function ft(e,t){var n;return e&&((n=s(t)?gt(e):mt(e,t))?st=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),st._abbr}function mt(e,t){if(null!==t){var n,a=ct;if(t.abbr=e,null!=ut[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ut[e]._config;else if(null!=t.parentLocale)if(null!=ut[t.parentLocale])a=ut[t.parentLocale]._config;else{if(null==(n=ht(t.parentLocale)))return dt[t.parentLocale]||(dt[t.parentLocale]=[]),dt[t.parentLocale].push({name:e,config:t}),null;a=n._config}return ut[e]=new R(D(a,t)),dt[e]&&dt[e].forEach((function(e){mt(e.name,e.config)})),ft(e),ut[e]}return delete ut[e],null}function gt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return st;if(!i(e)){if(t=ht(e))return t;e=[e]}return function(e){for(var t,n,a,r,i=0;i<e.length;){for(t=(r=pt(e[i]).split("-")).length,n=(n=pt(e[i+1]))?n.split("-"):null;t>0;){if(a=ht(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&x(r,n,!0)>=t-1)break;t--}i++}return st}(e)}function vt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[_e]<1||n[_e]>Ne(n[ve],n[ye])?_e:n[be]<0||n[be]>24||24===n[be]&&(0!==n[we]||0!==n[Ee]||0!==n[Te])?be:n[we]<0||n[we]>59?we:n[Ee]<0||n[Ee]>59?Ee:n[Te]<0||n[Te]>999?Te:-1,f(e)._overflowDayOfYear&&(t<ve||t>_e)&&(t=_e),f(e)._overflowWeeks&&-1===t&&(t=xe),f(e)._overflowWeekday&&-1===t&&(t=Ce),f(e).overflow=t),e}function yt(e,t,n){return null!=e?e:null!=t?t:n}function _t(e){var t,n,a,i,o,s=[];if(!e._d){for(a=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[_e]&&null==e._a[ye]&&function(e){var t,n,a,r,i,o,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,o=4,n=yt(t.GG,e._a[ve],qe(It(),1,4).year),a=yt(t.W,1),((r=yt(t.E,1))<1||r>7)&&(l=!0);else{i=e._locale._week.dow,o=e._locale._week.doy;var c=qe(It(),i,o);n=yt(t.gg,e._a[ve],c.year),a=yt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+i,(t.e<0||t.e>6)&&(l=!0)):r=i}a<1||a>Ke(n,i,o)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=ze(n,a,r,i,o),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=yt(e._a[ve],a[ve]),(e._dayOfYear>Se(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Ge(o,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[_e]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[we]&&0===e._a[Ee]&&0===e._a[Te]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?Ge:Ve).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}var bt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Et=/Z|[+-]\d\d(?::?\d\d)?/,Tt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],xt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ct=/^\/?Date\((\-?\d+)/i;function St(e){var t,n,a,r,i,o,s=e._i,l=bt.exec(s)||wt.exec(s);if(l){for(f(e).iso=!0,t=0,n=Tt.length;t<n;t++)if(Tt[t][1].exec(l[1])){r=Tt[t][0],a=!1!==Tt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=xt.length;t<n;t++)if(xt[t][1].exec(l[3])){i=(l[2]||" ")+xt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!a&&null!=i)return void(e._isValid=!1);if(l[4]){if(!Et.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(i||"")+(o||""),Dt(e)}else e._isValid=!1}var kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ot(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Lt(e){var t=kt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=function(e,t,n,a,r,i){var o=[Ot(e),Pe.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Ze.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return Mt[e];if(t)return 0;var a=parseInt(n,10),r=a%100;return(a-r)/100*60+r}(t[8],t[9],t[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Dt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,n,a,i,o,s=""+e._i,l=s.length,c=0;for(a=z(e._f,e._locale).match(U)||[],t=0;t<a.length;t++)i=a[t],(n=(s.match(de(i,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&f(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),c+=n.length),V[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),ge(i,n,e)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=l-c,s.length>0&&f(e).unusedInput.push(s),e._a[be]<=12&&!0===f(e).bigHour&&e._a[be]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[be]=function(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((a=e.isPM(n))&&t<12&&(t+=12),a||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),_t(e),vt(e)}else Lt(e);else St(e)}function Rt(e){var t=e._i,n=e._f;return e._locale=e._locale||gt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(vt(t)):(c(t)?e._d=t:i(n)?function(e){var t,n,a,r,i;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)i=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Dt(t),m(t)&&(i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,(null==a||i<a)&&(a=i,n=t));p(e,n||t)}(e):n?Dt(e):function(e){var t=e._i;s(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"===typeof t?function(e){var t=Ct.exec(e._i);null===t?(St(e),!1===e._isValid&&(delete e._isValid,Lt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),_t(e)):o(t)?function(e){if(!e._d){var t=P(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),_t(e)}}(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Nt(e,t,n,a,r){var s={};return!0!==n&&!1!==n||(a=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=a,function(e){var t=new b(vt(Rt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function It(e,t,n,a){return Nt(e,t,n,a,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var At=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Pt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Yt(e,t){var n,a;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return It();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}var Ft=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jt(e){var t=P(e),n=t.year||0,a=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Oe.call(Ft,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,a=0;a<Ft.length;++a)if(e[Ft[a]]){if(n)return!1;parseFloat(e[Ft[a]])!==T(e[Ft[a]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*i,this._months=+r+3*a+12*n,this._data={},this._locale=gt(),this._bubble()}function Ut(e){return e instanceof jt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bt(e,t){G(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}Bt("Z",":"),Bt("ZZ",""),ue("Z",se),ue("ZZ",se),fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Gt(se,e)}));var Vt=/([\+\-]|\d\d)/gi;function Gt(e,t){var n=(t||"").match(e);if(null===n)return null;var a=((n[n.length-1]||[])+"").match(Vt)||["-",0,0],r=60*a[1]+T(a[2]);return 0===r?0:"+"===a[0]?r:-r}function Wt(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(w(e)||c(e)?e.valueOf():It(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):It(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Kt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Xt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Jt(e,t){var n,a,r,i=e,o=null;return Ut(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(i={},t?i[t]=e:i.milliseconds=e):(o=Kt.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:T(o[_e])*n,h:T(o[be])*n,m:T(o[we])*n,s:T(o[Ee])*n,ms:T(Ht(1e3*o[Te]))*n}):(o=Xt.exec(e))?(n="-"===o[1]?-1:1,i={y:Zt(o[2],n),M:Zt(o[3],n),w:Zt(o[4],n),d:Zt(o[5],n),h:Zt(o[6],n),m:Zt(o[7],n),s:Zt(o[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Wt(t,e),e.isBefore(t)?n=$t(e,t):((n=$t(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(It(i.from),It(i.to)),(i={}).ms=r.milliseconds,i.M=r.months),a=new jt(i),Ut(e)&&d(e,"_locale")&&(a._locale=e._locale),a}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(e,t){return function(n,a){var r;return null===a||isNaN(+a)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=a,a=r),en(this,Jt(n="string"===typeof n?+n:n,a),e),this}}function en(e,t,n,a){var i=t._milliseconds,o=Ht(t._days),s=Ht(t._months);e.isValid()&&(a=null==a||a,s&&Fe(e,De(e,"Month")+s*n),o&&Re(e,"Date",De(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),a&&r.updateOffset(e,o||s))}Jt.fn=jt.prototype,Jt.invalid=function(){return Jt(NaN)};var tn=Qt(1,"add"),nn=Qt(-1,"subtract");function an(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(n,"months");return-(n+(t-a<0?(t-a)/(a-e.clone().add(n-1,"months")):(t-a)/(e.clone().add(n+1,"months")-a)))||0}function rn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gt(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var on=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function sn(){return this._locale}var ln=126227808e5;function cn(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ln:new Date(e,t,n).valueOf()}function dn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ln:Date.UTC(e,t,n)}function pn(e,t){G(0,[e,e.length],0,t)}function hn(e,t,n,a,r){var i;return null==e?qe(this,a,r).year:(t>(i=Ke(e,a,r))&&(t=i),fn.call(this,e,t,n,a,r))}function fn(e,t,n,a,r){var i=ze(e,t,n,a,r),o=Ge(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}G(0,["gg",2],0,(function(){return this.weekYear()%100})),G(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),pn("gggg","weekYear"),pn("ggggg","weekYear"),pn("GGGG","isoWeekYear"),pn("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",ie),ue("g",ie),ue("GG",$,K),ue("gg",$,K),ue("GGGG",ne,J),ue("gggg",ne,J),ue("GGGGG",ae,Z),ue("ggggg",ae,Z),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,a){t[a.substr(0,2)]=T(e)})),me(["gg","GG"],(function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)})),G("Q",0,"Qo","quarter"),I("quarter","Q"),F("quarter",7),ue("Q",q),fe("Q",(function(e,t){t[ye]=3*(T(e)-1)})),G("D",["DD",2],"Do","date"),I("date","D"),F("date",9),ue("D",$),ue("DD",$,K),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fe(["D","DD"],_e),fe("Do",(function(e,t){t[_e]=T(e.match($)[0])}));var mn=Le("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",te),ue("DDDD",X),fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=T(e)})),G("m",["mm",2],0,"minute"),I("minute","m"),F("minute",14),ue("m",$),ue("mm",$,K),fe(["m","mm"],we);var gn=Le("Minutes",!1);G("s",["ss",2],0,"second"),I("second","s"),F("second",15),ue("s",$),ue("ss",$,K),fe(["s","ss"],Ee);var vn,yn=Le("Seconds",!1);for(G("S",0,0,(function(){return~~(this.millisecond()/100)})),G(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),G(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),G(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),G(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),G(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),G(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),I("millisecond","ms"),F("millisecond",16),ue("S",te,q),ue("SS",te,K),ue("SSS",te,X),vn="SSSS";vn.length<=9;vn+="S")ue(vn,re);function _n(e,t){t[Te]=T(1e3*("0."+e))}for(vn="S";vn.length<=9;vn+="S")fe(vn,_n);var bn=Le("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var wn=b.prototype;function En(e){return e}wn.add=tn,wn.calendar=function(e,t){var n=e||It(),a=Wt(n,this).startOf("day"),i=r.calendarFormat(this,a)||"sameElse",o=t&&(L(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,It(n)))},wn.clone=function(){return new b(this)},wn.diff=function(e,t,n){var a,r,i;if(!this.isValid())return NaN;if(!(a=Wt(e,this)).isValid())return NaN;switch(r=6e4*(a.utcOffset()-this.utcOffset()),t=A(t)){case"year":i=an(this,a)/12;break;case"month":i=an(this,a);break;case"quarter":i=an(this,a)/3;break;case"second":i=(this-a)/1e3;break;case"minute":i=(this-a)/6e4;break;case"hour":i=(this-a)/36e5;break;case"day":i=(this-a-r)/864e5;break;case"week":i=(this-a-r)/6048e5;break;default:i=this-a}return n?i:E(i)},wn.endOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:un;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-cn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-cn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-cn(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},wn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},wn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||It(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.fromNow=function(e){return this.from(It(),e)},wn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||It(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.toNow=function(e){return this.to(It(),e)},wn.get=function(e){return L(this[e=A(e)])?this[e]():this},wn.invalidAt=function(){return f(this).overflow},wn.isAfter=function(e,t){var n=w(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},wn.isBefore=function(e,t){var n=w(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},wn.isBetween=function(e,t,n,a){var r=w(e)?e:It(e),i=w(t)?t:It(t);return!!(this.isValid()&&r.isValid()&&i.isValid())&&("("===(a=a||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===a[1]?this.isBefore(i,n):!this.isAfter(i,n))},wn.isSame=function(e,t){var n,a=w(e)?e:It(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},wn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wn.isValid=function(){return m(this)},wn.lang=on,wn.locale=rn,wn.localeData=sn,wn.max=Pt,wn.min=At,wn.parsingFlags=function(){return p({},f(this))},wn.set=function(e,t){if("object"===typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:Y[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=P(e)),a=0;a<n.length;a++)this[n[a].unit](e[n[a].unit]);else if(L(this[e=A(e)]))return this[e](t);return this},wn.startOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:un;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=cn(t,6e4);break;case"second":t=this._d.valueOf(),t-=cn(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},wn.subtract=nn,wn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+a+"-MM-DD[T]HH:mm:ss.SSS"+r)},wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.year=Me,wn.isLeapYear=function(){return ke(this.year())},wn.weekYear=function(e){return hn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(e){return hn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wn.month=je,wn.daysInMonth=function(){return Ne(this.year(),this.month())},wn.week=wn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wn.isoWeek=wn.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wn.weeksInYear=function(){var e=this.localeData()._week;return Ke(this.year(),e.dow,e.doy)},wn.isoWeeksInYear=function(){return Ke(this.year(),1,4)},wn.date=mn,wn.day=wn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wn.hour=wn.hours=lt,wn.minute=wn.minutes=gn,wn.second=wn.seconds=yn,wn.millisecond=wn.milliseconds=bn,wn.utcOffset=function(e,t,n){var a,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Gt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=zt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==e&&(!t||this._changeInProgress?en(this,Jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:zt(this)},wn.utc=function(e){return this.utcOffset(0,e)},wn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},wn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Gt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60===0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=qt,wn.isUTC=qt,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=S("dates accessor is deprecated. Use date instead.",mn),wn.months=S("months accessor is deprecated. Use month instead",je),wn.years=S("years accessor is deprecated. Use year instead",Me),wn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),wn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Rt(e))._a){var t=e._isUTC?h(e._a):It(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Tn=R.prototype;function xn(e,t,n,a){var r=gt(),i=h().set(a,t);return r[n](i,e)}function Cn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return xn(e,t,n,"month");var a,r=[];for(a=0;a<12;a++)r[a]=xn(e,a,n,"month");return r}function Sn(e,t,n,a){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r,i=gt(),o=e?i._week.dow:0;if(null!=n)return xn(t,(n+o)%7,a,"day");var s=[];for(r=0;r<7;r++)s[r]=xn(t,(r+o)%7,a,"day");return s}Tn.calendar=function(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return L(a)?a.call(t,n):a},Tn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Tn.invalidDate=function(){return this._invalidDate},Tn.ordinal=function(e){return this._ordinal.replace("%d",e)},Tn.preparse=En,Tn.postformat=En,Tn.relativeTime=function(e,t,n,a){var r=this._relativeTime[n];return L(r)?r(e,t,n,a):r.replace(/%d/i,e)},Tn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)},Tn.set=function(e){var t,n;for(n in e)L(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Tn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ie).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},Tn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ie.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Tn.monthsParse=function(e,t,n){var a,r,i;if(this._monthsParseExact)return Ye.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=h([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}},Tn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Be.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Tn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Be.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Tn.week=function(e){return qe(e,this._week.dow,this._week.doy).week},Tn.firstDayOfYear=function(){return this._week.doy},Tn.firstDayOfWeek=function(){return this._week.dow},Tn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Xe(n,this._week.dow):e?n[e.day()]:n},Tn.weekdaysMin=function(e){return!0===e?Xe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Tn.weekdaysShort=function(e){return!0===e?Xe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Tn.weekdaysParse=function(e,t,n){var a,r,i;if(this._weekdaysParseExact)return Qe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=h([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}},Tn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||at.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Tn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||at.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Tn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||at.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Tn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Tn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ft("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",ft),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",gt);var kn=Math.abs;function On(e,t,n,a){var r=Jt(t,n);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function Mn(e){return e<0?Math.floor(e):Math.ceil(e)}function Ln(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function Rn(e){return function(){return this.as(e)}}var Nn=Rn("ms"),In=Rn("s"),An=Rn("m"),Pn=Rn("h"),Yn=Rn("d"),Fn=Rn("w"),jn=Rn("M"),Un=Rn("Q"),Hn=Rn("y");function Bn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vn=Bn("milliseconds"),Gn=Bn("seconds"),Wn=Bn("minutes"),zn=Bn("hours"),qn=Bn("days"),Kn=Bn("months"),Xn=Bn("years"),Jn=Math.round,Zn={ss:44,s:45,m:45,h:22,d:26,M:11};function $n(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}var Qn=Math.abs;function ea(e){return(e>0)-(e<0)||+e}function ta(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Qn(this._milliseconds)/1e3,a=Qn(this._days),r=Qn(this._months);e=E(n/60),t=E(e/60),n%=60,e%=60;var i=E(r/12),o=r%=12,s=a,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",h=ea(this._months)!==ea(d)?"-":"",f=ea(this._days)!==ea(d)?"-":"",m=ea(this._milliseconds)!==ea(d)?"-":"";return p+"P"+(i?h+i+"Y":"")+(o?h+o+"M":"")+(s?f+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var na=jt.prototype;return na.isValid=function(){return this._isValid},na.abs=function(){var e=this._data;return this._milliseconds=kn(this._milliseconds),this._days=kn(this._days),this._months=kn(this._months),e.milliseconds=kn(e.milliseconds),e.seconds=kn(e.seconds),e.minutes=kn(e.minutes),e.hours=kn(e.hours),e.months=kn(e.months),e.years=kn(e.years),this},na.add=function(e,t){return On(this,e,t,1)},na.subtract=function(e,t){return On(this,e,t,-1)},na.as=function(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if("month"===(e=A(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,n=this._months+Ln(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}},na.asMilliseconds=Nn,na.asSeconds=In,na.asMinutes=An,na.asHours=Pn,na.asDays=Yn,na.asWeeks=Fn,na.asMonths=jn,na.asQuarters=Un,na.asYears=Hn,na.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},na._bubble=function(){var e,t,n,a,r,i=this._milliseconds,o=this._days,s=this._months,l=this._data;return i>=0&&o>=0&&s>=0||i<=0&&o<=0&&s<=0||(i+=864e5*Mn(Dn(s)+o),o=0,s=0),l.milliseconds=i%1e3,e=E(i/1e3),l.seconds=e%60,t=E(e/60),l.minutes=t%60,n=E(t/60),l.hours=n%24,o+=E(n/24),s+=r=E(Ln(o)),o-=Mn(Dn(r)),a=E(s/12),s%=12,l.days=o,l.months=s,l.years=a,this},na.clone=function(){return Jt(this)},na.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},na.milliseconds=Vn,na.seconds=Gn,na.minutes=Wn,na.hours=zn,na.days=qn,na.weeks=function(){return E(this.days()/7)},na.months=Kn,na.years=Xn,na.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var a=Jt(e).abs(),r=Jn(a.as("s")),i=Jn(a.as("m")),o=Jn(a.as("h")),s=Jn(a.as("d")),l=Jn(a.as("M")),c=Jn(a.as("y")),u=r<=Zn.ss&&["s",r]||r<Zn.s&&["ss",r]||i<=1&&["m"]||i<Zn.m&&["mm",i]||o<=1&&["h"]||o<Zn.h&&["hh",o]||s<=1&&["d"]||s<Zn.d&&["dd",s]||l<=1&&["M"]||l<Zn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,$n.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},na.toISOString=ta,na.toString=ta,na.toJSON=ta,na.locale=rn,na.localeData=sn,na.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ta),na.lang=on,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ue("x",ie),ue("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),fe("x",(function(e,t,n){n._d=new Date(T(e))})),r.version="2.24.0",function(e){t=e}(It),r.fn=wn,r.min=function(){return Yt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Yt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=h,r.unix=function(e){return It(1e3*e)},r.months=function(e,t){return Cn(e,t,"months")},r.isDate=c,r.locale=ft,r.invalid=g,r.duration=Jt,r.isMoment=w,r.weekdays=function(e,t,n){return Sn(e,t,n,"weekdays")},r.parseZone=function(){return It.apply(null,arguments).parseZone()},r.localeData=gt,r.isDuration=Ut,r.monthsShort=function(e,t){return Cn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return Sn(e,t,n,"weekdaysMin")},r.defineLocale=mt,r.updateLocale=function(e,t){if(null!=t){var n,a,r=ct;null!=(a=ht(e))&&(r=a._config),(n=new R(t=D(r,t))).parentLocale=ut[e],ut[e]=n,ft(e)}else null!=ut[e]&&(null!=ut[e].parentLocale?ut[e]=ut[e].parentLocale:null!=ut[e]&&delete ut[e]);return ut[e]},r.locales=function(){return k(ut)},r.weekdaysShort=function(e,t,n){return Sn(e,t,n,"weekdaysShort")},r.normalizeUnits=A,r.relativeTimeRounding=function(e){return void 0===e?Jn:"function"===typeof e&&(Jn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Zn[e]&&(void 0===t?Zn[e]:(Zn[e]=t,"s"===e&&(Zn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=wn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(24)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var a={"./af":26,"./af.js":26,"./ar":27,"./ar-dz":28,"./ar-dz.js":28,"./ar-kw":29,"./ar-kw.js":29,"./ar-ly":30,"./ar-ly.js":30,"./ar-ma":31,"./ar-ma.js":31,"./ar-sa":32,"./ar-sa.js":32,"./ar-tn":33,"./ar-tn.js":33,"./ar.js":27,"./az":34,"./az.js":34,"./be":35,"./be.js":35,"./bg":36,"./bg.js":36,"./bm":37,"./bm.js":37,"./bn":38,"./bn.js":38,"./bo":39,"./bo.js":39,"./br":40,"./br.js":40,"./bs":41,"./bs.js":41,"./ca":42,"./ca.js":42,"./cs":43,"./cs.js":43,"./cv":44,"./cv.js":44,"./cy":45,"./cy.js":45,"./da":46,"./da.js":46,"./de":47,"./de-at":48,"./de-at.js":48,"./de-ch":49,"./de-ch.js":49,"./de.js":47,"./dv":50,"./dv.js":50,"./el":51,"./el.js":51,"./en-SG":52,"./en-SG.js":52,"./en-au":53,"./en-au.js":53,"./en-ca":54,"./en-ca.js":54,"./en-gb":55,"./en-gb.js":55,"./en-ie":56,"./en-ie.js":56,"./en-il":57,"./en-il.js":57,"./en-nz":58,"./en-nz.js":58,"./eo":59,"./eo.js":59,"./es":60,"./es-do":61,"./es-do.js":61,"./es-us":62,"./es-us.js":62,"./es.js":60,"./et":63,"./et.js":63,"./eu":64,"./eu.js":64,"./fa":65,"./fa.js":65,"./fi":66,"./fi.js":66,"./fo":67,"./fo.js":67,"./fr":68,"./fr-ca":69,"./fr-ca.js":69,"./fr-ch":70,"./fr-ch.js":70,"./fr.js":68,"./fy":71,"./fy.js":71,"./ga":72,"./ga.js":72,"./gd":73,"./gd.js":73,"./gl":74,"./gl.js":74,"./gom-latn":75,"./gom-latn.js":75,"./gu":76,"./gu.js":76,"./he":77,"./he.js":77,"./hi":78,"./hi.js":78,"./hr":79,"./hr.js":79,"./hu":80,"./hu.js":80,"./hy-am":81,"./hy-am.js":81,"./id":82,"./id.js":82,"./is":83,"./is.js":83,"./it":84,"./it-ch":85,"./it-ch.js":85,"./it.js":84,"./ja":86,"./ja.js":86,"./jv":87,"./jv.js":87,"./ka":88,"./ka.js":88,"./kk":89,"./kk.js":89,"./km":90,"./km.js":90,"./kn":91,"./kn.js":91,"./ko":92,"./ko.js":92,"./ku":93,"./ku.js":93,"./ky":94,"./ky.js":94,"./lb":95,"./lb.js":95,"./lo":96,"./lo.js":96,"./lt":97,"./lt.js":97,"./lv":98,"./lv.js":98,"./me":99,"./me.js":99,"./mi":100,"./mi.js":100,"./mk":101,"./mk.js":101,"./ml":102,"./ml.js":102,"./mn":103,"./mn.js":103,"./mr":104,"./mr.js":104,"./ms":105,"./ms-my":106,"./ms-my.js":106,"./ms.js":105,"./mt":107,"./mt.js":107,"./my":108,"./my.js":108,"./nb":109,"./nb.js":109,"./ne":110,"./ne.js":110,"./nl":111,"./nl-be":112,"./nl-be.js":112,"./nl.js":111,"./nn":113,"./nn.js":113,"./pa-in":114,"./pa-in.js":114,"./pl":115,"./pl.js":115,"./pt":116,"./pt-br":117,"./pt-br.js":117,"./pt.js":116,"./ro":118,"./ro.js":118,"./ru":119,"./ru.js":119,"./sd":120,"./sd.js":120,"./se":121,"./se.js":121,"./si":122,"./si.js":122,"./sk":123,"./sk.js":123,"./sl":124,"./sl.js":124,"./sq":125,"./sq.js":125,"./sr":126,"./sr-cyrl":127,"./sr-cyrl.js":127,"./sr.js":126,"./ss":128,"./ss.js":128,"./sv":129,"./sv.js":129,"./sw":130,"./sw.js":130,"./ta":131,"./ta.js":131,"./te":132,"./te.js":132,"./tet":133,"./tet.js":133,"./tg":134,"./tg.js":134,"./th":135,"./th.js":135,"./tl-ph":136,"./tl-ph.js":136,"./tlh":137,"./tlh.js":137,"./tr":138,"./tr.js":138,"./tzl":139,"./tzl.js":139,"./tzm":140,"./tzm-latn":141,"./tzm-latn.js":141,"./tzm.js":140,"./ug-cn":142,"./ug-cn.js":142,"./uk":143,"./uk.js":143,"./ur":144,"./ur.js":144,"./uz":145,"./uz-latn":146,"./uz-latn.js":146,"./uz.js":145,"./vi":147,"./vi.js":147,"./x-pseudo":148,"./x-pseudo.js":148,"./yo":149,"./yo.js":149,"./zh-cn":150,"./zh-cn.js":150,"./zh-hk":151,"./zh-hk.js":151,"./zh-tw":152,"./zh-tw.js":152};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=25},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},a=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},i=function(e){return function(t,n,i,o){var s=a(t),l=r[e][a(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},o=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(e){return n[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u0623\u062d_\u0625\u062b_\u062b\u0644\u0627_\u0623\u0631_\u062e\u0645_\u062c\u0645_\u0633\u0628".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},a={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},r=function(e){return function(t,r,i,o){var s=n(t),l=a[e][n(t)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,t)}},i=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar-ly",{months:i,monthsShort:i,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};e.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(e){return n[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"birne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec\u0259":e<12?"s\u0259h\u0259r":e<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-\u0131nc\u0131";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===n?t?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+function(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:t?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:t?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[n],+e)}e.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:t,mm:t,h:t,hh:t,d:"\u0434\u0437\u0435\u043d\u044c",dd:t,M:"\u043c\u0435\u0441\u044f\u0446",MM:t,y:"\u0433\u043e\u0434",yy:t},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"\u043d\u043e\u0447\u044b":e<12?"\u0440\u0430\u043d\u0456\u0446\u044b":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u0412 \u0438\u0437\u043c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u043d\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-\u0435\u0432":0===n?e+"-\u0435\u043d":n>10&&n<20?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};e.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09c0_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2_\u0986\u0997_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u0983_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===t&&e>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===t&&e<5||"\u09ac\u09bf\u0995\u09be\u09b2"===t?e+12:e},meridiem:function(e,t,n){return e<4?"\u09b0\u09be\u09a4":e<10?"\u09b8\u0995\u09be\u09b2":e<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};e.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===t&&e>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===t&&e<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===t?e+12:e},meridiem:function(e,t,n){return e<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":e<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":e<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":e<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"a\xf1":"vet")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var a=e+" ";switch(n){case"ss":return a+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return a+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return a+(1===e?"dan":"dana");case"MM":return a+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return a+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),a=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],r=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function i(e){return e>1&&e<5&&1!==~~(e/10)}function o(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return t||a?r+(i(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":return t||a?r+(i(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?r+(i(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||a?"den":"dnem";case"dd":return t||a?r+(i(e)?"dny":"dn\xed"):r+"dny";case"M":return t||a?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return t||a?r+(i(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):r+"m\u011bs\xedci";case"y":return t||a?"rok":"rokem";case"yy":return t||a?r+(i(e)?"roky":"let"):r+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return"\u0789\u078a"===e},meridiem:function(e,t,n){return e<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,t){return e?"string"===typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,t,n){return e>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],a=t&&t.hours();return function(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",a%12===1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_a\u016dg_sep_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:a?r[n][0]:r[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d p\xe4eva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};e.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,t,n){return e<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"\u062b\u0627\u0646\u06cc\u0647 d%",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,(function(e){return n[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),n=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",t[7],t[8],t[9]];function a(e,a,r,i){var o="";switch(r){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":return i?"sekunnin":"sekuntia";case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":o=i?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return function(e,a){return e<10?a?n[e]:t[e]:e}(e,i)+" "+o}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","M\xe9itheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deaireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean\xe1","Feab","M\xe1rt","Aibr","Beal","M\xe9it","I\xfail","L\xfana","Me\xe1n","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Satharn"],weekdaysShort:["Dom","Lua","M\xe1i","C\xe9a","D\xe9a","hAo","Sat"],weekdaysMin:["Do","Lu","M\xe1","Ce","D\xe9","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xed",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10===2?"na":"mh")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10===2?"na":"mh")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[n][0]:r[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},n={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};e.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ac7\u0ab9\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0ab0\u0abe\u0aa4"===t?e<4?e:e+12:"\u0ab8\u0ab5\u0abe\u0ab0"===t?e:"\u0aac\u0aaa\u0acb\u0ab0"===t?e>=10?e:e+12:"\u0ab8\u0abe\u0a82\u0a9c"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0ab0\u0abe\u0aa4":e<10?"\u0ab8\u0ab5\u0abe\u0ab0":e<17?"\u0aac\u0aaa\u0acb\u0ab0":e<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10===0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,t,n){return e<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":e<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":e<12?n?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":e<18?n?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};e.defineLocale("hi",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924"===t?e<4?e:e+12:"\u0938\u0941\u092c\u0939"===t?e:"\u0926\u094b\u092a\u0939\u0930"===t?e>=10?e:e+12:"\u0936\u093e\u092e"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0930\u093e\u0924":e<10?"\u0938\u0941\u092c\u0939":e<17?"\u0926\u094b\u092a\u0939\u0930":e<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var a=e+" ";switch(n){case"ss":return a+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return a+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return a+(1===e?"dan":"dana");case"MM":return a+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return a+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function n(e,t,n,a){var r=e;switch(n){case"s":return a||t?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return r+(a||t)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(a||t?" perc":" perce");case"mm":return r+(a||t?" perc":" perce");case"h":return"egy"+(a||t?" \xf3ra":" \xf3r\xe1ja");case"hh":return r+(a||t?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(a||t?" nap":" napja");case"dd":return r+(a||t?" nap":" napja");case"M":return"egy"+(a||t?" h\xf3nap":" h\xf3napja");case"MM":return r+(a||t?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(a||t?" \xe9v":" \xe9ve");case"yy":return r+(a||t?" \xe9v":" \xe9ve")}return""}function a(e){return(e?"":"[m\xfalt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":e<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":e<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e){return e%100===11||e%10!==1}function n(e,n,a,r){var i=e+" ";switch(a){case"s":return n||r?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return t(e)?i+(n||r?"sek\xfandur":"sek\xfandum"):i+"sek\xfanda";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return t(e)?i+(n||r?"m\xedn\xfatur":"m\xedn\xfatum"):n?i+"m\xedn\xfata":i+"m\xedn\xfatu";case"hh":return t(e)?i+(n||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?i+"dagar":i+(r?"daga":"d\xf6gum"):n?i+"dagur":i+(r?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":r?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return t(e)?n?i+"m\xe1nu\xf0ir":i+(r?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?i+"m\xe1nu\xf0ur":i+(r?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||r?"\xe1r":"\xe1ri";case"yy":return t(e)?i+(n||r?"\xe1r":"\xe1rum"):i+(n||r?"\xe1r":"\xe1ri")}}e.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,t,n){return e<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(e){return e.week()<this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(e){return this.week()<e.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),format:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_")},monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"\u10e8\u10d8"):e+"\u10e8\u10d8"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):void 0},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":e<20||e<=100&&e%20===0||e%100===0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};e.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},n={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};e.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return"\u179b\u17d2\u1784\u17b6\u1785"===e},meridiem:function(e,t,n){return e<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},n={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};e.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===t?e<4?e:e+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===t?e:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===t?e>=10?e:e+12:"\u0cb8\u0c82\u0c9c\u0cc6"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":e<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":e<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":e<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,t,n){return e<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},a=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];e.defineLocale("ku",{months:a,monthsShort:a,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(e){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(e)},meridiem:function(e,t,n){return e<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(e){return n[e]})).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};e.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d M\xe9int",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===e},meridiem:function(e,t,n){return e<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"\u0e97\u0eb5\u0ec8"+e}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function n(e,t,n,a){return t?r(n)[0]:a?r(n)[1]:r(n)[2]}function a(e){return e%10===0||e>10&&e<20}function r(e){return t[e].split("_")}function i(e,t,i,o){var s=e+" ";return 1===e?s+n(0,t,i[0],o):t?s+(a(e)?r(i)[1]:r(i)[0]):o?s+r(i)[1]:s+(a(e)?r(i)[1]:r(i)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(e,t,n,a){return t?"kelios sekund\u0117s":a?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:i,m:n,mm:i,h:n,hh:i,d:n,dd:i,M:n,MM:i,y:n,yy:i},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10===1&&t%100!==11?e[2]:e[3]:t%10===1&&t%100!==11?e[0]:e[1]}function a(e,a,r){return e+" "+n(t[r],e,a)}function r(e,a,r){return n(t[r],e,a)}e.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(e,t){return t?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:a,m:r,mm:a,h:r,hh:a,d:r,dd:a,M:r,MM:a,y:r,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u043e\u0441\u043b\u0435 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-\u0435\u0432":0===n?e+"-\u0435\u043d":n>10&&n<20?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===t&&e>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===t||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===t?e+12:e},meridiem:function(e,t,n){return e<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":e<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":e<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":e<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){switch(n){case"s":return t?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return e+(t?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return e+(t?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return e+(t?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return e+(t?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return e+(t?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return e+(t?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return e}}e.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return"\u04ae\u0425"===e},meridiem:function(e,t,n){return e<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" \u04e9\u0434\u04e9\u0440";default:return e}}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function a(e,t,n,a){var r="";if(t)switch(n){case"s":r="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":r="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":r="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":r="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":r="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":r="%d \u0924\u093e\u0938";break;case"d":r="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":r="%d \u0926\u093f\u0935\u0938";break;case"M":r="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":r="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":r="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":r="%d \u0935\u0930\u094d\u0937\u0947"}else switch(n){case"s":r="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":r="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":r="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":r="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":r="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":r="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":r="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":r="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":r="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":r="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":r="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":r="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u094d\u0930\u0940"===t?e<4?e:e+12:"\u0938\u0915\u093e\u0933\u0940"===t?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===t?e>=10?e:e+12:"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0930\u093e\u0924\u094d\u0930\u0940":e<10?"\u0938\u0915\u093e\u0933\u0940":e<17?"\u0926\u0941\u092a\u093e\u0930\u0940":e<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};e.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};e.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u093f"===t?e<4?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===t?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===t?e>=10?e:e+12:"\u0938\u093e\u0901\u091d"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"\u0930\u093e\u0924\u093f":e<12?"\u092c\u093f\u0939\u093e\u0928":e<16?"\u0926\u093f\u0909\u0901\u0938\u094b":e<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_m\xe5n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},n={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};e.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0a30\u0a3e\u0a24"===t?e<4?e:e+12:"\u0a38\u0a35\u0a47\u0a30"===t?e:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===t?e>=10?e:e+12:"\u0a38\u0a3c\u0a3e\u0a2e"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0a30\u0a3e\u0a24":e<10?"\u0a38\u0a35\u0a47\u0a30":e<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":e<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_");function a(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function r(e,t,n){var r=e+" ";switch(n){case"ss":return r+(a(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut\u0119";case"mm":return r+(a(e)?"minuty":"minut");case"h":return t?"godzina":"godzin\u0119";case"hh":return r+(a(e)?"godziny":"godzin");case"MM":return r+(a(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return r+(a(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,a){return e?""===a?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(a)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba"})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var a=" ";return(e%100>=20||e>=100&&e%100===0)&&(a=" de "),e+a+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:t,m:"un minut",mm:t,h:"o or\u0103",hh:t,d:"o zi",dd:t,M:"o lun\u0103",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+function(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:t?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n],+e)}var n=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];e.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:t,m:t,mm:t,h:"\u0447\u0430\u0441",hh:t,d:"\u0434\u0435\u043d\u044c",dd:t,M:"\u043c\u0435\u0441\u044f\u0446",MM:t,y:"\u0433\u043e\u0434",yy:t},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],n=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return"\u0db4.\u0dc0."===e||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===e},meridiem:function(e,t,n){return e>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),n="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function a(e){return e>1&&e<5}function r(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return t||r?i+(a(e)?"sekundy":"sek\xfand"):i+"sekundami";case"m":return t?"min\xfata":r?"min\xfatu":"min\xfatou";case"mm":return t||r?i+(a(e)?"min\xfaty":"min\xfat"):i+"min\xfatami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(a(e)?"hodiny":"hod\xedn"):i+"hodinami";case"d":return t||r?"de\u0148":"d\u0148om";case"dd":return t||r?i+(a(e)?"dni":"dn\xed"):i+"d\u0148ami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?i+(a(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?i+(a(e)?"roky":"rokov"):i+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"nekaj sekund":"nekaj sekundami";case"ss":return r+(1===e?t?"sekundo":"sekundi":2===e?t||a?"sekundi":"sekundah":e<5?t||a?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return r+(1===e?t?"minuta":"minuto":2===e?t||a?"minuti":"minutama":e<5?t||a?"minute":"minutami":t||a?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return r+(1===e?t?"ura":"uro":2===e?t||a?"uri":"urama":e<5?t||a?"ure":"urami":t||a?"ur":"urami");case"d":return t||a?"en dan":"enim dnem";case"dd":return r+(1===e?t||a?"dan":"dnem":2===e?t||a?"dni":"dnevoma":t||a?"dni":"dnevi");case"M":return t||a?"en mesec":"enim mesecem";case"MM":return r+(1===e?t||a?"mesec":"mesecem":2===e?t||a?"meseca":"mesecema":e<5?t||a?"mesece":"meseci":t||a?"mesecev":"meseci");case"y":return t||a?"eno leto":"enim letom";case"yy":return r+(1===e?t||a?"leto":"letom":2===e?t||a?"leti":"letoma":e<5?t||a?"leta":"leti":t||a?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,a){var r=t.words[a];return 1===a.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"\u0434\u0430\u043d",dd:t.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:t.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},n={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};e.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,t,n){return e<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":e<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":e<10?" \u0b95\u0bbe\u0bb2\u0bc8":e<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":e<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":e<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,t){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===t?e<2?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===t||"\u0b95\u0bbe\u0bb2\u0bc8"===t?e:"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===t?e<4?e:e+12:"\u0c09\u0c26\u0c2f\u0c02"===t?e:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===t?e>=10?e:e+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":e<10?"\u0c09\u0c26\u0c2f\u0c02":e<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":e<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};e.defineLocale("tg",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u041f\u0430\u0433\u043e\u04b3 \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0448\u0430\u0431"===t?e<4?e:e+12:"\u0441\u0443\u0431\u04b3"===t?e:"\u0440\u04ef\u0437"===t?e>=11?e:e+12:"\u0431\u0435\u0433\u043e\u04b3"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0448\u0430\u0431":e<11?"\u0441\u0443\u0431\u04b3":e<16?"\u0440\u04ef\u0437":e<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e,t,n){return e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,a,r){var i=function(e){var n=Math.floor(e%1e3/100),a=Math.floor(e%100/10),r=e%10,i="";return n>0&&(i+=t[n]+"vatlh"),a>0&&(i+=(""!==i?" ":"")+t[a]+"maH"),r>0&&(i+=(""!==i?" ":"")+t[r]),""===i?"pagh":i}(e);switch(a){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}e.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu\u2019":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa\u2019 tup",mm:n,h:"wa\u2019 rep",hh:n,d:"wa\u2019 jaj",dd:n,M:"wa\u2019 jar",MM:n,y:"wa\u2019 DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};e.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'\u0131nc\u0131";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n,a){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts",e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras",e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return a?r[n][0]:t?r[n][0]:r[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===t||"\u0633\u06d5\u06be\u06d5\u0631"===t||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===t?e:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===t||"\u0643\u06d5\u0686"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var a=100*e+t;return a<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":a<900?"\u0633\u06d5\u06be\u06d5\u0631":a<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":a<1230?"\u0686\u06c8\u0634":a<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return e+"-\u06be\u06d5\u067e\u062a\u06d5";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===n?t?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+function(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:t?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:t?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[n],+e)}function n(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}e.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(e,t){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:n("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:n("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:n("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:n("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:t,m:t,mm:t,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:t,d:"\u0434\u0435\u043d\u044c",dd:t,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:t,y:"\u0440\u0456\u043a",yy:t},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"\u043d\u043e\u0447\u0456":e<12?"\u0440\u0430\u043d\u043a\u0443":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";var t=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],n=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var a=100*e+t;return a<600?"\u51cc\u6668":a<900?"\u65e9\u4e0a":a<1130?"\u4e0a\u5348":a<1230?"\u4e2d\u5348":a<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"\u51cc\u6668":a<900?"\u65e9\u4e0a":a<1130?"\u4e0a\u5348":a<1230?"\u4e2d\u5348":a<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(23))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"\u51cc\u6668":a<900?"\u65e9\u4e0a":a<1130?"\u4e0a\u5348":a<1230?"\u4e2d\u5348":a<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(23))},function(e,t,n){"use strict";n.r(t),n.d(t,"getNewCellVal",(function(){return l})),n.d(t,"createOption",(function(){return c}));var a=n(3),r=n(12),i=n(8),o=n(19),s=n(21);function l(e){var t=e.targetType,n=e.currentType,r=e.oldColumnData,l=e.newColumnData,c=e.oldCellValue,u=e.collaborators,d=function(e,t,n,r){if(e===a.NUMBER){var i=(t||{}).format;return Object(s.getNumberDisplayString)(n,i)}if(e===a.CHECKBOX)return n?"checked":"unchecked";if(e===a.DATE){var o=(t||{}).format;return Object(s.getDateDisplayString)(n,o)}if(e===a.SINGLE_SELECT){var l=(t||{}).options;return Object(s.getOptionName)(l,n)}if(e===a.MULTIPLE_SELECT){var c=(t||{}).options;return Object(s.getMultipleOptionName)(c,n)}return e===a.LONG_TEXT?Object(s.getLongtextDisplayString)(n):e===a.COLLABORATOR?Object(s.getCollaboratorsName)(r,n):e===a.FORMULA?null:e===a.GEOLOCATION?Object(s.getGeolocationDisplayString)(n):n}(n,r,c,u);switch(t){case a.TEXT:return d;case a.NUMBER:return i.CONVERSION_DATA_RETENTION_MAP[t][i.CONVERSION_DATA_RETENTION_STATUS.NOTHING].includes(n)||!d&&0!==d?null:n===a.DATE?new Date(d).valueOf():Object(o.getFloatNumber)(d);case a.CHECKBOX:return!(!d&&0!==d);case a.DATE:if(i.CONVERSION_DATA_RETENTION_MAP[t][i.CONVERSION_DATA_RETENTION_STATUS.NOTHING].includes(n)||!d&&0!==d)return null;var p=(r||{}).format,h=(l||{}).format;return n===a.DATE&&p===h?d:Object(s.formatTextToDate)(d,h);case a.SINGLE_SELECT:if(n===a.MULTIPLE_SELECT&&c){for(var f=(r||{}).options,m=null,g=function(e){var t=c[e];if(f.find((function(e){return e.id===t})))return m=t,"break"},v=0;v<c.length&&"break"!==g(v);v++);return m}return d;case a.MULTIPLE_SELECT:if(!c)return null;if(n===a.COLLABORATOR){var y=Object(s.getValidCollaborators)(c);return Object(s.getCollaboratorsNames)(y,u)}if(n===a.SINGLE_SELECT){var _=(r||{}).options.find((function(e){return e.id===c}));return _?[_.id]:null}return[d];case a.LONG_TEXT:return{text:d,preview:d};case a.COLLABORATOR:case a.FORMULA:return null;case a.GEOLOCATION:return i.CONVERSION_DATA_RETENTION_MAP[t][i.CONVERSION_DATA_RETENTION_STATUS.NOTHING].includes(n)||!d&&0!==d?null:Object(s.formatTextToGeolocation)(d);default:return null}}function c(e,t){var n=Object(o.generateOptionID)(e),a=Math.floor(Math.random()*r.SELECT_OPTION_COLORS.length),i=r.SELECT_OPTION_COLORS[a]||{};return{name:t,id:n,color:i.COLOR,textColor:i.TEXT_COLOR}}},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(157),o=function(){function e(){Object(a.default)(this,e)}return Object(r.default)(e,null,[{key:"addLinkBetween2Tables",value:function(e,t,n,a,r){var i=this.getLinkByTableIds(e,t,n);if(!i){var o={table1_id:t,table1_table2_map:{},table2_id:n,table2_table1_map:{}};t===n&&(o={table2_id:n,table2_table1_map:{}}),e.push(o),i=e[e.length-1]}t!==n&&(i.table1_table2_map[a]||(i.table1_table2_map[a]=[]),i.table1_table2_map[a].push(r)),i.table2_table1_map[r]||(i.table2_table1_map[r]=[]),i.table2_table1_map[r].push(a)}},{key:"removeLinkBetween2Tables",value:function(e,t,n,a,r){var i=this.getLinkByTableIds(e,t,n);if(i){if(t!==n){var o=i.table1_table2_map[a];if(o){var s=o.indexOf(r);s>-1&&o.splice(s,1)}}var l=i.table2_table1_map[r];if(l){var c=l.indexOf(a);c>-1&&l.splice(c,1)}}}},{key:"transLinkOptions",value:function(e,t,n,a){var r=e<t;return{table1_id:r?e:t,table2_id:r?t:e,table1_row_id:r?n:a,table2_row_id:r?a:n}}},{key:"getLinkByTableIds",value:function(e,t,n){if(!e||!t||!n)return null;for(var a=null,r=0,i=e.length;r<i;r++){var o=e[r];if(o.table1_id===t&&o.table2_id===n||o.table1_id===n&&o.table2_id===t||t===n&&o.table2_id===n){a=o;break}}return a}},{key:"getLinkedRowIDs",value:function(e,t,n,a){if(!e||!t||!n||!a)return[];var r=this.transLinkOptions(t,n,a,null),i=r.table1_id,o=r.table2_id,s=this.getLinkByTableIds(e,i,o);return s&&(s.table1_id===t?s.table1_table2_map:s.table2_table1_map)[a]||[]}},{key:"getLinkedRowName",value:function(e,t,n,a){var r=e.tables,o=e.links,s=i.default.getTableById(r,n);if(!s)return null;var l=this.getLinkedRowIDs(o,t,n,a);return i.default.getRowsByIds(s,l).map((function(e){return e&&e["0000"]?e["0000"]:""}))}}]),e}();t.default=o},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(11),o=function(){function e(){Object(a.default)(this,e)}return Object(r.default)(e,null,[{key:"getTableId",value:function(e,t){return e[t]._id||"0000"}},{key:"getTableByIndex",value:function(e,t){return e[t]}},{key:"getTableById",value:function(e,t){return e.find((function(e){return e._id===t}))}},{key:"getTableByName",value:function(e,t){return e.find((function(e){return e.name===t}))}},{key:"renameTable",value:function(e,t,n){var a=this.getTableById(e,t);return!!a&&(a.name=n,!0)}},{key:"modifyHeaderLock",value:function(e,t,n){var a=this.getTableById(e,t);return!!a&&(a.is_header_locked=n,!0)}},{key:"deleteTable",value:function(e,t){for(var n=null,a=e.length,r=0;r<a;r++)if(e[r]._id===t){n=r;break}return null!==n&&(e.splice(n,1),!0)}},{key:"getRowById",value:function(e,t){return e.id_row_map[t]}},{key:"getRowsByIds",value:function(e,t){return t.map((function(t){return e.id_row_map[t]}))}},{key:"getTableColumnByKey",value:function(e,t){return e.columns.find((function(e){return e.key===t}))}},{key:"getTableColumnByName",value:function(e,t){return e.columns.find((function(e){return e.name===t}))}},{key:"canOpApply",value:function(t,n){switch(n.op_type||n.type){case i.OPERATION_TYPE.INSERT_TABLE:var a=n.table_data._id;return!e.getTableById(t,a);case i.OPERATION_TYPE.RENAME_TABLE:case i.OPERATION_TYPE.DELETE_TABLE:var r=n.table_id;return!!e.getTableById(t,r);case i.OPERATION_TYPE.MOVE_TABLE:var o=n.target_table_id;return!!e.getTableById(t,o);case i.OPERATION_TYPE.INSERT_COLUMN:case i.OPERATION_TYPE.DELETE_COLUMN:var s=n.table_id;return!!e.getTableById(t,s);case i.OPERATION_TYPE.RENAME_COLUMN:case i.OPERATION_TYPE.MODIFY_COLUMN_DATA:case i.OPERATION_TYPE.RESTORE_COLUMN:case i.OPERATION_TYPE.RESIZE_COLUMN:var l=n.table_id,c=n.column_key,u=e.getTableById(t,l);return!!u&&-1!==u.columns.findIndex((function(e){return e.key===c}));case i.OPERATION_TYPE.MOVE_COLUMN:var d=n.table_id,p=n.moved_column_key,h=n.target_column_key,f=e.getTableById(t,d);if(!f)return!1;var m=f.columns.findIndex((function(e){return e.key===p})),g=f.columns.findIndex((function(e){return e.key===h}));return-1!==m&&-1!==g;case i.OPERATION_TYPE.INSERT_ROW:var v=n.table_id,y=n.row_data,_=e.getTableById(t,v);return!!_&&!_.id_row_map[y._id];case i.OPERATION_TYPE.INSERT_ROWS:var b=n.table_id,w=n.row_datas,E=e.getTableById(t,b);return!!E&&!w.map((function(e){return e._id})).some((function(e){return E.id_row_map[e]}));case i.OPERATION_TYPE.DELETE_ROW:case i.OPERATION_TYPE.DELETE_ROWS:var T=n.table_id;return!!e.getTableById(t,T);case i.OPERATION_TYPE.MOVE_ROWS:var x=n.table_id,C=n.target_ids,S=e.getTableById(t,x);if(!S)return!1;var k=S.rows.filter((function(e){return-1!==C.indexOf(e._id)}));return 1===k.length||k.length===C.length;case i.OPERATION_TYPE.MODIFY_ROW:var O=n.table_id,M=n.row_id,L=e.getTableById(t,O);return!!L&&-1!==L.rows.findIndex((function(e){return e._id===M}));case i.OPERATION_TYPE.INSERT_VIEW:var D=n.table_id,R=n.view_data,N=e.getTableById(t,D);return!!N&&-1===N.views.findIndex((function(e){return e._id===R._id}));case i.OPERATION_TYPE.RENAME_VIEW:case i.OPERATION_TYPE.DELETE_VIEW:case i.OPERATION_TYPE.MODIFY_FILTERS:case i.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS:case i.OPERATION_TYPE.MODIFY_SORTS:var I=n.table_id,A=n.view_id,P=e.getTableById(t,I);return!!P&&-1!==P.views.findIndex((function(e){return e._id===A}));case i.OPERATION_TYPE.MOVE_VIEW:var Y=n.table_id,F=n.target_view_id,j=n.moved_view,U=e.getTableById(t,Y);if(!U)return!1;var H=U.views,B=H.findIndex((function(e){return e._id===F})),V=H.findIndex((function(e){return e._id===j._id}));return-1!==B&&-1!==V;default:return!0}}}]),e}();t.default=o},function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(155),i=n(159),o=n.n(i),s=n(154),l=n(157),c=n(160),u=n(161),d=o()("dtable-store:row-utils");function p(e,t){var n=e.data&&e.data.options;if(!t||!n)return"";var a=n&&n.find((function(e){return e.id===t}));return a?a.name:""}function h(e,t){if(!e.data)return d("No options found, please create a new option"),null;var n=e.data.options.find((function(e){return e.name===t}));return n?n.id:null}function f(e,t){for(var n=[],a=0;a<t.length;a++){var r=h(e,t[a]);r&&n.push(r)}return n}var m=function e(){Object(r.default)(this,e)};m.convertRow=function(e,t,n,a,r){var i={},o=n.columns,l=a?a.hidden_columns:null;i._id=e._id;for(var c=0;c<o.length;c++){var u=o[c];if(!l||!l.includes(u.key)){var h=e[u.key],f=void 0;switch(u.type){case"single-select":if(!u.data){d("No options found");break}i[u.name]=p(u,h);break;case"multiple-select":if(!u.data){d("No options found");break}if(!Array.isArray(h)){i[u.name]="";break}f=[];for(var m=0;m<h.length;m++){var g=p(u,h[m]);g&&f.push(g)}i[u.name]=f;break;case"long-text":i[u.name]=h?h.text:"";break;case"link":if(u.data){var v=n._id,y=u.data,_=y.table_id,b=y.other_table_id,w=v===_?b:_,E=t.links;i[u.name]=s.default.getLinkedRowIDs(E,v,w,e._id)}else d("No links found");break;case"formula":if(u.data&&r){var T=e._id,x=u.key;i[u.name]=r[T]?r[T][x]:null}else d("No formula found");break;default:i[u.name]=h}}}return i},m.convertRowBack=function(e,t){var n={};for(var a in e){var r=e[a];if("_id"===a)n._id=r;else{var i=l.default.getTableColumnByName(t,a);if(!i)continue;switch(i.type){case"single-select":var o=h(i,r);o&&(n[i.key]=o);break;case"multiple-select":n[i.key]=f(i,r);break;case"long-text":var s=r,u=Object(c.default)(s),d={text:s,preview:u.preview,images:u.images,links:u.links};n[i.key]=d;break;case"link":case"formula":break;default:n[i.key]=r}}}return n},m.filterRows=function(e,t,n,a){var r=t.columns;return e.filter((function(e){return Object(u.default)(a,n,[e],r).length>0}))},m.getRowsDataByColumnKey=function(e,t){return Array.isArray(e)&&t?e.map((function(e){return Object(a.default)({_id:e._id},t,e[t])})):[]},t.default=m},function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var a=/\[.+\]\(\S+\)|<img src=(\S+).+\/>|!\[\]\(\S+\)|<\S+>/g,r=/^<img src="(\S+)" .+\/>/,i=/^!\[\]\((\S+)\)/,o=/^\[.+\]\(\S+\)/,s=/^<\S+>$/;t.default=function(e){for(var t="",n=e.replace(a,""),l=n.length,c=0;c<l&&("#"===n[c]||("\n"===n[c]?t+=" ":t+=n[c],50!==t.length));c++);t=t.length===l?t:"".concat(t,"...");var u=e.match(a);if(u){var d=function(e){var t={links:[],images:[]};return e.forEach((function(e){if(e.search(o)>=0||e.search(s)>=0)t.links.push(e);else{var n=e.match(r),a=e.match(i);n?t.images.push(n[1]):a&&t.images.push(a[1])}})),t}(u);return{preview:t,images:d.images,links:d.links}}return{preview:t,images:[],links:[]}}},function(e,t,n){"use strict";n.r(t);var a=n(162),r=n(166),i=n.n(r),o=n(7),s=n(6),l=n(19),c=n(2),u=n(23),d=n.n(u),p=function(e,t,n,a){var r=[];return(t=i()(t)).forEach((function(e){var t=a.find((function(t){return t.key===e.column_key}));e.column=t})),n.forEach((function(n){h(n,e,t)&&r.push(n._id)})),t.forEach((function(e){delete e.column})),r},h=function(e,t,n){return"And"===t?n.every((function(t){return f(e,t)})):"Or"===t?n.some((function(t){return f(e,t)})):void 0},f=function(e,t){var n=t.column_key,a=t.filter_predicate,r=t.filter_term,i=t.filter_term_modifier,o=t.column;if(!o)return!0;var s=e[n],l=o.type||c.CellType.TEXT;switch(s=""!==s&&"undefined"!==typeof s?s:"",r&&"string"===typeof r&&(r=r.trim()),l){case c.CellType.CHECKBOX:return m(r,s);case c.CellType.SINGLE_SELECT:var u=o.data&&o.data.options;return g(a,r,s,u);case c.CellType.NUMBER:return v(a,r,s);case c.CellType.DATE:case c.CellType.CTIME:case c.CellType.MTIME:return l!==c.CellType.CTIME&&l!==c.CellType.MTIME||(s=s?d()(s).format("YYYY-MM-DD HH:mm:ss"):""),b(a,r,s,i);case c.CellType.MULTIPLE_SELECT:var p=o.data&&o.data.options;return E(a,r,s,p);case c.CellType.COLLABORATOR:return T(a,r,s);case c.CellType.LONG_TEXT:return s=s.text||"",w(a,r,s);case c.CellType.TEXT:return w(a,r,s);case c.CellType.CREATOR:return x(a,r,s);case c.CellType.GEOLOCATION:var h=s||{},f=h.province,y=h.city,_=h.district;return C(a,r=r||"",(f||"")+(y||"")+(_||""));default:return!1}},m=function(e,t){return(t=!!t)===(e||!1)},g=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=a.find((function(e){return e.id===t}));if(!r&&e!==s.FILTER_PREDICATE_TYPE.EMPTY&&e!==s.FILTER_PREDICATE_TYPE.NOT_EMPTY)return!0;switch(e){case s.FILTER_PREDICATE_TYPE.IS:return n===t;case s.FILTER_PREDICATE_TYPE.IS_NOT:return n!==t;case s.FILTER_PREDICATE_TYPE.EMPTY:return!n;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return void 0!==n&&null!==n&&""!==n;default:return!1}},v=function(e,t,n){if(e!==s.FILTER_PREDICATE_TYPE.EMPTY&&e!==s.FILTER_PREDICATE_TYPE.NOT_EMPTY&&""===t)return!0;switch(t&&(t=Object(l.getFloatNumber)(t)),e){case s.FILTER_PREDICATE_TYPE.EQUAL:return""!==n&&n===t;case s.FILTER_PREDICATE_TYPE.NOT_EQUAL:return""!==n&&n!==t;case s.FILTER_PREDICATE_TYPE.LESS:return""!==n&&n<t;case s.FILTER_PREDICATE_TYPE.GREATER:return""!==n&&n>t;case s.FILTER_PREDICATE_TYPE.LESS_OR_EQUAL:return""!==n&&n<=t;case s.FILTER_PREDICATE_TYPE.GREATER_OR_EQUAL:return""!==n&&n>=t;case s.FILTER_PREDICATE_TYPE.EMPTY:return""===n;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return""!==n;default:return!1}},y=function(e){var t=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return"".concat(t,"-").concat(n,"-").concat(a)},_=function(e,t){var n=new Date,a=[31,28,31,30,31,30,31,31,30,31,30,31];a[1]=n.getFullYear()%4!==0||n.getFullYear()%100===0&&n.getFullYear()%400!==0?28:29;var r=y(n).split("-").map((function(e){return Number(e)})),i=r[0],s=r[1],l=r[2];switch(e){case o.FILTER_TERM_MODIFIER_TYPE.TODAY:return y(n);case o.FILTER_TERM_MODIFIER_TYPE.TOMORROW:var c=new Date(i,s-1,l+1);return y(c);case o.FILTER_TERM_MODIFIER_TYPE.YESTERDAY:var u=new Date(i,s-1,l-1);return y(u);case o.FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO:var d=new Date(i,s-1,l-7);return y(d);case o.FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW:var p=new Date(i,s-1,l+7);return y(p);case o.FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO:var h=l>=a[s-2]?a[s-2]:l,f=new Date(i,s-2,h);return y(f);case o.FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW:var m=l>=a[s]?a[s]:l,g=new Date(i,s,m);return y(g);case o.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO:var v=new Date(i,s-1,l-Number(t));return y(v);case o.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW:var _=new Date(i,s-1,l+Number(t));return y(_);case o.FILTER_TERM_MODIFIER_TYPE.EXACT_DATE:return t;case o.FILTER_TERM_MODIFIER_TYPE.THE_PAST_WEEK:var b=0!==n.getDay()?n.getDay():7,w=new Date(i,s-1,l-b-6),E=new Date(i,s-1,l-b);return{startDate:y(w),endDate:y(E)};case o.FILTER_TERM_MODIFIER_TYPE.THIS_WEEK:var T=0!==n.getDay()?n.getDay():7,x=new Date(i,s-1,l-T+1),C=new Date(i,s-1,l-T+7);return{startDate:y(x),endDate:y(C)};case o.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_WEEK:var S=0!==n.getDay()?n.getDay():7,k=new Date(i,s-1,l-S+8),O=new Date(i,s-1,l-S+14);return{startDate:y(k),endDate:y(O)};case o.FILTER_TERM_MODIFIER_TYPE.THE_PAST_MONTH:var M=new Date(i,s-2,1),L=new Date(i,s-2,a[s-2]);return{startDate:M=y(M),endDate:L=y(L)};case o.FILTER_TERM_MODIFIER_TYPE.THIS_MONTH:var D=new Date(i,s-1,1),R=new Date(i,s-1,a[s-1]);return{startDate:D=y(D),endDate:R=y(R)};case o.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_MONTH:var N=new Date(i,s,1),I=new Date(i,s,a[s]);return{startDate:N=y(N),endDate:I=y(I)};case o.FILTER_TERM_MODIFIER_TYPE.THE_PAST_YEAR:var A=new Date(i-1,0,1),P=new Date(i-1,11,31);return{startDate:A=y(A),endDate:P=y(P)};case o.FILTER_TERM_MODIFIER_TYPE.THIS_YEAR:var Y=new Date(i,0,1),F=new Date(i,11,31);return{startDate:Y=y(Y),endDate:F=y(F)};case o.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_YEAR:var j=new Date(i+1,0,1),U=new Date(i+1,11,31);return{startDate:j=y(j),endDate:U=y(U)};case o.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS:var H=y(n),B=new Date(i,s-1,l+Number(t));return{startDate:H,endDate:y(B)};case o.FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS:var V=y(n),G=new Date(i,s-1,l-Number(t));return{startDate:y(G),endDate:V};default:return{}}},b=function(e,t,n,a){var r=[s.FILTER_PREDICATE_TYPE.EMPTY,s.FILTER_PREDICATE_TYPE.NOT_EMPTY];if(0===t.length&&r.indexOf(e)<0&&a===o.FILTER_TERM_MODIFIER_TYPE.EXACT_DATE)return!0;switch(e){case s.FILTER_PREDICATE_TYPE.IS:return n===_(a,t);case s.FILTER_PREDICATE_TYPE.IS_WITHIN:var i=_(a,t),l=i.startDate,c=i.endDate;return n>=l&&n<=c;case s.FILTER_PREDICATE_TYPE.IS_BEFORE:return void 0!==n&&null!==n&&""!==n&&n<_(a,t);case s.FILTER_PREDICATE_TYPE.IS_AFTER:return n>_(a,t);case s.FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE:return void 0!==n&&null!==n&&""!==n&&n<=_(a,t);case s.FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER:return n>=_(a,t);case s.FILTER_PREDICATE_TYPE.IS_NOT:return n!==_(a,t);case s.FILTER_PREDICATE_TYPE.EMPTY:return!n;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return void 0!==n&&null!==n&&""!==n;default:return!1}},w=function(e,t,n){if(!t&&e!==s.FILTER_PREDICATE_TYPE.EMPTY&&e!==s.FILTER_PREDICATE_TYPE.NOT_EMPTY)return!0;switch(e){case s.FILTER_PREDICATE_TYPE.CONTAINS:return-1!==n.toString().toLowerCase().indexOf(t.toLowerCase());case s.FILTER_PREDICATE_TYPE.NOT_CONTAIN:return!n||n&&-1===n.toString().toLowerCase().indexOf(t.toLowerCase());case s.FILTER_PREDICATE_TYPE.IS:return n===t;case s.FILTER_PREDICATE_TYPE.IS_NOT:return n!==t;case s.FILTER_PREDICATE_TYPE.EMPTY:return!n;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return void 0!==n&&null!==n&&""!==n;default:return!1}},E=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Array.isArray(t)?t.filter((function(e){return r.find((function(t){return t.id===e}))})):[];if(0===i.length&&e!==s.FILTER_PREDICATE_TYPE.EMPTY&&e!==s.FILTER_PREDICATE_TYPE.NOT_EMPTY)return!0;switch(e){case s.FILTER_PREDICATE_TYPE.HAS_ANY_OF:var o=function(e){return n.indexOf(e)>-1},l=i.some(o);return!!l&&n;case s.FILTER_PREDICATE_TYPE.HAS_ALL_OF:var c=function(e){return n.indexOf(e)>-1},u=i.every(c);return!!u&&n;case s.FILTER_PREDICATE_TYPE.HAS_NONE_OF:var d=function(e){return i.indexOf(e)<0},p=n?n.every(d):!n;return p;case s.FILTER_PREDICATE_TYPE.IS_EXACTLY:var h=function(e){return Object(a.default)(new Set(e)).sort()};return h(n).toString()===h(i).toString();case s.FILTER_PREDICATE_TYPE.EMPTY:return 0===n.length;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return n.length>0;default:return!1}},T=function(e,t,n){var a=[s.FILTER_PREDICATE_TYPE.EMPTY,s.FILTER_PREDICATE_TYPE.NOT_EMPTY,s.FILTER_PREDICATE_TYPE.INCLUDE_ME];if((!t||0===t.length)&&-1===a.indexOf(e))return!0;switch(n=n||[],e){case s.FILTER_PREDICATE_TYPE.HAS_ANY_OF:return t.some((function(e){return n.indexOf(e)>-1}));case s.FILTER_PREDICATE_TYPE.HAS_ALL_OF:return!!t.every((function(e){return n.indexOf(e)>-1}))&&n;case s.FILTER_PREDICATE_TYPE.HAS_NONE_OF:return n?n.every((function(e){return t.indexOf(e)<0})):!n;case s.FILTER_PREDICATE_TYPE.IS_EXACTLY:return n.length===t.length&&t.every((function(e){return n.indexOf(e)>-1}));case s.FILTER_PREDICATE_TYPE.EMPTY:return!n||n&&0===n.length;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return n&&n.length>0;case s.FILTER_PREDICATE_TYPE.INCLUDE_ME:var r=window.dtable.username;return n&&n.indexOf(r)>-1;default:return!1}},x=function(e,t,n){if(Array.isArray(t)&&0===t.length)return!0;switch(e){case s.FILTER_PREDICATE_TYPE.CONTAINS:return t.find((function(e){return e===n}));case s.FILTER_PREDICATE_TYPE.NOT_CONTAIN:return!t.find((function(e){return e===n}));case s.FILTER_PREDICATE_TYPE.IS:return n===t[0];case s.FILTER_PREDICATE_TYPE.IS_NOT:return n!==t[0];default:return!1}},C=function(e,t,n){if(!t&&e!==s.FILTER_PREDICATE_TYPE.EMPTY&&e!==s.FILTER_PREDICATE_TYPE.NOT_EMPTY)return!0;switch(e){case s.FILTER_PREDICATE_TYPE.CONTAINS:return-1!==n.toString().toLowerCase().indexOf(t.toLowerCase());case s.FILTER_PREDICATE_TYPE.NOT_CONTAIN:return!n||n&&-1===n.toString().toLowerCase().indexOf(t.toLowerCase());case s.FILTER_PREDICATE_TYPE.IS:return n===t;case s.FILTER_PREDICATE_TYPE.IS_NOT:return n!==t;case s.FILTER_PREDICATE_TYPE.EMPTY:return!n;case s.FILTER_PREDICATE_TYPE.NOT_EMPTY:return""!==n;default:return!1}};p.filterRow=h,p.checkboxFilter=m,p.singleSelectFilter=g,p.multipleSelectFilter=E,p.numberFilter=v,p.dateFilter=b,p.textFilter=w,p.formatDate=y,p.otherDate=_,p.collaboratorFilter=T,p.creatorFilter=x,p.geolocationFilter=C,t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var a=n(163),r=n(164),i=n(165);function o(e){return Object(a.default)(e)||Object(r.default)(e)||Object(i.default)()}},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){"use strict";function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){e.exports=function(){return function(t){if(/number|string|boolean/.test(typeof t))return t;if(t instanceof Date)return new Date(t.getTime());var n=t instanceof Array?[]:{};return function t(n,a){for(var r in n){var i=n[r];if(i instanceof Date){var o=new Date(i.getTime());e(a,r,o)}else if(i instanceof Function)e(a,r,o=i);else if(i instanceof Array){var s=e(a,r,o=[]);t(i,s)}else i instanceof Object?t(i,s=e(a,r,o={})):e(a,r,o=i)}}(t,n),n};function e(e,t,n){return e instanceof Array?(e.push(n),e[e.length-1]):e instanceof Object?(e[t]=n,e[t]):void 0}}()},function(e,t,n){"use strict";n.r(t);var a=n(168);n.d(t,"FormulaCalculator",(function(){return a.default}));var r=n(171);n.d(t,"FORMULA_PARAM_TYPE",(function(){return r.FORMULA_PARAM_TYPE})),n.d(t,"FORMULA_RESULT_TYPE",(function(){return r.FORMULA_RESULT_TYPE}))},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(169),o=function(){function e(t){Object(a.default)(this,e),this.table=t.table,this.parser=new i.Parser({columns:t.table.columns})}return Object(r.default)(e,[{key:"getCalcResults",value:function(e,t){return this.parser.parse(e,t)}}]),e}();t.default=o},function(e,t,n){"use strict";n.r(t);var a=n(170);n.d(t,"Parser",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t);var a=n(162),r=n(155),i=n(156),o=n(3),s=n(21),l=n(171),c=n(172),u=n(173),d=n(174),p=n(176),h=n(177),f=n(178),m=n(23),g=n.n(m),v=function(){function e(t){var n=this;Object(r.default)(this,e),this.props=t,this.parser=new u.Parser,this.parser.yy={toNumber:d.toNumber,invertNumber:d.invertNumber,trimEdges:h.trimEdges,getPI:p.getPI,getE:p.getE,evaluateByOperator:f.default,callVariable:function(e){return n._callVariable(e)},callFunction:function(e,t){return n._callFunction(e,t)},getColumn:function(e){return n._getColumn(e)},throwError:function(e){return n._throwError(e)}},this.variables=Object.create(null),this.functions=Object.create(null),this.setVariable("TRUE",!0).setVariable("FALSE",!1).setVariable("NULL",null),this.operated_columns=[]}return Object(i.default)(e,[{key:"parse",value:function(e,t){var n,r=null,i=null;this.rows=t;try{r=""===e?"":this.parser.parse(e)}catch(s){i=Object(c.default)(s.message)||Object(c.default)(c.ERROR)}return r instanceof Error&&(i=Object(c.default)(r.message)||Object(c.default)(c.ERROR),r=null),n=Object(a.default)(this.operated_columns),this.operated_columns=[],{error:i,result:r,operated_columns:n}}},{key:"setVariable",value:function(e,t){return this.variables[e]=t,this}},{key:"getVariable",value:function(e){return this.variables[e]}},{key:"_callVariable",value:function(e){var t=this.getVariable(e);if(void 0===t)throw Error(c.ERROR_NAME);return t}},{key:"setFunction",value:function(e,t){return this.functions[e]=t,this}},{key:"getFunction",value:function(e){return this.functions[e]}},{key:"_callFunction",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.getFunction(e);return a&&(t=a(n)),void 0===t?Object(f.default)(e,n):t}},{key:"_getColumn",value:function(e){var t=e.replace(/[{]|[}]/g,""),n=this.props.columns.find((function(e){return e.name===t}));if(n&&n.type!==o.FORMULA){var a,r=n.key,i=n.type,u=n.data,d=[],p=this._getResultType(i);return this.rows&&this.rows.forEach((function(e){var t;if(i===o.SINGLE_SELECT){var n=u&&u.options;t=Object(s.getOptionName)(n,e[r])}else if(i===o.MULTIPLE_SELECT){var a=u&&u.options;t=Object(s.getMultipleOptionName)(a,e[r])}else if(i===o.COLLABORATOR){var l=window.app.state.collaborators;t=Object(s.getCollaboratorsName)(l,e[r])}else t=i===o.CTIME||i===o.LAST_MODIFIER?g()(e[r]||"").format("YYYY-MM-DD HH:mm:ss"):e[r];d.push(t)})),a={param_type:l.FORMULA_PARAM_TYPE.COLUMN,value:d,result_type:p},this.operated_columns.includes(r)||this.operated_columns.push(r),a}throw Error(c.ERROR_NAME)}},{key:"_getResultType",value:function(e){switch(e){case o.NUMBER:return l.FORMULA_RESULT_TYPE.NUMBER;case o.CHECKBOX:return l.FORMULA_RESULT_TYPE.BOOL;case o.DATE:return l.FORMULA_RESULT_TYPE.DATE;default:return l.FORMULA_RESULT_TYPE.STRING}}},{key:"_throwError",value:function(e){if(Object(c.isValidStrict)(e))throw Error(e);throw Error(c.ERROR)}}]),e}();t.default=v},function(e,t,n){"use strict";n.r(t),n.d(t,"FORMULA_PARAM_TYPE",(function(){return a})),n.d(t,"FORMULA_RESULT_TYPE",(function(){return r})),n.d(t,"FIRST_OF_WEEK",(function(){return i})),n.d(t,"SUPPORTED_FORMULAS",(function(){return o}));var a={COLUMN:"column",GENERAL:"general"},r={NUMBER:"number",STRING:"string",DATE:"date",BOOL:"bool"},i=["sunday","monday"],o=["ABS","ADD","AND","AVERAGE","CEILING","CONCATENATE","COUNT","COUNTA","COUNTALL","COUNTBLANK","DATEADD","DAY","DAYS","DIVIDE","EQUAL","EVEN","EXACT","EXP","FALSE","FIND","FLOOR","GREATER","GREATEREQ","HOUR","IF","INT","LEFT","LEN","LESSTHAN","LESSTHANEQ","LG","LN","LOG","LOWER","MAX","MID","MIN","MINUTE","MOD","MONTH","MULTIPLY","NETWORKDAYS","NOT","NOW","ODD","OR","POWER","REPLACE","REPT","RIGHT","ROUND","ROUNDDOWN","ROUNDUP","SEARCH","SECOND","SIGN","SQRT","SUBSTITUTE","SUBTRACT","SUM","SWITCH","T","TODAY","TRIM","TRUE","UNEQUAL","UPPER","VALUE","WEEKDAY","WEEKNUM","XOR","YEAR"]},function(e,t,n){"use strict";n.r(t),n.d(t,"ERROR",(function(){return o})),n.d(t,"ERROR_DIV_ZERO",(function(){return s})),n.d(t,"ERROR_NAME",(function(){return l})),n.d(t,"ERROR_NOT_AVAILABLE",(function(){return c})),n.d(t,"ERROR_NULL",(function(){return u})),n.d(t,"ERROR_NUM",(function(){return d})),n.d(t,"ERROR_REF",(function(){return p})),n.d(t,"ERROR_VALUE",(function(){return h})),n.d(t,"GETTING_DATA",(function(){return f})),n.d(t,"INTERNAL_ERRORS",(function(){return m})),n.d(t,"default",(function(){return v})),n.d(t,"isValidStrict",(function(){return y}));var a,r,i=n(5),o="ERROR",s="DIV/0",l="NAME",c="N/A",u="NULL",d="NUM",p="REF",h="VALUE",f="GETTING_DATA",m=(a={},Object(i.default)(a,o,new Error("#ERROR!")),Object(i.default)(a,s,new Error("#DIV/0!")),Object(i.default)(a,l,new Error("#NAME?")),Object(i.default)(a,c,new Error("#N/A")),Object(i.default)(a,u,new Error("#NULL!")),Object(i.default)(a,d,new Error("#NUM!")),Object(i.default)(a,p,new Error("#REF!")),Object(i.default)(a,h,new Error("#VALUE!")),Object(i.default)(a,f,new Error("#GETTING_DATA")),a),g=(r={},Object(i.default)(r,o,"#ERROR!"),Object(i.default)(r,s,"#DIV/0!"),Object(i.default)(r,l,"#NAME?"),Object(i.default)(r,c,"#N/A"),Object(i.default)(r,u,"#NULL!"),Object(i.default)(r,d,"#NUM!"),Object(i.default)(r,p,"#REF!"),Object(i.default)(r,h,"#VALUE!"),Object(i.default)(r,f,"#GETTING_DATA"),r);function v(e){var t;return e=(e+"").replace(/#|!|\?/g,""),g[e]&&(t=g[e]),t||null}function y(e){var t=!1;for(var n in g)if(Object.prototype.hasOwnProperty.call(g,n)&&g[n]===e){t=!0;break}return t}},function(e,t,n){var a=function(){var e=function(e,t,n,a){for(n=n||{},a=e.length;a--;n[e[a]]=t);return n},t=[1,5],n=[1,6],a=[1,7],r=[1,8],i=[1,11],o=[1,9],s=[1,10],l=[1,12],c=[1,14],u=[1,15],d=[1,16],p=[1,18],h=[1,19],f=[1,20],m=[1,21],g=[1,22],v=[1,23],y=[1,24],_=[1,25],b=[1,26],w=[1,27],E=[1,28],T=[5,12,13,14,16,17,18,19,20,21,22,23,24,28,29],x=[5,12,13,14,16,17,18,19,20,21,22,23,24,28,29,31],C=[5,13,14,16,17,18,19,20,28,29],S=[5,13,16,17,18,19,28,29],k=[5,13,14,16,17,18,19,20,21,22,28,29],O=[16,28,29],M={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,EOF:5,variableSequence:6,number:7,PI:8,E:9,STRING:10,COLUMN:11,"&":12,"=":13,"+":14,"(":15,")":16,"<":17,">":18,NOT:19,"-":20,"*":21,"/":22,"%":23,"^":24,FUNCTION:25,expseq:26,ARRAY:27,";":28,",":29,VARIABLE:30,DECIMAL:31,NUMBER:32,ERROR:33,$accept:0,$end:1},terminals_:{5:"EOF",8:"PI",9:"E",10:"STRING",11:"COLUMN",12:"&",13:"=",14:"+",15:"(",16:")",17:"<",18:">",19:"NOT",20:"-",21:"*",22:"/",23:"%",24:"^",25:"FUNCTION",27:"ARRAY",28:";",29:",",30:"VARIABLE",31:"DECIMAL",32:"NUMBER",33:"ERROR"},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,1],[4,1],[4,1],[4,3],[4,5],[4,3],[4,3],[4,4],[4,4],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,3],[4,4],[4,1],[4,2],[26,1],[26,1],[26,3],[26,3],[6,1],[6,3],[7,1],[7,3],[2,1]],performAction:function(e,t,n,a,r,i,o){var s=i.length-1;switch(r){case 1:return i[s-1];case 2:this.$=a.callVariable(i[s][0]);break;case 3:this.$=a.toNumber(i[s]);break;case 4:this.$=a.getPI();break;case 5:this.$=a.getE();break;case 6:this.$=a.trimEdges(i[s]);break;case 7:this.$=a.getColumn(i[s]);break;case 8:this.$=a.evaluateByOperator("&",[i[s-2],i[s]]);break;case 9:this.$=a.evaluateByOperator("===",[i[s-4],i[s]]);break;case 10:this.$=a.evaluateByOperator("+",[i[s-2],i[s]]);break;case 11:this.$=i[s-1];break;case 12:this.$=a.evaluateByOperator("<=",[i[s-3],i[s]]);break;case 13:this.$=a.evaluateByOperator(">=",[i[s-3],i[s]]);break;case 14:this.$=a.evaluateByOperator("<>",[i[s-3],i[s]]);break;case 15:this.$=a.evaluateByOperator("NOT",[i[s-2],i[s]]);break;case 16:this.$=a.evaluateByOperator(">",[i[s-2],i[s]]);break;case 17:this.$=a.evaluateByOperator("<",[i[s-2],i[s]]);break;case 18:this.$=a.evaluateByOperator("-",[i[s-2],i[s]]);break;case 19:this.$=a.evaluateByOperator("*",[i[s-2],i[s]]);break;case 20:this.$=a.evaluateByOperator("/",[i[s-2],i[s]]);break;case 21:this.$=a.evaluateByOperator("%",[i[s-2],i[s]]);break;case 22:this.$=a.evaluateByOperator("^",[i[s-2],i[s]]);break;case 23:var l=a.invertNumber(i[s]);this.$=l;break;case 24:l=a.toNumber(i[s]),this.$=l;break;case 25:this.$=a.callFunction(i[s-2]);break;case 26:this.$=a.callFunction(i[s-3],i[s-1]);break;case 29:case 30:case 33:this.$=[i[s]];break;case 31:case 32:i[s-2].push(i[s]),this.$=i[s-2];break;case 34:this.$=Array.isArray(i[s-2])?i[s-2]:[i[s-2]],this.$.push(i[s]);break;case 35:this.$=i[s];break;case 36:this.$=1*(i[s-2]+"."+i[s]);break;case 37:this.$=a.throwError(i[s])}},table:[{2:13,3:1,4:2,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{1:[3]},{5:[1,17],12:p,13:h,14:f,17:m,18:g,19:v,20:y,21:_,22:b,23:w,24:E},e(T,[2,2],{31:[1,29]}),e(T,[2,3]),e(T,[2,4]),e(T,[2,5]),e(T,[2,6]),e(T,[2,7]),{2:13,4:30,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:31,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:32,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{15:[1,33]},e(T,[2,27],{2:34,33:d}),e(x,[2,33]),e(T,[2,35],{31:[1,35]}),e([5,12,13,14,16,17,18,19,20,21,22,23,24,28,29,33],[2,37]),{1:[2,1]},{2:13,4:36,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{13:[1,37]},{2:13,4:38,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:41,6:3,7:4,8:t,9:n,10:a,11:r,13:[1,39],14:i,15:o,18:[1,40],20:s,25:l,30:c,32:u,33:d},{2:13,4:43,6:3,7:4,8:t,9:n,10:a,11:r,13:[1,42],14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:44,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:45,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:46,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:47,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:48,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:49,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{30:[1,50]},{12:p,13:h,14:f,16:[1,51],17:m,18:g,19:v,20:y,21:_,22:b,23:w,24:E},e(C,[2,23],{12:p,21:_,22:b,23:w,24:E}),e(C,[2,24],{12:p,21:_,22:b,23:w,24:E}),{2:13,4:54,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,16:[1,52],20:s,25:l,26:53,27:[1,55],30:c,32:u,33:d},e(T,[2,28]),{32:[1,56]},e([5,12,13,14,16,17,18,19,20,21,22,24,28,29],[2,8],{23:w}),{13:[1,57]},e(C,[2,10],{12:p,21:_,22:b,23:w,24:E}),{2:13,4:58,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:59,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},e(S,[2,17],{12:p,14:f,20:y,21:_,22:b,23:w,24:E}),{2:13,4:60,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},e(S,[2,16],{12:p,14:f,20:y,21:_,22:b,23:w,24:E}),e([5,13,16,19,28,29],[2,15],{12:p,14:f,17:m,18:g,20:y,21:_,22:b,23:w,24:E}),e(C,[2,18],{12:p,21:_,22:b,23:w,24:E}),e(k,[2,19],{12:p,23:w,24:E}),e(k,[2,20],{12:p,23:w,24:E}),e(T,[2,21]),e([5,13,14,16,17,18,19,20,21,22,24,28,29],[2,22],{12:p,23:w}),e(x,[2,34]),e(T,[2,11]),e(T,[2,25]),{16:[1,61],28:[1,62],29:[1,63]},e(O,[2,29],{12:p,13:h,14:f,17:m,18:g,19:v,20:y,21:_,22:b,23:w,24:E}),e(O,[2,30]),e(T,[2,36]),{2:13,4:64,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},e(S,[2,12],{12:p,14:f,20:y,21:_,22:b,23:w,24:E}),e(S,[2,14],{12:p,14:f,20:y,21:_,22:b,23:w,24:E}),e(S,[2,13],{12:p,14:f,20:y,21:_,22:b,23:w,24:E}),e(T,[2,26]),{2:13,4:65,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},{2:13,4:66,6:3,7:4,8:t,9:n,10:a,11:r,14:i,15:o,20:s,25:l,30:c,32:u,33:d},e([5,13,16,28,29],[2,9],{12:p,14:f,17:m,18:g,19:v,20:y,21:_,22:b,23:w,24:E}),e(O,[2,31],{12:p,13:h,14:f,17:m,18:g,19:v,20:y,21:_,22:b,23:w,24:E}),e(O,[2,32],{12:p,13:h,14:f,17:m,18:g,19:v,20:y,21:_,22:b,23:w,24:E})],defaultActions:{17:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],a=[null],r=[],i=this.table,o="",s=0,l=0,c=0,u=2,d=1,p=r.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);h.setInput(e,f.yy),f.yy.lexer=h,f.yy.parser=this,"undefined"==typeof h.yylloc&&(h.yylloc={});var g=h.yylloc;r.push(g);var v=h.options&&h.options.ranges;function y(e){n.length=n.length-2*e,a.length=a.length-e,r.length=r.length-e}"function"===typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,b,w,E,T,x,C,S,k,O=function(){var e;return"number"!==typeof(e=h.lex()||d)&&(e=t.symbols_[e]||e),e},M={};;){if(w=n[n.length-1],this.defaultActions[w]?E=this.defaultActions[w]:(null!==_&&"undefined"!=typeof _||(_=O()),E=i[w]&&i[w][_]),"undefined"===typeof E||!E.length||!E[0]){var L,D=function(e){for(var t=n.length-1,a=0;;){if(u.toString()in i[e])return a;if(0===e||t<2)return!1;e=n[t-=2],++a}},R="";if(c)b!==d&&(L=D(w));else{for(x in L=D(w),k=[],i[w])this.terminals_[x]&&x>u&&k.push("'"+this.terminals_[x]+"'");R=h.showPosition?"Parse error on line "+(s+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(s+1)+": Unexpected "+(_==d?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(R,{text:h.match,token:this.terminals_[_]||_,line:h.yylineno,loc:g,expected:k,recoverable:!1!==L})}if(3==c){if(_===d||b===d)throw new Error(R||"Parsing halted while starting to recover from another error.");l=h.yyleng,o=h.yytext,s=h.yylineno,g=h.yylloc,_=O()}if(!1===L)throw new Error(R||"Parsing halted. No suitable error recovery rule available.");y(L),b=_==u?null:_,_=u,w=n[n.length-1],E=i[w]&&i[w][u],c=3}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+_);switch(E[0]){case 1:n.push(_),a.push(h.yytext),r.push(h.yylloc),n.push(E[1]),_=null,b?(_=b,b=null):(l=h.yyleng,o=h.yytext,s=h.yylineno,g=h.yylloc,c>0&&c--);break;case 2:if(C=this.productions_[E[1]][1],M.$=a[a.length-C],M._$={first_line:r[r.length-(C||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(C||1)].first_column,last_column:r[r.length-1].last_column},v&&(M._$.range=[r[r.length-(C||1)].range[0],r[r.length-1].range[1]]),"undefined"!==typeof(T=this.performAction.apply(M,[o,l,s,f.yy,E[1],a,r].concat(p))))return T;C&&(n=n.slice(0,-1*C*2),a=a.slice(0,-1*C),r=r.slice(0,-1*C)),n.push(this.productions_[E[1]][0]),a.push(M.$),r.push(M._$),S=i[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},L={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===a.length?this.yylloc.first_column:0)+a[a.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,a,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(a=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in r)this[i]=r[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if((n=this._input.match(this.rules[r[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,a=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[a]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,a){switch(n){case 0:break;case 1:case 2:return 8;case 3:case 4:return 9;case 5:case 6:return 10;case 7:return 25;case 8:return 33;case 9:case 10:return 25;case 11:case 12:return 30;case 13:return 32;case 14:return 27;case 15:return 11;case 16:return 12;case 17:return" ";case 18:return 31;case 19:return":";case 20:return 28;case 21:return 29;case 22:return 21;case 23:return 22;case 24:return 20;case 25:return 14;case 26:return 24;case 27:return 15;case 28:return 16;case 29:return 18;case 30:return 17;case 31:return 19;case 32:return'"';case 33:return"'";case 34:return"!";case 35:return 13;case 36:return 23;case 37:return"#";case 38:return 5}},rules:[/^(?:\s+)/,/^(?:PI\b)/,/^(?:pi\b)/,/^(?:E\b)/,/^(?:e\b)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9\.]+(?=[(]))/,/^(?:#[A-Z0-9\/]+(!|\?)?)/,/^(?:[A-Za-z\.]+(?=[(]))/,/^(?:[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/,/^(?:[A-Za-z_]+)/,/^(?:[0-9]+)/,/^(?:\[(.*)?\])/,/^(?:\{.*?\})/,/^(?:&)/,/^(?: )/,/^(?:[.])/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:>)/,/^(?:<)/,/^(?:NOT\b)/,/^(?:")/,/^(?:')/,/^(?:!)/,/^(?:=)/,/^(?:%)/,/^(?:[#])/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!0}}};function D(){this.yy={}}return M.lexer=L,D.prototype=M,M.Parser=D,new D}();t.parser=a,t.Parser=a.Parser,t.parse=function(){return a.parse.apply(a,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"toNumber",(function(){return i})),n.d(t,"invertNumber",(function(){return o}));var a=n(171),r=n(175);function i(e){var t;return"number"===typeof e?t=e:"string"===typeof e&&(t=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10)),isNaN(t)&&(t=0),{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.NUMBER,value:t}}function o(e){var t=Object(r.parseNumber)(e.value);return t=t?-1*t:0,{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.NUMBER,value:t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"parseNumber",(function(){return r})),n.d(t,"isValidNumber",(function(){return i})),n.d(t,"isNumberArray",(function(){return o})),n.d(t,"parseString",(function(){return s})),n.d(t,"d1900",(function(){return l})),n.d(t,"parseDate",(function(){return c})),n.d(t,"formatDate",(function(){return u})),n.d(t,"getNumberByDigit",(function(){return d})),n.d(t,"getStringIndex",(function(){return p})),n.d(t,"getDateFormat",(function(){return h}));var a=n(172),r=function(e){var t;return"number"===typeof e?t=e:"string"===typeof e?t=""===e?0:e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):"boolean"===typeof e?t=Number(e):void 0===e&&(t=0),t},i=function(e){return(e||0===e)&&"[object Number]"===Object.prototype.toString.call(e)},o=function(e){return e.every((function(e){return!e||"[object Number]"===Object.prototype.toString.call(e)}))},s=function(e){return e||0===e?e.toString():""},l=new Date(Date.UTC(1900,0,1)),c=function(e){if(!isNaN(e)){if(e instanceof Date)return new Date(e);var t=parseInt(e,10);return t<0?a.INTERNAL_ERRORS[a.ERROR_VALUE]:t<=60?new Date(l.getTime()+864e5*(t-1)):new Date(l.getTime()+864e5*(t-2))}return"string"!==typeof e||(e=new Date(e),isNaN(e))?a.INTERNAL_ERRORS[a.ERROR_VALUE]:e},u=function(e){return e>9?e:"0".concat(e)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return Number.parseFloat(e.toFixed(t))},p=function(e,t,n){var a="";return e&&t?a=(a=t.indexOf(e,n))>-1?a+1:0:!e&&t&&(a=n+1),a},h=function(e){var t=s(e).split(" ");if(1===t.length)return"YYYY-MM-DD";var n=s(t[1]);return n?n.split(/[:/]/g).length<3?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}},function(e,t,n){"use strict";n.r(t),n.d(t,"getPI",(function(){return r})),n.d(t,"getE",(function(){return i}));var a=n(171);function r(){return{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.NUMBER,value:Math.PI}}function i(){return{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.NUMBER,value:Math.E}}},function(e,t,n){"use strict";n.r(t),n.d(t,"trimEdges",(function(){return r}));var a=n(171);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e=e.substring(t,e.length-t),{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.STRING,value:e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l})),n.d(t,"registerOperation",(function(){return c}));var a=n(162),r=n(179),i=n(181),o=n(172),s=Object.create(null);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e=e.toUpperCase(),!s[e])throw Error(o.ERROR_NAME);return s[e].apply(s,Object(a.default)(t))}function c(e,t){Array.isArray(e)||(e=[e.toUpperCase()]),e.forEach((function(e){t.isFactory?s[e]=t(e):s[e]=t}))}c(r.add.SYMBOL,r.add),c(r.ampersand.SYMBOL,r.ampersand),c(r.divide.SYMBOL,r.divide),c(r.equal.SYMBOL,r.equal),c(r.greater.SYMBOL,r.greater),c(r.greaterEq.SYMBOL,r.greaterEq),c(r.lessThan.SYMBOL,r.lessThan),c(r.lessThanEq.SYMBOL,r.lessThanEq),c(r.mod.SYMBOL,r.mod),c(r.multiply.SYMBOL,r.multiply),c(r.power.SYMBOL,r.power),c(r.subtract.SYMBOL,r.subtract),c(r.unEqual.SYMBOL,r.unEqual),c(i.default.SYMBOL,i.default)},function(e,t,n){"use strict";n.r(t),n.d(t,"add",(function(){return s})),n.d(t,"ampersand",(function(){return l})),n.d(t,"divide",(function(){return c})),n.d(t,"equal",(function(){return u})),n.d(t,"greater",(function(){return d})),n.d(t,"greaterEq",(function(){return p})),n.d(t,"lessThan",(function(){return h})),n.d(t,"lessThanEq",(function(){return f})),n.d(t,"mod",(function(){return m})),n.d(t,"multiply",(function(){return g})),n.d(t,"unEqual",(function(){return v})),n.d(t,"power",(function(){return y})),n.d(t,"subtract",(function(){return _}));var a=n(180),r=n(175),i=n(172),o=n(171);function s(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(i.default)(i.ERROR_VALUE);var o=n+a;return Object(r.getNumberByDigit)(o)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}}function l(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return Object(r.parseString)(e)+Object(r.parseString)(t)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.STRING}}function c(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(i.default)(i.ERROR_VALUE);if(0===a)return Object(i.default)(i.ERROR_DIV_ZERO);var o=n/a;return Object(r.getNumberByDigit)(o)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}}function u(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return e===t}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}}function d(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return Object(r.parseNumber)(e)>Object(r.parseNumber)(t)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}}function p(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return Object(r.parseNumber)(e)>=Object(r.parseNumber)(t)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}}function h(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return Object(r.parseNumber)(e)<Object(r.parseNumber)(t)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}}function f(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return Object(r.parseNumber)(e)<=Object(r.parseNumber)(t)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}}function m(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(i.default)(i.ERROR_VALUE);if(0===a)return Object(i.default)(i.ERROR_DIV_ZERO);var o=n%a;return Object(r.getNumberByDigit)(o)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}}function g(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(i.default)(i.ERROR_VALUE);var o=n*a;return Object(r.getNumberByDigit)(o)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}}function v(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){return e!==t}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}}function y(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(i.default)(i.ERROR_VALUE);if(a<=0&&0===n)return Object(i.default)(i.ERROR_VALUE);var o=Math.pow(n,a);return Object(r.getNumberByDigit)(o)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}}function _(e,t){var n=Object(a.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(i.default)(i.ERROR_VALUE);var o=n-a;return Object(r.getNumberByDigit)(o)}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}}s.SYMBOL="+",l.SYMBOL="&",c.SYMBOL="/",u.SYMBOL="===",d.SYMBOL=">",p.SYMBOL=">=",h.SYMBOL="<",f.SYMBOL="<=",m.SYMBOL="%",g.SYMBOL="*",y.SYMBOL="^",_.SYMBOL="-",v.SYMBOL="<>"},function(e,t,n){"use strict";n.r(t),n.d(t,"onParamOperateParam",(function(){return r})),n.d(t,"onParamOperateParamWithFilters",(function(){return i})),n.d(t,"onOperateParam",(function(){return o})),n.d(t,"onOperateMultiParams",(function(){return s}));var a=n(171),r=function(e,t,n){var r,i,o=e.param_type,s=e.value,l=t.param_type,c=t.value;return o===a.FORMULA_PARAM_TYPE.COLUMN&&l===a.FORMULA_PARAM_TYPE.COLUMN?(r=a.FORMULA_PARAM_TYPE.COLUMN,i=s.map((function(e,t){return n(e,c[t])}))):o===a.FORMULA_PARAM_TYPE.COLUMN?(r=a.FORMULA_PARAM_TYPE.COLUMN,i=s.map((function(e){return n(e,c)}))):l===a.FORMULA_PARAM_TYPE.COLUMN?(r=a.FORMULA_PARAM_TYPE.COLUMN,i=c.map((function(e){return n(s,e)}))):(r=a.FORMULA_PARAM_TYPE.GENERAL,i=n(s,c)),{param_type:r,value:i}},i=function(e,t,n,r){var i,o,s=e.param_type,l=e.value,c=t.param_type,u=t.value;return s===a.FORMULA_PARAM_TYPE.COLUMN&&c===a.FORMULA_PARAM_TYPE.COLUMN?(i=a.FORMULA_PARAM_TYPE.COLUMN,o=l.map((function(e,t){return r(e,u[t],n)}))):s===a.FORMULA_PARAM_TYPE.COLUMN?(i=a.FORMULA_PARAM_TYPE.COLUMN,o=l.map((function(e){return r(e,u,n)}))):c===a.FORMULA_PARAM_TYPE.COLUMN?(i=a.FORMULA_PARAM_TYPE.COLUMN,o=u.map((function(e){return r(l,e,n)}))):(i=a.FORMULA_PARAM_TYPE.GENERAL,o=r(l,u,n)),{param_type:i,value:o}},o=function(e,t){var n,r,i=e.param_type,o=e.value;return i===a.FORMULA_PARAM_TYPE.COLUMN?(n=a.FORMULA_PARAM_TYPE.COLUMN,r=o.map((function(e){return t(e)}))):(n=a.FORMULA_PARAM_TYPE.GENERAL,r=t(o)),{param_type:n,value:r}},s=function(e,t,n){var r,i,o=e.find((function(e){return e.param_type===a.FORMULA_PARAM_TYPE.COLUMN}));if(o)r=a.FORMULA_PARAM_TYPE.COLUMN,i=o.value.map((function(a,r){var i=l(t,e,r);return n(i)}));else{var s=l(t,e);i=n(s),r=a.FORMULA_PARAM_TYPE.GENERAL}return{param_type:r,value:i}},l=function(e,t,n){return t.map((function(t,r){return t.param_type===a.FORMULA_PARAM_TYPE.COLUMN?e(t.value[n],r):e(t.value,r)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"SYMBOL",(function(){return o})),n.d(t,"default",(function(){return s}));var a=n(182),r=n(171),i=n(172),o=r.SUPPORTED_FORMULAS;function s(e){return function(){var t,n=(e=e.toUpperCase()).split("."),r=!1;if(1===n.length)a.default[n[0]]&&(r=!0,t=a.default[n[0]].apply(a.default,arguments));else{for(var o=n.length,s=0,l=a.default;s<o;)if(l=l[n[s]],s++,!l){l=null;break}l&&(r=!0,t=l.apply(void 0,arguments))}if(!r)throw Error(i.ERROR_NAME);return t}}s.isFactory=!0,s.SYMBOL=o},function(e,t,n){"use strict";n.r(t);var a=n(183),r=n(184),i=n(185),o=n(186),s=n(187),l=n(188);t.default=Object(a.default)({},r,{},i,{},o,{},s,{},l)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(5);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"ABS",(function(){return l})),n.d(t,"ADD",(function(){return c})),n.d(t,"CEILING",(function(){return u})),n.d(t,"DIVIDE",(function(){return d})),n.d(t,"EQUAL",(function(){return p})),n.d(t,"EVEN",(function(){return h})),n.d(t,"EXP",(function(){return f})),n.d(t,"FLOOR",(function(){return m})),n.d(t,"GREATER",(function(){return g})),n.d(t,"GREATEREQ",(function(){return v})),n.d(t,"LESSTHAN",(function(){return y})),n.d(t,"LESSTHANEQ",(function(){return _})),n.d(t,"LN",(function(){return b})),n.d(t,"LG",(function(){return w})),n.d(t,"LOG",(function(){return E})),n.d(t,"MOD",(function(){return T})),n.d(t,"MULTIPLY",(function(){return x})),n.d(t,"ODD",(function(){return C})),n.d(t,"POWER",(function(){return S})),n.d(t,"SQRT",(function(){return k})),n.d(t,"SUBTRACT",(function(){return O})),n.d(t,"SUM",(function(){return M})),n.d(t,"UNEQUAL",(function(){return L})),n.d(t,"INT",(function(){return D})),n.d(t,"ROUND",(function(){return R})),n.d(t,"ROUNDDOWN",(function(){return N})),n.d(t,"ROUNDUP",(function(){return I})),n.d(t,"SIGN",(function(){return A}));var a=n(179),r=n(175),i=n(180),o=n(172),s=n(171),l=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?Math.abs(t):Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},c=function(e,t){var n=Object(a.add)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},u=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?Math.ceil(t)||0:Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},d=function(e,t){var n=Object(a.divide)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},p=function(e,t){var n=Object(a.equal)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.BOOL}},h=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);if(Object(r.isValidNumber)(t)){var n=Math.ceil(t)||0;return n%2===0?n:n+1}return Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},f=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?Object(r.getNumberByDigit)(Math.pow(Math.E,t)):Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},m=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?Math.floor(t):Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},g=function(e,t){var n=Object(a.greater)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.BOOL}},v=function(e,t){var n=Object(a.greaterEq)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.BOOL}},y=function(e,t){var n=Object(a.lessThan)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.BOOL}},_=function(e,t){var n=Object(a.lessThanEq)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.BOOL}},b=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return!Object(r.isValidNumber)(t)||t<=0?Object(o.default)(o.ERROR_VALUE):Object(r.getNumberByDigit)(Math.log(t))}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},w=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return t>0?Object(r.getNumberByDigit)(Math.log10(t)):Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},E=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);return n>0&&1!==n&&a>0?Object(r.getNumberByDigit)(Math.log(a)/Math.log(n)):Object(o.default)(o.ERROR_VALUE)})):w(e)).param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},T=function(e,t){var n=Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(t),a=Object(r.parseNumber)(e)%n;return a?(a=Object(r.getNumberByDigit)(a),n>0?a:-a):a}));return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},x=function(e,t){var n=Object(a.multiply)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},C=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);if(Object(r.isValidNumber)(t)){var n=Math.ceil(t)||0;return n%2===0?n+1:n}return Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},S=function(e,t){var n=Object(a.power)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},k=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return t>=0?Object(r.getNumberByDigit)(Math.sqrt(t)):Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},O=function(e,t){var n=Object(a.subtract)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},M=function(){var e=arguments?Array.prototype.slice.call(arguments):[],t=e.reduce((function(e,t){return Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e)||0,a=Object(r.parseNumber)(t)||0;return Object(r.getNumberByDigit)(n+a)}))})),n=t.param_type,a=t.value;return{param_type:n,value:a,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},L=function(e,t){var n=Object(a.unEqual)(e,t);return{param_type:n.param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.BOOL}},D=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?Math.floor(t):Object(o.default)(o.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},R=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(o.default)(o.ERROR_VALUE);if(0===a)return Math.round(n);if(a<0){var i=parseInt(n)*Math.pow(.1,Math.abs(a));return Math.round(i)*Math.pow(10,Math.abs(a))}return Object(r.getNumberByDigit)(n,a)})):Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?Math.round(t):Object(o.default)(o.ERROR_VALUE)}))).param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},N=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(o.default)(o.ERROR_VALUE);if(0===a)return Math.floor(n);if(a<0){var i=parseInt(n)*Math.pow(.1,Math.abs(a));return i>0?Math.floor(i)*Math.pow(10,Math.abs(a)):(Math.ceil(i)||0)*Math.pow(10,Math.abs(a))}var s=n+"",l=-1===s.indexOf(".")?s.length:s.indexOf(".");return Number(s.substr(0,l+a+1))})):Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?t>0?Math.floor(t):Math.ceil(t)||0:Object(o.default)(o.ERROR_VALUE)}))).param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},I=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(e),a=Object(r.parseNumber)(t);if(!Object(r.isValidNumber)(n)||!Object(r.isValidNumber)(a))return Object(o.default)(o.ERROR_VALUE);if(0===a)return Math.ceil(n);if(a<0){var i=parseInt(n)*Math.pow(.1,Math.abs(a));return i<0?Math.floor(i)*Math.pow(10,Math.abs(a)):(Math.ceil(i)||0)*Math.pow(10,Math.abs(a))}var s=n+"",l=s.indexOf(".");return-1===l?n:(-1!==l&&s.length-l-1>a&&(n>0?n+=Math.pow(.1,a):n-=Math.pow(.1,a)),l=-1===l?0:l,s=n+"",Number(s.substr(0,l+a+1)))})):Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return Object(r.isValidNumber)(t)?t>0?Math.ceil(t)||0:Math.floor(t):Object(o.default)(o.ERROR_VALUE)}))).param_type,value:n.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}},A=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseNumber)(e);return t?t>0?1:-1:0}));return{param_type:t.param_type,value:t.value,result_type:s.FORMULA_RESULT_TYPE.NUMBER}}},function(e,t,n){"use strict";n.r(t),n.d(t,"CONCATENATE",(function(){return l})),n.d(t,"EXACT",(function(){return c})),n.d(t,"LEN",(function(){return u})),n.d(t,"LOWER",(function(){return d})),n.d(t,"TRIM",(function(){return p})),n.d(t,"UPPER",(function(){return h})),n.d(t,"FIND",(function(){return f})),n.d(t,"LEFT",(function(){return m})),n.d(t,"MID",(function(){return g})),n.d(t,"REPLACE",(function(){return v})),n.d(t,"REPT",(function(){return y})),n.d(t,"RIGHT",(function(){return _})),n.d(t,"SEARCH",(function(){return b})),n.d(t,"SUBSTITUTE",(function(){return w})),n.d(t,"T",(function(){return E})),n.d(t,"VALUE",(function(){return T}));var a=n(179),r=n(175),i=n(180),o=n(171),s=n(172),l=function(){var e=arguments?Array.prototype.slice.call(arguments):[],t=e.reduce((function(e,t){return Object(a.ampersand)(e,t)})),n=t.param_type,r=t.value;return{param_type:n,value:r,result_type:o.FORMULA_RESULT_TYPE.STRING}},c=function(e,t){var n=Object(a.equal)(e,t);return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.BOOL}},u=function(e){var t=Object(i.onOperateParam)(e,(function(e){return e?Object(r.parseString)(e).length:0}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},d=function(e){var t=Object(i.onOperateParam)(e,(function(e){return Object(r.parseString)(e).toLowerCase()}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},p=function(e){var t=Object(i.onOperateParam)(e,(function(e){return Object(r.parseString)(e).replace(/ +/g," ").trim()}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},h=function(e){var t=Object(i.onOperateParam)(e,(function(e){return Object(r.parseString)(e).toUpperCase()}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},f=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[];return 0===n.length||1===n.length?(e={param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:""},t=o.FORMULA_RESULT_TYPE.STRING):2===n.length?(e=Object(i.onParamOperateParam)(n[0],n[1],(function(e,t){var n=Object(r.parseString)(e),a=Object(r.parseString)(t);return Object(r.getStringIndex)(n,a,0)})),t=o.FORMULA_RESULT_TYPE.NUMBER):(e=Object(i.onOperateMultiParams)(n,(function(e,t){return 2===t?parseInt(Object(r.parseNumber)(e))||1:Object(r.parseString)(e)}),(function(e){var t=e[2]-1;return t=t<0?0:t,Object(r.getStringIndex)(e[0],e[1],t)})),t=o.FORMULA_RESULT_TYPE.NUMBER),{result_type:t,param_type:e.param_type,value:e.value}},m=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(t),a=Object(r.parseString)(e);return null!=t&&""!==t&&Object(r.isValidNumber)(n)?a.substr(0,parseInt(n)):Object(s.default)(s.ERROR)})):Object(i.onOperateParam)(e,(function(e){return Object(r.parseString)(e).substr(0,1)}))).param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},g=function(){var e,t=arguments?Array.prototype.slice.call(arguments):[];return{param_type:(e=t.length<3?{param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:Object(s.default)(s.ERROR)}:Object(i.onOperateMultiParams)(t,(function(e,t){return 0===t?Object(r.parseString)(e):e}),(function(e){var t=e[0],n=e[1],a=e[2];return null!=n&&""!==n&&Object(r.isValidNumber)(Object(r.parseNumber)(n))&&Object(r.isValidNumber)(Object(r.parseNumber)(a))?!a&&0!==a||""===a?"":(n=parseInt(Object(r.parseNumber)(n)),a=parseInt(Object(r.parseNumber)(a))||0,n>0&&a>=0?t.substr(n-1,a):Object(s.default)(s.ERROR_VALUE)):Object(s.default)(s.ERROR)}))).param_type,value:e.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},v=function(){var e,t=arguments?Array.prototype.slice.call(arguments):[];return{param_type:(e=t.length<3?{param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:Object(s.default)(s.ERROR)}:Object(i.onOperateMultiParams)(t,(function(e,t){return 0===t||3===t?Object(r.parseString)(e):e}),(function(e){var t=e[0],n=e[1],a=e[2],i=e[3];if(!n&&0!==n||!a&&0!==a||""===n||""===a||!Object(r.isValidNumber)(Object(r.parseNumber)(n))||!Object(r.isValidNumber)(Object(r.parseNumber)(a)))return Object(s.default)(s.ERROR);if(n=parseInt(Object(r.parseNumber)(n)),a=parseInt(Object(r.parseNumber)(a))||0,n<=0&&(a=1,n=1),0===a)return t.slice(0,n-1)+i+t.slice(n-1);a=a<0?a+t.length:a;var o=t.substr(n-1,a);return t.replace(o,i)}))).param_type,value:e.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},y=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){if(!t&&0!==t||""===t||!Object(r.isValidNumber)(Object(r.parseNumber)(t)))return Object(s.default)(s.ERROR);var n=parseInt(Object(r.parseNumber)(t))||0;return n<0?Object(s.default)(s.ERROR):Object(r.parseString)(e).repeat(n)})):{param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:Object(s.default)(s.ERROR)}).param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},_=function(e,t){var n;return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=Object(r.parseNumber)(t),a=Object(r.parseString)(e);if(!t&&0!==t||""===t||!Object(r.isValidNumber)(n))return Object(s.default)(s.ERROR);var i=a.length-parseInt(n);return a.substr(i)})):Object(i.onOperateParam)(e,(function(e){return Object(r.parseString)(e).substr(-1,1)}))).param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},b=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[];return 0===n.length||1===n.length?(e={param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:Object(s.default)(s.ERROR)},t=o.FORMULA_RESULT_TYPE.STRING):2===n.length?(e=Object(i.onParamOperateParam)(n[0],n[1],(function(e,t){var n=Object(r.parseString)(e).toLowerCase(),a=Object(r.parseString)(t).toLowerCase();return Object(r.getStringIndex)(n,a,0)})),t=o.FORMULA_RESULT_TYPE.NUMBER):(e=Object(i.onOperateMultiParams)(n,(function(e,t){return t<2?Object(r.parseString)(e).toLowerCase():parseInt(Object(r.parseNumber)(e))||1}),(function(e){var t=e[2]-1;return t=t<0?0:t,Object(r.getStringIndex)(e[0],e[1],t)})),t=o.FORMULA_RESULT_TYPE.NUMBER),{param_type:e.param_type,value:e.value,result_type:t}},w=function(){var e,t=arguments?Array.prototype.slice.call(arguments):[];return{param_type:(e=0===t.length?{param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:""}:1===t.length?Object(i.onOperateParam)(t[0],(function(e){return Object(r.parseString)(e)})):2===t.length?Object(i.onParamOperateParam)(t[0],t[1],(function(e,t){var n=Object(r.parseString)(e);return Object(r.parseString)(t)&&n?Object(s.default)(s.ERROR):n})):Object(i.onOperateMultiParams)(t,(function(e,t){return t<3?Object(r.parseString)(e):parseInt(Object(r.parseNumber)(e))||0}),(function(e){var t=e[3];return t=t<0?0:t,x(e[0],e[1],e[2],t)}))).param_type,value:e.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},E=function(e){var t=Object(i.onOperateParam)(e,(function(e){return"string"===typeof e?e:""}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},T=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=Object(r.parseString)(e).indexOf("%")>-1,n=parseFloat(Object(r.parseString)(e).replace(/[^.-\d]/g,""));return t&&!isNaN(n)&&(n=Object(r.getNumberByDigit)(n/100)),Object(r.isValidNumber)(n)?n:Object(s.default)(s.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},x=function(e,t,n,a){if(e){if(-1===e.indexOf(t))return e;var r=e.split(t);if(0===a)return r.join(n);if(r.length-1<a)return e;for(var i="",o=0;o<r.length;o++)i+=r[o],o===a-1?i+=n:o===r.length-1?i+="":i+=t;return i}return""}},function(e,t,n){"use strict";n.r(t),n.d(t,"DATEADD",(function(){return c})),n.d(t,"DAY",(function(){return u})),n.d(t,"DAYS",(function(){return d})),n.d(t,"HOUR",(function(){return p})),n.d(t,"MONTH",(function(){return h})),n.d(t,"MINUTE",(function(){return f})),n.d(t,"SECOND",(function(){return m})),n.d(t,"NETWORKDAYS",(function(){return g})),n.d(t,"NOW",(function(){return v})),n.d(t,"TODAY",(function(){return y})),n.d(t,"WEEKDAY",(function(){return _})),n.d(t,"WEEKNUM",(function(){return b})),n.d(t,"YEAR",(function(){return w}));var a=n(175),r=n(172),i=n(180),o=n(171),s=n(23),l=n.n(s),c=function(){var e,t=arguments?Array.prototype.slice.call(arguments):[];if(0===t.length)e={param_type:o.FORMULA_PARAM_TYPE.GENERAL,value:Object(r.default)(r.ERROR)};else{if(1===t.length||2===t.length)return Object(i.onOperateParam)(t[0],(function(e){var t=Object(a.parseDate)(e);return isNaN(new Date(t))?Object(r.default)(r.ERROR_VALUE):l()(t).format(Object(a.getDateFormat)(e))}));e=Object(i.onOperateMultiParams)(t,(function(e,t){return 0===t?e:1===t?parseInt(e)||0:["years","year","y","months","month","M","weeks","week","w","days","day","d","hours","hour","h","minutes","minute","m","seconds","second","s"].includes(Object(a.parseString)(e))?Object(a.parseString)(e):""}),(function(e){var t=Object(a.parseDate)(e[0]);return isNaN(new Date(t))?Object(r.default)(r.ERROR_VALUE):l()(t).add(e[1],e[2]).format(Object(a.getDateFormat)(e[0]))}))}return{param_type:e.param_type,value:e.value,result_type:o.FORMULA_RESULT_TYPE.STRING}},u=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?t.date():Object(r.default)(r.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},d=function(e,t){var n=Object(i.onParamOperateParam)(e,t,(function(e,t){var n=e&&l()(e),a=t&&l()(t);return e||t?n&&a&&n.isValid()&&a.isValid()?a.diff(n,"day"):Object(r.default)(r.ERROR_VALUE):""}));return{param_type:n.param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},p=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?t.hour():Object(r.default)(r.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},h=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?t.month()+1:Object(r.default)(r.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},f=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?t.minute():Object(r.default)(r.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},m=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?t.second():Object(r.default)(r.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},g=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];var c=Object(i.onParamOperateParamWithFilters)(e,t,a,(function(e,t,n){var a=e&&l()(e),i=t&&l()(t);if(!e&&!t)return"";if(!a||!i||!a.isValid()||!i.isValid())return Object(r.default)(r.ERROR_VALUE);for(var o=n?n.map((function(e){var t=l()(e.value);return t&&t.isValid()?t:Object(r.default)(r.ERROR_VALUE)})):[],s=i.diff(a,"day"),c=s>0?a:i,u=Math.abs(s),d=u,p=0;p<u;p++){for(var h=!1,f=0;f<o.length;f++){var m=o[f];if(m.date()===c.date()&&m.month()===c.month()&&m.year()===c.year()){h=!0;break}}h&&d--,c=c.add(1,"days")}return s>0?d:-d})),u=c.param_type,d=c.value;return{param_type:u,value:d,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},v=function(){var e=new l.a,t=e.year(),n=Object(a.formatDate)(e.month()+1),r=Object(a.formatDate)(e.date()),i=Object(a.formatDate)(e.hour()),s=Object(a.formatDate)(e.minute()),c="".concat(t,"-").concat(n,"-").concat(r," ").concat(i,":").concat(s);return{param_type:o.FORMULA_PARAM_TYPE.GENERAL,result_type:o.FORMULA_RESULT_TYPE.DATE,value:c}},y=function(){var e=new l.a,t=e.year(),n=Object(a.formatDate)(e.month()+1),r=Object(a.formatDate)(e.date()),i="".concat(t,"-").concat(n,"-").concat(r);return{param_type:o.FORMULA_RESULT_TYPE.GENERAL,result_type:o.FORMULA_RESULT_TYPE.DATE,value:i}},_=function(e,t){var n;if(!e)throw new Error(r.ERROR);return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=l()(e);if(!e||!n.isValid())return Object(r.default)(r.ERROR_VALUE);var i=Object(a.parseString)(t).toLowerCase();return i=i&&o.FIRST_OF_WEEK.includes(i)?i:o.FIRST_OF_WEEK[0],T(n,i)})):Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?T(t,o.FIRST_OF_WEEK[0]):Object(r.default)(r.ERROR_VALUE)}))).param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},b=function(e,t){var n;if(!e)throw new Error(r.ERROR);return{param_type:(n=t||0===t?Object(i.onParamOperateParam)(e,t,(function(e,t){var n=l()(e);if(!e||!n.isValid())return Object(r.default)(r.ERROR_VALUE);var i=Object(a.parseString)(t).toLowerCase();return i=i&&o.FIRST_OF_WEEK.includes(i)?i:o.FIRST_OF_WEEK[0],E(n,i)})):Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?E(t,o.FIRST_OF_WEEK[0]):Object(r.default)(r.ERROR_VALUE)}))).param_type,value:n.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},w=function(e){var t=Object(i.onOperateParam)(e,(function(e){var t=l()(e);return e&&t.isValid()?t.year():Object(r.default)(r.ERROR_VALUE)}));return{param_type:t.param_type,value:t.value,result_type:o.FORMULA_RESULT_TYPE.NUMBER}},E=function(e,t){var n=l()("".concat(e.year(),"-01-01")),a=n.day(),r=Math.round((e.valueOf()-n.valueOf())/864e5),i=Math.ceil((r+a)/7);return t===o.FIRST_OF_WEEK[0]&&0===e.day()&&(i+=1),i},T=function(e,t){var n=e.day();return t===o.FIRST_OF_WEEK[0]?n+1:0===n?7:n}},function(e,t,n){"use strict";n.r(t),n.d(t,"AVERAGE",(function(){return s})),n.d(t,"COUNT",(function(){return l})),n.d(t,"COUNTA",(function(){return c})),n.d(t,"COUNTALL",(function(){return u})),n.d(t,"COUNTBLANK",(function(){return d})),n.d(t,"MAX",(function(){return p})),n.d(t,"MIN",(function(){return h}));var a=n(184),r=n(175),i=n(171),o=n(180),s=function(){var e=arguments?Array.prototype.slice.call(arguments):[],t=e.length,n=a.SUM.apply(void 0,arguments),r=n.param_type,o=n.value;return r===i.FORMULA_PARAM_TYPE.GENERAL?(o=0!==t?o/t:0,o=Number.parseFloat(o.toFixed(8))):o=0!==t?o.map((function(e){return Number.parseFloat((e/t).toFixed(8))})):o.map((function(){return 0})),{param_type:r,value:o,result_type:i.FORMULA_RESULT_TYPE.NUMBER}},l=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[],a=n.find((function(e){return e.param_type===i.FORMULA_PARAM_TYPE.COLUMN}));if(a)e=i.FORMULA_PARAM_TYPE.COLUMN,t=a.value.map((function(e,t){var a=0;return n.forEach((function(e){var n=e.param_type===i.FORMULA_PARAM_TYPE.COLUMN?e.value[t]:e.value;Object(r.isValidNumber)(n)&&a++})),a}));else{e=i.FORMULA_PARAM_TYPE.GENERAL;var o=0;n.forEach((function(e){Object(r.isValidNumber)(e.value)&&o++})),t=o}return{param_type:e,value:t,result_type:i.FORMULA_RESULT_TYPE.NUMBER}},c=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[],a=n.find((function(e){return e.param_type===i.FORMULA_PARAM_TYPE.COLUMN}));if(a)e=i.FORMULA_PARAM_TYPE.COLUMN,t=a.value.map((function(e,t){var a=0;return n.forEach((function(e){var n;((n=e.param_type===i.FORMULA_PARAM_TYPE.COLUMN?e.value[t]:e.value)||0===n)&&a++})),a}));else{e=i.FORMULA_PARAM_TYPE.GENERAL;var r=0;n.forEach((function(e){var t=e.value;(t||0===t)&&r++})),t=r}return{param_type:e,value:t,result_type:i.FORMULA_RESULT_TYPE.NUMBER}},u=function(){var e=arguments?Array.prototype.slice.call(arguments):[],t=e.length;return{param_type:i.FORMULA_PARAM_TYPE.GENERAL,result_type:i.FORMULA_RESULT_TYPE.NUMBER,value:t}},d=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[],a=n.find((function(e){return e.param_type===i.FORMULA_PARAM_TYPE.COLUMN}));if(a)e=i.FORMULA_PARAM_TYPE.COLUMN,t=a.value.map((function(e,t){var a=0;return n.forEach((function(e){var n;(n=e.param_type===i.FORMULA_PARAM_TYPE.COLUMN?e.value[t]:e.value)||0===n||a++})),a}));else{e=i.FORMULA_PARAM_TYPE.GENERAL;var r=0;n.forEach((function(e){var t=e.value;t||0===t||r++})),t=r}return{param_type:e,value:t,result_type:i.FORMULA_RESULT_TYPE.NUMBER}},p=function(){var e=arguments?Array.prototype.slice.call(arguments):[],t=e.reduce((function(e,t){return f(e,t)})),n=t.param_type,a=t.value;return{param_type:n,value:a,result_type:i.FORMULA_RESULT_TYPE.NUMBER}},h=function(){var e=arguments?Array.prototype.slice.call(arguments):[],t=e.reduce((function(e,t){return m(e,t)})),n=t.param_type,a=t.value;return{param_type:n,value:a,result_type:i.FORMULA_RESULT_TYPE.NUMBER}};function f(e,t){return Object(o.onParamOperateParam)(e,t,(function(e,t){return e>t?e:t}))}function m(e,t){return Object(o.onParamOperateParam)(e,t,(function(e,t){return(e?Object(r.parseNumber)(e):1/0)<(t?Object(r.parseNumber)(t):1/0)?e:t}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"AND",(function(){return s})),n.d(t,"FALSE",(function(){return l})),n.d(t,"IF",(function(){return c})),n.d(t,"NOT",(function(){return u})),n.d(t,"OR",(function(){return d})),n.d(t,"TRUE",(function(){return p})),n.d(t,"XOR",(function(){return h})),n.d(t,"SWITCH",(function(){return f}));var a=n(171),r=n(172),i=n(180),o=n(175),s=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[],r=n.find((function(e){return e.param_type===a.FORMULA_PARAM_TYPE.COLUMN}));return r?(e=a.FORMULA_PARAM_TYPE.COLUMN,t=r.value.map((function(e,t){return n.every((function(e){var n;return(n=e.param_type===a.FORMULA_PARAM_TYPE.COLUMN?e.value[t]:e.value)||0===n}))}))):(e=a.FORMULA_PARAM_TYPE.GENERAL,t=n.every((function(e){var t=e.value;return t||0===t}))),{param_type:e,value:t,result_type:a.FORMULA_RESULT_TYPE.BOOL}},l=function(){return{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.BOOL,value:!1}},c=function(){var e=arguments?Array.prototype.slice.call(arguments):[];if(e.length<2)throw new Error(r.ERROR);var t=Object(i.onOperateMultiParams)(e,(function(e,t){return 0===t?Boolean(e):e}),(function(e){return e[0]?e[1]:e[2]})),n=t.param_type,s=t.value;return{param_type:n,result_type:Array.isArray(s)?Object(o.isNumberArray)(s)?a.FORMULA_RESULT_TYPE.NUMBER:a.FORMULA_RESULT_TYPE.STRING:Object(o.isValidNumber)(s)?a.FORMULA_RESULT_TYPE.NUMBER:a.FORMULA_RESULT_TYPE.STRING,value:s}},u=function(e){var t,n,r=e.param_type,i=e.value;return r===a.FORMULA_PARAM_TYPE.COLUMN?(t=a.FORMULA_PARAM_TYPE.COLUMN,n=i.map((function(e){return!e}))):(t=a.FORMULA_PARAM_TYPE.GENERAL,n=!i),{param_type:t,value:n,result_type:a.FORMULA_RESULT_TYPE.BOOL}},d=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[],r=n.find((function(e){return e.param_type===a.FORMULA_PARAM_TYPE.COLUMN}));return r?(e=a.FORMULA_PARAM_TYPE.COLUMN,t=r.value.map((function(e,t){return n.some((function(e){var n;return(n=e.param_type===a.FORMULA_PARAM_TYPE.COLUMN?e.value[t]:e.value)||0===n}))}))):(e=a.FORMULA_PARAM_TYPE.GENERAL,t=n.some((function(e){var t=e.value;return t||0===t}))),{param_type:e,value:t,result_type:a.FORMULA_RESULT_TYPE.BOOL}},p=function(){return{param_type:a.FORMULA_PARAM_TYPE.GENERAL,result_type:a.FORMULA_RESULT_TYPE.BOOL,value:!0}},h=function(){var e,t,n=arguments?Array.prototype.slice.call(arguments):[],r=n.find((function(e){return e.param_type===a.FORMULA_PARAM_TYPE.COLUMN}));if(r)e=a.FORMULA_PARAM_TYPE.COLUMN,t=r.value.map((function(e,t){var r=0;return n.forEach((function(e){var n;((n=e.param_type===a.FORMULA_PARAM_TYPE.COLUMN?e.value[t]:e.value)||0===n)&&r++})),r%2!==0}));else{e=a.FORMULA_PARAM_TYPE.GENERAL;var i=0;n.forEach((function(e){var t=e.value;(t||0===t)&&i++})),t=i%2!==0}return{param_type:e,value:t,result_type:a.FORMULA_RESULT_TYPE.BOOL}},f=function(){var e=arguments?Array.prototype.slice.call(arguments):[];if(e.length<3)throw new Error(r.ERROR);var t=Object(i.onOperateMultiParams)(e,(function(e,t){return e}),(function(e){for(var t,n=e[0],a=e.length,r=a%2===1?"":e[a-1],i=!1,o=1;o<a-1;o+=2)if(e[o]===n){i=!0,t=e[o+1];break}return i?t:r})),n=t.param_type,s=t.value;return{param_type:n,result_type:Array.isArray(s)?Object(o.isNumberArray)(s)?a.FORMULA_RESULT_TYPE.NUMBER:a.FORMULA_RESULT_TYPE.STRING:Object(o.isValidNumber)(s)?a.FORMULA_RESULT_TYPE.NUMBER:a.FORMULA_RESULT_TYPE.STRING,value:s}}},function(e,t,n){"use strict";n.r(t);var a=n(190);n.d(t,"Chart",(function(){return a.default}));var r=n(196);n.d(t,"PivotTable",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var a=n(183),r=n(155),i=n(156),o=n(191),s=n(18),l=n(195),c=n(2),u=function(){function e(){Object(r.default)(this,e)}return Object(i.default)(e,null,[{key:"calculateChart",value:function(e,t){return e.column_groupby_column_key?this.calculateGroupingChart(e,t):this.calculateBasicChart(e,t)}},{key:"calculateBasicChart",value:function(e,t){var n,a,r,i,u,d,p,h,f,m=this;"chart_pie"===e.type?(n=e.table_id,a=e.view_id,r=e.groupby_column_key,i=e.summary_type,u=e.summary_method,d=e.summary_column_key,p=e.groupby_date_granularity,h=e.groupby_include_empty_cells,f=e.groupby_geolocation_granularity):(n=e.table_id,a=e.view_id,r=e.x_axis_column_key,i=e.y_axis_summary_type,u=e.y_axis_summary_method,d=e.y_axis_column_key,p=e.x_axis_date_granularity,f=e.x_axis_geolocation_granularity,h=e.x_axis_include_empty);var g=s.TableUtils.getTableById(t,n),v=o.default.getViewById(g.views,a);if(v&&r){var y=o.default.getAllFormulaColumns(g.columns),_=s.TableUtils.getTableColumnByKey(g,r),b=s.TableUtils.getTableColumnByKey(g,d),w=_.type,E=(b||{}).type;"date"!==w||p||(p="day"),"geolocation"!==w||f||(f="province");var T=Object(l.getStatsiticRows)(g,v),x=o.default.getTableFormulaResults(g,y,T),C=[];return T.forEach((function(e){if(Object(l.isValidRow)(e,x,w,r,h)){var t,n=Object(l.getGroupLabel)(e,x,_,p,f);w===c.CellType.MULTIPLE_SELECT||w===c.CellType.COLLABORATOR?0===n.length&&h?(t=C.findIndex((function(e){return!e.name})),m.updateBasicChartRows(C,t,null,e)):n.forEach((function(n){t=C.findIndex((function(e){return n===e.name})),m.updateBasicChartRows(C,t,n,e)})):(t=C.findIndex((function(e){return e.name===n})),m.updateBasicChartRows(C,t,n,e))}})),this.updateChartValue(d,E,i,u,x,C),Object(l.sortStatistics)(C,_,"name"),C}}},{key:"calculateGroupingChart",value:function(e,t){var n,a,r,i,u,d,p,h,f,m,g,v,y=this;"chart_pie"===e.type?(n=e.table_id,a=e.view_id,r=e.groupby_column_key,i=e.summary_type,u=e.summary_method,d=e.summary_column_key,p=e.groupby_date_granularity,h=e.groupby_geolocation_granularity,f=e.groupby_include_empty_cells):(n=e.table_id,a=e.view_id,r=e.x_axis_column_key,i=e.y_axis_summary_type,u=e.y_axis_summary_method,d=e.y_axis_column_key,p=e.x_axis_date_granularity,h=e.x_axis_geolocation_granularity,f=e.x_axis_include_empty,m=e.column_groupby_column_key,g=e.column_groupby_date_granularity,v=e.column_groupby_geolocation_granularity);var _=s.TableUtils.getTableById(t,n),b=o.default.getViewById(_.views,a);if(b&&r){var w=o.default.getAllFormulaColumns(_.columns),E=s.TableUtils.getTableColumnByKey(_,r),T=s.TableUtils.getTableColumnByKey(_,m),x=s.TableUtils.getTableColumnByKey(_,d),C=E.type,S=T.type,k=(x||{}).type;"date"!==C||p||(p="day"),"geolocation"!==C||h||(h="province");var O=Object(l.getStatsiticRows)(_,b),M=o.default.getTableFormulaResults(_,w,O),L=[];return O.forEach((function(e){if(Object(l.isValidRow)(e,M,C,r,f)){var t=Object(l.getGroupLabel)(e,M,E,p,h),n=Object(l.getGroupLabel)(e,M,T,g,v);C===c.CellType.MULTIPLE_SELECT||C===c.CellType.COLLABORATOR?0===t.length&&f?y.groupChartRows(L,null,e,S,n,f):t.forEach((function(t){y.groupChartRows(L,t,e,S,n,f)})):y.groupChartRows(L,t,e,S,n,f)}})),this.updateChartValue(d,k,i,u,M,L),Object(l.sortStatistics)(L,E,"name"),L}}},{key:"updateBasicChartRows",value:function(e,t,n,a){var r;t>-1?((r=e[t]).rows.push(a),e[t]=r):(r={name:n,rows:[a]},e.push(r))}},{key:"groupChartRows",value:function(e,t,n,a,r,i){var o=this;if(a===c.CellType.MULTIPLE_SELECT||a===c.CellType.COLLABORATOR)0===r.length?this.updateGroupingChartRows(e,t,null,n):r.forEach((function(a){o.updateGroupingChartRows(e,t,a,n)}));else{if(!r&&0!==r&&!i)return;this.updateGroupingChartRows(e,t,r,n)}}},{key:"updateGroupingChartRows",value:function(e,t,n,a){for(var r,i=-1,o=0;o<e.length;o++)if(e[o].name===t&&e[o].group_name===n){i=o;break}i>-1?((r=e[i]).rows.push(a),e[i]=r):(r={name:t,rows:[a],group_name:n},e.push(r))}},{key:"updateChartValue",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];Array.isArray(o)&&o.forEach((function(s,c){var u=s.rows,d=Object(a.default)({},s);d.value=Object(l.getTotal)(e,t,n,r,u,i),o[c]=d}))}},{key:"calculateGeolocationBasicChart",value:function(e,t){var n=this,a=e.table_id,r=e.view_id,i=e.geo_column,c=e.geolocation_granularity,u=e.summary_type,d=e.summary_column,p=e.summary_method,h=s.TableUtils.getTableById(t,a);if(h){var f=o.default.getViewById(h.views,r);if(f&&i){var m=f.formula_rows,g=s.TableUtils.getTableColumnByKey(h,i),v=(s.TableUtils.getTableColumnByKey(h,d)||{}).type,y=Object(l.getStatsiticRows)(h,f),_=[];return y.forEach((function(e){var t=e[g.key]?e[g.key][c]:null,a=_.findIndex((function(e){return e.name===t}));n.updateBasicChartRows(_,a,t,e)})),this.updateChartValue(d,v,u,p,m,_),Object(l.sortStatistics)(_,i,"name"),_}}}}]),e}();t.default=u},function(e,t,n){"use strict";n.r(t);var a=n(192);t.default=a.default},function(e,t,n){"use strict";n.r(t);var a=n(162),r=n(5),i=n(155),o=n(156),s=n(159),l=n.n(s),c=n(3),u=n(11),d=n(157),p=n(167),h=n(161),f=n(193),m=n(194),g=l()("dtable:view"),v={},y=function(){function e(){Object(i.default)(this,e)}return Object(o.default)(e,null,[{key:"getViewId",value:function(e,t){return e[t]._id||"0000"}},{key:"getViewByIndex",value:function(e,t){return e[t]}},{key:"getViewById",value:function(e,t){return e.find((function(e){return e._id===t}))}},{key:"getViewByName",value:function(e,t){return e.find((function(e){return e.name===t}))}},{key:"renameView",value:function(e,t,n){var a=this.getViewById(e,t);return!!a&&(a.name=n,!0)}},{key:"deleteView",value:function(e,t){var n=e.findIndex((function(e){return e._id===t}));return n>-1&&(e.splice(n,1),!0)}},{key:"updateViewRows",value:function(e,t,n){var a=this;if(u.VIEW_OPERATIONS.includes(t.op_type)){g("synchronous view operation: %O",{operation:t});var r=t.op_type,i=t.table_id,o=t.view_index,s=d.default.getTableById(e,i),l=s.views[o],p=this.isDefaultView(l);switch(r){case u.OPERATION_TYPE.MODIFY_SORTS:this.processView(l,s,!1,!1);break;case u.OPERATION_TYPE.MODIFY_FILTERS:this.processView(l,s,!1,!0);break;case u.OPERATION_TYPE.MODIFY_GROUPBYS:this.processView(l,s,!1,!1);break;case u.OPERATION_TYPE.MODIFY_ROW:var f=t.row_id,m=t.updated,v=t.notifyDTableChanged,y=s.rows,_=s.columns,b=l.rows,w=l.filters,E=l.formula_rows,T=y,x=this.getAllFormulaColumns(_);this.updateFormulaRows(l,s,x,[f]),p||(this.isFilterView(l)&&(T=b,w.findIndex((function(e){return m.hasOwnProperty(e.column_key)}))>-1&&this.updateFilteredRow(l,f,s,v,n)),this.updateViewWithCommonOperations(l,s)),l.summaries=this.getSummaries(s,T,E);break;case u.OPERATION_TYPE.MODIFY_ROWS:var C=t.row_ids,S=t.updated,k=t.notifyDTableChanged,O=s.rows,M=s.columns,L=l.rows,D=l.filters,R=l.formula_rows,N=O,I=this.getAllFormulaColumns(M);this.updateFormulaRows(l,s,I,C),p||(this.isFilterView(l)&&(N=L,D.findIndex((function(e){return C.some((function(t){return Object.prototype.hasOwnProperty.call(S[t],e.column_key)}))}))>-1&&C.forEach((function(e){return a.updateFilteredRow(l,e,s,k,n)}))),this.updateViewWithCommonOperations(l,s)),l.summaries=this.getSummaries(s,N,R);break;case u.OPERATION_TYPE.INSERT_ROW:var A=t.row_id,P=t.row_data,Y=t.row_insert_position,F=s.rows,j=s.columns,U=P._id,H=d.default.getRowById(s,U),B=l.rows,V=l.formula_rows,G=l.filter_conjunction,W=l.filters,z=F,q=this.getAllFormulaColumns(j);if(this.updateFormulaRows(l,s,q,[U]),!p){if(this.isFilterView(l)&&Object(h.default)(G,W,[H],j).length>0){var K,X=B.indexOf(A);"insert_above"===Y?K=X:"insert_below"===Y&&(K=X+1),B.splice(K,0,H._id),l.rows=B,z=B}this.updateViewWithCommonOperations(l,s)}l.summaries=this.getSummaries(s,z,V);break;case u.OPERATION_TYPE.INSERT_ROWS:if("break"===function(){var e=t.row_ids,n=s.rows,r=s.columns,i=l.rows,o=l.formula_rows,c=n,u=a.getAllFormulaColumns(r);if(a.updateFormulaRows(l,s,u,e),!p){if(a.isFilterView(l)){for(var d=function(t){var a=n.findIndex((function(n){return n._id===e[t]})),r=i.findIndex((function(n){return n===e[t]})),o=n[a+1];i.splice(r+1,0,o._id)},h=0;h<e.length;h++)d(h);c=i,l.rows=i}a.updateViewWithCommonOperations(l,s)}return l.summaries=a.getSummaries(s,c,o),"break"}())break;case u.OPERATION_TYPE.DELETE_ROW:var J=t.row_id,Z=s.rows,$=l.rows,Q=l.formula_rows,ee=Z;p||(this.isFilterView(l)&&(ee=$=$.filter((function(e){return e!==J})),l.rows=$),this.updateViewWithCommonOperations(l,s)),l.summaries=this.getSummaries(s,ee,Q);break;case u.OPERATION_TYPE.DELETE_ROWS:var te=t.row_ids,ne=s.rows,ae=l.rows,re=l.formula_rows,ie=ne;p||(this.isFilterView(l)&&(ie=ae=ae.filter((function(e){return!te.includes(e)})),l.rows=ae),this.updateViewWithCommonOperations(l,s)),l.summaries=this.getSummaries(s,ie,re);break;case u.OPERATION_TYPE.MOVE_ROWS:var oe=function(){var n=t.target_ids,r=t.move_position,i=t.moved_rows;if(!p){if(a.isSortView(l))return{v:e};for(var o=i.map((function(e){return e._id})),s=l.rows.filter((function(e){return-1===o.indexOf(e)})),c=function(e){var t=s.findIndex((function(t){return t===n[e]}));"move_below"===r&&(t+=1),s.splice(t,0,i[e]._id)},u=0;u<n.length;u++)c(u);l.rows=s}return"break"}();switch(oe){case"break":break;default:if("object"===typeof oe)return oe.v}case u.OPERATION_TYPE.MOVE_GROUP_ROWS:this.processView(l,s,!0,!0);break;case u.OPERATION_TYPE.MODIFY_COLUMN_DATA:case u.OPERATION_TYPE.RESTORE_COLUMN_TYPE:this.processView(l,s,!0,!0);break;case u.OPERATION_TYPE.DELETE_COLUMN:var se=t.old_column,le=s.columns,ce=!1,ue=!1;this.getRelatedFormulaColumns(se,le).length>0&&(ce=!0,ue=!0),this.processView(l,s,ce,ue);break;case u.OPERATION_TYPE.MODIFY_COLUMN_TYPE:this.processView(l,s,!0,!0);break;case u.OPERATION_TYPE.RESTORE_COLUMN:var de=t.new_column,pe=s.columns,he=this.getRelatedFormulaColumns(de,pe),fe=!1;de.type===c.FORMULA&&he.push(de),de.type===c.NUMBER&&(fe=!0),he.length>0&&(fe=!0,fe=!0),this.processView(l,s,!1,fe)}}}},{key:"updateFilteredRow",value:function(e,t,n,a,r){var i=this,o=e.filter_conjunction,s=e.filters,l=e.rows,c=e.groupbys,u=e.formula_rows,p=n.rows,f=n.columns,y=d.default.getRowById(n,t);if(Object(h.default)(o,s,[y],f).length<1){if(!l.includes(t))return;y.isFiltered=!0,v[t]=setTimeout((function(){r.dispatch("set_filter_row",y),setTimeout((function(){r.dispatch("set_filter_row",null)}),1e3);var o=l.indexOf(t);if(l.splice(o,1),delete y.isFiltered,delete v[t],e.rows=l,e.summaries=i.getSummaries(n,l,u),i.isGroupView(e)){var s=Object(m.groupViewRows)(c,n,l,u);i.updateGroupSummaries(s,n,u),e.groups=s}a()}),2e3)}else if(v&&v[t]&&(clearTimeout(v[t]),delete v[t]),y.isFiltered&&delete y.isFiltered,!l.includes(t))if(this.isSortView(e))l.push(t);else{var _,b=0;for(_=0;_<=l.length;_++)for(var w=l[_];;){var E=p[b]._id;if(E===w){b++;break}if(E===t)return void l.splice(_,0,t);if(++b>p.length)return void g("This can\u2019t happen")}}}},{key:"getSummaries",value:function(e,t,n){var a=this,r={},i=t;return this.isTableRows(i)||(i=t.map((function(t){return d.default.getRowById(e,t)}))),e.columns.forEach((function(e){var t=e.type,o=e.key,s=e.data,l={};if(t===c.NUMBER){var u=0;i.forEach((function(e){u+=e&&e[o]?e[o]-0:0})),l.sum=Number.parseFloat(u.toFixed(8))}if(t===c.FORMULA&&s&&s.result_type===p.FORMULA_RESULT_TYPE.NUMBER){var d=a.getFormulaSummary(o,i,n);null!=d&&(d=Number.parseFloat(d.toFixed(8)),l.sum=d)}r[o]=l})),r}},{key:"updateGroupSummaries",value:function(e,t,n){var a=this;e&&e.forEach((function(e){e.summaries=a.getSummaries(t,e.row_ids,n)}))}},{key:"getFormulaSummary",value:function(e,t,n){for(var a=0,r=0;r<t.length;r++){var i=t[r],o=i&&n&&n[i._id],s=o&&o[e];if(null!=s&&"[object Number]"!==Object.prototype.toString.call(s)){a=null;break}null==s&&(s=0),a+=s}return a}},{key:"getRow",value:function(e,t,n,a){var r,i=e.groups,o=e.rows;return this.isDefaultView(e)?t.rows[n]:(r=this.isGroupView(e)?i[a]&&i[a].row_ids[n]:o[n])?d.default.getRowById(t,r):null}},{key:"getViewRows",value:function(e,t){return e?this.isDefaultView(e)?t.rows:this.getRowIds(e,t).map((function(e){return d.default.getRowById(t,e)})):null}},{key:"getRowIndex",value:function(e,t,n){return this.isDefaultView(e)?t.rows.findIndex((function(e){return e._id===n})):e.rows.indexOf(n)}},{key:"getAdjacentRows",value:function(e,t,n){var a,r,i;if(this.isDefaultView(e)){for(var o=t.rows,s=o.length,l=0;l<s;l++)if(o[l]._id===n){a=o[l],r=0===l?null:o[l-1],i=l===s-1?null:o[l+1];break}}else for(var c=e.rows,u=c.length,p=0;p<u;p++)c[p]===n&&(a=d.default.getRowById(t,c[p]),r=0===p?null:d.default.getRowById(t,c[p-1]),i=p===u-1?null:d.default.getRowById(t,c[p+1]));return{row:a,upperRow:r,belowRow:i}}},{key:"getGroupAdjacentRows",value:function(e,t,n){var a=[],r=[],i=[];return e.groups.forEach((function(e){for(var o=e.row_ids,s=o.length,l=0;l<s;l++){var c=o[l];n.includes(c)&&(a.push(d.default.getRowById(t,c)),r.push(0===l?null:d.default.getRowById(t,o[l-1])),i.push(l===s-1?null:d.default.getRowById(t,o[l+1])))}})),{rows:a,upperRows:r,belowRows:i}}},{key:"getRowsLength",value:function(e,t){if(!this.isDefaultView(e)){var n=0;return this.isGroupView(e)?e.groups.forEach((function(e){n+=e.row_ids.length})):n=e.rows.length,n}return t.rows.length}},{key:"getGroupRowsLength",value:function(e,t){return e.groups[t].row_ids.length}},{key:"isDefaultView",value:function(e){return!this.isFilterView(e)&&!this.isSortView(e)&&!this.isGroupView(e)}},{key:"isFilterView",value:function(e){var t=e.filters;return t&&t.length>0}},{key:"isSortView",value:function(e){var t=e.sorts;return t&&t.length>0}},{key:"isGroupView",value:function(e){var t=e.groupbys;return t&&t.length>0}},{key:"haveSort",value:function(e){return(e.sorts||[]).length>0}},{key:"getRowDataUsedInFilters",value:function(e,t,n){var a=e.filters,r=e.sorts,i=e.groupbys,o=d.default.getRowById(t,n),s={},l=function(e){var t=a&&a.findIndex((function(t){return t.column_key===e})),n=r&&r.findIndex((function(t){return t.column_key===e})),l=i&&i.findIndex((function(t){return t.column_key===e}));(t>-1||n>-1||l>-1)&&(s[e]=o[e])};for(var c in o)l(c);return s}},{key:"isHiddenColumnsView",value:function(e){var t=e.hidden_columns;return t&&t.length>0}},{key:"getColumns",value:function(e,t){var n=t.columns,a=e.hidden_columns;return this.isHiddenColumnsView(e)?n?n.filter((function(e){return!a.includes(e.key)})):[]:n}},{key:"selectView",value:function(e,t,n){var a=d.default.getTableByIndex(e,t),r=a.views[n];if(v&&Object.keys(v).length>0)for(var i in v){var o=a.id_row_map[i];clearTimeout(v[i]),delete v[i],delete o.isFiltered}return this.processView(r,a,!0,!0),e}},{key:"processView",value:function(e,t,n,a){var r=t.rows,i=t.columns,o=e.rows,s=e.filter_conjunction,l=e.filters,c=e.formula_rows,u=r,d=this.getAllFormulaColumns(i);this.isDefaultView(e)?(e.rows=[],e.groups=[],u=r,n&&this.updateFormulaRows(e,t,d,r)):(this.isFilterView(e)&&(u=o=Object(h.default)(s,l,r,i),e.rows=o),n&&this.updateFormulaRows(e,t,d,u),this.updateViewWithCommonOperations(e,t)),a&&(e.summaries=this.getSummaries(t,u,c))}},{key:"updateViewWithCommonOperations",value:function(e,t){var n=t.rows,a=t.columns,r=e.rows,i=e.sorts,o=e.groupbys,s=e.groups,l=e.formula_rows;this.isSortView(e)&&(r=this.isSortViewRows(e)?Object(f.sortViewRows)(t,i,r,a):Object(f.sortTableRows)(i,n,a),e.rows=r),this.isGroupView(e)&&(s=this.isGroupViewRows(e)?Object(m.groupViewRows)(o,t,r):Object(m.groupTableRows)(o,t,n),this.updateGroupSummaries(s,t,l),e.groups=s)}},{key:"getRowIds",value:function(e,t){var n=t.rows,a=t.columns,r=e.filter_conjunction,i=e.filters,o=e.sorts,s=n.map((function(e){return e._id}));return this.isFilterView(e)&&(s=Object(h.default)(r,i,n,a)),this.isSortView(e)&&(s=this.isFilterView(e)?Object(f.sortViewRows)(t,o,s,a):Object(f.sortTableRows)(o,n,a)),s}},{key:"getGroups",value:function(e){return e.groups}},{key:"getGroupedRows",value:function(e,t){var n=e.groupbys;if(!this.isGroupView(e))return[];var a=this.getRowIds(e,t);return Object(m.groupViewRows)(n,t,a).map((function(e){return{column_name:d.default.getTableColumnByKey(t,e.column_key).name,column_key:e.column_key,cell_value:e.cell_value,rows:e.row_ids.map((function(e){return d.default.getRowById(t,e)}))}}))}},{key:"getFormulaRows",value:function(e){return e.formula_rows}},{key:"isTableRows",value:function(e){return"object"===typeof e[0]}},{key:"isSortViewRows",value:function(e){return this.isFilterView(e)}},{key:"isGroupViewRows",value:function(e){return this.isFilterView(e)||this.isSortView(e)}},{key:"ModifyViewLock",value:function(e,t,n){var a=this.getViewById(e,t);return!!a&&(a.is_locked=n,!0)}},{key:"getGroupModifyRows",value:function(e,t,n,a){var i=e.groups[t].column_key,o={},s={};return a.forEach((function(e){s[e._id]=Object(r.default)({},i,e[i]),o[e._id]=Object(r.default)({},i,n[i])})),{oldRowDataList:s,updatedRowDataList:o}}},{key:"updateFormulaRows",value:function(e,t,n,i){var o=e.formula_rows,s=new p.FormulaCalculator({table:t}),l=[],c=o||{};l=this.isTableRows(i)?Object(a.default)(i):i.map((function(e){return d.default.getRowById(t,e)})),n.forEach((function(e){var t=e.data&&e.data.formula;if(t){var n=s.getCalcResults(t,l).result;l&&l.forEach((function(t,a){var i,o=t._id;i=n&&n.param_type===p.FORMULA_PARAM_TYPE.COLUMN?n.value[a]:n&&n.value,c[o]=Object.assign({},c[o],Object(r.default)({},e.key,i))}))}})),e.formula_rows=c}},{key:"getTableFormulaResults",value:function(e,t,n){var i=new p.FormulaCalculator({table:e}),o=this.isTableRows(n)?Object(a.default)(n):n.map((function(t){return d.default.getRowById(e,t)}));if(0===o.length)return null;var s={};return t.forEach((function(e){var t=e.data&&e.data.formula;if(t){var n=i.getCalcResults(t,o).result;o.forEach((function(t,a){var i;i=n&&n.param_type===p.FORMULA_PARAM_TYPE.COLUMN?n.value[a]:n&&n.value,s[t._id]=Object.assign({},s[t._id],Object(r.default)({},e.key,i))}))}})),s}},{key:"calculateFormulaColumns",value:function(e,t,n){var a=this.getAllFormulaColumns(this.getColumns(e,t));return a&&0!==a.length?(this.updateFormulaRows(e,t,a,n),this.getFormulaRows(e)):{}}},{key:"getRelatedFormulaColumns",value:function(e,t){var n=e.key;return t.filter((function(e){var t=e.type,a=e.data;return t===c.FORMULA&&a&&a.operated_columns&&a.operated_columns.includes(n)}))}},{key:"getAllFormulaColumns",value:function(e){return e.filter((function(e){var t=e.type,n=e.data;return t===c.FORMULA&&n}))}}]),e}();t.default=y},function(e,t,n){"use strict";n.r(t),n.d(t,"sortTableRows",(function(){return i})),n.d(t,"sortViewRows",(function(){return o})),n.d(t,"isTableRows",(function(){return s})),n.d(t,"sortText",(function(){return p})),n.d(t,"sortSingleSelect",(function(){return d})),n.d(t,"sortDate",(function(){return u})),n.d(t,"sortNumber",(function(){return c})),n.d(t,"sortFormula",(function(){return h}));var a=n(167),r=n(2),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=t.slice(0);return l(a,e,n),a.map((function(e){return e._id}))},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(0===n.length)return[];var r=f(e,n);return l(r,t,a),r.map((function(e){return e._id}))};function s(e){return"object"===typeof e[0]}function l(e,t,n){var a=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return[];for(var n=[],a=function(a){var r=e[a];-1!==t.findIndex((function(e){return e.key===r.column_key}))&&n.push(r)},r=0;r<e.length;r++)a(r);return n}(t,n);e.sort((function(e,t){var i=0;return a.forEach((function(a){var o=n.findIndex((function(e){return e.key===a.column_key})),s=n[o].type,l=e[a.column_key],h=t[a.column_key];i=r.DATE_COLUMN_OPTIONS.includes(s)?i||u(l,h,a.sort_type):s===r.CellType.SINGLE_SELECT?i||d(l,h,a.sort_type,n[o]):s===r.CellType.NUMBER?i||c(l,h,a.sort_type):i||p(l,h,a.sort_type)})),i}))}function c(e,t,n){return e||0===e?t||0===t?e>t?"up"===n?1:-1:e<t?"up"===n?-1:1:0:-1:1}function u(e,t,n){return e?t?e>t?"up"===n?1:-1:e<t?"up"===n?-1:1:0:-1:1}function d(e,t,n,a){var r=a.data;if(!r||0===!r.options.length)return 0;var i=r.options.map((function(e){return e.id}));return-1===i.indexOf(e)?1:-1===i.indexOf(t)?-1:i.indexOf(e)>i.indexOf(t)?"up"===n?1:-1:i.indexOf(e)<i.indexOf(t)?"up"===n?-1:1:0}function p(e,t,n){return e?t?"up"===n?e.localeCompare(t):t.localeCompare(e):-1:1}function h(e,t,n,r){switch(e){case a.FORMULA_RESULT_TYPE.NUMBER:var i,o;return t&&(i=t-0),n&&(o=n-0),c(i,o,r);case a.FORMULA_RESULT_TYPE.DATE:return u(t,n,r);default:return p(t,n,r)}}function f(e,t){var n=[];return t.forEach((function(t){n.push(e.id_row_map[t])})),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"groupTableRows",(function(){return l})),n.d(t,"groupViewRows",(function(){return c}));var a=n(166),r=n.n(a),i=n(193),o=n(18),s=n(2),l=function(e,t,n){var a=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return[];for(var n=[],a=function(a){var i=e[a],o=t.find((function(e){return e.key===i.column_key}));if(o){var s=r()(i);s.column=o,n.push(s)}},i=0;i<e.length;i++)a(i);return n}(e,t.columns);if(0===a.length)return[];var l=a[0],c=l.column_key,u=l.sort_type,d=l.count_type,p=l.column,h=p.type||s.CellType.TEXT,f=[],m=Object(o.getCreators)();return n.forEach((function(e){var t=e[c],n=-1;switch(h){case s.CellType.TEXT:t||(t=null),n=f.findIndex((function(e){return e.cell_value===t}));break;case s.CellType.DATE:case s.CellType.CTIME:case s.CellType.MTIME:t=Object(o.getDateByGranularity)(t,d),n=f.findIndex((function(e){return e.cell_value===t}));break;case s.CellType.NUMBER:t||0===t||(t=null),n=f.findIndex((function(e){return e.cell_value===t}));break;case s.CellType.CHECKBOX:t=!!t,n=f.findIndex((function(e){return e.cell_value===t}));break;case s.CellType.SINGLE_SELECT:(!t||p.data&&p.data.options.findIndex((function(e){return e.id===t}))<0)&&(t=null),n=f.findIndex((function(e){return e.cell_value===t}));break;case s.CellType.MULTIPLE_SELECT:var a=p.data&&p.data.options;t=Object(o.getValidOptionIds)(a,t),n=f.findIndex((function(e){var n=Object(o.getValidOptionIds)(a,e.cell_value);return n.length===t.length&&n.every((function(e){return t.indexOf(e)>-1}))}));break;case s.CellType.COLLABORATOR:t=Object(o.getValidCollaborators)(t),n=f.findIndex((function(e){var n=Object(o.getValidCollaborators)(e.cell_value);return n.length===t.length&&n.every((function(e){return t.indexOf(e)>-1}))}));break;case s.CellType.CREATOR:(!t||m.indexOf(t)<0)&&(t=null),n=f.findIndex((function(e){return e.cell_value===t}));break;case s.CellType.GEOLOCATION:t=Object(o.getGeolocationByGranularity)(t,d),n=f.findIndex((function(e){return e.cell_value===t}))}n>-1?f[n].row_ids.push(e._id):f.push({cell_value:t,column_key:c,row_ids:[e._id],subgroups:null,summaries:{}})})),f.sort((function(e,t){var n,a=e.cell_value,r=t.cell_value;return s.SORT_COLUMN_OPTIONS.includes(h)?(h===s.CellType.TEXT?n=Object(i.sortText)(a,r,u):h===s.CellType.NUMBER?n=Object(i.sortNumber)(a,r,u):s.DATE_COLUMN_OPTIONS.includes(h)?n=Object(i.sortDate)(a,r,u):h===s.CellType.SINGLE_SELECT&&(n=Object(i.sortSingleSelect)(a,r,u,p)),n):""===a?1:""===r?-1:0})),f},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===n.length)return[];var a=t.id_row_map,r=u(a,n);return l(e,t,r)};function u(e,t){var n=[];return t.forEach((function(t){n.push(e[t])})),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"getStatsiticRows",(function(){return s})),n.d(t,"isValidRow",(function(){return l})),n.d(t,"getGroupLabel",(function(){return c})),n.d(t,"getTotal",(function(){return u})),n.d(t,"sortStatistics",(function(){return d}));var a=n(191),r=n(18),i=n(2),o=n(193);function s(e,t){return a.default.isFilterView(t)?r.TableUtils.getRowsByIds(e,a.default.getRowIds(t,e)):e.rows}function l(e,t,n,a,r){var o;if(n===i.CellType.FORMULA){var s=t[e._id];o=s?s[a]:null}else o=n===i.CellType.GEOLOCATION?e[a]?e[a].province:null:e[a];return!!r||o||0===o}function c(e,t,n,a,o){var s=n.type,l=n.key,c=n.data,u=e[l];switch(s){case i.CellType.TEXT:return u||null;case i.CellType.NUMBER:return u||0===u?u+"":null;case i.CellType.SINGLE_SELECT:return c&&c.options.findIndex((function(e){return e.id===u}))<0?null:u;case i.CellType.DATE:return Object(r.getDateByGranularity)(u,a);case i.CellType.MULTIPLE_SELECT:var d=c&&c.options;return Object(r.getValidOptionIds)(d,u);case i.CellType.COLLABORATOR:return Object(r.getValidCollaborators)(u);case i.CellType.FORMULA:var p=t[e._id];if(!p)return null;var h=p[l];return h?h+"":null;case i.CellType.GEOLOCATION:return e[n.key]?e[n.key][o]:null;default:return null}}function u(e,t,n,a){var r,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=o.length;if(n===i.STATISTICS_COUNT_TYPE.COUNT)r=l;else if(n===i.STATISTICS_COUNT_TYPE.ADVANCED)switch(a){case"Sum":case"Mean":var c=0;o.forEach((function(n){var a;a=t===i.CellType.FORMULA?(s[n._id]||{})[e]:n[e],c+=a=a?a-0:0})),"Sum"===a?r=Number.parseFloat(c.toFixed(8)):"Mean"===a&&(r=Number.parseFloat((c/l).toFixed(8)));break;case"Max":case"Min":if(l>0){var u=o.reduce((function(n,r){var o,l;if(t===i.CellType.FORMULA){var c=s[n._id]||{},u=s[r._id]||{};o=c[e],l=u[e]}else o=n[e],l=r[e];if(!l&&0!==l)return n;var d=o<l;return"Min"===a?d?n:r:d?r:n}));if(t===i.CellType.FORMULA){var d=s[u._id];r=d?d[e]:null}else r=u[e]}}return r}function d(e,t,n){var a=t.type,r=t.data,s=[i.CellType.TEXT,i.CellType.NUMBER,i.CellType.DATE,i.CellType.SINGLE_SELECT,i.CellType.FORMULA];e.sort((function(e,l){var c=e[n],u=l[n];if(!c&&0!==c)return-1;if(!u&&0!==u)return 1;if(s.includes(a))switch(a){case i.CellType.NUMBER:return c&&(c-=0),u&&(u-=0),Object(o.sortNumber)(c,u,"up");case i.CellType.DATE:return Object(o.sortDate)(c,u,"up");case i.CellType.SINGLE_SELECT:case i.CellType.MULTIPLE_SELECT:return Object(o.sortSingleSelect)(c,u,"up",t);case i.CellType.FORMULA:var d=(r||{}).result_type;return Object(o.sortFormula)(d,c,u,"up");default:return Object(o.sortText)(c,u,"up")}}))}},function(e,t,n){"use strict";n.r(t);var a=n(183),r=n(155),i=n(156),o=n(192),s=n(18),l=n(195),c=n(2),u=function(){function e(){Object(r.default)(this,e)}return Object(i.default)(e,null,[{key:"calculatePivotTable",value:function(e,t){var n=e.groupby_column_key,a=e.column_groupby_column_key;if(n)return a?this.calculateTwoDimensionTable(e,t):this.calculateOneDimensionTable(e,t)}},{key:"calculateOneDimensionTable",value:function(e,t){var n=this,a=e.table_id,r=e.view_id,i=e.summary_type,u=e.summary_method,d=e.summary_column_key,p=e.groupby_column_key,h=e.groupby_include_empty_cells,f=e.groupby_date_granularity,m=e.groupby_geolocation_granularity,g=s.TableUtils.getTableById(t,a),v=o.default.getViewById(g.views,r),y=o.default.getAllFormulaColumns(g.columns),_=s.TableUtils.getTableColumnByKey(g,p),b=s.TableUtils.getTableColumnByKey(g,d),w=_.type,E=(b||{}).type,T=Object(l.getStatsiticRows)(g,v),x=o.default.getTableFormulaResults(g,y,T),C=[];T.forEach((function(e){if(Object(l.isValidRow)(e,x,w,p,h)){var t,a=Object(l.getGroupLabel)(e,x,_,f,m);if(w===c.CellType.MULTIPLE_SELECT||w===c.CellType.COLLABORATOR)if(0===a.length&&h){var r=C.findIndex((function(e){return!e.name}));n.updateOneDimensionRows(C,r,null,e)}else a.forEach((function(a){t=C.findIndex((function(e){return a===e.name})),n.updateOneDimensionRows(C,t,a,e)}));else t=C.findIndex((function(e){var t=e.name;return null===t&&null===a||void 0===t&&void 0===a||0===t&&0===a||t===a})),n.updateOneDimensionRows(C,t,a,e)}}));var S=this.getOneDimensionTotal(d,E,i,u,x,C).pivot_table_total;return Object(l.sortStatistics)(C,_,"name"),{pivot_rows:C,pivot_table_total:S}}},{key:"calculateTwoDimensionTable",value:function(e,t){var n=this,a=e.table_id,r=e.view_id,i=e.summary_type,u=e.summary_method,d=e.summary_column_key,p=e.groupby_column_key,h=e.groupby_include_empty_cells,f=e.groupby_date_granularity,m=e.groupby_geolocation_granularity,g=e.column_groupby_column_key,v=e.column_groupby_date_granularity,y=e.row_groupby_geolocation_granularity,_=h,b=s.TableUtils.getTableById(t,a),w=o.default.getViewById(b.views,r),E=o.default.getAllFormulaColumns(b.columns),T=s.TableUtils.getTableColumnByKey(b,p),x=s.TableUtils.getTableColumnByKey(b,g),C=s.TableUtils.getTableColumnByKey(b,d),S=T.type,k=x.type,O=(C||{}).type,M=Object(l.getStatsiticRows)(b,w),L=o.default.getTableFormulaResults(b,E,M),D=[],R=[];M.forEach((function(e){var t=Object(l.getGroupLabel)(e,L,x,v,y);if(Object(l.isValidRow)(e,L,k,g,_)&&n.updateTwoDimensionColumns(D,x,e,L,_,v,y),Object(l.isValidRow)(e,L,S,p,h)){var a,r=Object(l.getGroupLabel)(e,L,T,f,m);if(S===c.CellType.MULTIPLE_SELECT||S===c.CellType.COLLABORATOR)if(0===r.length&&h){var i=R.findIndex((function(e){return!e.name}));n.updateTwoDimensionRows(R,D,i,null,e,k,t)}else r.forEach((function(r){a=R.findIndex((function(e){return r===e.name})),n.updateTwoDimensionRows(R,D,a,r,e,k,t)}));else a=R.findIndex((function(e){var t=e.name;return null===t&&null===r||void 0===t&&void 0===r||0===t&&0===r||t===r})),n.updateTwoDimensionRows(R,D,a,r,e,k,t)}}));var N=this.getTwoDimensionTotal(d,O,i,u,L,R,D),I=N.pivot_columns_total,A=N.pivot_table_total;return Object(l.sortStatistics)(R,T,"name"),Object(l.sortStatistics)(D,x,"key"),{pivot_rows:R,pivot_columns:D,pivot_columns_total:I,pivot_table_total:A}}},{key:"updateTwoDimensionColumns",value:function(e,t,n,a,r,i,o){var s=t.type,u=Object(l.getGroupLabel)(n,a,t,i,o);s===c.CellType.MULTIPLE_SELECT||s===c.CellType.COLLABORATOR?0===u.length&&r?e.findIndex((function(e){return!e.key}))<0&&e.unshift({key:null}):u.forEach((function(t){e.findIndex((function(e){return e.key===t}))<0&&e.push({key:t})})):e.findIndex((function(e){var t=e.key;return null===t&&null===u||void 0===t&&void 0===u||0===t&&0===u||t===u}))<0&&e.push({key:u})}},{key:"updateOneDimensionRows",value:function(e,t,n,a){if(t>-1){var r=e[t];r.rows.push(a),e[t]=r}else{var i={name:n,rows:[a]};e.push(i)}}},{key:"updateTwoDimensionRows",value:function(e,t,n,a,r,i,o){var s=this;if(n>-1){var l=e[n],c=l.cells;t.forEach((function(e){var t=e.key;s.isSameGroup(i,o,t)&&(c[t]?c[t].rows.push(r):c[t]={rows:[r]})})),l.cells=c,e[n]=l}else{var u={};t.forEach((function(e){var t=e.key;s.isSameGroup(i,o,t)&&(u[t]={rows:[r]})})),e.push({name:a,cells:u})}}},{key:"getOneDimensionTotal",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=0;return Array.isArray(o)&&o.forEach((function(c,u){var d=c.rows,p=Object(a.default)({},c);p.total=Object(l.getTotal)(e,t,n,r,d,i),o[u]=p,s+=p.total})),{pivot_table_total:s=Number.parseFloat(s.toFixed(8))}}},{key:"getTwoDimensionTotal",value:function(e,t,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s={},c=0;return Array.isArray(i)&&i.forEach((function(i){var u=i.cells,d=0;Array.isArray(o)&&o.forEach((function(i){var o=i.key;if(u[o]){var c=u[o].rows,p=Object(l.getTotal)(e,t,n,a,c,r);u[o].total=p,d+=p?p-0:0;var h=s[o]?s[o]:0;h+=p?p-0:0,s[o]=h}})),i.total=Number.parseFloat(d.toFixed(8)),c+=d})),c=Number.parseFloat(c.toFixed(8)),{pivot_columns_total:s,pivot_table_total:c}}},{key:"isSameGroup",value:function(e,t,n){return e===c.CellType.MULTIPLE_SELECT||e===c.CellType.COLLABORATOR?0===t.length&&!n||t.includes(n):null===t&&null===n||void 0===t&&void 0===n||t===n}}]),e}();t.default=u},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(198),o=n.n(i),s=function(){function e(t,n,r,i){Object(a.default)(this,e),this.dtableServer=t,this.dtableUuid=n,this.accessToken=r,this.lang=i,this.req=o.a.create()}return Object(r.default)(e,[{key:"getTableData",value:function(){var e=this.dtableServer+"dtables/"+this.dtableUuid;return this.req.get(e,{headers:{Authorization:"Token "+this.accessToken},params:{lang:this.lang}})}},{key:"getTableOperations",value:function(e){var t=this.dtableServer,n=this.dtableUuid,a=this.accessToken,r=t+"api/v1/dtables/".concat(n,"/operations/?page=").concat(e);return o.a.get(r,{headers:{Authorization:"Token "+a}})}},{key:"listRowActivities",value:function(e,t){var n=this.dtableServer,a=this.dtableUuid,r=this.accessToken,i=n+"api/v1/dtables/".concat(a,"/activities/?page=").concat(t,"&row_id=").concat(e);return this.req.get(i,{headers:{Authorization:"Token "+r}})}},{key:"listRowComments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.dtableServer,r=this.dtableUuid,i=this.accessToken,o=a+"api/v1/dtables/"+r+"/comments/",s={page:t,per_page:n,row_id:e};return this.req.get(o,{headers:{Authorization:"Token "+i},params:s})}},{key:"listRowCommentsByDays",value:function(e){var t=this.dtableServer,n=this.dtableUuid,a=this.accessToken,r=t+"api/v1/dtables/"+n+"/comments-within-days/",i={days:e};return this.req.get(r,{headers:{Authorization:"Token "+a},params:i})}},{key:"createRowComment",value:function(e,t,n){var a=this.dtableServer,r=this.dtableUuid,i=this.accessToken,o=a+"api/v1/dtables/"+r+"/comments/?row_id="+t+"&table_id="+e,s={comment:n};return this.req.post(o,s,{headers:{"Content-Type":"application/json",Authorization:"Token "+i}})}},{key:"getRowCommentsCount",value:function(e){var t=this.dtableServer,n=this.dtableUuid,a=this.accessToken,r=t+"api/v1/dtables/"+n+"/comments-count/",i={row_id:e};return this.req.get(r,{headers:{Authorization:"Token "+a},params:i})}},{key:"updateRowComments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.dtableServer,r=this.dtableUuid,i=this.accessToken,o=a+"api/v1/dtables/"+r+"/comments/"+e+"/",s={comment:t,resolved:n};return this.req.put(o,{options:s},{headers:{Authorization:"Token "+i}})}},{key:"deleteRowComments",value:function(e){var t=this.dtableServer,n=this.dtableUuid,a=this.accessToken,r=t+"api/v1/dtables/"+n+"/comments/"+e+"/";return this.req.delete(r,{headers:{Authorization:"Token "+a}})}},{key:"listNotifications",value:function(e,t){var n=this.dtableServer,a=this.dtableUuid,r=this.accessToken,i=n+"api/v1/dtables/"+a+"/notifications/",o={page:e,per_page:t};return this.req.get(i,{headers:{Authorization:"Token "+r},params:o})}},{key:"updateNotification",value:function(e,t){var n=this.dtableServer,a=this.dtableUuid,r=this.accessToken,i=n+"api/v1/dtables/"+a+"/notifications/"+e+"/";return this.req.put(i,{seen:t},{headers:{Authorization:"Token "+r}})}},{key:"updateAllNotifications",value:function(e){var t=this.dtableServer,n=this.dtableUuid,a=this.accessToken,r=t+"api/v1/dtables/"+n+"/notifications/";return this.req.put(r,{seen:e},{headers:{Authorization:"Token "+a}})}},{key:"deleteNotification",value:function(){var e=this.dtableServer,t=this.dtableUuid,n=this.accessToken,a=e+"api/v1/dtables/"+t+"/notifications/";return this.req.delete(a,{headers:{Authorization:"Token "+n}})}},{key:"getTableRelatedUsers",value:function(){var e=this.dtableServer,t=this.dtableUuid,n=this.accessToken,a=e+"api/v1/dtables/"+t+"/related-users/";return this.req.get(a,{headers:{Authorization:"Token "+n}})}},{key:"importCSV",value:function(e,t){var n=this.dtableServer,a=this.dtableUuid,r=this.accessToken,i=this.lang,o=n+"api/v1/"+a+"/import-csv/",s=new FormData;return s.append("csv_file",e),s.append("lang",i),s.append("table_name",t),this.req.post(o,s,{headers:{Authorization:"Token "+r}})}},{key:"listDeletedRows",value:function(e,t){var n=this.dtableServer,a=this.dtableUuid,r=this.accessToken,i={page:e,per_page:t},o=n+"api/v1/dtables/"+a+"/deleted-rows/";return this.req.get(o,{headers:{Authorization:"Token "+r},params:i})}}]),e}();t.default=s},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(20),o=n(200),s=n(201),l=function(){function e(t){Object(a.default)(this,e),this._id=t.table_id,this.name=t.table_name||"Table1",this.is_header_locked=!1,this.columns=[],this.rows=[],this.views=[],this.id_row_map={},this.initViews(t.lang),this.initColumns(t.lang)}return Object(r.default)(e,[{key:"initViews",value:function(e){var t={_id:"0000",name:Object(i.getViewDefaultName)(e),type:"table"},n=new o.default(t);this.views.push(n)}},{key:"initColumns",value:function(e){var t={column_key:"0000",column_name:Object(i.getColumnDefaultName)(e),column_type:"text"},n=new s.default(t);this.columns.push(n)}}]),e}();t.default=l},function(e,t,n){"use strict";n.r(t);var a=n(155);t.default=function e(t){Object(a.default)(this,e),this._id=t._id,this.name=t.name,this.type=t.type||"table",this.is_locked=!1,this.rows=[],this.formula_rows={},this.summaries=[],this.filter_conjunction="And",this.sorts=[],this.filters=[],this.hidden_columns=[],this.groupbys=[],this.group_rows=[],this.groups=[]}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n(155),r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.default)(this,e),this.key=t.column_key||null,this.type=t.column_type||null,this.name=t.column_name||null,this.editable=t.editable||!0,this.width=t.width||200,this.resizable=t.resizable||!0,this.draggable=t.draggable||!0,this.data=t.data||null}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var a=n(155),r=n(203),i=n.n(r),o=function e(t){Object(a.default)(this,e),this._id=i.a.nice(),this._participants=[],this._creator="",this._ctime=""}},function(e,t,n){e.exports=n(204)},function(e,t,n){(function(e){var a=n(210),r=n(213);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return a(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=a(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(205).Buffer)},function(e,t,n){"use strict";(function(e){var a=n(207),r=n(208),i=n(209);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,a){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t),e}(e,t,n,a):"string"===typeof t?function(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|f(t,n),r=(e=s(e,a)).write(t,n);return r!==a&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||function(e){return e!==e}(t.length)?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(a)return H(e).length;t=(""+t).toLowerCase(),a=!0}}function m(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function v(e,t,n,a,r){if(0===e.length)return-1;if("string"===typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,r);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,r){var i,o=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function _(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var o=0;o<a;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,a){return V(H(t,e.length-n),e,n,a)}function w(e,t,n,a){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function E(e,t,n,a){return w(e,t,n,a)}function T(e,t,n,a){return V(B(t),e,n,a)}function x(e,t,n,a){return V(function(e,t){for(var n,a,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)a=(n=e.charCodeAt(o))>>8,r=n%256,i.push(r),i.push(a);return i}(t,e.length-n),e,n,a)}function C(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var i,o,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(i=e[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[r+1],o=e[r+2],128===(192&i)&&128===(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),r+=d}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var n="",a=0;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=k));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?s(e,t):void 0!==n?"string"===typeof a?s(e,t).fill(n,a):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,i=Math.min(n,a);r<i;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(a>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(a,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],o=u[d];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function O(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function M(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function L(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",i=t;i<n;++i)r+=U(e[i]);return r}function D(e,t,n){for(var a=e.slice(t,n),r="",i=0;i<a.length;i+=2)r+=String.fromCharCode(a[i]+256*a[i+1]);return r}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,a,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function I(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function A(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function P(e,t,n,a,r,i){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(e,t,n,a,i){return i||P(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function F(e,t,n,a,i){return i||P(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=t,r=1,i=this[e+--a];a>0&&(r*=256);)i+=this[e+--a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){e=+e,t|=0,n|=0,a||N(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){e=+e,t|=0,n|=0,a||N(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return Y(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return Y(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,i=a-n;if(this===e&&n<t&&t<a)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,a){if("string"===typeof e){if("string"===typeof t?(a=t,t=0,n=this.length):"string"===typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!==typeof a)throw new TypeError("encoding must be a string");if("string"===typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=l.isBuffer(e)?e:H(new l(e,a).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var a=e.length,r=null,i=[],o=0;o<a;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===a){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(206))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(a){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,a=c(e),o=a[0],s=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),i.join("")};for(var a=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)a[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,a,r){var i,o,s=8*r-a-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,a),i-=c}return(h?-1:1)*o*Math.pow(2,i-a)},t.write=function(e,t,n,a,r,i){var o,s,l,c=8*i-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=a?0:i-1,f=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=f,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=f,o/=256,c-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var a=n(211),r=n(212);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||r(o)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var a=new Uint8Array(16);e.exports=function(){return n(a),a}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],a=0;a<256;++a)n[a]=(a+256).toString(16).substr(1);e.exports=function(e,t){var a=t||0,r=n;return[r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],"-",r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]],r[e[a++]]].join("")}},function(e,t,n){"use strict";for(var a=[],r={},i=0;i<256;i++)a[i]=(i+256).toString(16).substr(1),r[a[i]]=i;e.exports={parse:function(e,t,n){var a=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[a+i++]=r[e])}));i<16;)t[a+i++]=0;return t},unparse:function(e,t){var n=t||0,r=a;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n(155),r=function e(t){Object(a.default)(this,e),"pivot_table"===t.type||"chart_pie"===t.type?(this._id=t._id||null,this.name=t.name||null,this.type=t.type||null,this.table_id=t.table_id||null,this.view_id=t.view_id||null,this.groupby_column_key=t.groupby_column_key||null,this.groupby_date_granularity=t.groupby_date_granularity||null,this.groupby_geolocation_granularity=t.groupby_geolocation_granularity||null,this.summary_type=t.summary_type||null,this.summary_column_key=t.summary_column_key||null,this.summary_method=t.summary_method||null,this.show_legend=t.show_legend||null,this.groupby_include_empty_cells=t.groupby_include_empty_cells||null,this.show_percent=t.show_percent||null,this.column_groupby_column_key=t.column_groupby_column_key||null,this.column_groupby_date_granularity=t.column_groupby_date_granularity||null,this.column_groupby_geolocation_granularity=t.column_groupby_geolocation_granularity||null):(this._id=t._id||null,this.name=t.name||null,this.type=t.type||null,this.table_id=t.table_id||null,this.view_id=t.view_id||null,this.x_axis_column_key=t.x_axis_column_key||null,this.x_axis_date_granularity=t.x_axis_date_granularity||null,this.x_axis_geolocation_granularity=t.x_axis_geolocation_granularity||null,this.y_axis_summary_type=t.y_axis_summary_type||null,this.y_axis_column_key=t.y_axis_column_key||null,this.y_axis_summary_method=t.y_axis_summary_method||null,this.y_axis_show_label=t.y_axis_show_label||null,this.y_axis_label_color=t.y_axis_label_color||null,this.y_axis_use_stack=t.y_axis_use_stack||null,this.x_axis_include_empty=t.x_axis_include_empty||null,this.column_groupby_column_key=t.column_groupby_column_key||null,this.column_groupby_date_granularity=t.column_groupby_date_granularity||null,this.column_groupby_geolocation_granularity=t.column_groupby_geolocation_granularity||null)}},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(166),o=n.n(i),s=n(11),l=n(216),c=function(){function e(t){var n=this;Object(a.default)(this,e);var r=o()(t),i=r.type||r.op_type,l=s.OPERATION_ATTRIBUTES[i];this.op_type=i,l.forEach((function(e){n[e]=r[e]}))}return Object(r.default)(e,[{key:"clone",value:function(){return new e(this)}},{key:"apply",value:function(e){return Object(l.apply)(e,this)}},{key:"invert",value:function(){return Object(l.invert)(this)}}]),e}();t.default=c},function(e,t,n){"use strict";n.r(t);var a=n(217);n.d(t,"apply",(function(){return a.default}));var r=n(218);n.d(t,"invert",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(162),i=n(166),o=n.n(i),s=n(23),l=n.n(s),c=n(11),u=n(153),d=n(20),p=n(157),h=n(154),f=n(191),m=n(2);t.default=function(e,t){switch(t.op_type){case c.OPERATION_TYPE.INSERT_ROW:var n=t.table_id,i=t.row_id,s=t.row_insert_position,g=t.row_data,v=l()().utc().toISOString(!0),y=v;g=Object.assign({},g,{_ctime:v,_mtime:y});var _,b=p.default.getTableById(e.tables,n),w=b.rows,E=b.rows.findIndex((function(e){return e._id===i}));return"insert_above"===s?_=E:"insert_below"===s&&(_=E+1),w.splice(_,0,g),b.id_row_map[g._id]=g,e;case c.OPERATION_TYPE.INSERT_ROWS:var T=function(){for(var n=t.table_id,a=t.row_ids,r=t.row_datas,i=p.default.getTableById(e.tables,n),o=i.rows,s=function(e){var t=o.findIndex((function(t){return t._id===a[e]}));t<0&&(t=o.length-1),o.splice(t+1,0,r[e]),i.id_row_map[r[e]._id]=r[e]},l=0;l<a.length;l++)s(l);return{v:e}}();if("object"===typeof T)return T.v;case c.OPERATION_TYPE.DELETE_ROW:var x=t.table_id,C=t.row_id,S=p.default.getTableById(e.tables,x),k=S.rows.filter((function(e){return C!=e._id}));return S.rows=k,delete S.id_row_map[C],e;case c.OPERATION_TYPE.DELETE_ROWS:var O=t.table_id,M=t.row_ids,L=p.default.getTableById(e.tables,O),D=L.rows.filter((function(e){return!M.includes(e._id)}));return L.rows=D,M.map((function(e){delete L.id_row_map[e]})),e;case c.OPERATION_TYPE.MOVE_ROWS:var R=function(){for(var n=t.table_id,a=t.target_ids,r=t.move_position,i=t.moved_rows,o=p.default.getTableById(e.tables,n),s=o.rows,l=i.map((function(e){return e._id})),c=s.filter((function(e){return-1===l.indexOf(e._id)})),u=function(e){var t=c.findIndex((function(t){return t._id===a[e]}));"move_below"===r&&(t+=1),c.splice(t,0,i[e])},d=0;d<a.length;d++)u(d);return o.rows=c,{v:e}}();if("object"===typeof R)return R.v;case c.OPERATION_TYPE.MOVE_GROUP_ROWS:var N=function(){for(var n=t.table_id,a=t.target_ids,i=t.move_position,o=t.moved_rows,s=t.updated,l=p.default.getTableById(e.tables,n),c=l.rows,u=Object(r.default)(o),d=(u=u.map((function(e){var t=e,n=e._id;return c.findIndex((function(e){return e._id===n}))>-1&&(t=Object.assign({},e,s[n]),l.id_row_map[n]=t),t}))).map((function(e){return e._id})),h=c.filter((function(e){return-1===d.indexOf(e._id)})),f=function(e){var t=h.findIndex((function(t){return t._id===a[e]}));"move_below"===i&&(t+=1),h.splice(t,0,u[e])},m=0;m<a.length;m++)f(m);return l.rows=h,{v:e}}();if("object"===typeof N)return N.v;case c.OPERATION_TYPE.INSERT_COLUMN:var I=t.table_id,A=t.column_key,P=t.column_data,Y=p.default.getTableById(e.tables,I),F=o()(Y.columns),j=F.findIndex((function(e){return e.key===A}));return F.splice(j+1,0,P),Y.columns=F,e;case c.OPERATION_TYPE.RESTORE_COLUMN:var U=t.table_id,H=t.column_key,B=t.new_column,V=o()(B),G=p.default.getTableById(e.tables,U),W=o()(G.columns),z=W.findIndex((function(e){return e.key===H}));return W.splice(z+1,0,V),G.columns=W,e;case c.OPERATION_TYPE.DELETE_COLUMN:var q=t.table_id,K=t.column_key,X=p.default.getTableById(e.tables,q),J=o()(X.columns),Z=J.findIndex((function(e){return e.key===K}));return J.splice(Z,1),X.columns=J,e;case c.OPERATION_TYPE.RENAME_COLUMN:var $=t.table_id,Q=t.column_key,ee=t.new_column_name,te=p.default.getTableById(e.tables,$),ne=o()(te.columns),ae=ne.findIndex((function(e){return e.key===Q}));return ne[ae].name=ee,te.columns=ne,e;case c.OPERATION_TYPE.RESIZE_COLUMN:var re=t.table_id,ie=t.column_key,oe=t.new_column_width,se=p.default.getTableById(e.tables,re),le=o()(se.columns),ce=le.findIndex((function(e){return e.key===ie}));return le[ce].width=oe,se.columns=le,e;case c.OPERATION_TYPE.FREEZE_COLUMN:var ue=t.table_id,de=t.column_key,pe=t.frozen,he=p.default.getTableById(e.tables,ue),fe=o()(he.columns),me=fe.findIndex((function(e){return e.key===de}));return fe[me].frozen=pe,he.columns=fe,e;case c.OPERATION_TYPE.MODIFY_COLUMN_DATA:var ge=t.table_id,ve=t.column_key,ye=t.column_data,_e=p.default.getTableById(e.tables,ge),be=o()(_e.columns),we=be.findIndex((function(e){return e.key===ve}));return be[we].data=ye,_e.columns=be,e;case c.OPERATION_TYPE.MOVE_COLUMN:var Ee=t.table_id,Te=t.move_position,xe=t.moved_column_key,Ce=t.target_column_key,Se=p.default.getTableById(e.tables,Ee),ke=o()(Se.columns),Oe=ke.find((function(e){return xe===e.key})),Me=ke.filter((function(e){return xe!==e.key})),Le=Me.findIndex((function(e){return Ce===e.key}));return"move_right"===Te&&(Le+=1),Me.splice(Le,0,Oe),Se.columns=Me,e;case c.OPERATION_TYPE.MODIFY_ROW:var De=t.table_id,Re=t.row_id,Ne=t.updated,Ie=l()().utc().toISOString(!0);Ne=Object.assign({},Ne,{_mtime:Ie});var Ae=p.default.getTableById(e.tables,De),Pe=Ae.rows,Ye=Pe.findIndex((function(e){return e._id===Re})),Fe=Pe[Ye];return Fe=Object.assign({},Fe,Ne),Pe[Ye]=Fe,Ae.id_row_map[Re]=Fe,e;case c.OPERATION_TYPE.MODIFY_ROWS:var je=t.table_id,Ue=t.row_ids,He=t.updated,Be=p.default.getTableById(e.tables,je),Ve=Be.rows;return Ue.forEach((function(e){var t=Ve.findIndex((function(t){return t._id===e}));if(t>-1){var n=Ve[t],a=He[e],r=l()().utc().toISOString(!0);a=Object.assign({},a,{_mtime:r}),n=Object.assign({},n,a),Ve[t]=n,Be.id_row_map[e]=n}})),e;case c.OPERATION_TYPE.INSERT_TABLE:var Ge=t.table_data;return e.tables.push(Ge),e;case c.OPERATION_TYPE.RENAME_TABLE:var We=t.table_id,ze=t.table_name;if(p.default.renameTable(e.tables,We,ze))return e;throw new Error("Rename table failed.");case c.OPERATION_TYPE.DELETE_TABLE:var qe=t.table_id;if(p.default.deleteTable(e.tables,qe))return e;throw new Error("Delete table failed.");case c.OPERATION_TYPE.MOVE_TABLE:var Ke=t.target_table_id,Xe=t.move_position,Je=t.moved_table,Ze=e.tables.filter((function(e){return e._id!==Je._id})),$e=Ze.findIndex((function(e){return e._id===Ke}));return"move_below"===Xe&&($e+=1),Ze.splice($e,0,Je),e.tables=Ze,e;case c.OPERATION_TYPE.INSERT_VIEW:var Qe=t.table_id,et=t.view_data;return p.default.getTableById(e.tables,Qe).views.push(et),e;case c.OPERATION_TYPE.MOVE_VIEW:var tt=t.table_id,nt=t.target_view_id,at=t.move_position,rt=t.moved_view,it=p.default.getTableById(e.tables,tt),ot=it.views.filter((function(e){return rt._id!==e._id})),st=ot.findIndex((function(e){return e._id===nt}));return"move_below"===at&&(st+=1),ot.splice(st,0,rt),it.views=ot,e;case c.OPERATION_TYPE.RENAME_VIEW:var lt=t.table_id,ct=t.view_id,ut=t.view_name,dt=p.default.getTableById(e.tables,lt);if(f.default.renameView(dt.views,ct,ut))return e;throw new Error("Rename view failed.");case c.OPERATION_TYPE.DELETE_VIEW:var pt=t.table_id,ht=t.view_id,ft=p.default.getTableById(e.tables,pt);if(f.default.deleteView(ft.views,ht))return e;throw new Error("Delete view failed.");case c.OPERATION_TYPE.MODIFY_FILTERS:var mt=t.table_id,gt=t.view_id,vt=t.filter_conjunction,yt=t.filters,_t=p.default.getTableById(e.tables,mt),bt=f.default.getViewById(_t.views,gt);return bt.filter_conjunction=vt,bt.filters=yt,e;case c.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS:var wt=t.table_id,Et=t.view_id,Tt=t.hidden_columns,xt=p.default.getTableById(e.tables,wt);return f.default.getViewById(xt.views,Et).hidden_columns=Tt,e;case c.OPERATION_TYPE.MODIFY_SORTS:var Ct=t.table_id,St=t.view_id,kt=t.sorts,Ot=p.default.getTableById(e.tables,Ct);return f.default.getViewById(Ot.views,St).sorts=kt,e;case c.OPERATION_TYPE.ADD_STATISTICS:var Mt=t.stat_item;return e.statistics.push(Mt),e;case c.OPERATION_TYPE.DELETE_STATISTICS:var Lt=t.stat_id,Dt=e.statistics,Rt=Dt.findIndex((function(e){return(e._id?e._id:e._Sid)===Lt}));return Dt.splice(Rt,1),e;case c.OPERATION_TYPE.EDIT_STATISTICS:var Nt=t.stat_id,It=t.stat_item,At=e.statistics,Pt=At.findIndex((function(e){return e._id===Nt}));return At[Pt]=It,e;case c.OPERATION_TYPE.ADD_LINK:e.links||(e.links=[]);var Yt=t.table1_id,Ft=t.table2_id,jt=t.table1_row_id,Ut=t.table2_row_id;return h.default.addLinkBetween2Tables(e.links,Yt,Ft,jt,Ut),e;case c.OPERATION_TYPE.REMOVE_LINK:var Ht=e.links;if(!Ht)return e;var Bt=t.table1_id,Vt=t.table2_id,Gt=t.table1_row_id,Wt=t.table2_row_id;return h.default.removeLinkBetween2Tables(Ht,Bt,Vt,Gt,Wt),e;case c.OPERATION_TYPE.MODIFY_GROUPBYS:var zt=t.table_id,qt=t.view_id,Kt=t.groupbys,Xt=p.default.getTableById(e.tables,zt);return f.default.getViewById(Xt.views,qt).groupbys=Kt,e;case c.OPERATION_TYPE.MODIFY_VIEW_LOCK:var Jt=t.table_id,Zt=t.view_id,$t=t.is_locked,Qt=p.default.getTableById(e.tables,Jt);if(f.default.ModifyViewLock(Qt.views,Zt,$t))return e;throw $t?new Error("Lock view failed."):new Error("Unlock view failed.");case c.OPERATION_TYPE.MODIFY_HEADER_LOCK:var en=t.table_id,tn=t.is_header_locked;if(p.default.modifyHeaderLock(e.tables,en,tn))return e;throw tn?new Error("Lock table header failed."):new Error("Unlock table header failed.");case c.OPERATION_TYPE.MODIFY_COLUMN_TYPE:var nn=t.table_id,an=t.column_key,rn=t.new_column,on=t.old_column,sn=t.collaborators,ln=p.default.getTableById(e.tables,nn),cn=ln.rows,un=ln.id_row_map,dn=o()(ln.columns),pn=dn.findIndex((function(e){return e.key===an}));if(pn>-1){var hn=dn[pn],fn=rn.type,mn=rn.data,gn=rn.name,vn=on.type,yn=on.data,_n=on.name,bn=(mn||{}).format,wn=(yn||{}).format;if(hn.type=fn,mn&&(hn.data=mn),gn!==_n&&(hn.name=gn),fn!==vn||fn===m.CellType.DATE&&bn!==wn){var En=[];cn.forEach((function(e,t){var n=e[an],r=Object(u.getNewCellVal)({targetType:fn,currentType:vn,oldColumnData:yn,newColumnData:mn,oldCellValue:n,collaborators:sn});if(r&&(fn===m.CellType.SINGLE_SELECT||m.CellType.MULTIPLE_SELECT)&&vn!==m.CellType.SINGLE_SELECT&&vn!==m.CellType.MULTIPLE_SELECT){if(fn===m.CellType.SINGLE_SELECT){if(En.findIndex((function(e){return e.name===r}))<0){var i=Object(u.createOption)(En,r);i&&(En.push(i),r=i.id)}}else if(fn===m.CellType.MULTIPLE_SELECT){var o=[];r.forEach((function(e){if(En.findIndex((function(t){return t.name===e}))<0){var t=Object(u.createOption)(En,e);t&&(En.push(t),o.push(t.id))}})),r=o}hn.data?hn.data.options=En:hn.data={options:En}}var s=Object.assign({},e,Object(a.default)({},an,r));cn[t]=s,un[e._id]=s}))}dn[pn]=hn,ln.columns=dn,ln.rows=cn,ln.id_row_map=un}return e;case c.OPERATION_TYPE.RESTORE_COLUMN_TYPE:var Tn=t.table_id,xn=t.column_key,Cn=t.new_column,Sn=t.old_column,kn=t.old_rows_data,On=p.default.getTableById(e.tables,Tn),Mn=On.rows,Ln=On.id_row_map,Dn=o()(On.columns),Rn=Dn.findIndex((function(e){return e.key===xn}));if(Rn>-1){var Nn=Dn[Rn],In=Cn.type,An=Cn.data,Pn=Cn.name,Yn=Sn.type,Fn=Sn.data,jn=Sn.name,Un=(An||{}).format,Hn=(Fn||{}).format;Nn.type=In,Nn.data=An,Pn!==jn&&(Nn.name=Pn),(In!==Yn||In===m.CellType.DATE&&Un!==Hn)&&Mn.forEach((function(e,t){var n=(kn.find((function(t){return t._id===e._id}))||{})[xn],r=Object.assign({},e,Object(a.default)({},xn,n));Mn[t]=r,Ln[e._id]=r})),Dn[Rn]=Nn,On.columns=Dn,On.rows=Mn,On.id_row_map=Ln}return e;case c.OPERATION_TYPE.UPDATE_TABLE_SETTING:var Bn=t.table_id,Vn=t.setting_key,Gn=t.setting_value,Wn=p.default.getTableById(e.tables,Bn),zn=Wn.settings||{};return zn[Vn]=Gn,Wn.settings=zn,e;case c.OPERATION_TYPE.DELETE_TABLE_SETTING:var qn=t.table_id,Kn=t.setting_key,Xn=p.default.getTableById(e.tables,qn),Jn=Xn.settings||{};return delete Jn[Kn],Xn.settings=Jn,e;case c.OPERATION_TYPE.MODIFY_DTABLE_DESCRIPTION:var Zn=t.description;return e.description=Zn,e;case c.OPERATION_TYPE.UPDATE_DEFAULT_DATA:var $n=t.table_id,Qn=t.view_id,ea=t.column_key,ta=t.lang,na=p.default.getTableById(e.tables,$n),aa=f.default.getViewById(na.views,Qn),ra=p.default.getTableColumnByKey(na,ea);return aa.name=Object(d.getViewDefaultName)(ta),ra.name=Object(d.getColumnDefaultName)(ta),e;case c.OPERATION_TYPE.UPDATE_PLUGIN_SETTINGS:var ia=t.plugin_name,oa=t.plugin_settings,sa=e.plugin_settings||{};return sa[ia]=oa,e.plugin_settings=sa,e;case c.OPERATION_TYPE.DELETE_PLUGIN_SETTINGS:var la=t.plugin_name,ca=e.plugin_settings||{};return delete ca[la],e.plugin_settings=ca,e;case c.OPERATION_TYPE.UPDATE_SETTING:e.settings||(e.settings={});var ua=t.setting_key,da=t.setting_value;return e.settings[ua]=da,e;case c.OPERATION_TYPE.DELETE_SETTING:var pa=t.setting_key,ha=e.settings||{};return delete ha[pa],e.settings=ha,e}}},function(e,t,n){"use strict";n.r(t);var a=n(166),r=n.n(a),i=n(11),o=n(215);function s(e){return new o.default(e)}t.default=function(e){switch(e.clone().op_type){case i.OPERATION_TYPE.INSERT_ROW:return s({type:i.OPERATION_TYPE.DELETE_ROW,table_id:e.table_id,row_id:e.row_data._id});case i.OPERATION_TYPE.INSERT_ROWS:return s({type:i.OPERATION_TYPE.DELETE_ROWS,table_id:e.table_id,row_ids:e.row_datas.map((function(e){return e._id}))});case i.OPERATION_TYPE.DELETE_ROW:return s({type:i.OPERATION_TYPE.INSERT_ROW,table_id:e.table_id,row_id:e.upper_row_id,row_insert_position:"insert_below",row_data:r()(e.deleted_row)});case i.OPERATION_TYPE.DELETE_ROWS:return s({type:i.OPERATION_TYPE.INSERT_ROWS,table_id:e.table_id,row_ids:r()(e.upper_row_ids),row_insert_position:"insert_below",row_datas:r()(e.deleted_rows)});case i.OPERATION_TYPE.MOVE_ROWS:return s({type:i.OPERATION_TYPE.MOVE_ROWS,moved_rows:e.moved_rows,table_id:e.table_id,target_ids:e.upper_row_ids,upper_row_ids:e.target_ids,move_position:"move_below"});case i.OPERATION_TYPE.MOVE_GROUP_ROWS:return s({type:i.OPERATION_TYPE.MOVE_GROUP_ROWS,moved_rows:e.moved_rows,table_id:e.table_id,target_ids:e.upper_row_ids,upper_row_ids:e.target_ids,move_position:"move_below",updated:r()(e.old_rows),old_rows:r()(e.updated)});case i.OPERATION_TYPE.INSERT_COLUMN:return s({type:i.OPERATION_TYPE.DELETE_COLUMN,table_id:e.table_id,view_index:e.view_index,old_column:e.column_data,column_key:e.column_data.key});case i.OPERATION_TYPE.DELETE_COLUMN:return s({type:i.OPERATION_TYPE.RESTORE_COLUMN,table_id:e.table_id,view_index:e.view_index,column_key:e.upper_column_key,new_column:e.old_column});case i.OPERATION_TYPE.RENAME_COLUMN:return s({type:i.OPERATION_TYPE.RENAME_COLUMN,table_id:e.table_id,column_key:e.column_key,old_column_name:e.new_column_name,new_column_name:e.old_column_name});case i.OPERATION_TYPE.RESIZE_COLUMN:return s({type:i.OPERATION_TYPE.RESIZE_COLUMN,table_id:e.table_id,column_key:e.column_key,old_column_width:e.new_column_width,new_column_width:e.old_column_width});case i.OPERATION_TYPE.MOVE_COLUMN:return s({type:i.OPERATION_TYPE.MOVE_COLUMN,table_id:e.table_id,moved_column_key:e.moved_column_key,target_column_key:e.upper_column_key,move_position:"move_right"});case i.OPERATION_TYPE.MODIFY_COLUMN_TYPE:return s({type:i.OPERATION_TYPE.RESTORE_COLUMN_TYPE,table_id:e.table_id,column_key:e.column_key,new_column:e.old_column,old_column:e.new_column,old_rows_data:e.old_rows_data});case i.OPERATION_TYPE.MODIFY_ROW:return s({type:i.OPERATION_TYPE.MODIFY_ROW,table_id:e.table_id,row_id:e.row_id,updated:r()(e.old_row),old_row:r()(e.updated)});case i.OPERATION_TYPE.MODIFY_ROWS:return s({type:i.OPERATION_TYPE.MODIFY_ROWS,table_id:e.table_id,row_ids:e.row_ids,updated:r()(e.old_rows),old_rows:r()(e.updated)})}}},function(e,t,n){"use strict";n.r(t);var a=n(183),r=n(5),i=n(220),o=n.n(i),s=n(155),l=n(156),c=n(11),u=n(166),d=n.n(u),p=n(159),h=n.n(p),f=n(19),m=n(157),g=n(154),v=n(202),y=n(201),_=n(214),b=n(215),w=n(199),E=n(200),T=n(222),x=n(197),C=n(223),S=n(191),k=n(20),O=n(158),M=n(2),L=n(21),D=h()("dtable:store"),R=function(){function e(t){var n=this;if(Object(s.default)(this,e),this.undoOperation=function(){if(0!==n.undos.length){var e=n.undos.pop(),t=e.invert();return m.default.canOpApply(n.value.tables,t)?(n.redos.push(e),n.applyLocalOperation(t,!1)):null}},this.redoOperation=function(){if(0!==n.redos.length){var e=n.redos.pop();return n.undos.push(e),n.applyLocalOperation(e,!1)}},this.sendOperationCallback=function(e){if(D("server callback msg: %s",e.message),e.status){n.sendingOperation=null;var t=e.dtable_version;n.value.version=t>n.value.version?t:n.value.version,n.sendNextOperation()}else n.sendingOperation=null,n.eventBus.dispatch("operation-execute-error",e)},this.restoreColumn=function(e,t,a){var r=c.OPERATION_TYPE.RESTORE_COLUMN,i=m.default.getTableId(n.value.tables,e),o=n.createOperation({type:r,table_id:i,column_key:t,new_column:a});return n.applyLocalOperation(o)},this.dtableSettings=t,t){var a=t.dtableServer,r=t.dtableUuid,i=t.accessToken,o=t.lang;this.dtableAPI=new x.default(a,r,i,o)}this.eventBus=new T.default,this.value=null,this.operations=[],this.pendingOperations=[],this.disconnectOperation=[],this.redos=[],this.undos=[],this.view_index=0,this.currentTable=0,this.socketConnected=!1,this.sendingOperation=null,this.isReconnect=!1,this.collaborators=[]}return Object(l.default)(e,[{key:"deseralizeDTable",value:function(e){var t=this;return this.value=e,this.value.tables.map((function(e){Object(f.normalizeTable)(e,t.value.tables)})),this.value}},{key:"loadFromServer",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(this.dtableAPI.getTableData());case 3:e=t.sent,this.deseralizeDTable(e.data),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),null,this,[[0,7]])}},{key:"loadRelatedUsers",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(this.dtableAPI.getTableRelatedUsers());case 3:e=t.sent,this.collaborators=e.data.user_list,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),null,this,[[0,7]])}},{key:"syncWithServer",value:function(){this.socketClient=new C.default(this,this.dtableSettings)}},{key:"updateAccessToken",value:function(e){this.dtableSettings.accessToken=e,this.dtableAPI.accessToken=e,this.socketClient.accessToken=e}},{key:"getTableOperations",value:function(e){return this.dtableAPI.getTableOperations(e)}},{key:"dispatchConnectState",value:function(e,t){var n=this;if("connect"===e){if(this.socketConnected=!0,this.isReconnect)if(this.isReconnect=!1,t.status)if(this.redos=[],this.undos=[],this.sendingOperation&&this.pendingOperations.unshift(this.sendingOperation),this.disconnectOperation=this.pendingOperations.slice(0),D("Reconnect, local version is "+this.value.version+", remote version is "+t.dtable_version),!this.value||t.dtable_version>this.value.version){D("Reload dtable when reconnect."),this.pendingOperations=[];var a=this.dtableSettings.dtableUuid;this.dtableAPI.getTableData(a).then((function(e){var t=n.deseralizeDTable(e.data),a=n.view_index,r=n.value.tables.findIndex((function(e){return e._id===n.currentTable._id}));S.default.selectView(t.tables,r,a),n.eventBus.dispatch("local-dtable-changed",t);for(var i=0;i<n.disconnectOperation.length;i++)n.applyLocalOperation(n.disconnectOperation[i])})).catch((function(e){throw new Error(e)}))}else this.eventBus.dispatch("dtable-begin-saving"),this.sendNextOperation();else this.eventBus.dispatch("operation-execute-error",t);this.eventBus.dispatch("dtable-connect")}"reconnect"===e&&(this.isReconnect=!0),"disconnect"===e&&(this.socketConnected=!1),this.eventBus.dispatch(e,t)}},{key:"getRow",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.view_index,r=m.default.getTableByIndex(this.value.tables,e),i=r.views,o=S.default.getViewByIndex(i,a);return S.default.getRow(o,r,t,n)}},{key:"getColumn",value:function(e,t){var n=m.default.getTableByIndex(this.value.tables,e),a=n.views,r=S.default.getViewByIndex(a,this.view_index);return S.default.getColumns(r,n)[t]}},{key:"getColumnByKey",value:function(e,t){var n=m.default.getTableByIndex(this.value.tables,e),a=n.views,r=S.default.getViewByIndex(a,this.view_index);return S.default.getColumns(r,n).find((function(e){return e.key===t}))}},{key:"getNumberOfColumns",value:function(e){return m.default.getTableByIndex(this.value.tables,e).columns.length-1}},{key:"createOperation",value:function(e){return new b.default(e)}},{key:"applyLocalOperation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.redos.length>0&&(this.redos=[]),this.undos.length>10&&(this.undos=this.undos.slice(-10)),c.UNDO_OPERATION_TYPE.includes(e.op_type)&&this.undos.push(e)),D("apply local operation: %O",{operation:e});var n=e.apply(this.value);c.VIEW_OPERATIONS.includes(e.op_type)&&(e.view_index=this.view_index,e.notifyDTableChanged=this.notifyDTableChanged.bind(this),this.currentTable._id===e.table_id&&S.default.updateViewRows(n.tables,e,this.eventBus)),this.operations.push(e),this.value=n,this.addPendingOperations(e),this.eventBus.dispatch("local-dtable-changed",n)}},{key:"addPendingOperations",value:function(e){if("r"!==this.dtableSettings.permission)if(this.pendingOperations.push(e),this.socketConnected){if(1===this.pendingOperations.length){var t=this.pendingOperations.shift();this.sendingOperation=t,D("send operation: %O",{operation:t}),this.socketClient.sendOperation(JSON.stringify(t),this.sendOperationCallback),this.eventBus.dispatch("dtable-begin-saving")}}else this.eventBus.dispatch("disconnect-operation-tip")}},{key:"sendNextOperation",value:function(){if(this.pendingOperations.length>0){var e=this.pendingOperations.shift();this.sendingOperation=e,D("send operation: %O",{operation:e}),this.socketClient.sendOperation(JSON.stringify(e),this.sendOperationCallback)}else this.eventBus.dispatch("dtable-end-saving")}},{key:"executeRemoteOperation",value:function(e,t){var n=this,a=new b.default(e);if(this.value.version=this.value.version>t?this.value.version:t,a.op_type===c.OPERATION_TYPE.DELETE_TABLE&&a.table_id===this.currentTable._id){var r=this.value.tables,i=r.findIndex((function(e){return e._id===a.table_id}))-1;this.eventBus.dispatch("dtable-current-table-delete",this.currentTable.name);var o=a.apply(this.value);return this.currentTable=m.default.getTableByIndex(r,i),void setTimeout((function(){n.eventBus.dispatch("remote-dtable-changed",o,i,0)}),2e3)}if(a.op_type===c.OPERATION_TYPE.DELETE_VIEW&&a.table_id===this.currentTable._id){var s=S.default.getViewByIndex(this.currentTable.views,this.view_index);if(a.view_id===s._id){this.eventBus.dispatch("dtable-current-view-delete",s.name);var l=a.apply(this.value);return void setTimeout((function(){n.eventBus.dispatch("remote-dtable-changed",l,null,0)}),2e3)}}var u=a.apply(this.value);a.table_id==this.currentTable._id&&c.VIEW_OPERATIONS.includes(a.op_type)&&(a.view_index=this.view_index,a.notifyDTableChanged=this.notifyDTableChanged.bind(this),S.default.updateViewRows(u.tables,a,this.eventBus)),this.eventBus.dispatch("remote-dtable-changed",u)}},{key:"onNewNotification",value:function(e){this.eventBus.dispatch("new-notification",e)}},{key:"executeOperationAtServer",value:function(e){return new b.default(e).apply(this.value)}},{key:"notifyDTableChanged",value:function(){this.eventBus.dispatch("local-dtable-changed",this.value)}},{key:"insertRow",value:function(e,t,n,a){var r=c.OPERATION_TYPE.INSERT_ROW,i=m.default.getTableId(this.value.tables,e),o=new v.default,s=this.dtableSettings,l=s.username,u=s.appName,d=l||u||"",p=d;o=Object.assign({},o,a,{_creator:d,_last_modifier:p});var h=this.createOperation({type:r,table_id:i,row_id:t,row_insert_position:n,row_data:o});return this.applyLocalOperation(h)}},{key:"deleteRow",value:function(e,t,n,a){var r=c.OPERATION_TYPE.DELETE_ROW,i=m.default.getTableId(this.value.tables,e),o=this.createOperation({type:r,table_id:i,row_id:t,deleted_row:n,upper_row_id:a});return this.applyLocalOperation(o)}},{key:"deleteRows",value:function(e,t,n,a){var r=c.OPERATION_TYPE.DELETE_ROWS,i=m.default.getTableId(this.value.tables,e),o=this.createOperation({type:r,table_id:i,row_ids:t,deleted_rows:n,upper_row_ids:a});return this.applyLocalOperation(o)}},{key:"restoreRows",value:function(e,t,n,a){var r=c.OPERATION_TYPE.INSERT_ROWS,i=m.default.getTableId(this.value.tables,e),o=this.createOperation({type:r,table_id:i,row_ids:t,row_insert_position:n,row_datas:a});return this.applyLocalOperation(o)}},{key:"moveRows",value:function(e,t,n,a,r){var i=c.OPERATION_TYPE.MOVE_ROWS,o=m.default.getTableId(this.value.tables,e),s=this.createOperation({type:i,table_id:o,target_ids:t,move_position:n,moved_rows:a,upper_row_ids:r});return this.applyLocalOperation(s)}},{key:"moveGroupRows",value:function(e,t,n,a,r,i,o){var s=c.OPERATION_TYPE.MOVE_GROUP_ROWS,l=m.default.getTableId(this.value.tables,e),u=this.createOperation({type:s,table_id:l,target_ids:t,move_position:n,moved_rows:a,upper_row_ids:r,updated:i,old_rows:o});return this.applyLocalOperation(u)}},{key:"insertColumn",value:function(e,t,n,a){var r=c.OPERATION_TYPE.INSERT_COLUMN,i=m.default.getTableByIndex(this.value.tables,e),o=m.default.getTableId(this.value.tables,e),s=i.columns[a].key,l={creator:"_creator",ctime:"_ctime","last-modifier":"_last_modifier",mtime:"_mtime"},u=l[n]?l[n]:Object(f.generatorColumnKey)(i.columns),d=new y.default({column_key:u,column_type:n,column_name:t}),p=this.createOperation({type:r,table_id:o,column_key:s,column_data:d});return this.applyLocalOperation(p)}},{key:"deleteColumn",value:function(e,t,n,a){var r=this,i=c.OPERATION_TYPE.DELETE_COLUMN,o=m.default.getTableId(this.value.tables,e),s=n.key;m.default.getTableById(this.value.tables,o).views.forEach((function(t){if(!S.default.isDefaultView(t)){var n=t.filters,a=t.sorts,i=t.groupbys,o=n&&n.findIndex((function(e){return e.column_key===s}));o>-1&&r.deleteFilter(e,o);var l=a&&a.findIndex((function(e){return e.column_key===s}));l>-1&&r.deleteSort(e,l);var c=i&&i.findIndex((function(e){return e.column_key===s}));c>-1&&r.deleteGroup(e,c)}}));var l=this.createOperation({type:i,table_id:o,column_key:t,old_column:n,upper_column_key:a});return this.applyLocalOperation(l)}},{key:"renameColumn",value:function(e,t,n){var a=c.OPERATION_TYPE.RENAME_COLUMN,r=m.default.getTableId(this.value.tables,e),i=this.getColumnByKey(e,t).name,o=this.createOperation({type:a,table_id:r,column_key:t,new_column_name:n,old_column_name:i});return this.applyLocalOperation(o)}},{key:"setColumnData",value:function(e,t,n){var a=c.OPERATION_TYPE.MODIFY_COLUMN_DATA,r=m.default.getTableId(this.value.tables,e),i=this.createOperation({type:a,table_id:r,column_key:t,column_data:n});return this.applyLocalOperation(i)}},{key:"resizeColumn",value:function(e,t,n){var a=this.getColumnByKey(e,t).width,r=c.OPERATION_TYPE.RESIZE_COLUMN,i=m.default.getTableId(this.value.tables,e),o=this.createOperation({type:r,table_id:i,column_key:t,new_column_width:n,old_column_width:a});return this.applyLocalOperation(o)}},{key:"setColumnFreeze",value:function(e,t,n){var a=c.OPERATION_TYPE.FREEZE_COLUMN,r=m.default.getTableId(this.value.tables,e),i=this.createOperation({type:a,table_id:r,column_key:t,frozen:n});return this.applyLocalOperation(i)}},{key:"moveColumn",value:function(e,t,n,a,r){var i=c.OPERATION_TYPE.MOVE_COLUMN,o=m.default.getTableId(this.value.tables,e),s=this.createOperation({type:i,table_id:o,move_position:t,moved_column_key:n,target_column_key:a,upper_column_key:r});return this.applyLocalOperation(s)}},{key:"modifyRow",value:function(e,t,n,a){for(var r in n)if("_id"===r)throw new Error("It is forbidden to modify the value which key value is _id, please check the program and modify the error.");delete n._creator,delete n._ctime,delete n._last_modifier,delete n._mtime;var i=c.OPERATION_TYPE.MODIFY_ROW,o=m.default.getTableId(this.value.tables,e),s=this.dtableSettings,l=s.username,u=s.appName,d=l||u||"";n=Object.assign({},n,{_last_modifier:d});var p=this.createOperation({type:i,table_id:o,row_id:t,updated:n,old_row:a});return this.applyLocalOperation(p)}},{key:"modifyRows",value:function(e,t,n,a){var r=c.OPERATION_TYPE.MODIFY_ROWS,i=m.default.getTableId(this.value.tables,e),o=this.dtableSettings,s=o.username,l=o.appName,u=s||l||"";for(var d in n)delete n[d]._creator,delete n[d]._ctime,delete n[d]._last_modifier,delete n[d]._mtime,n[d]=Object.assign({},n[d],{_last_modifier:u});var p=this.createOperation({type:r,table_id:i,row_ids:t,updated:n,old_rows:a});return this.applyLocalOperation(p)}},{key:"insertTable",value:function(e){var t=c.OPERATION_TYPE.INSERT_TABLE,n=this.dtableSettings.lang,a={table_id:Object(f.generatorTableId)(this.value.tables),table_name:e,lang:n},r=new w.default(a),i=this.createOperation({type:t,table_data:r});return this.applyLocalOperation(i)}},{key:"renameTable",value:function(e,t){var n=c.OPERATION_TYPE.RENAME_TABLE,a=m.default.getTableId(this.value.tables,e),r=this.createOperation({type:n,table_id:a,table_name:t});return this.applyLocalOperation(r)}},{key:"deleteTable",value:function(e){var t=c.OPERATION_TYPE.DELETE_TABLE,n=m.default.getTableId(this.value.tables,e),a=m.default.getTableByIndex(this.value.tables,e),r=a.name,i=this.createOperation({type:t,table_id:n,table_name:r,deleted_table:a});return this.applyLocalOperation(i)}},{key:"moveTable",value:function(e,t,n){var a=c.OPERATION_TYPE.MOVE_TABLE,r=this.createOperation({type:a,target_table_id:e,move_position:t,moved_table:n});return this.applyLocalOperation(r)}},{key:"duplicateTable",value:function(e,t){var n=c.OPERATION_TYPE.INSERT_TABLE,a=Object(f.generatorTableId)(this.value.tables),r=m.default.getTableById(this.value.tables,e),i={};i._id=a,i.name=r.name+"(copy)",i.is_header_locked=r.is_header_locked,i.columns=d()(r.columns),i.rows=[],i.id_row_map={},i.views=d()(r.views),t&&r.rows.forEach((function(e){var t=new v.default;t=Object.assign({},e,{_id:t._id}),i.rows.push(t),i.id_row_map[t._id]=t}));var o=this.createOperation({type:n,table_data:i});return this.applyLocalOperation(o)}},{key:"exportStatisticToTable",value:function(e,t,n){var a=c.OPERATION_TYPE.INSERT_TABLE,i=this.value.tables,o=this.dtableSettings.lang,s=new w.default({table_id:Object(f.generatorTableId)(i),table_name:e,lang:o}),l=t.pivot_result,u=t.groupby_column,d=t.row_groupby_column,p=l.pivot_rows,h=l.pivot_columns,m={};if(s.columns[0]=Object.assign({},s.columns[0],{name:u.name}),d){var g=d.data,_=d.type,b=g&&g.options?g.options:[];h.forEach((function(e){var t,a=Object(f.generatorColumnKey)(s.columns);t=null===e.key?Object(k.getEmptyName)(o):Object(L.getDisplayValue)(_,e.key,{options:b,collaborators:n});var r=new y.default({column_key:a,column_type:M.CellType.NUMBER,column_name:t,data:{format:"number"}});m[e.key]=a,s.columns.push(r)}))}var E=Object(f.generatorColumnKey)(s.columns),T=new y.default({column_key:E,column_type:M.CellType.NUMBER,column_name:Object(k.getTotalName)(o),data:{format:"number"}});if(s.columns.push(T),u){var x=u.data,C=u.type,S=x&&x.options?x.options:[];p.forEach((function(e){var t=e.name,a=e.cells,i=e.total;t=null===t?Object(k.getEmptyName)(o):Object(L.getDisplayValue)(C,t,{options:S,collaborators:n});var l=new v.default,c=Object(r.default)({"0000":t},E,i);d&&Object.keys(a).forEach((function(e){c[m[e]]=a[e].total})),l=Object.assign({},l,c),s.rows.push(l),s.id_row_map[l._id]=l}))}var O=this.createOperation({type:a,table_data:s});return this.applyLocalOperation(O)}},{key:"restoreTable",value:function(e){var t=c.OPERATION_TYPE.INSERT_TABLE,n=this.createOperation({type:t,table_data:e});return this.applyLocalOperation(n)}},{key:"insertTableFromCommonDataset",value:function(e,t,n){var a=c.OPERATION_TYPE.INSERT_TABLE,r=this.value.tables,i=this.dtableSettings.lang,o=new w.default({table_id:Object(f.generatorTableId)(r),table_name:e,lang:i});o.columns=n,t.forEach((function(e){var t=new v.default,n=O.default.convertRowBack(e,o);t=Object.assign({},t,n),o.rows.push(t),o.id_row_map[t._id]=t}));var s=this.createOperation({type:a,table_data:o});return this.applyLocalOperation(s)}},{key:"insertView",value:function(e,t){var n=c.OPERATION_TYPE.INSERT_VIEW,r=m.default.getTableByIndex(this.value.tables,e),i=m.default.getTableId(this.value.tables,e),o=Object(f.generatorViewId)(r.views),s=new E.default(Object(a.default)({_id:o},t)),l=this.createOperation({type:n,table_id:i,view_data:s});return this.applyLocalOperation(l)}},{key:"moveView",value:function(e,t,n,a){var r=c.OPERATION_TYPE.MOVE_VIEW,i=m.default.getTableId(this.value.tables,e),o=this.createOperation({type:r,table_id:i,target_view_id:t,move_position:n,moved_view:a});return this.applyLocalOperation(o)}},{key:"selectView",value:function(e,t){this.currentTable=m.default.getTableByIndex(this.value.tables,e),this.view_index=t,S.default.selectView(this.value.tables,e,t),this.eventBus.dispatch("local-dtable-changed",this.value)}},{key:"renameView",value:function(e,t,n){var a=c.OPERATION_TYPE.RENAME_VIEW,r=m.default.getTableByIndex(this.value.tables,e),i=m.default.getTableId(this.value.tables,e),o=S.default.getViewId(r.views,t),s=this.createOperation({type:a,table_id:i,view_id:o,view_name:n});return this.applyLocalOperation(s)}},{key:"deleteView",value:function(e,t){var n=c.OPERATION_TYPE.DELETE_VIEW,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=S.default.getViewId(a.views,t),o=a.views[t].name,s=this.createOperation({type:n,table_id:r,view_id:i,view_name:o});return this.applyLocalOperation(s)}},{key:"modifyViewLock",value:function(e,t,n){var a=c.OPERATION_TYPE.MODIFY_VIEW_LOCK,r=m.default.getTableByIndex(this.value.tables,e),i=r._id,o=S.default.getViewId(r.views,t),s=this.createOperation({type:a,table_id:i,view_id:o,is_locked:n});return this.applyLocalOperation(s)}},{key:"modifyHeaderLock",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_HEADER_LOCK,a=m.default.getTableId(this.value.tables,e),r=this.createOperation({type:n,table_id:a,is_header_locked:t});return this.applyLocalOperation(r)}},{key:"addFilter",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_FILTERS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i),l=o.filter_conjunction;l||(l="And");var u=o.filters?d()(o.filters):[];u.push(t);var p=this.createOperation({type:n,table_id:r,view_id:s,filter_conjunction:l,filters:u});return this.applyLocalOperation(p)}},{key:"updateFilter",value:function(e,t,n){var a=c.OPERATION_TYPE.MODIFY_FILTERS,r=m.default.getTableByIndex(this.value.tables,e),i=m.default.getTableId(this.value.tables,e),o=this.view_index,s=r.views[o],l=S.default.getViewId(r.views,o),u=s.filter_conjunction,p=d()(s.filters);p[t]=Object.assign({},p[t],n);var h=this.createOperation({type:a,table_id:i,view_id:l,filter_conjunction:u,filters:p});return this.applyLocalOperation(h)}},{key:"deleteFilter",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_FILTERS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i),l=o.filter_conjunction,u=d()(o.filters);u.splice(t,1),0===u.length&&(l="");var p=this.createOperation({type:n,table_id:r,view_id:s,filter_conjunction:l,filters:u});return this.applyLocalOperation(p)}},{key:"updateFilterConjunction",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_FILTERS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i),l=t,u=o.filters,d=this.createOperation({type:n,table_id:r,view_id:s,filter_conjunction:l,filters:u});return this.applyLocalOperation(d)}},{key:"hideColumn",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i),l=o.hidden_columns?o.hidden_columns.slice(0):[];l.push(t);var u=this.createOperation({type:n,table_id:r,view_id:s,hidden_columns:l});return this.applyLocalOperation(u)}},{key:"showColumn",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i),l=o.hidden_columns?o.hidden_columns.slice(0):[];l=l?l.filter((function(e){return e!==t})):[];var u=this.createOperation({type:n,table_id:r,view_id:s,hidden_columns:l});return this.applyLocalOperation(u)}},{key:"hideAllColumns",value:function(e){var t=c.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS,n=m.default.getTableByIndex(this.value.tables,e),a=m.default.getTableId(this.value.tables,e),r=this.view_index,i=S.default.getViewId(n.views,r),o=n.columns?n.columns:[],s=[];o.forEach((function(e,t){t>0&&s.push(e.key)}));var l=this.createOperation({type:t,table_id:a,view_id:i,hidden_columns:s});return this.applyLocalOperation(l)}},{key:"showAllColumns",value:function(e){var t=c.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS,n=m.default.getTableByIndex(this.value.tables,e),a=m.default.getTableId(this.value.tables,e),r=this.view_index,i=S.default.getViewId(n.views,r),o=this.createOperation({type:t,table_id:a,view_id:i,hidden_columns:[]});return this.applyLocalOperation(o)}},{key:"addSort",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_SORTS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i),l=o.sorts;l instanceof Array?l.push(t):l=[t];var u=this.createOperation({type:n,table_id:r,view_id:s,sort:t,sorts:l});return this.applyLocalOperation(u)}},{key:"updateSort",value:function(e,t,n){var a=c.OPERATION_TYPE.MODIFY_SORTS,r=m.default.getTableByIndex(this.value.tables,e),i=m.default.getTableId(this.value.tables,e),o=this.view_index,s=r.views[o],l=S.default.getViewId(r.views,o),u=s.sorts;u[n]=t;var d=this.createOperation({type:a,table_id:i,view_id:l,sorts:u});return this.applyLocalOperation(d)}},{key:"deleteSort",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_SORTS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=a.views[i],s=S.default.getViewId(a.views,i);o.sorts.splice(t,1);var l=o.sorts,u=this.createOperation({type:n,table_id:r,view_id:s,sorts:l});return this.applyLocalOperation(u)}},{key:"addStatistics",value:function(e){var t=c.OPERATION_TYPE.ADD_STATISTICS,n=this.value.statistics,a=Object(f.generatorStatId)(n);e._id=a;var r=new _.default(e),i=this.createOperation({type:t,stat_item:r});return this.applyLocalOperation(i)}},{key:"deleteStatistics",value:function(e,t){var n=c.OPERATION_TYPE.DELETE_STATISTICS,a=this.createOperation({type:n,stat_id:e,stat_name:t});return this.applyLocalOperation(a)}},{key:"editStatistics",value:function(e,t){var n=c.OPERATION_TYPE.EDIT_STATISTICS;t._id=e;var a=this.createOperation({type:n,stat_id:e,stat_item:t});return this.applyLocalOperation(a)}},{key:"addLinkColumn",value:function(e,t,n,a){var r=m.default.getTableByIndex(this.value.tables,t),i=m.default.getTableByIndex(this.value.tables,n);this.insertColumn(t,e,"link",this.getNumberOfColumns(t));var o=r.columns,s=o[o.length-1].key;if(this.setColumnData(t,s,a),n!==t){this.insertColumn(n,r.name,"link",this.getNumberOfColumns(n));var l=i.columns,c=l[l.length-1].key,u=Object.assign({},a);this.setColumnData(n,c,u)}}},{key:"addLink",value:function(e,t,n,a){var r=g.default.transLinkOptions(e,t,n,a),i=this.createOperation(Object.assign(r,{type:c.OPERATION_TYPE.ADD_LINK}));this.applyLocalOperation(i)}},{key:"removeLink",value:function(e,t,n,a){var r=g.default.transLinkOptions(e,t,n,a),i=this.createOperation(Object.assign(r,{type:c.OPERATION_TYPE.REMOVE_LINK}));return this.applyLocalOperation(i)}},{key:"searchRowsInTableByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a="0000",r=this.value.tables.find((function(t){return t._id===e}));if(!r)return[];var i=r.rows.filter((function(e){return e[a]&&""!==e[a].trim()}));if(""===t)return i.slice(0,n);var o=i.filter((function(e){return!!e[a]&&e[a].toLowerCase().indexOf(t)>-1}));return o.slice(0,n)}},{key:"getRowsByID",value:function(e,t){var n=this.value.tables.find((function(t){return t._id===e}));return n?t.map((function(e){return n.id_row_map[e]})).filter((function(e){return e})):[]}},{key:"getLinkCellValue",value:function(e,t,n){var a=this.value.links;if(!a||!e||!t||!n)return[];var r=g.default.getLinkByTableIds(a,e,t);if(!r)return[];var i=r.table1_id===e?r.table1_table2_map:r.table2_table1_map;return i[n]?i[n]:[]}},{key:"addGroup",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_GROUPBYS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=S.default.getViewId(a.views,i),s=a.views[i],l=s.groupbys?d()(s.groupbys):[];l.push(t);var u=this.createOperation({type:n,table_id:r,view_id:o,groupbys:l});return this.applyLocalOperation(u)}},{key:"updateGroup",value:function(e,t,n){var a=c.OPERATION_TYPE.MODIFY_GROUPBYS,r=m.default.getTableByIndex(this.value.tables,e),i=m.default.getTableId(this.value.tables,e),o=this.view_index,s=S.default.getViewId(r.views,o),l=r.views[o],u=d()(l.groupbys),p=u[t];p=Object.assign({},p,n),u[t]=p;var h=this.createOperation({type:a,table_id:i,view_id:s,groupbys:u});return this.applyLocalOperation(h)}},{key:"deleteGroup",value:function(e,t){var n=c.OPERATION_TYPE.MODIFY_GROUPBYS,a=m.default.getTableByIndex(this.value.tables,e),r=m.default.getTableId(this.value.tables,e),i=this.view_index,o=S.default.getViewId(a.views,i),s=a.views[i],l=d()(s.groupbys);l.splice(t,1);var u=this.createOperation({type:n,table_id:r,view_id:o,groupbys:l});return this.applyLocalOperation(u)}},{key:"modifyColumnType",value:function(e,t,n,a){var r=c.OPERATION_TYPE.MODIFY_COLUMN_TYPE,i=m.default.getTableId(this.value.tables,e),o=m.default.getTableByIndex(this.value.tables,e),s=this.getColumnByKey(e,t),l=O.default.getRowsDataByColumnKey(o.rows,t),u=this.createOperation({type:r,table_id:i,column_key:t,new_column:n,old_column:s,old_rows_data:l,collaborators:a});return this.applyLocalOperation(u)}},{key:"restoreColumnType",value:function(e,t,n,a,r){var i=c.OPERATION_TYPE.RESTORE_COLUMN_TYPE,o=m.default.getTableId(this.value.tables,e),s=this.createOperation({type:i,table_id:o,column_key:t,new_column:n,old_column:a,old_rows_data:r});return this.applyLocalOperation(s)}},{key:"updateTableSetting",value:function(e,t,n){var a=c.OPERATION_TYPE.UPDATE_TABLE_SETTING,r=m.default.getTableId(this.value.tables,e),i=this.createOperation({type:a,table_id:r,setting_key:t,setting_value:n});return this.applyLocalOperation(i)}},{key:"deleteTableSetting",value:function(e,t){var n=c.OPERATION_TYPE.DELETE_TABLE_SETTING,a=m.default.getTableId(this.value.tables,e),r=this.createOperation({type:n,table_id:a,setting_key:t});return this.applyLocalOperation(r)}},{key:"modifyDTableDescription",value:function(e){var t=c.OPERATION_TYPE.MODIFY_DTABLE_DESCRIPTION,n=this.createOperation({type:t,description:e});return this.applyLocalOperation(n)}},{key:"updatePluginSettings",value:function(e,t){var n=c.OPERATION_TYPE.UPDATE_PLUGIN_SETTINGS,a=this.createOperation({type:n,plugin_name:e,plugin_settings:t});return this.applyLocalOperation(a)}},{key:"deletePluginSettings",value:function(e){var t=c.OPERATION_TYPE.DELETE_PLUGIN_SETTINGS,n=this.createOperation({type:t,plugin_name:e});return this.applyLocalOperation(n)}},{key:"updateToolbarPlugin",value:function(e){var t={setting_key:"extra_toolbar_items",setting_value:e},n=this.createOperation(Object.assign(t,{type:c.OPERATION_TYPE.UPDATE_SETTING}));this.applyLocalOperation(n)}},{key:"getTableByName",value:function(e){var t=this.value.tables;return m.default.getTableByName(t,e)}},{key:"getTableIdByName",value:function(e){var t=this.getTableByName(e);return t?t._id:""}},{key:"getTableRowsByName",value:function(e){var t=this.getTableByName(e);return t?t.rows:[]}},{key:"getTableColumnsByName",value:function(e){var t=this.getTableByName(e);return t?t.columns:[]}},{key:"getViewRowsByNames",value:function(e,t){var n=this.getTableByName(e);if(!n)return null;var a=S.default.getViewByName(n.views,t);return a?this.getViewRows(n._id,a._id):null}},{key:"getViewRows",value:function(e,t){var n=this.value.tables,a=m.default.getTableById(n,e),r=a.views,i=S.default.getViewById(r,t);return S.default.getViewRows(i,a)}},{key:"getSelectOptionName",value:function(e,t){var n=e.data&&e.data.options;if(n&&t){var a=n&&n.find((function(e){return e.id===t}));return a?a.name:""}return""}},{key:"getAllFormulaColumns",value:function(e){return S.default.getAllFormulaColumns(e.columns)}},{key:"getTableFormulaResults",value:function(e,t,n){return S.default.getTableFormulaResults(e,t,n)}}]),e}();t.default=R},function(e,t,n){e.exports=n(221)},function(e,t,n){var a=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n,a){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),o=new k(a||[]);return i._invoke=function(e,t,n){var a=u;return function(r,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw i;return M()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===u)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=c(e,t,n);if("normal"===l.type){if(a=n.done?h:d,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}e.wrap=l;var u="suspendedStart",d="suspendedYield",p="executing",h="completed",f={};function m(){}function g(){}function v(){}var y={};y[i]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(O([])));b&&b!==n&&a.call(b,i)&&(y=b);var w=v.prototype=m.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){var t;this._invoke=function(n,r){function i(){return new Promise((function(t,i){!function t(n,r,i,o){var s=c(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&a.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}(n,r,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return g.prototype=w.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,a,r){var i=new T(l(t,n,a,r));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(w),w[s]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return s.type="throw",s.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:O(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=a}catch(r){Function("r","regeneratorRuntime = r")(a)}},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=function(){function e(){Object(a.default)(this,e),this.subscribers={}}return Object(r.default)(e,[{key:"subscribe",value:function(e,t){this.subscribers[e]||(this.subscribers[e]=[]);var n=this.subscribers[e];return n.push(t),function(){var e=n.indexOf(t);e>-1&&n.splice(e,1)}}},{key:"dispatch",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=this.subscribers[e];Array.isArray(r)&&r.forEach((function(e){return e.apply(void 0,n)}))}}]),e}();t.default=i},function(e,t,n){"use strict";n.r(t);var a=n(155),r=n(156),i=n(159),o=n.n(i),s=n(224),l=n.n(s),c=o()("dtable:socket-client"),u=function(){function e(t,n){var r=this;Object(a.default)(this,e);var i=n.dtableUuid,o=n.dtableSocket,s=n.accessToken;this.dtableUuid=i,this.tableStore=t,this.accessToken=s,this.socket=l()(o,{reconnect:!0,query:{dtable_uuid:i}}),this.socket.on("connect",(function(){r.onConnected()})),this.socket.on("reconnect",(function(e){r.onReconnect(e)})),this.socket.on("disconnect",(function(e){r.onDisconnect(e)})),this.socket.on("update-dtable",(function(e,t){return r.onUpdateDtable(e,t)})),this.socket.on("new-notification",(function(e){return r.onNewNotification(e)})),"undefined"!==typeof window&&(window.onbeforeunload=function(){return r.close()})}return Object(r.default)(e,[{key:"connect",value:function(){this.socket.open()}},{key:"close",value:function(){this.socket.emit("leave room")}},{key:"onConnected",value:function(){var e=this;c("connected to server"),this.socket.emit("join-room",this.dtableUuid,this.accessToken,(function(t){t.status?(c("join room success."),e.tableStore.dispatchConnectState("connect",t)):(c("join room failed."),e.tableStore.dispatchConnectState("connect-error",t))}))}},{key:"onReconnect",value:function(e){c("reconnect."),this.tableStore.dispatchConnectState("reconnect")}},{key:"onUpdateDtable",value:function(e,t){c("=================================="),c("message from server: %s"+e.toString()),c("=================================="),this.tableStore.executeRemoteOperation(JSON.parse(e),t)}},{key:"onNewNotification",value:function(e){c("Received new notification from server: %s"+e.toString()),this.tableStore.onNewNotification(JSON.parse(e))}},{key:"onDisconnect",value:function(e){c("disconnect message: %s",e),this.tableStore.dispatchConnectState("disconnect")}},{key:"sendOperation",value:function(e,t){var n=this.dtableUuid;this.socket.emit("update-dtable",n,e,(function(e){t&&t(e)}))}}]),e}();t.default=u},function(e,t){e.exports=n}])}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(627);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return l(a).default}});var r=n(1054);Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function(){return l(r).default}});var i=n(1055);Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function(){return l(i).default}});var o=n(1056);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return l(o).default}});var s=n(1066);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return l(s).default}})},,,,function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){e.exports=function(){return function(t){if(/number|string|boolean/.test(typeof t))return t;if(t instanceof Date)return new Date(t.getTime());var n=t instanceof Array?[]:{};return function t(n,a){for(var r in n){var i=n[r];if(i instanceof Date){var o=new Date(i.getTime());e(a,r,o)}else if(i instanceof Function)e(a,r,o=i);else if(i instanceof Array){var s=e(a,r,o=[]);t(i,s)}else i instanceof Object?(s=e(a,r,o={}),t(i,s)):e(a,r,o=i)}}(t,n),n};function e(e,t,n){return e instanceof Array?(e.push(n),e[e.length-1]):e instanceof Object?(e[t]=n,e[t]):void 0}}()},,,,,,,,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var a=n(217),r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();e.exports=i},,,,function(e,t,n){(function(a){t.log=function(){var e;return"object"===typeof console&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var a=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(r=a))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof a&&"env"in a&&(e=Object({NODE_ENV:"production",PUBLIC_URL:""}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(410)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(84))},,,,,,,,,function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,function(e,t,n){var a=n(353),r=n(358);e.exports=function(e,t){var n=r(e,t);return a(n)?n:void 0}},function(e,t,n){"use strict";var a=n(299),r="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,i,o,s,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(o=a(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(n){n.stopPropagation(),t.format&&(n.preventDefault(),n.clipboardData.clearData(),n.clipboardData.setData(t.format,e))})),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:r),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),o()}return u}},,,,,,,,,,function(e,t,n){var a=n(104),r=n(354),i=n(355),o="[object Null]",s="[object Undefined]",l=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:l&&l in Object(e)?r(e):i(e)}},function(e,t,n){var a,r=n(430),i=n(236),o=n(432),s=n(433),l=n(434);"undefined"!==typeof ArrayBuffer&&(a=n(435));var c="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=c||u;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=r(p),f={type:"error",data:"parser error"},m=n(436);function g(e,t,n){for(var a=new Array(e.length),r=s(e.length,n),i=function(e,n,r){t(n,(function(t,n){a[e]=n,r(t,a)}))},o=0;o<e.length;o++)i(o,e[o],r)}t.encodePacket=function(e,n,a,r){"function"===typeof n&&(r=n,n=!1),"function"===typeof a&&(r=a,a=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,n,a){if(!n)return t.encodeBase64Packet(e,a);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=p[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return a(o.buffer)}(e,n,r);if("undefined"!==typeof m&&i instanceof m)return function(e,n,a){if(!n)return t.encodeBase64Packet(e,a);if(d)return function(e,n,a){if(!n)return t.encodeBase64Packet(e,a);var r=new FileReader;return r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,!0,a)},r.readAsArrayBuffer(e.data)}(e,n,a);var r=new Uint8Array(1);r[0]=p[e.type];var i=new m([r.buffer,e.data]);return a(i)}(e,n,r);if(i&&i.base64)return function(e,n){var a="b"+t.packets[e.type]+e.data.data;return n(a)}(e,r);var o=p[e.type];return void 0!==e.data&&(o+=a?l.encode(String(e.data),{strict:!1}):String(e.data)),r(""+o)},t.encodeBase64Packet=function(e,n){var a,r="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(r+e)},i.readAsDataURL(e.data)}try{a=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(c){for(var o=new Uint8Array(e.data),s=new Array(o.length),l=0;l<o.length;l++)s[l]=o[l];a=String.fromCharCode.apply(null,s)}return r+=btoa(a),n(r)},t.decodePacket=function(e,n,a){if(void 0===e)return f;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(a&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var r=e.charAt(0);return Number(r)==r&&h[r]?e.length>1?{type:h[r],data:e.substring(1)}:{type:h[r]}:f}r=new Uint8Array(e)[0];var i=o(e,1);return m&&"blob"===n&&(i=new m([i])),{type:h[r],data:i}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!a)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=a.decode(e.substr(1));return"blob"===t&&m&&(r=new m([r])),{type:n,data:r}},t.encodePayload=function(e,n,a){"function"===typeof n&&(a=n,n=null);var r=i(e);if(n&&r)return m&&!d?t.encodePayloadAsBlob(e,a):t.encodePayloadAsArrayBuffer(e,a);if(!e.length)return a("0:");g(e,(function(e,a){t.encodePacket(e,!!r&&n,!1,(function(e){a(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return a(t.join(""))}))},t.decodePayload=function(e,n,a){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,a);var r;if("function"===typeof n&&(a=n,n=null),""===e)return a(f,0,1);for(var i,o,s="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"===u){if(""===s||s!=(i=Number(s)))return a(f,0,1);if(s!=(o=e.substr(l+1,i)).length)return a(f,0,1);if(o.length){if(r=t.decodePacket(o,n,!1),f.type===r.type&&f.data===r.data)return a(f,0,1);if(!1===a(r,l+i,c))return}l+=i,s=""}else s+=u}return""!==s?a(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var a=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(a),i=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var a=new Uint8Array(e.length),o=0;o<e.length;o++)a[o]=e.charCodeAt(o);n=a.buffer}r[i++]=t?0:1;var s=n.byteLength.toString();for(o=0;o<s.length;o++)r[i++]=parseInt(s[o]);r[i++]=255;for(a=new Uint8Array(n),o=0;o<a.length;o++)r[i++]=a[o]})),n(r.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var a=new Uint8Array(e.length),r=0;r<e.length;r++)a[r]=e.charCodeAt(r);e=a.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,m){var s=new m([t.buffer,o.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,a){"function"===typeof n&&(a=n,n=null);for(var r=e,i=[];r.byteLength>0;){for(var s=new Uint8Array(r),l=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return a(f,0,1);c+=s[u]}r=o(r,2+c.length),c=parseInt(c);var d=o(r,0,c);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var p=new Uint8Array(d);d="";for(u=0;u<p.length;u++)d+=String.fromCharCode(p[u])}i.push(d),r=o(r,c)}var h=i.length;i.forEach((function(e,r){a(t.decodePacket(e,n,!0),r,h)}))}},,,function(e,t,n){var a=n(278),r=n(381),i=n(135);e.exports=function(e){return i(e)?a(e):r(e)}},,function(e,t){var n={get:function(e,t){return"function"===typeof e.get?e.get(t):e[t]},isRowSelected:function(e,t,n,a,r){return t&&"[object Array]"===Object.prototype.toString.call(t)?t.indexOf(r)>-1:e&&e.rowKey&&e.values&&"[object Array]"===Object.prototype.toString.call(e.values)?e.values.indexOf(a[e.rowKey])>-1:!(!n||!a||"string"!==typeof n)&&a[n]}};e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,,,,,,,function(e,t){e.exports={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,LeftWindowKey:91,RightWindowKey:92,SelectKey:93,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,Multiply:106,Add:107,Subtract:109,DecimalPoint:110,Divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F12:123,NumLock:144,ScrollLock:145,SemiColon:186,EqualSign:187,Comma:188,Dash:189,Period:190,ForwardSlash:191,GraveAccent:192,OpenBracket:219,BackSlash:220,CloseBracket:221,SingleQuote:222}},,function(e,t,n){var a=n(61).Symbol;e.exports=a},,function(e,t,n){var a=n(157),r=1/0;e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}},,,,,,,,,,function(e,t,n){var a=n(150);e.exports=function(e,t){return a(e,t)}},,,function(e,t,n){var a=n(343),r=n(344),i=n(345),o=n(346),s=n(347);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var a=n(134);e.exports=function(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}},function(e,t,n){var a=n(76)(Object,"create");e.exports=a},function(e,t,n){var a=n(367);e.exports=function(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),a=0,r=n.length;a<r;a++){var i=n[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,,function(e,t,n){e.exports=n(866)},,,,,,,function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var a=n(216),r=n(153);e.exports=function(e){return null!=e&&r(e.length)&&!a(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}},,function(e,t,n){var a=n(87),r=n(459),i=n(74),o="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!i(e)||a(e)!=o)return!1;var t=r(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},,,,,,,,,function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return o(e)?e:z(e)}function a(e){return s(e)?e:q(e)}function r(e){return l(e)?e:K(e)}function i(e){return o(e)&&!c(e)?e:X(e)}function o(e){return!(!e||!e[d])}function s(e){return!(!e||!e[p])}function l(e){return!(!e||!e[h])}function c(e){return s(e)||l(e)}function u(e){return!(!e||!e[f])}t(a,n),t(r,n),t(i,n),n.isIterable=o,n.isKeyed=s,n.isIndexed=l,n.isAssociative=c,n.isOrdered=u,n.Keyed=a,n.Indexed=r,n.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m=5,g=1<<m,v=g-1,y={},_={value:!1},b={value:!1};function w(e){return e.value=!1,e}function E(e){e&&(e.value=!0)}function T(){}function x(e,t){t=t||0;for(var n=Math.max(0,e.length-t),a=new Array(n),r=0;r<n;r++)a[r]=e[r+t];return a}function C(e){return void 0===e.size&&(e.size=e.__iterate(k)),e.size}function S(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function k(){return!0}function O(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function M(e,t){return D(e,t,0)}function L(e,t){return D(e,t,t)}function D(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var R=0,N=1,I=2,A="function"===typeof Symbol&&Symbol.iterator,P="@@iterator",Y=A||P;function F(e){this.next=e}function j(e,t,n,a){var r=0===e?t:1===e?n:[t,n];return a?a.value=r:a={value:r,done:!1},a}function U(){return{value:void 0,done:!0}}function H(e){return!!G(e)}function B(e){return e&&"function"===typeof e.next}function V(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(A&&e[A]||e[P]);if("function"===typeof t)return t}function W(e){return e&&"number"===typeof e.length}function z(e){return null===e||void 0===e?ie():o(e)?e.toSeq():function(e){var t=le(e)||"object"===typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function q(e){return null===e||void 0===e?ie().toKeyedSeq():o(e)?s(e)?e.toSeq():e.fromEntrySeq():oe(e)}function K(e){return null===e||void 0===e?ie():o(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function X(e){return(null===e||void 0===e?ie():o(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=R,F.VALUES=N,F.ENTRIES=I,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[Y]=function(){return this},t(z,n),z.of=function(){return z(arguments)},z.prototype.toSeq=function(){return this},z.prototype.toString=function(){return this.__toString("Seq {","}")},z.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},z.prototype.__iterate=function(e,t){return ce(this,e,t,!0)},z.prototype.__iterator=function(e,t){return ue(this,e,t,!0)},t(q,z),q.prototype.toKeyedSeq=function(){return this},t(K,z),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return ce(this,e,t,!1)},K.prototype.__iterator=function(e,t){return ue(this,e,t,!1)},t(X,z),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},z.isSeq=re,z.Keyed=q,z.Set=X,z.Indexed=K;var J,Z,$,Q="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function ae(e){this._iterator=e,this._iteratorCache=[]}function re(e){return!(!e||!e[Q])}function ie(){return J||(J=new ee([]))}function oe(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():B(e)?new ae(e).fromEntrySeq():H(e)?new ne(e).fromEntrySeq():"object"===typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return W(e)?new ee(e):B(e)?new ae(e):H(e)?new ne(e):void 0}function ce(e,t,n,a){var r=e._cache;if(r){for(var i=r.length-1,o=0;o<=i;o++){var s=r[n?i-o:o];if(!1===t(s[1],a?s[0]:o,e))return o+1}return o}return e.__iterateUncached(t,n)}function ue(e,t,n,a){var r=e._cache;if(r){var i=r.length-1,o=0;return new F((function(){var e=r[n?i-o:o];return o++>i?{value:void 0,done:!0}:j(t,a?e[0]:o-1,e[1])}))}return e.__iteratorUncached(t,n)}function de(e,t){return t?function e(t,n,a,r){return Array.isArray(n)?t.call(r,a,K(n).map((function(a,r){return e(t,a,r,n)}))):he(n)?t.call(r,a,q(n).map((function(a,r){return e(t,a,r,n)}))):n}(t,e,"",{"":e}):pe(e)}function pe(e){return Array.isArray(e)?K(e).map(pe).toList():he(e)?q(e).map(pe).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function fe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(u(e)){var a=e.entries();return t.every((function(e,t){var r=a.next().value;return r&&fe(r[1],e)&&(n||fe(r[0],t))}))&&a.next().done}var r=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{r=!0;var i=e;e=t,t=i}var d=!0,p=t.__iterate((function(t,a){if(n?!e.has(t):r?!fe(t,e.get(a,y)):!fe(e.get(a,y),t))return d=!1,!1}));return d&&e.size===p}function ge(e,t){if(!(this instanceof ge))return new ge(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function ve(e,t){if(!e)throw new Error(t)}function ye(e,t,n){if(!(this instanceof ye))return new ye(e,t,n);if(ve(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function _e(){throw TypeError("Abstract")}function be(){}function we(){}function Ee(){}z.prototype[Q]=!0,t(ee,K),ee.prototype.get=function(e,t){return this.has(e)?this._array[S(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,a=n.length-1,r=0;r<=a;r++)if(!1===e(n[t?a-r:r],r,this))return r+1;return r},ee.prototype.__iterator=function(e,t){var n=this._array,a=n.length-1,r=0;return new F((function(){return r>a?{value:void 0,done:!0}:j(e,r,n[t?a-r++:r++])}))},t(te,q),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,a=this._keys,r=a.length-1,i=0;i<=r;i++){var o=a[t?r-i:i];if(!1===e(n[o],o,this))return i+1}return i},te.prototype.__iterator=function(e,t){var n=this._object,a=this._keys,r=a.length-1,i=0;return new F((function(){var o=a[t?r-i:i];return i++>r?{value:void 0,done:!0}:j(e,o,n[o])}))},te.prototype[f]=!0,t(ne,K),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=V(this._iterable),a=0;if(B(n))for(var r;!(r=n.next()).done&&!1!==e(r.value,a++,this););return a},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=V(this._iterable);if(!B(n))return new F(U);var a=0;return new F((function(){var t=n.next();return t.done?t:j(e,a++,t.value)}))},t(ae,K),ae.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,a=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(!1===e(r[i],i++,this))return i;for(;!(n=a.next()).done;){var o=n.value;if(r[i]=o,!1===e(o,i++,this))break}return i},ae.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,a=this._iteratorCache,r=0;return new F((function(){if(r>=a.length){var t=n.next();if(t.done)return t;a[r]=t.value}return j(e,r,a[r++])}))},t(ge,K),ge.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ge.prototype.get=function(e,t){return this.has(e)?this._value:t},ge.prototype.includes=function(e){return fe(this._value,e)},ge.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:new ge(this._value,L(t,n)-M(e,n))},ge.prototype.reverse=function(){return this},ge.prototype.indexOf=function(e){return fe(this._value,e)?0:-1},ge.prototype.lastIndexOf=function(e){return fe(this._value,e)?this.size:-1},ge.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ge.prototype.__iterator=function(e,t){var n=this,a=0;return new F((function(){return a<n.size?j(e,a++,n._value):{value:void 0,done:!0}}))},ge.prototype.equals=function(e){return e instanceof ge?fe(this._value,e._value):me(e)},t(ye,K),ye.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ye.prototype.get=function(e,t){return this.has(e)?this._start+S(this,e)*this._step:t},ye.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ye.prototype.slice=function(e,t){return O(e,t,this.size)?this:(e=M(e,this.size),(t=L(t,this.size))<=e?new ye(0,0):new ye(this.get(e,this._end),this.get(t,this._end),this._step))},ye.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ye.prototype.lastIndexOf=function(e){return this.indexOf(e)},ye.prototype.__iterate=function(e,t){for(var n=this.size-1,a=this._step,r=t?this._start+n*a:this._start,i=0;i<=n;i++){if(!1===e(r,i,this))return i+1;r+=t?-a:a}return i},ye.prototype.__iterator=function(e,t){var n=this.size-1,a=this._step,r=t?this._start+n*a:this._start,i=0;return new F((function(){var o=r;return r+=t?-a:a,i>n?{value:void 0,done:!0}:j(e,i++,o)}))},ye.prototype.equals=function(e){return e instanceof ye?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(_e,n),t(be,_e),t(we,_e),t(Ee,_e),_e.Keyed=be,_e.Indexed=we,_e.Set=Ee;var Te="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),a=65535&(t|=0);return n*a+((e>>>16)*a+n*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function Ce(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return xe(n)}if("string"===t)return e.length>Ne?function(e){var t=Pe[e];return void 0===t&&(t=Se(e),Ae===Ie&&(Ae=0,Pe={}),Ae++,Pe[e]=t),t}(e):Se(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Le&&void 0!==(t=ke.get(e)))return t;if(void 0!==(t=e[Re]))return t;if(!Me){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Re]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++De,1073741824&De&&(De=0),Le)ke.set(e,t);else{if(void 0!==Oe&&!1===Oe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Me)Object.defineProperty(e,Re,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Re]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Re]=t}}return t}(e);if("function"===typeof e.toString)return Se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xe(t)}var ke,Oe=Object.isExtensible,Me=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Le="function"===typeof WeakMap;Le&&(ke=new WeakMap);var De=0,Re="__immutablehash__";"function"===typeof Symbol&&(Re=Symbol(Re));var Ne=16,Ie=255,Ae=0,Pe={};function Ye(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Fe(e){return null===e||void 0===e?$e():je(e)&&!u(e)?e:$e().withMutations((function(t){var n=a(e);Ye(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function je(e){return!(!e||!e[He])}t(Fe,be),Fe.of=function(){var t=e.call(arguments,0);return $e().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Fe.prototype.toString=function(){return this.__toString("Map {","}")},Fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Fe.prototype.set=function(e,t){return Qe(this,e,t)},Fe.prototype.setIn=function(e,t){return this.updateIn(e,y,(function(){return t}))},Fe.prototype.remove=function(e){return Qe(this,e,y)},Fe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return y}))},Fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var a=function e(t,n,a,r){var i=t===y,o=n.next();if(o.done){var s=i?a:t,l=r(s);return l===s?t:l}ve(i||t&&t.set,"invalid keyPath");var c=o.value,u=i?y:t.get(c,y),d=e(u,n,a,r);return d===u?t:d===y?t.remove(c):(i?$e():t).set(c,d)}(this,an(e),t,n);return a===y?void 0:a},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$e()},Fe.prototype.merge=function(){return at(this,void 0,arguments)},Fe.prototype.mergeWith=function(t){var n=e.call(arguments,1);return at(this,t,n)},Fe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,$e(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Fe.prototype.mergeDeep=function(){return at(this,rt,arguments)},Fe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return at(this,it(t),n)},Fe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,$e(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Fe.prototype.sort=function(e){return Mt(zt(this,e))},Fe.prototype.sortBy=function(e,t){return Mt(zt(this,t,e))},Fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new T)},Fe.prototype.asImmutable=function(){return this.__ensureOwner()},Fe.prototype.wasAltered=function(){return this.__altered},Fe.prototype.__iterator=function(e,t){return new Ke(this,e,t)},Fe.prototype.__iterate=function(e,t){var n=this,a=0;return this._root&&this._root.iterate((function(t){return a++,e(t[1],t[0],n)}),t),a},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ze(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Fe.isMap=je;var Ue,He="@@__IMMUTABLE_MAP__@@",Be=Fe.prototype;function Ve(e,t){this.ownerID=e,this.entries=t}function Ge(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function We(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ke(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Je(e._root)}function Xe(e,t){return j(e,t[0],t[1])}function Je(e,t){return{node:e,index:0,__prev:t}}function Ze(e,t,n,a){var r=Object.create(Be);return r.size=e,r._root=t,r.__ownerID=n,r.__hash=a,r.__altered=!1,r}function $e(){return Ue||(Ue=Ze(0))}function Qe(e,t,n){var a,r;if(e._root){var i=w(_),o=w(b);if(a=et(e._root,e.__ownerID,0,void 0,t,n,i,o),!o.value)return e;r=e.size+(i.value?n===y?-1:1:0)}else{if(n===y)return e;r=1,a=new Ve(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=r,e._root=a,e.__hash=void 0,e.__altered=!0,e):a?Ze(r,a):$e()}function et(e,t,n,a,r,i,o,s){return e?e.update(t,n,a,r,i,o,s):i===y?e:(E(s),E(o),new qe(t,a,[r,i]))}function tt(e){return e.constructor===qe||e.constructor===ze}function nt(e,t,n,a,r){if(e.keyHash===a)return new ze(t,a,[e.entry,r]);var i,o=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?a:a>>>n)&v;return new Ge(t,1<<o|1<<s,o===s?[nt(e,t,n+m,a,r)]:(i=new qe(t,a,r),o<s?[e,i]:[i,e]))}function at(e,t,n){for(var r=[],i=0;i<n.length;i++){var s=n[i],l=a(s);o(s)||(l=l.map((function(e){return de(e)}))),r.push(l)}return ot(e,t,r)}function rt(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):fe(e,t)?e:t}function it(e){return function(t,n,a){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var r=e(t,n,a);return fe(t,r)?t:r}}function ot(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var a=t?function(n,a){e.update(a,y,(function(e){return e===y?n:t(e,n,a)}))}:function(t,n){e.set(n,t)},r=0;r<n.length;r++)n[r].forEach(a)})):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,n,a){var r=a?e:x(e);return r[t]=n,r}Be[He]=!0,Be.delete=Be.remove,Be.removeIn=Be.deleteIn,Ve.prototype.get=function(e,t,n,a){for(var r=this.entries,i=0,o=r.length;i<o;i++)if(fe(n,r[i][0]))return r[i][1];return a},Ve.prototype.update=function(e,t,n,a,r,i,o){for(var s=r===y,l=this.entries,c=0,u=l.length;c<u&&!fe(a,l[c][0]);c++);var d=c<u;if(d?l[c][1]===r:s)return this;if(E(o),(s||!d)&&E(i),!s||1!==l.length){if(!d&&!s&&l.length>=ct)return function(e,t,n,a){e||(e=new T);for(var r=new qe(e,Ce(n),[n,a]),i=0;i<t.length;i++){var o=t[i];r=r.update(e,0,void 0,o[0],o[1])}return r}(e,l,a,r);var p=e&&e===this.ownerID,h=p?l:x(l);return d?s?c===u-1?h.pop():h[c]=h.pop():h[c]=[a,r]:h.push([a,r]),p?(this.entries=h,this):new Ve(e,h)}},Ge.prototype.get=function(e,t,n,a){void 0===t&&(t=Ce(n));var r=1<<((0===e?t:t>>>e)&v),i=this.bitmap;return 0===(i&r)?a:this.nodes[st(i&r-1)].get(e+m,t,n,a)},Ge.prototype.update=function(e,t,n,a,r,i,o){void 0===n&&(n=Ce(a));var s=(0===t?n:n>>>t)&v,l=1<<s,c=this.bitmap,u=0!==(c&l);if(!u&&r===y)return this;var d=st(c&l-1),p=this.nodes,h=u?p[d]:void 0,f=et(h,e,t+m,n,a,r,i,o);if(f===h)return this;if(!u&&f&&p.length>=ut)return function(e,t,n,a,r){for(var i=0,o=new Array(g),s=0;0!==n;s++,n>>>=1)o[s]=1&n?t[i++]:void 0;return o[a]=r,new We(e,i+1,o)}(e,p,c,s,f);if(u&&!f&&2===p.length&&tt(p[1^d]))return p[1^d];if(u&&f&&1===p.length&&tt(f))return f;var _=e&&e===this.ownerID,b=u?f?c:c^l:c|l,w=u?f?lt(p,d,f,_):function(e,t,n){var a=e.length-1;if(n&&t===a)return e.pop(),e;for(var r=new Array(a),i=0,o=0;o<a;o++)o===t&&(i=1),r[o]=e[o+i];return r}(p,d,_):function(e,t,n,a){var r=e.length+1;if(a&&t+1===r)return e[t]=n,e;for(var i=new Array(r),o=0,s=0;s<r;s++)s===t?(i[s]=n,o=-1):i[s]=e[s+o];return i}(p,d,f,_);return _?(this.bitmap=b,this.nodes=w,this):new Ge(e,b,w)},We.prototype.get=function(e,t,n,a){void 0===t&&(t=Ce(n));var r=(0===e?t:t>>>e)&v,i=this.nodes[r];return i?i.get(e+m,t,n,a):a},We.prototype.update=function(e,t,n,a,r,i,o){void 0===n&&(n=Ce(a));var s=(0===t?n:n>>>t)&v,l=r===y,c=this.nodes,u=c[s];if(l&&!u)return this;var d=et(u,e,t+m,n,a,r,i,o);if(d===u)return this;var p=this.count;if(u){if(!d&&--p<dt)return function(e,t,n,a){for(var r=0,i=0,o=new Array(n),s=0,l=1,c=t.length;s<c;s++,l<<=1){var u=t[s];void 0!==u&&s!==a&&(r|=l,o[i++]=u)}return new Ge(e,r,o)}(e,c,p,s)}else p++;var h=e&&e===this.ownerID,f=lt(c,s,d,h);return h?(this.count=p,this.nodes=f,this):new We(e,p,f)},ze.prototype.get=function(e,t,n,a){for(var r=this.entries,i=0,o=r.length;i<o;i++)if(fe(n,r[i][0]))return r[i][1];return a},ze.prototype.update=function(e,t,n,a,r,i,o){void 0===n&&(n=Ce(a));var s=r===y;if(n!==this.keyHash)return s?this:(E(o),E(i),nt(this,e,t,n,[a,r]));for(var l=this.entries,c=0,u=l.length;c<u&&!fe(a,l[c][0]);c++);var d=c<u;if(d?l[c][1]===r:s)return this;if(E(o),(s||!d)&&E(i),s&&2===u)return new qe(e,this.keyHash,l[1^c]);var p=e&&e===this.ownerID,h=p?l:x(l);return d?s?c===u-1?h.pop():h[c]=h.pop():h[c]=[a,r]:h.push([a,r]),p?(this.entries=h,this):new ze(e,this.keyHash,h)},qe.prototype.get=function(e,t,n,a){return fe(n,this.entry[0])?this.entry[1]:a},qe.prototype.update=function(e,t,n,a,r,i,o){var s=r===y,l=fe(a,this.entry[0]);return(l?r===this.entry[1]:s)?this:(E(o),s?void E(i):l?e&&e===this.ownerID?(this.entry[1]=r,this):new qe(e,this.keyHash,[a,r]):(E(i),nt(this,e,t,Ce(a),[a,r])))},Ve.prototype.iterate=ze.prototype.iterate=function(e,t){for(var n=this.entries,a=0,r=n.length-1;a<=r;a++)if(!1===e(n[t?r-a:a]))return!1},Ge.prototype.iterate=We.prototype.iterate=function(e,t){for(var n=this.nodes,a=0,r=n.length-1;a<=r;a++){var i=n[t?r-a:a];if(i&&!1===i.iterate(e,t))return!1}},qe.prototype.iterate=function(e,t){return e(this.entry)},t(Ke,F),Ke.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,a=t.node,r=t.index++;if(a.entry){if(0===r)return Xe(e,a.entry)}else if(a.entries){if(r<=(n=a.entries.length-1))return Xe(e,a.entries[this._reverse?n-r:r])}else if(r<=(n=a.nodes.length-1)){var i=a.nodes[this._reverse?n-r:r];if(i){if(i.entry)return Xe(e,i.entry);t=this._stack=Je(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ct=g/4,ut=g/2,dt=g/4;function pt(e){var t=Et();if(null===e||void 0===e)return t;if(ht(e))return e;var n=r(e),a=n.size;return 0===a?t:(Ye(a),a>0&&a<g?wt(0,a,m,null,new gt(n.toArray())):t.withMutations((function(e){e.setSize(a),n.forEach((function(t,n){return e.set(n,t)}))})))}function ht(e){return!(!e||!e[ft])}t(pt,we),pt.of=function(){return this(arguments)},pt.prototype.toString=function(){return this.__toString("List [","]")},pt.prototype.get=function(e,t){if((e=S(this,e))>=0&&e<this.size){var n=Ct(this,e+=this._origin);return n&&n.array[e&v]}return t},pt.prototype.set=function(e,t){return function(e,t,n){if((t=S(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?St(e,t).set(0,n):St(e,0,t+1).set(t,n)}));t+=e._origin;var a=e._tail,r=e._root,i=w(b);return t>=Ot(e._capacity)?a=Tt(a,e.__ownerID,0,t,n,i):r=Tt(r,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=r,e._tail=a,e.__hash=void 0,e.__altered=!0,e):wt(e._origin,e._capacity,e._level,r,a):e}(this,e,t)},pt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},pt.prototype.insert=function(e,t){return this.splice(e,0,t)},pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Et()},pt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){St(n,0,t+e.length);for(var a=0;a<e.length;a++)n.set(t+a,e[a])}))},pt.prototype.pop=function(){return St(this,0,-1)},pt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){St(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},pt.prototype.shift=function(){return St(this,1)},pt.prototype.merge=function(){return kt(this,void 0,arguments)},pt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return kt(this,t,n)},pt.prototype.mergeDeep=function(){return kt(this,rt,arguments)},pt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return kt(this,it(t),n)},pt.prototype.setSize=function(e){return St(this,0,e)},pt.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:St(this,M(e,n),L(t,n))},pt.prototype.__iterator=function(e,t){var n=0,a=bt(this,t);return new F((function(){var t=a();return t===_t?{value:void 0,done:!0}:j(e,n++,t)}))},pt.prototype.__iterate=function(e,t){for(var n,a=0,r=bt(this,t);(n=r())!==_t&&!1!==e(n,a++,this););return a},pt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},pt.isList=ht;var ft="@@__IMMUTABLE_LIST__@@",mt=pt.prototype;function gt(e,t){this.array=e,this.ownerID=t}mt[ft]=!0,mt.delete=mt.remove,mt.setIn=Be.setIn,mt.deleteIn=mt.removeIn=Be.removeIn,mt.update=Be.update,mt.updateIn=Be.updateIn,mt.mergeIn=Be.mergeIn,mt.mergeDeepIn=Be.mergeDeepIn,mt.withMutations=Be.withMutations,mt.asMutable=Be.asMutable,mt.asImmutable=Be.asImmutable,mt.wasAltered=Be.wasAltered,gt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var a=n>>>t&v;if(a>=this.array.length)return new gt([],e);var r,i=0===a;if(t>0){var o=this.array[a];if((r=o&&o.removeBefore(e,t-m,n))===o&&i)return this}if(i&&!r)return this;var s=xt(this,e);if(!i)for(var l=0;l<a;l++)s.array[l]=void 0;return r&&(s.array[a]=r),s},gt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var a,r=n-1>>>t&v;if(r>=this.array.length)return this;if(t>0){var i=this.array[r];if((a=i&&i.removeAfter(e,t-m,n))===i&&r===this.array.length-1)return this}var o=xt(this,e);return o.array.splice(r+1),a&&(o.array[r]=a),o};var vt,yt,_t={};function bt(e,t){var n=e._origin,a=e._capacity,r=Ot(a),i=e._tail;return o(e._root,e._level,0);function o(e,s,l){return 0===s?function(e,o){var s=o===r?i&&i.array:e&&e.array,l=o>n?0:n-o,c=a-o;return c>g&&(c=g),function(){if(l===c)return _t;var e=t?--c:l++;return s&&s[e]}}(e,l):function(e,r,i){var s,l=e&&e.array,c=i>n?0:n-i>>r,u=1+(a-i>>r);return u>g&&(u=g),function(){for(;;){if(s){var e=s();if(e!==_t)return e;s=null}if(c===u)return _t;var n=t?--u:c++;s=o(l&&l[n],r-m,i+(n<<r))}}}(e,s,l)}}function wt(e,t,n,a,r,i,o){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=a,s._tail=r,s.__ownerID=i,s.__hash=o,s.__altered=!1,s}function Et(){return vt||(vt=wt(0,0,m))}function Tt(e,t,n,a,r,i){var o,s=a>>>n&v,l=e&&s<e.array.length;if(!l&&void 0===r)return e;if(n>0){var c=e&&e.array[s],u=Tt(c,t,n-m,a,r,i);return u===c?e:((o=xt(e,t)).array[s]=u,o)}return l&&e.array[s]===r?e:(E(i),o=xt(e,t),void 0===r&&s===o.array.length-1?o.array.pop():o.array[s]=r,o)}function xt(e,t){return t&&e&&t===e.ownerID?e:new gt(e?e.array.slice():[],t)}function Ct(e,t){if(t>=Ot(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,a=e._level;n&&a>0;)n=n.array[t>>>a&v],a-=m;return n}}function St(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var a=e.__ownerID||new T,r=e._origin,i=e._capacity,o=r+t,s=void 0===n?i:n<0?i+n:r+n;if(o===r&&s===i)return e;if(o>=s)return e.clear();for(var l=e._level,c=e._root,u=0;o+u<0;)c=new gt(c&&c.array.length?[void 0,c]:[],a),u+=1<<(l+=m);u&&(o+=u,r+=u,s+=u,i+=u);for(var d=Ot(i),p=Ot(s);p>=1<<l+m;)c=new gt(c&&c.array.length?[c]:[],a),l+=m;var h=e._tail,f=p<d?Ct(e,s-1):p>d?new gt([],a):h;if(h&&p>d&&o<i&&h.array.length){for(var g=c=xt(c,a),y=l;y>m;y-=m){var _=d>>>y&v;g=g.array[_]=xt(g.array[_],a)}g.array[d>>>m&v]=h}if(s<i&&(f=f&&f.removeAfter(a,0,s)),o>=p)o-=p,s-=p,l=m,c=null,f=f&&f.removeBefore(a,0,o);else if(o>r||p<d){for(u=0;c;){var b=o>>>l&v;if(b!==p>>>l&v)break;b&&(u+=(1<<l)*b),l-=m,c=c.array[b]}c&&o>r&&(c=c.removeBefore(a,l,o-u)),c&&p<d&&(c=c.removeAfter(a,l,p-u)),u&&(o-=u,s-=u)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=l,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):wt(o,s,l,c,f)}function kt(e,t,n){for(var a=[],i=0,s=0;s<n.length;s++){var l=n[s],c=r(l);c.size>i&&(i=c.size),o(l)||(c=c.map((function(e){return de(e)}))),a.push(c)}return i>e.size&&(e=e.setSize(i)),ot(e,t,a)}function Ot(e){return e<g?0:e-1>>>m<<m}function Mt(e){return null===e||void 0===e?Rt():Lt(e)?e:Rt().withMutations((function(t){var n=a(e);Ye(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Lt(e){return je(e)&&u(e)}function Dt(e,t,n,a){var r=Object.create(Mt.prototype);return r.size=e?e.size:0,r._map=e,r._list=t,r.__ownerID=n,r.__hash=a,r}function Rt(){return yt||(yt=Dt($e(),Et()))}function Nt(e,t,n){var a,r,i=e._map,o=e._list,s=i.get(t),l=void 0!==s;if(n===y){if(!l)return e;o.size>=g&&o.size>=2*i.size?(a=(r=o.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(a.__ownerID=r.__ownerID=e.__ownerID)):(a=i.remove(t),r=s===o.size-1?o.pop():o.set(s,void 0))}else if(l){if(n===o.get(s)[1])return e;a=i,r=o.set(s,[t,n])}else a=i.set(t,o.size),r=o.set(o.size,[t,n]);return e.__ownerID?(e.size=a.size,e._map=a,e._list=r,e.__hash=void 0,e):Dt(a,r)}function It(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function At(e){this._iter=e,this.size=e.size}function Pt(e){this._iter=e,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Ft(e){var t=en(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=tn,t.__iterateUncached=function(t,n){var a=this;return e.__iterate((function(e,n){return!1!==t(n,e,a)}),n)},t.__iteratorUncached=function(t,n){if(t===I){var a=e.__iterator(t,n);return new F((function(){var e=a.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===N?R:N,n)},t}function jt(e,t,n){var a=en(e);return a.size=e.size,a.has=function(t){return e.has(t)},a.get=function(a,r){var i=e.get(a,y);return i===y?r:t.call(n,i,a,e)},a.__iterateUncached=function(a,r){var i=this;return e.__iterate((function(e,r,o){return!1!==a(t.call(n,e,r,o),r,i)}),r)},a.__iteratorUncached=function(a,r){var i=e.__iterator(I,r);return new F((function(){var r=i.next();if(r.done)return r;var o=r.value,s=o[0];return j(a,s,t.call(n,o[1],s,e),r)}))},a}function Ut(e,t){var n=en(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Ft(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,a){return e.get(t?n:-1-n,a)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=tn,n.__iterate=function(t,n){var a=this;return e.__iterate((function(e,n){return t(e,n,a)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Ht(e,t,n,a){var r=en(e);return a&&(r.has=function(a){var r=e.get(a,y);return r!==y&&!!t.call(n,r,a,e)},r.get=function(a,r){var i=e.get(a,y);return i!==y&&t.call(n,i,a,e)?i:r}),r.__iterateUncached=function(r,i){var o=this,s=0;return e.__iterate((function(e,i,l){if(t.call(n,e,i,l))return s++,r(e,a?i:s-1,o)}),i),s},r.__iteratorUncached=function(r,i){var o=e.__iterator(I,i),s=0;return new F((function(){for(;;){var i=o.next();if(i.done)return i;var l=i.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return j(r,a?c:s++,u,i)}}))},r}function Bt(e,t,n,a){var r=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=r:n|=0),O(t,n,r))return e;var i=M(t,r),o=L(n,r);if(i!==i||o!==o)return Bt(e.toSeq().cacheResult(),t,n,a);var s,l=o-i;l===l&&(s=l<0?0:l);var c=en(e);return c.size=0===s?s:e.size&&s||void 0,!a&&re(e)&&s>=0&&(c.get=function(t,n){return(t=S(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var r=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var o=0,l=!0,c=0;return e.__iterate((function(e,n){if(!l||!(l=o++<i))return c++,!1!==t(e,a?n:c-1,r)&&c!==s})),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var r=0!==s&&e.__iterator(t,n),o=0,l=0;return new F((function(){for(;o++<i;)r.next();if(++l>s)return{value:void 0,done:!0};var e=r.next();return a||t===N?e:j(t,l-1,t===R?void 0:e.value[1],e)}))},c}function Vt(e,t,n,a){var r=en(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=!0,l=0;return e.__iterate((function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return l++,r(e,a?i:l-1,o)})),l},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=e.__iterator(I,i),l=!0,c=0;return new F((function(){var e,i,u;do{if((e=s.next()).done)return a||r===N?e:j(r,c++,r===R?void 0:e.value[1],e);var d=e.value;i=d[0],u=d[1],l&&(l=t.call(n,u,i,o))}while(l);return r===I?e:j(r,i,u,e)}))},r}function Gt(e,t){var n=s(e),r=[e].concat(t).map((function(e){return o(e)?n&&(e=a(e)):e=n?oe(e):se(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&s(i)||l(e)&&l(i))return i}var c=new ee(r);return n?c=c.toKeyedSeq():l(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=r.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}function Wt(e,t,n){var a=en(e);return a.__iterateUncached=function(a,r){var i=0,s=!1;return function e(l,c){var u=this;l.__iterate((function(r,l){return(!t||c<t)&&o(r)?e(r,c+1):!1===a(r,n?l:i++,u)&&(s=!0),!s}),r)}(e,0),i},a.__iteratorUncached=function(a,r){var i=e.__iterator(a,r),s=[],l=0;return new F((function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(a===I&&(c=c[1]),t&&!(s.length<t)||!o(c))return n?e:j(a,l++,c,e);s.push(i),i=c.__iterator(a,r)}else i=s.pop()}return{value:void 0,done:!0}}))},a}function zt(e,t,n){t||(t=nn);var a=s(e),r=0,i=e.toSeq().map((function(t,a){return[a,t,r++,n?n(t,a,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(a?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),a?q(i):l(e)?K(i):X(i)}function qt(e,t,n){if(t||(t=nn),n){var a=e.toSeq().map((function(t,a){return[t,n(t,a,e)]})).reduce((function(e,n){return Kt(t,e[1],n[1])?n:e}));return a&&a[0]}return e.reduce((function(e,n){return Kt(t,e,n)?n:e}))}function Kt(e,t,n){var a=e(n,t);return 0===a&&n!==t&&(void 0===n||null===n||n!==n)||a>0}function Xt(e,t,a){var r=en(e);return r.size=new ee(a).map((function(e){return e.size})).min(),r.__iterate=function(e,t){for(var n,a=this.__iterator(N,t),r=0;!(n=a.next()).done&&!1!==e(n.value,r++,this););return r},r.__iteratorUncached=function(e,r){var i=a.map((function(e){return e=n(e),V(r?e.reverse():e)})),o=0,s=!1;return new F((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:j(e,o++,t.apply(null,n.map((function(e){return e.value}))))}))},r}function Jt(e,t){return re(e)?t:e.constructor(t)}function Zt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function $t(e){return Ye(e.size),C(e)}function Qt(e){return s(e)?a:l(e)?r:i}function en(e){return Object.create((s(e)?q:l(e)?K:X).prototype)}function tn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):z.prototype.cacheResult.call(this)}function nn(e,t){return e>t?1:e<t?-1:0}function an(e){var t=V(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=V(n(e))}return t}function rn(e,t){var n,a=function(i){if(i instanceof a)return i;if(!(this instanceof a))return new a(i);if(!n){n=!0;var o=Object.keys(e);!function(e,t){try{t.forEach(cn.bind(void 0,e))}catch(n){}}(r,o),r.size=o.length,r._name=t,r._keys=o,r._defaultValues=e}this._map=Fe(i)},r=a.prototype=Object.create(on);return r.constructor=a,a}t(Mt,Fe),Mt.of=function(){return this(arguments)},Mt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Mt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Mt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Rt()},Mt.prototype.set=function(e,t){return Nt(this,e,t)},Mt.prototype.remove=function(e){return Nt(this,e,y)},Mt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Mt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Mt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Mt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Dt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Mt.isOrderedMap=Lt,Mt.prototype[f]=!0,Mt.prototype.delete=Mt.prototype.remove,t(It,q),It.prototype.get=function(e,t){return this._iter.get(e,t)},It.prototype.has=function(e){return this._iter.has(e)},It.prototype.valueSeq=function(){return this._iter.valueSeq()},It.prototype.reverse=function(){var e=this,t=Ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},It.prototype.map=function(e,t){var n=this,a=jt(this,e,t);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().map(e,t)}),a},It.prototype.__iterate=function(e,t){var n,a=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,a)}:(n=t?$t(this):0,function(r){return e(r,t?--n:n++,a)}),t)},It.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(N,t),a=t?$t(this):0;return new F((function(){var r=n.next();return r.done?r:j(e,t?--a:a++,r.value,r)}))},It.prototype[f]=!0,t(At,K),At.prototype.includes=function(e){return this._iter.includes(e)},At.prototype.__iterate=function(e,t){var n=this,a=0;return this._iter.__iterate((function(t){return e(t,a++,n)}),t)},At.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t),a=0;return new F((function(){var t=n.next();return t.done?t:j(e,a++,t.value,t)}))},t(Pt,X),Pt.prototype.has=function(e){return this._iter.includes(e)},Pt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Pt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t);return new F((function(){var t=n.next();return t.done?t:j(e,t.value,t.value,t)}))},t(Yt,q),Yt.prototype.entrySeq=function(){return this._iter.toSeq()},Yt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Zt(t);var a=o(t);return e(a?t.get(1):t[1],a?t.get(0):t[0],n)}}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t);return new F((function(){for(;;){var t=n.next();if(t.done)return t;var a=t.value;if(a){Zt(a);var r=o(a);return j(e,r?a.get(0):a[0],r?a.get(1):a[1],t)}}}))},At.prototype.cacheResult=It.prototype.cacheResult=Pt.prototype.cacheResult=Yt.prototype.cacheResult=tn,t(rn,be),rn.prototype.toString=function(){return this.__toString(ln(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=sn(this,$e()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+ln(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:sn(this,n)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:sn(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return a(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return a(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function sn(e,t,n){var a=Object.create(Object.getPrototypeOf(e));return a._map=t,a.__ownerID=n,a}function ln(e){return e._name||e.constructor.name||"Record"}function cn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function un(e){return null===e||void 0===e?vn():dn(e)&&!u(e)?e:vn().withMutations((function(t){var n=i(e);Ye(n.size),n.forEach((function(e){return t.add(e)}))}))}function dn(e){return!(!e||!e[hn])}on.delete=on.remove,on.deleteIn=on.removeIn=Be.removeIn,on.merge=Be.merge,on.mergeWith=Be.mergeWith,on.mergeIn=Be.mergeIn,on.mergeDeep=Be.mergeDeep,on.mergeDeepWith=Be.mergeDeepWith,on.mergeDeepIn=Be.mergeDeepIn,on.setIn=Be.setIn,on.update=Be.update,on.updateIn=Be.updateIn,on.withMutations=Be.withMutations,on.asMutable=Be.asMutable,on.asImmutable=Be.asImmutable,t(un,Ee),un.of=function(){return this(arguments)},un.fromKeys=function(e){return this(a(e).keySeq())},un.prototype.toString=function(){return this.__toString("Set {","}")},un.prototype.has=function(e){return this._map.has(e)},un.prototype.add=function(e){return mn(this,this._map.set(e,!0))},un.prototype.remove=function(e){return mn(this,this._map.remove(e))},un.prototype.clear=function(){return mn(this,this._map.clear())},un.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},un.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},un.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},un.prototype.merge=function(){return this.union.apply(this,arguments)},un.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},un.prototype.sort=function(e){return yn(zt(this,e))},un.prototype.sortBy=function(e,t){return yn(zt(this,t,e))},un.prototype.wasAltered=function(){return this._map.wasAltered()},un.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,a){return e(a,a,n)}),t)},un.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},un.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},un.isSet=dn;var pn,hn="@@__IMMUTABLE_SET__@@",fn=un.prototype;function mn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function gn(e,t){var n=Object.create(fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function vn(){return pn||(pn=gn($e()))}function yn(e){return null===e||void 0===e?Tn():_n(e)?e:Tn().withMutations((function(t){var n=i(e);Ye(n.size),n.forEach((function(e){return t.add(e)}))}))}function _n(e){return dn(e)&&u(e)}fn[hn]=!0,fn.delete=fn.remove,fn.mergeDeep=fn.merge,fn.mergeDeepWith=fn.mergeWith,fn.withMutations=Be.withMutations,fn.asMutable=Be.asMutable,fn.asImmutable=Be.asImmutable,fn.__empty=vn,fn.__make=gn,t(yn,un),yn.of=function(){return this(arguments)},yn.fromKeys=function(e){return this(a(e).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=_n;var bn,wn=yn.prototype;function En(e,t){var n=Object.create(wn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Tn(){return bn||(bn=En(Rt()))}function xn(e){return null===e||void 0===e?Ln():Cn(e)?e:Ln().unshiftAll(e)}function Cn(e){return!(!e||!e[kn])}wn[f]=!0,wn.__empty=Tn,wn.__make=En,t(xn,we),xn.of=function(){return this(arguments)},xn.prototype.toString=function(){return this.__toString("Stack [","]")},xn.prototype.get=function(e,t){var n=this._head;for(e=S(this,e);n&&e--;)n=n.next;return n?n.value:t},xn.prototype.peek=function(){return this._head&&this._head.value},xn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Mn(e,t)},xn.prototype.pushAll=function(e){if(0===(e=r(e)).size)return this;Ye(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Mn(t,n)},xn.prototype.pop=function(){return this.slice(1)},xn.prototype.unshift=function(){return this.push.apply(this,arguments)},xn.prototype.unshiftAll=function(e){return this.pushAll(e)},xn.prototype.shift=function(){return this.pop.apply(this,arguments)},xn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ln()},xn.prototype.slice=function(e,t){if(O(e,t,this.size))return this;var n=M(e,this.size);if(L(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var a=this.size-n,r=this._head;n--;)r=r.next;return this.__ownerID?(this.size=a,this._head=r,this.__hash=void 0,this.__altered=!0,this):Mn(a,r)},xn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Mn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},xn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,a=this._head;a&&!1!==e(a.value,n++,this);)a=a.next;return n},xn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,a=this._head;return new F((function(){if(a){var t=a.value;return a=a.next,j(e,n++,t)}return{value:void 0,done:!0}}))},xn.isStack=Cn;var Sn,kn="@@__IMMUTABLE_STACK__@@",On=xn.prototype;function Mn(e,t,n,a){var r=Object.create(On);return r.size=e,r._head=t,r.__ownerID=n,r.__hash=a,r.__altered=!1,r}function Ln(){return Sn||(Sn=Mn(0))}function Dn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}On[kn]=!0,On.withMutations=Be.withMutations,On.asMutable=Be.asMutable,On.asImmutable=Be.asImmutable,On.wasAltered=Be.wasAltered,n.Iterator=F,Dn(n,{toArray:function(){Ye(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new At(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return Fe(this.toKeyedSeq())},toObject:function(){Ye(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Mt(this.toKeyedSeq())},toOrderedSet:function(){return yn(s(this)?this.valueSeq():this)},toSet:function(){return un(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Pt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return xn(s(this)?this.valueSeq():this)},toList:function(){return pt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Jt(this,Gt(this,t))},includes:function(e){return this.some((function(t){return fe(t,e)}))},entries:function(){return this.__iterator(I)},every:function(e,t){Ye(this.size);var n=!0;return this.__iterate((function(a,r,i){if(!e.call(t,a,r,i))return n=!1,!1})),n},filter:function(e,t){return Jt(this,Ht(this,e,t,!0))},find:function(e,t,n){var a=this.findEntry(e,t);return a?a[1]:n},forEach:function(e,t){return Ye(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ye(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(a){n?n=!1:t+=e,t+=null!==a&&void 0!==a?a.toString():""})),t},keys:function(){return this.__iterator(R)},map:function(e,t){return Jt(this,jt(this,e,t))},reduce:function(e,t,n){var a,r;return Ye(this.size),arguments.length<2?r=!0:a=t,this.__iterate((function(t,i,o){r?(r=!1,a=t):a=e.call(n,a,t,i,o)})),a},reduceRight:function(e,t,n){var a=this.toKeyedSeq().reverse();return a.reduce.apply(a,arguments)},reverse:function(){return Jt(this,Ut(this,!0))},slice:function(e,t){return Jt(this,Bt(this,e,t,!0))},some:function(e,t){return!this.every(Pn(e),t)},sort:function(e){return Jt(this,zt(this,e))},values:function(){return this.__iterator(N)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var a=Fe().asMutable();return e.__iterate((function(r,i){a.update(t.call(n,r,i,e),0,(function(e){return e+1}))})),a.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(An).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Pn(e),t)},findEntry:function(e,t,n){var a=n;return this.__iterate((function(n,r,i){if(e.call(t,n,r,i))return a=[r,n],!1})),a},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(k)},flatMap:function(e,t){return Jt(this,function(e,t,n){var a=Qt(e);return e.toSeq().map((function(r,i){return a(t.call(n,r,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Jt(this,Wt(this,e,!0))},fromEntrySeq:function(){return new Yt(this)},get:function(e,t){return this.find((function(t,n){return fe(n,e)}),void 0,t)},getIn:function(e,t){for(var n,a=this,r=an(e);!(n=r.next()).done;){var i=n.value;if((a=a&&a.get?a.get(i,y):y)===y)return t}return a},groupBy:function(e,t){return function(e,t,n){var a=s(e),r=(u(e)?Mt():Fe()).asMutable();e.__iterate((function(i,o){r.update(t.call(n,i,o,e),(function(e){return(e=e||[]).push(a?[o,i]:i),e}))}));var i=Qt(e);return r.map((function(t){return Jt(e,i(t))}))}(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return fe(t,e)}))},keySeq:function(){return this.toSeq().map(In).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return qt(this,e)},maxBy:function(e,t){return qt(this,t,e)},min:function(e){return qt(this,e?Yn(e):Un)},minBy:function(e,t){return qt(this,t?Yn(t):Un,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Jt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Jt(this,Vt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Pn(e),t)},sortBy:function(e,t){return Jt(this,zt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Jt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Jt(this,function(e,t,n){var a=en(e);return a.__iterateUncached=function(a,r){var i=this;if(r)return this.cacheResult().__iterate(a,r);var o=0;return e.__iterate((function(e,r,s){return t.call(n,e,r,s)&&++o&&a(e,r,i)})),o},a.__iteratorUncached=function(a,r){var i=this;if(r)return this.cacheResult().__iterator(a,r);var o=e.__iterator(I,r),s=!0;return new F((function(){if(!s)return{value:void 0,done:!0};var e=o.next();if(e.done)return e;var r=e.value,l=r[0],c=r[1];return t.call(n,c,l,i)?a===I?e:j(a,l,c,e):(s=!1,{value:void 0,done:!0})}))},a}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Pn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),a=t?1:0;return function(e,t){return t=Te(t,3432918353),t=Te(t<<15|t>>>-15,461845907),t=Te(t<<13|t>>>-13,5),t=Te((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=xe((t=Te(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){a=31*a+Hn(Ce(e),Ce(t))|0}:function(e,t){a=a+Hn(Ce(e),Ce(t))|0}:t?function(e){a=31*a+Ce(e)|0}:function(e){a=a+Ce(e)|0}),a)}(this))}});var Rn=n.prototype;Rn[d]=!0,Rn[Y]=Rn.values,Rn.__toJS=Rn.toArray,Rn.__toStringMapper=Fn,Rn.inspect=Rn.toSource=function(){return this.toString()},Rn.chain=Rn.flatMap,Rn.contains=Rn.includes,Dn(a,{flip:function(){return Jt(this,Ft(this))},mapEntries:function(e,t){var n=this,a=0;return Jt(this,this.toSeq().map((function(r,i){return e.call(t,[i,r],a++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Jt(this,this.toSeq().flip().map((function(a,r){return e.call(t,a,r,n)})).flip())}});var Nn=a.prototype;function In(e,t){return t}function An(e,t){return[t,e]}function Pn(e){return function(){return!e.apply(this,arguments)}}function Yn(e){return function(){return-e.apply(this,arguments)}}function Fn(e){return"string"===typeof e?JSON.stringify(e):String(e)}function jn(){return x(arguments)}function Un(e,t){return e<t?1:e>t?-1:0}function Hn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nn[p]=!0,Nn[Y]=Rn.entries,Nn.__toJS=Rn.toObject,Nn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Fn(e)},Dn(r,{toKeyedSeq:function(){return new It(this,!1)},filter:function(e,t){return Jt(this,Ht(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Jt(this,Ut(this,!1))},slice:function(e,t){return Jt(this,Bt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=M(e,e<0?this.count():this.size);var a=this.slice(0,e);return Jt(this,1===n?a:a.concat(x(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Jt(this,Wt(this,e,!1))},get:function(e,t){return(e=S(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=S(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Jt(this,function(e,t){var n=en(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,a){var r=this,i=0;return e.__iterate((function(e,a){return(!i||!1!==n(t,i++,r))&&!1!==n(e,i++,r)}),a),i},n.__iteratorUncached=function(n,a){var r,i=e.__iterator(N,a),o=0;return new F((function(){return(!r||o%2)&&(r=i.next()).done?r:o%2?j(n,o++,t):j(n,o++,r.value,r)}))},n}(this,e))},interleave:function(){var e=[this].concat(x(arguments)),t=Xt(this.toSeq(),K.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Jt(this,n)},keySeq:function(){return ye(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Jt(this,Vt(this,e,t,!1))},zip:function(){var e=[this].concat(x(arguments));return Jt(this,Xt(this,jn,e))},zipWith:function(e){var t=x(arguments);return t[0]=this,Jt(this,Xt(this,e,t))}}),r.prototype[h]=!0,r.prototype[f]=!0,Dn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Rn.includes,i.prototype.contains=i.prototype.includes,Dn(q,a.prototype),Dn(K,r.prototype),Dn(X,i.prototype),Dn(be,a.prototype),Dn(we,r.prototype),Dn(Ee,i.prototype),{Iterable:n,Seq:z,Collection:_e,Map:Fe,OrderedMap:Mt,List:pt,Stack:xn,Set:un,OrderedSet:yn,Record:rn,Range:ye,Repeat:ge,is:fe,fromJS:de}}()},,,function(e,t,n){var a=n(342),r=n(74);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:a(t,n,i,o,e,s))}},function(e,t,n){var a=n(76)(n(61),"Map");e.exports=a},function(e,t,n){var a=n(359),r=n(366),i=n(368),o=n(369),s=n(370);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var a=n(50),r=n(156),i=n(400),o=n(402);e.exports=function(e,t){return a(e)?e:r(e,t)?[e]:i(o(e))}},function(e,t,n){var a=n(50),r=n(157),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var a=n(87),r=n(74),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&a(e)==i}},function(e,t,n){var a=n(418)("socket.io-parser"),r=n(421),i=n(422),o=n(231),s=n(232);function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=d;var c=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===r)return c;n+=r}return a("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function p(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,n){(a("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){i.removeBlobs(e,(function(e){var n=i.deconstructPacket(e),a=u(n.packet),r=n.buffers;r.unshift(a),t(r)}))}(e,n):n([u(e)])},r(d.prototype),d.prototype.add=function(e){var n;if("string"===typeof e)n=function(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return h("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n;){if(","===(l=e.charAt(n)))break;if(r.nsp+=l,n===e.length)break}else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var l;if(null==(l=e.charAt(n))||Number(l)!=l){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var c=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!(!1!==c&&(r.type===t.ERROR||o(c))))return h("invalid payload");r.data=c}return a("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict";(function(e){var a=n(423),r=n(424),i=n(425);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,a){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,a):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|f(t,n),r=(e=s(e,a)).write(t,n);r!==a&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(a=t.length)!==a?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(a)return H(e).length;t=(""+t).toLowerCase(),a=!0}}function m(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function v(e,t,n,a,r){if(0===e.length)return-1;if("string"===typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,r);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,r){var i,o=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function _(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var o=0;o<a;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,a){return V(H(t,e.length-n),e,n,a)}function w(e,t,n,a){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function E(e,t,n,a){return w(e,t,n,a)}function T(e,t,n,a){return V(B(t),e,n,a)}function x(e,t,n,a){return V(function(e,t){for(var n,a,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),a=n>>8,r=n%256,i.push(r),i.push(a);return i}(t,e.length-n),e,n,a)}function C(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var i,o,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(i=e[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[r+1],o=e[r+2],128===(192&i)&&128===(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),r+=d}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=k));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?s(e,t):void 0!==n?"string"===typeof a?s(e,t).fill(n,a):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,i=Math.min(n,a);r<i;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(a>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(a,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],o=u[d];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function O(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function M(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function L(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",i=t;i<n;++i)r+=U(e[i]);return r}function D(e,t,n){for(var a=e.slice(t,n),r="",i=0;i<a.length;i+=2)r+=String.fromCharCode(a[i]+256*a[i+1]);return r}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,a,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function I(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function A(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function P(e,t,n,a,r,i){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(e,t,n,a,i){return i||P(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function F(e,t,n,a,i){return i||P(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var a=t,r=1,i=this[e+--a];a>0&&(r*=256);)i+=this[e+--a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return Y(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return Y(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,i=a-n;if(this===e&&n<t&&t<a)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,a){if("string"===typeof e){if("string"===typeof t?(a=t,t=0,n=this.length):"string"===typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!==typeof a)throw new TypeError("encoding must be a string");if("string"===typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=l.isBuffer(e)?e:H(new l(e,a).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var a=e.length,r=null,i=[],o=0;o<a;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===a){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(52))},function(e,t,n){var a=n(428);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||a))return new XMLHttpRequest}catch(i){}try{if("undefined"!==typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(i){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}}},function(e,t,n){var a=n(88),r=n(162);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,r(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=a.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<a.length;r++)if((n=a[r])===t||n.fn===t){a.splice(r,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var a=0,r=(n=n.slice(0)).length;a<r;++a)n[a].apply(this,t);return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var a=n(442);e.exports=Function.prototype.bind||a},,,,,,,,,function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPropsDecorator=t.defaultStyle=t.EnhancerProvider=t.createSubstyle=void 0;var a=s(n(674)),r=s(n(1194)),i=s(n(1199)),o=s(n(675));function s(e){return e&&e.__esModule?e:{default:e}}t.createSubstyle=a.default,t.EnhancerProvider=i.default,t.defaultStyle=r.default,t.defaultPropsDecorator=o.default,t.default=(0,r.default)()},,,,,function(e,t,n){var a=n(119),r=n(348),i=n(349),o=n(350),s=n(351),l=n(352);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t,n){var a=n(152),r=n(371),i=n(372);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=i,e.exports=o},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var a=n(378),r=n(74),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var a=n(61),r=n(379),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(this,n(118)(e))},function(e,t){var n=9007199254740991,a=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&a.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var a=n(383),r=n(151),i=n(384),o=n(280),s=n(385),l=n(87),c=n(218),u=c(a),d=c(r),p=c(i),h=c(o),f=c(s),m=l;(a&&"[object DataView]"!=m(new a(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||i&&"[object Promise]"!=m(i.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,a=n?c(n):"";if(a)switch(a){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var a=n(155),r=n(106);e.exports=function(e,t){for(var n=0,i=(t=a(t,e)).length;null!=e&&n<i;)e=e[r(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){},,,,,,,,function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},,,,,,,,,,,,function(e,t){e.exports={SORTABLE:0,FILTERABLE:1,NONE:2,CHECKBOX:3}},,function(e,t){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(e,t){e.exports={L:1,M:0,Q:3,H:2}},function(e,t,n){var a=n(211);function r(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var a=0;a<e.length-n;a++)this.num[a]=e[a+n]}r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=a.gexp(a.glog(this.get(n))+a.glog(e.get(i)));return new r(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=a.glog(this.get(0))-a.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=a.gexp(a.glog(e.get(i))+t);return new r(n,0).mod(e)}},e.exports=r},function(e,t){for(var n={glog:function(e){if(e<1)throw new Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)n.EXP_TABLE[a]=1<<a;for(a=8;a<256;a++)n.EXP_TABLE[a]=n.EXP_TABLE[a-4]^n.EXP_TABLE[a-5]^n.EXP_TABLE[a-6]^n.EXP_TABLE[a-8];for(a=0;a<255;a++)n.LOG_TABLE[n.EXP_TABLE[a]]=a;e.exports=n},,,,,function(e,t,n){var a=n(87),r=n(94),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=a(e);return t==o||t==s||t==i||t==l}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(52))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var a=n(179),r=n(373),i=n(180),o=1,s=2;e.exports=function(e,t,n,l,c,u){var d=n&o,p=e.length,h=t.length;if(p!=h&&!(d&&h>p))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,v=n&s?new a:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var y=e[m],_=t[m];if(l)var b=d?l(_,y,m,t,e,u):l(y,_,m,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!r(t,(function(e,t){if(!i(v,t)&&(y===e||c(y,e,n,l,u)))return v.push(t)}))){g=!1;break}}else if(y!==_&&!c(y,_,n,l,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t){e.exports=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}},function(e,t,n){var a=n(276),r=n(277),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),a(o(e),(function(t){return i.call(e,t)})))}:r;e.exports=s},function(e,t,n){var a=n(380),r=n(154),i=n(224),o=i&&i.isTypedArray,s=o?r(o):a;e.exports=s},function(e,t,n){(function(e){var a=n(217),r=t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r&&a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s}).call(this,n(118)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var a=n(281);e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var a=n(94);e.exports=function(e){return e===e&&!a(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),i=e.indexOf("]");-1!=r&&-1!=i&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=n.exec(e||""),s={},l=14;l--;)s[a[l]]=o[l]||"";return-1!=r&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||a&&(e instanceof ArrayBuffer||r(e))};var n="function"===typeof t&&"function"===typeof t.isBuffer,a="function"===typeof ArrayBuffer,r=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(this,n(159).Buffer)},function(e,t,n){var a=n(426),r=n(239),i=n(240),o=n(158),s=n(241),l=n(242),c=n(65)("socket.io-client:manager"),u=n(238),d=n(441),p=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=a(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",(function(){r.onopen(),e&&e()})),o=s(n,"error",(function(t){if(c("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l);var u=setTimeout((function(){c("connect attempt timed out after %d",l),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",l)}),l);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(o),this},h.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t),this.nsps[e]=n;var a=this;n.on("connecting",i),n.on("connect",(function(){n.id=a.generateId(e)})),this.autoConnect&&i()}function i(){~u(a.connecting,n)||a.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var a=0;a<n.length;a++)t.engine.write(n[a],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var a=n(160),r=n(429),i=n(437),o=n(438);t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new a(e)&&!e.forceJSONP)return new r(e);if(!o)throw new Error("JSONP disabled");return new i(e)},t.websocket=o},function(e,t,n){var a=n(161),r=n(123),i=n(88),o=n(124),s=n(237),l=n(65)("engine.io-client:polling");e.exports=u;var c=null!=new(n(160))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),a.call(this,e)}o(u,a),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var a=0;this.polling&&(l("we are currently polling - waiting to pause"),a++,this.once("pollComplete",(function(){l("pre-pause polling complete"),--a||n()}))),this.writable||(l("we are currently writing - waiting to pause"),a++,this.once("drain",(function(){l("pre-pause writing complete"),--a||n()})))}else n()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;l("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,(function(e,n,a){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var a=n(431),r=Object.prototype.toString,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),o="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);e.exports=function e(n){if(!n||"object"!==typeof n)return!1;if(a(n)){for(var r=0,s=n.length;r<s;r++)if(e(n[r]))return!0;return!1}if("function"===typeof t&&t.isBuffer&&t.isBuffer(n)||"function"===typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||o&&n instanceof File)return!0;if(n.toJSON&&"function"===typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&e(n[l]))return!0;return!1}}).call(this,n(159).Buffer)},function(e,t,n){"use strict";var a,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},s=0,l=0;function c(e){var t="";do{t=r[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function u(){var e=c(+new Date);return e!==a?(s=0,a=e):e+"."+c(s++)}for(;l<i;l++)o[r[l]]=l;u.encode=c,u.decode=function(e){var t=0;for(l=0;l<e.length;l++)t=t*i+o[e.charAt(l)];return t},e.exports=u},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var a=0;a<e.length;++a)if(e[a]===t)return a;return-1}},function(e,t,n){var a=n(158),r=n(240),i=n(440),o=n(241),s=n(242),l=n(65)("socket.io-client:socket"),c=n(123),u=n(236);e.exports=h;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=r.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},h.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?a.BINARY_EVENT:a.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:a.CONNECT,query:e})}else this.packet({type:a.CONNECT})},h.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===a.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case a.CONNECT:this.onconnect();break;case a.EVENT:case a.BINARY_EVENT:this.onevent(e);break;case a.ACK:case a.BINARY_ACK:this.onack(e);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=i(arguments);l("sending ack %j",r),t.packet({type:u(r)?a.BINARY_ACK:a.ACK,id:e,data:r})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t,n){function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<a.length;r++)if((n=a[r])===t||n.fn===t){a.splice(r,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var a=0,r=(n=n.slice(0)).length;a<r;++a)n[a].apply(this,t);return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var a=n.call(arguments,2);return function(){return t.apply(e,a.concat(n.call(arguments)))}}},function(e,t,n){"use strict";var a=n(163);e.exports=a.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){},,,function(e,t,n){var a=n(229),r=n(632),i=n(633);e.exports=function(e,t){return i(r(e,t,a),e+"")}},function(e,t,n){var a=n(680),r=n(226);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?r(n,c,u):a(n,c,u)}return n}},,,,,,function(e,t,n){"use strict";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?h(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(0),y=(n(1),n(319)),_=n(209);function b(e){for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a<2048?(t+=String.fromCharCode(192|a>>6),t+=String.fromCharCode(128|63&a)):a<55296||a>=57344?(t+=String.fromCharCode(224|a>>12),t+=String.fromCharCode(128|a>>6&63),t+=String.fromCharCode(128|63&a)):(n++,a=65536+((1023&a)<<10|1023&e.charCodeAt(n)),t+=String.fromCharCode(240|a>>18),t+=String.fromCharCode(128|a>>12&63),t+=String.fromCharCode(128|a>>6&63),t+=String.fromCharCode(128|63&a))}return t}var w={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1},E=4,T=.1;function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,a){var r=null;e.forEach((function(i,o){if(!i&&null!==r)return n.push("M".concat(r+t," ").concat(a+t,"h").concat(o-r,"v1H").concat(r+t,"z")),void(r=null);if(o!==e.length-1)i&&null===r&&(r=o);else{if(!i)return;null===r?n.push("M".concat(o+t,",").concat(a+t," h1v1H").concat(o+t,"z")):n.push("M".concat(r+t,",").concat(a+t," h").concat(o+1-r,"v1H").concat(r+t,"z"))}}))})),n.join("")}function C(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function S(e,t){var n=e.imageSettings,a=e.size,r=e.includeMargin;if(null==n)return null;var i=r?E:0,o=t.length+2*i,s=Math.floor(a*T),l=o/a,c=(n.width||s)*l,u=(n.height||s)*l,d=null==n.x?t.length/2-c/2:n.x*l,p=null==n.y?t.length/2-u/2:n.y*l,h=null;if(n.excavate){var f=Math.floor(d),m=Math.floor(p);h={x:f,y:m,w:Math.ceil(c+d-f),h:Math.ceil(u+p-m)}}return{x:d,y:p,h:u,w:c,excavation:h}}var k=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),O=function(e){function t(){var e,n;l(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return g(h(n=d(this,(e=p(t)).call.apply(e,[this].concat(r)))),"_canvas",void 0),g(h(n),"_image",void 0),g(h(n),"state",{imgLoaded:!1}),g(h(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return f(t,e),u(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,a=e.level,r=e.bgColor,i=e.fgColor,o=e.includeMargin,s=e.imageSettings,l=new y(-1,_[a]);if(l.addData(b(t)),l.make(),null!=this._canvas){var c=this._canvas,u=c.getContext("2d");if(!u)return;var d=l.modules;if(null===d)return;var p=o?E:0,h=d.length+2*p,f=S(this.props,d);null!=s&&null!=f&&null!=f.excavation&&(d=C(d,f.excavation));var m=window.devicePixelRatio||1;c.height=c.width=n*m;var g=n/h*m;u.scale(g,g),u.fillStyle=r,u.fillRect(0,0,h,h),u.fillStyle=i,k?u.fill(new Path2D(x(d,p))):d.forEach((function(e,t){e.forEach((function(e,n){e&&u.fillRect(n+p,t+p,1,1)}))})),this.state.imgLoaded&&this._image&&null!=f&&u.drawImage(this._image,f.x+p,f.y+p,f.w,f.h)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),a=(t.level,t.bgColor,t.fgColor,t.style),i=(t.includeMargin,t.imageSettings),l=s(t,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),c=o({height:n,width:n},a),u=null,d=i&&i.src;return null!=i&&null!=d&&(u=v.createElement("img",{src:d,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),v.createElement(v.Fragment,null,v.createElement("canvas",r({style:c,height:n,width:n,ref:function(t){return e._canvas=t}},l)),u)}}]),t}(v.PureComponent);g(O,"defaultProps",w);var M=function(e){function t(){return l(this,t),d(this,p(t).apply(this,arguments))}return f(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,a=e.level,i=e.bgColor,o=e.fgColor,l=e.includeMargin,c=e.imageSettings,u=s(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),d=new y(-1,_[a]);d.addData(b(t)),d.make();var p=d.modules;if(null===p)return null;var h=l?E:0,f=p.length+2*h,m=S(this.props,p),g=null;null!=c&&null!=m&&(null!=m.excavation&&(p=C(p,m.excavation)),g=v.createElement("image",{xlinkHref:c.src,height:m.h,width:m.w,x:m.x+h,y:m.y+h,preserveAspectRatio:"none"}));var w=x(p,h);return v.createElement("svg",r({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(f," ").concat(f)},u),v.createElement("path",{fill:i,d:"M0,0 h".concat(f,"v").concat(f,"H0z")}),v.createElement("path",{fill:o,d:w}),g)}}]),t}(v.PureComponent);g(M,"defaultProps",w);var L=function(e){var t=e.renderAs,n=s(e,["renderAs"]),a="svg"===t?M:O;return v.createElement(a,n)};L.defaultProps=o({renderAs:"canvas"},w),e.exports=L},,,,function(e,t,n){var a=n(478).default;e.exports=a,e.exports.default=a},,function(e,t,n){"use strict";var a=n(63),r=n(96);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Object(r.a)(e,t,n[t])}))}return e}var o=n(25),s=n(28),l=n(32),c=n(34),u=n(64),d=n(35),p=n(39),h=n(40),f={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,Object(p.a)(t))}},m=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,e),this.init(t,n)}return Object(s.a)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||f,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,a){return a&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,i({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),g=function(){function e(){Object(o.a)(this,e),this.observers={}}return Object(s.a)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function v(){var e,t,n=new Promise((function(n,a){e=n,t=a}));return n.resolve=e,n.reject=t,n}function y(e){return null==e?"":""+e}function _(e,t,n){function a(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"===typeof e}for(var i="string"!==typeof t?[].concat(t):t.split(".");i.length>1;){if(r())return{};var o=a(i.shift());!e[o]&&n&&(e[o]=new n),e=e[o]}return r()?{}:{obj:e,k:a(i.shift())}}function b(e,t,n){var a=_(e,t,Object);a.obj[a.k]=n}function w(e,t){var n=_(e,t),a=n.obj,r=n.k;if(a)return a[r]}function E(e,t,n){var a=w(e,n);return void 0!==a?a:w(t,n)}function T(e,t,n){for(var a in t)a in e?"string"===typeof e[a]||e[a]instanceof String||"string"===typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):T(e[a],t[a],n):e[a]=t[a];return e}function x(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function S(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return C[e]})):e}var k=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Object(o.a)(this,t),n=Object(l.a)(this,Object(c.a)(t).call(this)),g.call(Object(u.a)(n)),n.data=e||{},n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,i=[e,t];return n&&"string"!==typeof n&&(i=i.concat(n)),n&&"string"===typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split(".")),w(this.data,i)}},{key:"addResource",value:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var o=[e,t];n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=t,t=(o=e.split("."))[1]),this.addNamespaces(t),b(this.data,o,a),r.silent||this.emit("added",e,t,n,a)}},{key:"addResources",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!==typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(a=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var l=w(this.data,s)||{};a?T(l,n,r):l=i({},l,n),b(this.data,s,l),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?i({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(g),O={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,a,r){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,a,r))})),t}},M=function(e){function t(e){var n,a,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,t),n=Object(l.a)(this,Object(c.a)(t).call(this)),g.call(Object(u.a)(n)),a=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r=e,i=Object(u.a)(n),a.forEach((function(e){r[e]&&(i[e]=r[e])})),n.options=s,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=m.create("translator"),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var i=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(a)}return"string"===typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t){var n=this;if("object"!==Object(a.a)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],t),s=o.key,l=o.namespaces,c=l[l.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(d){var p=t.nsSeparator||this.options.nsSeparator;return c+p+s}return s}var h=this.resolve(e,t),f=h&&h.res,m=h&&h.usedKey||s,g=h&&h.exactUsedKey||s,v=Object.prototype.toString.apply(f),y=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!==typeof f&&"boolean"!==typeof f&&"number"!==typeof f;if(b&&f&&w&&y.indexOf(v)<0&&("string"!==typeof _||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,t):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var E="[object Array]"===v,T=E?[]:{},x=E?g:m;for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)){var S="".concat(x).concat(r).concat(C);T[C]=this.translate(S,i({},t,{joinArrays:!1,ns:l})),T[C]===S&&(T[C]=f[C])}f=T}}else if(b&&"string"===typeof _&&"[object Array]"===v)(f=f.join(_))&&(f=this.extendTranslation(f,e,t));else{var k=!1,O=!1;if(!this.isValidLookup(f)&&void 0!==t.defaultValue){if(k=!0,void 0!==t.count){var M=this.pluralResolver.getSuffix(u,t.count);f=t["defaultValue".concat(M)]}f||(f=t.defaultValue)}this.isValidLookup(f)||(O=!0,f=s);var L=t.defaultValue&&t.defaultValue!==f&&this.options.updateMissing;if(O||k||L){this.logger.log(L?"updateKey":"missingKey",u,c,s,L?t.defaultValue:f);var D=[],R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&R&&R[0])for(var N=0;N<R.length;N++)D.push(R[N]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);var I=function(e,a){n.options.missingKeyHandler?n.options.missingKeyHandler(e,c,a,L?t.defaultValue:f,L,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,c,a,L?t.defaultValue:f,L,t),n.emit("missingKey",e,c,a,f)};if(this.options.saveMissing){var A=void 0!==t.count&&"string"!==typeof t.count;this.options.saveMissingPlurals&&A?D.forEach((function(e){n.pluralResolver.getPluralFormsOfKey(e,s).forEach((function(t){return I([e],t)}))})):I(D,s)}}f=this.extendTranslation(f,e,t,h),O&&f===s&&this.options.appendNamespaceToMissingKey&&(f="".concat(c,":").concat(s)),O&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(e,t,n,a){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(i({},n,{interpolation:i({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!==typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=i({},this.options.interpolation.defaultVariables,o)),e=this.interpolator.interpolate(e,o,n.lng||this.language,n),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){return r.translate.apply(r,arguments)}),n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,l="string"===typeof s?[s]:s;return void 0!==e&&null!==e&&l&&l.length&&!1!==n.applyPostProcessor&&(e=O.handle(l,e,t,n,this)),e}},{key:"resolve",value:function(e){var t,n,a,r,i,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;o.options.fallbackNS&&(u=u.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,p=void 0!==s.context&&"string"===typeof s.context&&""!==s.context,h=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);u.forEach((function(e){o.isValidLookup(t)||(i=e,o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(i)&&o.logger.warn('key "'.concat(n,'" for namespace "').concat(i,"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"),h.forEach((function(n){if(!o.isValidLookup(t)){r=n;var i,l,u=c,h=[u];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(h,c,n,e,s);else d&&(i=o.pluralResolver.getSuffix(n,s.count)),d&&p&&h.push(u+i),p&&h.push(u+="".concat(o.options.contextSeparator).concat(s.context)),d&&h.push(u+=i);for(;l=h.pop();)o.isValidLookup(t)||(a=l,t=o.getResource(n,e,l,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:i}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}}]),t}(g);function L(e){return e.charAt(0).toUpperCase()+e.slice(1)}var D=function(){function e(t){Object(o.a)(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=m.create("languageUtils")}return Object(s.a)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=L(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=L(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=L(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,a=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=function(e){e&&(n.isWhitelisted(e)?r.push(e):n.logger.warn("rejecting non-whitelisted language code: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"===typeof e&&i(this.formatLanguageCode(e)),a.forEach((function(e){r.indexOf(e)<0&&i(n.formatLanguageCode(e))})),r}}]),e}(),R=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],N={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)}};var I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,e),this.languageUtils=t,this.options=n,this.logger=m.create("pluralResolver"),this.rules=function(){var e={};return R.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:N[t.fc]}}))})),e}()}return Object(s.a)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=this,a=[],r=this.getRule(e);return r?(r.numbers.forEach((function(r){var i=n.getSuffix(e,r);a.push("".concat(t).concat(i))})),a):a}},{key:"getSuffix",value:function(e,t){var n=this,a=this.getRule(e);if(a){var r=a.noAbs?a.plurals(t):a.plurals(Math.abs(t)),i=a.numbers[r];this.options.simplifyPluralSuffix&&2===a.numbers.length&&1===a.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON?o():this.options.simplifyPluralSuffix&&2===a.numbers.length&&1===a.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.logger=m.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Object(s.a)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:S,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?x(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?x(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?x(t.nestingPrefix):t.nestingPrefixEscaped||x("$t("),this.nestingSuffix=t.nestingSuffix?x(t.nestingSuffix):t.nestingSuffixEscaped||x(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,a){var r,i,o,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0)return E(t,l,e);var a=e.split(s.formatSeparator),r=a.shift().trim(),i=a.join(s.formatSeparator).trim();return s.format(E(t,l,r),i,n)};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler;for(o=0;r=this.regexpUnescape.exec(e);){if(void 0===(i=u(r[1].trim())))if("function"===typeof d){var p=d(e,r,a);i="string"===typeof p?p:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),i="";else"string"===typeof i||this.useRawValueToEscape||(i=y(i));if(e=e.replace(r[0],c(i)),this.regexpUnescape.lastIndex=0,++o>=this.maxReplaces)break}for(o=0;r=this.regexp.exec(e);){if(void 0===(i=u(r[1].trim())))if("function"===typeof d){var h=d(e,r,a);i="string"===typeof h?h:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),i="";else"string"===typeof i||this.useRawValueToEscape||(i=y(i));if(i=this.escapeValue?c(this.escape(i)):c(i),e=e.replace(r[0],i),this.regexp.lastIndex=0,++o>=this.maxReplaces)break}return e}},{key:"nest",value:function(e,t){var n,a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i({},r);function s(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var a=n.join(",");a=(a=this.interpolate(a,o)).replace(/'/g,'"');try{o=JSON.parse(a),t&&(o=i({},t,o))}catch(r){this.logger.error("failed parsing options string in nesting for key ".concat(e),r)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){if((a=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!==typeof a)return a;"string"!==typeof a&&(a=y(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}]),e}();var P=function(e){function t(e,n,a){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(o.a)(this,t),r=Object(l.a)(this,Object(c.a)(t).call(this)),g.call(Object(u.a)(r)),r.backend=e,r.store=n,r.services=a,r.languageUtils=a.languageUtils,r.options=i,r.logger=m.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(a,i.backend,i),r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"queueLoad",value:function(e,t,n,a){var r=this,i=[],o=[],s=[],l=[];return e.forEach((function(e){var a=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?o.indexOf(s)<0&&o.push(s):(r.state[s]=1,a=!1,o.indexOf(s)<0&&o.push(s),i.indexOf(s)<0&&i.push(s),l.indexOf(t)<0&&l.push(t)))})),a||s.push(e)})),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:a}),{toLoad:i,pending:o,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var a=e.split("|"),r=Object(h.a)(a,2),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){!function(e,t,n,a){var r=_(e,t,Object),i=r.obj,o=r.k;i[o]=i[o]||[],a&&(i[o]=i[o].concat(n)),a||i[o].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&r<5?setTimeout((function(){a.read.call(a,e,t,n,r+1,2*i,o)}),i):o(s,l)})):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var i=this.queueLoad(e,t,a,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.split("|"),r=Object(h.a)(a,2),i=r[0],o=r[1];this.read(i,o,"read",null,null,(function(a,r){a&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),a),!a&&r&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),r),t.loaded(e,a,r)}))}},{key:"saveMissing",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" for namespace "').concat(t,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):(this.backend&&this.backend.create&&this.backend.create(e,t,n,a,null,i({},o,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,a))}}]),t}(g);function Y(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Object(a.a)(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===Object(a.a)(e[2])||"object"===Object(a.a)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function F(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}function j(){}var U=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Object(o.a)(this,t),e=Object(l.a)(this,Object(c.a)(t).call(this)),g.call(Object(u.a)(e)),e.options=F(n),e.services={},e.logger=m,e.modules={external:[]},a&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,a),Object(l.a)(e,Object(u.a)(e));setTimeout((function(){e.init(n,a)}),0)}return e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function a(e){return e?"function"===typeof e?new e:e:null}if("function"===typeof t&&(n=t,t={}),this.options=i({},Y(),this.options,F(t)),this.format=this.options.interpolation.format,n||(n=j),!this.options.isClone){this.modules.logger?m.init(a(this.modules.logger),this.options):m.init(null,this.options);var r=new D(this.options);this.store=new k(this.options.resources,this.options);var o=this.services;o.logger=m,o.resourceStore=this.store,o.languageUtils=r,o.pluralResolver=new I(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new A(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new P(a(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.languageDetector&&(o.languageDetector=a(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=a(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new M(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}var s=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=v(),c=function(){e.changeLanguage(e.options.lng,(function(t,a){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(a),n(t,a)}))};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}},{key:"loadResources",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(e){n.indexOf(e)<0&&n.push(e)}))};if(this.language)a(this.language);else{var r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(n,this.options.ns,t)}else t(null)}},{key:"reloadResources",value:function(e,t,n){var a=v();return e||(e=this.languages),t||(t=this.options.ns),n||(n=j),this.services.backendConnector.reload(e,t,(function(e){a.resolve(),n(e)})),a}},{key:"use",value:function(e){return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&O.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this,a=v();this.emit("languageChanging",e);var r=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources((function(r){!function(e,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),a.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(r,e)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),a}},{key:"getFixedT",value:function(e,t){var n=this,r=function e(t,r){var o;if("object"!==Object(a.a)(r)){for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];o=n.options.overloadTranslationOptionHandler([t,r].concat(l))}else o=i({},r);return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,n.t(t,o)};return"string"===typeof e?r.lng=e:r.lngs=e,r.ns=t,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.languages[0],a=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};return!!this.hasResourceBundle(n,e)||(!this.services.backendConnector.backend||!(!i(n,e)||a&&!i(r,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,a=v();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){a.resolve(),t&&t(e)})),a):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=v();"string"===typeof e&&(e=[e]);var a=this.options.preload||[],r=e.filter((function(e){return a.indexOf(e)<0}));return r.length?(this.options.preload=a.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,r=i({},this.options,n,{isClone:!0}),o=new t(r),s=["store","services","language"];return s.forEach((function(t){o[t]=e[t]})),o.translator=new M(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))})),o.init(r,a),o.translator.options=o.options,o}}]),t}(g)),H=[],B=H.forEach,V=H.slice;function G(e){return B.call(V.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function W(e,t){if(t&&"object"===Object(a.a)(t)){var n="",r=encodeURIComponent;for(var i in t)n+="&"+r(i)+"="+r(t[i]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function z(e,t,n,r,i){r&&"object"===Object(a.a)(r)&&(i||(r._t=new Date),r=W("",r).slice(1)),t.queryStringParams&&(e=W(e,t.queryStringParams));try{var o;(o=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(r?"POST":"GET",e,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=t.customHeaders;if(s="function"===typeof s?s():s)for(var l in s)o.setRequestHeader(l,s[l]);o.onreadystatechange=function(){o.readyState>3&&n&&n(o.responseText,o)},o.send(r)}catch(c){console&&console.log(c)}}function q(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function(e,t,n){return Object(r.a)({},t,n||"")},crossDomain:!1,ajax:z}}var K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,e),this.init(t,n),this.type="backend"}return Object(s.a)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=G(t,this.options||{},q())}},{key:"readMulti",value:function(e,t,n){var a=this.options.loadPath;"function"===typeof this.options.loadPath&&(a=this.options.loadPath(e,t));var r=this.services.interpolator.interpolate(a,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(e,t,n){var a=this.options.loadPath;"function"===typeof this.options.loadPath&&(a=this.options.loadPath([e],[t]));var r=this.services.interpolator.interpolate(a,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,(function(a,r){if(r.status>=500&&r.status<600)return t("failed loading "+e,!0);if(r.status>=400&&r.status<500)return t("failed loading "+e,!1);var i,o;try{i=n.options.parse(a,e)}catch(s){o="failed parsing "+e+" to json"}if(o)return t(o,!1);t(null,i)}))}},{key:"create",value:function(e,t,n,a){var r=this;"string"===typeof e&&(e=[e]);var i=this.options.parsePayload(t,n,a);e.forEach((function(e){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:e,ns:t});r.options.ajax(n,r.options,(function(e,t){}),i)}))}}]),e}();K.type="backend";var X=K,J=n(258),Z=n.n(J),$=n(12),Q=window.app.config.mediaUrl,ee=window.app.config.lang,te=window.app.config.version;U.use(X).use(Z.a).use($.c).init({lng:ee,fallbackLng:"en",ns:["dtable","seafile-editor"],defaultNS:"dtable",whitelist:["en","zh-CN","fr","de","cs","es","es-AR","es-MX","ru"],backend:{loadPath:Q+"locales/{{ lng }}/{{ ns }}.json",queryStringParams:{v:te}},debug:!1,interpolation:{escapeValue:!1},contextSeparator:" ",load:"currentOnly",react:{wait:!0}});t.a=U},,,,function(e,t){e.exports=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},,,,,,,,,function(e,t,n){var a=n(61).Uint8Array;e.exports=a},function(e,t,n){var a=n(275),r=n(222),i=n(91);e.exports=function(e){return a(e,i,r)}},function(e,t,n){var a=n(221),r=n(50);e.exports=function(e,t,n){var i=t(e);return r(e)?i:a(i,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,i=[];++n<a;){var o=e[n];t(o,n,e)&&(i[r++]=o)}return i}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var a=n(377),r=n(181),i=n(50),o=n(182),s=n(183),l=n(223),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&r(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,f=h?a(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var a=n(76)(n(61),"Set");e.exports=a},function(e,t,n){var a=n(76),r=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},function(e,t,n){var a=n(152),r="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(r);var n=function n(){var a=arguments,r=t?t.apply(this,a):a[0],i=n.cache;if(i.has(r))return i.get(r);var o=e.apply(this,a);return n.cache=i.set(r,o)||i,o};return n.cache=new(i.Cache||a),n}i.Cache=a,e.exports=i},,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,a=t.clientOffset,s=t.getSourceClientOffset;(0,r.default)((0,i.default)(e),"Expected sourceIds to be an array.");var l=this.getMonitor(),u=this.getRegistry();(0,r.default)(!l.isDragging(),"Cannot call beginDrag while dragging.");for(var d=0;d<e.length;d++)(0,r.default)(u.getSource(e[d]),"Expected sourceIds to be registered.");for(var p=null,h=e.length-1;h>=0;h--)if(l.canDragSource(e[h])){p=e[h];break}if(null===p)return;var f=null;a&&((0,r.default)("function"===typeof s,"When clientOffset is provided, getSourceClientOffset must be a function."),f=s(p));var m=u.getSource(p).beginDrag(l,p);(0,r.default)((0,o.default)(m),"Item must be an object."),u.pinSource(p);var g=u.getSourceType(p);return{type:c,itemType:g,item:m,sourceId:p,clientOffset:a,sourceClientOffset:f,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:u}},t.hover=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset,n=void 0===t?null:t;(0,r.default)((0,i.default)(e),"Expected targetIds to be an array.");var a=e.slice(0),o=this.getMonitor(),l=this.getRegistry();(0,r.default)(o.isDragging(),"Cannot call hover while not dragging."),(0,r.default)(!o.didDrop(),"Cannot call hover after drop.");for(var c=0;c<a.length;c++){var u=a[c];(0,r.default)(a.lastIndexOf(u)===c,"Expected targetIds to be unique in the passed array.");var p=l.getTarget(u);(0,r.default)(p,"Expected targetIds to be registered.")}for(var h=o.getItemType(),f=a.length-1;f>=0;f--){var m=a[f],g=l.getTargetType(m);(0,s.default)(g,h)||a.splice(f,1)}for(var v=0;v<a.length;v++){var y=a[v];l.getTarget(y).hover(o,y)}return{type:d,targetIds:a,clientOffset:n}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),i=this.getRegistry();(0,r.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,r.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach((function(s,l){var c=i.getTarget(s).drop(n,s);(0,r.default)("undefined"===typeof c||(0,o.default)(c),"Drop result must either be an object or undefined."),"undefined"===typeof c&&(c=0===l?{}:n.getDropResult()),e.store.dispatch({type:p,dropResult:a({},t,c)})}))},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,r.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return t.getSource(n,true).endDrag(e,n),t.unpinSource(),{type:h}};var r=l(n(53)),i=l(n(50)),o=l(n(94)),s=l(n(629));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",u=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",d=t.HOVER="dnd-core/HOVER",p=t.DROP="dnd-core/DROP",h=t.END_DRAG="dnd-core/END_DRAG"},function(e,t,n){var a=n(135),r=n(74);e.exports=function(e){return r(e)&&a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=function(e){return{type:a,sourceId:e}},t.addTarget=function(e){return{type:r,targetId:e}},t.removeSource=function(e){return{type:i,sourceId:e}},t.removeTarget=function(e){return{type:o,targetId:e}};var a=t.ADD_SOURCE="dnd-core/ADD_SOURCE",r=t.ADD_TARGET="dnd-core/ADD_TARGET",i=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",o=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){0}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=t.keys=function(e){return e===Object(e)?Object.keys(e):[]};t.values=function(e){return e===Object(e)?Object.values(e):[]};function o(e,t){var n=s({},e);return l(e)&&l(t)&&i(t).forEach((function(a){l(t[a])&&a in e?n[a]=o(e[a],t[a]):s(n,r({},a,t[a]))})),n}t.merge=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((function(e,t){return o(e,t)}),e)};var s=t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.assign.apply(Object,[e].concat(n))};t.identity=function(e){return e};t.omit=function(e,t){var n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(a({},e),[]);if(t){var r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){delete n[s.value]}}catch(c){i=!0,o=c}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}return n};var l=t.isPlainObject=function(e){return e===Object(e)&&!(e instanceof Date)&&!Array.isArray(e)};t.compact=function(e){return(e||[]).filter(Boolean)}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(16)),r=m(n(21)),i=m(n(15)),o=m(n(17)),s=m(n(0)),l=m(n(22)),c=m(n(1)),u=n(54),d=m(n(564)),p=m(n(565)),h=m(n(886)),f=m(n(695));function m(e){return e&&e.__esModule?e:{default:e}}function g(){}function v(e,t){this[e]=t}var y=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_.call(n);var r=void 0;r="open"in e?e.open:e.defaultOpen;var o=e.value||e.defaultValue;return n.saveCalendarRef=v.bind(n,"calendarInstance"),n.state={open:r,value:o},n}return(0,o.default)(t,e),(0,r.default)(t,[{key:"componentDidUpdate",value:function(e,t){!t.open&&this.state.open&&(this.focusTimeout=setTimeout(this.focusCalendar,0,this))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusTimeout)}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.placement,a=e.style,r=e.getCalendarContainer,i=e.align,o=e.animation,l=e.disabled,c=e.dropdownClassName,u=e.transitionName,d=e.children,p=this.state;return s.default.createElement(f.default,{popup:this.getCalendarElement(),popupAlign:i,builtinPlacements:h.default,popupPlacement:n,action:l&&!p.open?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:r,popupStyle:a,popupAnimation:o,popupTransitionName:u,popupVisible:p.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:t,popupClassName:c},s.default.cloneElement(d(p,e),{onKeyDown:this.onKeyDown}))}}],[{key:"getDerivedStateFromProps",value:function(e){var t={},n=e.value,a=e.open;return"value"in e&&(t.value=n),void 0!==a&&(t.open=a),t}}]),t}(s.default.Component);y.propTypes={animation:c.default.oneOfType([c.default.func,c.default.string]),disabled:c.default.bool,transitionName:c.default.string,onChange:c.default.func,onOpenChange:c.default.func,children:c.default.func,getCalendarContainer:c.default.func,calendar:c.default.element,style:c.default.object,open:c.default.bool,defaultOpen:c.default.bool,prefixCls:c.default.string,placement:c.default.any,value:c.default.oneOfType([c.default.object,c.default.array]),defaultValue:c.default.oneOfType([c.default.object,c.default.array]),align:c.default.object,dateRender:c.default.func,onBlur:c.default.func},y.defaultProps={prefixCls:"rc-calendar-picker",style:{},align:{},placement:"bottomLeft",defaultOpen:!1,onChange:g,onOpenChange:g,onBlur:g};var _=function(){var e=this;this.onCalendarKeyDown=function(t){t.keyCode===p.default.ESC&&(t.stopPropagation(),e.close(e.focus))},this.onCalendarSelect=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.props;"value"in a||e.setState({value:t}),("keyboard"===n.source||"dateInputSelect"===n.source||!a.calendar.props.timePicker&&"dateInput"!==n.source||"todayButton"===n.source)&&e.close(e.focus),a.onChange(t)},this.onKeyDown=function(t){e.state.open||t.keyCode!==p.default.DOWN&&t.keyCode!==p.default.ENTER||(e.open(),t.preventDefault())},this.onCalendarOk=function(){e.close(e.focus)},this.onCalendarClear=function(){e.close(e.focus)},this.onCalendarBlur=function(){e.setOpen(!1)},this.onVisibleChange=function(t){e.setOpen(t)},this.getCalendarElement=function(){var t=e.props,n=e.state,a=t.calendar.props,r=n.value,i=r,o={ref:e.saveCalendarRef,defaultValue:i||a.defaultValue,selectedValue:r,onKeyDown:e.onCalendarKeyDown,onOk:(0,d.default)(a.onOk,e.onCalendarOk),onSelect:(0,d.default)(a.onSelect,e.onCalendarSelect),onClear:(0,d.default)(a.onClear,e.onCalendarClear),onBlur:(0,d.default)(a.onBlur,e.onCalendarBlur)};return s.default.cloneElement(t.calendar,o)},this.setOpen=function(t,n){var a=e.props.onOpenChange;e.state.open!==t&&("open"in e.props||e.setState({open:t},n),a(t))},this.open=function(t){e.setOpen(!0,t)},this.close=function(t){e.setOpen(!1,t)},this.focus=function(){e.state.open||l.default.findDOMNode(e).focus()},this.focusCalendar=function(){e.state.open&&e.calendarInstance&&e.calendarInstance.focus()}};(0,u.polyfill)(y),t.default=y,e.exports=t.default},,,,function(e,t,n){var a;"undefined"!==typeof self&&self,a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=402)}([function(e,t,n){var a=n(126),r=n(16),i=a.mix({},a,{assign:a.mix,merge:a.deepMix,cloneDeep:a.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:a.isNumberEqual,remove:a.pull,inArray:a.contains,toAllPadding:function(e){var t=0,n=0,a=0,r=0;return i.isNumber(e)||i.isString(e)?t=n=a=r=e:i.isArray(e)?(t=e[0],a=i.isNil(e[1])?e[0]:e[1],r=i.isNil(e[2])?e[0]:e[2],n=i.isNil(e[3])?a:e[3]):i.isObject(e)&&(t=e.top||0,a=e.right||0,r=e.bottom||0,n=e.left||0),[t,a,r,n]},getClipByRange:function(e){var t=e.tl,n=e.br;return new r.Rect({attrs:{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}})}});i.Array={groupToMap:a.groupToMap,group:a.group,merge:a.merge,values:a.valuesOfKey,getRange:a.getRange,firstValue:a.firstValue,remove:a.pull},e.exports=i},function(e,t,n){var a=n(81),r={};a.merge(r,a,{mixin:function(e,t){var n=e.CFG?"CFG":"ATTRS";if(e&&t){e._mixins=t,e[n]=e[n]||{};var a={};r.each(t,(function(t){r.augment(e,t);var i=t[n];i&&r.merge(a,i)})),e[n]=r.merge(a,e[n])}}}),e.exports=r},function(e,t,n){var a=n(25),r=n(4);e.exports=function(e,t){if(e)if(r(e))for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n++);else if(a(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))break}},function(e,t,n){var a=n(20),r=n(126),i=r.mix({assign:r.mix,isFinite:isFinite,isNaN:isNaN,Group:a.Group,Event:a.Event},r);e.exports=i},function(e,t,n){var a=n(12),r=Array.isArray?Array.isArray:function(e){return a(e,"Array")};e.exports=r},function(e,t){e.exports=function(e){return null===e||void 0===e}},function(e,t,n){var a=n(1),r=n(190),i=n(102),o=n(55),s=function e(t){e.superclass.constructor.call(this,t)};s.ATTRS={},a.extend(s,i);var l={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};a.augment(s,r,{isShape:!0,drawInner:function(e){var t=this._attrs;this.createPath(e);var n=e.globalAlpha;if(this.hasFill()){var r=t.fillOpacity;a.isNil(r)||1===r?e.fill():(e.globalAlpha=r,e.fill(),e.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var i=t.strokeOpacity;a.isNil(i)||1===i||(e.globalAlpha=i),e.stroke()}this.afterPath(e)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(e,t){var n=[e,t,1];if(this.invert(n),this.isHitBox()){var a=this.getBBox();if(a&&!o.box(a.minX,a.maxX,a.minY,a.maxY,n[0],n[1]))return!1}var r=this._attrs.clip;return r?(r.invert(n,this.get("canvas")),!!r.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var e=this._attrs,t=e.lineAppendWidth||0;return(e.lineWidth||0)+t},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var e=this._cfg.box;return e||((e=this.calculateBox())&&(e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY),this._cfg.box=e),e},clone:function(){var e=null,t=this._attrs,n={};return a.each(t,(function(e,r){l[r]&&a.isArray(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)a.isArray(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]})),e=new this.constructor({attrs:n}),e._cfg.zIndex=this._cfg.zIndex,e}}),e.exports=s},function(e,t,n){var a=n(0),r=n(150),i={version:"3.5.9",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(e,t){r[e]=t},setTheme:function(e){var t={};t=a.isObject(e)?e:-1!==a.indexOf(Object.keys(r),e)?r[e]:r.default,a.deepMix(i,t)}};i.setTheme("default"),e.exports=i},function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}e.exports=function(e,t,a,r){return t&&n(e,t),a&&n(e,a),r&&n(e,r),e}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"Number")}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"String")}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"Function")}},function(e,t){var n={}.toString;e.exports=function(e,t){return n.call(e)==="[object "+t+"]"}},function(e,t){e.exports=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t){e.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(e,t,n){var a=n(3),r=n(155),i=n(32),o=["min","max","median","start","end"],s=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{xScales:null,yScales:null,el:null})},s.render=function(){},s.clear=function(){var e=this.get("el");e&&e.remove(),this.set("el",null)},s.destroy=function(){this.clear(),e.prototype.destroy.call(this)},s.changeVisible=function(e){this.set("visible",e);var t=this.get("el");t&&(t.set?t.set("visible",e):t.style.display=e?"":"none")},s.parsePoint=function(e,t){var n,i,o=this.get("xScales"),s=this.get("yScales");if(a.isFunction(t)&&(t=t(o,s)),a.isArray(t)&&a.isString(t[0])&&-1!==t[0].indexOf("%"))return this._parsePercentPoint(e,t);if(a.isArray(t))n=this._getNormalizedValue(t[0],r.getFirstScale(o)),i=this._getNormalizedValue(t[1],r.getFirstScale(s));else for(var l in t){var c=t[l];o[l]&&(n=this._getNormalizedValue(c,o[l])),s[l]&&(i=this._getNormalizedValue(c,s[l],"y"))}return a.isNil(n)||a.isNil(i)||isNaN(n)||isNaN(i)?null:e.convert({x:n,y:i})},s._getNormalizedValue=function(e,t){var n,r;return-1!==a.indexOf(o,e)?"start"===e?n=0:"end"===e?n=1:"median"===e?(r=t.isCategory?(t.values.length-1)/2:(t.min+t.max)/2,n=t.scale(r)):(r=t.isCategory?"min"===e?0:t.values.length-1:t[e],n=t.scale(r)):n=t.scale(e),n},s._parsePercentPoint=function(e,t){var n=parseFloat(t[0])/100,a=parseFloat(t[1])/100,r=e.start,i=e.end,o=Math.min(r.x,i.x),s=Math.min(r.y,i.y);return{x:e.width*n+o,y:e.height*a+s}},i}(i);e.exports=s},function(e,t,n){var a=n(20);e.exports=a},function(e,t,n){"use strict";var a=n(61);n.d(t,"a",(function(){return a.e})),n.d(t,"f",(function(){return a.g})),n.d(t,"d",(function(){return a.f}));var r=n(205);n.d(t,"e",(function(){return r.a})),n.d(t,"c",(function(){return r.b}));var i=n(206);n.d(t,"b",(function(){return i.a}))},function(e,t,n){var a=n(8),r=n(2),i=n(25),o=n(5),s=function(){var e=t.prototype;function t(e){this._initDefaultCfg(),a(this,e),this.init()}return e._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},e.init=function(){},e.getTicks=function(){var e=this,t=e.ticks,n=[];return r(t,(function(t){var a;a=i(t)?t:{text:e.getText(t),tickValue:t,value:e.scale(t)},n.push(a)})),n},e.getText=function(e,t){var n=this.formatter;return e=n?n(e,t):e,!o(e)&&e.toString||(e=""),e.toString()},e.rangeMin=function(){return this.range[0]},e.rangeMax=function(){var e=this.range;return e[e.length-1]},e.invert=function(e){return e},e.translate=function(e){return e},e.scale=function(e){return e},e.clone=function(){var e=this,t=e.constructor,n={};return r(e,(function(t,a){n[a]=e[a]})),new t(n)},e.change=function(e){return this.ticks=null,a(this,e),this.init(),this},t}();e.exports=s},function(e,t,n){var a=n(0),r=n(23),i=a.PathUtil,o={},s={_coord:null,draw:function(e,t){return this.drawShape?this.drawShape(e,t):null},setCoord:function(e){this._coord=e},parsePath:function(e,t){var n=this._coord;return e=i.parsePathString(e),e=n.isPolar&&!1!==t?r.convertPolarPath(n,e):r.convertNormalPath(n,e)},parsePoint:function(e){return this._coord.convertPoint(e)},parsePoints:function(e){var t=this._coord,n=[];return a.each(e,(function(e){n.push(t.convertPoint(e))})),n}},l={defaultShapeType:null,setCoord:function(e){this._coord=e},getShape:function(e){a.isArray(e)&&(e=e[0]);var t=this[e]||this[this.defaultShapeType];return t._coord=this._coord,t},getShapePoints:function(e,t){var n=this.getShape(e);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(t)},getDefaultPoints:function(){return[]},getMarkerCfg:function(e,t){var n=this.getShape(e);if(!n.getMarkerCfg){var a=this.defaultShapeType;n=this.getShape(a)}return n.getMarkerCfg(t)},getSelectedCfg:function(){return{}},drawShape:function(e,t,n){var a=this.getShape(e).draw(t,n);return a&&(a.setSilent("origin",t.origin),a._id=t.yIndex?t._id+t.yIndex:t._id,a.name=this.name),a}};o.registerFactory=function(e,t){var n=a.upperFirst(e),r=a.assign({},l,t);return o[n]=r,r.name=e,r},o.registerShape=function(e,t,n){var r=a.upperFirst(e),i=o[r],l=a.assign({},s,n);return i[t]=l,l},o.getShapeFactory=function(e){return e=e||"point",this[a.upperFirst(e)]},e.exports=o},function(e,t,n){e.exports={Canvas:n(182),Group:n(101),Shape:n(6),Arc:n(105),Circle:n(106),Dom:n(107),Ellipse:n(108),Fan:n(109),Image:n(110),Line:n(111),Marker:n(57),Path:n(112),Polygon:n(113),Polyline:n(114),Rect:n(115),Text:n(116),PathSegment:n(39),PathUtil:n(58),Event:n(100),version:"3.3.6"}},function(e,t,n){var a=n(73),r=n(299),i=n(147),o=n(0),s=n(7),l=n(307),c=n(19),u=n(339),d=n(340),p=n(341),h=n(342),f=["color","shape","size"];function m(e){return(o.isString(e)||o.isPlainObject(e))&&(e=[e]),o.each(e,(function(t,n){o.isObject(t)||(e[n]={type:t})})),e}var g=function(e){var t,n;n=e,(t=g).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=g.prototype;function g(t){var n;return(n=e.call(this,t)||this).viewTheme=n.get("viewTheme"),o.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),u,d,p),n.get("container")&&n._initContainer(),n._initOptions(),n}return i.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},i._initOptions=function(){var e=this.get("adjusts");e&&(e=m(e),this.set("adjusts",e))},i._createScale=function(e,t){var n=this.get("scales"),a=n[e];return a||(a=this.get("view").createScale(e,t),n[e]=a),a},i._setAttrOptions=function(e,t){this.get("attrOptions")[e]=t},i._createAttrOption=function(e,t,n,a){var r={};r.field=t,n?o.isFunction(n)?r.callback=n:r.values=n:"color"!==e&&(r.values=a),this._setAttrOptions(e,r)},i.position=function(e){return this._setAttrOptions("position",{field:e}),this},i.color=function(e,t){var n=this.viewTheme||s;return this._createAttrOption("color",e,t,n.colors),this},i.size=function(e,t){var n=this.viewTheme||s;return this._createAttrOption("size",e,t,n.sizes),this},i.shape=function(e,t){var n=this.viewTheme||s,a=this.get("type"),r=n.shapes[a]||[];return this._createAttrOption("shape",e,t,r),this},i.opacity=function(e,t){var n=this.viewTheme||s;return this._createAttrOption("opacity",e,t,n.opacities),this},i.style=function(e,t){var n,a=this.get("styleOptions");return a||(a={},this.set("styleOptions",a)),o.isObject(e)&&(t=e,e=null),e&&(n=h(e)),a.fields=n,a.style=t,this},i.label=function(e,t,n){var a,r=this.get("labelCfg");return r||(r={},this.set("labelCfg",r)),e&&(a=h(e)),r.fields=a,o.isFunction(t)?(n||(n={}),r.callback=t):o.isObject(t)&&(n=t),r.globalCfg=n,this},i.tooltip=function(e,t){var n,a=this.get("tooltipCfg");return a||(a={}),!1===e?this.set("tooltipCfg",!1):(e&&(n=h(e)),a.fields=n,a.cfg=t),this.set("tooltipCfg",a),this},i.animate=function(e){return this.set("animateCfg",e),this},i.active=function(e,t){return!1===e?this.set("allowActive",!1):o.isObject(e)?(this.set("allowActive",!0),this.set("activedOptions",e)):(this.set("allowActive",!0),this.set("activedOptions",t)),this},i.adjust=function(e){return this.get("hasDefaultAdjust")||(e&&(e=m(e)),this.set("adjusts",e)),this},i.select=function(e,t){return!1===e?this.set("allowSelect",!1):o.isObject(e)?(this.set("allowSelect",!0),this.set("selectedOptions",e)):(this.set("allowSelect",!0),this.set("selectedOptions",t)),this},i.hasAdjust=function(e){var t=this.get("adjusts");if(!e)return!1;var n=!1;return o.each(t,(function(t){if(t.type===e)return n=!0,!1})),n},i.hasStack=function(){var e=this.get("isStacked");return o.isNil(e)&&(e=this.hasAdjust("stack"),this.set("isStacked",e)),e},i.isInCircle=function(){var e=this.get("coord");return e&&e.isPolar},i._initContainer=function(){var e=this.get("shapeContainer");if(!e){var t=this.get("container"),n=this.get("view"),a=n&&n.get("_id");e=t.addGroup({viewId:a,visible:this.get("visible")}),this.set("shapeContainer",e)}},i.init=function(){var e=this;if(e._initContainer(),e._initAttrs(),e.get("tooltipCfg")&&e.get("tooltipCfg").fields){var t=e.get("tooltipCfg").fields;o.each(t,(function(t){e._createScale(t)}))}var n=e._processData();e.get("adjusts")&&e._adjust(n),e.set("dataArray",n)},i._initAttrs=function(){var e=this.get("attrs"),t=this.get("attrOptions"),n=this.get("coord"),r=this.viewTheme||s,i=!1;for(var l in t)if(t.hasOwnProperty(l)){var c=t[l],u=o.upperFirst(l),d=h(c.field);"position"===l&&(c.coord=n,1===d.length&&"theta"===n.type&&(d.unshift("1"),i=!0));for(var p=[],f=0;f<d.length;f++){var m=d[f],g=this._createScale(m);"color"===l&&o.isNil(c.values)&&(g.values.length<=8?c.values=i?r.colors_pie:r.colors:g.values.length<=16?c.values=i?r.colors_pie_16:r.colors_16:c.values=r.colors_24,o.isNil(c.values)&&(c.values=r.colors)),p.push(g)}if("theta"===n.type&&"position"===l&&p.length>1){var v=p[1],y=Math.max.apply(null,v.values);isFinite(y)||(y=1),v.change({nice:!1,min:0,max:y})}c.scales=p;var _=new a[u](c);e[l]=_}},i._processData=function(){for(var e=this.get("data"),t=[],n=this._groupData(e),a=0;a<n.length;a++){var r=n[a],i=this._saveOrigin(r);t.push(this._numberic(i))}return t},i._groupData=function(e){var t=this._getGroupScales().map((function(e){return e.field}));return o.Array.group(e,t)},i._saveOrigin=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r={};for(var i in a)r[i]=a[i];r._origin=a,t.push(r)}return t},i._numberic=function(e){for(var t=this.getAttr("position").scales,n=[],a=0;a<e.length;a++){for(var r=e[a],i=!0,o=0;o<Math.min(2,t.length);o++){var s=t[o];if(s.isCategory){var l=s.field;r[l]=s.translate(r[l]),Number.isNaN(r[l])&&(i=!1)}}i&&n.push(r)}return n},i._getGroupScales=function(){var e=this.get("groupScales");if(!e){e=[];var t=this.get("attrs");o.each(t,(function(t){if(f.includes(t.type)){var n=t.scales;o.each(n,(function(t){t.isCategory&&-1===o.indexOf(e,t)&&e.push(t)}))}})),this.set("groupScales",e)}return e},i._updateStackRange=function(e,t,n){for(var a=o.Array.merge(n),r=t.min,i=t.max,s=0;s<a.length;s++){var l=a[s];if(o.isArray(l[e])){var c=Math.min.apply(null,l[e]),u=Math.max.apply(null,l[e]);c<r&&(r=c),u>i&&(i=u)}}(r<t.min||i>t.max)&&t.change({min:r,max:i})},i._adjust=function(e){if(e&&e.length){var t=this,n=t.get("adjusts"),a=this.viewTheme||s,i=t.getYScale(),l=t.getXScale(),c=l.field,u=i?i.field:null;o.each(n,(function(n){var s=o.mix({xField:c,yField:u},n),d=o.upperFirst(n.type);if("Dodge"===d){var p=[];if(l.isCategory||l.isIdentity)p.push("x");else{if(i)throw new Error("dodge is not support linear attribute, please use category attribute!");p.push("y")}s.adjustNames=p,s.dodgeRatio=s.dodgeRatio||a.widthRatio.column}else if("Stack"===d){var h=t.get("coord");if(!i){s.height=h.getHeight();var f=t.getDefaultValue("size")||3;s.size=f}!h.isTransposed&&o.isNil(s.reverseOrder)&&(s.reverseOrder=!0)}new r[d](s).processAdjust(e),"Stack"===d&&i&&t._updateStackRange(u,i,e)}))}},i.setCoord=function(e){this.set("coord",e);var t=this.getAttr("position");this.get("shapeContainer").setMatrix(e.matrix),t&&(t.coord=e)},i.paint=function(){var e=this.get("dataArray"),t=[],n=this.getShapeFactory();n.setCoord(this.get("coord")),this.set("shapeFactory",n);var a=this.get("shapeContainer");this._beforeMapping(e);for(var r=0;r<e.length;r++){var i=e[r],s=r;i=this._mapping(i),t.push(i),this.draw(i,a,n,s)}this.get("labelCfg")&&this._addLabels(o.union.apply(null,t),a.get("children")),this.get("sortable")?this.set("dataArray",t):this._sort(t)},i._sort=function(e){var t=this.getXScale(),n=t.field;o.each(e,(function(e){e.sort((function(e,a){return t.translate(e._origin[n])-t.translate(a._origin[n])}))})),this.set("dataArray",e)},i._beforeMapping=function(e){var t=this;if(t.get("sortable")){var n=t.getXScale(),a=n.field;o.each(e,(function(e){e.sort((function(e,t){return n.translate(e[a])-n.translate(t[a])}))}))}t.get("generatePoints")&&(o.each(e,(function(e){t._generatePoints(e)})),o.each(e,(function(t,n){var a=e[n+1];a&&(t[0].nextPoints=a[0].points)})))},i._addLabels=function(e,t){var n=this,a=n.get("type"),r=n.get("viewTheme")||s,i=n.get("coord"),c=l.getLabelsClass(i.type,a),u=n.get("container"),d=o.map(n.get("labelCfg").fields,(function(e){return n._createScale(e)})),p=u.addGroup(c,{_id:this.get("_id"),labelCfg:o.mix({scales:d},n.get("labelCfg")),coord:i,geom:n,geomType:a,yScale:n.getYScale(),viewTheme:r,visible:n.get("visible")});p.showLabels(e,t),n.set("labelContainer",p)},i.getShapeFactory=function(){var e=this.get("shapeFactory");if(!e){var t=this.get("shapeType");e=c.getShapeFactory(t),this.set("shapeFactory",e)}return e},i._generatePoints=function(e){for(var t=this.getShapeFactory(),n=this.getAttr("shape"),a=0;a<e.length;a++){var r=e[a],i=this.createShapePointsCfg(r),o=n?this._getAttrValues(n,r):null,s=t.getShapePoints(o,i);r.points=s}},i.createShapePointsCfg=function(e){var t=this.getXScale(),n=this.getYScale();return{x:this._normalizeValues(e[t.field],t),y:n?this._normalizeValues(e[n.field],n):e.y?e.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},i.getYMinValue=function(){var e=this.getYScale(),t=e.min,n=e.max;return t>=0?t:n<=0?n:0},i._normalizeValues=function(e,t){var n=[];if(o.isArray(e))for(var a=0;a<e.length;a++){var r=e[a];n.push(t.scale(r))}else n=t.scale(e);return n},i._mapping=function(e){for(var t=this.get("attrs"),n=[],a=0;a<e.length;a++){var r=e[a],i={};for(var s in i._origin=r._origin,i.points=r.points,i.nextPoints=r.nextPoints,t)if(t.hasOwnProperty(s)){var l=t[s],c=l.names,u=this._getAttrValues(l,r);if(c.length>1)for(var d=0;d<u.length;d++){var p=u[d];i[c[d]]=o.isArray(p)&&1===p.length?p[0]:p}else i[c[0]]=1===u.length?u[0]:u}n.push(i)}return n},i._getAttrValues=function(e,t){for(var n=e.scales,a=[],r=0;r<n.length;r++){var i=n[r],o=i.field;"identity"===i.type?a.push(i.value):a.push(t[o])}return e.mapping.apply(e,a)},i.getAttrValue=function(e,t){var n=this.getAttr(e),a=null;return n&&(a=this._getAttrValues(n,t)[0]),a},i.getDefaultValue=function(e){var t=this.get(e),n=this.getAttr(e);if(n){var a=n.getScale(e);"identity"===a.type&&(t=a.value)}return t},i.draw=function(e,t,n,a){for(var r=0;r<e.length;r++){var i=e[r];this.drawPoint(i,t,n,a+r)}},i.getCallbackCfg=function(e,t,n){if(!e)return t;var a={},r=e.map((function(e){return n[e]}));return o.each(t,(function(e,t){o.isFunction(e)?a[t]=e.apply(null,r):a[t]=e})),a},i._getShapeId=function(e){var t=this.get("_id"),n=this.get("keyFields");if(n&&n.length>0)o.each(n,(function(n){t+="-"+e[n]}));else{var a,r=this.get("type"),i=this.getXScale(),s=this.getYScale(),l=i.field||"x",c=s.field||"y",u=e[c];a=i.isIdentity?i.value:e[l],t+="interval"===r||"schema"===r?"-"+a:"line"===r||"area"===r||"path"===r?"-"+r:"-"+a+"-"+u;var d=this._getGroupScales();o.isEmpty(d)||o.each(d,(function(n){var a=n.field;"identity"!==n.type&&(t+="-"+e[a])}))}return t},i.getDrawCfg=function(e){var t={origin:e,x:e.x,y:e.y,color:e.color,size:e.size,shape:e.shape,isInCircle:this.isInCircle(),opacity:e.opacity},n=this.get("styleOptions");return n&&n.style&&(t.style=this.getCallbackCfg(n.fields,n.style,e._origin)),this.get("generatePoints")&&(t.points=e.points,t.nextPoints=e.nextPoints),this.get("animate")&&(t._id=this._getShapeId(e._origin)),t},i.appendShapeInfo=function(e,t){e&&(e.setSilent("index",t),e.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&e.setSilent("animateCfg",this.get("animateCfg")))},i._applyViewThemeShapeStyle=function(e,t,n){var a=this.viewTheme||s,r=n.name;t?t&&(t.indexOf("hollow")>-1||t.indexOf("liquid")>-1)&&(r="hollow"+o.upperFirst(r)):n.defaultShapeType.indexOf("hollow")>-1&&(r="hollow"+o.upperFirst(r));var i=a.shape[r]||{};e.style=o.mix({},i,e.style)},i.drawPoint=function(e,t,n,a){var r=e.shape,i=this.getDrawCfg(e);this._applyViewThemeShapeStyle(i,r,n);var o=n.drawShape(r,i,t);this.appendShapeInfo(o,a)},i.getAttr=function(e){return this.get("attrs")[e]},i.getXScale=function(){return this.getAttr("position").scales[0]},i.getYScale=function(){return this.getAttr("position").scales[1]},i.getShapes=function(){var e=[],t=this.get("shapeContainer").get("children");return o.each(t,(function(t){t.get("origin")&&e.push(t)})),e},i.getAttrsForLegend=function(){var e=this.get("attrs"),t=[];return o.each(e,(function(e){f.includes(e.type)&&t.push(e)})),t},i.getFieldsForLegend=function(){var e=[],t=this.get("attrOptions");return o.each(f,(function(n){var a=t[n];a&&a.field&&o.isString(a.field)&&(e=e.concat(a.field.split("*")))})),o.uniq(e)},i.changeVisible=function(e,t){this.set("visible",e);var n=this.get("shapeContainer");n&&n.set("visible",e);var a=this.get("labelContainer");a&&a.set("visible",e),!t&&n&&n.get("canvas").draw()},i.reset=function(){this.set("attrOptions",{}),this.clearInner()},i.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var e=this.get("shapeContainer");e&&e.clear();var t=this.get("labelContainer");t&&t.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},i.clear=function(){this.clearInner(),this.set("scales",{})},i.destroy=function(){this.clear();var t=this.get("shapeContainer");t&&t.remove(),this.offEvents(),e.prototype.destroy.call(this)},i.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},i.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},g}(i);e.exports=g},function(e,t,n){e.exports={Axis:n(308),Component:n(67),Guide:n(316),Label:n(325),Legend:n(326),Tooltip:n(332)}},function(e,t,n){var a=n(0),r=n(336);function i(e,t){var n=e.getCenter();return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function o(e,t){for(var n=e.length,a=[e[0]],r=1;r<n;r+=2){var i=t.convertPoint({x:e[r],y:e[r+1]});a.push(i.x,i.y)}return a}var s={getLinePath:function(e,t){return function(e,t){if(!e.length)return[];for(var n=[],a=0,r=e.length;a<r;a++){var i=e[a];0===a?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}return t&&n.push(["Z"]),n}(e,t)},getSplinePath:function(e,t,n){var i=[],o=e[0],l=null;if(e.length<=2)return s.getLinePath(e,t);a.each(e,(function(e){l&&l.x===e.x&&l.y===e.y||(i.push(e.x),i.push(e.y),l=e)})),n=n||[[0,0],[1,1]];var c=r.catmullRom2bezier(i,t,n);return c.unshift(["M",o.x,o.y]),c},getPointRadius:function(e,t){return i(e,t)},getPointAngle:function(e,t){var n=e.getCenter();return Math.atan2(t.y-n.y,t.x-n.x)},convertNormalPath:function(e,t){var n=[];return a.each(t,(function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(o(t,e));break;case"z":default:n.push(t)}})),n},convertPolarPath:function(e,t){var n,r,s=[];return a.each(t,(function(a,l){switch(a[0].toLowerCase()){case"m":case"c":case"q":s.push(o(a,e));break;case"l":n=t[l-1],r=a,(e.isTransposed?n[n.length-2]===r[1]:n[n.length-1]===r[2])?s=s.concat(function(e,t,n){var a=n.isTransposed,r=n.startAngle,o=n.endAngle,s={x:e[1],y:e[2]},l={x:t[1],y:t[2]},c=[],u=a?"y":"x",d=Math.abs(l[u]-s[u])*(o-r),p=l[u]>=s[u]?1:0,h=d>Math.PI?1:0,f=n.convertPoint(l),m=i(n,f);if(m>=.5)if(d===2*Math.PI){var g={x:(l.x+s.x)/2,y:(l.y+s.y)/2},v=n.convertPoint(g);c.push(["A",m,m,0,h,p,v.x,v.y]),c.push(["A",m,m,0,h,p,f.x,f.y])}else c.push(["A",m,m,0,h,p,f.x,f.y]);return c}(n,r,e)):s.push(o(a,e));break;case"z":default:s.push(a)}})),function(e){a.each(e,(function(t,n){if("a"===t[0].toLowerCase()){var a=e[n-1],r=e[n+1];r&&"a"===r[0].toLowerCase()?a&&"l"===a[0].toLowerCase()&&(a[0]="M"):a&&"a"===a[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M")}}))}(s),s}};e.exports=s},function(e,t,n){var a=n(5);e.exports=function(e){return a(e)?"":e.toString()}},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t="undefined"===typeof e?"undefined":n(e);return null!==e&&"object"===t||"function"===t}},function(e,t,n){var a=n(49),r=n(12);e.exports=function(e){if(!a(e)||!r(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){var a=n(1),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,i=/[^\s\,]+/gi,o={};e.exports={parseRadius:function(e){var t=0,n=0,r=0,i=0;return a.isArray(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}},parsePath:function(e){return e=e||[],a.isArray(e)?e:a.isString(e)?(e=e.match(r),a.each(e,(function(t,n){if((t=t.match(i))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}a.each(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},numberToColor:function(e){var t=o[e];if(!t){for(var n=e.toString(16),a=n.length;a<6;a++)n="0"+n;t="#"+n,o[e]=t}return t}}},function(e,t,n){"use strict";t.c=function(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(a.a)(isNaN(e)?t:e)},t.b=function(e){return 1===(e=+e)?i:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):Object(a.a)(isNaN(t)?n:t)}},t.a=i;var a=n(120);function r(e,t){return function(n){return e+n*t}}function i(e,t){var n=t-e;return n?r(e,n):Object(a.a)(isNaN(e)?t:e)}},function(e,t,n){var a=n(10),r=n(4),i=n(5),o=n(8),s=n(2);function l(e,t){return a(t)?t:e.invert(e.scale(t))}var c=function(){function e(e){var t=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var n=null,a=this.callback;if(e.callback){var r=e.callback;n=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s=r.apply(void 0,n);return i(s)&&(s=a.apply(t,n)),s}}o(this,e),n&&o(this,{callback:n})}var t=e.prototype;return t._getAttrValue=function(e,t){var n=this.values;if(e.isCategory&&!this.linear)return n[e.translate(t)%n.length];var a=e.scale(t);return this.getLinearValue(a)},t.getLinearValue=function(e){var t=this.values,n=t.length-1,a=Math.floor(n*e),r=n*e-a,i=t[a];return i+((a===n?i:t[a+1])-i)*r},t.callback=function(e){var t=this.scales[0];return"identity"===t.type?t.value:this._getAttrValue(t,e)},t.getNames=function(){for(var e=this.scales,t=this.names,n=Math.min(e.length,t.length),a=[],r=0;r<n;r++)a.push(t[r]);return a},t.getFields=function(){var e=this.scales,t=[];return s(e,(function(e){t.push(e.field)})),t},t.getScale=function(e){return this.scales[this.names.indexOf(e)]},t.mapping=function(){for(var e=this.scales,t=this.callback,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];var i=a;if(t){for(var o=0,s=a.length;o<s;o++)a[o]=this._toOriginParam(a[o],e[o]);i=t.apply(this,a)}return i=[].concat(i)},t._toOriginParam=function(e,t){var n=e;if(!t.isLinear)if(r(e)){n=[];for(var a=0,i=e.length;a<i;a++)n.push(l(t,e[a]))}else n=l(t,e);return n},e}();e.exports=c},function(e,t,n){var a=n(8),r=function(){var e=t.prototype;function t(e){this._initDefaultCfg(),a(this,e)}return e._initDefaultCfg=function(){this.adjustNames=["x","y"]},e.processAdjust=function(){},t}();e.exports=r},function(e,t,n){var a=n(32),r=n(3),i=n(152),o=n(153),s=n(14).FONT_FAMILY,l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return r.mix({},t,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},l.beforeRender=function(){var e=this.get("title"),t=this.get("label"),n=this.get("grid");e&&this.set("title",r.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s,textAlign:"center"},offset:48},e)),t&&this.set("label",r.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:s},offset:10},t)),n&&this.set("grid",r.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},n))},l.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),r.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},l.renderLabels=function(){var e=this.get("group"),t=this.get("label"),n=new o({name:"axis-label"});this.set("labelRenderer",n),n.set("labelCfg",t),r.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],(function(e){t[e]&&n.set(e,t[e])})),n.set("coord",this.get("coord")),n.set("group",e.addGroup()),n.set("canvas",this.get("canvas"))},l._parseTicks=function(e){for(var t=(e=e||[]).length,n=0;n<t;n++){var a=e[n];r.isObject(a)||(e[n]=this.parseTick(a,n,t))}return this.set("ticks",e),e},l._addTickItem=function(e,t,n,a){void 0===a&&(a="");var r=this.get("tickItems"),i=this.get("subTickItems"),o=this.getTickEnd(t,n,e),s={x1:t.x,y1:t.y,x2:o.x,y2:o.y};r||(r=[]),i||(i=[]),"sub"===a?i.push(s):r.push(s),this.set("tickItems",r),this.set("subTickItems",i)},l._renderLine=function(){var e,t=this.get("line");if(t){e=this.getLinePath(),t=r.mix({path:e},t);var n=this.get("group").addShape("path",{attrs:t});n.name="axis-line",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",n)}},l._processCatTicks=function(){var e=this.get("label"),t=this.get("tickLine"),n=this.get("ticks");n=this._parseTicks(n);for(var a=this._getNormalizedTicks(n),r=0;r<a.length;r+=3){var i=this.getTickPoint(a[r]),o=this.getTickPoint(a[r+1]),s=this.getTickPoint(a[r+2]),l=Math.floor(r/3),c=n[l];t&&(0===l&&this._addTickItem(l,o,t.length),this._addTickItem(l,s,t.length)),e&&this.addLabel(c,i,l)}},l._getNormalizedTicks=function(e){var t=0;e.length>1&&(t=(e[1].value-e[0].value)/2);for(var n=[],a=0;a<e.length;a++){var i=e[a],o=i.value,s=i.value-t,l=i.value+t;n.push(o,s,l)}var c=r.arrayUtil.getRange(n);return n.map((function(e){return(e-c.min)/(c.max-c.min)}))},l.addLabel=function(e,t,n){var a=this.get("labelItems"),i=this.get("labelRenderer"),o=r.deepMix({},this.get("label"));if(i){var s=this.get("_labelOffset");r.isNil(this.get("label").offset)||(s=this.get("label").offset);var l=this.getSideVector(s,t,n);t={x:t.x+l[0]+o.offsetX,y:t.y+l[1]+o.offsetY},o.text=e.text,o.x=t.x,o.y=t.y,o.point=t,o.textAlign=this.getTextAnchor(l),t.rotate&&(o.rotate=t.rotate),a.push(o)}},l._processTicks=function(){var e=this,t=e.get("label"),n=e.get("subTickCount"),a=e.get("tickLine"),i=e.get("ticks");if(i=e._parseTicks(i),r.each(i,(function(n,r){var i=e.getTickPoint(n.value,r);a&&e._addTickItem(r,i,a.length),t&&e.addLabel(n,i,r)})),n){var o=e.get("subTickLine");r.each(i,(function(t,r){if(r>0){var s=t.value-i[r-1].value;s/=e.get("subTickCount")+1;for(var l=1;l<=n;l++){var c={text:"",value:r?i[r-1].value+l*s:l*s},u=e.getTickPoint(c.value),d=void 0;d=o&&o.length?o.length:parseInt(.6*a.length,10),e._addTickItem(l-1,u,d,"sub")}}}))}},l._addTickLine=function(e,t){var n=r.mix({},t),a=[];r.each(e,(function(e){a.push(["M",e.x1,e.y1]),a.push(["L",e.x2,e.y2])})),delete n.length,n.path=a;var i=this.get("group").addShape("path",{attrs:n});i.name="axis-ticks",i._id=this.get("_id")+"-ticks",i.set("coord",this.get("coord")),this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo"))},l._renderTicks=function(){var e=this.get("tickItems"),t=this.get("subTickItems");if(!r.isEmpty(e)){var n=this.get("tickLine");this._addTickLine(e,n)}if(!r.isEmpty(t)){var a=this.get("subTickLine")||this.get("tickLine");this._addTickLine(t,a)}},l._renderGrid=function(){var e=this.get("grid");if(e){e.coord=this.get("coord"),e.appendInfo=this.get("appendInfo");var t=this.get("group");this.set("gridGroup",t.addGroup(i,e))}},l._renderLabels=function(){var e=this.get("labelRenderer"),t=this.get("labelItems");e&&(e.set("items",t),e._dryDraw())},l.paint=function(){var e=this.get("tickLine"),t=!0;e&&e.hasOwnProperty("alignWithLabel")&&(t=e.alignWithLabel),this._renderLine();var n=this.get("type");"cat"!==n&&"timeCat"!==n||!1!==t?this._processTicks():this._processCatTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var a=this.get("label");a&&a.autoRotate&&this.autoRotateLabels(),a&&a.autoHide&&this.autoHideLabels()},l.parseTick=function(e,t,n){return{text:e,value:t/(n-1)}},l.getTextAnchor=function(e){return Math.abs(e[1]/e[0])>=1?"center":e[0]>0?"start":"end"},l.getMaxLabelWidth=function(e){var t=e.getLabels(),n=0;return r.each(t,(function(e){var t=e.getBBox().width;n<t&&(n=t)})),n},l.getMaxLabelHeight=function(e){var t=e.getLabels(),n=0;return r.each(t,(function(e){var t=e.getBBox().height;n<t&&(n=t)})),n},l.destroy=function(){if(!this.destroyed){var t=this.get("gridGroup");t&&t.remove();var n=this.get("labelRenderer");n&&n.destroy(),this.get("group").destroy(),e.prototype.destroy.call(this)}},l.clear=function(){var e=this.get("group");if(!e.get("destroyed")&&e.get("children").length){var t=this.get("gridGroup");t&&t.clear();var n=this.get("labelRenderer");n&&n.clear(),this.get("group").clear()}},l.autoRotateLabels=function(){},l.autoHideLabels=function(){},l.renderTitle=function(){},l.getLinePath=function(){},l.getTickPoint=function(){},l.getTickEnd=function(){},l.getSideVector=function(){},a}(a);e.exports=l},function(e,t,n){var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},r._init=function(){},r.clear=function(){},r.destroy=function(){e.prototype.destroy.call(this)},r.beforeRender=function(){},r.render=function(){},r.afterRender=function(){},r.beforeDraw=function(){},r.draw=function(){},r.afterDraw=function(){},r.show=function(){},r.hide=function(){},r.setOffset=function(){},r.setPosition=function(){},r.setVisible=function(){},r.setZIndex=function(){},a}(n(67));e.exports=a},function(e,t,n){var a=n(5),r=n(2),i=n(18),o=n(175),s=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="linear",this.isLinear=!0,this.nice=!1,this.min=null,this.minLimit=null,this.max=null,this.maxLimit=null,this.tickCount=null,this.tickInterval=null,this.minTickInterval=null,this.snapArray=null},s.init=function(){if(this.ticks){var e=this.ticks,t=this.translate(e[0]),n=this.translate(e[e.length-1]);(a(this.min)||this.min>t)&&(this.min=t),(a(this.max)||this.max<n)&&(this.max=n)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},s.calculateTicks=function(){var e=this.min,t=this.max,n=this.minLimit,a=this.maxLimit,r=this.tickCount,i=this.tickInterval,s=this.minTickInterval,l=this.snapArray;if(1===r)throw new Error("linear scale'tickCount should not be 1");if(t<e)throw new Error("max: "+t+" should not be less than min: "+e);return o({min:e,max:t,minLimit:n,maxLimit:a,minCount:r,maxCount:r,interval:i,minTickInterval:s,snapArray:l}).ticks},s.initTicks=function(){var e=this,t=e.calculateTicks();if(e.nice)e.ticks=t,e.min=t[0],e.max=t[t.length-1];else{var n=[];r(t,(function(t){t>=e.min&&t<=e.max&&n.push(t)})),n.length||(n.push(e.min),n.push(e.max)),e.ticks=n}},s.scale=function(e){if(a(e))return NaN;var t=this.max,n=this.min;if(t===n)return 0;var r=(e-n)/(t-n),i=this.rangeMin();return i+r*(this.rangeMax()-i)},s.invert=function(e){var t=(e-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+t*(this.max-this.min)},i}(i);i.Linear=s,e.exports=s},function(e,t,n){var a=n(13);e.exports=function(e){return a(e)?Array.prototype.slice.call(e):[]}},function(e,t){e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(e-t)<n}},function(e,t,n){var a=n(1).vec2;e.exports={at:function(e,t,n){return(t-e)*n+e},pointDistance:function(e,t,n,r,i,o){var s=[n-e,r-t];if(a.exactEquals(s,[0,0]))return NaN;var l=[-s[1],s[0]];a.normalize(l,l);var c=[i-e,o-t];return Math.abs(a.dot(c,l))},box:function(e,t,n,a,r){var i=r/2,o=Math.min(e,n),s=Math.max(e,n);return{minX:o-i,minY:Math.min(t,a)-i,maxX:s+i,maxY:Math.max(t,a)+i}},len:function(e,t,n,a){return Math.sqrt((n-e)*(n-e)+(a-t)*(a-t))}}},function(e,t,n){var a=n(1);function r(e,t,n,a){return{x:Math.cos(a)*n+e,y:Math.sin(a)*n+t}}function i(e,t,n,a){var r,i;return a?e<t?(r=t-e,i=2*Math.PI-n+e):e>n&&(r=2*Math.PI-e+t,i=e-n):(r=e-t,i=n-e),r>i?n:t}function o(e,t,n,r){var o=0;return n-t>=2*Math.PI&&(o=2*Math.PI),t=a.mod(t,2*Math.PI),n=a.mod(n,2*Math.PI)+o,e=a.mod(e,2*Math.PI),r?t>=n?e>n&&e<t?e:i(e,n,t,!0):e<t||e>n?e:i(e,t,n):t<=n?t<e&&e<n?e:i(e,t,n,!0):e>t||e<n?e:i(e,n,t)}function s(e,t,n,r,i,s,l,c,u){var d=[l,c],p=[e,t],h=a.vec2.subtract([],d,p),f=a.vec2.angleTo([1,0],h);f=o(f,r,i,s);var m=[n*Math.cos(f)+e,n*Math.sin(f)+t];return u&&(u.x=m[0],u.y=m[1]),a.vec2.distance(m,d)}e.exports={nearAngle:o,projectPoint:function(e,t,n,a,r,i,o,l){var c={};return s(e,t,n,a,r,i,o,l,c),c},pointDistance:s,box:function(e,t,n,i,s,l){var c=Math.PI/2,u=Math.PI,d=3*Math.PI/2,p=[],h=o(0,i,s,l);0===h&&p.push(r(e,t,n,0)),(h=o(c,i,s,l))===c&&p.push(r(e,t,n,c)),(h=o(u,i,s,l))===u&&p.push(r(e,t,n,u)),(h=o(d,i,s,l))===d&&p.push(r(e,t,n,d)),p.push(r(e,t,n,i)),p.push(r(e,t,n,s));var f=1/0,m=-1/0,g=1/0,v=-1/0;return a.each(p,(function(e){f>e.x&&(f=e.x),m<e.x&&(m=e.x),g>e.y&&(g=e.y),v<e.y&&(v=e.y)})),{minX:f,minY:g,maxX:m,maxY:v}}}},function(e,t,n){var a=n(27),r=n(39),i=Math.PI,o=Math.sin,s=Math.cos,l=Math.atan2,c=10,u=i/3;function d(e,t,n,a,r,d,p){var h,f,m,g,v,y,_;if(!t.fill){var b=t.arrowLength||c,w=t.arrowAngle?t.arrowAngle*i/180:u;_=l(a-d,n-r),v=Math.abs(t.lineWidth*s(_))/2,y=Math.abs(t.lineWidth*o(_))/2,p&&(v=-v,y=-y),h=r+b*s(_+w/2),f=d+b*o(_+w/2),m=r+b*s(_-w/2),g=d+b*o(_-w/2),e.beginPath(),e.moveTo(h-v,f-y),e.lineTo(r-v,d-y),e.lineTo(m-v,g-y),e.moveTo(r-v,d-y),e.lineTo(r+v,d+y),e.moveTo(r,d),e.stroke()}}function p(e,t,n,i,o,s,l){var c=l?t.startArrow:t.endArrow,u=c.d,d=0,p=o-n,h=s-i,f=Math.atan(p/h);0===h&&p<0?d=Math.PI:p>0&&h>0?d=Math.PI/2-f:p<0&&h<0?d=-Math.PI/2-f:p>=0&&h<0?d=-f-Math.PI/2:p<=0&&h>0&&(d=Math.PI/2-f);var m=function(e){var t,n=[],i=a.parsePath(e.path);if(!Array.isArray(i)||0===i.length||"M"!==i[0][0]&&"m"!==i[0][0])return!1;for(var o=i.length,s=0;s<i.length;s++){var l=i[s];t=new r(l,t,s===o-1),n.push(t)}return n}(c);if(m){u&&(l?(o+=Math.sin(Math.abs(f))*u,s=s+Math.cos(Math.abs(f))*u-.5*e.lineWidth):(o-=Math.sin(Math.abs(f))*u,s=s-Math.cos(Math.abs(f))*u+.5*e.lineWidth)),e.save(),e.beginPath(),e.translate(o,s),e.rotate(d);for(var g=0;g<m.length;g++)m[g].draw(e);e.setTransform(1,0,0,1,0,0),e.fillStyle=e.strokeStyle,e.fill(),e.restore()}}e.exports={addStartArrow:function(e,t,n,a,r,i){"object"===typeof t.startArrow?p(e,t,n,a,r,i,!0):t.startArrow&&d(e,t,n,a,r,i,!0)},addEndArrow:function(e,t,n,a,r,i){"object"===typeof t.endArrow?p(e,t,n,a,r,i,!1):t.endArrow&&d(e,t,n,a,r,i,!1)}}},function(e,t,n){var a=n(1),r=n(55),i=n(56),o=n(103),s=n(104),l=a.vec3,c=a.mat3,u=["m","l","c","a","q","h","v","t","s","z"];function d(e,t,n){return{x:n.x+e,y:n.y+t}}function p(e,t){return{x:t.x+(t.x-e.x),y:t.y+(t.y-e.y)}}function h(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function f(e,t){return(e[0]*t[0]+e[1]*t[1])/(h(e)*h(t))}function m(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(f(e,t))}var g=function(e,t,n){this.preSegment=t,this.isLast=n,this.init(e,t)};a.augment(g,{init:function(e,t){var n=e[0];t=t||{endPoint:{x:0,y:0}};var r,i,o,s,l=u.indexOf(n)>=0,c=l?n.toUpperCase():n,h=e,g=t.endPoint,v=h[1],y=h[2];switch(c){default:break;case"M":s=l?d(v,y,g):{x:v,y:y},this.command="M",this.params=[g,s],this.subStart=s,this.endPoint=s;break;case"L":s=l?d(v,y,g):{x:v,y:y},this.command="L",this.params=[g,s],this.subStart=t.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-g.x,s.y-g.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"H":s=l?d(v,0,g):{x:v,y:g.y},this.command="L",this.params=[g,s],this.subStart=t.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-g.x,s.y-g.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"V":s=l?d(0,v,g):{x:g.x,y:v},this.command="L",this.params=[g,s],this.subStart=t.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-g.x,s.y-g.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"Q":l?(r=d(v,y,g),i=d(h[3],h[4],g)):(r={x:v,y:y},i={x:h[3],y:h[4]}),this.command="Q",this.params=[g,r,i],this.subStart=t.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-r.x,i.y-r.y]},this.startTangent=function(){return[g.x-r.x,g.y-r.y]};break;case"T":i=l?d(v,y,g):{x:v,y:y},"Q"===t.command?(r=p(t.params[1],g),this.command="Q",this.params=[g,r,i],this.subStart=t.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-r.x,i.y-r.y]},this.startTangent=function(){return[g.x-r.x,g.y-r.y]}):(this.command="TL",this.params=[g,i],this.subStart=t.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-g.x,i.y-g.y]},this.startTangent=function(){return[g.x-i.x,g.y-i.y]});break;case"C":l?(r=d(v,y,g),i=d(h[3],h[4],g),o=d(h[5],h[6],g)):(r={x:v,y:y},i={x:h[3],y:h[4]},o={x:h[5],y:h[6]}),this.command="C",this.params=[g,r,i,o],this.subStart=t.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[g.x-r.x,g.y-r.y]};break;case"S":l?(i=d(v,y,g),o=d(h[3],h[4],g)):(i={x:v,y:y},o={x:h[3],y:h[4]}),"C"===t.command?(r=p(t.params[2],g),this.command="C",this.params=[g,r,i,o],this.subStart=t.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[g.x-r.x,g.y-r.y]}):(this.command="SQ",this.params=[g,i,o],this.subStart=t.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[g.x-i.x,g.y-i.y]});break;case"A":var _=v,b=y,w=h[3],E=h[4],T=h[5];s=l?d(h[6],h[7],g):{x:h[6],y:h[7]},this.command="A";var x=function(e,t,n,r,i,o,s){var l=a.mod(a.toRadian(s),2*Math.PI),c=e.x,u=e.y,d=t.x,p=t.y,h=Math.cos(l)*(c-d)/2+Math.sin(l)*(u-p)/2,g=-1*Math.sin(l)*(c-d)/2+Math.cos(l)*(u-p)/2,v=h*h/(i*i)+g*g/(o*o);v>1&&(i*=Math.sqrt(v),o*=Math.sqrt(v));var y=i*i*(g*g)+o*o*(h*h),_=Math.sqrt((i*i*(o*o)-y)/y);n===r&&(_*=-1),isNaN(_)&&(_=0);var b=_*i*g/o,w=_*-o*h/i,E=(c+d)/2+Math.cos(l)*b-Math.sin(l)*w,T=(u+p)/2+Math.sin(l)*b+Math.cos(l)*w,x=m([1,0],[(h-b)/i,(g-w)/o]),C=[(h-b)/i,(g-w)/o],S=[(-1*h-b)/i,(-1*g-w)/o],k=m(C,S);return f(C,S)<=-1&&(k=Math.PI),f(C,S)>=1&&(k=0),0===r&&k>0&&(k-=2*Math.PI),1===r&&k<0&&(k+=2*Math.PI),[e,E,T,i,o,x,k,l,r]}(g,s,E,T,_,b,w);this.params=x;var C=t.subStart;this.subStart=C,this.endPoint=s;var S=x[5]%(2*Math.PI);a.isNumberEqual(S,2*Math.PI)&&(S=0);var k=x[6]%(2*Math.PI);a.isNumberEqual(k,2*Math.PI)&&(k=0);var O=.001;this.startTangent=function(){0===T&&(O*=-1);var e=x[3]*Math.cos(S-O)+x[1],t=x[4]*Math.sin(S-O)+x[2];return[e-C.x,t-C.y]},this.endTangent=function(){var e=x[6];e-2*Math.PI<1e-4&&(e=0);var t=x[3]*Math.cos(S+e+O)+x[1],n=x[4]*Math.sin(S+e-O)+x[2];return[g.x-t,g.y-n]};break;case"Z":this.command="Z",this.params=[g,t.subStart],this.subStart=t.subStart,this.endPoint=t.subStart}},isInside:function(e,t,n){var a=this.command,i=this.params,o=this.box;if(o&&!r.box(o.minX,o.maxX,o.minY,o.maxY,e,t))return!1;switch(a){default:break;case"M":return!1;case"TL":case"L":case"Z":return r.line(i[0].x,i[0].y,i[1].x,i[1].y,n,e,t);case"SQ":case"Q":return r.quadraticline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,n,e,t);case"C":return r.cubicline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y,n,e,t);case"A":var s=i,u=s[1],d=s[2],p=s[3],h=s[4],f=s[5],m=s[6],g=s[7],v=s[8],y=p>h?p:h,_=p>h?1:p/h,b=p>h?h/p:1;s=[e,t,1];var w=[1,0,0,0,1,0,0,0,1];return c.translate(w,w,[-u,-d]),c.rotate(w,w,-g),c.scale(w,w,[1/_,1/b]),l.transformMat3(s,s,w),r.arcline(0,0,y,f,f+m,1-v,n,s[0],s[1])}return!1},draw:function(e){var t,n,a,r=this.command,i=this.params;switch(r){default:break;case"M":e.moveTo(i[1].x,i[1].y);break;case"TL":case"L":e.lineTo(i[1].x,i[1].y);break;case"SQ":case"Q":t=i[1],n=i[2],e.quadraticCurveTo(t.x,t.y,n.x,n.y);break;case"C":t=i[1],n=i[2],a=i[3],e.bezierCurveTo(t.x,t.y,n.x,n.y,a.x,a.y);break;case"A":var o=i,s=o[1],l=o[2],c=o[3],u=o[4],d=o[5],p=o[6],h=o[7],f=o[8],m=c>u?c:u,g=c>u?1:c/u,v=c>u?u/c:1;e.translate(s,l),e.rotate(h),e.scale(g,v),e.arc(0,0,m,d,d+p,1-f),e.scale(1/g,1/v),e.rotate(-h),e.translate(-s,-l);break;case"Z":e.closePath()}},getBBox:function(e){var t,n,a,r,l=e/2,c=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(c[0].x,c[1].x)-l,maxX:Math.max(c[0].x,c[1].x)+l,minY:Math.min(c[0].y,c[1].y)-l,maxY:Math.max(c[0].y,c[1].y)+l};break;case"SQ":case"Q":for(a=0,r=(n=o.extrema(c[0].x,c[1].x,c[2].x)).length;a<r;a++)n[a]=o.at(c[0].x,c[1].x,c[2].x,n[a]);for(n.push(c[0].x,c[2].x),a=0,r=(t=o.extrema(c[0].y,c[1].y,c[2].y)).length;a<r;a++)t[a]=o.at(c[0].y,c[1].y,c[2].y,t);t.push(c[0].y,c[2].y),this.box={minX:Math.min.apply(Math,n)-l,maxX:Math.max.apply(Math,n)+l,minY:Math.min.apply(Math,t)-l,maxY:Math.max.apply(Math,t)+l};break;case"C":for(a=0,r=(n=i.extrema(c[0].x,c[1].x,c[2].x,c[3].x)).length;a<r;a++)n[a]=i.at(c[0].x,c[1].x,c[2].x,c[3].x,n[a]);for(a=0,r=(t=i.extrema(c[0].y,c[1].y,c[2].y,c[3].y)).length;a<r;a++)t[a]=i.at(c[0].y,c[1].y,c[2].y,c[3].y,t[a]);n.push(c[0].x,c[3].x),t.push(c[0].y,c[3].y),this.box={minX:Math.min.apply(Math,n)-l,maxX:Math.max.apply(Math,n)+l,minY:Math.min.apply(Math,t)-l,maxY:Math.max.apply(Math,t)+l};break;case"A":var u=c,d=u[1],p=u[2],h=u[3],f=u[4],m=u[5],g=u[6],v=u[7],y=u[8],_=m,b=m+g,w=s.xExtrema(v,h,f),E=1/0,T=-1/0,x=[_,b];for(a=2*-Math.PI;a<=2*Math.PI;a+=Math.PI){var C=w+a;1===y?_<C&&C<b&&x.push(C):b<C&&C<_&&x.push(C)}for(a=0,r=x.length;a<r;a++){var S=s.xAt(v,h,f,d,x[a]);S<E&&(E=S),S>T&&(T=S)}var k=s.yExtrema(v,h,f),O=1/0,M=-1/0,L=[_,b];for(a=2*-Math.PI;a<=2*Math.PI;a+=Math.PI){var D=k+a;1===y?_<D&&D<b&&L.push(D):b<D&&D<_&&L.push(D)}for(a=0,r=L.length;a<r;a++){var R=s.yAt(v,h,f,p,L[a]);R<O&&(O=R),R>M&&(M=R)}this.box={minX:E-l,maxX:T+l,minY:O-l,maxY:M+l}}}}),e.exports=g},function(e,t,n){"use strict";t.a=function(e,t){return t-=e=+e,function(n){return e+t*n}}},function(e,t,n){var a=n(13),r=Array.prototype.indexOf;e.exports=function(e,t){return!!a(e)&&r.call(e,t)>-1}},function(e,t){e.exports=function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){e.exports={mat3:n(52),vec2:n(97),vec3:n(98),transform:n(99)}},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var i=n(43),o=n(8),s=i.mat3,l=i.vec3,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this.getDefaultCfg();o(this,n,t),this.init()}return r(e,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),r(e,[{key:"init",value:function(){var e=this.start,t=this.end,n={x:(e.x+t.x)/2,y:(e.y+t.y)/2};this.center=n,this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)}},{key:"_swapDim",value:function(e){var t=this[e];if(t){var n=t.start;t.start=t.end,t.end=n}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(e,t){var n=this[t],a=n.start;return a+e*(n.end-a)}},{key:"invertDim",value:function(e,t){var n=this[t],a=n.start;return(e-a)/(n.end-a)}},{key:"convertPoint",value:function(e){return e}},{key:"invertPoint",value:function(e){return e}},{key:"applyMatrix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.matrix,r=[e,t,n];return l.transformMat3(r,r,a),r}},{key:"invertMatrix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.matrix,r=s.invert([],a),i=[e,t,n];return l.transformMat3(i,i,r),i}},{key:"convert",value:function(e){var t=this.convertPoint(e),n=t.x,a=t.y,r=this.applyMatrix(n,a,1);return{x:r[0],y:r[1]}}},{key:"invert",value:function(e){var t=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:t[0],y:t[1]})}},{key:"rotate",value:function(e){var t=this.matrix,n=this.center;return s.translate(t,t,[-n.x,-n.y]),s.rotate(t,t,e),s.translate(t,t,[n.x,n.y]),this}},{key:"reflect",value:function(e){switch(e){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(e,t){var n=this.matrix,a=this.center;return s.translate(n,n,[-a.x,-a.y]),s.scale(n,n,[e,t]),s.translate(n,n,[a.x,a.y]),this}},{key:"translate",value:function(e,t){var n=this.matrix;return s.translate(n,n,[e,t]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),e}();e.exports=c},function(e,t,n){var a=n(0),r={splitPoints:function(e){var t=[],n=e.x,r=e.y;return r=a.isArray(r)?r:[r],a.each(r,(function(e,r){var i={x:a.isArray(n)?n[r]:n,y:e};t.push(i)})),t},addFillAttrs:function(e,t){t.color&&(e.fill=t.color),a.isNumber(t.opacity)&&(e.opacity=e.fillOpacity=t.opacity)},addStrokeAttrs:function(e,t){t.color&&(e.stroke=t.color),a.isNumber(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity)}};e.exports=r},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),t.g=function(e,t){var n=f(e,t);if(n.state>s)throw new Error("too late; already scheduled");return n},t.h=function(e,t){var n=f(e,t);if(n.state>u)throw new Error("too late; already running");return n},t.f=f;var a=n(452),r=n(170),i=Object(a.a)("start","end","cancel","interrupt"),o=[],s=0,l=1,c=2,u=3,d=4,p=5,h=6;function f(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}t.e=function(e,t,n,a,f,m){var g=e.__transition;if(g){if(n in g)return}else e.__transition={};!function(e,t,n){var a,i=e.__transition;function o(p){var m,g,v,y;if(n.state!==l)return f();for(m in i)if((y=i[m]).name===n.name){if(y.state===u)return Object(r.timeout)(o);y.state===d?(y.state=h,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[m]):+m<t&&(y.state=h,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[m])}if(Object(r.timeout)((function(){n.state===u&&(n.state=d,n.timer.restart(s,n.delay,n.time),s(p))})),n.state=c,n.on.call("start",e,e.__data__,n.index,n.group),n.state===c){for(n.state=u,a=new Array(v=n.tween.length),m=0,g=-1;m<v;++m)(y=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(a[++g]=y);a.length=g+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(f),n.state=p,1),i=-1,o=a.length;++i<o;)a[i].call(e,r);n.state===p&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){for(var a in n.state=h,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Object(r.timer)((function(e){n.state=l,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:a,group:f,on:i,tween:o,time:m.time,delay:m.delay,duration:m.duration,ease:m.ease,timer:null,state:s})}},function(e,t,n){var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(4);e.exports=function e(t){if("object"!==("undefined"===typeof t?"undefined":a(t))||null===t)return t;var n=void 0;if(r(t)){n=[];for(var i=0,o=t.length;i<o;i++)"object"===a(t[i])&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var s in n={},t)"object"===a(t[s])&&null!=t[s]?n[s]=e(t[s]):n[s]=t[s];return n}},function(e,t,n){var a=n(26),r=n(4),i=5;function o(e,t,n,s){for(var l in n=n||0,s=s||i,t)if(t.hasOwnProperty(l)){var c=t[l];null!==c&&a(c)?(a(e[l])||(e[l]={}),n<s?o(e[l],c,n+1,s):e[l]=t[l]):r(c)?(e[l]=[],e[l]=e[l].concat(c)):void 0!==c&&(e[l]=c)}}e.exports=function(){for(var e=new Array(arguments.length),t=e.length,n=0;n<t;n++)e[n]=arguments[n];for(var a=e[0],r=1;r<t;r++)o(a,e[r]);return a}},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&null!==e}},function(e,t,n){var a=n(49),r=n(13),i=n(10);e.exports=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(i(t)||i(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var o=!0,s=0;s<t.length&&(o=e(t[s],n[s]));s++);return o}if(a(t)||a(n)){var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u=!0,d=0;d<l.length&&(u=e(t[l[d]],n[l[d]]));d++);return u}return!1}},function(e,t){e.exports=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){var a=n(183);a.translate=function(e,t,n){var r=new Array(9);return a.fromTranslation(r,n),a.multiply(e,r,t)},a.rotate=function(e,t,n){var r=new Array(9);return a.fromRotation(r,n),a.multiply(e,r,t)},a.scale=function(e,t,n){var r=new Array(9);return a.fromScaling(r,n),a.multiply(e,r,t)},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMatrixArrayType=function(e){t.ARRAY_TYPE=e},t.toRadian=function(e){return e*r},t.equals=function(e,t){return Math.abs(e-t)<=a*Math.max(1,Math.abs(e),Math.abs(t))};var a=t.EPSILON=1e-6;t.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array,t.RANDOM=Math.random;var r=Math.PI/180},function(e,t,n){var a;!function(t){"use strict";function r(){}var i=r.prototype,o=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var t,n,a=this._getEvents();if(e instanceof RegExp)for(n in t={},a)a.hasOwnProperty(n)&&e.test(n)&&(t[n]=a[n]);else t=a[e]||(a[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!function e(t){return"function"===typeof t||t instanceof RegExp||!(!t||"object"!==typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,a=this.getListenersAsObject(e),r="object"===typeof t;for(n in a)a.hasOwnProperty(n)&&-1===s(a[n],t)&&a[n].push(r?t:{listener:t,once:!1});return this},i.on=l("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=l("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,a,r=this.getListenersAsObject(e);for(a in r)r.hasOwnProperty(a)&&-1!==(n=s(r[a],t))&&r[a].splice(n,1);return this},i.off=l("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var a,r,i=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!==typeof t||t instanceof RegExp)for(a=n.length;a--;)i.call(this,t,n[a]);else for(a in t)t.hasOwnProperty(a)&&(r=t[a])&&("function"===typeof r?i.call(this,a,r):o.call(this,a,r));return this},i.removeEvent=function(e){var t,n=typeof e,a=this._getEvents();if("string"===n)delete a[e];else if(e instanceof RegExp)for(t in a)a.hasOwnProperty(t)&&e.test(t)&&delete a[t];else delete this._events;return this},i.removeAllListeners=l("removeEvent"),i.emitEvent=function(e,t){var n,a,r,i,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(n=o[i].slice(0),r=0;r<n.length;r++)!0===(a=n[r]).once&&this.removeListener(e,a.listener),a.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},i.trigger=l("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=o,r},void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a)}(this||{})},function(e,t,n){var a=n(36),r=n(103),i=n(56),o=n(37);e.exports={line:function(e,t,n,r,i,o,s){var l=a.box(e,t,n,r,i);if(!this.box(l.minX,l.maxX,l.minY,l.maxY,o,s))return!1;var c=a.pointDistance(e,t,n,r,o,s);return!isNaN(c)&&c<=i/2},polyline:function(e,t,n,a){var r=e.length-1;if(r<1)return!1;for(var i=0;i<r;i++){var o=e[i][0],s=e[i][1],l=e[i+1][0],c=e[i+1][1];if(this.line(o,s,l,c,t,n,a))return!0}return!1},cubicline:function(e,t,n,a,r,o,s,l,c,u,d){return i.pointDistance(e,t,n,a,r,o,s,l,u,d)<=c/2},quadraticline:function(e,t,n,a,i,o,s,l,c){return r.pointDistance(e,t,n,a,i,o,l,c)<=s/2},arcline:function(e,t,n,a,r,i,s,l,c){return o.pointDistance(e,t,n,a,r,i,l,c)<=s/2},rect:function(e,t,n,a,r,i){return e<=r&&r<=e+n&&t<=i&&i<=t+a},circle:function(e,t,n,a,r){return Math.pow(a-e,2)+Math.pow(r-t,2)<=Math.pow(n,2)},box:function(e,t,n,a,r,i){return e<=r&&r<=t&&n<=i&&i<=a}}},function(e,t,n){var a=n(1),r=a.vec2;function i(e,t,n,a,r){var i=1-r;return i*i*(i*a+3*r*n)+r*r*(r*e+3*i*t)}function o(e,t,n,a,o,s,l,c,u,d,p){var h,f,m,g,v,y,_,b,w=.005,E=1/0,T=[u,d];for(f=0;f<1;f+=.05)m=[i(e,n,o,l,f),i(t,a,s,c,f)],(g=r.squaredDistance(T,m))<E&&(h=f,E=g);E=1/0;for(var x=0;x<32&&!(w<1e-4);x++)b=h+w,m=[i(e,n,o,l,_=h-w),i(t,a,s,c,_)],g=r.squaredDistance(T,m),_>=0&&g<E?(h=_,E=g):(y=[i(e,n,o,l,b),i(t,a,s,c,b)],v=r.squaredDistance(T,y),b<=1&&v<E?(h=b,E=v):w*=.5);return p&&(p.x=i(e,n,o,l,h),p.y=i(t,a,s,c,h)),Math.sqrt(E)}function s(e,t,n,a,r){return e*(e*(-3*t+9*n-9*a+3*r)+6*t-12*n+6*a)-3*t+3*n}e.exports={at:i,derivativeAt:function(e,t,n,a,r){var i=1-r;return 3*(((t-e)*i+2*(n-t)*r)*i+(a-n)*r*r)},projectPoint:function(e,t,n,a,r,i,s,l,c,u){var d={};return o(e,t,n,a,r,i,s,l,c,u,d),d},pointDistance:o,extrema:function(e,t,n,r){var i,o,s,l=3*e-9*t+9*n-3*r,c=6*t-12*n+6*r,u=3*n-3*r,d=[];if(a.isNumberEqual(l,0))a.isNumberEqual(c,0)||(i=-u/c)>=0&&i<=1&&d.push(i);else{var p=c*c-4*l*u;a.isNumberEqual(p,0)?d.push(-c/(2*l)):p>0&&(o=(-c-(s=Math.sqrt(p)))/(2*l),(i=(-c+s)/(2*l))>=0&&i<=1&&d.push(i),o>=0&&o<=1&&d.push(o))}return d},len:function(e,t,n,r,i,o,l,c,u){a.isNil(u)&&(u=1);for(var d=(u=u>1?1:u<0?0:u)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;m<12;m++){var g=d*p[m]+d,v=s(g,e,n,i,l),y=s(g,t,r,o,c),_=v*v+y*y;f+=h[m]*Math.sqrt(_)}return d*f}}},function(e,t,n){var a=n(1),r=n(6),i=n(27),o=n(39),s=function e(t){e.superclass.constructor.call(this,t)};s.Symbols={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var a=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+a],["L",e,t-a],["L",e+n,t+a],["z"]]},"triangle-down":function(e,t,n){var a=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+a],["Z"]]}},s.ATTRS={path:null,lineWidth:1},a.extend(s,r),a.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.radius,r=this.getHitLineWidth()/2+a;return{minX:t-r,minY:n-r,maxX:t+r,maxY:n+r}},_getPath:function(){var e,t=this._attrs,n=t.x,r=t.y,i=t.radius||t.r,o=t.symbol||"circle";return(e=a.isFunction(o)?o:s.Symbols[o])?e(n,r,i):(console.warn(o+" marker is not supported."),null)},createPath:function(e){var t=this._cfg.segments;if(!t||this._cfg.hasUpdate){var n,a=i.parsePath(this._getPath());e.beginPath(),t=[];for(var r=0;r<a.length;r++){var s=a[r];n=new o(s,n,r===a.length-1),t.push(n),n.draw(e)}this._cfg.segments=t,this._cfg.hasUpdate=!1}else{e.beginPath();for(var l=0;l<t.length;l++)t[l].draw(e)}}}),e.exports=s},function(e,t,n){var a=n(81),r="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),s=function(e){if(!e)return null;if(typeof e===typeof[])return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(i,(function(e,a,r){var i=[],s=a.toLowerCase();if(r.replace(o,(function(e,t){t&&i.push(+t)})),"m"===s&&i.length>2&&(n.push([a].concat(i.splice(0,2))),s="l",a="m"===a?"l":"L"),"o"===s&&1===i.length&&n.push([a,i[0]]),"r"===s)n.push([a].concat(i));else for(;i.length>=t[s]&&(n.push([a].concat(i.splice(0,t[s]))),t[s]););})),n},l=function(e,t){for(var n=[],a=0,r=e.length;r-2*!t>a;a+=2){var i=[{x:+e[a-2],y:+e[a-1]},{x:+e[a],y:+e[a+1]},{x:+e[a+2],y:+e[a+3]},{x:+e[a+4],y:+e[a+5]}];t?a?r-4===a?i[3]={x:+e[0],y:+e[1]}:r-2===a&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[r-2],y:+e[r-1]}:r-4===a?i[3]=i[2]:a||(i[0]={x:+e[a],y:+e[a+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n},c=function(e,t,n,a,r){var i=[];if(null===r&&null===a&&(a=n),e=+e,t=+t,n=+n,a=+a,null!==r){var o=Math.PI/180,s=e+n*Math.cos(-a*o),l=e+n*Math.cos(-r*o);i=[["M",s,t+n*Math.sin(-a*o)],["A",n,n,0,+(r-a>180),0,l,t+n*Math.sin(-r*o)]]}else i=[["M",e,t],["m",0,-a],["a",n,a,0,1,1,0,2*a],["a",n,a,0,1,1,0,-2*a],["z"]];return i},u=function(e){if(!(e=s(e))||!e.length)return[["M",0,0]];var t,n,a=[],r=0,i=0,o=0,u=0,d=0;"M"===e[0][0]&&(o=r=+e[0][1],u=i=+e[0][2],d++,a[0]=["M",r,i]);for(var p,h,f=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),m=d,g=e.length;m<g;m++){if(a.push(p=[]),(t=(h=e[m])[0])!==t.toUpperCase())switch(p[0]=t.toUpperCase(),p[0]){case"A":p[1]=h[1],p[2]=h[2],p[3]=h[3],p[4]=h[4],p[5]=h[5],p[6]=+h[6]+r,p[7]=+h[7]+i;break;case"V":p[1]=+h[1]+i;break;case"H":p[1]=+h[1]+r;break;case"R":for(var v=2,y=(n=[r,i].concat(h.slice(1))).length;v<y;v++)n[v]=+n[v]+r,n[++v]=+n[v]+i;a.pop(),a=a.concat(l(n,f));break;case"O":a.pop(),(n=c(r,i,h[1],h[2])).push(n[0]),a=a.concat(n);break;case"U":a.pop(),a=a.concat(c(r,i,h[1],h[2],h[3])),p=["U"].concat(a[a.length-1].slice(-2));break;case"M":o=+h[1]+r,u=+h[2]+i;break;default:for(var _=1,b=h.length;_<b;_++)p[_]=+h[_]+(_%2?r:i)}else if("R"===t)n=[r,i].concat(h.slice(1)),a.pop(),a=a.concat(l(n,f)),p=["R"].concat(h.slice(-2));else if("O"===t)a.pop(),(n=c(r,i,h[1],h[2])).push(n[0]),a=a.concat(n);else if("U"===t)a.pop(),a=a.concat(c(r,i,h[1],h[2],h[3])),p=["U"].concat(a[a.length-1].slice(-2));else for(var w=0,E=h.length;w<E;w++)p[w]=h[w];if("O"!==(t=t.toUpperCase()))switch(p[0]){case"Z":r=+o,i=+u;break;case"H":r=p[1];break;case"V":i=p[1];break;case"M":o=p[p.length-2],u=p[p.length-1];break;default:r=p[p.length-2],i=p[p.length-1]}}return a},d=function(e,t,n,a){return[e,t,n,a,n,a]},p=function(e,t,n,a,r,i){return[1/3*e+2/3*n,1/3*t+2/3*a,1/3*r+2/3*n,1/3*i+2/3*a,r,i]},h=function e(t,n,a,r,i,o,s,l,c,u){a===r&&(a+=1);var d,p,h,f,m,g=120*Math.PI/180,v=Math.PI/180*(+i||0),y=[],_=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(u)p=u[0],h=u[1],f=u[2],m=u[3];else{t=(d=_(t,n,-v)).x,n=d.y,l=(d=_(l,c,-v)).x,c=d.y,t===l&&n===c&&(l+=1,c+=1);var b=(t-l)/2,w=(n-c)/2,E=b*b/(a*a)+w*w/(r*r);E>1&&(a*=E=Math.sqrt(E),r*=E);var T=a*a,x=r*r,C=(o===s?-1:1)*Math.sqrt(Math.abs((T*x-T*w*w-x*b*b)/(T*w*w+x*b*b)));f=C*a*w/r+(t+l)/2,m=C*-r*b/a+(n+c)/2,p=Math.asin(((n-m)/r).toFixed(9)),h=Math.asin(((c-m)/r).toFixed(9)),p=t<f?Math.PI-p:p,h=l<f?Math.PI-h:h,p<0&&(p=2*Math.PI+p),h<0&&(h=2*Math.PI+h),s&&p>h&&(p-=2*Math.PI),!s&&h>p&&(h-=2*Math.PI)}var S=h-p;if(Math.abs(S)>g){var k=h,O=l,M=c;h=p+g*(s&&h>p?1:-1),y=e(l=f+a*Math.cos(h),c=m+r*Math.sin(h),a,r,i,0,s,O,M,[h,k,f,m])}S=h-p;var L=Math.cos(p),D=Math.sin(p),R=Math.cos(h),N=Math.sin(h),I=Math.tan(S/4),A=4/3*a*I,P=4/3*r*I,Y=[t,n],F=[t+A*D,n-P*L],j=[l+A*N,c-P*R],U=[l,c];if(F[0]=2*Y[0]-F[0],F[1]=2*Y[1]-F[1],u)return[F,j,U].concat(y);for(var H=[],B=0,V=(y=[F,j,U].concat(y).join().split(",")).length;B<V;B++)H[B]=B%2?_(y[B-1],y[B],v).y:_(y[B],y[B+1],v).x;return H},f=function(e,t){var n,a=u(e),r=t&&u(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],c="",f="",m=function(e,t,n){var a,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(h.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(a=2*t.x-t.bx,r=2*t.y-t.by):(a=t.x,r=t.y),e=["C",a,r].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(p(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(p(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(d(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(d(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(d(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(d(t.x,t.y,t.X,t.Y))}return e},g=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)s[t]="A",r&&(l[t]="A"),e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),n=Math.max(a.length,r&&r.length||0)}},v=function(e,t,i,o,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=e[s][1],i.y=e[s][2],n=Math.max(a.length,r&&r.length||0))};n=Math.max(a.length,r&&r.length||0);for(var y=0;y<n;y++){a[y]&&(c=a[y][0]),"C"!==c&&(s[y]=c,y&&(f=s[y-1])),a[y]=m(a[y],i,f),"A"!==s[y]&&"C"===c&&(s[y]="C"),g(a,y),r&&(r[y]&&(c=r[y][0]),"C"!==c&&(l[y]=c,y&&(f=l[y-1])),r[y]=m(r[y],o,f),"A"!==l[y]&&"C"===c&&(l[y]="C"),g(r,y)),v(a,r,i,o,y),v(r,a,o,i,y);var _=a[y],b=r&&r[y],w=_.length,E=r&&b.length;i.x=_[w-2],i.y=_[w-1],i.bx=parseFloat(_[w-4])||i.x,i.by=parseFloat(_[w-3])||i.y,o.bx=r&&(parseFloat(b[E-4])||o.x),o.by=r&&(parseFloat(b[E-3])||o.y),o.x=r&&b[E-2],o.y=r&&b[E-1]}return r?[a,r]:a},m=/,?([a-z]),?/gi,g=function(e){return e.join(",").replace(m,"$1")},v=function(e,t,n,a,r){return e*(e*(-3*t+9*n-9*a+3*r)+6*t-12*n+6*a)-3*t+3*n},y=function(e,t,n,a,r,i,o,s,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,h=0;h<12;h++){var f=c*u[h]+c,m=v(f,e,n,r,o),g=v(f,t,a,i,s),y=m*m+g*g;p+=d[h]*Math.sqrt(y)}return c*p},_=function(e,t,n,a,r,i,o,s){for(var l,c,u,d,p=[],h=[[],[]],f=0;f<2;++f)if(0===f?(c=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*o,u=3*n-3*e):(c=6*t-12*a+6*i,l=-3*t+9*a-9*i+3*s,u=3*a-3*t),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;(d=-u/c)>0&&d<1&&p.push(d)}else{var m=c*c-4*u*l,g=Math.sqrt(m);if(!(m<0)){var v=(-c+g)/(2*l);v>0&&v<1&&p.push(v);var y=(-c-g)/(2*l);y>0&&y<1&&p.push(y)}}for(var _,b=p.length,w=b;b--;)_=1-(d=p[b]),h[0][b]=_*_*_*e+3*_*_*d*n+3*_*d*d*r+d*d*d*o,h[1][b]=_*_*_*t+3*_*_*d*a+3*_*d*d*i+d*d*d*s;return h[0][w]=e,h[1][w]=t,h[0][w+1]=o,h[1][w+1]=s,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},b=function(e,t,n,a,r,i,o,s){if(!(Math.max(e,n)<Math.min(r,o)||Math.min(e,n)>Math.max(r,o)||Math.max(t,a)<Math.min(i,s)||Math.min(t,a)>Math.max(i,s))){var l=(e-n)*(i-s)-(t-a)*(r-o);if(l){var c=((e*a-t*n)*(r-o)-(e-n)*(r*s-i*o))/l,u=((e*a-t*n)*(i-s)-(t-a)*(r*s-i*o))/l,d=+c.toFixed(2),p=+u.toFixed(2);if(!(d<+Math.min(e,n).toFixed(2)||d>+Math.max(e,n).toFixed(2)||d<+Math.min(r,o).toFixed(2)||d>+Math.max(r,o).toFixed(2)||p<+Math.min(t,a).toFixed(2)||p>+Math.max(t,a).toFixed(2)||p<+Math.min(i,s).toFixed(2)||p>+Math.max(i,s).toFixed(2)))return{x:c,y:u}}}},w=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},E=function(e,t,n,a,r){if(r)return[["M",+e+ +r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,a-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-a],["a",r,r,0,0,1,r,-r],["z"]];var i=[["M",e,t],["l",n,0],["l",0,a],["l",-n,0],["z"]];return i.parsePathArray=g,i},T=function(e,t,n,a){return null===e&&(e=t=n=a=0),null===t&&(t=e.y,n=e.width,a=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:a,h:a,x2:e+n,y2:t+a,cx:e+n/2,cy:t+a/2,r1:Math.min(n,a)/2,r2:Math.max(n,a)/2,r0:Math.sqrt(n*n+a*a)/2,path:E(e,t,n,a),vb:[e,t,n,a].join(" ")}},x=function(e,t,n,r,i,o,s,l){a.isArray(e)||(e=[e,t,n,r,i,o,s,l]);var c=_.apply(null,e);return T(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},C=function(e,t,n,a,r,i,o,s,l){var c=1-l,u=Math.pow(c,3),d=Math.pow(c,2),p=l*l,h=p*l,f=e+2*l*(n-e)+p*(r-2*n+e),m=t+2*l*(a-t)+p*(i-2*a+t),g=n+2*l*(r-n)+p*(o-2*r+n),v=a+2*l*(i-a)+p*(s-2*i+a);return{x:u*e+3*d*l*n+3*c*l*l*r+h*o,y:u*t+3*d*l*a+3*c*l*l*i+h*s,m:{x:f,y:m},n:{x:g,y:v},start:{x:c*e+l*n,y:c*t+l*a},end:{x:c*r+l*o,y:c*i+l*s},alpha:90-180*Math.atan2(f-g,m-v)/Math.PI}},S=function(e,t,n){if(!function(e,t){return e=T(e),t=T(t),w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(x(e),x(t)))return n?0:[];for(var a=~~(y.apply(0,e)/8),r=~~(y.apply(0,t)/8),i=[],o=[],s={},l=n?0:[],c=0;c<a+1;c++){var u=C.apply(0,e.concat(c/a));i.push({x:u.x,y:u.y,t:c/a})}for(var d=0;d<r+1;d++){var p=C.apply(0,t.concat(d/r));o.push({x:p.x,y:p.y,t:d/r})}for(var h=0;h<a;h++)for(var f=0;f<r;f++){var m=i[h],g=i[h+1],v=o[f],_=o[f+1],E=Math.abs(g.x-m.x)<.001?"y":"x",S=Math.abs(_.x-v.x)<.001?"y":"x",k=b(m.x,m.y,g.x,g.y,v.x,v.y,_.x,_.y);if(k){if(s[k.x.toFixed(4)]===k.y.toFixed(4))continue;s[k.x.toFixed(4)]=k.y.toFixed(4);var O=m.t+Math.abs((k[E]-m[E])/(g[E]-m[E]))*(g.t-m.t),M=v.t+Math.abs((k[S]-v[S])/(_[S]-v[S]))*(_.t-v.t);O>=0&&O<=1&&M>=0&&M<=1&&(n?l++:l.push({x:k.x,y:k.y,t1:O,t2:M}))}}return l};function k(e,t){var n=[],a=[];return e.length&&function e(t,r){if(1===t.length)n.push(t[0]),a.push(t[0]);else{for(var i=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&a.push(t[o+1]),i[o]=[(1-r)*t[o][0]+r*t[o+1][0],(1-r)*t[o][1]+r*t[o+1][1]];e(i,r)}}(e,t),{left:n,right:a.reverse()}}var O=function(e,t,n){if(1===n)return[[].concat(e)];var a=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])a=a.concat(function(e,t,n){var a=[[e[1],e[2]]];n=n||2;var r=[];"A"===t[0]?(a.push(t[6]),a.push(t[7])):"C"===t[0]?(a.push([t[1],t[2]]),a.push([t[3],t[4]]),a.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(a.push([t[1],t[2]]),a.push([t[3],t[4]])):a.push([t[1],t[2]]);for(var i=a,o=1/n,s=0;s<n-1;s++){var l=k(i,o/(1-o*s));r.push(l.left),i=l.right}return r.push(i),r.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t=t.concat(e[e.length-1])}))}(e,t,n));else{var r=[].concat(e);"M"===r[0]&&(r[0]="L");for(var i=0;i<=n-1;i++)a.push(r)}return a},M=function(e,t){if(e.length!==t.length)return!1;var n=!0;return a.each(e,(function(e,a){if(e!==t[a])return n=!1,!1})),n};function L(e,t,n){var a=null,r=n;return t<r&&(r=t,a="add"),e<r&&(r=e,a="del"),{type:a,min:r}}function D(e,t,n){for(var a,r=[].concat(e),i=1/(n+1),o=R(t)[0],s=1;s<=n;s++)i*=s,0===(a=Math.floor(e.length*i))?r.unshift([o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]):r.splice(a,0,[o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]);return r}function R(e){var t=[];switch(e[0]){case"M":case"L":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"T":t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}e.exports={parsePathString:s,parsePathArray:g,pathTocurve:f,pathToAbsolute:u,catmullRomToBezier:l,rectPath:E,fillPath:function(e,t){if(1===e.length)return e;var n=e.length-1,a=t.length-1,r=n/a,i=[];if(1===e.length&&"M"===e[0][0]){for(var o=0;o<a-n;o++)e.push(e[0]);return e}for(var s=0;s<a;s++){var l=Math.floor(r*s);i[l]=(i[l]||0)+1}var c=i.reduce((function(t,a,r){return r===n?t.concat(e[n]):t.concat(O(e[r],e[r+1],a))}),[]);return c.unshift(e[0]),"Z"!==t[a]&&"z"!==t[a]||c.push("Z"),c},fillPathByDiff:function(e,t){var n=function(e,t){var n,a,r=e.length,i=t.length,o=0;if(0===r||0===i)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=i;c++)s[0][c]={min:c};for(var u=1;u<=r;u++){n=e[u-1];for(var d=1;d<=i;d++){a=t[d-1],o=M(n,a)?0:1;var p=s[u-1][d].min+1,h=s[u][d-1].min+1,f=s[u-1][d-1].min+o;s[u][d]=L(p,h,f)}}return s}(e,t),a=e.length,r=t.length,i=[],o=1,s=1;if(n[a][r]!==a){for(var l=1;l<=a;l++){var c=n[l][l].min;s=l;for(var u=o;u<=r;u++)n[l][u].min<c&&(c=n[l][u].min,s=u);o=s,n[l][o].type&&i.push({index:l-1,type:n[l][o].type})}for(var d=i.length-1;d>=0;d--)o=i[d].index,"add"===i[d].type?e.splice(o,0,[].concat(e[o])):e.splice(o,1)}var p=r-(a=e.length);if(a<r)for(var h=0;h<p;h++)"z"===e[a-1][0]||"Z"===e[a-1][0]?e.splice(a-2,0,e[a-2]):e.push(e[a-1]),a+=1;return e},formatPath:function(e,t){if(e.length<=1)return e;for(var n,a=0;a<t.length;a++)if(e[a][0]!==t[a][0])switch(n=R(e[a]),t[a][0]){case"M":e[a]=["M"].concat(n[0]);break;case"L":e[a]=["L"].concat(n[0]);break;case"A":e[a]=[].concat(t[a]),e[a][6]=n[0][0],e[a][7]=n[0][1];break;case"Q":if(n.length<2){if(!(a>0)){e[a]=t[a];break}n=D(n,e[a-1],1)}e[a]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[a]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(a>0)){e[a]=t[a];break}n=D(n,e[a-1],2)}e[a]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(a>0)){e[a]=t[a];break}n=D(n,e[a-1],1)}e[a]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[a]=t[a]}return e},intersection:function(e,t){return function(e,t,n){var a,r,i,o,s,l,c,u,d,p;e=f(e),t=f(t);for(var h=n?0:[],m=0,g=e.length;m<g;m++){var v=e[m];if("M"===v[0])a=s=v[1],r=l=v[2];else{"C"===v[0]?(d=[a,r].concat(v.slice(1)),a=d[6],r=d[7]):(d=[a,r,a,r,s,l,s,l],a=s,r=l);for(var y=0,_=t.length;y<_;y++){var b=t[y];if("M"===b[0])i=c=b[1],o=u=b[2];else{"C"===b[0]?(p=[i,o].concat(b.slice(1)),i=p[6],o=p[7]):(p=[i,o,i,o,c,u,c,u],i=c,o=u);var w=S(d,p,n);if(n)h+=w;else{for(var E=0,T=w.length;E<T;E++)w[E].segment1=m,w[E].segment2=y,w[E].bez1=d,w[E].bez2=p;h=h.concat(w)}}}}}return h}(e,t)}}},function(e,t,n){"use strict";t.b=f,t.a=g,t.c=v,t.d=y;var a,r,i=0,o=0,s=0,l=1e3,c=0,u=0,d=0,p="object"===typeof performance&&performance.now?performance:Date,h="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function f(){return u||(h(m),u=p.now()+d)}function m(){u=0}function g(){this._call=this._time=this._next=null}function v(e,t,n){var a=new g;return a.restart(e,t,n),a}function y(){f(),++i;for(var e,t=a;t;)(e=u-t._time)>=0&&t._call.call(null,e),t=t._next;--i}function _(){u=(c=p.now())+d,i=o=0;try{y()}finally{i=0,function(){for(var e,t,n=a,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:a=t);r=e,w(i)}(),u=0}}function b(){var e=p.now(),t=e-c;t>l&&(d-=t,c=e)}function w(e){i||(o&&(o=clearTimeout(o)),e-u>24?(e<1/0&&(o=setTimeout(_,e-p.now()-d)),s&&(s=clearInterval(s))):(s||(c=p.now(),s=setInterval(b,l)),i=1,h(_)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?f():+n)+(null==t?0:+t),this._next||r===this||(r?r._next=this:a=this,r=this),this._call=e,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},function(e,t,n){"use strict";var a=n(17),r=n(118),i=n(121),o=n(122),s=n(40),l=n(123),c=n(124),u=n(120);t.a=function(e,t){var n,d=typeof t;return null==t||"boolean"===d?Object(u.a)(t):("number"===d?s.a:"string"===d?(n=Object(a.a)(t))?(t=n,r.a):c.a:t instanceof a.a?r.a:t instanceof Date?o.a:Array.isArray(t)?i.a:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?l.a:s.a)(e,t)}},function(e,t,n){"use strict";t.a=r,n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),t.e=b,t.h=T,t.g=x,t.b=C,t.f=D;var a=n(62);function r(){}var i=.7,o=1/i,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),h=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),f=new RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),m=new RegExp("^hsl\\("+[l,c,c]+"\\)$"),g=new RegExp("^hsla\\("+[l,c,c,l]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function b(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new C(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new C(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new C(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new C(t[1],t[2],t[3],1):(t=p.exec(e))?new C(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?E(t[1],t[2],t[3],t[4]):(t=f.exec(e))?E(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?M(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?M(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?w(v[e]):"transparent"===e?new C(NaN,NaN,NaN,0):null}function w(e){return new C(e>>16&255,e>>8&255,255&e,1)}function E(e,t,n,a){return a<=0&&(e=t=n=NaN),new C(e,t,n,a)}function T(e){return e instanceof r||(e=b(e)),e?new C((e=e.rgb()).r,e.g,e.b,e.opacity):new C}function x(e,t,n,a){return 1===arguments.length?T(e):new C(e,t,n,null==a?1:a)}function C(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function S(){return"#"+O(this.r)+O(this.g)+O(this.b)}function k(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function O(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function M(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new R(e,t,n,a)}function L(e){if(e instanceof R)return new R(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=b(e)),!e)return new R;if(e instanceof R)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,i=Math.min(t,n,a),o=Math.max(t,n,a),s=NaN,l=o-i,c=(o+i)/2;return l?(s=t===o?(n-a)/l+6*(n<a):n===o?(a-t)/l+2:(t-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new R(s,l,c,e.opacity)}function D(e,t,n,a){return 1===arguments.length?L(e):new R(e,t,n,null==a?1:a)}function R(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function N(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object(a.a)(r,b,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return L(this).formatHsl()},formatRgb:_,toString:_}),Object(a.a)(C,x,Object(a.b)(r,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?i:Math.pow(i,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:k,toString:k})),Object(a.a)(R,D,Object(a.b)(r,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new R(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?i:Math.pow(i,e),new R(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new C(N(e>=240?e-240:e+120,r,a),N(e,r,a),N(e<120?e+240:e-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},function(e,t,n){"use strict";t.b=function(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n},t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function a(e,t,n,a,r){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*a+o*r)/6}t.a=a,t.b=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,l=r<t-1?e[r+2]:2*o-i;return a((n-r/t)*t,s,i,o,l)}}},function(e,t,n){var a=n(2),r=n(13);e.exports=function(e,t){if(!r(e))return e;var n=[];return a(e,(function(e,a){t(e,a)&&n.push(e)})),n}},function(e,t,n){var a=n(5),r=n(4),i=n(2);e.exports=function(e,t){for(var n=[],o={},s=0;s<e.length;s++){var l=e[s][t];a(l)||(r(l)||(l=[l]),i(l,(function(e){o[e]||(n.push(e),o[e]=!0)})))}return n}},function(e,t,n){var a=n(16).Group,r=n(22).Label,i=n(7),o=n(0),s=["line","point","path"],l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.getDefaultCfg=function(){return{label:i.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},l._renderUI=function(){e.prototype._renderUI.call(this),this.initLabelsCfg();var t=this.addGroup(),n=this.addGroup({elCls:"x-line-group"}),a=this.get("labelRenderer");this.set("labelsGroup",t),this.set("lineGroup",n),this.get("labelRenderer").set("group",t),a.set("group",t),a.set("lineGroup",n)},l.initLabelsCfg=function(){var e=new r,t=this.getDefaultLabelCfg(),n=this.get("labelCfg");o.deepMix(t,n.globalCfg||n.cfg),e.set("config",!1),t.labelLine&&e.set("labelLine",t.labelLine),e.set("coord",this.get("coord")),this.set("labelRenderer",e),this.set("label",t)},l.getDefaultLabelCfg=function(){var e=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,t=this.get("geomType"),n=this.get("viewTheme")||i;return"polygon"===t||e&&e.offset<0&&-1===o.indexOf(s,t)?o.deepMix({},this.get("label"),n.innerLabels,e):o.deepMix({},this.get("label"),n.label,e)},l.getLabelsItems=function(e,t){var n=this,a=[],r=n.get("geom"),i=n.get("coord");n._getLabelCfgs(e,t);var s=n.get("labelItemCfgs");return o.each(e,(function(e,t){var l=e._origin,c=s[t];if(c){o.isArray(c.text)||(c.text=[c.text]);var u=c.text.length;o.each(c.text,(function(t,s){if(o.isNil(t)||""===t)a.push(null);else{var d=n.getLabelPoint(c,e,s);(d=o.mix({},c,d)).textAlign||(d.textAlign=n.getLabelAlign(d,s,u)),r&&(d._id=r._getShapeId(l)+"-glabel-"+s+"-"+d.text),d.coord=i,a.push(d)}}))}else a.push(null)})),a},l.adjustItems=function(e){return o.each(e,(function(e){e&&(e.offsetX&&(e.x+=e.offsetX),e.offsetY&&(e.y+=e.offsetY))})),e},l.drawLines=function(e){var t=this;o.each(e,(function(e){e&&e.offset>0&&t.lineToLabel(e)}))},l.lineToLabel=function(){},l.getLabelPoint=function(e,t,n){var a=this.get("coord"),r=e.text.length;function i(t,n){return o.isArray(t)&&(t=1===e.text.length?t.length<=2?t[t.length-1]:function(e){var t=0;return o.each(e,(function(e){t+=e})),t/e.length}(t):t[n]),t}var s={text:e.text[n]};if(t&&"polygon"===this.get("geomType")){var l=function(e,t){if(o.isNumber(e)&&o.isNumber(t))return[e,t];for(var n,a,r=-1,i=0,s=0,l=e.length-1,c=0;++r<e.length;)n=l,l=r,c+=a=e[n]*t[l]-e[l]*t[n],i+=(e[n]+e[l])*a,s+=(t[n]+t[l])*a;return[i/(c*=3),s/c]}(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=i(t.x,n),s.y=i(t.y,n);if(t&&t.nextPoints&&("funnel"===t.shape||"pyramid"===t.shape)){var c=-1/0;t.nextPoints.forEach((function(e){(e=a.convert(e)).x>c&&(c=e.x)})),s.x=(s.x+c)/2}"pyramid"===t.shape&&!t.nextPoints&&t.points&&t.points.forEach((function(e){e=a.convert(e),(o.isArray(e.x)&&!t.x.includes(e.x)||o.isNumber(e.x)&&t.x!==e.x)&&(s.x=(s.x+e.x)/2)})),e.position&&this.setLabelPosition(s,t,n,e.position);var u=this.getLabelOffset(e,n,r);return e.offsetX&&(u.x+=e.offsetX),e.offsetY&&(u.y+=e.offsetY),this.transLabelPoint(s),s.start={x:s.x,y:s.y},s.x+=u.x,s.y+=u.y,s.color=t.color,s},l.setLabelPosition=function(){},l.transLabelPoint=function(e){var t=this.get("coord").applyMatrix(e.x,e.y,1);e.x=t[0],e.y=t[1]},l.getOffsetVector=function(e){var t=e.offset||0,n=this.get("coord");return n.isTransposed?n.applyMatrix(t,0):n.applyMatrix(0,t)},l.getDefaultOffset=function(e){var t=0,n=this.get("coord"),a=this.getOffsetVector(e);t=n.isTransposed?a[0]:a[1];var r=this.get("yScale");return r&&e.point&&e.point[r.field]<0&&(t*=-1),t},l.getLabelOffset=function(e,t,n){var a=this.getDefaultOffset(e),r=this.get("coord").isTransposed,i=r?"x":"y",o=r?1:-1,s={x:0,y:0};return s[i]=t>0||1===n?a*o:a*o*-1,s},l.getLabelAlign=function(e,t,n){var a="center";if(this.get("coord").isTransposed){var r=this.getDefaultOffset(e);a=r<0?"right":0===r?"center":"left",n>1&&0===t&&("right"===a?a="left":"left"===a&&(a="right"))}return a},l._getLabelValue=function(e,t){o.isArray(t)||(t=[t]);var n=[];return o.each(t,(function(t){var a=e[t.field];if(o.isArray(a)){var r=[];o.each(a,(function(e){r.push(t.getText(e))})),a=r}else a=t.getText(a);(o.isNil(a)||""===a)&&n.push(null),n.push(a)})),n},l._getLabelCfgs=function(e){var t=this,n=this.get("labelCfg"),a=n.scales,r=this.get("label"),s=t.get("viewTheme")||i,l=[];n.globalCfg&&n.globalCfg.type&&t.set("type",n.globalCfg.type),o.each(e,(function(e,i){var c={},u=e._origin,d=t._getLabelValue(u,a);if(n.callback){var p=a.map((function(e){return u[e.field]}));c=n.callback.apply(null,[].concat(p,[e,i]))}if(c||0===c){if(o.isString(c)||o.isNumber(c)?c={text:c}:(c.text=c.content||d[0],delete c.content),c=o.mix({},r,n.globalCfg||{},c),e.point=u,c.point=u,c.htmlTemplate&&(c.useHtml=!0,c.text=c.htmlTemplate.call(null,c.text,e,i),delete c.htmlTemplate),c.formatter&&(c.text=c.formatter.call(null,c.text,e,i),delete c.formatter),c.label){var h=c.label;delete c.label,c=o.mix(c,h)}if(c.textStyle){delete c.textStyle.offset;var f=c.textStyle;o.isFunction(f)&&(c.textStyle=f.call(null,c.text,e,i))}c.labelLine&&(c.labelLine=o.mix({},r.labelLine,c.labelLine)),c.textStyle=o.mix({},r.textStyle,s.label.textStyle,c.textStyle),delete c.items,l.push(c)}else l.push(null)})),this.set("labelItemCfgs",l)},l.showLabels=function(e,t){var n=this.get("labelRenderer"),a=this.getLabelsItems(e,t);t=[].concat(t);var r=this.get("type");a=this.adjustItems(a,t),this.drawLines(a),n.set("items",a.filter((function(e,n){return!!e||(t.splice(n,1),!1)}))),r&&(n.set("shapes",t),n.set("type",r),n.set("points",e)),n.set("canvas",this.get("canvas")),n.draw()},l.destroy=function(){this.get("labelRenderer").destroy(),e.prototype.destroy.call(this)},a}(a);e.exports=l},function(e,t,n){var a=n(54),r=n(3),i=function(e){var t,n;n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;function i(t){var n,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call(this)||this),i={visible:!0},o=a.getDefaultCfg();return a._attrs=i,r.deepMix(i,o,t),n}return a.getDefaultCfg=function(){return{}},a.get=function(e){return this._attrs[e]},a.set=function(e,t){this._attrs[e]=t},a.changeVisible=function(){},a.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},i}(a);e.exports=i},function(e,t,n){var a=n(3),r=n(157),i=n(329),o=n(14).FONT_FAMILY,s=a.Event,l=a.Group,c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:o},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},c._calStartPoint=function(){var e={x:10,y:this.get("titleGap")-8},t=this.get("titleShape");if(t){var n=t.getBBox();e.y+=n.height}return e},c.beforeRender=function(){var t=this.get("items");a.isArray(t)&&!a.isEmpty(t)&&(e.prototype.beforeRender.call(this),this.set("firstItem",t[0]),this.set("lastItem",t[t.length-1]))},c._formatItemValue=function(e){var t=this.get("formatter")||this.get("itemFormatter");return t&&(e=t.call(this,e)),e},c.render=function(){e.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},c._renderSlider=function(){var e=new l,t=new l,n=new l,a=this._calStartPoint(),r=this.get("group").addGroup(i,{minHandleElement:e,maxHandleElement:t,backgroundElement:n,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});r.translate(a.x,a.y),this.set("slider",r),this._renderSliderShape().attr("clip",r.get("middleHandleElement")),this._renderTrigger()},c._addMiddleBar=function(e,t,n){return e.addShape(t,{attrs:a.mix({},n,this.get("middleBackgroundStyle"))}),e.addShape(t,{attrs:n})},c._renderTrigger=function(){var e=this.get("firstItem"),t=this.get("lastItem"),n=this.get("layout"),r=this.get("textStyle"),i=this.get("triggerAttr"),o=a.mix({},i),s=a.mix({},i),l=a.mix({text:this._formatItemValue(e.value)+""},r),c=a.mix({text:this._formatItemValue(t.value)+""},r);"vertical"===n?(this._addVerticalTrigger("min",o,l),this._addVerticalTrigger("max",s,c)):(this._addHorizontalTrigger("min",o,l),this._addHorizontalTrigger("max",s,c))},c._addVerticalTrigger=function(e,t,n){var r=this.get("slider").get(e+"HandleElement"),i=this.get("width"),o=r.addShape("rect",{attrs:a.mix({x:i/2-8-2,y:"min"===e?0:-8,width:18,height:8},t)}),s=r.addShape("text",{attrs:a.mix(n,{x:i+this.get("textOffset"),y:"max"===e?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",l),s.attr("cursor",l),this.set(e+"ButtonElement",o),this.set(e+"TextElement",s)},c._addHorizontalTrigger=function(e,t,n){var r=this.get("slider").get(e+"HandleElement"),i=r.addShape("rect",{attrs:a.mix({x:"min"===e?-8:0,y:-8-this.get("height")/2,width:8,height:16},t)}),o=r.addShape("text",{attrs:a.mix(n,{x:"min"===e?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===e?"end":"start",textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";i.attr("cursor",s),o.attr("cursor",s),this.set(e+"ButtonElement",i),this.set(e+"TextElement",o)},c._bindEvents=function(){var e=this;this.get("slidable")&&this.get("slider").on("sliderchange",(function(t){var n=t.range,a=e.get("firstItem").value,r=e.get("lastItem").value,i=a+n[0]/100*(r-a),o=a+n[1]/100*(r-a);e._updateElement(i,o);var l=new s("itemfilter",t,!0,!0);l.range=[i,o],e.emit("itemfilter",l)})),this.get("hoverable")&&(this.get("group").on("mousemove",a.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",a.wrapBehavior(this,"_onMouseLeave")))},c._updateElement=function(e,t){var n=this.get("minTextElement"),a=this.get("maxTextElement");t>1&&(e=parseInt(e,10),t=parseInt(t,10)),n.attr("text",this._formatItemValue(e)+""),a.attr("text",this._formatItemValue(t)+"")},c._onMouseLeave=function(){var e=this.get("group").findById("hoverPointer");e&&e.destroy();var t=this.get("group").findById("hoverText");t&&t.destroy(),this.get("canvas").draw()},c._onMouseMove=function(e){var t,n=this.get("height"),a=this.get("width"),r=this.get("items"),i=this.get("canvas").get("el").getBoundingClientRect(),o=this.get("group").getBBox();if("vertical"===this.get("layout")){var s=5;"color-legend"===this.get("type")&&(s=30);var l=this.get("titleGap"),c=this.get("titleShape");c&&(l+=c.getBBox().maxY-c.getBBox().minY);var u=e.clientY||e.event.clientY;u=u-i.y-this.get("group").attr("matrix")[7]+o.y-s+l,t=r[0].value+(1-u/n)*(r[r.length-1].value-r[0].value)}else{var d=e.clientX||e.event.clientX;d=d-i.x-this.get("group").attr("matrix")[6],t=r[0].value+d/a*(r[r.length-1].value-r[0].value)}t=t.toFixed(2),this.activate(t),this.emit("mousehover",{value:t})},c.activate=function(e){if(e){var t=this.get("group").findById("hoverPointer"),n=this.get("group").findById("hoverText"),r=this.get("items");if(!(e<r[0].value||e>r[r.length-1].value)){var i,o=this.get("height"),s=this.get("width"),l=this.get("titleShape"),c=this.get("titleGap"),u=[],d=(e-r[0].value)/(r[r.length-1].value-r[0].value);if("vertical"===this.get("layout")){var p=0,h=0;"color-legend"===this.get("type")&&(p=c,l&&(p+=l.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?p-=13:(p=c-15,l&&(p+=l.getBBox().height)),h+=10),u=[[h,(d=(1-d)*o)+p],[h-10,d+p-5],[h-10,d+p+5]],i=a.mix({},{x:s+this.get("textOffset")/2+h,y:d+p,text:this._formatItemValue(e)+""},this.get("textStyle"),{textAlign:"start"})}else{var f=0,m=0;"color-legend"===this.get("type")&&(f=c,l&&(f+=l.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?f-=7:(f=c,l||(f-=7)),m+=10),u=[[(d*=s)+m,f],[d+m-5,f-10],[d+m+5,f-10]],i=a.mix({},{x:d-5,y:o+this.get("textOffset")+f,text:this._formatItemValue(e)+""},this.get("textStyle"))}var g=a.mix(i,this.get("hoverTextStyle"));n?n.attr(g):(n=this.get("group").addShape("text",{attrs:g})).set("id","hoverText"),t?t.attr(a.mix({points:u},this.get("pointerStyle"))):(t=this.get("group").addShape("Polygon",{attrs:a.mix({points:u},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},c.deactivate=function(){var e=this.get("group").findById("hoverPointer");e&&e.destroy();var t=this.get("group").findById("hoverText");t&&t.destroy(),this.get("canvas").draw()},r}(r);e.exports=c},function(e,t,n){var a=n(67),r=n(3),i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return r.mix({},t,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},i.isContentChange=function(e,t){var n=this.get("titleContent"),a=this.get("items"),i=!(e===n&&a.length===t.length);return i||r.each(t,(function(e,t){var n=a[t];for(var o in e)if(e.hasOwnProperty(o)&&!r.isObject(e[o])&&e[o]!==n[o]){i=!0;break}if(i)return!1})),i},i.setContent=function(e,t){var n=(new Date).valueOf();return this.set("items",t),this.set("titleContent",e),this.set("timeStamp",n),this.render(),this},i.setPosition=function(e,t){this.set("x",e),this.set("y",t)},i.render=function(){},i.clear=function(){},i.show=function(){this.set("visible",!0)},i.hide=function(){this.set("visible",!1)},a}(a);e.exports=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),t.a=A;var a=n(415),r=n(416),i=n(417),o=n(418),s=n(388),l=n(420),c=n(421),u=n(422),d=n(423),p=n(424),h=n(425),f=n(426),m=n(427),g=n(428),v=n(429),y=n(430),_=n(431),b=n(390),w=n(432),E=n(433),T=n(434),x=n(435),C=n(436),S=n(437),k=n(438),O=n(439),M=n(440),L=n(441),D=n(442),R=n(377),N=n(443),I=[null];function A(e,t){this._groups=e,this._parents=t}function P(){return new A([[document.documentElement]],I)}A.prototype=P.prototype={constructor:A,select:a.a,selectAll:r.a,filter:i.a,data:o.a,enter:s.b,exit:l.a,join:c.a,merge:u.a,order:d.a,sort:p.a,call:h.a,nodes:f.a,node:m.a,size:g.a,empty:v.a,each:y.a,attr:_.a,style:b.a,property:w.a,classed:E.a,text:T.a,html:x.a,raise:C.a,lower:S.a,append:k.a,insert:O.a,remove:M.a,clone:L.a,datum:D.a,on:R.b,dispatch:N.a},t.b=P},function(e,t,n){var a=n(10),r=n(80);e.exports={toTimeStamp:function(e){return a(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),r(e)&&(e=e.getTime()),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(414);n.d(t,"create",(function(){return a.a}));var r=n(362);n.d(t,"creator",(function(){return r.a}));var i=n(444);n.d(t,"local",(function(){return i.a}));var o=n(387);n.d(t,"matcher",(function(){return o.a}));var s=n(445);n.d(t,"mouse",(function(){return s.a}));var l=n(373);n.d(t,"namespace",(function(){return l.a}));var c=n(374);n.d(t,"namespaces",(function(){return c.a}));var u=n(363);n.d(t,"clientPoint",(function(){return u.a}));var d=n(385);n.d(t,"select",(function(){return d.a}));var p=n(446);n.d(t,"selectAll",(function(){return p.a}));var h=n(70);n.d(t,"selection",(function(){return h.b}));var f=n(375);n.d(t,"selector",(function(){return f.a}));var m=n(386);n.d(t,"selectorAll",(function(){return m.a}));var g=n(390);n.d(t,"style",(function(){return g.b}));var v=n(447);n.d(t,"touch",(function(){return v.a}));var y=n(448);n.d(t,"touches",(function(){return y.a}));var _=n(376);n.d(t,"window",(function(){return _.a}));var b=n(377);n.d(t,"event",(function(){return b.c})),n.d(t,"customEvent",(function(){return b.a}))},function(e,t,n){e.exports={Position:n(294),Color:n(295),Shape:n(296),Size:n(297),Opacity:n(298),ColorUtil:n(148)}},function(e,t,n){var a=n(75),r=n(18);r.Linear=n(33),r.Identity=n(176),r.Cat=n(77),r.Time=n(177),r.TimeCat=n(179),r.Log=n(180),r.Pow=n(181);var i=function(e){if(r.hasOwnProperty(e)){var t=a(e);r[t]=function(t){return new r[e](t)}}};for(var o in r)i(o);var s=["cat","timeCat"];r.isCategory=function(e){return s.indexOf(e)>=0},e.exports=r},function(e,t,n){var a=n(24);e.exports=function(e){var t=a(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t){var n=12;function a(e,t){var n=e.length;if(0===n)return NaN;var a=e[0];if(t<e[0])return NaN;if(t>=e[n-1])return e[n-1];for(var r=1;r<e.length&&!(t<e[r]);r++)a=e[r];return a}function r(e,t){var n,a=e.length;if(0===a)return NaN;if(t>e[a-1])return NaN;if(t<e[0])return e[0];for(var r=1;r<e.length;r++)if(t<=e[r]){n=e[r];break}return n}var i={snapFactorTo:function(e,t,a){if(isNaN(e))return NaN;var r=1;if(0!==e){e<0&&(r=-1);var o=function(e){var t=1;if(e===1/0||e===-1/0)throw new Error("Not support Infinity!");if(e<1){for(var a=0;e<1;)t/=10,e*=10,a++;t.toString().length>n&&(t=parseFloat(t.toFixed(a)))}else for(;e>10;)t*=10,e/=10;return t}(e*=r);r*=o,e/=o}e="floor"===a?i.snapFloor(t,e):"ceil"===a?i.snapCeiling(t,e):i.snapTo(t,e);var s=parseFloat((e*r).toPrecision(n));return Math.abs(r)<1&&s.toString().length>n&&(s=e/parseInt(1/r)*(r>0?1:-1)),s},snapMultiple:function(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t},snapTo:function(e,t){var n=a(e,t),i=r(e,t);if(isNaN(n)||isNaN(i)){if(e[0]>=t)return e[0];var o=e[e.length-1];if(o<=t)return o}return Math.abs(t-n)<Math.abs(i-t)?n:i},snapFloor:function(e,t){return a(e,t)},snapCeiling:function(e,t){return r(e,t)},fixedBase:function(e,t){var n=t.toString(),a=n.indexOf("."),r=n.indexOf("e-");if(a<0&&r<0)return Math.round(e);var i=r>=0?parseInt(n.substr(r+2),10):n.substr(a+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))}};e.exports=i},function(e,t,n){var a=n(18),r=n(78),i=n(2),o=n(9),s=n(10),l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},l.init=function(){var e=this.values,t=this.tickCount;if(i(e,(function(t,n){e[n]=t.toString()})),!this.ticks){var n=e;t&&(n=r({maxCount:t,data:e,isRounding:this.isRounding}).ticks),this.ticks=n}},l.getText=function(t){return-1===this.values.indexOf(t)&&o(t)&&(t=this.values[Math.round(t)]),e.prototype.getText.call(this,t)},l.translate=function(e){var t=this.values.indexOf(e);return-1===t&&o(e)?t=e:-1===t&&(t=NaN),t},l.scale=function(e){var t=this.rangeMin(),n=this.rangeMax();return(s(e)||-1!==this.values.indexOf(e))&&(e=this.translate(e)),t+(this.values.length>1?e/(this.values.length-1):e)*(n-t)},l.invert=function(e){if(s(e))return e;var t=this.rangeMin(),n=this.rangeMax();e<t&&(e=t),e>n&&(e=n);var a=(e-t)/(n-t),r=Math.round(a*(this.values.length-1))%this.values.length;return r=r||0,this.values[r]},a}(a);a.Cat=l,e.exports=l},function(e,t,n){var a=n(2);e.exports=function(e){var t,n={},r=[],i=e.isRounding,o=function(e){var t=[];return a(e,(function(e){t=t.concat(e)})),t}(e.data),s=o.length,l=e.maxCount||8;if(i?2===(t=function(e,t){var n;for(n=t;n>0&&e%n!==0;n--);if(1===n)for(n=t;n>0&&(e-1)%n!==0;n--);return n}(s-1,l-1)+1)?t=l:t<l-4&&(t=l-4):t=l,!i&&s<=t+t/2)r=[].concat(o);else{for(var c=parseInt(s/(t-1),10),u=o.map((function(e,t){return t%c===0?o.slice(t,t+c):null})).filter((function(e){return e})),d=1,p=u.length;d<p&&(i?d*c<s-c:d<t-1);d++)r.push(u[d][0]);if(o.length){r.unshift(o[0]);var h=o[s-1];-1===r.indexOf(h)&&r.push(h)}}return n.categories=o,n.ticks=r,n}},function(e,t,n){var a;!function(r){"use strict";var i={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s=/\d\d?/,l=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,c=/\[([^]*?)\]/gm,u=function(){};function d(e,t){for(var n=[],a=0,r=e.length;a<r;a++)n.push(e[a].substr(0,t));return n}function p(e){return function(t,n,a){var r=a[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(t.month=r)}}function h(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],g=d(m,3),v=d(f,3);i.i18n={dayNamesShort:v,dayNames:f,monthNamesShort:g,monthNames:m,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10)*e%10]}};var y={D:function(e){return e.getDate()},DD:function(e){return h(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return h(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return h(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return h(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return h(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return h(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return h(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return h(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return h(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return h(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+h(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},_={D:[s,function(e,t){e.day=t}],Do:[new RegExp(s.source+l.source),function(e,t){e.day=parseInt(t,10)}],M:[s,function(e,t){e.month=t-1}],YY:[s,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[s,function(e,t){e.hour=t}],m:[s,function(e,t){e.minute=t}],s:[s,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[s,u],ddd:[l,u],MMM:[l,p("monthNamesShort")],MMMM:[l,p("monthNames")],a:[l,function(e,t,n){var a=t.toLowerCase();a===n.amPm[0]?e.isPm=!1:a===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var n,a=(t+"").match(/([\+\-]|\d\d)/gi);a&&(n=60*a[1]+parseInt(a[2],10),e.timezoneOffset="+"===a[0]?n:-n)}]};_.dd=_.d,_.dddd=_.ddd,_.DD=_.D,_.mm=_.m,_.hh=_.H=_.HH=_.h,_.MM=_.M,_.ss=_.s,_.A=_.a,i.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},i.format=function(e,t,n){var a=n||i.i18n;if("number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=i.masks[t]||t||i.masks.default;var r=[];return(t=(t=t.replace(c,(function(e,t){return r.push(t),"??"}))).replace(o,(function(t){return t in y?y[t](e,a):t.slice(1,t.length-1)}))).replace(/\?\?/g,(function(){return r.shift()}))},i.parse=function(e,t,n){var a=n||i.i18n;if("string"!==typeof t)throw new Error("Invalid format in fecha.parse");if(t=i.masks[t]||t,e.length>1e3)return!1;var r=!0,s={};if(t.replace(o,(function(t){if(_[t]){var n=_[t],i=e.search(n[0]);~i?e.replace(n[0],(function(t){return n[1](s,t,a),e=e.substr(i+t.length),t})):r=!1}return _[t]?"":t.slice(1,t.length-1)})),!r)return!1;var l,c=new Date;return!0===s.isPm&&null!=s.hour&&12!==+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12===+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,l=new Date(Date.UTC(s.year||c.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):l=new Date(s.year||c.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),l},"undefined"!==typeof e&&e.exports?e.exports=i:void 0===(a=function(){return i}.call(t,n,t,e))||(e.exports=a)}()},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"Date")}},function(e,t,n){e.exports={isFunction:n(11),isObject:n(25),isBoolean:n(82),isNil:n(5),isString:n(10),isArray:n(4),isNumber:n(9),isEmpty:n(83),uniqueId:n(86),clone:n(47),deepMix:n(48),assign:n(8),merge:n(48),upperFirst:n(87),each:n(2),isEqual:n(50),toArray:n(34),extend:n(88),augment:n(89),remove:n(90),isNumberEqual:n(35),toRadian:n(91),toDegree:n(92),mod:n(93),clamp:n(51),createDom:n(94),modifyCSS:n(95),requestAnimationFrame:n(96),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(52),vec2:n(97),vec3:n(98),transform:n(99)}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"Boolean")}},function(e,t,n){var a=n(5),r=n(13),i=n(84),o=n(85),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(a(e))return!0;if(r(e))return!e.length;var t=i(e);if("Map"===t||"Set"===t)return!e.size;if(o(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).replace(/^\[object /,"").replace(/\]$/,"")}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||n)}},function(e,t){var n=function(){var e={};return function(t){return e[t=t||"g"]?e[t]+=1:e[t]=1,t+e[t]}}();e.exports=n},function(e,t,n){var a=n(24);e.exports=function(e){var t=a(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){var a=n(11),r=n(8);e.exports=function(e,t,n,i){a(t)||(n=t,t=e,e=function(){});var o=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var a=new n;return a.constructor=t,a},s=o(t.prototype,e);return e.prototype=r(s,e.prototype),e.superclass=o(t.prototype,t),r(s,n),r(e,i),e}},function(e,t,n){var a=n(11),r=n(34),i=n(8);e.exports=function(e){for(var t=r(arguments),n=1;n<t.length;n++){var o=t[n];a(o)&&(o=o.prototype),i(e.prototype,o)}}},function(e,t){var n=Array.prototype,a=n.splice,r=n.indexOf,i=n.slice;e.exports=function(e){for(var t=i.call(arguments,1),n=0;n<t.length;n++)for(var o=t[n],s=-1;(s=r.call(e,o))>-1;)a.call(e,s,1);return e}},function(e,t){var n=Math.PI/180;e.exports=function(e){return n*e}},function(e,t){var n=180/Math.PI;e.exports=function(e){return n*e}},function(e,t){e.exports=function(e,t){return(e%t+t)%t}},function(e,t){var n=document.createElement("table"),a=document.createElement("tr"),r=/^\s*<(\w+|!)[^>]*>/,i={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:a,th:a,"*":document.createElement("div")};e.exports=function(e){var t=r.test(e)&&RegExp.$1;t in i||(t="*");var n=i[t];e=e.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+e;var a=n.childNodes[0];return n.removeChild(a),a}},function(e,t){e.exports=function(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}},function(e,t){e.exports=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){var a=n(184),r=n(51);a.angle=function(e,t){var n=a.dot(e,t)/(a.length(e)*a.length(t));return Math.acos(r(n,-1,1))},a.direction=function(e,t){return e[0]*t[1]-t[0]*e[1]},a.angleTo=function(e,t,n){var r=a.angle(e,t),i=a.direction(e,t)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},a.vertical=function(e,t,n){return n?(e[0]=t[1],e[1]=-1*t[0]):(e[0]=-1*t[1],e[1]=t[0]),e},e.exports=a},function(e,t,n){var a=n(185);e.exports=a},function(e,t,n){var a=n(47),r=n(2),i=n(52);e.exports=function(e,t){return e=a(e),r(t,(function(t){switch(t[0]){case"t":i.translate(e,e,[t[1],t[2]]);break;case"s":i.scale(e,e,[t[1],t[2]]);break;case"r":i.rotate(e,e,t[1]);break;case"m":i.multiply(e,e,t[1]);break;default:return!1}})),e}},function(e,t,n){var a=n(1),r=function(e,t,n,a){this.type=e,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=a,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=t};a.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return a.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),e.exports=r},function(e,t,n){var a=n(1),r=n(102),i=n(189),o={},s="_INDEX";function l(e,t,n){for(var a,r=e.length-1;r>=0;r--){var i=e[r];if(i._cfg.visible&&i._cfg.capture&&(i.isGroup?a=i.getShape(t,n):i.isHit(t,n)&&(a=i)),a)break}return a}var c=function e(t){e.superclass.constructor.call(this,t),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};a.extend(c,r),a.augment(c,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function e(t){if(!t._cfg&&t!==c){var n=t.superclass.constructor;n&&!n._cfg&&e(n),t._cfg={},a.merge(t._cfg,n._cfg),a.merge(t._cfg,t.CFG)}}(this.constructor),a.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(e,t){var n=this.get("canvas");t=t||{};var r=o[e];if(r||(r=a.upperFirst(e),o[e]=r),t.attrs&&n){var s=t.attrs;if("text"===e){var l=n.get("fontFamily");l&&(s.fontFamily=s.fontFamily?s.fontFamily:l)}}t.canvas=n,t.type=e;var c=new i[r](t);return this.add(c),c},addGroup:function(e,t){var n,r=this.get("canvas");if(t=a.merge({},t),a.isFunction(e))t?(t.canvas=r,t.parent=this,n=new e(t)):n=new e({canvas:r,parent:this}),this.add(n);else if(a.isObject(e))e.canvas=r,n=new c(e),this.add(n);else{if(void 0!==e)return!1;n=new c,this.add(n)}return n},renderBack:function(e,t){var n=this.get("backShape"),r=this.getBBox();return a.merge(t,{x:r.minX-e[3],y:r.minY-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2]}),n?n.attr(t):n=this.addShape("rect",{zIndex:-1,attrs:t}),this.set("backShape",n),this.sort(),n},removeChild:function(e,t){if(arguments.length>=2)this.contain(e)&&e.remove(t);else{if(1===arguments.length){if(!a.isBoolean(e))return this.contain(e)&&e.remove(!0),this;t=e}0===arguments.length&&(t=!0),c.superclass.remove.call(this,t)}return this},add:function(e){var t=this,n=t.get("children");if(a.isArray(e))a.each(e,(function(e){var n=e.get("parent");n&&n.removeChild(e,!1),t._setCfgProperty(e)})),t._cfg.children=n.concat(e);else{var r=e,i=r.get("parent");i&&i.removeChild(r,!1),t._setCfgProperty(r),n.push(r)}return t},_setCfgProperty:function(e){var t=this._cfg;e.set("parent",this),e.set("canvas",t.canvas),t.timeline&&e.set("timeline",t.timeline)},contain:function(e){return this.get("children").indexOf(e)>-1},getChildByIndex:function(e){return this.get("children")[e]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var e=this.get("children").length-1;return this.getChildByIndex(e)},getBBox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.get("children");i.length>0?a.each(i,(function(a){if(a.get("visible")){if(a.isGroup&&0===a.get("children").length)return;var i=a.getBBox();if(!i)return!0;var o=[i.minX,i.minY,1],s=[i.minX,i.maxY,1],l=[i.maxX,i.minY,1],c=[i.maxX,i.maxY,1];a.apply(o),a.apply(s),a.apply(l),a.apply(c);var u=Math.min(o[0],s[0],l[0],c[0]),d=Math.max(o[0],s[0],l[0],c[0]),p=Math.min(o[1],s[1],l[1],c[1]),h=Math.max(o[1],s[1],l[1],c[1]);u<e&&(e=u),d>t&&(t=d),p<n&&(n=p),h>r&&(r=h)}})):(e=0,t=0,n=0,r=0);var o={minX:e,minY:n,maxX:t,maxY:r};return o.x=o.minX,o.y=o.minY,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY,o},getCount:function(){return this.get("children").length},sort:function(){var e,t=this.get("children");return a.each(t,(function(e,t){return e[s]=t,e})),t.sort((e=function(e,t){return e.get("zIndex")-t.get("zIndex")},function(t,n){var a=e(t,n);return 0===a?t[s]-n[s]:a})),this},findById:function(e){return this.find((function(t){return t.get("id")===e}))},find:function(e){if(a.isString(e))return this.findById(e);var t=this.get("children"),n=null;return a.each(t,(function(t){if(e(t)?n=t:t.find&&(n=t.find(e)),n)return!1})),n},findAll:function(e){var t=this.get("children"),n=[],r=[];return a.each(t,(function(t){e(t)&&n.push(t),t.findAllBy&&(r=t.findAllBy(e),n=n.concat(r))})),n},findBy:function(e){var t=this.get("children"),n=null;return a.each(t,(function(t){if(e(t)?n=t:t.findBy&&(n=t.findBy(e)),n)return!1})),n},findAllBy:function(e){var t=this.get("children"),n=[],r=[];return a.each(t,(function(t){e(t)&&n.push(t),t.findAllBy&&(r=t.findAllBy(e),n=n.concat(r))})),n},getShape:function(e,t){var n,a=this._attrs.clip,r=this._cfg.children;if(a){var i=[e,t,1];a.invert(i,this.get("canvas")),a.isPointInPath(i[0],i[1])&&(n=l(r,e,t))}else n=l(r,e,t);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var e=this._cfg.children,t=0;t<e.length;t++)e[t].clearTotalMatrix()}},clear:function(e){for(var t=this._cfg.children,n=t.length-1;n>=0;n--)t[n].remove(!0,e);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),c.superclass.destroy.call(this))},clone:function(){var e=this._cfg.children,t=new c;return a.each(e,(function(e){t.add(e.clone())})),t}}),e.exports=c},function(e,t,n){var a=n(1),r=n(186),i=n(187),o=n(188),s=n(54),l=function(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},a.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};l.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},a.augment(l,r,i,s,o,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(e,t){return"zIndex"===e&&this._beforeSetZIndex&&this._beforeSetZIndex(t),"loading"===e&&this._beforeSetLoading&&this._beforeSetLoading(t),this._cfg[e]=t,this},setSilent:function(e,t){this._cfg[e]=t},get:function(e){return this._cfg[e]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(e,t){var n=this._cfg,r=n.parent,i=n.el;return r&&a.remove(r.get("children"),this),i&&(t?r&&r._cfg.tobeRemoved.push(i):i.parentNode.removeChild(i)),(e||void 0===e)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var e=this._cfg,t=e.parent;if(t){var n=t._cfg.children,a=e.el,r=n.indexOf(this);n.splice(r,1),n.push(this),a&&(a.parentNode.removeChild(a),e.el=null)}},toBack:function(){var e=this._cfg,t=e.parent;if(t){var n=t._cfg.children,a=e.el,r=n.indexOf(this);if(n.splice(r,1),n.unshift(this),a){var i=a.parentNode;i.removeChild(a),i.insertBefore(a,i.firstChild)}}},_beforeSetZIndex:function(e){var t=this._cfg.parent;this._cfg.zIndex=e,a.isNil(t)||t.sort();var n=this._cfg.el;if(n){var r=t._cfg.children,i=r.indexOf(this),o=n.parentNode;o.removeChild(n),i===r.length-1?o.appendChild(n):o.insertBefore(n,o.childNodes[i])}return e},_setAttrs:function(e){return this.attr(e),e},setZIndex:function(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function(){return a.clone(this)},getBBox:function(){}}),e.exports=l},function(e,t,n){var a=n(1),r=a.vec2;function i(e,t,n,a){var r=1-a;return r*(r*e+2*a*t)+a*a*n}function o(e,t,n,a,o,s,l,c,u){var d,p,h,f,m,g,v,y=.005,_=1/0,b=[l,c];for(m=0;m<1;m+=.05)h=[i(e,n,o,m),i(t,a,s,m)],(p=r.squaredDistance(b,h))<_&&(d=m,_=p);for(_=1/0,v=0;v<32&&!(y<1e-4);v++){var w=d-y,E=d+y;h=[i(e,n,o,w),i(t,a,s,w)],p=r.squaredDistance(b,h),w>=0&&p<_?(d=w,_=p):(f=[i(e,n,o,E),i(t,a,s,E)],g=r.squaredDistance(b,f),E<=1&&g<_?(d=E,_=g):y*=.5)}return u&&(u.x=i(e,n,o,d),u.y=i(t,a,s,d)),Math.sqrt(_)}e.exports={at:i,projectPoint:function(e,t,n,a,r,i,s,l){var c={};return o(e,t,n,a,r,i,s,l,c),c},pointDistance:o,extrema:function(e,t,n){var r=e+n-2*t;if(a.isNumberEqual(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}}},function(e,t){e.exports={xAt:function(e,t,n,a,r){return t*Math.cos(e)*Math.cos(r)-n*Math.sin(e)*Math.sin(r)+a},yAt:function(e,t,n,a,r){return t*Math.sin(e)*Math.cos(r)+n*Math.cos(e)*Math.sin(r)+a},xExtrema:function(e,t,n){return Math.atan(-n/t*Math.tan(e))},yExtrema:function(e,t,n){return Math.atan(n/(t*Math.tan(e)))}}},function(e,t,n){var a=n(1),r=n(6),i=n(37),o=n(38);function s(e,t,n){return e+t*Math.cos(n)}function l(e,t,n){return e+t*Math.sin(n)}var c=function e(t){e.superclass.constructor.call(this,t)};c.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},a.extend(c,r),a.augment(c,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.r,r=e.startAngle,o=e.endAngle,s=e.clockwise,l=this.getHitLineWidth()/2,c=i.box(t,n,a,r,o,s);return c.minX-=l,c.minY-=l,c.maxX+=l,c.maxY+=l,c},getStartTangent:function(){var e=this._attrs,t=e.x,n=e.y,a=e.startAngle,r=e.r,i=e.clockwise,o=Math.PI/180;i&&(o*=-1);var c=[],u=s(t,r,a+o),d=l(n,r,a+o),p=s(t,r,a),h=l(n,r,a);return c.push([u,d]),c.push([p,h]),c},getEndTangent:function(){var e=this._attrs,t=e.x,n=e.y,a=e.endAngle,r=e.r,i=e.clockwise,o=Math.PI/180,c=[];i&&(o*=-1);var u=s(t,r,a+o),d=l(n,r,a+o),p=s(t,r,a),h=l(n,r,a);return c.push([p,h]),c.push([u,d]),c},createPath:function(e){var t=this._attrs,n=t.x,a=t.y,r=t.r,i=t.startAngle,o=t.endAngle,s=t.clockwise;(e=e||self.get("context")).beginPath(),e.arc(n,a,r,i,o,s)},afterPath:function(e){var t=this._attrs;if(e=e||this.get("context"),t.startArrow){var n=this.getStartTangent();o.addStartArrow(e,t,n[0][0],n[0][1],n[1][0],n[1][1])}if(t.endArrow){var a=this.getEndTangent();o.addEndArrow(e,t,a[0][0],a[0][1],a[1][0],a[1][1])}}}),e.exports=c},function(e,t,n){var a=n(1),r=n(6),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,r:0,lineWidth:1},a.extend(i,r),a.augment(i,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.r,r=this.getHitLineWidth()/2+a;return{minX:t-r,minY:n-r,maxX:t+r,maxY:n+r}},createPath:function(e){var t=this._attrs,n=t.x,a=t.y,r=t.r;e.beginPath(),e.arc(n,a,r,0,2*Math.PI,!1),e.closePath()}}),e.exports=i},function(e,t,n){var a=n(1),r=n(6),i=function e(t){e.superclass.constructor.call(this,t)};a.extend(i,r),a.augment(i,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.width,r=e.height,i=this.getHitLineWidth()/2;return{minX:t-i,minY:n-i,maxX:t+a+i,maxY:n+r+i}}}),e.exports=i},function(e,t,n){var a=n(1),r=n(6),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},a.extend(i,r),a.augment(i,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.rx,r=e.ry,i=this.getHitLineWidth(),o=a+i/2,s=r+i/2;return{minX:t-o,minY:n-s,maxX:t+o,maxY:n+s}},createPath:function(e){var t=this._attrs,n=t.x,r=t.y,i=t.rx,o=t.ry;e=e||self.get("context");var s=i>o?i:o,l=i>o?1:i/o,c=i>o?o/i:1,u=[1,0,0,0,1,0,0,0,1];a.mat3.scale(u,u,[l,c]),a.mat3.translate(u,u,[n,r]),e.beginPath(),e.save(),e.transform(u[0],u[1],u[3],u[4],u[6],u[7]),e.arc(0,0,s,0,2*Math.PI),e.restore(),e.closePath()}}),e.exports=i},function(e,t,n){var a=n(1),r=n(6),i=n(37),o=function e(t){e.superclass.constructor.call(this,t)};o.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},a.extend(o,r),a.augment(o,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.rs,r=e.re,o=e.startAngle,s=e.endAngle,l=e.clockwise,c=this.getHitLineWidth(),u=i.box(t,n,a,o,s,l),d=i.box(t,n,r,o,s,l),p=c/2;return{minX:Math.min(u.minX,d.minX)-p,minY:Math.min(u.minY,d.minY)-p,maxX:Math.max(u.maxX,d.maxX)+p,maxY:Math.max(u.maxY,d.maxY)+p}},createPath:function(e){var t=this._attrs,n=t.x,a=t.y,r=t.rs,i=t.re,o=t.startAngle,s=t.endAngle,l=t.clockwise,c={x:Math.cos(o)*r+n,y:Math.sin(o)*r+a},u={x:Math.cos(o)*i+n,y:Math.sin(o)*i+a},d={x:Math.cos(s)*r+n,y:Math.sin(s)*r+a};(e=e||self.get("context")).beginPath(),e.moveTo(c.x,c.y),e.lineTo(u.x,u.y),e.arc(n,a,i,o,s,l),e.lineTo(d.x,d.y),e.arc(n,a,r,s,o,!l),e.closePath()}}),e.exports=o},function(e,t,n){var a=n(1),r=n(6),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},a.extend(i,r),a.augment(i,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var e=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===e.img||this._setAttrImg();var t=e.x,n=e.y;return{minX:t,minY:n,maxX:t+e.width,maxY:n+e.height}},_beforeSetLoading:function(e){var t=this.get("canvas");return!1===e&&!0===this.get("toDraw")&&(this._cfg.loading=!1,t.draw()),e},_setAttrImg:function(){var e=this,t=e._attrs,n=t.img;if(!a.isString(n))return n instanceof Image?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):n instanceof HTMLElement&&a.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(t.width||e.attr("width",Number(n.getAttribute("width"))),t.height||e.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):null;var r=new Image;r.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",n),e.attr("img",r);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},r.src=n,r.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function(e){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(e),this._cfg.hasUpdate=!1)},_drawImage:function(e){var t=this._attrs,n=t.x,r=t.y,i=t.img,o=t.width,s=t.height,l=t.sx,c=t.sy,u=t.swidth,d=t.sheight;this.set("toDraw",!1);var p=i;if(p instanceof ImageData&&((p=new Image).src=i),p instanceof Image||p instanceof HTMLElement&&a.isString(p.nodeName)&&"CANVAS"===p.nodeName.toUpperCase()){if(a.isNil(l)||a.isNil(c)||a.isNil(u)||a.isNil(d))return void e.drawImage(p,n,r,o,s);if(!a.isNil(l)&&!a.isNil(c)&&!a.isNil(u)&&!a.isNil(d))return void e.drawImage(p,l,c,u,d,n,r,o,s)}}}),e.exports=i},function(e,t,n){var a=n(1),r=n(6),i=n(38),o=n(36),s=function e(t){e.superclass.constructor.call(this,t)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},a.extend(s,r),a.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var e=this._attrs,t=e.x1,n=e.y1,a=e.x2,r=e.y2,i=this.getHitLineWidth();return o.box(t,n,a,r,i)},createPath:function(e){var t=this._attrs,n=t.x1,a=t.y1,r=t.x2,i=t.y2;(e=e||self.get("context")).beginPath(),e.moveTo(n,a),e.lineTo(r,i)},afterPath:function(e){var t=this._attrs,n=t.x1,a=t.y1,r=t.x2,o=t.y2;e=e||this.get("context"),t.startArrow&&i.addStartArrow(e,t,r,o,n,a),t.endArrow&&i.addEndArrow(e,t,n,a,r,o)},getPoint:function(e){var t=this._attrs;return{x:o.at(t.x1,t.x2,e),y:o.at(t.y1,t.y2,e)}}}),e.exports=s},function(e,t,n){var a=n(1),r=n(6),i=n(39),o=n(27),s=n(38),l=n(58),c=n(56),u=function e(t){e.superclass.constructor.call(this,t)};u.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},a.extend(u,r),a.augment(u,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(e){if(a.isNil(e))return this.setSilent("segments",null),void this.setSilent("box",void 0);var t,n=o.parsePath(e),r=[];if(a.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,l=0;l<n.length;l++){var c=n[l];t=new i(c,t,l===s-1),r.push(t)}this.setSilent("segments",r),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var e=this.get("segments");if(!e)return null;var t=this.getHitLineWidth(),n=1/0,r=-1/0,i=1/0,o=-1/0;return a.each(e,(function(e){e.getBBox(t);var a=e.box;a&&(a.minX<n&&(n=a.minX),a.maxX>r&&(r=a.maxX),a.minY<i&&(i=a.minY),a.maxY>o&&(o=a.maxY))})),n===1/0||i===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:i,maxX:r,maxY:o}},_setTcache:function(){var e,t,n,r,i=0,o=0,s=[],l=this._cfg.curve;l&&(a.each(l,(function(e,t){n=l[t+1],r=e.length,n&&(i+=c.len(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6]))})),a.each(l,(function(a,u){n=l[u+1],r=a.length,n&&((e=[])[0]=o/i,t=c.len(a[r-2],a[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=t,e[1]=o/i,s.push(e))})),this._cfg.tCache=s)},_calculateCurve:function(){var e=this._attrs.path;this._cfg.curve=l.pathTocurve(e)},getStartTangent:function(){var e,t,n,r,i=this.get("segments");if(i.length>1)if(e=i[0].endPoint,t=i[1].endPoint,n=i[1].startTangent,r=[],a.isFunction(n)){var o=n();r.push([e.x-o[0],e.y-o[1]]),r.push([e.x,e.y])}else r.push([t.x,t.y]),r.push([e.x,e.y]);return r},getEndTangent:function(){var e,t,n,r,i=this.get("segments"),o=i.length;if(o>1)if(e=i[o-2].endPoint,t=i[o-1].endPoint,n=i[o-1].endTangent,r=[],a.isFunction(n)){var s=n();r.push([t.x-s[0],t.y-s[1]]),r.push([t.x,t.y])}else r.push([e.x,e.y]),r.push([t.x,t.y]);return r},getPoint:function(e){var t,n,r=this._cfg.tCache;r||(this._calculateCurve(),this._setTcache(),r=this._cfg.tCache);var i=this._cfg.curve;if(!r)return i?{x:i[0][1],y:i[0][2]}:null;a.each(r,(function(a,r){e>=a[0]&&e<=a[1]&&(t=(e-a[0])/(a[1]-a[0]),n=r)}));var o=i[n];if(a.isNil(o)||a.isNil(n))return null;var s=o.length,l=i[n+1];return{x:c.at(o[s-2],l[1],l[3],l[5],1-t),y:c.at(o[s-1],l[2],l[4],l[6],1-t)}},createPath:function(e){var t=this.get("segments");if(a.isArray(t)){(e=e||this.get("context")).beginPath();for(var n=t.length,r=0;r<n;r++)t[r].draw(e)}},afterPath:function(e){var t=this._attrs,n=this.get("segments"),r=t.path;if(e=e||this.get("context"),a.isArray(n)&&1!==n.length&&(t.startArrow||t.endArrow)&&"z"!==r[r.length-1]&&"Z"!==r[r.length-1]&&!t.fill){var i=this.getStartTangent();s.addStartArrow(e,t,i[0][0],i[0][1],i[1][0],i[1][1]);var o=this.getEndTangent();s.addEndArrow(e,t,o[0][0],o[0][1],o[1][0],o[1][1])}}}),e.exports=u},function(e,t,n){var a=n(1),r=n(6),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={points:null,lineWidth:1},a.extend(i,r),a.augment(i,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var e=this._attrs.points,t=this.getHitLineWidth();if(!e||0===e.length)return null;var n=1/0,r=1/0,i=-1/0,o=-1/0;a.each(e,(function(e){var t=e[0],a=e[1];t<n&&(n=t),t>i&&(i=t),a<r&&(r=a),a>o&&(o=a)}));var s=t/2;return{minX:n-s,minY:r-s,maxX:i+s,maxY:o+s}},createPath:function(e){var t=this._attrs.points;t.length<2||((e=e||this.get("context")).beginPath(),a.each(t,(function(t,n){0===n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])})),e.closePath())}}),e.exports=i},function(e,t,n){var a=n(1),r=n(6),i=n(38),o=n(36),s=function e(t){e.superclass.constructor.call(this,t)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},a.extend(s,r),a.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var e=this._attrs,t=this.getHitLineWidth(),n=e.points;if(!n||0===n.length)return null;var r=1/0,i=1/0,o=-1/0,s=-1/0;a.each(n,(function(e){var t=e[0],n=e[1];t<r&&(r=t),t>o&&(o=t),n<i&&(i=n),n>s&&(s=n)}));var l=t/2;return{minX:r-l,minY:i-l,maxX:o+l,maxY:s+l}},_setTcache:function(){var e,t,n=this._attrs.points,r=0,i=0,s=[];n&&0!==n.length&&(a.each(n,(function(e,t){n[t+1]&&(r+=o.len(e[0],e[1],n[t+1][0],n[t+1][1]))})),r<=0||(a.each(n,(function(a,l){n[l+1]&&((e=[])[0]=i/r,t=o.len(a[0],a[1],n[l+1][0],n[l+1][1]),i+=t,e[1]=i/r,s.push(e))})),this.tCache=s))},createPath:function(e){var t,n,a=this._attrs.points;if(!(a.length<2)){for((e=e||this.get("context")).beginPath(),e.moveTo(a[0][0],a[0][1]),n=1,t=a.length-1;n<t;n++)e.lineTo(a[n][0],a[n][1]);e.lineTo(a[t][0],a[t][1])}},getStartTangent:function(){var e=this.__attrs.points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},getEndTangent:function(){var e=this.__attrs.points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},afterPath:function(e){var t=this._attrs,n=t.points,a=n.length-1;e=e||this.get("context"),t.startArrow&&i.addStartArrow(e,t,n[1][0],n[1][1],n[0][0],n[0][1]),t.endArrow&&i.addEndArrow(e,t,n[a-1][0],n[a-1][1],n[a][0],n[a][1])},getPoint:function(e){var t,n,r=this._attrs.points,i=this.tCache;return i||(this._setTcache(),i=this.tCache),a.each(i,(function(a,r){e>=a[0]&&e<=a[1]&&(t=(e-a[0])/(a[1]-a[0]),n=r)})),{x:o.at(r[n][0],r[n+1][0],t),y:o.at(r[n][1],r[n+1][1],t)}}}),e.exports=s},function(e,t,n){var a=n(1),r=n(27).parseRadius,i=n(6),o=function e(t){e.superclass.constructor.call(this,t)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},a.extend(o,i),a.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,a=e.width,r=e.height,i=this.getHitLineWidth()/2;return{minX:t-i,minY:n-i,maxX:t+a+i,maxY:n+r+i}},createPath:function(e){var t=this._attrs,n=t.x,a=t.y,i=t.width,o=t.height,s=t.radius;if((e=e||this.get("context")).beginPath(),0===s)e.rect(n,a,i,o);else{var l=r(s);e.moveTo(n+l.r1,a),e.lineTo(n+i-l.r2,a),0!==l.r2&&e.arc(n+i-l.r2,a+l.r2,l.r2,-Math.PI/2,0),e.lineTo(n+i,a+o-l.r3),0!==l.r3&&e.arc(n+i-l.r3,a+o-l.r3,l.r3,0,Math.PI/2),e.lineTo(n+l.r4,a+o),0!==l.r4&&e.arc(n+l.r4,a+o-l.r4,l.r4,Math.PI/2,Math.PI),e.lineTo(n,a+l.r1),0!==l.r1&&e.arc(n+l.r1,a+l.r1,l.r1,Math.PI,1.5*Math.PI),e.closePath()}}}),e.exports=o},function(e,t,n){var a=n(1),r=n(6),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},a.extend(i,r),a.augment(i,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var e=this._attrs.fontSize;e&&+e<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+e/12,+e/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var e=this._attrs,t=e.fontSize,n=e.fontFamily,a=e.fontWeight,r=e.fontStyle,i=e.fontVariant;e.font=[r,i,a,t+"px",n].join(" ")},_setAttrText:function(){var e=this._attrs,t=e.text,n=null;if(a.isString(t)&&-1!==t.indexOf("\n")){var r=(n=t.split("\n")).length;e.lineCount=r}e.textArr=n},_getTextHeight:function(){var e=this._attrs,t=e.lineCount,n=1*e.fontSize;return t>1?n*t+this._getSpaceingY()*(t-1):n},isHitBox:function(){return!1},calculateBox:function(){var e=this._attrs,t=this._cfg;t.attrs&&!t.hasUpdate||(this._assembleFont(),this._setAttrText()),e.textArr||this._setAttrText();var n=e.x,a=e.y,r=this.measureText();if(!r)return{minX:n,minY:a,maxX:n,maxY:a};var i=this._getTextHeight(),o=e.textAlign,s=e.textBaseline,l=this.getHitLineWidth(),c={x:n,y:a-i};o&&("end"===o||"right"===o?c.x-=r:"center"===o&&(c.x-=r/2)),s&&("top"===s?c.y+=i:"middle"===s&&(c.y+=i/2)),this.set("startPoint",c);var u=l/2;return{minX:c.x-u,minY:c.y-u,maxX:c.x+r+u,maxY:c.y+i+u}},_getSpaceingY:function(){var e=this._attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},drawInner:function(e){var t=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),e.font=t.font;var r=t.text;if(r){var i=t.textArr,o=t.x,s=t.y;if(e.beginPath(),this.hasStroke()){var l=t.strokeOpacity;a.isNil(l)||1===l||(e.globalAlpha=l),i?this._drawTextArr(e,!1):e.strokeText(r,o,s),e.globalAlpha=1}if(this.hasFill()){var c=t.fillOpacity;a.isNil(c)||1===c||(e.globalAlpha=c),i?this._drawTextArr(e,!0):e.fillText(r,o,s)}n.hasUpdate=!1}},_drawTextArr:function(e,t){var n,r=this._attrs.textArr,i=this._attrs.textBaseline,o=1*this._attrs.fontSize,s=this._getSpaceingY(),l=this._attrs.x,c=this._attrs.y,u=this.getBBox(),d=u.maxY-u.minY;a.each(r,(function(a,r){n=c+r*(s+o)-d+o,"middle"===i&&(n+=d-o-(d-o)/2),"top"===i&&(n+=d-o),t?e.fillText(a,l,n):e.strokeText(a,l,n)}))},measureText:function(){var e,t=this._attrs,n=t.text,r=t.font,i=t.textArr,o=0;if(!a.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=r,i?a.each(i,(function(t){e=s.measureText(t).width,o<e&&(o=e),s.restore()})):(o=s.measureText(n).width,s.restore()),o}}}),e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=Math.PI/180,r=180/Math.PI},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n(17),r=n(63),i=n(119),o=n(28);function s(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=Object(a.f)(t[n]),o[n]=r.r||0,s[n]=r.g||0,l[n]=r.b||0;return o=e(o),s=e(s),l=e(l),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=l(e),r+""}}}t.a=function e(t){var n=Object(o.b)(t);function r(e,t){var r=n((e=Object(a.f)(e)).r,(t=Object(a.f)(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),l=Object(o.a)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=l(t),e+""}}return r.gamma=e,r}(1);var l=s(r.b),c=s(i.a)},function(e,t,n){"use strict";var a=n(63);t.a=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return Object(a.a)((n-r/t)*t,i,o,s,l)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var a=n(60);t.a=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Object(a.a)(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return t-=e=+e,function(a){return n.setTime(e+t*a),n}}},function(e,t,n){"use strict";var a=n(60);t.a=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Object(a.a)(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}},function(e,t,n){"use strict";var a=n(40),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=new RegExp(r.source,"g");t.a=function(e,t){var n,o,s,l=r.lastIndex=i.lastIndex=0,c=-1,u=[],d=[];for(e+="",t+="";(n=r.exec(e))&&(o=i.exec(t));)(s=o.index)>l&&(s=t.slice(l,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,d.push({i:c,x:Object(a.a)(n,o)})),l=i.lastIndex;return l<t.length&&(s=t.slice(l),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var n,a=0;a<t;++a)u[(n=d[a]).i]=n.x(e);return u.join("")})}},function(e,t,n){var a=n(0),r=n(292),i={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},o={line:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},path:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},area:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.fadeIn},leave:function(){return r.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return r.appear.zoomIn},enter:function(){return r.enter.zoomIn},leave:function(){return r.leave.zoomOut}},edge:{appear:function(){return r.appear.pathIn},enter:function(){return r.enter.pathIn},leave:function(){return r.leave.pathOut}},interval:{appear:function(e){var t;return e.isPolar?(t=r.appear.zoomIn,(e.isTransposed||"theta"===e.type)&&(t=r.appear.fanIn)):t=e.isRect?e.isTransposed?r.appear.scaleInX:r.appear.scaleInY:r.appear.zoomIn,t},enter:function(e){return e.isRect||e.isTransposed||"theta"===e.type?r.enter.fadeIn:r.enter.zoomIn},leave:function(){return r.leave.fadeOut},update:function(e){if("theta"===e.type)return r.update.fanIn}},point:{appear:function(){return r.appear.zoomIn},enter:function(){return r.enter.zoomIn},leave:function(){return r.leave.zoomOut}},schema:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return r.appear.fadeIn},enter:function(){return r.enter.fadeIn},leave:function(){return r.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(e){if(e.isPolar)return r.appear.fadeIn}},"axis-ticks":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(e){if(e.isPolar)return r.appear.fadeIn}},"axis-grid":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(e){if(e.isPolar)return r.appear.fadeIn}},"axis-grid-rect":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(){return r.leave.fadeIn}},labelLine:{appear:function(){return r.appear.pathIn},enter:function(){return r.enter.pathIn},leave:function(){return r.leave.pathOut}}};o.Action=r,o.defaultCfg=i,o.getAnimation=function(e,t,n){var r=this[e];if(r){var i=r[n];if(a.isFunction(i))return i(t)}return!1},o.getAnimateCfg=function(e,t){var n=i[t];return this[e]&&this[e].cfg&&this[e].cfg[t]?a.deepMix({},n,this[e].cfg[t]):n},o.registerAnimation=function(e,t,n){this.Action[e]||(this.Action[e]={}),this.Action[e][t]=n},e.exports=o},function(e,t,n){var a=n(2),r=n(8),i=n(230),o=n(239),s=n(250),l=n(253),c=n(257),u=n(43),d=n(266),p=n(270),h=n(276),f=n(280),m={DOMUtil:i,DomUtil:i,MatrixUtil:u,PathUtil:p,arrayUtil:o,domUtil:i,eventUtil:s,formatUtil:l,mathUtil:c,matrixUtil:u,objectUtil:d,stringUtil:h,pathUtil:p,typeUtil:f,augment:n(89),clone:n(47),debounce:n(286),deepMix:n(48),each:a,extend:n(88),filter:n(64),group:n(143),groupBy:n(145),groupToMap:n(144),indexOf:n(287),isEmpty:n(83),isEqual:n(50),isEqualWith:n(288),map:n(289),mix:r,pick:n(290),throttle:n(291),toArray:n(34),toString:n(24),uniqueId:n(86)};a([i,o,s,l,c,u,d,p,h,f],(function(e){r(m,e)})),e.exports=m},function(e,t,n){var a=n(128),r=n(5);e.exports=function(e,t){var n=a(t),i=n.length;if(r(e))return!i;for(var o=0;o<i;o+=1){var s=n[o];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){var a=n(2),r=n(11),i=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return a(e,(function(n,a){r(e)&&"prototype"===a||t.push(a)})),t};e.exports=i},function(e,t,n){var a=n(13),r=Array.prototype.splice;e.exports=function(e,t){if(!a(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var o=void 0,s=t[n];n!==i&&s===o||(o=s,r.call(e,s,1))}return e}},function(e,t,n){var a=n(2),r=n(41);e.exports=function(e){var t=[];return a(e,(function(e){r(t,e)||t.push(e)})),t}},function(e,t,n){var a=n(4),r=n(11),i=n(2);e.exports=function(e,t){if(a(e)){var n=e[0],o=void 0;o=r(t)?t(e[0]):e[0][t];var s=void 0;return i(e,(function(e){(s=r(t)?t(e):e[t])>o&&(n=e,o=s)})),n}}},function(e,t){e.exports=parseInt},function(e,t){e.exports=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){var a=n(2),r=n(11),i=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return a(e,(function(n,a){r(e)&&"prototype"===a||t.push(n)})),t};e.exports=i},function(e,t,n){var a=n(136);e.exports=function(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=a,o}},function(e,t){var n=/,?([a-z]),?/gi;e.exports=function(e){return e.join(",").replace(n,"$1")}},function(e,t,n){var a=n(138),r=function e(t,n,a,r,i,o,s,l,c,u){a===r&&(a+=1);var d=120*Math.PI/180,p=Math.PI/180*(+i||0),h=[],f=void 0,m=void 0,g=void 0,v=void 0,y=void 0,_=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(u)m=u[0],g=u[1],v=u[2],y=u[3];else{t=(f=_(t,n,-p)).x,n=f.y,l=(f=_(l,c,-p)).x,c=f.y,t===l&&n===c&&(l+=1,c+=1);var b=(t-l)/2,w=(n-c)/2,E=b*b/(a*a)+w*w/(r*r);E>1&&(a*=E=Math.sqrt(E),r*=E);var T=a*a,x=r*r,C=(o===s?-1:1)*Math.sqrt(Math.abs((T*x-T*w*w-x*b*b)/(T*w*w+x*b*b)));v=C*a*w/r+(t+l)/2,y=C*-r*b/a+(n+c)/2,m=Math.asin(((n-y)/r).toFixed(9)),g=Math.asin(((c-y)/r).toFixed(9)),m=t<v?Math.PI-m:m,g=l<v?Math.PI-g:g,m<0&&(m=2*Math.PI+m),g<0&&(g=2*Math.PI+g),s&&m>g&&(m-=2*Math.PI),!s&&g>m&&(g-=2*Math.PI)}var S=g-m;if(Math.abs(S)>d){var k=g,O=l,M=c;g=m+d*(s&&g>m?1:-1),h=e(l=v+a*Math.cos(g),c=y+r*Math.sin(g),a,r,i,0,s,O,M,[g,k,v,y])}S=g-m;var L=Math.cos(m),D=Math.sin(m),R=Math.cos(g),N=Math.sin(g),I=Math.tan(S/4),A=4/3*a*I,P=4/3*r*I,Y=[t,n],F=[t+A*D,n-P*L],j=[l+A*N,c-P*R],U=[l,c];if(F[0]=2*Y[0]-F[0],F[1]=2*Y[1]-F[1],u)return[F,j,U].concat(h);for(var H=[],B=0,V=(h=[F,j,U].concat(h).join().split(",")).length;B<V;B++)H[B]=B%2?_(h[B-1],h[B],p).y:_(h[B],h[B+1],p).x;return H},i=function(e,t,n,a){return[e,t,n,a,n,a]},o=function(e,t,n,a,r,i){return[1/3*e+2/3*n,1/3*t+2/3*a,1/3*r+2/3*n,1/3*i+2/3*a,r,i]};e.exports=function(e,t){var n=a(e),s=t&&a(t),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],d=[],p="",h="",f=void 0,m=function(e,t,n){var a=void 0,s=void 0;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(r.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(a=2*t.x-t.bx,s=2*t.y-t.by):(a=t.x,s=t.y),e=["C",a,s].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(o(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(o(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(i(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(i(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(i(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(i(t.x,t.y,t.X,t.Y))}return e},g=function(e,t){if(e[t].length>7){e[t].shift();for(var a=e[t];a.length;)u[t]="A",s&&(d[t]="A"),e.splice(t++,0,["C"].concat(a.splice(0,6)));e.splice(t,1),f=Math.max(n.length,s&&s.length||0)}},v=function(e,t,a,r,i){e&&t&&"M"===e[i][0]&&"M"!==t[i][0]&&(t.splice(i,0,["M",r.x,r.y]),a.bx=0,a.by=0,a.x=e[i][1],a.y=e[i][2],f=Math.max(n.length,s&&s.length||0))};f=Math.max(n.length,s&&s.length||0);for(var y=0;y<f;y++){n[y]&&(p=n[y][0]),"C"!==p&&(u[y]=p,y&&(h=u[y-1])),n[y]=m(n[y],l,h),"A"!==u[y]&&"C"===p&&(u[y]="C"),g(n,y),s&&(s[y]&&(p=s[y][0]),"C"!==p&&(d[y]=p,y&&(h=d[y-1])),s[y]=m(s[y],c,h),"A"!==d[y]&&"C"===p&&(d[y]="C"),g(s,y)),v(n,s,l,c,y),v(s,n,c,l,y);var _=n[y],b=s&&s[y],w=_.length,E=s&&b.length;l.x=_[w-2],l.y=_[w-1],l.bx=parseFloat(_[w-4])||l.x,l.by=parseFloat(_[w-3])||l.y,c.bx=s&&(parseFloat(b[E-4])||c.x),c.by=s&&(parseFloat(b[E-3])||c.y),c.x=s&&b[E-2],c.y=s&&b[E-1]}return s?[n,s]:n}},function(e,t,n){var a=n(139),r=n(140);function i(e,t,n,a,r){var i=[];if(null===r&&null===a&&(a=n),e=+e,t=+t,n=+n,a=+a,null!==r){var o=Math.PI/180,s=e+n*Math.cos(-a*o),l=e+n*Math.cos(-r*o);i=[["M",s,t+n*Math.sin(-a*o)],["A",n,n,0,+(r-a>180),0,l,t+n*Math.sin(-r*o)]]}else i=[["M",e,t],["m",0,-a],["a",n,a,0,1,1,0,2*a],["a",n,a,0,1,1,0,-2*a],["z"]];return i}e.exports=function(e){if(!(e=a(e))||!e.length)return[["M",0,0]];var t=[],n=0,o=0,s=0,l=0,c=0,u=void 0,d=void 0;"M"===e[0][0]&&(s=n=+e[0][1],l=o=+e[0][2],c++,t[0]=["M",n,o]);for(var p,h,f=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),m=c,g=e.length;m<g;m++){if(t.push(p=[]),(u=(h=e[m])[0])!==u.toUpperCase())switch(p[0]=u.toUpperCase(),p[0]){case"A":p[1]=h[1],p[2]=h[2],p[3]=h[3],p[4]=h[4],p[5]=h[5],p[6]=+h[6]+n,p[7]=+h[7]+o;break;case"V":p[1]=+h[1]+o;break;case"H":p[1]=+h[1]+n;break;case"R":for(var v=2,y=(d=[n,o].concat(h.slice(1))).length;v<y;v++)d[v]=+d[v]+n,d[++v]=+d[v]+o;t.pop(),t=t.concat(r(d,f));break;case"O":t.pop(),(d=i(n,o,h[1],h[2])).push(d[0]),t=t.concat(d);break;case"U":t.pop(),t=t.concat(i(n,o,h[1],h[2],h[3])),p=["U"].concat(t[t.length-1].slice(-2));break;case"M":s=+h[1]+n,l=+h[2]+o;break;default:for(var _=1,b=h.length;_<b;_++)p[_]=+h[_]+(_%2?n:o)}else if("R"===u)d=[n,o].concat(h.slice(1)),t.pop(),t=t.concat(r(d,f)),p=["R"].concat(h.slice(-2));else if("O"===u)t.pop(),(d=i(n,o,h[1],h[2])).push(d[0]),t=t.concat(d);else if("U"===u)t.pop(),t=t.concat(i(n,o,h[1],h[2],h[3])),p=["U"].concat(t[t.length-1].slice(-2));else for(var w=0,E=h.length;w<E;w++)p[w]=h[w];if("O"!==(u=u.toUpperCase()))switch(p[0]){case"Z":n=+s,o=+l;break;case"H":n=p[1];break;case"V":o=p[1];break;case"M":s=p[p.length-2],l=p[p.length-1];break;default:n=p[p.length-2],o=p[p.length-1]}}return t}},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",r=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),i=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");e.exports=function(e){if(!e)return null;if(("undefined"===typeof e?"undefined":n(e))===n([]))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(e).replace(r,(function(e,n,r){var o=[],s=n.toLowerCase();if(r.replace(i,(function(e,t){t&&o.push(+t)})),"m"===s&&o.length>2&&(a.push([n].concat(o.splice(0,2))),s="l",n="m"===n?"l":"L"),"o"===s&&1===o.length&&a.push([n,o[0]]),"r"===s)a.push([n].concat(o));else for(;o.length>=t[s]&&(a.push([n].concat(o.splice(0,t[s]))),t[s]););})),a}},function(e,t){e.exports=function(e,t){for(var n=[],a=0,r=e.length;r-2*!t>a;a+=2){var i=[{x:+e[a-2],y:+e[a-1]},{x:+e[a],y:+e[a+1]},{x:+e[a+2],y:+e[a+3]},{x:+e[a+4],y:+e[a+5]}];t?a?r-4===a?i[3]={x:+e[0],y:+e[1]}:r-2===a&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[r-2],y:+e[r-1]}:r-4===a?i[3]=i[2]:a||(i[0]={x:+e[a],y:+e[a+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}},function(e,t,n){var a=n(24);e.exports=function(e){return a(e).toLowerCase()}},function(e,t,n){var a=n(24);e.exports=function(e){return a(e).toUpperCase()}},function(e,t,n){var a=n(144);e.exports=function(e,t){if(!t)return[e];var n=a(e,t),r=[];for(var i in n)r.push(n[i]);return r}},function(e,t,n){var a=n(11),r=n(4),i=n(145);e.exports=function(e,t){if(!t)return{0:e};if(!a(t)){var n=r(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",a=0,r=n.length;a<r;a++)t+=e[n[a]]&&e[n[a]].toString();return t}}return i(e,t)}},function(e,t,n){var a=n(2),r=n(4),i=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(!t||!r(e))return e;var n={},o=null;return a(e,(function(e){o=t(e),i.call(n,o)?n[o].push(e):n[o]=[e]})),n}},function(e,t,n){var a=n(0),r=n(293),i=n(16).Canvas,o=a.DomUtil,s=n(7),l=n(358),c=n(165),u=n(167),d=n(166),p=n(168);function h(e,t){return a.isEqualWith(e,t,(function(e,t){return e===t}))}var f=function(e){var t,n;function f(){return e.apply(this,arguments)||this}n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=f.prototype;return m.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix(t,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:s.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:s.renderer,views:[]})},m.init=function(){var t=this.get("viewTheme");this._initCanvas(),this._initPlot(),this._initEvents(),e.prototype.init.call(this);var n=new c.Tooltip({chart:this,viewTheme:t,options:{}});this.set("tooltipController",n);var a=new c.Legend({chart:this,viewTheme:t});this.set("legendController",a),this.set("_id","chart"),this.emit("afterinit")},m._isAutoPadding=function(){var e=this.get("padding");return a.isArray(e)?e.includes("auto"):"auto"===e},m._getAutoPadding=function(){for(var e=this.get("padding"),t=this.get("frontPlot").getBBox(),n=this.get("backPlot"),r=d(n,p(this.get("plotRange"))),i=u(t,r),o=[0-i.minY,i.maxX-this.get("width"),i.maxY-this.get("height"),0-i.minX],s=a.toAllPadding(e),l=0;l<s.length;l++)if("auto"===s[l]){var c=Math.max(0,o[l]);s[l]=c+this.get("autoPaddingAppend")}return s},m._initCanvas=function(){var e=this.get("container"),t=this.get("id");!e&&t&&(e=t,this.set("container",t));var n=this.get("width"),r=this.get("height");if(a.isString(e)){if(!(e=document.getElementById(e)))throw new Error("Please specify the container for the chart!");this.set("container",e)}var s=o.createDom('<div style="position:relative;"></div>');e.appendChild(s),this.set("wrapperEl",s),this.get("forceFit")&&(n=o.getWidth(e,n),this.set("width",n));var l=this.get("renderer"),c=new i({containerDOM:s,width:n,height:r,pixelRatio:"svg"===l?1:this.get("pixelRatio"),renderer:l});this.set("canvas",c)},m._initPlot=function(){this._initPlotBack();var e=this.get("canvas"),t=e.addGroup({zIndex:1}),n=e.addGroup({zIndex:0}),a=e.addGroup({zIndex:3});this.set("backPlot",t),this.set("middlePlot",n),this.set("frontPlot",a)},m._initPlotBack=function(){var e=this.get("canvas"),t=this.get("viewTheme"),n=e.addGroup(l,{padding:this.get("padding"),plotBackground:a.mix({},t.plotBackground,this.get("plotBackground")),background:a.mix({},t.background,this.get("background"))});this.set("plot",n),this.set("plotRange",n.get("plotRange"))},m._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",a.wrapBehavior(this,"_initForceFitEvent"))},m._initForceFitEvent=function(){var e=setTimeout(a.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",e)},m._renderLegends=function(){var e=this.get("options").legends;if(a.isNil(e)||!1!==e){var t=this.get("legendController");if(t.options=e||{},t.plotRange=this.get("plotRange"),e&&e.custom)t.addCustomLegend();else{var n=this.getAllGeoms(),r=[];a.each(n,(function(e){var n=e.get("view"),i=e.getAttrsForLegend();a.each(i,(function(i){var o=i.type,s=i.getScale(o);if(s.field&&"identity"!==s.type&&!function(e,t){var n=!1;return a.each(e,(function(e){var a=[].concat(e.values),r=[].concat(t.values);e.type!==t.type||e.field!==t.field||a.sort().toString()!==r.sort().toString()||(n=!0)})),n}(r,s)){r.push(s);var l=n.getFilteredOutValues(s.field);t.addLegend(s,i,e,l)}}))}));var i=this.getYScales();0===r.length&&i.length>1&&t.addMixedLegend(i,n)}t.alignLegends()}},m._renderTooltips=function(){var e=this.get("options");if(a.isNil(e.tooltip)||!1!==e.tooltip){var t=this.get("tooltipController");t.options=e.tooltip||{},t.renderTooltip()}},m.getAllGeoms=function(){var e=[];e=e.concat(this.get("geoms"));var t=this.get("views");return a.each(t,(function(t){e=e.concat(t.get("geoms"))})),e},m.forceFit=function(){if(this&&!this.destroyed){var e=this.get("container"),t=this.get("width"),n=o.getWidth(e,t);if(0!==n&&n!==t){var a=this.get("height");this.changeSize(n,a)}return this}},m.resetPlot=function(){var e=this.get("plot"),t=this.get("padding");h(t,e.get("padding"))||(e.set("padding",t),e.repaint())},m.changeSize=function(e,t){this.get("canvas").changeSize(e,t);var n=this.get("plot");return this.set("width",e),this.set("height",t),n.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},m.changeWidth=function(e){return this.changeSize(e,this.get("height"))},m.changeHeight=function(e){return this.changeSize(this.get("width"),e)},m.view=function(e){(e=e||{}).theme=this.get("theme"),e.parent=this,e.backPlot=this.get("backPlot"),e.middlePlot=this.get("middlePlot"),e.frontPlot=this.get("frontPlot"),e.canvas=this.get("canvas"),a.isNil(e.animate)&&(e.animate=this.get("animate")),e.options=a.mix({},this._getSharedOptions(),e.options);var t=new r(e);return t.set("_id","view"+this.get("views").length),this.get("views").push(t),this.emit("addview",{view:t}),t},m.removeView=function(e){var t=this.get("views");a.Array.remove(t,e),e.destroy()},m._getSharedOptions=function(){var e=this.get("options"),t={};return a.each(["scales","coord","axes"],(function(n){t[n]=a.cloneDeep(e[n])})),t},m.getViewRegion=function(){var e=this.get("plotRange");return{start:e.bl,end:e.tr}},m.legend=function(e,t){var n=this.get("options");n.legends||(n.legends={});var r={};return!1===e?n.legends=!1:a.isObject(e)?r=e:a.isString(e)?r[e]=t:r=t,a.mix(n.legends,r),this},m.tooltip=function(e,t){var n=this.get("options");return n.tooltip||(n.tooltip={}),!1===e?n.tooltip=!1:a.isObject(e)?a.mix(n.tooltip,e):a.mix(n.tooltip,t),this},m.clear=function(){this.emit("beforeclear");for(var t=this.get("views");t.length>0;)t.shift().destroy();e.prototype.clear.call(this);var n=this.get("canvas");return this.resetPlot(),n.draw(),this.emit("afterclear"),this},m.clearInner=function(){var t=this.get("views");a.each(t,(function(e){e.clearInner()}));var n=this.get("tooltipController");if(n&&n.clear(),!this.get("keepLegend")){var r=this.get("legendController");r&&r.clear()}e.prototype.clearInner.call(this)},m.drawComponents=function(){e.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},m.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var t=this._getAutoPadding(),n=this.get("plot");h(n.get("padding"),t)||(n.set("padding",t),n.repaint())}var r=this.get("middlePlot");if(this.get("limitInPlot")&&!r.attr("clip")){var i=a.getClipByRange(this.get("plotRange"));r.attr("clip",i)}e.prototype.render.call(this),this._renderTooltips()},m.repaint=function(){this.get("keepPadding")||this.resetPlot(),e.prototype.repaint.call(this)},m.changeVisible=function(e){var t=e?"":"none";this.get("wrapperEl").style.display=t},m.toDataURL=function(){var e=this.get("canvas"),t=this.get("renderer"),n=e.get("el"),a="";if("svg"===t){var r=n.cloneNode(!0),i=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",i);o.replaceChild(r,o.documentElement);var s=(new XMLSerializer).serializeToString(o);a="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===t&&(a=n.toDataURL("image/png"));return a},m.downloadImage=function(e){var t=this,n=document.createElement("a"),a=t.get("renderer"),r=(e||"chart")+("svg"===a?".svg":".png");t.get("canvas").get("timeline").stopAllAnimations(),setTimeout((function(){var e=t.toDataURL();if(window.Blob&&window.URL&&"svg"!==a){for(var i=e.split(","),o=i[0].match(/:(.*?);/)[1],s=atob(i[1]),l=s.length,c=new Uint8Array(l);l--;)c[l]=s.charCodeAt(l);var u=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(u,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(u)}))}else n.addEventListener("click",(function(){n.download=r,n.href=e}));var d=document.createEvent("MouseEvents");d.initEvent("click",!1,!1),n.dispatchEvent(d)}),16)},m.showTooltip=function(e){var t=this.getViewsByPoint(e);return t.length&&this.get("tooltipController").showTooltip(e,t),this},m.lockTooltip=function(){return this.get("tooltipController").lockTooltip(),this},m.unlockTooltip=function(){return this.get("tooltipController").unlockTooltip(),this},m.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},m.getTooltipItems=function(e){var t=this.getViewsByPoint(e),n=[];return a.each(t,(function(t){var r=t.get("geoms");a.each(r,(function(t){var r=t.get("dataArray"),i=[];a.each(r,(function(n){var a=t.findPoint(e,n);if(a){var r=t.getTipItems(a);i=i.concat(r)}})),n=n.concat(i)}))})),n},m.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var t=this.get("canvas"),n=this.get("wrapperEl");n.parentNode.removeChild(n),e.prototype.destroy.call(this),t.destroy(),window.removeEventListener("resize",a.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},f}(r);e.exports=f},function(e,t,n){var a=n(54),r=n(0),i=function(e){var t,n;n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;function i(t){var n,a={visible:!0},i=(n=e.call(this)||this).getDefaultCfg();return n._attrs=a,r.assign(a,i,t),n}return a.getDefaultCfg=function(){return{}},a.get=function(e){return this._attrs[e]},a.set=function(e,t){this._attrs[e]=t},a.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},a.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},a.changeVisible=function(){},a.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},i}(a);e.exports=i},function(e,t,n){var a=n(9),r=n(10),i=n(2),o=/rgba?\(([\s.,0-9]+)\)/;function s(e,t,n,a){return e[a]+(t[a]-e[a])*n}function l(e){return"#"+c(e[0])+c(e[1])+c(e[2])}function c(e){return 1===(e=(e=Math.round(e)).toString(16)).length&&(e="0"+e),e}function u(e){var t=[];return t.push(parseInt(e.substr(1,2),16)),t.push(parseInt(e.substr(3,2),16)),t.push(parseInt(e.substr(5,2),16)),t}var d={},p=null,h={toRGB:function(e){return"#"===e[0]&&7===e.length?e:(p||(p=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e}()),d[e]?t=d[e]:(p.style.color=e,t=document.defaultView.getComputedStyle(p,"").getPropertyValue("color"),t=l(o.exec(t)[1].split(/\s*,\s*/)),d[e]=t),t);var t},rgb2arr:u,gradient:function(e){var t=[];return r(e)&&(e=e.split("-")),i(e,(function(e){-1===e.indexOf("#")&&(e=h.toRGB(e)),t.push(u(e))})),function(e){return function(e,t){(isNaN(t)||!a(t)||t<0)&&(t=0),t>1&&(t=1);var n=e.length-1,r=Math.floor(n*t),i=n*t-r,o=e[r],c=r===n?o:e[r+1];return l([s(o,c,i,0),s(o,c,i,1),s(o,c,i,2)])}(t,e)}}};e.exports=h},function(e,t,n){var a=n(2),r={values:n(65)};e.exports={isAdjust:function(e){return this.adjustNames.indexOf(e)>=0},_getDimValues:function(e){var t={},n=[];if(this.xField&&this.isAdjust("x")&&n.push(this.xField),this.yField&&this.isAdjust("y")&&n.push(this.yField),a(n,(function(n){var a=r.values(e,n);a.sort((function(e,t){return e-t})),t[n]=a})),!this.yField&&this.isAdjust("y")){var i=[0,1];t.y=i}return t},adjustData:function(e,t){var n=this,r=n._getDimValues(t);a(e,(function(t,i){a(r,(function(a,r){n.adjustDim(r,a,t,e.length,i)}))}))},getAdjustRange:function(e,t,n){var a,r,i=n.indexOf(t),o=n.length;return!this.yField&&this.isAdjust("y")?(a=0,r=1):o>1?(a=0===i?n[0]:n[i-1],r=i===o-1?n[o-1]:n[i+1],0!==i?a+=(t-a)/2:a-=(r-t)/2,i!==o-1?r-=(r-t)/2:r+=(t-n[o-2])/2):(a=0===t?0:t-.5,r=0===t?1:t+.5),{pre:a,next:r}},groupData:function(e,t){var n={};return a(e,(function(e){var a=e[t];void 0===a&&(a=e[t]=0),n[a]||(n[a]=[]),n[a].push(e)})),n}}},function(e,t,n){var a={default:n(151),dark:n(306)};e.exports=a},function(e,t){var n,a,r='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',i={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:r,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:r}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:r}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:r}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:r}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:r}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:r}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:r},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:r},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:r},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:r},unCheckColor:"#bfbfbf"},html:(n={},n["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:r,lineHeight:"20px",color:"#8C8C8C"},n["g2-legend-title"]={marginBottom:"4px"},n["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},n["g2-legend-list-item"]={cursor:"pointer",marginBottom:"5px",marginRight:"24px"},n["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},n),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:r},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(a={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}},a["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r,lineHeight:"20px",padding:"10px 10px 6px 10px"},a["g2-tooltip-title"]={marginBottom:"4px"},a["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},a["g2-tooltip-list-item"]={marginBottom:"4px"},a["g2-tooltip-marker"]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},a["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},a),tooltipMarker:{symbol:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:r,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:r}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};e.exports=i},function(e,t,n){var a=n(20).Group,r=n(3),i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},i._renderUI=function(){e.prototype._renderUI.call(this),this._drawLines()},i._drawLines=function(){var e=this.get("lineStyle"),t=this.get("items");t&&t.length&&(this._precessItems(t),this._drawGridLines(t,e))},i._precessItems=function(e){var t,n=this;r.each(e,(function(e,a){t&&n.get("alternateColor")&&n._drawAlternativeBg(e,t,a),t=e}))},i._drawGridLines=function(e,t){var n,a,i,o,s=this,l=this.get("type"),c=e.length;"line"===l||"polygon"===l?r.each(e,(function(e,u){s.get("hideFirstLine")&&0===u||s.get("hideLastLine")&&u===c-1||(o=e.points,a=[],"line"===l?(a.push(["M",o[0].x,o[0].y]),a.push(["L",o[o.length-1].x,o[o.length-1].y])):r.each(o,(function(e,t){0===t?a.push(["M",e.x,e.y]):a.push(["L",e.x,e.y])})),i=s._drawZeroLine(l,u)?r.mix({},s.get("zeroLineStyle"),{path:a}):r.mix({},t,{path:a}),(n=s.addShape("path",{attrs:i})).name="axis-grid",n._id=e._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))})):r.each(e,(function(e,l){s.get("hideFirstLine")&&0===l||s.get("hideLastLine")&&l===c-1||(o=e.points,a=[],r.each(o,(function(e,t){var n=e.radius;0===t?a.push(["M",e.x,e.y]):a.push(["A",n,n,0,0,e.flag,e.x,e.y])})),i=r.mix({},t,{path:a}),(n=s.addShape("path",{attrs:i})).name="axis-grid",n._id=e._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))}))},i._drawZeroLine=function(e,t){var n=this.get("tickValues");return!("line"!==e||!n||0!==n[t]||!this.get("hightLightZero"))},i._drawAlternativeBg=function(e,t,n){var a,i,o,s=this.get("alternateColor");r.isString(s)?i=s:r.isArray(s)&&(i=s[0],o=s[1]),n%2===0?o&&(a=this._getBackItem(t.points,e.points,o)):i&&(a=this._getBackItem(t.points,e.points,i));var l=this.addShape("Path",{attrs:a});l.name="axis-grid-rect",l._id=e._id&&e._id.replace("grid","grid-rect"),l.set("coord",this.get("coord")),this.get("appendInfo")&&l.setSilent("appendInfo",this.get("appendInfo"))},i._getBackItem=function(e,t,n){var a=[],i=this.get("type");if("line"===i)a.push(["M",e[0].x,e[0].y]),a.push(["L",e[e.length-1].x,e[e.length-1].y]),a.push(["L",t[t.length-1].x,t[t.length-1].y]),a.push(["L",t[0].x,t[0].y]),a.push(["Z"]);else if("polygon"===i){r.each(e,(function(e,t){0===t?a.push(["M",e.x,e.y]):a.push(["L",e.x,e.y])}));for(var o=t.length-1;o>=0;o--)a.push(["L",t[o].x,t[o].y]);a.push(["Z"])}else{var s=e[0].flag;r.each(e,(function(e,t){var n=e.radius;0===t?a.push(["M",e.x,e.y]):a.push(["A",n,n,0,0,e.flag,e.x,e.y])}));for(var l=t.length-1;l>=0;l--){var c=t[l],u=c.radius;l===t.length-1?a.push(["M",c.x,c.y]):a.push(["A",u,u,0,0,1===s?0:1,c.x,c.y])}}return{fill:n,path:a}},a}(a);e.exports=i},function(e,t,n){var a=n(3),r=a.DomUtil,i=n(32),o={scatter:n(309),map:n(310),treemap:n(311)},s=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},s.clear=function(){var t=this.get("group"),n=this.get("container");t&&!t.get("destroyed")&&t.clear(),n&&(n.innerHTML=""),e.prototype.clear.call(this)},s.destroy=function(){var t=this.get("group"),n=this.get("container");t.destroy||t.destroy(),n&&n.parentNode&&n.parentNode.removeChild(n),e.prototype.destroy.call(this)},s.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},s._dryDraw=function(){var e=this,t=e.get("items"),n=e.getLabels(),r=n.length;a.each(t,(function(t,a){if(a<r){var i=n[a];e.changeLabel(i,t)}else{var o=e._addLabel(t,a);o&&(o._id=t._id,o.set("coord",t.coord))}}));for(var i=r-1;i>=t.length;i--)n[i].remove();e._adjustLabels(),!e.get("labelLine")&&e.get("config")||e.drawLines()},s.draw=function(){this._dryDraw(),this.get("canvas").draw()},s.changeLabel=function(e,t){if(e)if(e.tagName){var n=this._createDom(t);e.innerHTML=n.innerHTML,this._setCustomPosition(t,e)}else e._id=t._id,e.attr("text",t.text),e.attr("x")===t.x&&e.attr("y")===t.y||(e.resetMatrix(),t.textStyle.rotate&&(e.rotateAtStart(t.textStyle.rotate),delete t.textStyle.rotate),e.attr(t))},s.show=function(){var e=this.get("group"),t=this.get("container");e&&e.show(),t&&(t.style.opacity=1)},s.hide=function(){var e=this.get("group"),t=this.get("container");e&&e.hide(),t&&(t.style.opacity=0)},s.drawLines=function(){var e=this;"boolean"===typeof e.get("labelLine")&&e.set("labelLine",{});var t=e.get("lineGroup");!t||t.get("destroyed")?(t=e.get("group").addGroup({elCls:"x-line-group"}),e.set("lineGroup",t)):t.clear(),a.each(e.get("items"),(function(n){e.lineToLabel(n,t)}))},s.lineToLabel=function(e,t){if(this.get("config")||e.labelLine){var n=e.labelLine||this.get("labelLine"),r="undefined"===typeof e.capture?this.get("capture"):e.capture,i=n.path;if(i&&a.isFunction(n.path)&&(i=n.path(e)),!i){var o=e.start||{x:e.x-e._offset.x,y:e.y-e._offset.y};i=[["M",o.x,o.y],["L",e.x,e.y]]}var s=e.color;s||(s=e.textStyle&&e.textStyle.fill?e.textStyle.fill:"#000");var l=t.addShape("path",{attrs:a.mix({path:i,fill:null,stroke:s},n),capture:r});l.name=this.get("name"),l._id=e._id&&e._id.replace("glabel","glabelline"),l.set("coord",this.get("coord"))}},s._adjustLabels=function(){var e=this.get("type"),t=this.getLabels(),n=this.get("shapes"),a=o[e];"default"!==e&&a&&a(t,n)},s.getLabels=function(){var e=this.get("container");return e?a.toArray(e.childNodes):this.get("group").get("children")},s._addLabel=function(e,t){var n=e;return this.get("config")&&(n=this._getLabelCfg(e,t)),this._createText(n)},s._getLabelCfg=function(e,t){var n=this.get("textStyle")||{},r=this.get("formatter"),i=this.get("htmlTemplate");if(!a.isObject(e)){var o=e;(e={}).text=o}return a.isFunction(n)&&(n=n(e.text,e,t)),r&&(e.text=r(e.text,e,t)),i&&(e.useHtml=!0,a.isFunction(i)&&(e.text=i(e.text,e,t))),a.isNil(e.text)&&(e.text=""),e.text=e.text+"",a.mix({},e,{textStyle:n},{x:e.x||0,y:e.y||0})},s._init=function(){if(!this.get("group")){var e=this.get("canvas").addGroup({id:"label-group"});this.set("group",e)}},s.initHtmlContainer=function(){var e=this.get("container");if(e)a.isString(e)&&(e=document.getElementById(e))&&this.set("container",e);else{var t=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;e=r.createDom(t),n.style.position="relative",n.appendChild(e),this.set("container",e)}return e},s._createText=function(e){var t,n=a.deepMix({},e),r=this.get("container"),i="undefined"===typeof n.capture?this.get("capture"):n.capture;if(!n.useHtml&&!n.htmlTemplate){var o=this.get("name"),s=n.point,l=this.get("group");delete n.point;var c=n.rotate;return n.textStyle&&(n.textStyle.rotate&&(c=n.textStyle.rotate,delete n.textStyle.rotate),n=a.mix({x:n.x,y:n.y,textAlign:n.textAlign,text:n.text},n.textStyle)),t=l.addShape("text",{attrs:n,capture:i}),c&&(Math.abs(c)>2*Math.PI&&(c=c/180*Math.PI),t.transform([["t",-n.x,-n.y],["r",c],["t",n.x,n.y]])),t.setSilent("origin",s||n),t.name=o,this.get("appendInfo")&&t.setSilent("appendInfo",this.get("appendInfo")),t}r||(r=this.initHtmlContainer());var u=this._createDom(n);r.appendChild(u),this._setCustomPosition(n,u)},s._createDom=function(e){var t=this.get("itemTpl"),n=a.substitute(t,{text:e.text});return r.createDom(n)},s._setCustomPosition=function(e,t){var n=e.textAlign||"left",a=e.y,i=e.x,o=r.getOuterWidth(t);a-=r.getOuterHeight(t)/2,"center"===n?i-=o/2:"right"===n&&(i-=o),t.style.top=parseInt(a,10)+"px",t.style.left=parseInt(i,10)+"px"},i}(i);e.exports=s},function(e,t){var n=function(){function e(){this.bitmap=[]}var t=e.prototype;return t.hasGap=function(e){for(var t=!0,n=this.bitmap,a=Math.floor(e.minX),r=Math.ceil(e.maxX),i=Math.floor(e.minY),o=Math.ceil(e.maxY)-1,s=a;s<r;s++)if(n[s]){if(s===a||s===r-1){for(var l=i;l<=o;l++)if(n[s][l]){t=!1;break}}else if(n[s][i]||n[s][o]){t=!1;break}}else n[s]=[];return t},t.fillGap=function(e){for(var t=this.bitmap,n=Math.floor(e.minX),a=Math.ceil(e.maxX)-1,r=Math.floor(e.minY),i=Math.ceil(e.maxY)-1,o=n;o<=a;o++){for(var s=r;s<i;s+=8)t[o]||(t[o]=[]),t[o][s]=!0;t[o][i]=!0}for(var l=r;l<=i;l++)t[n][l]=!0,t[a][l]=!0},e}();e.exports=n},function(e,t,n){var a=n(3);e.exports={getFirstScale:function(e){var t;return a.each(e,(function(e){if(e)return t=e,!1})),t}}},function(e,t,n){var a=n(3),r=n(157),i=n(14).FONT_FAMILY,o=a.Event,s=a.Group;function l(e,t){var n=null,r=t instanceof s||"legendGroup"===t.name?t.get("value"):t;return a.each(e,(function(e){if(e.value===r)return n=e,!1})),n}function c(e,t){return e.findBy((function(e){return e.name===t}))}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:i},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},s.render=function(){e.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},s._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",a.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",a.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",a.wrapBehavior(this,"_onClick"))},s._getLegendItem=function(e){var t=e.get("parent");return t&&"legendGroup"===t.name?t:null},s.activate=function(e){var t=this,n=this,a=n.get("itemsGroup").get("children"),r=void 0;a.forEach((function(a){if(r=c(a,"legend-marker")){var i=a.get("checked");t.get("highlight")?a.get("value")===e&&i?r.attr("stroke","#333"):r.attr("stroke",null):a.get("value")===e&&r.attr("fillOpacity",n.get("activeOpacity"))}})),this.get("canvas").draw()},s.deactivate=function(){var e=this,t=this,n=t.get("itemsGroup").get("children"),a=void 0,r=this.get("unCheckColor");n.forEach((function(n){if(a=c(n,"legend-marker"))if(e.get("highlight")){var i=a.get("oriStroke"),o=n.get("checked");i=i&&!o?r:"",a.attr("stroke",i)}else a.attr("fillOpacity",t.get("inactiveOpacity"))})),this.get("canvas").draw()},s._onMousemove=function(e){var t=this._getLegendItem(e.currentTarget);if(t&&t.get("checked")){var n=this.get("items"),a=new o("itemhover",e,!0,!0);a.item=l(n,t),a.checked=t.get("checked"),a.currentTarget=e.currentTarget,this.deactivate(),this.activate(t.get("value")),this.emit("itemhover",a)}else this.deactivate(),this.emit("itemunhover",e);this.get("canvas").draw()},s._onMouseleave=function(e){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",e)},s._onClick=function(e){var t=this._getLegendItem(e.currentTarget),n=this.get("items");if(t&&!t.get("destroyed")){var r=t.get("checked"),i=this.get("selectedMode"),s=l(n,t),u=new o("itemclick",e,!0,!0);if(u.item=s,u.currentTarget=t,u.appendInfo=e.currentTarget.get("appendInfo"),u.checked="single"===i||!r,!this.get("allowAllCanceled")&&r&&1===this.getCheckedCount())return void this.emit("clicklastitem",u);var d=this.get("unCheckColor"),p=this.get("textStyle").fill,h=void 0,f=void 0,m=void 0;if("single"===i){var g=this.get("itemsGroup").get("children");a.each(g,(function(e){h=c(e,"legend-marker"),f=c(e,"legend-text"),m=c(e,"legend-item"),e!==t?(h.attr("fill")&&h.attr("fill",d),h.attr("stroke")&&h.attr("stroke",d),f.attr("fill",d),h.setSilent("checked",!1),f.setSilent("checked",!1),m.setSilent("checked",!1),e.setSilent("checked",!1)):(h.attr("fill")&&s&&s.marker&&h.attr("fill",s.marker.fill),h.attr("stroke")&&s&&s.marker&&h.attr("stroke",s.marker.stroke),f.attr("fill",p),h.setSilent("checked",!0),f.setSilent("checked",!0),m.setSilent("checked",!0),e.setSilent("checked",!0))}))}else h=c(t,"legend-marker"),f=c(t,"legend-text"),m=c(t,"legend-item"),h.attr("fill")&&s&&s.marker&&h.attr("fill",r?d:s.marker.fill),h.attr("stroke")&&s&&s.marker&&h.attr("stroke",r?d:s.marker.stroke),f.attr("fill",r?d:p),t.setSilent("checked",!r),h.setSilent("checked",!r),f.setSilent("checked",!r),m.setSilent("checked",!r);this.emit("itemclick",u)}this.get("canvas").draw()},s._renderItems=function(){var e=this,t=this.get("items");if(this.get("reversed")&&t.reverse(),a.each(t,(function(t,n){e._addItem(t,n)})),this.get("highlight")){var n=this.get("itemsGroup").get("children"),r=void 0;n.forEach((function(e){(r=c(e,"legend-marker")).get("oriStroke")||(r.attr("stroke")?r.set("oriStroke",r.attr("stroke")):r.set("oriStroke",""))}))}},s._formatItemValue=function(e){var t=this.get("formatter")||this.get("itemFormatter");return t&&(e=t.call(this,e)),e},s._getNextX=function(){var e=this.get("layout"),t=this.get("itemGap"),n=this.get("itemsGroup"),r=this.get("itemWidth"),i=n.get("children"),o=0;return"horizontal"===e&&a.each(i,(function(e){o+=(r||e.getBBox().width)+t})),o},s._getNextY=function(){var e=this.get("itemMarginBottom"),t=this.get("titleShape")?this.get("titleGap"):0,n=this.get("layout"),r=this.get("itemsGroup"),i=this.get("titleShape"),o=r.get("children"),s=t;return i&&(s+=i.getBBox().height),"vertical"===n&&a.each(o,(function(t){s+=t.getBBox().height+e})),s},s._addItem=function(e){var t=this.get("itemsGroup"),n=this._getNextX(),r=this._getNextY(),o=this.get("unCheckColor"),s=t.addGroup({x:n,y:r,value:e.value,checked:e.checked});s.set("viewId",this.get("viewId"));var l=this.get("textStyle"),c=this.get("_wordSpaceing"),u=0;if(e.marker){var d=a.mix({},e.marker,{x:e.marker.radius+n,y:r});e.checked||(d.fill&&(d.fill=o),d.stroke&&(d.stroke=o));var p=s.addShape("marker",{type:"marker",attrs:d});p.attr("cursor","pointer"),p.name="legend-marker",u+=p.getBBox().width+c}var h=a.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:i},l,{x:u+n,y:r,text:this._formatItemValue(e.value)});e.checked||a.mix(h,{fill:o});var f=s.addShape("text",{attrs:h});f.attr("cursor","pointer"),f.name="legend-text",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"));var m=s.getBBox(),g=this.get("itemWidth"),v=s.addShape("rect",{attrs:{x:n,y:r-m.height/2,fill:"#fff",fillOpacity:0,width:g||m.width,height:m.height}});return v.attr("cursor","pointer"),v.setSilent("origin",e),v.name="legend-item",this.get("appendInfo")&&v.setSilent("appendInfo",this.get("appendInfo")),s.name="legendGroup",s},s._adjustHorizontal=function(){var e=this.get("itemsGroup"),t=e.get("children"),n=this.get("maxLength"),r=this.get("itemGap"),i=this.get("itemMarginBottom"),o=this.get("titleShape")?this.get("titleGap"):0,s=0,l=0,c=void 0,u=void 0,d=void 0,p=this.get("itemWidth");e.getBBox().width>n&&a.each(t,(function(e){d=e.getBBox(),c=p||d.width,u=d.height+i,n-l<c&&(s++,l=0),e.move(l,s*u+o),l+=c+r}))},s._adjustVertical=function(){var e=this.get("itemsGroup"),t=this.get("titleShape"),n=e.get("children"),r=this.get("maxLength"),i=this.get("itemGap"),o=this.get("itemMarginBottom"),s=this.get("titleGap"),l=t?t.getBBox().height+s:0,c=this.get("itemWidth"),u=l,d=void 0,p=void 0,h=void 0,f=0,m=0;e.getBBox().height>r&&a.each(n,(function(e){h=e.getBBox(),d=h.width,p=h.height,c?f=c+i:d>f&&(f=d+i),r-u<p?(u=l,m+=f,e.move(m,l)):e.move(m,u),u+=p+o}))},s._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},s.getWidth=function(){return e.prototype.getWidth.call(this)},s.getHeight=function(){return e.prototype.getHeight.call(this)},s.move=function(t,n){e.prototype.move.call(this,t,n)},r}(r);e.exports=u},function(e,t,n){var a=n(3),r=n(32),i=n(14).FONT_FAMILY,o=function(e){var t,n;n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;function o(t){var n;return(n=e.call(this,t)||this)._init(),n.beforeRender(),n.render(),n._adjustPositionOffset(),n._bindEvents(),n}return r.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},r._init=function(){var e=this.get("group"),t=this.get("container");this.set("canvas",t.get("canvas"));var n=this.get("position");e||(e=t.addGroup({x:0-n[0],y:0-n[1]})),this.set("group",e)},r._adjustPositionOffset=function(){var e=this.get("position"),t=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY");a.isArray(t)||(t="vertical"===this.get("layout")?[t,0]:[0,t]),n&&(t[0]=n),r&&(t[1]=r);var i=this.get("group").getBBox();this.move(-i.minX+e[0]+t[0],-i.minY+e[1]+t[1])},r.beforeRender=function(){var e=this.get("group").addGroup();this.set("itemsGroup",e)},r.render=function(){this._renderTitle()},r._renderTitle=function(){var e=this.get("title"),t=this.get("titleGap");if(t=t||0,e&&e.text){var n=this.get("group").addShape("text",{attrs:a.mix({x:0,y:0-t,fill:"#333",textBaseline:"middle",fontFamily:i},e)});n.name="legend-title",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",n)}},r.getCheckedCount=function(){var e=this.get("itemsGroup").get("children");return a.filter(e,(function(e){return e.get("checked")})).length},r.setItems=function(e){this.set("items",e),this.clear(),this.render()},r.addItem=function(e){this.get("items").push(e),this.clear(),this.render()},r.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},r.destroy=function(){var t=this.get("group");t&&t.destroy(),this._attrs={},this.removeAllListeners(),e.prototype.destroy.call(this)},r.getWidth=function(){return this.get("group").getBBox().width},r.getHeight=function(){return this.get("group").getBBox().height},r.move=function(e,t){this.get("group").move(e,t)},r.draw=function(){this.get("canvas").draw()},o}(r);e.exports=o},function(e,t,n){var a=n(3),r=n(156),i=n(14).FONT_FAMILY,o=a.DomUtil,s=a.Group,l="g2-legend",c="g2-legend-list",u="g2-legend-list-item",d="g2-legend-marker";function p(e,t){return e.getElementsByClassName(t)[0]}function h(e,t){var n=e.className;return a.isNil(n)?e:(n=n.split(" ")).indexOf(t)>-1?e:e.parentNode?e.parentNode.className===l?e.parentNode:h(e.parentNode,t):null}function f(e,t){var n=null,r=t instanceof s?t.get("value"):t;return a.each(e,(function(e){if(e.value===r)return n=e,!1})),n}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"category-legend",container:null,containerTpl:'<div class="'+l+'"><h4 class="g2-legend-title"></h4><ul class="'+c+'"></ul></div>',itemTpl:'<li class="'+u+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+d+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:i},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},s._init=function(){},s.beforeRender=function(){},s.render=function(){this._renderHTML()},s._bindEvents=function(){var e=this,t=p(this.get("legendWrapper"),c);this.get("hoverable")&&(t.onmousemove=function(t){return e._onMousemove(t)},t.onmouseout=function(t){return e._onMouseleave(t)}),this.get("clickable")&&(t.onclick=function(t){return e._onClick(t)})},s._onMousemove=function(e){var t=this.get("items"),n=e.target,a=n.className;if(!((a=a.split(" ")).indexOf(l)>-1||a.indexOf(c)>-1)){var r=h(n,u),i=f(t,r.getAttribute("data-value"));i?(this.deactivate(),this.activate(r.getAttribute("data-value")),this.emit("itemhover",{item:i,currentTarget:r,checked:i.checked})):i||(this.deactivate(),this.emit("itemunhover",e))}},s._onMouseleave=function(e){this.deactivate(),this.emit("itemunhover",e)},s._onClick=function(e){var t=this,n=p(this.get("legendWrapper"),c),r=this.get("unCheckColor"),i=this.get("items"),o=this.get("selectedMode"),s=n.childNodes,m=e.target,g=m.className;if(!((g=g.split(" ")).indexOf(l)>-1||g.indexOf(c)>-1)){var v=h(m,u),y=p(v,"g2-legend-text"),_=p(v,d),b=f(i,v.getAttribute("data-value"));if(b){var w=v.className,E=v.getAttribute("data-color");if("single"===o)b.checked=!0,a.each(s,(function(e){e!==v?(p(e,d).style.backgroundColor=r,e.className=e.className.replace("checked","unChecked"),e.style.color=r,f(i,e.getAttribute("data-value")).checked=!1):(y&&(y.style.color=t.get("textStyle").fill),_&&(_.style.backgroundColor=E),v.className=w.replace("unChecked","checked"))}));else{var T=-1!==w.indexOf("checked"),x=0;if(a.each(s,(function(e){-1!==e.className.indexOf("checked")&&x++})),!this.get("allowAllCanceled")&&T&&1===x)return void this.emit("clicklastitem",{item:b,currentTarget:v,checked:"single"===o||b.checked});b.checked=!b.checked,T?(_&&(_.style.backgroundColor=r),v.className=w.replace("checked","unChecked"),v.style.color=r):(_&&(_.style.backgroundColor=E),v.className=w.replace("unChecked","checked"),v.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:b,currentTarget:v,checked:"single"===o||b.checked})}}},s.activate=function(e){var t=this,n=this,a=n.get("items"),r=f(a,e);p(n.get("legendWrapper"),c).childNodes.forEach((function(e){var i=p(e,d),o=f(a,e.getAttribute("data-value"));if(t.get("highlight")){if(o===r&&o.checked)return void(i.style.border="1px solid #333")}else o===r?i.style.opacity=n.get("activeOpacity"):o.checked&&(i.style.opacity=n.get("inactiveOpacity"))}))},s.deactivate=function(){var e=this,t=this;p(t.get("legendWrapper"),c).childNodes.forEach((function(n){var a=p(n,d);e.get("highlight")?a.style.border="1px solid #fff":a.style.opacity=t.get("inactiveOpacity")}))},s._renderHTML=function(){var e=this,t=this.get("container"),n=this.get("title"),r=this.get("containerTpl"),s=o.createDom(r),h=p(s,"g2-legend-title"),f=p(s,c),m=this.get("unCheckColor"),g=a.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:i,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:i},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(t)||"string"===typeof t&&t.constructor===String){var v=t.replace("#","");(t=document.getElementById(v)).appendChild(s)}else{var y=this.get("position"),_={};_="left"===y||"right"===y?{maxHeight:(this.get("maxLength")||t.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||t.offsetWidth)+"px"},o.modifyCSS(s,a.mix({},g.CONTAINER_CLASS,_,this.get(l))),t.appendChild(s)}o.modifyCSS(f,a.mix({},g.LIST_CLASS,this.get(c))),h&&(n&&n.text?(h.innerHTML=n.text,o.modifyCSS(h,a.mix({},g.TITLE_CLASS,this.get("g2-legend-title"),n))):s.removeChild(h));var b=this.get("items"),w=this.get("itemTpl"),E=this.get("position"),T=this.get("layout"),x="right"===E||"left"===E||"vertical"===T?"block":"inline-block",C=a.mix({},g.LIST_ITEM_CLASS,{display:x},this.get(u)),S=a.mix({},g.MARKER_CLASS,this.get(d));if(a.each(b,(function(t,n){var r,i=t.checked,l=e._formatItemValue(t.value),c=t.marker.fill||t.marker.stroke,u=i?c:m;r=a.isFunction(w)?w(l,u,i,n):w;var h=a.substitute(r,a.mix({},t,{index:n,checked:i?"checked":"unChecked",value:l,color:u,originColor:c,originValue:t.value.replace(/\"/g,"&quot;")})),g=o.createDom(h);g.style.color=e.get("textStyle").fill;var v=p(g,d),y=p(g,"g2-legend-text");if(o.modifyCSS(g,C),v&&o.modifyCSS(v,S),i||(g.style.color=m,v&&(v.style.backgroundColor=m)),f.appendChild(g),e.get("abridgeText")){var _=l,b=g.offsetWidth,E=e.get("textStyle").fontSize;isNaN(E)&&(-1!==E.indexOf("pt")?E=1*parseFloat(E.substr(0,E.length-2))/72*96:-1!==E.indexOf("px")&&(E=parseFloat(E.substr(0,E.length-2))));var T=E*_.length,x=Math.floor(b/E);b<2*E?_="":b<T&&x>1&&(_=_.substr(0,x-1)+"..."),y.innerText=_,g.addEventListener("mouseover",(function(){var e=p(s.parentNode,"textTip");e.style.display="block",e.style.left=g.offsetLeft+g.offsetWidth+"px",e.style.top=g.offsetTop+15+"px",e.innerText=l})),g.addEventListener("mouseout",(function(){p(s.parentNode,"textTip").style.display="none"}))}})),this.get("abridgeText")){var k=this.get("tipTpl"),O=o.createDom(k),M=this.get("tipStyle");o.modifyCSS(O,M),s.parentNode.appendChild(O),O.addEventListener("mouseover",(function(){O.style.display="none"}))}this.set("legendWrapper",s)},s._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var e=this.get("position"),t=this.get("offset"),n=this.get("offsetX"),a=this.get("offsetY");n&&(t[0]=n),a&&(t[1]=a);var r=this.get("legendWrapper");r.style.left=e[0]+"px",r.style.top=e[1]+"px",r.style.marginLeft=t[0]+"px",r.style.marginTop=t[1]+"px"}},s.getWidth=function(){return o.getOuterWidth(this.get("legendWrapper"))},s.getHeight=function(){return o.getOuterHeight(this.get("legendWrapper"))},s.move=function(t,n){/^\#/.test(this.get("container"))?e.prototype.move.call(this,t,n):(o.modifyCSS(this.get("legendWrapper"),{left:t+"px",top:n+"px"}),this.set("x",t),this.set("y",n))},s.destroy=function(){var t=this.get("legendWrapper");t&&t.parentNode&&t.parentNode.removeChild(t),e.prototype.destroy.call(this)},r}(r);e.exports=m},function(e,t,n){var a=n(32),r=n(3),i=function(e){var t,n;n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;function i(t){var n;return(n=e.call(this,t)||this)._init_(),n.render(),n}return a.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return r.mix({},t,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},a._init_=function(){var e,t=this.get("plot");e="rect"===this.type?t.addGroup({zIndex:0}):t.addGroup(),this.set("container",e)},a._addLineShape=function(e,t){var n=this.get("container").addShape("line",{capture:!1,attrs:e});return this.set("crossLineShape"+t,n),n},a._renderHorizontalLine=function(e,t){var n=r.mix(this.get("lineStyle"),this.get("style")),a=r.mix({x1:t?t.bl.x:e.get("width"),y1:0,x2:t?t.br.x:0,y2:0},n);this._addLineShape(a,"X")},a._renderVerticalLine=function(e,t){var n=r.mix(this.get("lineStyle"),this.get("style")),a=r.mix({x1:0,y1:t?t.bl.y:e.get("height"),x2:0,y2:t?t.tl.y:0},n);this._addLineShape(a,"Y")},a._renderBackground=function(e,t){var n=r.mix(this.get("rectStyle"),this.get("style")),a=this.get("container"),i=r.mix({x:t?t.tl.x:0,y:t?t.tl.y:e.get("height"),width:t?t.br.x-t.bl.x:e.get("width"),height:t?Math.abs(t.tl.y-t.bl.y):e.get("height")},n),o=a.addShape("rect",{attrs:i,capture:!1});return this.set("crosshairsRectShape",o),o},a._updateRectShape=function(e){var t,n=this.get("crosshairsRectShape"),a=this.get("isTransposed"),i=e[0],o=e[e.length-1],s=a?"y":"x",l=a?"height":"width",c=i[s];if(e.length>1&&i[s]>o[s]&&(c=o[s]),this.get("width"))n.attr(s,c-this.get("crosshairs").width/2),n.attr(l,this.get("width"));else if(r.isArray(i.point[s])&&!i.size){var u=i.point[s][1]-i.point[s][0];n.attr(s,i.point[s][0]),n.attr(l,u)}else t=3*i.size/4,n.attr(s,c-t),1===e.length?n.attr(l,3*i.size/2):n.attr(l,Math.abs(o[s]-i[s])+2*t)},a.render=function(){var e=this.get("canvas"),t=this.get("plotRange"),n=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(e,t);break;case"y":this._renderVerticalLine(e,t);break;case"cross":this._renderHorizontalLine(e,t),this._renderVerticalLine(e,t);break;case"rect":this._renderBackground(e,t);break;default:n?this._renderHorizontalLine(e,t):this._renderVerticalLine(e,t)}},a.show=function(){var t=this.get("container");e.prototype.show.call(this),t.show()},a.hide=function(){var t=this.get("container");e.prototype.hide.call(this),t.hide()},a.clear=function(){var t=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),e.prototype.clear.call(this),t.clear()},a.destroy=function(){var t=this.get("container");e.prototype.destroy.call(this),t.remove()},a.setPosition=function(e,t,n){var a=this.get("crossLineShapeX"),r=this.get("crossLineShapeY"),i=this.get("crosshairsRectShape");r&&!r.get("destroyed")&&r.move(e,0),a&&!a.get("destroyed")&&a.move(0,t),i&&!i.get("destroyed")&&this._updateRectShape(n)},i}(a);e.exports=i},function(e,t){var n={_calcTooltipPosition:function(e,t,n,a,r,i){var o=0,s=0,l=20;if(i){var c=i.getBBox();o=c.width,s=c.height,e=c.x,t=c.y,l=5}switch(n){case"inside":e=e+o/2-a/2,t=t+s/2-r/2;break;case"top":e=e+o/2-a/2,t=t-r-l;break;case"left":e=e-a-l,t=t+s/2-r/2;break;case"right":e=e+o+l,t=t+s/2-r/2;break;case"bottom":default:e=e+o/2-a/2,t=t+s+l}return[e,t]},_constraintPositionInBoundary:function(e,t,n,a,r,i){return e+n+20>r?e=(e-=n+20)<0?0:e:e+20<0?e=20:e+=20,t+a+20>i?t=(t-=a+20)<0?0:t:t+20<0?t=20:t+=20,[e,t]},_constraintPositionInPlot:function(e,t,n,a,r,i){return e+n>r.tr.x&&(e-=i?n+1:n+40),e<r.tl.x&&(e=r.tl.x),i||(t+a>r.bl.y&&(t-=a+40),t<r.tl.y&&(t=r.tl.y)),[e,t]}};e.exports=n},function(e,t,n){var a=n(3),r={setMarkers:function(e,t){var n=this.get("markerGroup"),r=this.get("frontPlot");n?n.clear():(n=r.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",n)),a.each(e,(function(e){n.addShape("marker",{color:e.color,attrs:a.mix({fill:e.color,symbol:"circle",shadowColor:e.color},t,{x:e.x,y:e.y,symbol:e.marker&&e.marker.activeSymbol})})})),this.set("markerItems",e)},clearMarkers:function(){var e=this.get("markerGroup");e&&e.clear()}};e.exports=r},function(e,t,n){function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var r=n(20),i=n(159),o=n(161),s=n(160),l=n(69),c=n(3),u=n(14).FONT_FAMILY,d=c.DomUtil,p=c.MatrixUtil,h=function(e){var t,n;n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=h.prototype;function h(t){var n;n=e.call(this,t)||this,c.assign(a(n),s),c.assign(a(n),o);var r=n.get("crosshairs");if(r){var l="rect"===r.type?n.get("backPlot"):n.get("frontPlot"),u=new i(c.mix({plot:l,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));u.hide(),n.set("crosshairGroup",u)}return n._init_(),n.get("items")&&n.render(),n}return l.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return c.mix({},t,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:u,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:u,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:u,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},l._init_=function(){var e=this.get("padding"),t=this.get("frontPlot"),n=t.addGroup({capture:!1});this.set("markerGroup",n);var a=t.addGroup();a.hide(),this.set("container",a);var r=a.addShape("rect",{attrs:c.mix({},this.get("boardStyle"))});this.set("board",r);var i=this.get("titleStyle");if(this.get("showTitle")){var o=a.addShape("text",{attrs:c.mix({x:e.left,y:e.top},i)});this.set("titleShape",o),o.name="tooltip-title"}var s=a.addGroup();s.move(e.left,e.top+i.lineHeight+i.padding),this.set("itemsGroup",s)},l.render=function(){var e=this;e.clear();var t=e.get("container"),n=e.get("board"),a=e.get("showTitle"),r=e.get("titleContent"),i=this.get("titleShape"),o=this.get("itemsGroup"),s=e.get("items"),l=e.get("padding");if(i&&a&&i.attr("text",r),o){var u=e.get("itemGap"),d=0;c.each(s,(function(t){var n=e._addItem(t);n.move(0,d),o.add(n);var a=n.getBBox().height;d+=a+u}))}var p=t.getBBox(),h=p.width+l.right,f=p.height+l.bottom;n.attr("width",h),n.attr("height",f),e._alignToRight(h)},l.clear=function(){var e=this.get("titleShape"),t=this.get("itemsGroup"),n=this.get("board");e.text="",t.clear(),n.attr("width",0),n.attr("height",0)},l.show=function(){this.get("container").show();var t=this.get("crosshairGroup");t&&t.show();var n=this.get("markerGroup");n&&n.show(),e.prototype.show.call(this),this.get("canvas").draw()},l.hide=function(){this.get("container").hide();var t=this.get("crosshairGroup");t&&t.hide();var n=this.get("markerGroup");n&&n.hide(),e.prototype.hide.call(this),this.get("canvas").draw()},l.destroy=function(){var t=this.get("container"),n=this.get("crosshairGroup");n&&n.destroy();var a=this.get("markerGroup");a&&a.remove(),e.prototype.destroy.call(this),t.remove()},l.setPosition=function(t,n,a){var r,i=this.get("container"),o=this.get("canvas").get("el"),s=d.getWidth(o),l=d.getHeight(o),u=i.getBBox(),h=u.width,f=u.height,m=t,g=n;if(this.get("position")){var v=u.width,y=u.height;t=(r=this._calcTooltipPosition(t,n,this.get("position"),v,y,a))[0],n=r[1]}else t=(r=this._constraintPositionInBoundary(t,n,h,f,s,l))[0],n=r[1];if(this.get("inPlot")){var _=this.get("plotRange");t=(r=this._constraintPositionInPlot(t,n,h,f,_,this.get("enterable")))[0],n=r[1]}var b=this.get("markerItems");c.isEmpty(b)||(m=b[0].x,g=b[0].y);var w=p.transform([1,0,0,0,1,0,0,0,1],[["t",t,n]]);i.stopAnimate(),i.animate({matrix:w},this.get("animationDuration"));var E=this.get("crosshairGroup");if(E){var T=this.get("items");E.setPosition(m,g,T)}e.prototype.setPosition.call(this,t,n)},l._addItem=function(e){var t=new r.Group,n=this.get("markerStyle").radius;if(e.marker){var a=c.mix({},e.marker,{x:e.marker.radius/2,y:0,symbol:e.marker.activeSymbol||e.marker.symbol});t.addShape("marker",{attrs:a}),n=e.marker.radius}var i=this.get("nameStyle");t.addShape("text",{attrs:c.mix({x:n+i.padding,y:0,text:e.name},i)});var o=this.get("valueStyle");return t.addShape("text",{attrs:c.mix({x:t.getBBox().width+o.padding,y:0,text:e.value},o)}),t},l._alignToRight=function(e){var t=this,n=this.get("itemsGroup").get("children");c.each(n,(function(n){var a=n.get("children")[2],r=a.getBBox().width,i=e-r-2*t.get("padding").right;a.attr("x",i)}))},h}(l);e.exports=h},function(e,t,n){var a=n(66),r=n(23),i=n(0),o=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getPointRauis=function(e,t){return r.getPointRadius(e,t)},o.getCirclePoint=function(e,t,n){var a=this.get("coord"),r=a.getCenter(),i=this._isEmitLabels(),o=this.getPointRauis(a,n);return 0===o?null:(a.isTransposed&&o>t&&!i?e+=2*Math.asin(t/(2*o)):o+=t,{x:r.x+o*Math.cos(e),y:r.y+o*Math.sin(e),angle:e,r:o})},o.getArcPoint=function(e,t){var n;return t=t||0,n=i.isArray(e.x)||i.isArray(e.y)?{x:i.isArray(e.x)?e.x[t]:e.x,y:i.isArray(e.y)?e.y[t]:e.y}:e,this.transLabelPoint(n),n},o.getPointAngle=function(e){var t=this.get("coord");return r.getPointAngle(t,e)},o.getMiddlePoint=function(e){var t=this.get("coord"),n=e.length,a={x:0,y:0};return i.each(e,(function(e){a.x+=e.x,a.y+=e.y})),a.x/=n,a.y/=n,a=t.convert(a)},o._isToMiddle=function(e){return e.x.length>2},o.getLabelPoint=function(e,t,n){var a,r=e.text[n],i=1;this._isToMiddle(t)?a=this.getMiddlePoint(t.points):(1===e.text.length&&0===n?n=1:0===n&&(i=-1),a=this.getArcPoint(t,n));var o=this.getDefaultOffset(e);o*=i;var s=this.getPointAngle(a),l=this.getCirclePoint(s,o,a);if(l?(l.text=r,l.angle=s,l.color=t.color):l={text:""},e.autoRotate||"undefined"===typeof e.autoRotate){var c=l.textStyle?l.textStyle.rotate:null;c||(c=l.rotate||this.getLabelRotate(s,o,t)),l.rotate=c}return l.start={x:a.x,y:a.y},l},o._isEmitLabels=function(){return this.get("label").labelEmit},o.getLabelRotate=function(e){var t;return t=180*e/Math.PI,t+=90,this._isEmitLabels()&&(t-=90),t&&(t>90?t-=180:t<-90&&(t+=180)),t/180*Math.PI},o.getLabelAlign=function(e){var t,n=this.get("coord");if(this._isEmitLabels())t=e.angle<=Math.PI/2&&e.angle>-Math.PI/2?"left":"right";else if(n.isTransposed){var a=n.getCenter(),r=this.getDefaultOffset(e);t=Math.abs(e.x-a.x)<1?"center":e.angle>Math.PI||e.angle<=0?r>0?"left":"right":r>0?"right":"left"}else t="center";return t},a}(a);e.exports=o},function(e,t){e.exports={toFront:function(e){var t=e.get("parent").get("children").indexOf(e);e.set("_originIndex",t),e.toFront()},resetZIndex:function(e){var t=e.get("parent"),n=e.get("_originIndex"),a=t.get("children"),r=a.indexOf(e);n>=0&&n!==r&&(a.splice(r,1),a.splice(n,0,e))}}},function(e,t,n){e.exports={Scale:n(343),Coord:n(344),Axis:n(349),Guide:n(350),Legend:n(353),Tooltip:n(355),Event:n(356)}},function(e,t,n){var a=n(16),r=n(0),i=n(167);function o(e,t,n){void 0===n&&(n=1);var a=[e.x,e.y,n];return r.vec3.transformMat3(a,a,t),{x:a[0],y:a[1]}}e.exports=function(e,t){var n=t;return r.each(e.get("children"),(function(e){e instanceof a.Group&&r.each(e.get("children"),(function(e){if(e instanceof a.Group&&e.get("children").length||e instanceof a.Path)n=i(n,e.getBBox());else if(e instanceof a.Text){var t=function(e){var t=e.getBBox(),n={x:t.minX,y:t.minY},a={x:t.maxX,y:t.maxY},r=e.attr("matrix");return n=o(n,r),a=o(a,r),{minX:n.x,minY:n.y,maxX:a.x,maxY:a.y}}(e);n=i(n,t)}}))})),n}},function(e,t){e.exports=function(e,t){return{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}}},function(e,t){e.exports=function(e){return{minX:e.tl.x,minY:e.tl.y,maxX:e.br.x,maxY:e.br.y}}},function(e,t,n){"use strict";t.a=T,t.b=x,t.c=function(){return++E};var a=n(72),r=n(455),i=n(469),o=n(470),s=n(471),l=n(472),c=n(473),u=n(474),d=n(475),p=n(476),h=n(477),f=n(478),m=n(479),g=n(480),v=n(481),y=n(482),_=n(483),b=n(365),w=n(484),E=0;function T(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function x(e){return Object(a.selection)().transition(e)}var C=a.selection.prototype;T.prototype=x.prototype={constructor:T,select:h.a,selectAll:f.a,filter:c.a,merge:u.a,selection:m.a,transition:_.a,call:C.call,nodes:C.nodes,node:C.node,size:C.size,empty:C.empty,each:C.each,on:d.a,attr:r.a,attrTween:i.a,style:g.a,styleTween:v.a,text:y.a,remove:p.a,tween:b.a,delay:o.a,duration:s.a,ease:l.a,end:w.a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(59);n.d(t,"now",(function(){return a.b})),n.d(t,"timer",(function(){return a.c})),n.d(t,"timerFlush",(function(){return a.d}));var r=n(192);n.d(t,"timeout",(function(){return r.a}));var i=n(193);n.d(t,"interval",(function(){return i.a}))},function(e,t,n){var a=n(0),r=a.DomUtil,i=["start","process","end","reset"],o=function(){var e=t.prototype;function t(e,t){var n=this,r=n.getDefaultCfg();a.assign(n,r,e),n.view=n.chart=t,n.canvas=t.get("canvas"),n._bindEvents()}return e.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},e._start=function(e){var t=this;t.preStart&&t.preStart(e),t.start(e),t.onStart&&t.onStart(e)},e._process=function(e){var t=this;t.preProcess&&t.preProcess(e),t.process(e),t.onProcess&&t.onProcess(e)},e._end=function(e){var t=this;t.preEnd&&t.preEnd(e),t.end(e),t.onEnd&&t.onEnd(e)},e._reset=function(e){var t=this;t.preReset&&t.preReset(e),t.reset(e),t.onReset&&t.onReset(e)},e.start=function(){},e.process=function(){},e.end=function(){},e.reset=function(){},e._bindEvents=function(){var e=this,t=e.canvas.get("canvasDOM");e._clearEvents(),a.each(i,(function(n){var i=a.upperFirst(n);e["_on"+i+"Listener"]=r.addEventListener(t,e[n+"Event"],a.wrapBehavior(e,"_"+n))}))},e._clearEvents=function(){var e=this;a.each(i,(function(t){var n="_on"+a.upperFirst(t)+"Listener";e[n]&&e[n].remove()}))},e.destroy=function(){this._clearEvents()},t}();e.exports=o},function(e,t,n){var a=n(74),r=n(16),i=n(125),o=n(146),s=n(7),l=n(19),c=n(0),u={version:s.version,Animate:i,Chart:o,Global:s,Scale:a,Shape:l,Util:c,G:r,DomUtil:c.DomUtil,MatrixUtil:c.MatrixUtil,PathUtil:c.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!==typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+u.version+"'s reference is 'window.G2_3'"):window.G2=u),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(194);n.d(t,"easeLinear",(function(){return a.a}));var r=n(195);n.d(t,"easeQuad",(function(){return r.b})),n.d(t,"easeQuadIn",(function(){return r.a})),n.d(t,"easeQuadOut",(function(){return r.c})),n.d(t,"easeQuadInOut",(function(){return r.b}));var i=n(196);n.d(t,"easeCubic",(function(){return i.b})),n.d(t,"easeCubicIn",(function(){return i.a})),n.d(t,"easeCubicOut",(function(){return i.c})),n.d(t,"easeCubicInOut",(function(){return i.b}));var o=n(197);n.d(t,"easePoly",(function(){return o.b})),n.d(t,"easePolyIn",(function(){return o.a})),n.d(t,"easePolyOut",(function(){return o.c})),n.d(t,"easePolyInOut",(function(){return o.b}));var s=n(198);n.d(t,"easeSin",(function(){return s.b})),n.d(t,"easeSinIn",(function(){return s.a})),n.d(t,"easeSinOut",(function(){return s.c})),n.d(t,"easeSinInOut",(function(){return s.b}));var l=n(199);n.d(t,"easeExp",(function(){return l.b})),n.d(t,"easeExpIn",(function(){return l.a})),n.d(t,"easeExpOut",(function(){return l.c})),n.d(t,"easeExpInOut",(function(){return l.b}));var c=n(200);n.d(t,"easeCircle",(function(){return c.b})),n.d(t,"easeCircleIn",(function(){return c.a})),n.d(t,"easeCircleOut",(function(){return c.c})),n.d(t,"easeCircleInOut",(function(){return c.b}));var u=n(201);n.d(t,"easeBounce",(function(){return u.c})),n.d(t,"easeBounceIn",(function(){return u.a})),n.d(t,"easeBounceOut",(function(){return u.c})),n.d(t,"easeBounceInOut",(function(){return u.b}));var d=n(202);n.d(t,"easeBack",(function(){return d.b})),n.d(t,"easeBackIn",(function(){return d.a})),n.d(t,"easeBackOut",(function(){return d.c})),n.d(t,"easeBackInOut",(function(){return d.b}));var p=n(203);n.d(t,"easeElastic",(function(){return p.c})),n.d(t,"easeElasticIn",(function(){return p.a})),n.d(t,"easeElasticOut",(function(){return p.c})),n.d(t,"easeElasticInOut",(function(){return p.b}))},function(e,t,n){"use strict";t.c=function(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(a.a)(isNaN(e)?t:e)},t.b=function(e){return 1===(e=+e)?i:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):Object(a.a)(isNaN(t)?n:t)}},t.a=i;var a=n(394);function r(e,t){return function(n){return e+n*t}}function i(e,t){var n=t-e;return n?r(e,n):Object(a.a)(isNaN(e)?t:e)}},function(e,t,n){var a=n(5),r=n(9),i=n(76),o=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],s=[0,1,2,4,5,10];e.exports=function(e){var t=e.min,n=e.max,l=e.interval,c=e.minTickInterval,u=[],d=e.minCount||5,p=e.maxCount||7,h=d===p,f=a(e.minLimit)?-1/0:e.minLimit,m=a(e.maxLimit)?1/0:e.maxLimit,g=(d+p)/2,v=g,y=e.snapArray?e.snapArray:h?o:s;if(t===f&&n===m&&h&&(l=(n-t)/(v-1)),a(t)&&(t=0),a(n)&&(n=0),Math.abs(n-t)<1e-12&&(0===t?n=1:t>0?t=0:n=0,n-t<5&&!l&&n-t>=1&&(l=1)),a(l)){var _=(n-t)/(g-1);l=i.snapFactorTo(_,y,"ceil"),p!==d&&((v=parseInt((n-t)/l,10))>p&&(v=p),v<d&&(v=d),l=i.snapFactorTo((n-t)/(v-1),y,"floor"))}if(r(c)&&l<c&&(l=c),e.interval||p!==d)n=Math.min(i.snapMultiple(n,l,"ceil"),m),t=Math.max(i.snapMultiple(t,l,"floor"),f),v=Math.round((n-t)/l),t=i.fixedBase(t,l),n=i.fixedBase(n,l);else{g=parseInt(g,10);var b,w=(n+t)/2,E=i.snapMultiple(w,l,"ceil"),T=Math.floor((g-2)/2),x=E+T*l;b=g%2===0?E-T*l:E-(T+1)*l;for(var C=null;x<n&&(null===C||x>C);)C=x,x=i.fixedBase(x+l,l);for(var S=null;b>t&&(null===S||b<S);)S=b,b=i.fixedBase(b-l,l);n=x,t=b}n=Math.min(n,m),t=Math.max(t,f),u.push(t);for(var k=1;k<v;k++){var O=i.fixedBase(l*k+t,l);O<n&&u.push(O)}return u[u.length-1]<n&&u.push(n),{min:t,max:n,interval:l,count:v,ticks:u}}},function(e,t,n){var a=n(18),r=n(9),i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},i.getText=function(){return this.value.toString()},i.scale=function(e){return this.value!==e&&r(e)?e:this.range[0]},i.invert=function(){return this.value},a}(a);a.Identity=i,e.exports=i},function(e,t,n){var a=n(79),r=n(2),i=n(5),o=n(10),s=n(18),l=n(33),c=n(178),u=n(71),d=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=s.prototype;return l._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},l.init=function(){var t=this,n=t.values;if(n&&n.length){var a=[],o=1/0,s=o,l=0;r(n,(function(e){var n=t._toTimeStamp(e);if(isNaN(n))throw new TypeError("Invalid Time: "+e);o>n?(s=o,o=n):s>n&&(s=n),l<n&&(l=n),a.push(n)})),n.length>1&&(t.minTickInterval=s-o),(i(t.min)||t._toTimeStamp(t.min)>o)&&(t.min=o),(i(t.max)||t._toTimeStamp(t.max)<l)&&(t.max=l)}e.prototype.init.call(this)},l.calculateTicks=function(){var e=this.min,t=this.max,n=this.tickCount,a=this.tickInterval;return c({min:e,max:t,minCount:n,maxCount:n,interval:a,minInterval:this.minTickInterval}).ticks},l.getText=function(e){var t=this.formatter;return e=this.translate(e),e=t?t(e):a.format(e,this.mask)},l.scale=function(t){return o(t)&&(t=this.translate(t)),e.prototype.scale.call(this,t)},l.translate=function(e){return this._toTimeStamp(e)},l._toTimeStamp=function(e){return u.toTimeStamp(e)},s}(l);s.Time=d,e.exports=d},function(e,t,n){var a=n(76),r=n(5),i=[1,2,4,6,8,12],o=36e5,s=864e5;function l(e){return new Date(e).getFullYear()}function c(e){return new Date(e,0,1).getTime()}function u(e){return new Date(e).getMonth()}function d(e,t){return new Date(e,t,1).getTime()}e.exports=function(e){var t,n=e.minInterval,p=[],h=e.min,f=e.max,m=e.interval;if(f===h&&(f=h+s),r(m)){var g=s,v=365*g;m=parseInt((f-h)/(e.maxCount||6),10),n&&n>m&&(m=n);var y=m/v,_=l(h);if(y>.51){for(var b=Math.ceil(y),w=l(f),E=_;E<=w+b;E+=b)p.push(c(E));m=null}else if(y>.0834){for(var T=Math.ceil(y/.0834),x=u(h),C=function(e,t){var n=l(e),a=l(t),r=u(e);return 12*(a-n)+(u(t)-r)%12}(h,f),S=0;S<=C+T;S+=T)p.push(d(_,S+x));m=null}else if(m>.5*g){var k=new Date(h),O=k.getFullYear(),M=k.getMonth(h),L=k.getDate(),D=Math.ceil(m/g),R=function(e,t){return Math.ceil((t-e)/s)}(h,f);m=D*g;for(var N=0;N<R+D;N+=D)p.push(new Date(O,M,L+N).getTime())}else if(m>o){var I=new Date(h),A=I.getFullYear(),P=I.getMonth(h),Y=I.getDate(),F=I.getHours(),j=a.snapTo(i,Math.ceil(m/o)),U=function(e,t){return Math.ceil((t-e)/o)}(h,f);m=j*o;for(var H=0;H<=U+j;H+=j)p.push(new Date(A,P,Y,F+H).getTime())}else if(m>6e4){var B=function(e,t){return Math.ceil((t-e)/6e4)}(h,f),V=Math.ceil(m/6e4);m=6e4*V;for(var G=0;G<=B+V;G+=V)p.push(h+6e4*G)}else{m<1e3&&(m=1e3),h=1e3*Math.floor(h/1e3);var W=Math.ceil((f-h)/1e3),z=Math.ceil(m/1e3);m=1e3*z;for(var q=0;q<W+z;q+=z)p.push(h+1e3*q)}}if(!p.length){h=1e3*Math.floor(h/1e3),t=((f=1e3*Math.ceil(f/1e3))-h)/m;for(var K=0;K<=t;K++)p.push(a.fixedBase(m*K+h,m))}return{max:f,min:h,interval:m,ticks:p,count:p.length}}},function(e,t,n){var a=n(18),r=n(77),i=n(79),o=n(78),s=n(71),l=n(2),c=n(9),u=n(25),d=n(10),p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},r.init=function(){var e=this,t=this.values;l(t,(function(n,a){t[a]=e._toTimeStamp(n)})),this.sortable&&t.sort((function(e,t){return e-t})),e.ticks||(e.ticks=this.calculateTicks())},r.calculateTicks=function(){var e=this.tickCount;return e?o({maxCount:e,data:this.values,isRounding:this.isRounding}).ticks:this.values},r.translate=function(e){e=this._toTimeStamp(e);var t=this.values.indexOf(e);return-1===t&&(t=c(e)&&e<this.values.length?e:NaN),t},r.scale=function(e){var t=this.rangeMin(),n=this.rangeMax(),a=this.translate(e);return t+(1===this.values.length||isNaN(a)?a:a>-1?a/(this.values.length-1):0)*(n-t)},r.getText=function(e){var t="",n=this.translate(e);t=n>-1?this.values[n]:e;var a=this.formatter;return t=parseInt(t,10),t=a?a(t):i.format(t,this.mask)},r.getTicks=function(){var e=this,t=this.ticks,n=[];return l(t,(function(t){var a;a=u(t)?t:{text:d(t)?t:e.getText(t),value:e.scale(t),tickValue:t},n.push(a)})),n},r._toTimeStamp=function(e){return s.toTimeStamp(e)},a}(r);a.TimeCat=p,e.exports=p},function(e,t,n){var a=n(2),r=n(18);function i(e,t){return 1===e?1:Math.log(t)/Math.log(e)}var o=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},o.calculateTicks=function(){var e,t=this.base;if(this.min<0)throw new Error("The minimum value must be greater than zero!");var n=i(t,this.max);if(this.min>0)e=Math.floor(i(t,this.min));else{var r=this.values,o=this.max;a(r,(function(e){e>0&&e<o&&(o=e)})),o===this.max&&(o=this.max/t),o>1&&(o=1),e=Math.floor(i(t,o)),this._minTick=e,this.positiveMin=o}for(var s=n-e,l=this.tickCount,c=Math.ceil(s/l),u=[],d=e;d<n+c;d+=c)u.push(Math.pow(t,d));return 0===this.min&&u.unshift(0),u},o._getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var a=this.base,r=this.positiveMin;return r&&(n=1*r/a),e<r?e/r/(i(a,t)-i(a,n)):(i(a,e)-i(a,n))/(i(a,t)-i(a,n))},o.scale=function(e){var t=this._getScalePercent(e),n=this.rangeMin();return n+t*(this.rangeMax()-n)},o.invert=function(e){var t,n=this.base,a=i(n,this.max),r=this.rangeMin(),o=this.rangeMax()-r,s=this.positiveMin;if(s){if(0===e)return 0;var l=1/(a-(t=i(n,s/n)))*o;if(e<l)return e/l*s}else t=i(n,this.min);var c=(e-r)/o*(a-t)+t;return Math.pow(n,c)},r}(n(33));r.Log=o,e.exports=o},function(e,t,n){var a=n(18);function r(e,t){var n=Math.E;return Math.pow(n,Math.log(t)/e)}var i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},i.calculateTicks=function(){var e,t=this.exponent,n=Math.ceil(r(t,this.max));if((e=this.min>=0?Math.floor(r(t,this.min)):0)>n){var a=n;n=e,e=a}for(var i=n-e,o=this.tickCount,s=Math.ceil(i/o),l=[],c=e;c<n+s;c+=s)l.push(Math.pow(c,t));return l},i._getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var a=this.exponent;return(r(a,e)-r(a,n))/(r(a,t)-r(a,n))},i.scale=function(e){var t=this._getScalePercent(e),n=this.rangeMin();return n+t*(this.rangeMax()-n)},i.invert=function(e){var t=(e-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,a=r(n,this.max),i=r(n,this.min),o=t*(a-i)+i;return Math.pow(o,n)},a}(n(33));a.Pow=i,e.exports=i},function(e,t,n){var a=n(1),r=n(100),i=n(101),o=n(191),s=n(217),l=function e(t){e.superclass.constructor.call(this,t)};l.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},a.extend(l,i),a.augment(l,{init:function(){l.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(e,t){if(e){if(!a.isEmpty(e._getEvents()))return e;var n=e.get("parent");if(n&&!t.propagationStopped)return this.getEmitter(n,t)}},_getEventObj:function(e,t,n,a){var i=new r(e,t,!0,!0);return i.x=n.x,i.y=n.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=a,i.target=a,i},_triggerEvent:function(e,t){var n,a=this.getPointByClient(t.clientX,t.clientY),r=this.getShape(a.x,a.y,t),i=this.get("el");if("mousemove"===e){var o=this.get("preShape");if(o&&o!==r){var s=this._getEventObj("mouseleave",t,a,o);(n=this.getEmitter(o,t))&&n.emit("mouseleave",s),i.style.cursor="default"}if(r){var l=this._getEventObj("mousemove",t,a,r);if((n=this.getEmitter(r,t))&&n.emit("mousemove",l),o!==r){var c=this._getEventObj("mouseenter",t,a,r);n&&n.emit("mouseenter",c,t)}}else{var u=this._getEventObj("mousemove",t,a,this);this.emit("mousemove",u)}this.set("preShape",r)}else{var d=this._getEventObj(e,t,a,r||this);(n=this.getEmitter(r,t))&&n!==this&&n.emit(e,d),this.emit(e,d)}r&&!r.get("destroyed")&&(i.style.cursor=r.attr("cursor")||"default")},_registEvents:function(){var e=this,t=e.get("el");a.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],(function(n){t.addEventListener(n,(function(t){e._triggerEvent(n,t)}),!1)})),t.addEventListener("touchstart",(function(t){a.isEmpty(t.touches)||e._triggerEvent("touchstart",t.touches[0])}),!1),t.addEventListener("touchmove",(function(t){a.isEmpty(t.touches)||e._triggerEvent("touchmove",t.touches[0])}),!1),t.addEventListener("touchend",(function(t){a.isEmpty(t.changedTouches)||e._triggerEvent("touchend",t.changedTouches[0])}),!1)},_scale:function(){var e=this.get("pixelRatio");this.scale(e,e)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",a.getRatio());var e=s[this.get("renderer")||"canvas"];this._cfg.renderer=e,this._cfg.canvas=this;var t=new o(this);this._cfg.timeline=t},_setContainer:function(){var e=this.get("containerId"),t=this.get("containerDOM");t||(t=document.getElementById(e),this.set("containerDOM",t)),a.modifyCSS(t,{position:"relative"})},_initPainter:function(){var e=this.get("containerDOM"),t=new this._cfg.renderer.painter(e);this._cfg.painter=t,this._cfg.canvasDOM=this._cfg.el=t.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var e=this.get("canvasDOM"),t=this.get("widthCanvas"),n=this.get("heightCanvas"),a=this.get("widthStyle"),r=this.get("heightStyle");e.style.width=a,e.style.height=r,e.setAttribute("width",t),e.setAttribute("height",n)},getWidth:function(){var e=this.get("pixelRatio");return this.get("width")*e},getHeight:function(){var e=this.get("pixelRatio");return this.get("height")*e},changeSize:function(e,t){var n=this.get("pixelRatio"),a=e*n,r=t*n;this.set("widthCanvas",a),this.set("heightCanvas",r),this.set("widthStyle",e+"px"),this.set("heightStyle",t+"px"),this.set("width",e),this.set("height",t),this._resize()},getPointByClient:function(e,t){var n=this.get("el"),a=this.get("pixelRatio")||1,r=n.getBoundingClientRect();return{x:(e-r.left)*a,y:(t-r.top)*a}},getClientByPoint:function(e,t){var n=this.get("el").getBoundingClientRect(),a=this.get("pixelRatio")||1;return{clientX:e/a+n.left,clientY:t/a+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(e,t,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,e,t,n):l.superclass.getShape.call(this,e,t)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var e=this._cfg,t=e.containerDOM,n=e.canvasDOM;n&&t&&t.removeChild(n),e.timeline.stop(),l.superclass.destroy.call(this)}}),e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=function(){var e=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},t.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},t.clone=function(e){var t=new a.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromValues=function(e,t,n,r,i,o,s,l,c){var u=new a.ARRAY_TYPE(9);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=s,u[7]=l,u[8]=c,u},t.set=function(e,t,n,a,r,i,o,s,l,c){return e[0]=t,e[1]=n,e[2]=a,e[3]=r,e[4]=i,e[5]=o,e[6]=s,e[7]=l,e[8]=c,e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.transpose=function(e,t){if(e===t){var n=t[1],a=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=a,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},t.invert=function(e,t){var n=t[0],a=t[1],r=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=u*o-s*c,p=-u*i+s*l,h=c*i-o*l,f=n*d+a*p+r*h;return f?(f=1/f,e[0]=d*f,e[1]=(-u*a+r*c)*f,e[2]=(s*a-r*o)*f,e[3]=p*f,e[4]=(u*n-r*l)*f,e[5]=(-s*n+r*i)*f,e[6]=h*f,e[7]=(-c*n+a*l)*f,e[8]=(o*n-a*i)*f,e):null},t.adjoint=function(e,t){var n=t[0],a=t[1],r=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=o*u-s*c,e[1]=r*c-a*u,e[2]=a*s-r*o,e[3]=s*l-i*u,e[4]=n*u-r*l,e[5]=r*i-n*s,e[6]=i*c-o*l,e[7]=a*l-n*c,e[8]=n*o-a*i,e},t.determinant=function(e){var t=e[0],n=e[1],a=e[2],r=e[3],i=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*(c*i-o*l)+n*(-c*r+o*s)+a*(l*r-i*s)},t.multiply=r,t.translate=function(e,t,n){var a=t[0],r=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],p=n[0],h=n[1];return e[0]=a,e[1]=r,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=p*a+h*o+c,e[7]=p*r+h*s+u,e[8]=p*i+h*l+d,e},t.rotate=function(e,t,n){var a=t[0],r=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],p=Math.sin(n),h=Math.cos(n);return e[0]=h*a+p*o,e[1]=h*r+p*s,e[2]=h*i+p*l,e[3]=h*o-p*a,e[4]=h*s-p*r,e[5]=h*l-p*i,e[6]=c,e[7]=u,e[8]=d,e},t.scale=function(e,t,n){var a=n[0],r=n[1];return e[0]=a*t[0],e[1]=a*t[1],e[2]=a*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},t.fromRotation=function(e,t){var n=Math.sin(t),a=Math.cos(t);return e[0]=a,e[1]=n,e[2]=0,e[3]=-n,e[4]=a,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},t.fromQuat=function(e,t){var n=t[0],a=t[1],r=t[2],i=t[3],o=n+n,s=a+a,l=r+r,c=n*o,u=a*o,d=a*s,p=r*o,h=r*s,f=r*l,m=i*o,g=i*s,v=i*l;return e[0]=1-d-f,e[3]=u-v,e[6]=p+g,e[1]=u+v,e[4]=1-c-f,e[7]=h-m,e[2]=p-g,e[5]=h+m,e[8]=1-c-d,e},t.normalFromMat4=function(e,t){var n=t[0],a=t[1],r=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],p=t[10],h=t[11],f=t[12],m=t[13],g=t[14],v=t[15],y=n*s-a*o,_=n*l-r*o,b=n*c-i*o,w=a*l-r*s,E=a*c-i*s,T=r*c-i*l,x=u*m-d*f,C=u*g-p*f,S=u*v-h*f,k=d*g-p*m,O=d*v-h*m,M=p*v-h*g,L=y*M-_*O+b*k+w*S-E*C+T*x;return L?(L=1/L,e[0]=(s*M-l*O+c*k)*L,e[1]=(l*S-o*M-c*C)*L,e[2]=(o*O-s*S+c*x)*L,e[3]=(r*O-a*M-i*k)*L,e[4]=(n*M-r*S+i*C)*L,e[5]=(a*S-n*O-i*x)*L,e[6]=(m*T-g*E+v*w)*L,e[7]=(g*b-f*T-v*_)*L,e[8]=(f*E-m*b+v*y)*L,e):null},t.projection=function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},t.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},t.subtract=i,t.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},t.multiplyScalarAndAdd=function(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e[3]=t[3]+n[3]*a,e[4]=t[4]+n[4]*a,e[5]=t[5]+n[5]*a,e[6]=t[6]+n[6]*a,e[7]=t[7]+n[7]*a,e[8]=t[8]+n[8]*a,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},t.equals=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],p=t[0],h=t[1],f=t[2],m=t[3],g=t[4],v=t[5],y=t[6],_=t[7],b=t[8];return Math.abs(n-p)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-h)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-f)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-m)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-g)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-v)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(u-_)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(d-b)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(b))};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(53));function r(e,t,n){var a=t[0],r=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],p=n[0],h=n[1],f=n[2],m=n[3],g=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return e[0]=p*a+h*o+f*c,e[1]=p*r+h*s+f*u,e[2]=p*i+h*l+f*d,e[3]=m*a+g*o+v*c,e[4]=m*r+g*s+v*u,e[5]=m*i+g*l+v*d,e[6]=y*a+_*o+b*c,e[7]=y*r+_*s+b*u,e[8]=y*i+_*l+b*d,e}function i(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}t.mul=r,t.sub=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.sqrDist=t.dist=t.div=t.mul=t.sub=t.len=void 0,t.create=r,t.clone=function(e){var t=new a.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},t.fromValues=function(e,t){var n=new a.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},t.set=function(e,t,n){return e[0]=t,e[1]=n,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},t.subtract=i,t.multiply=o,t.divide=s,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},t.scaleAndAdd=function(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e},t.distance=l,t.squaredDistance=c,t.length=u,t.squaredLength=d,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},t.normalize=function(e,t){var n=t[0],a=t[1],r=n*n+a*a;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t,n){var a=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=a,e},t.lerp=function(e,t,n,a){var r=t[0],i=t[1];return e[0]=r+a*(n[0]-r),e[1]=i+a*(n[1]-i),e},t.random=function(e,t){t=t||1;var n=2*a.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},t.transformMat2=function(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[2]*r,e[1]=n[1]*a+n[3]*r,e},t.transformMat2d=function(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[2]*r+n[4],e[1]=n[1]*a+n[3]*r+n[5],e},t.transformMat3=function(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[3]*r+n[6],e[1]=n[1]*a+n[4]*r+n[7],e},t.transformMat4=function(e,t,n){var a=t[0],r=t[1];return e[0]=n[0]*a+n[4]*r+n[12],e[1]=n[1]*a+n[5]*r+n[13],e},t.rotate=function(e,t,n,a){var r=t[0]-n[0],i=t[1]-n[1],o=Math.sin(a),s=Math.cos(a);return e[0]=r*s-i*o+n[0],e[1]=r*o+i*s+n[1],e},t.angle=function(e,t){var n=e[0],a=e[1],r=t[0],i=t[1],o=n*n+a*a;o>0&&(o=1/Math.sqrt(o));var s=r*r+i*i;s>0&&(s=1/Math.sqrt(s));var l=(n*r+a*i)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)},t.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.equals=function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return Math.abs(n-i)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(53));function r(){var e=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function i(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function o(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function s(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function l(e,t){var n=t[0]-e[0],a=t[1]-e[1];return Math.sqrt(n*n+a*a)}function c(e,t){var n=t[0]-e[0],a=t[1]-e[1];return n*n+a*a}function u(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function d(e){var t=e[0],n=e[1];return t*t+n*n}t.len=u,t.sub=i,t.mul=o,t.div=s,t.dist=l,t.sqrDist=c,t.sqrLen=d,t.forEach=function(){var e=r();return function(t,n,a,r,i,o){var s=void 0,l=void 0;for(n||(n=2),a||(a=0),l=r?Math.min(r*n+a,t.length):t.length,s=a;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0,t.create=r,t.clone=function(e){var t=new a.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.length=i,t.fromValues=o,t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.set=function(e,t,n,a){return e[0]=t,e[1]=n,e[2]=a,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},t.subtract=s,t.multiply=l,t.divide=c,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},t.scaleAndAdd=function(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e[2]=t[2]+n[2]*a,e},t.distance=u,t.squaredDistance=d,t.squaredLength=p,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},t.normalize=h,t.dot=f,t.cross=function(e,t,n){var a=t[0],r=t[1],i=t[2],o=n[0],s=n[1],l=n[2];return e[0]=r*l-i*s,e[1]=i*o-a*l,e[2]=a*s-r*o,e},t.lerp=function(e,t,n,a){var r=t[0],i=t[1],o=t[2];return e[0]=r+a*(n[0]-r),e[1]=i+a*(n[1]-i),e[2]=o+a*(n[2]-o),e},t.hermite=function(e,t,n,a,r,i){var o=i*i,s=o*(2*i-3)+1,l=o*(i-2)+i,c=o*(i-1),u=o*(3-2*i);return e[0]=t[0]*s+n[0]*l+a[0]*c+r[0]*u,e[1]=t[1]*s+n[1]*l+a[1]*c+r[1]*u,e[2]=t[2]*s+n[2]*l+a[2]*c+r[2]*u,e},t.bezier=function(e,t,n,a,r,i){var o=1-i,s=o*o,l=i*i,c=s*o,u=3*i*s,d=3*l*o,p=l*i;return e[0]=t[0]*c+n[0]*u+a[0]*d+r[0]*p,e[1]=t[1]*c+n[1]*u+a[1]*d+r[1]*p,e[2]=t[2]*c+n[2]*u+a[2]*d+r[2]*p,e},t.random=function(e,t){t=t||1;var n=2*a.RANDOM()*Math.PI,r=2*a.RANDOM()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e},t.transformMat4=function(e,t,n){var a=t[0],r=t[1],i=t[2],o=n[3]*a+n[7]*r+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*a+n[4]*r+n[8]*i+n[12])/o,e[1]=(n[1]*a+n[5]*r+n[9]*i+n[13])/o,e[2]=(n[2]*a+n[6]*r+n[10]*i+n[14])/o,e},t.transformMat3=function(e,t,n){var a=t[0],r=t[1],i=t[2];return e[0]=a*n[0]+r*n[3]+i*n[6],e[1]=a*n[1]+r*n[4]+i*n[7],e[2]=a*n[2]+r*n[5]+i*n[8],e},t.transformQuat=function(e,t,n){var a=n[0],r=n[1],i=n[2],o=n[3],s=t[0],l=t[1],c=t[2],u=r*c-i*l,d=i*s-a*c,p=a*l-r*s,h=r*p-i*d,f=i*u-a*p,m=a*d-r*u,g=2*o;return u*=g,d*=g,p*=g,h*=2,f*=2,m*=2,e[0]=s+u+h,e[1]=l+d+f,e[2]=c+p+m,e},t.rotateX=function(e,t,n,a){var r=[],i=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],i[0]=r[0],i[1]=r[1]*Math.cos(a)-r[2]*Math.sin(a),i[2]=r[1]*Math.sin(a)+r[2]*Math.cos(a),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},t.rotateY=function(e,t,n,a){var r=[],i=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],i[0]=r[2]*Math.sin(a)+r[0]*Math.cos(a),i[1]=r[1],i[2]=r[2]*Math.cos(a)-r[0]*Math.sin(a),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},t.rotateZ=function(e,t,n,a){var r=[],i=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],i[0]=r[0]*Math.cos(a)-r[1]*Math.sin(a),i[1]=r[0]*Math.sin(a)+r[1]*Math.cos(a),i[2]=r[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},t.angle=function(e,t){var n=o(e[0],e[1],e[2]),a=o(t[0],t[1],t[2]);h(n,n),h(a,a);var r=f(n,a);return r>1?0:r<-1?Math.PI:Math.acos(r)},t.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.equals=function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],s=t[1],l=t[2];return Math.abs(n-o)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(53));function r(){var e=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function i(e){var t=e[0],n=e[1],a=e[2];return Math.sqrt(t*t+n*n+a*a)}function o(e,t,n){var r=new a.ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=n,r}function s(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function u(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+a*a+r*r)}function d(e,t){var n=t[0]-e[0],a=t[1]-e[1],r=t[2]-e[2];return n*n+a*a+r*r}function p(e){var t=e[0],n=e[1],a=e[2];return t*t+n*n+a*a}function h(e,t){var n=t[0],a=t[1],r=t[2],i=n*n+a*a+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function f(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.sub=s,t.mul=l,t.div=c,t.dist=u,t.sqrDist=d,t.len=i,t.sqrLen=p,t.forEach=function(){var e=r();return function(t,n,a,r,i,o){var s=void 0,l=void 0;for(n||(n=3),a||(a=0),l=r?Math.min(r*n+a,t.length):t.length,s=a;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}()},function(e,t,n){var a=n(1);e.exports={canFill:!1,canStroke:!1,initAttrs:function(e){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(a.assign(this.getDefaultAttrs(),e)),this},getDefaultAttrs:function(){return{}},attr:function(e,t){var n=this;if(0===arguments.length)return n._attrs;if(a.isObject(e)){for(var r in e)this._setAttr(r,e[r]);return n.clearBBox(),this._cfg.hasUpdate=!0,n}return 2===arguments.length?(this._setAttr(e,t),n.clearBBox(),this._cfg.hasUpdate=!0,n):n._attrs[e]},_setAttr:function(e,t){var n=this._attrs;n[e]=t,"fill"!==e&&"stroke"!==e?"opacity"!==e?"clip"===e&&t?this._setClip(t):"path"===e&&this._afterSetAttrPath?this._afterSetAttrPath(t):"transform"!==e?"rotate"===e&&this.rotateAtStart(t):this.transform(t):n.globalAlpha=t:n[e+"Style"]=t},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(e){e._cfg.renderer=this._cfg.renderer,e._cfg.canvas=this._cfg.canvas,e._cfg.parent=this._cfg.parent,e.hasFill=function(){return!0}}}},function(e,t,n){var a=n(1);function r(e){return 1===e[0]&&0===e[1]&&0===e[3]&&1===e[4]&&0===e[6]&&0===e[7]}function i(e){return 0===e[1]&&0===e[3]&&0===e[6]&&0===e[7]}function o(e,t){r(t)||(i(t)?(e[0]*=t[0],e[4]*=t[4]):a.mat3.multiply(e,e,t))}e.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(e,t){var n=this._attrs.matrix;return a.mat3.translate(n,n,[e,t]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(e){var t=this._attrs.matrix;return a.mat3.rotate(t,t,e),this.clearTotalMatrix(),this.attr("matrix",t),this},scale:function(e,t){var n=this._attrs.matrix;return a.mat3.scale(n,n,[e,t]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(e){var t=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(e)>2*Math.PI&&(e=e/180*Math.PI),this.transform([["t",-t,-n],["r",e],["t",t,n]])},move:function(e,t){var n=this.get("x")||0,a=this.get("y")||0;return this.translate(e-n,t-a),this.set("x",e),this.set("y",t),this},transform:function(e){var t=this,n=this._attrs.matrix;return a.each(e,(function(e){switch(e[0]){case"t":t.translate(e[1],e[2]);break;case"s":t.scale(e[1],e[2]);break;case"r":t.rotate(e[1]);break;case"m":t.attr("matrix",a.mat3.multiply([],n,e[1])),t.clearTotalMatrix()}})),t},setTransform:function(e){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(e)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(e){return this.attr("matrix",e),this.clearTotalMatrix(),this},apply:function(e,t){var n;return n=t?this._getMatrixByRoot(t):this.attr("matrix"),a.vec3.transformMat3(e,e,n),this},_getMatrixByRoot:function(e){e=e||this;for(var t=this,n=[];t!==e;)n.unshift(t),t=t.get("parent");n.unshift(t);var r=[1,0,0,0,1,0,0,0,1];return a.each(n,(function(e){a.mat3.multiply(r,e.attr("matrix"),r)})),r},getTotalMatrix:function(){var e=this._cfg.totalMatrix;if(!e){e=[1,0,0,0,1,0,0,0,1];var t=this._cfg.parent;t&&o(e,t.getTotalMatrix()),o(e,this.attr("matrix")),this._cfg.totalMatrix=e}return e},clearTotalMatrix:function(){},invert:function(e){var t=this.getTotalMatrix();if(i(t))e[0]/=t[0],e[1]/=t[4];else{var n=a.mat3.invert([],t);n&&a.vec3.transformMat3(e,e,n)}return this},resetTransform:function(e){var t=this.attr("matrix");r(t)||e.transform(t[0],t[1],t[3],t[4],t[6],t[7])}}},function(e,t,n){var a=n(1),r={delay:"delay",rotate:"rotate"},i={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function o(e,t){var n={},a=t._attrs;for(var r in e.attrs)n[r]=a[r];return n}e.exports={animate:function(e,t,n,s,l){void 0===l&&(l=0),this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.setSilent("timeline",c));var u=this.get("animators")||[];c._timer||c.initTimer(),a.isNumber(s)&&(l=s,s=null),a.isFunction(n)?(s=n,n="easeLinear"):n=n||"easeLinear";var d=function(e,t){var n={matrix:null,attrs:{}},o=t._attrs;for(var s in e)if("transform"===s)n.matrix=a.transform(t.getMatrix(),e[s]);else if("rotate"===s)n.matrix=a.transform(t.getMatrix(),[["r",e[s]]]);else if("matrix"===s)n.matrix=e[s];else{if(i[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(e[s]))continue;r[s]||o[s]===e[s]||(n.attrs[s]=e[s])}return n}(e,this),p={fromAttrs:o(d,this),toAttrs:d.attrs,fromMatrix:a.clone(this.getMatrix()),toMatrix:d.matrix,duration:t,easing:n,callback:s,delay:l,startTime:c.getTime(),id:a.uniqueId()};u.length>0?u=function(e,t){var n=t.delay,r=Object.prototype.hasOwnProperty;return a.each(t.toAttrs,(function(t,i){a.each(e,(function(e){n<e.startTime+e.duration&&r.call(e.toAttrs,i)&&(delete e.toAttrs[i],delete e.fromAttrs[i])}))})),t.toMatrix&&a.each(e,(function(e){n<e.startTime+e.duration&&e.toMatrix&&delete e.toMatrix})),e}(u,p):c.addAnimator(this),u.push(p),this.setSilent("animators",u),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,t=this.get("animators");a.each(t,(function(t){e.attr(t.toAttrs),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var e=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:e.getTime()}),this},resumeAnimate:function(){var e=this.get("timeline").getTime(),t=this.get("animators"),n=this.get("pause").pauseTime;return a.each(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null})),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",t),this}}},function(e,t,n){var a=n(6);a.Arc=n(105),a.Circle=n(106),a.Dom=n(107),a.Ellipse=n(108),a.Fan=n(109),a.Image=n(110),a.Line=n(111),a.Marker=n(57),a.Path=n(112),a.Polygon=n(113),a.Polyline=n(114),a.Rect=n(115),a.Text=n(116),e.exports=a},function(e,t,n){var a=n(1),r=n(55),i={arc:n(37),ellipse:n(104),line:n(36)},o=a.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(e,t,n){return n.createPath(o),o.isPointInPath(e,t)}var l={arc:function(e,t){var n=this._attrs,a=n.x,i=n.y,o=n.r,s=n.startAngle,l=n.endAngle,c=n.clockwise,u=this.getHitLineWidth();return!!this.hasStroke()&&r.arcline(a,i,o,s,l,c,u,e,t)},circle:function(e,t){var n=this._attrs,a=n.x,i=n.y,o=n.r,s=this.getHitLineWidth(),l=this.hasFill(),c=this.hasStroke();return l&&c?r.circle(a,i,o,e,t)||r.arcline(a,i,o,0,2*Math.PI,!1,s,e,t):l?r.circle(a,i,o,e,t):!!c&&r.arcline(a,i,o,0,2*Math.PI,!1,s,e,t)},dom:function(e,t){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return r.box(n.x,n.x+n.width,n.y,n.y+n.height,e,t)},ellipse:function(e,t){var n=this._attrs,i=this.hasFill(),o=this.hasStroke(),s=n.x,l=n.y,c=n.rx,u=n.ry,d=this.getHitLineWidth(),p=c>u?c:u,h=c>u?1:c/u,f=c>u?u/c:1,m=[e,t,1],g=[1,0,0,0,1,0,0,0,1];a.mat3.scale(g,g,[h,f]),a.mat3.translate(g,g,[s,l]);var v=a.mat3.invert([],g);return a.vec3.transformMat3(m,m,v),i&&o?r.circle(0,0,p,m[0],m[1])||r.arcline(0,0,p,0,2*Math.PI,!1,d,m[0],m[1]):i?r.circle(0,0,p,m[0],m[1]):!!o&&r.arcline(0,0,p,0,2*Math.PI,!1,d,m[0],m[1])},fan:function(e,t){var n=this,o=n.hasFill(),s=n.hasStroke(),l=n._attrs,c=l.x,u=l.y,d=l.rs,p=l.re,h=l.startAngle,f=l.endAngle,m=l.clockwise,g=[e-c,t-u],v=a.vec2.angleTo([1,0],g);function y(){var e=i.arc.nearAngle(v,h,f,m);if(a.isNumberEqual(v,e)){var t=a.vec2.squaredLength(g);if(d*d<=t&&t<=p*p)return!0}return!1}function _(){var a=n.getHitLineWidth(),i={x:Math.cos(h)*d+c,y:Math.sin(h)*d+u},o={x:Math.cos(h)*p+c,y:Math.sin(h)*p+u},s={x:Math.cos(f)*d+c,y:Math.sin(f)*d+u},l={x:Math.cos(f)*p+c,y:Math.sin(f)*p+u};return!!r.line(i.x,i.y,o.x,o.y,a,e,t)||!!r.line(s.x,s.y,l.x,l.y,a,e,t)||!!r.arcline(c,u,d,h,f,m,a,e,t)||!!r.arcline(c,u,p,h,f,m,a,e,t)}return o&&s?y()||_():o?y():!!s&&_()},image:function(e,t){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var a=n.x,i=n.y,o=n.width,s=n.height;return r.rect(a,i,o,s,e,t)},line:function(e,t){var n=this._attrs,a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=this.getHitLineWidth();return!!this.hasStroke()&&r.line(a,i,o,s,l,e,t)},path:function(e,t){var n=this,r=n.get("segments"),i=n.hasFill(),o=n.hasStroke();function l(){if(!a.isEmpty(r)){for(var i=n.getHitLineWidth(),o=0,s=r.length;o<s;o++)if(r[o].isInside(e,t,i))return!0;return!1}}return i&&o?s(e,t,n)||l():i?s(e,t,n):!!o&&l()},marker:function(e,t){var n=this._attrs,a=n.x,i=n.y,o=n.radius||n.r,s=this.getHitLineWidth();return r.circle(a,i,o+s/2,e,t)},polygon:function(e,t){var n=this,a=n.hasFill(),i=n.hasStroke();function o(){var a=n._attrs.points;if(a.length<2)return!1;var i=n.getHitLineWidth(),o=a.slice(0);return a.length>=3&&o.push(a[0]),r.polyline(o,i,e,t)}return a&&i?s(e,t,n)||o():a?s(e,t,n):!!i&&o()},polyline:function(e,t){var n=this._attrs;if(this.hasStroke()){var a=n.points;if(a.length<2)return!1;var i=n.lineWidth;return r.polyline(a,i,e,t)}return!1},rect:function(e,t){var n=this,a=n.hasFill(),i=n.hasStroke();function o(){var a=n._attrs,i=a.x,o=a.y,s=a.width,l=a.height,c=a.radius,u=n.getHitLineWidth();if(0===c){var d=u/2;return r.line(i-d,o,i+s+d,o,u,e,t)||r.line(i+s,o-d,i+s,o+l+d,u,e,t)||r.line(i+s+d,o+l,i-d,o+l,u,e,t)||r.line(i,o+l+d,i,o-d,u,e,t)}return r.line(i+c,o,i+s-c,o,u,e,t)||r.line(i+s,o+c,i+s,o+l-c,u,e,t)||r.line(i+s-c,o+l,i+c,o+l,u,e,t)||r.line(i,o+l-c,i,o+c,u,e,t)||r.arcline(i+s-c,o+c,c,1.5*Math.PI,2*Math.PI,!1,u,e,t)||r.arcline(i+s-c,o+l-c,c,0,.5*Math.PI,!1,u,e,t)||r.arcline(i+c,o+l-c,c,.5*Math.PI,Math.PI,!1,u,e,t)||r.arcline(i+c,o+c,c,Math.PI,1.5*Math.PI,!1,u,e,t)}return a&&i?s(e,t,n)||o():a?s(e,t,n):!!i&&o()},text:function(e,t){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return r.box(n.minX,n.maxX,n.minY,n.maxY,e,t)}};e.exports={isPointInPath:function(e,t){var n=l[this.type];return!!n&&n.call(this,e,t)}}},function(e,t,n){var a=n(1),r=n(58),i=n(170),o=n(173),s=n(204),l=s.interpolate,c=s.interpolateArray,u=function(e){this._animators=[],this._current=0,this._timer=null,this.canvas=e};function d(e,t,n){var i,s=t.startTime;if(n<s+t.delay||t.isPaused)return!1;var u=t.duration,d=t.easing;if(n=n-s-t.delay,t.toAttrs.repeat)i=n%u/u,i=o[d](i);else{if(!((i=n/u)<1))return e.attr(t.toAttrs),t.toMatrix&&e.setMatrix(t.toMatrix),!0;i=o[d](i)}return function(e,t,n){var i={},o=t.toAttrs,s=t.fromAttrs,u=t.toMatrix;if(!e.get("destroyed")){var d;for(var p in o)if(!a.isEqual(s[p],o[p]))if("path"===p){var h=o[p],f=s[p];h.length>f.length?(h=r.parsePathString(o[p]),f=r.parsePathString(s[p]),f=r.fillPathByDiff(f,h),f=r.formatPath(f,h),t.fromAttrs.path=f,t.toAttrs.path=h):t.pathFormatted||(h=r.parsePathString(o[p]),f=r.parsePathString(s[p]),f=r.formatPath(f,h),t.fromAttrs.path=f,t.toAttrs.path=h,t.pathFormatted=!0),i[p]=[];for(var m=0;m<h.length;m++){for(var g=h[m],v=f[m],y=[],_=0;_<g.length;_++)a.isNumber(g[_])&&v&&a.isNumber(v[_])?(d=l(v[_],g[_]),y.push(d(n))):y.push(g[_]);i[p].push(y)}}else d=l(s[p],o[p]),i[p]=d(n);if(u){var b=c(t.fromMatrix,u)(n);e.setMatrix(b)}e.attr(i)}}(e,t,i),!1}a.augment(u,{initTimer:function(){var e,t,n,a=this,r=this;r._timer=i.timer((function(i){if(r._current=i,a._animators.length>0){for(var o=a._animators.length-1;o>=0;o--)if((e=a._animators[o]).get("destroyed"))r.removeAnimator(o);else{if(!e.get("pause").isPaused)for(var s=(t=e.get("animators")).length-1;s>=0;s--)n=t[s],d(e,n,i)&&(t.splice(s,1),n.callback&&n.callback());0===t.length&&r.removeAnimator(o)}a.canvas.draw()}}))},addAnimator:function(e){this._animators.push(e)},removeAnimator:function(e){this._animators.splice(e,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach((function(e){e.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),e.exports=u},function(e,t,n){"use strict";var a=n(59);t.a=function(e,t,n){var r=new a.a;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}},function(e,t,n){"use strict";var a=n(59);t.a=function(e,t,n){var r=new a.a,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Object(a.b)():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)}},function(e,t,n){"use strict";t.a=function(e){return+e}},function(e,t,n){"use strict";t.a=function(e){return e*e},t.c=function(e){return e*(2-e)},t.b=function(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}},function(e,t,n){"use strict";t.a=function(e){return e*e*e},t.c=function(e){return--e*e*e+1},t.b=function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var a=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),r=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),i=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},function(e,t,n){"use strict";t.a=function(e){return 1-Math.cos(e*r)},t.c=function(e){return Math.sin(e*r)},t.b=function(e){return(1-Math.cos(a*e))/2};var a=Math.PI,r=a/2},function(e,t,n){"use strict";t.a=function(e){return Math.pow(2,10*e-10)},t.c=function(e){return 1-Math.pow(2,-10*e)},t.b=function(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}},function(e,t,n){"use strict";t.a=function(e){return 1-Math.sqrt(1-e*e)},t.c=function(e){return Math.sqrt(1- --e*e)},t.b=function(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}},function(e,t,n){"use strict";t.a=function(e){return 1-h(1-e)},t.c=h,t.b=function(e){return((e*=2)<=1?1-h(1-e):h(e-1)+1)/2};var a=4/11,r=6/11,i=8/11,o=.75,s=9/11,l=10/11,c=.9375,u=21/22,d=63/64,p=1/a/a;function h(e){return(e=+e)<a?p*e*e:e<i?p*(e-=r)*e+o:e<l?p*(e-=s)*e+c:p*(e-=u)*e+d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var a=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),r=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),i=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var a=2*Math.PI,r=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=a);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*a)},i.period=function(n){return e(t,n)},i}(1,.3),i=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=a);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*a)},i.period=function(n){return e(t,n)},i}(1,.3),o=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=a);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*a)},i.period=function(n){return e(t,n)},i}(1,.3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(60);n.d(t,"interpolate",(function(){return a.a}));var r=n(121);n.d(t,"interpolateArray",(function(){return r.a}));var i=n(63);n.d(t,"interpolateBasis",(function(){return i.b}));var o=n(119);n.d(t,"interpolateBasisClosed",(function(){return o.a}));var s=n(122);n.d(t,"interpolateDate",(function(){return s.a}));var l=n(40);n.d(t,"interpolateNumber",(function(){return l.a}));var c=n(123);n.d(t,"interpolateObject",(function(){return c.a}));var u=n(207);n.d(t,"interpolateRound",(function(){return u.a}));var d=n(124);n.d(t,"interpolateString",(function(){return d.a}));var p=n(208);n.d(t,"interpolateTransformCss",(function(){return p.a})),n.d(t,"interpolateTransformSvg",(function(){return p.b}));var h=n(211);n.d(t,"interpolateZoom",(function(){return h.a}));var f=n(118);n.d(t,"interpolateRgb",(function(){return f.a})),n.d(t,"interpolateRgbBasis",(function(){return f.b})),n.d(t,"interpolateRgbBasisClosed",(function(){return f.c}));var m=n(212);n.d(t,"interpolateHsl",(function(){return m.a})),n.d(t,"interpolateHslLong",(function(){return m.b}));var g=n(213);n.d(t,"interpolateLab",(function(){return g.a}));var v=n(214);n.d(t,"interpolateHcl",(function(){return v.a})),n.d(t,"interpolateHclLong",(function(){return v.b}));var y=n(215);n.d(t,"interpolateCubehelix",(function(){return y.b})),n.d(t,"interpolateCubehelixLong",(function(){return y.a}));var _=n(216);n.d(t,"quantize",(function(){return _.a}))},function(e,t,n){"use strict";t.a=f,t.b=w;var a=n(62),r=n(61),i=n(117),o=.96422,s=1,l=.82521,c=4/29,u=6/29,d=3*u*u,p=u*u*u;function h(e){if(e instanceof m)return new m(e.l,e.a,e.b,e.opacity);if(e instanceof E)return T(e);e instanceof r.b||(e=Object(r.h)(e));var t,n,a=_(e.r),i=_(e.g),c=_(e.b),u=g((.2225045*a+.7168786*i+.0606169*c)/s);return a===i&&i===c?t=n=u:(t=g((.4360747*a+.3850649*i+.1430804*c)/o),n=g((.0139322*a+.0971045*i+.7141733*c)/l)),new m(116*u-16,500*(t-u),200*(u-n),e.opacity)}function f(e,t,n,a){return 1===arguments.length?h(e):new m(e,t,n,null==a?1:a)}function m(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function g(e){return e>p?Math.pow(e,1/3):e/d+c}function v(e){return e>u?e*e*e:d*(e-c)}function y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function b(e){if(e instanceof E)return new E(e.h,e.c,e.l,e.opacity);if(e instanceof m||(e=h(e)),0===e.a&&0===e.b)return new E(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*i.b;return new E(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function w(e,t,n,a){return 1===arguments.length?b(e):new E(e,t,n,null==a?1:a)}function E(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}function T(e){if(isNaN(e.h))return new m(e.l,0,0,e.opacity);var t=e.h*i.a;return new m(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Object(a.a)(m,f,Object(a.b)(r.a,{brighter:function(e){return new m(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new m(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=o*v(t),e=s*v(e),n=l*v(n),new r.b(y(3.1338561*t-1.6168667*e-.4906146*n),y(-.9787684*t+1.9161415*e+.033454*n),y(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(a.a)(E,w,Object(a.b)(r.a,{brighter:function(e){return new E(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new E(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return T(this).rgb()}}))},function(e,t,n){"use strict";t.a=f;var a=n(62),r=n(61),i=n(117),o=-.14861,s=1.78277,l=-.29227,c=-.90649,u=1.97294,d=u*c,p=u*s,h=s*l-c*o;function f(e,t,n,a){return 1===arguments.length?function(e){if(e instanceof m)return new m(e.h,e.s,e.l,e.opacity);e instanceof r.b||(e=Object(r.h)(e));var t=e.r/255,n=e.g/255,a=e.b/255,o=(h*a+d*t-p*n)/(h+d-p),s=a-o,f=(u*(n-o)-l*s)/c,g=Math.sqrt(f*f+s*s)/(u*o*(1-o)),v=g?Math.atan2(f,s)*i.b-120:NaN;return new m(v<0?v+360:v,g,o,e.opacity)}(e):new m(e,t,n,null==a?1:a)}function m(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Object(a.a)(m,f,Object(a.b)(r.a,{brighter:function(e){return e=null==e?r.c:Math.pow(r.c,e),new m(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?r.d:Math.pow(r.d,e),new m(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*i.a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),d=Math.sin(e);return new r.b(255*(t+n*(o*a+s*d)),255*(t+n*(l*a+c*d)),255*(t+n*(u*a)),this.opacity)}}))},function(e,t,n){"use strict";t.a=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(40),r=n(209);function i(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var l=[],c=[];return o=e(o),s=e(s),function(e,r,i,o,s,l){if(e!==i||r!==o){var c=s.push("translate(",null,t,null,n);l.push({i:c-4,x:Object(a.a)(e,i)},{i:c-2,x:Object(a.a)(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,l,c),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Object(a.a)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,l,c),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Object(a.a)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,l,c),function(e,t,n,r,o,s){if(e!==n||t!==r){var l=o.push(i(o)+"scale(",null,",",null,")");s.push({i:l-4,x:Object(a.a)(e,n)},{i:l-2,x:Object(a.a)(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,l,c),o=s=null,function(e){for(var t,n=-1,a=c.length;++n<a;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var o=i(r.a,"px, ","px)","deg)"),s=i(r.b,", ",")",")")},function(e,t,n){"use strict";t.a=function(e){return"none"===e?s.b:(a||(a=document.createElement("DIV"),r=document.documentElement,i=document.defaultView),a.style.transform=e,e=i.getComputedStyle(r.appendChild(a),null).getPropertyValue("transform"),r.removeChild(a),e=e.slice(7,-1).split(","),Object(s.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},t.b=function(e){return null==e?s.b:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),(e=o.transform.baseVal.consolidate())?(e=e.matrix,Object(s.a)(e.a,e.b,e.c,e.d,e.e,e.f)):s.b)};var a,r,i,o,s=n(210)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.a=function(e,t,n,r,i,o){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*a,skewX:Math.atan(c)*a,scaleX:s,scaleY:l}}},function(e,t,n){"use strict";var a=Math.SQRT2;function r(e){return((e=Math.exp(e))+1/e)/2}t.a=function(e,t){var n,i,o=e[0],s=e[1],l=e[2],c=t[0],u=t[1],d=t[2],p=c-o,h=u-s,f=p*p+h*h;if(f<1e-12)i=Math.log(d/l)/a,n=function(e){return[o+e*p,s+e*h,l*Math.exp(a*e*i)]};else{var m=Math.sqrt(f),g=(d*d-l*l+4*f)/(2*l*2*m),v=(d*d-l*l-4*f)/(2*d*2*m),y=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(v*v+1)-v);i=(_-y)/a,n=function(e){var t,n=e*i,c=r(y),u=l/(2*m)*(c*(t=a*n+y,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[o+u*p,s+u*h,l*c/r(a*n+y)]}}return n.duration=1e3*i,n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(17),r=n(28);function i(e){return function(t,n){var i=e((t=Object(a.d)(t)).h,(n=Object(a.d)(n)).h),o=Object(r.a)(t.s,n.s),s=Object(r.a)(t.l,n.l),l=Object(r.a)(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=s(e),t.opacity=l(e),t+""}}}t.a=i(r.c);var o=i(r.a)},function(e,t,n){"use strict";t.a=function(e,t){var n=Object(r.a)((e=Object(a.e)(e)).l,(t=Object(a.e)(t)).l),i=Object(r.a)(e.a,t.a),o=Object(r.a)(e.b,t.b),s=Object(r.a)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=o(t),e.opacity=s(t),e+""}};var a=n(17),r=n(28)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(17),r=n(28);function i(e){return function(t,n){var i=e((t=Object(a.c)(t)).h,(n=Object(a.c)(n)).h),o=Object(r.a)(t.c,n.c),s=Object(r.a)(t.l,n.l),l=Object(r.a)(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=o(e),t.l=s(e),t.opacity=l(e),t+""}}}t.a=i(r.c);var o=i(r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(17),r=n(28);function i(e){return function t(n){function i(t,i){var o=e((t=Object(a.b)(t)).h,(i=Object(a.b)(i)).h),s=Object(r.a)(t.s,i.s),l=Object(r.a)(t.l,i.l),c=Object(r.a)(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=s(e),t.l=l(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,i.gamma=t,i}(1)}t.b=i(r.c);var o=i(r.a)},function(e,t,n){"use strict";t.a=function(e,t){for(var n=new Array(t),a=0;a<t;++a)n[a]=e(a/(t-1));return n}},function(e,t,n){e.exports={canvas:n(218),svg:n(221)}},function(e,t,n){e.exports={painter:n(219)}},function(e,t,n){var a=n(1),r=n(220),i=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],o=function(){function e(e){if(!e)return null;var t=a.uniqueId("canvas_"),n=a.createDom('<canvas id="'+t+'"></canvas>');return e.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var t=e.prototype;return t.beforeDraw=function(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},t.draw=function(e){var t=this;t.animateHandler?t.toDraw=!0:function n(){t.animateHandler=a.requestAnimationFrame((function(){t.animateHandler=void 0,t.toDraw&&n()})),t.beforeDraw();try{t._drawGroup(e)}catch(r){console.warn("error in draw canvas, detail as:"),console.warn(r),t.toDraw=!1}t.toDraw=!1}()},t.drawSync=function(e){this.beforeDraw(),this._drawGroup(e)},t._drawGroup=function(e){if(!e._cfg.removed&&!e._cfg.destroyed&&e._cfg.visible){var t=e._cfg.children,n=null;this.setContext(e);for(var a=0;a<t.length;a++)n=t[a],t[a].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(e)}},t._drawShape=function(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},t.setContext=function(e){var t=this.context,n=e._attrs.clip;t.save(),n&&(n.resetTransform(t),n.createPath(t),t.clip()),this.resetContext(e),e.resetTransform(t)},t.restoreContext=function(){this.context.restore()},t.resetContext=function(e){var t=this.context,n=e._attrs;if(!e.isGroup)for(var o in n)if(i.indexOf(o)>-1){var s=n[o];"fillStyle"===o&&(s=r.parseStyle(s,e,t)),"strokeStyle"===o&&(s=r.parseStyle(s,e,t)),"lineDash"===o&&t.setLineDash?a.isArray(s)?t.setLineDash(s):a.isString(s)&&t.setLineDash(s.split(" ")):t[o]=s}},e}();e.exports=o},function(e,t,n){var a=n(1),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,i=/[^\s\,]+/gi,o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,l=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,u={};function d(e,t){var n=e.match(c);a.each(n,(function(e){e=e.split(":"),t.addColorStop(e[0],e[1])}))}e.exports={parsePath:function(e){return e=e||[],a.isArray(e)?e:a.isString(e)?(e=e.match(r),a.each(e,(function(t,n){if((t=t.match(i))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}a.each(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},parseStyle:function(e,t,n){if(a.isString(e)){if("("===e[1]||"("===e[2]){if("l"===e[0])return function(e,t,n){var r,i,s=o.exec(e),l=a.mod(a.toRadian(parseFloat(s[1])),2*Math.PI),c=s[2],u=t.getBBox();l>=0&&l<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=l&&l<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=l&&l<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var p=Math.tan(l),h=p*p,f=(i.x-r.x+p*(i.y-r.y))/(h+1)+r.x,m=p*(i.x-r.x+p*(i.y-r.y))/(h+1)+r.y,g=n.createLinearGradient(r.x,r.y,f,m);return d(c,g),g}(e,t,n);if("r"===e[0])return function(e,t,n){var a=s.exec(e),r=parseFloat(a[1]),i=parseFloat(a[2]),o=parseFloat(a[3]),l=a[4];if(0===o){var u=l.match(c);return u[u.length-1].split(":")[1]}var p=t.getBBox(),h=p.maxX-p.minX,f=p.maxY-p.minY,m=Math.sqrt(h*h+f*f)/2,g=n.createRadialGradient(p.minX+h*r,p.minY+f*i,o*m,p.minX+h/2,p.minY+f/2,m);return d(l,g),g}(e,t,n);if("p"===e[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===e)return t.get("pattern");var a,r,i=l.exec(e),o=i[1],s=i[2];function c(){a=n.createPattern(r,o),t.setSilent("pattern",a),t.setSilent("patternSource",e)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?c():(r.onload=c,r.src=r.src),a}(e,t,n)}return e}},numberToColor:function(e){var t=u[e];if(!t){for(var n=e.toString(16),a=n.length;a<6;a++)n="0"+n;t="#"+n,u[e]=t}return t}}},function(e,t,n){e.exports={painter:n(222),getShape:n(229)}},function(e,t,n){var a=n(1),r=n(27).parseRadius,i=n(57),o=n(223),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},l={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},u={left:"left",start:"left",center:"middle",right:"end",end:"end"},d=function(){function e(e){if(!e)return null;var t=a.uniqueId("canvas_"),n=a.createDom('<svg id="'+t+'"></svg>');return e.appendChild(n),this.type="svg",this.canvas=n,this.context=new o(n),this.toDraw=!1,this}var t=e.prototype;return t.draw=function(e){var t=this;t.animateHandler?t.toDraw=!0:function n(){t.animateHandler=a.requestAnimationFrame((function(){t.animateHandler=void 0,t.toDraw&&n()}));try{e.resetMatrix(),t._drawGroup(e,!1)}catch(r){console.warn("error in draw canvas, detail as:"),console.warn(r),t.toDraw=!1}t.toDraw=!1}()},t.drawSync=function(e){this._drawChildren(e,!1)},t._drawGroup=function(e,t){var n=e._cfg;n.removed||n.destroyed||(!n.el&&n.attrs&&(t=!0),n.tobeRemoved&&(a.each(n.tobeRemoved,(function(e){e.parentNode&&e.parentNode.removeChild(e)})),n.tobeRemoved=[]),this._drawShape(e,t),n.children&&n.children.length>0&&this._drawChildren(e,t))},t._drawChildren=function(e,t){var n,a=e._cfg.children;if(a){if(e._cfg.el&&!t){var r=e._cfg.el.childNodes.length+1;0!==r&&r!==a.length&&(t=!0)}for(var i=0;i<a.length;i++)(n=a[i]).isGroup?this._drawGroup(n,t):this._drawShape(n,t)}},t._drawShape=function(e,t){var n=e._attrs,a=e._cfg,r=a.el;a.removed||a.destroyed?r&&r.parentNode.removeChild(a.el):(t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null),!r&&a.parent&&(this._createDom(e),this._updateShape(e)),r=a.el,!1!==a.visible?(a.visible&&r.hasAttribute("visibility")&&r.removeAttribute("visibility"),a.hasUpdate&&this._updateShape(e),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):r.setAttribute("visibility","hidden"))},t._updateShape=function(e){var t=e._attrs,n=e._cfg.attrs;if(n)if(e._cfg.el||this._createDom(e),"clip"in t&&this._setClip(e,t.clip),("shadowOffsetX"in t||"shadowOffsetY"in t||"shadowBlur"in t||"shadowColor"in t)&&this._setShadow(e),"text"!==e.type){for(var r in"fan"===e.type&&this._updateFan(e),"marker"===e.type&&e._cfg.el.setAttribute("d",this._assembleMarker(t)),"rect"===e.type&&e._cfg.el.setAttribute("d",this._assembleRect(t)),t)t[r]!==n[r]&&this._setAttribute(e,r,t[r]);e._cfg.attrs=a.deepMix({},e._attrs),e._cfg.hasUpdate=!1}else this._updateText(e)},t._setAttribute=function(e,t,n){var r=e.type,i=e._attrs,o=e._cfg.el,s=this.context;if("marker"!==r&&"rect"!==r||!~["x","y","radius","r"].indexOf(t))if(~["circle","ellipse"].indexOf(r)&&~["x","y"].indexOf(t))o.setAttribute("c"+t,parseInt(n,10));else{if("polygon"===r&&"points"===t)return n&&0!==n.length||(n=""),a.isArray(n)&&(n=(n=n.map((function(e){return e[0]+","+e[1]}))).join(" ")),void o.setAttribute("points",n);if("path"===t&&a.isArray(n))o.setAttribute("d",this._formatPath(n));else if("img"!==t){if("transform"===t)return n?void this._setTransform(e):void o.removeAttribute("transform");if("rotate"===t)return n?void this._setTransform(e):void o.removeAttribute("transform");if("matrix"!==t)if("fillStyle"!==t&&"strokeStyle"!==t){if("clip"!==t)if(~t.indexOf("Arrow"))if(t=l[t],n){var c=null;c="boolean"===typeof n?s.getDefaultArrow(i,t):s.addArrow(i,t),o.setAttribute(t,"url(#"+c+")"),e._cfg[t]=c}else e._cfg[t]=null,o.removeAttribute(t);else"html"===t&&("string"===typeof n?o.innerHTML=n:(o.innerHTML="",o.appendChild(n))),l[t]&&o.setAttribute(l[t],n)}else this._setColor(e,t,n);else this._setTransform(e)}else this._setImage(e,n)}},t._createDom=function(e){var t=s[e.type],n=e._attrs;if(!t)throw new Error("the type"+e.type+"is not supported by svg");var a=document.createElementNS("http://www.w3.org/2000/svg",t);return e._cfg.el=a,e._cfg.parent&&e._cfg.parent.get("el").appendChild(a),e._cfg.attrs={},"text"===e.type?(a.setAttribute("paint-order","stroke"),a.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||a.setAttribute("stroke","none"),n.fill||n.fillStyle||a.setAttribute("fill","none")),a},t._assembleMarker=function(e){var t=e.r;if("undefined"===typeof e.r&&(t=e.radius),isNaN(Number(e.x))||isNaN(Number(e.y))||isNaN(Number(t)))return"";var n="";return n="function"===typeof e.symbol?e.symbol(e.x,e.y,t):i.Symbols[e.symbol||"circle"](e.x,e.y,t),a.isArray(n)&&(n=n.map((function(e){return e.join(" ")})).join("")),n},t._assembleRect=function(e){var t=e.x,n=e.y,i=e.width,o=e.height,s=e.radius;if(!s)return"M "+t+","+n+" l "+i+",0 l 0,"+o+" l"+-i+" 0 z";var l=r(s);return a.isArray(s)?1===s.length?l.r1=l.r2=l.r3=l.r4=s[0]:2===s.length?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):3===s.length?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s,[["M "+(t+l.r1)+","+n],["l "+(i-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-i)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]].join(" ")},t._formatPath=function(e){return~(e=e.map((function(e){return e.join(" ")})).join("")).indexOf("NaN")?"":e},t._setTransform=function(e){for(var t=e._attrs.matrix,n=e._cfg.el,a=[],r=0;r<9;r+=3)a.push(t[r]+","+t[r+1]);-1===(a=a.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+a+")"):console.warn("invalid matrix:",t)},t._setImage=function(e,t){var n=e._attrs,r=e._cfg.el;if(a.isString(t))r.setAttribute("href",t);else if(t instanceof Image)n.width||(r.setAttribute("width",t.width),e._attrs.width=t.width),n.height||(r.setAttribute("height",t.height),e._attrs.height=t.height),r.setAttribute("href",t.src);else if(t instanceof HTMLElement&&a.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())r.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",t.width),i.setAttribute("height",t.height),i.getContext("2d").putImageData(t,0,0),n.width||(r.setAttribute("width",t.width),e._attrs.width=t.width),n.height||(r.setAttribute("height",t.height),e._attrs.height=t.height),r.setAttribute("href",i.toDataURL())}},t._updateFan=function(e){function t(e,t,n){return{x:t*Math.cos(e)+n.x,y:t*Math.sin(e)+n.y}}var n=e._attrs,r=e._cfg,i={x:n.x,y:n.y},o=[],s=n.startAngle,l=n.endAngle;a.isNumberEqual(l-s,2*Math.PI)&&(l-=1e-5);var c=t(s,n.re,i),u=t(l,n.re,i),d=l>s?1:0,p=Math.abs(l-s)>Math.PI?1:0,h=n.rs,f=n.re,m=t(s,n.rs,i),g=t(l,n.rs,i);n.rs>0?(o.push("M "+u.x+","+u.y),o.push("L "+g.x+","+g.y),o.push("A "+h+","+h+",0,"+p+","+(1===d?0:1)+","+m.x+","+m.y),o.push("L "+c.x+" "+c.y)):(o.push("M "+i.x+","+i.y),o.push("L "+c.x+","+c.y)),o.push("A "+f+","+f+",0,"+p+","+d+","+u.x+","+u.y),n.rs>0?o.push("L "+g.x+","+g.y):o.push("Z"),r.el.setAttribute("d",o.join(" "))},t._updateText=function(e){var t=e._attrs,n=e._cfg.attrs,a=e._cfg.el;for(var r in this._setFont(e),t)if(t[r]!==n[r]){if("text"===r){this._setText(e,""+t[r]);continue}if("fillStyle"===r||"strokeStyle"===r){this._setColor(e,r,t[r]);continue}if("matrix"===r){this._setTransform(e);continue}l[r]&&a.setAttribute(l[r],t[r])}e._cfg.attrs=Object.assign({},e._attrs),e._cfg.hasUpdate=!1},t._setFont=function(e){var t=e.get("el"),n=e._attrs,a=n.fontSize;t.setAttribute("alignment-baseline",c[n.textBaseline]||"baseline"),t.setAttribute("text-anchor",u[n.textAlign]||"left"),a&&+a<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],e.transform([["t",-n.x,-n.y],["s",+a/12,+a/12],["t",n.x,n.y]]))},t._setText=function(e,t){var n=e._cfg.el,r=e._attrs.textBaseline||"bottom";if(t)if(~t.indexOf("\n")){var i=e._attrs.x,o=t.split("\n"),s=o.length-1,l="";a.each(o,(function(e,t){0===t?"alphabetic"===r?l+='<tspan x="'+i+'" dy="'+-s+'em">'+e+"</tspan>":"top"===r?l+='<tspan x="'+i+'" dy="0.9em">'+e+"</tspan>":"middle"===r?l+='<tspan x="'+i+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===r?l+='<tspan x="'+i+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===r&&(l+='<tspan x="'+i+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):l+='<tspan x="'+i+'" dy="1em">'+e+"</tspan>"})),n.innerHTML=l}else n.innerHTML=t;else n.innerHTML=""},t._setClip=function(e,t){var n=e._cfg.el;if(t)if(n.hasAttribute("clip-path"))t._cfg.hasUpdate&&this._updateShape(t);else{this._createDom(t),this._updateShape(t);var a=this.context.addClip(t);n.setAttribute("clip-path","url(#"+a+")")}else n.removeAttribute("clip-path")},t._setColor=function(e,t,n){var a=e._cfg.el,r=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var i=r.find("gradient",n);i||(i=r.addGradient(n)),a.setAttribute(l[t],"url(#"+i+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=r.find("pattern",n);o||(o=r.addPattern(n)),a.setAttribute(l[t],"url(#"+o+")")}else a.setAttribute(l[t],n);else a.setAttribute(l[t],"none")},t._setShadow=function(e){var t=e._cfg.el,n=e._attrs,a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(a.dx||a.dy||a.blur||a.color){var r=this.context.find("filter",a);r||(r=this.context.addShadow(a,this)),t.setAttribute("filter","url(#"+r+")")}else t.removeAttribute("filter")},e}();e.exports=d},function(e,t,n){var a=n(1),r=n(224),i=n(225),o=n(226),s=n(227),l=n(228),c=function(){function e(e){var t=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=a.uniqueId("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}var t=e.prototype;return t.find=function(e,t){for(var n=this.children,a=null,r=0;r<n.length;r++)if(n[r].match(e,t)){a=n[r].id;break}return a},t.findById=function(e){for(var t=this.children,n=null,a=0;a<t.length;a++)if(t[a].id===e){n=t[a];break}return n},t.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},t.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var a=new o(e,t);return this.defaultArrow[n]=a,this.el.appendChild(a.el),a.id},t.addGradient=function(e){var t=new r(e);return this.el.appendChild(t.el),this.add(t),t.id},t.addArrow=function(e,t){var n=new o(e,t);return this.el.appendChild(n.el),n.id},t.addShadow=function(e){var t=new i(e);return this.el.appendChild(t.el),this.add(t),t.id},t.addPattern=function(e){var t=new l(e);return this.el.appendChild(t.el),this.add(t),t.id},t.addClip=function(e){var t=new s(e);return this.el.appendChild(t.el),this.add(t),t.id},e}();e.exports=c},function(e,t,n){var a=n(1),r=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,i=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(e){var t=e.match(o);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),a.each(t,(function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'})),n}var l=function(){function e(e){var t=null,n=a.uniqueId("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,i,o=r.exec(e),l=a.mod(a.toRadian(parseFloat(o[1])),2*Math.PI),c=o[2];l>=0&&l<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=l&&l<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=l&&l<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var u=Math.tan(l),d=u*u,p=(i.x-n.x+u*(i.y-n.y))/(d+1)+n.x,h=u*(i.x-n.x+u*(i.y-n.y))/(d+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",p),t.setAttribute("y2",h),t.innerHTML=s(c)}(e,t=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(e,t){var n=i.exec(e),a=parseFloat(n[1]),r=parseFloat(n[2]),o=parseFloat(n[3]),l=n[4];t.setAttribute("cx",a),t.setAttribute("cy",r),t.setAttribute("r",o),t.innerHTML=s(l)}(e,t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}();e.exports=l},function(e,t,n){var a=n(1),r={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},i={x:"-40%",y:"-40%",width:"200%",height:"200%"},o=function(){function e(e){this.type="filter";var t=document.createElementNS("http://www.w3.org/2000/svg","filter");return a.each(i,(function(e,n){t.setAttribute(n,e)})),this.el=t,this.id=a.uniqueId("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}var t=e.prototype;return t.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return a.each(Object.keys(r),(function(e){if(r[e]!==t[e])return n=!1,!1})),n},t.update=function(e,t){var n=this.cfg;return n[r[e]]=t,this._parseShadow(n,this.el),this},t._parseShadow=function(e,t){var n='<feDropShadow \n      dx="'+(e.dx||0)+'" \n      dy="'+(e.dy||0)+'" \n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}();e.exports=o},function(e,t,n){var a=n(1),r=function(){function e(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=a.uniqueId("marker_");n.setAttribute("id",r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("stroke","none"),i.setAttribute("fill",e.stroke||"#000"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r,this.cfg=e["marker-start"===t?"startArrow":"endArrow"],this.stroke=e.stroke||"#000",!0===this.cfg?this._setDefaultPath(t,i):this._setMarker(e.lineWidth,i),this}var t=e.prototype;return t.match=function(){return!1},t._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},t._setMarker=function(e,t){var n=this.el,r=this.cfg.path,i=this.cfg.d;a.isArray(r)&&(r=r.map((function(e){return e.join(" ")})).join("")),t.setAttribute("d",r),n.appendChild(t),i&&n.setAttribute("refX",i/e)},t.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}();e.exports=r},function(e,t,n){var a=n(1),r=function(){function e(e){this.type="clip";var t=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=t,this.id=a.uniqueId("clip_"),t.id=this.id;var n=e._cfg.el;return t.appendChild(n.cloneNode(!0)),this.cfg=e,this}var t=e.prototype;return t.match=function(){return!1},t.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}();e.exports=r},function(e,t,n){var a=n(1),r=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,i=function(){function e(e){var t=document.createElementNS("http://www.w3.org/2000/svg","pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");t.appendChild(n);var i=a.uniqueId("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=e;var o=r.exec(e)[2];n.setAttribute("href",o);var s=new Image;function l(){console.log(s.width,s.height),t.setAttribute("width",s.width),t.setAttribute("height",s.height)}return o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o,s.complete?l():(s.onload=l,s.src=s.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}();e.exports=i},function(e,t){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};e.exports=function(e,t,a){var r=a.target||a.srcElement;if(!n[r.tagName]){for(var i=r.parentNode;i&&!n[i.tagName];)i=i.parentNode;r=i}return this._cfg.el===r?this:this.find((function(e){return e._cfg&&e._cfg.el===r}))}},function(e,t,n){e.exports={addEventListener:n(231),createDom:n(94),getBoundingClientRect:n(232),getHeight:n(233),getOuterHeight:n(234),getOuterWidth:n(235),getRatio:n(236),getStyle:n(237),getWidth:n(238),modifyCSS:n(95),requestAnimationFrame:n(96)}},function(e,t){e.exports=function(e,t,n){if(e){if(e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if(e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}},function(e,t){e.exports=function(e,t){if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect(),a=document.documentElement.clientTop,r=document.documentElement.clientLeft;return{top:n.top-a,bottom:n.bottom-a,left:n.left-r,right:n.right-r}}return t||null}},function(e,t){e.exports=function(e,t){var n=this.getStyle(e,"height",t);return"auto"===n&&(n=e.offsetHeight),parseFloat(n)}},function(e,t){e.exports=function(e,t){var n=this.getHeight(e,t),a=parseFloat(this.getStyle(e,"borderTopWidth"))||0,r=parseFloat(this.getStyle(e,"paddingTop"))||0,i=parseFloat(this.getStyle(e,"paddingBottom"))||0;return n+a+(parseFloat(this.getStyle(e,"borderBottomWidth"))||0)+r+i}},function(e,t){e.exports=function(e,t){var n=this.getWidth(e,t),a=parseFloat(this.getStyle(e,"borderLeftWidth"))||0,r=parseFloat(this.getStyle(e,"paddingLeft"))||0,i=parseFloat(this.getStyle(e,"paddingRight"))||0;return n+a+(parseFloat(this.getStyle(e,"borderRightWidth"))||0)+r+i}},function(e,t){e.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(e,t,n){var a=n(5);e.exports=function(e,t,n){try{return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}catch(r){return a(n)?null:n}}},function(e,t){e.exports=function(e,t){var n=this.getStyle(e,"width",t);return"auto"===n&&(n=e.offsetWidth),parseFloat(n)}},function(e,t,n){e.exports={contains:n(41),difference:n(240),find:n(241),firstValue:n(242),flatten:n(243),flattenDeep:n(244),getRange:n(245),merge:n(42),pull:n(90),pullAt:n(129),reduce:n(246),remove:n(247),sortBy:n(248),union:n(249),uniq:n(130),valuesOfKey:n(65)}},function(e,t,n){var a=n(64),r=n(41);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a(e,(function(e){return!r(t,e)}))}},function(e,t,n){var a=n(11),r=n(26),i=n(127);e.exports=function(e,t){var n=void 0;if(a(t)&&(n=t),r(t)&&(n=function(e){return i(e,t)}),n)for(var o=0;o<e.length;o+=1)if(n(e[o]))return e[o];return null}},function(e,t,n){var a=n(5),r=n(4);e.exports=function(e,t){for(var n=null,i=0;i<e.length;i++){var o=e[i][t];if(!a(o)){n=r(o)?o[0]:o;break}}return n}},function(e,t,n){var a=n(4),r=n(2);e.exports=function(e){if(!a(e))return e;var t=[];return r(e,(function(e){a(e)?r(e,(function(e){t.push(e)})):t.push(e)})),t}},function(e,t,n){var a=n(4);e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(a(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}},function(e,t,n){var a=n(64),r=n(4);e.exports=function(e){if(!(e=a(e,(function(e){return!isNaN(e)}))).length)return{min:0,max:0};if(r(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}}},function(e,t,n){var a=n(4),r=n(26),i=n(2);e.exports=function(e,t,n){if(!a(e)&&!r(e))return e;var o=n;return i(e,(function(e,n){o=t(o,e,n)})),o}},function(e,t,n){var a=n(13),r=n(129);e.exports=function(e,t){var n=[];if(!a(e))return n;for(var i=-1,o=[],s=e.length;++i<s;){var l=e[i];t(l,i,e)&&(n.push(l),o.push(i))}return r(e,o),n}},function(e,t,n){var a=n(10),r=n(11),i=n(4);e.exports=function(e,t){var n=void 0;if(r(t))n=function(e,n){return t(e)-t(n)};else{var o=[];a(t)?o.push(t):i(t)&&(o=t),n=function(e,t){for(var n=0;n<o.length;n+=1){var a=o[n];if(e[a]>t[a])return 1;if(e[a]<t[a])return-1}return 0}}return e.sort(n),e}},function(e,t,n){var a=n(2),r=n(34),i=n(130);e.exports=function(){var e=[],t=r(arguments);return a(t,(function(t){e=e.concat(t)})),i(e)}},function(e,t,n){e.exports={getWrapBehavior:n(251),wrapBehavior:n(252)}},function(e,t){e.exports=function(e,t){return e["_wrap_"+t]}},function(e,t){e.exports=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){var a=n(254);e.exports={number2color:a,numberToColor:a,parsePath:n(255),parseRadius:n(256)}},function(e,t){var n={};e.exports=function(e){var t=n[e];if(!t){for(var a=e.toString(16),r=a.length;r<6;r++)a="0"+a;t="#"+a,n[e]=t}return t}},function(e,t,n){var a=n(4),r=n(10),i=n(2),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;e.exports=function(e){return a(e=e||[])?e:r(e)?(e=e.match(o),i(e,(function(t,n){if((t=t.match(s))[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}i(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}},function(e,t,n){var a=n(4);e.exports=function(e){var t=0,n=0,r=0,i=0;return a(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}}},function(e,t,n){var a=n(35);e.exports={clamp:n(51),fixedBase:n(258),isDecimal:n(259),isEven:n(260),isInteger:n(261),isNegative:n(262),isNumberEqual:a,isOdd:n(263),isPositive:n(264),maxBy:n(131),minBy:n(265),mod:n(93),snapEqual:a,toDegree:n(92),toInt:n(132),toInteger:n(132),toRadian:n(91)}},function(e,t){e.exports=function(e,t){var n=t.toString(),a=n.indexOf(".");if(-1===a)return Math.round(e);var r=n.substr(a+1).length;return r>20&&(r=20),parseFloat(e.toFixed(r))}},function(e,t,n){var a=n(9);e.exports=function(e){return a(e)&&e%1!==0}},function(e,t,n){var a=n(9);e.exports=function(e){return a(e)&&e%2===0}},function(e,t,n){var a=n(9),r=Number.isInteger?Number.isInteger:function(e){return a(e)&&e%1===0};e.exports=r},function(e,t,n){var a=n(9);e.exports=function(e){return a(e)&&e<0}},function(e,t,n){var a=n(9);e.exports=function(e){return a(e)&&e%2!==0}},function(e,t,n){var a=n(9);e.exports=function(e){return a(e)&&e>0}},function(e,t,n){var a=n(4),r=n(11),i=n(2);e.exports=function(e,t){if(a(e)){var n=e[0],o=void 0;o=r(t)?t(e[0]):e[0][t];var s=void 0;return i(e,(function(e){(s=r(t)?t(e):e[t])<o&&(n=e,o=s)})),n}}},function(e,t,n){e.exports={forIn:n(267),has:n(133),hasKey:n(268),hasValue:n(269),keys:n(128),isMatch:n(127),values:n(134)}},function(e,t,n){e.exports=n(2)},function(e,t,n){e.exports=n(133)},function(e,t,n){var a=n(41),r=n(134);e.exports=function(e,t){return a(r(e),t)}},function(e,t,n){var a=n(271),r=n(138),i=n(137),o=n(140);e.exports={catmullRom2Bezier:o,catmullRomToBezier:o,fillPath:n(272),fillPathByDiff:n(273),formatPath:n(275),intersection:a,pathIntersection:a,parsePathArray:n(136),parsePathString:n(139),pathToAbsolute:r,path2absolute:r,pathTocurve:i,path2curve:i,rectPath:n(135)}},function(e,t,n){var a=n(4),r=n(135),i=n(137),o=function(e,t,n,a,r){return e*(e*(-3*t+9*n-9*a+3*r)+6*t-12*n+6*a)-3*t+3*n},s=function(e,t,n,a,r,i,s,l,c){null===c&&(c=1);for(var u=(c=c>1?1:c<0?0:c)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,f=0;f<12;f++){var m=u*d[f]+u,g=o(m,e,n,r,s),v=o(m,t,a,i,l),y=g*g+v*v;h+=p[f]*Math.sqrt(y)}return u*h},l=function(e,t,n,a,r,i,o,s){for(var l=[],c=[[],[]],u=void 0,d=void 0,p=void 0,h=void 0,f=0;f<2;++f)if(0===f?(d=6*e-12*n+6*r,u=-3*e+9*n-9*r+3*o,p=3*n-3*e):(d=6*t-12*a+6*i,u=-3*t+9*a-9*i+3*s,p=3*a-3*t),Math.abs(u)<1e-12){if(Math.abs(d)<1e-12)continue;(h=-p/d)>0&&h<1&&l.push(h)}else{var m=d*d-4*p*u,g=Math.sqrt(m);if(!(m<0)){var v=(-d+g)/(2*u);v>0&&v<1&&l.push(v);var y=(-d-g)/(2*u);y>0&&y<1&&l.push(y)}}for(var _=l.length,b=_,w=void 0;_--;)w=1-(h=l[_]),c[0][_]=w*w*w*e+3*w*w*h*n+3*w*h*h*r+h*h*h*o,c[1][_]=w*w*w*t+3*w*w*h*a+3*w*h*h*i+h*h*h*s;return c[0][b]=e,c[1][b]=t,c[0][b+1]=o,c[1][b+1]=s,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},c=function(e,t,n,a,r,i,o,s){if(!(Math.max(e,n)<Math.min(r,o)||Math.min(e,n)>Math.max(r,o)||Math.max(t,a)<Math.min(i,s)||Math.min(t,a)>Math.max(i,s))){var l=(e-n)*(i-s)-(t-a)*(r-o);if(l){var c=((e*a-t*n)*(r-o)-(e-n)*(r*s-i*o))/l,u=((e*a-t*n)*(i-s)-(t-a)*(r*s-i*o))/l,d=+c.toFixed(2),p=+u.toFixed(2);if(!(d<+Math.min(e,n).toFixed(2)||d>+Math.max(e,n).toFixed(2)||d<+Math.min(r,o).toFixed(2)||d>+Math.max(r,o).toFixed(2)||p<+Math.min(t,a).toFixed(2)||p>+Math.max(t,a).toFixed(2)||p<+Math.min(i,s).toFixed(2)||p>+Math.max(i,s).toFixed(2)))return{x:c,y:u}}}},u=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},d=function(e,t,n,a){return null===e&&(e=t=n=a=0),null===t&&(t=e.y,n=e.width,a=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:a,h:a,x2:e+n,y2:t+a,cx:e+n/2,cy:t+a/2,r1:Math.min(n,a)/2,r2:Math.max(n,a)/2,r0:Math.sqrt(n*n+a*a)/2,path:r(e,t,n,a),vb:[e,t,n,a].join(" ")}},p=function(e,t,n,r,i,o,s,c){a(e)||(e=[e,t,n,r,i,o,s,c]);var u=l.apply(null,e);return d(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},h=function(e,t,n,a,r,i,o,s,l){var c=1-l,u=Math.pow(c,3),d=Math.pow(c,2),p=l*l,h=p*l,f=e+2*l*(n-e)+p*(r-2*n+e),m=t+2*l*(a-t)+p*(i-2*a+t),g=n+2*l*(r-n)+p*(o-2*r+n),v=a+2*l*(i-a)+p*(s-2*i+a);return{x:u*e+3*d*l*n+3*c*l*l*r+h*o,y:u*t+3*d*l*a+3*c*l*l*i+h*s,m:{x:f,y:m},n:{x:g,y:v},start:{x:c*e+l*n,y:c*t+l*a},end:{x:c*r+l*o,y:c*i+l*s},alpha:90-180*Math.atan2(f-g,m-v)/Math.PI}},f=function(e,t,n){if(!function(e,t){return e=d(e),t=d(t),u(t,e.x,e.y)||u(t,e.x2,e.y)||u(t,e.x,e.y2)||u(t,e.x2,e.y2)||u(e,t.x,t.y)||u(e,t.x2,t.y)||u(e,t.x,t.y2)||u(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(p(e),p(t)))return n?0:[];for(var a=~~(s.apply(0,e)/8),r=~~(s.apply(0,t)/8),i=[],o=[],l={},f=n?0:[],m=0;m<a+1;m++){var g=h.apply(0,e.concat(m/a));i.push({x:g.x,y:g.y,t:m/a})}for(var v=0;v<r+1;v++){var y=h.apply(0,t.concat(v/r));o.push({x:y.x,y:y.y,t:v/r})}for(var _=0;_<a;_++)for(var b=0;b<r;b++){var w=i[_],E=i[_+1],T=o[b],x=o[b+1],C=Math.abs(E.x-w.x)<.001?"y":"x",S=Math.abs(x.x-T.x)<.001?"y":"x",k=c(w.x,w.y,E.x,E.y,T.x,T.y,x.x,x.y);if(k){if(l[k.x.toFixed(4)]===k.y.toFixed(4))continue;l[k.x.toFixed(4)]=k.y.toFixed(4);var O=w.t+Math.abs((k[C]-w[C])/(E[C]-w[C]))*(E.t-w.t),M=T.t+Math.abs((k[S]-T[S])/(x[S]-T[S]))*(x.t-T.t);O>=0&&O<=1&&M>=0&&M<=1&&(n?f++:f.push({x:k.x,y:k.y,t1:O,t2:M}))}}return f};e.exports=function(e,t){return function(e,t,n){e=i(e),t=i(t);for(var a=void 0,r=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,m=n?0:[],g=0,v=e.length;g<v;g++){var y=e[g];if("M"===y[0])a=l=y[1],r=c=y[2];else{"C"===y[0]?(p=[a,r].concat(y.slice(1)),a=p[6],r=p[7]):(p=[a,r,a,r,l,c,l,c],a=l,r=c);for(var _=0,b=t.length;_<b;_++){var w=t[_];if("M"===w[0])o=u=w[1],s=d=w[2];else{"C"===w[0]?(h=[o,s].concat(w.slice(1)),o=h[6],s=h[7]):(h=[o,s,o,s,u,d,u,d],o=u,s=d);var E=f(p,h,n);if(n)m+=E;else{for(var T=0,x=E.length;T<x;T++)E[T].segment1=g,E[T].segment2=_,E[T].bez1=p,E[T].bez2=h;m=m.concat(E)}}}}}return m}(e,t)}},function(e,t){function n(e,t){var n=[],a=[];return e.length&&function e(t,r){if(1===t.length)n.push(t[0]),a.push(t[0]);else{for(var i=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&a.push(t[o+1]),i[o]=[(1-r)*t[o][0]+r*t[o+1][0],(1-r)*t[o][1]+r*t[o+1][1]];e(i,r)}}(e,t),{left:n,right:a.reverse()}}function a(e,t,a){if(1===a)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,a){var r=[[e[1],e[2]]];a=a||2;var i=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var o=r,s=1/a,l=0;l<a-1;l++){var c=n(o,s/(1-s*l));i.push(c.left),o=c.right}return i.push(o),i.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t=t.concat(e[e.length-1])}))}(e,t,a));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var o=0;o<=a-1;o++)r.push(i)}return r}e.exports=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,i=n/r,o=[];if(1===e.length&&"M"===e[0][0]){for(var s=0;s<r-n;s++)e.push(e[0]);return e}for(var l=0;l<r;l++){var c=Math.floor(i*l);o[c]=(o[c]||0)+1}var u=o.reduce((function(t,r,i){return i===n?t.concat(e[n]):t.concat(a(e[i],e[i+1],r))}),[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u}},function(e,t,n){var a=n(274);function r(e,t,n){var a=null,r=n;return t<r&&(r=t,a="add"),e<r&&(r=e,a="del"),{type:a,min:r}}e.exports=function(e,t){var n=function(e,t){var n=e.length,i=t.length,o=void 0,s=void 0,l=0;if(0===n||0===i)return null;for(var c=[],u=0;u<=n;u++)c[u]=[],c[u][0]={min:u};for(var d=0;d<=i;d++)c[0][d]={min:d};for(var p=1;p<=n;p++){o=e[p-1];for(var h=1;h<=i;h++){s=t[h-1],l=a(o,s)?0:1;var f=c[p-1][h].min+1,m=c[p][h-1].min+1,g=c[p-1][h-1].min+l;c[p][h]=r(f,m,g)}}return c}(e,t),i=e.length,o=t.length,s=[],l=1,c=1;if(n[i][o]!==i){for(var u=1;u<=i;u++){var d=n[u][u].min;c=u;for(var p=l;p<=o;p++)n[u][p].min<d&&(d=n[u][p].min,c=p);l=c,n[u][l].type&&s.push({index:u-1,type:n[u][l].type})}for(var h=s.length-1;h>=0;h--)l=s[h].index,"add"===s[h].type?e.splice(l,0,[].concat(e[l])):e.splice(l,1)}if((i=e.length)<o)for(var f=0;f<o-i;f++)"z"===e[i-1][0]||"Z"===e[i-1][0]?e.splice(i-2,0,e[i-2]):e.push(e[i-1]);return e}},function(e,t,n){var a=n(2);e.exports=function(e,t){if(e.length!==t.length)return!1;var n=!0;return a(e,(function(e,a){if(e!==t[a])return n=!1,!1})),n}},function(e,t){function n(e){var t=[];switch(e[0]){case"M":case"L":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"T":t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}function a(e,t,a){for(var r=[].concat(e),i=void 0,o=1/(a+1),s=n(t)[0],l=1;l<=a;l++)o*=l,0===(i=Math.floor(e.length*o))?r.unshift([s[0]*o+e[i][0]*(1-o),s[1]*o+e[i][1]*(1-o)]):r.splice(i,0,[s[0]*o+e[i][0]*(1-o),s[1]*o+e[i][1]*(1-o)]);return r}e.exports=function(e,t){if(e.length<=1)return e;for(var r=void 0,i=0;i<t.length;i++)if(e[i][0]!==t[i][0])switch(r=n(e[i]),t[i][0]){case"M":e[i]=["M"].concat(r[0]);break;case"L":e[i]=["L"].concat(r[0]);break;case"A":e[i]=[].concat(t[i]),e[i][6]=r[0][0],e[i][7]=r[0][1];break;case"Q":if(r.length<2){if(!(i>0)){e[i]=t[i];break}r=a(r,e[i-1],1)}e[i]=["Q"].concat(r.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[i]=["T"].concat(r[0]);break;case"C":if(r.length<3){if(!(i>0)){e[i]=t[i];break}r=a(r,e[i-1],2)}e[i]=["C"].concat(r.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(r.length<2){if(!(i>0)){e[i]=t[i];break}r=a(r,e[i-1],1)}e[i]=["S"].concat(r.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[i]=t[i]}return e}},function(e,t,n){var a={lc:n(277),lowerCase:n(141),lowerFirst:n(75),substitute:n(278),uc:n(279),upperCase:n(142),upperFirst:n(87)};e.exports=a},function(e,t,n){e.exports=n(141)},function(e,t){e.exports=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}},function(e,t,n){e.exports=n(142)},function(e,t,n){var a=n(12),r={getType:n(84),isArray:n(4),isArrayLike:n(13),isBoolean:n(82),isFunction:n(11),isNil:n(5),isNull:n(281),isNumber:n(9),isObject:n(25),isObjectLike:n(49),isPlainObject:n(26),isPrototype:n(85),isType:a,isUndefined:n(282),isString:n(10),isRegExp:n(283),isDate:n(80),isArguments:n(284),isError:n(285)};e.exports=r},function(e,t){e.exports=function(e){return null===e}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"RegExp")}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"Arguments")}},function(e,t,n){var a=n(12);e.exports=function(e){return a(e,"Error")}},function(e,t){e.exports=function(e,t,n){var a=void 0;return function(){var r=this,i=arguments,o=function(){a=null,n||e.apply(r,i)},s=n&&!a;clearTimeout(a),a=setTimeout(o,t),s&&e.apply(r,i)}}},function(e,t,n){var a=n(13);e.exports=function(e,t){if(!a(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var r=-1,i=0;i<e.length;i++)if(e[i]===t){r=i;break}return r}},function(e,t,n){var a=n(11),r=n(50);e.exports=function(e,t,n){return a(n)?!!n(e,t):r(e,t)}},function(e,t,n){var a=n(2),r=n(13);e.exports=function(e,t){if(!r(e))return e;var n=[];return a(e,(function(e,a){n.push(t(e,a))})),n}},function(e,t,n){var a=n(2),r=n(26),i=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(null===e||!r(e))return{};var n={};return a(t,(function(t){i.call(e,t)&&(n[t]=e[t])})),n}},function(e,t){e.exports=function(e,t,n){var a=void 0,r=void 0,i=void 0,o=void 0,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),a=null,o=e.apply(r,i),a||(r=i=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(a),s=0,a=r=i=null},c}},function(e,t,n){var a=n(0),r=n(16),i=a.PathUtil;function o(e,t){var n,r,i=function(e){if(a.isEmpty(e))return null;var t=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y;return a.each(e,(function(e){t=t>e.x?e.x:t,n=n<e.x?e.x:n,r=r>e.y?e.y:r,i=i<e.y?e.y:i})),{minX:t,maxX:n,minY:r,maxY:i,centerX:(t+n)/2,centerY:(r+i)/2}}(e.points||e.get("origin").points),o=t.startAngle,s=t.endAngle-o;return t.isTransposed?(n=i.maxY*s,r=i.minY*s):(n=i.maxX*s,r=i.minX*s),{startAngle:r+=o,endAngle:n+=o}}function s(e,t,n){var r={};return e.delay&&(r.delay=a.isFunction(e.delay)?e.delay(t,n):e.delay),r.easing=a.isFunction(e.easing)?e.easing(t,n):e.easing,r.duration=a.isFunction(e.duration)?e.duration(t,n):e.duration,r.callback=e.callback,r}function l(e,t){var n,a=e._id,r=e.get("index"),i=e.getBBox(),o=e.get("origin").points,l=(i.minX+i.maxX)/2,c=[l,n=o[0].y-o[1].y<=0?i.maxY:i.minY,1];e.apply(c),e.attr("transform",[["t",-l,-n],["s",1,.01],["t",l,n]]);var u={transform:[["t",-l,-n],["s",1,100],["t",l,n]]},d=s(t,r,a);e.animate(u,d.duration,d.easing,d.callback,d.delay)}function c(e,t){var n,a=e._id,r=e.get("index"),i=e.getBBox(),o=e.get("origin").points,l=(i.minY+i.maxY)/2,c=[n=o[0].y-o[1].y>0?i.maxX:i.minX,l,1];e.apply(c),e.attr({transform:[["t",-n,-l],["s",.01,1],["t",n,l]]});var u={transform:[["t",-n,-l],["s",100,1],["t",n,l]]},d=s(t,r,a);e.animate(u,d.duration,d.easing,d.callback,d.delay)}function u(e,t,n){var a,r,i=e._id,o=e.get("index");if(n.isPolar&&"point"!==e.name)a=n.getCenter().x,r=n.getCenter().y;else{var l=e.getBBox();a=(l.minX+l.maxX)/2,r=(l.minY+l.maxY)/2}var c=[a,r,1];e.apply(c),e.attr({transform:[["t",-a,-r],["s",.01,.01],["t",a,r]]});var u={transform:[["t",-a,-r],["s",100,100],["t",a,r]]},d=s(t,o,i);e.animate(u,d.duration,d.easing,d.callback,d.delay)}function d(e,t){if("path"===e.get("type")){var n=e._id,a=e.get("index"),r=i.pathToAbsolute(e.attr("path"));e.attr("path",[r[0]]);var o={path:r},l=s(t,a,n);e.animate(o,l.duration,l.easing,l.callback,l.delay)}}function p(e,t,n,a,i){var o,l=function(e){var t,n,a,i,o,s=e.start,l=e.end,c=e.getWidth(),u=e.getHeight();return e.isPolar?(i=e.getRadius(),a=e.getCenter(),t=e.startAngle,n=e.endAngle,(o=new r.Fan({attrs:{x:a.x,y:a.y,rs:0,re:i+200,startAngle:t,endAngle:t}})).endState={endAngle:n}):(o=new r.Rect({attrs:{x:s.x-200,y:l.y-200,width:e.isTransposed?c+400:0,height:e.isTransposed?0:u+400}}),e.isTransposed?o.endState={height:u+400}:o.endState={width:c+400}),o.isClip=!0,o}(n),c=e.get("canvas"),u=e._id,d=e.get("index");a?(l.attr("startAngle",a),l.attr("endAngle",a),o={endAngle:i}):o=l.endState,l.set("canvas",c),e.attr("clip",l),e.setSilent("animating",!0);var p=s(t,d,u);l.animate(o,p.duration,p.easing,(function(){e&&!e.get("destroyed")&&(e.attr("clip",null),e.setSilent("cacheShape",null),e.setSilent("animating",!1),l.remove())}),p.delay)}function h(e,t){var n=e._id,r=e.get("index"),i=a.isNil(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),o=a.isNil(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity");e.attr("fillOpacity",0),e.attr("strokeOpacity",0);var l={fillOpacity:i,strokeOpacity:o},c=s(t,r,n);e.animate(l,c.duration,c.easing,c.callback,c.delay)}function f(e,t,n){var a=o(e,n),r=a.endAngle;p(e,t,n,a.startAngle,r)}e.exports={enter:{clipIn:p,zoomIn:u,pathIn:d,scaleInY:l,scaleInX:c,fanIn:f,fadeIn:h},leave:{lineWidthOut:function(e,t){var n={lineWidth:0,opacity:0},a=e._id,r=s(t,e.get("index"),a);e.animate(n,r.duration,r.easing,(function(){e.remove()}),r.delay)},zoomOut:function(e,t,n){var a,r,i=e._id,o=e.get("index");if(n.isPolar&&"point"!==e.name)a=n.getCenter().x,r=n.getCenter().y;else{var l=e.getBBox();a=(l.minX+l.maxX)/2,r=(l.minY+l.maxY)/2}var c=[a,r,1];e.apply(c);var u={transform:[["t",-a,-r],["s",.01,.01],["t",a,r]]},d=s(t,o,i);e.animate(u,d.duration,d.easing,(function(){e.remove()}),d.delay)},pathOut:function(e,t){if("path"===e.get("type")){var n=e._id,a=e.get("index"),r={path:[i.pathToAbsolute(e.attr("path"))[0]]},o=s(t,a,n);e.animate(r,o.duration,o.easing,(function(){e.remove()}),o.delay)}},fadeOut:function(e,t){var n=e._id,a={fillOpacity:0,strokeOpacity:0},r=s(t,e.get("index"),n);e.animate(a,r.duration,r.easing,(function(){e.remove()}),r.delay)}},appear:{clipIn:p,zoomIn:u,pathIn:d,scaleInY:l,scaleInX:c,fanIn:f,fadeIn:h},update:{fadeIn:h,fanIn:f,lineSlideLeft:function(e,t,n){if("line"===e.name){var a=e.get("canvas"),o=e.get("cacheShape"),l=e._id,c=e.get("index"),u=new r.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});u.isClip=!0,u.set("canvas",a);var d=i.pathToAbsolute(o.attrs.path),p=i.pathToAbsolute(e.attr("path")),h=d[1][1]-d[0][1],f=d[d.length-1][1]+h,m=p[p.length-1][2],g=d.concat([["L",f,m]]);e.apply([0,0,1]),e.attr("clip",u),e.attr("path",g);var v={transform:[["t",-h,0]]},y=s(t,c,l);e.animate(v,y.duration,y.easing,(function(){e&&!e.get("destroyed")&&(e.attr("path",p),e.attr({transform:[["t",h,0]]}),e.attr("clip",null),e.setSilent("cacheShape",null),u.remove())}),y.delay)}},areaSlideLeft:function(e,t,n){if("area"===e.name){var a=e.get("canvas"),o=e.get("cacheShape"),l=e._id,c=e.get("index"),u=new r.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}});u.isClip=!0,u.set("canvas",a);var d=i.pathToAbsolute(o.attrs.path),p=i.pathToAbsolute(e.attr("path")),h=d[1][1]-d[0][1],f=Math.floor(d.length/2),m=d[f-1][1]+h,g=p[f-1][2],v=[].concat(d.slice(0,f),[["L",m,g],["L",m,p[f][2]]],d.slice(f));e.apply([0,0,1]),e.attr("clip",u),e.attr("path",v);var y={transform:[["t",-h,0]]},_=s(t,c,l);e.animate(y,_.duration,_.easing,(function(){e&&!e.get("destroyed")&&(e.attr("path",p),e.attr({transform:[["t",h,0]]}),e.attr("clip",null),e.setSilent("cacheShape",null),u.remove())}),_.delay)}}}}},function(e,t,n){var a=n(147),r=n(21),i=n(0),o=n(165),s=n(7),l=n(150),c=n(357);function u(e,t,n){var a=(e-t)/(n-t);return a>=0&&a<=1}function d(e,t){var n=!1;if(e)if("theta"===e.type){var a=e.start,r=e.end;n=u(t.x,a.x,r.x)&&u(t.y,a.y,r.y)}else{var i=e.invert(t);n=i.x>=0&&i.y>=0&&i.x<=1&&i.y<=1}return n}var p={};i.each(r,(function(e,t){var n=i.lowerFirst(t);p[n]=function(t){var n=new e(t);return this.addGeom(n),n}}));var h=function(e){var t,n;n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=u.prototype;function u(t){var n,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call(this,t)||this);return a._setTheme(),i.each(r,(function(e,t){var n=i.lowerFirst(t);a[n]=function(t){void 0===t&&(t={}),t.viewTheme=a.get("viewTheme");var n=new e(t);return a.addGeom(n),n}})),a.init(),n}return a.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:s.animate,visible:!0}},a._setTheme=function(){var e=this.get("theme"),t={},n={};i.isObject(e)?n=e:-1!==i.indexOf(Object.keys(l),e)&&(n=l[e]),i.deepMix(t,s,n),this.set("viewTheme",t)},a.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},a._initOptions=function(){var e=this,t=i.mix({},e.get("options"));t.scales||(t.scales={}),t.coord||(t.coord={}),!1===t.animate&&this.set("animate",!1),(!1===t.tooltip||i.isNull(t.tooltip))&&this.set("tooltipEnable",!1),t.geoms&&t.geoms.length&&i.each(t.geoms,(function(t){e._createGeom(t)}));var n=e.get("scaleController");n&&(n.defs=t.scales);var a=e.get("coordController");a&&a.reset(t.coord),this.set("options",t)},a._createGeom=function(e){var t,n=e.type;this[n]&&(t=this[n](),i.each(e,(function(e,n){var a;t[n]&&(i.isObject(e)&&e.field?"label"===e?t[n](e.field,e.callback,e.cfg):(i.each(e,(function(e,t){"field"!==t&&(a=e)})),t[n](e.field,a)):t[n](e))})))},a._initControllers=function(){var e=this.get("options"),t=this.get("viewTheme"),n=this.get("canvas"),a=new o.Scale({viewTheme:t,defs:e.scales}),r=new o.Coord(e.coord);this.set("scaleController",a),this.set("coordController",r);var i=new o.Axis({canvas:n,viewTheme:t});this.set("axisController",i);var s=new o.Guide({viewTheme:t,options:e.guides||[]});this.set("guideController",s)},a._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},a._initGeoms=function(){for(var e=this.get("geoms"),t=this.get("filteredData"),n=this.get("coord"),a=this.get("_id"),r=0;r<e.length;r++){var i=e[r];i.set("data",t),i.set("coord",n),i.set("_id",a+"-geom"+r),i.set("keyFields",this.get("keyFields")),i.init()}},a._clearGeoms=function(){for(var e=this.get("geoms"),t=0;t<e.length;t++)e[t].clear()},a._removeGeoms=function(){for(var e=this.get("geoms");e.length>0;)e.shift().destroy()},a._drawGeoms=function(){this.emit("beforedrawgeoms");for(var e=this.get("geoms"),t=this.get("coord"),n=0;n<e.length;n++){var a=e[n];a.setCoord(t),a.paint()}this.emit("afterdrawgeoms")},a.isShapeInView=function(e){var t=this.get("_id"),n=e._id;if(n)return n.split("-")[0]===t;for(var a=e;a;){if(a.get("viewId")===t)return!0;a=a.get("parent")}return!1},a.getViewRegion=function(){var e,t,n=this.get("parent");if(n){var a=n.getViewRegion(),r=this._getViewRegion(a.start,a.end);e=r.start,t=r.end}else e=this.get("start"),t=this.get("end");return{start:e,end:t}},a._getViewRegion=function(e,t){var n=this.get("start"),a=this.get("end"),r=n.x,o=1-a.y,s=a.x,l=1-n.y,c=this.get("padding"),u=i.toAllPadding(c),d=u[0],p=u[1],h=u[2],f=u[3];return{start:{x:r*(t.x-e.x)+e.x+f,y:o*(t.y-e.y)+e.y-h},end:{x:s*(t.x-e.x)+e.x-p,y:l*(t.y-e.y)+e.y+d}}},a._createCoord=function(){var e=this.get("coordController"),t=this.getViewRegion(),n=e.createCoord(t.start,t.end);this.set("coord",n)},a._renderAxes=function(){var e=this.get("options").axes;if(!1!==e){var t=this.get("axisController");t.container=this.get("backPlot"),t.coord=this.get("coord"),t.options=e||{};var n=this.getXScale(),a=this.getYScales(),r=this.get("_id");t.createAxis(n,a,r)}},a._renderGuides=function(){var e=this.get("guideController");if(!i.isEmpty(e.options)){var t=this.get("coord");e.view=this,e.backContainer=this.get("backPlot"),e.frontContainer=this.get("frontPlot"),e.xScales=this._getScales("x"),e.yScales=this._getScales("y"),e.render(t)}},a._bindEvents=function(){var e=new o.Event({view:this,canvas:this.get("canvas")});e.bindEvents(),this.set("eventController",e)},a._clearEvents=function(){var e=this.get("eventController");e&&e.clearEvents()},a._getScales=function(e){for(var t=this.get("geoms"),n={},a=0;a<t.length;a++){var r=t[a],i="x"===e?r.getXScale():r.getYScale();i&&!n[i.field]&&(n[i.field]=i)}return n},a._adjustScale=function(){this._setCatScalesRange();for(var e=this.get("geoms"),t=this.get("scaleController").defs,n=0;n<e.length;n++){var a=e[n];if("interval"===a.get("type")){var r=a.getYScale(),i=r.field,o=r.min,s=r.max,l=r.type;t[i]&&t[i].min||"time"===l||(o>0?r.change({min:0}):s<=0&&r.change({max:0}))}}},a._setCatScalesRange=function(){var e=this.get("coord"),t=this.get("viewTheme"),n=this.getXScale(),a=this.getYScales(),r=[];n&&r.push(n),r=r.concat(a);var o=e.isPolar&&function(e){var t=e.startAngle,n=e.endAngle;return!(!i.isNil(t)&&!i.isNil(n)&&n-t<2*Math.PI)}(e),s=this.get("scaleController").defs;i.each(r,(function(n){if((n.isCategory||n.isIdentity)&&n.values&&(!s[n.field]||!s[n.field].range)){var a,r=n.values.length;if(1===r)a=[.5,1];else{var i=0;a=o?e.isTransposed?[(i=1/r*t.widthRatio.multiplePie)/2,1-i/2]:[0,1-1/r]:[i=1/r*1/2,1-i]}n.range=a}}))},a.getXScale=function(){var e=this.get("geoms"),t=null;return i.isEmpty(e)||(t=e[0].getXScale()),t},a.getYScales=function(){for(var e=this.get("geoms"),t=[],n=0;n<e.length;n++){var a=e[n].getYScale();a&&-1===i.indexOf(t,a)&&t.push(a)}return t},a.getXY=function(e){var t,n,a=this.get("coord"),r=this._getScales("x"),o=this._getScales("y");for(var s in e)r[s]&&(t=r[s].scale(e[s])),o[s]&&(n=o[s].scale(e[s]));return i.isNil(t)||i.isNil(n)?null:a.convert({x:t,y:n})},a.getSnapRecords=function(e){var t=this.get("geoms"),n=[];return i.each(t,(function(t){var a,r=t.get("dataArray");i.each(r,(function(r){(a=t.findPoint(e,r))&&n.push(a)}))})),n},a.addGeom=function(e){this.get("geoms").push(e),e.set("view",this);var t=this.get("viewContainer");e.set("container",t),e.set("animate",this.get("animate")),e.bindEvents()},a.removeGeom=function(e){var t=this.get("geoms");i.Array.remove(t,e),e.destroy()},a.createScale=function(e,t){var n=this.get("scales"),a=this.get("parent"),r=n[e];if(!t){var i=this.get("filteredData"),o=this._getFieldsForLegend();t=i.length&&!o.includes(e)?i:this.get("data")}var s=this.get("scaleController");if(r){if(r.sync){var l=s.createScale(e,t);this._syncScale(r,l)}}else{if((r=s.createScale(e,t)).sync&&a){var c=a.createScale(e,t);r=this._getSyncScale(c,r)}n[e]=r}return r},a._getFieldsForLegend=function(){var e=[],t=this.get("geoms");return i.each(t,(function(t){var n=t.getFieldsForLegend();e=e.concat(n)})),i.uniq(e)},a._getSyncScale=function(e,t){return e.type!==t.type?t:(this._syncScale(e,t),e)},a._syncScale=function(e,t){var n=i.union(e.values,t.values);if(t.isLinear){var a=Math.max(e.max,t.max),r=Math.min(e.min,t.min);e.max===a&&e.min===r||e.change({min:r,max:a,values:n})}n.length!==e.values.length&&e.change({values:n})},a.getFilteredValues=function(e){var t=this.get("scales")[e].values,n=this._getFilters();return n&&n[e]?t.filter(n[e]):t.slice(0)},a.getFilteredOutValues=function(e){var t=this.get("scales")[e].values,n=this._getFilters();return n&&n[e]?t.filter((function(){return!n[e].apply(n,arguments)})):[]},a.filter=function(e,t){var n=this.get("options");n.filters||(n.filters={}),n.filters[e]=t,this.get("scaleController").filters=n.filters},a._getFilters=function(){return this.get("options").filters},a.execFilter=function(e){var t=this._getFilters();return t&&(e=e.filter((function(e){var n=!0;return i.each(t,(function(t,a){if(t&&!(n=t(e[a],e)))return!1})),n}))),e},a.axis=function(e,t){var n=this.get("options");return!1===e?n.axes=!1:(n.axes||(n.axes={}),n.axes[e]=t),this},a.guide=function(){return this.get("guideController")},a._getKeyFields=function(e){var t=[];i.each(e,(function(e,n){e.key&&t.push(n)})),this.set("keyFields",t)},a.scale=function(e,t){var n=this.get("options").scales;return i.isObject(e)?i.mix(n,e):n[e]=t,this._getKeyFields(n),this},a.tooltip=function(e){return this.set("tooltipEnable",e),this},a.animate=function(e){return this.get("options").animate=e,this.set("animate",e),this},a.changeOptions=function(e){return this.set("options",e),this._initOptions(e),this},a.getViewsByPoint=function(e){var t=[],n=this.get("views");return d(this.get("coord"),e)&&t.push(this),i.each(n,(function(n){n.get("visible")&&d(n.get("coord"),e)&&t.push(n)})),t},a.eachShape=function(e){var t=this,n=t.get("views"),a=t.get("canvas");i.each(n,(function(t){t.eachShape(e)}));var r=this.get("geoms");return i.each(r,(function(n){var a=n.getShapes();i.each(a,(function(a){var r=a.get("origin");if(i.isArray(r)){var o=r.map((function(e){return e._origin}));e(o,a,n,t)}else{var s=r._origin;e(s,a,n,t)}}))})),a.draw(),this},a.filterShape=function(e){return this.eachShape((function(t,n,a,r){e(t,n,a,r)?n.show():n.hide()})),this},a.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},a.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},a.coord=function(e,t){var n=this.get("coordController");return n.reset({type:e,cfg:t}),n},a.resetCoord=function(){this._createCoord()},a.source=function(e,t){return this._initData(e),t&&this.scale(t),this.emit("setdata"),this},a.changeData=function(e){return this.emit("beforechangedata"),this._initData(e),this.emit("afterchangedata"),this.repaint(),this},a._initData=function(e){var t=this.get("dataView");t&&(t.off("change",i.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),e&&e.isDataView&&(e.on("change",i.wrapBehavior(this,"_onViewChange")),this.set("dataView",e),e=e.rows),this.set("data",e)},a._onViewChange=function(){this.emit("beforechangedata");var e=this.get("dataView").rows;this.set("data",e),this.emit("afterchangedata"),this.repaint()},a.beforeRender=function(){var e=this.get("views");i.each(e,(function(e){e.beforeRender()})),this.initView()},a.drawComponents=function(){var e=this.get("views");i.each(e,(function(e){e.drawComponents()})),this._renderAxes(),this._renderGuides()},a.drawCanvas=function(e){if(!e){var t=this.get("views");this.get("backPlot").sort();var n=this.get("canvas");if(this.get("animate")){var a=this.get("isUpdate");i.each(t,(function(e){c.execAnimation(e,a)})),c.execAnimation(this,a)}else n.draw()}},a.render=function(e){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(e),this.emit("afterrender"),this.set("rendered",!0),this},a.initView=function(){var e=this.get("data")||[],t=this.execFilter(e);this.set("filteredData",t),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},a.paint=function(){var e=this.get("views");i.each(e,(function(e){e.paint()}));var t=this.get("data");i.isEmpty(t)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},a.changeVisible=function(e,t){var n=this.get("geoms");i.each(n,(function(t){t.changeVisible(e,!0)})),this.get("axisController")&&this.get("axisController").changeVisible(e),this.get("guideController")&&this.get("guideController").changeVisible(e),t||this.get("canvas").draw()},a.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},a.destroy=function(){this._clearEvents();var t=this.get("dataView");t&&t.off("change",i.getWrapBehavior(this,"_onViewChange")),this.clear(),e.prototype.destroy.call(this)},u}(a);e.exports=h},function(e,t,n){var a=n(5),r=n(4),i=n(2),o=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this).names=["x","y"],n.type="position",n}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.mapping=function(e,t){var n,o,s,l=this.scales,c=this.coord,u=l[0],d=l[1];if(a(e)||a(t))return[];if(r(t)&&r(e)){n=[],o=[];for(var p=0,h=0,f=e.length,m=t.length;p<f&&h<m;p++,h++)s=c.convertPoint({x:u.scale(e[p]),y:d.scale(t[h])}),n.push(s.x),o.push(s.y)}else if(r(t))e=u.scale(e),o=[],i(t,(function(t){t=d.scale(t),s=c.convertPoint({x:e,y:t}),n&&n!==s.x?(r(n)||(n=[n]),n.push(s.x)):n=s.x,o.push(s.y)}));else if(r(e))t=d.scale(t),n=[],i(e,(function(e){e=u.scale(e),s=c.convertPoint({x:e,y:t}),o&&o!==s.y?(r(o)||(o=[o]),o.push(s.y)):o=s.y,n.push(s.x)}));else{e=u.scale(e),t=d.scale(t);var g=c.convertPoint({x:e,y:t});n=g.x,o=g.y}return[n,o]},o}(n(29));e.exports=o},function(e,t,n){var a=n(10),r=n(148),i=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).names=["color"],n.type="color",n.gradient=null,a(n.values)&&(n.linear=!0),n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.getLinearValue=function(e){var t=this.gradient;if(!t){var n=this.values;t=r.gradient(n),this.gradient=t}return t(e)},i}(n(29));e.exports=i},function(e,t,n){var a=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).names=["shape"],n.type="shape",n.gradient=null,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.getLinearValue=function(e){var t=this.values;return t[Math.round((t.length-1)*e)]},a}(n(29));e.exports=a},function(e,t,n){var a=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).names=["size"],n.type="size",n.gradient=null,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(n(29));e.exports=a},function(e,t,n){var a=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).names=["opacity"],n.type="opacity",n.gradient=null,n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(n(29));e.exports=a},function(e,t,n){var a=n(8),r=n(30),i=n(300),o=n(301),s=n(149),l=n(302),c=n(303);a(r.prototype,s),a(i.prototype,s,l),a(o.prototype,c),r.Jitter=n(304),r.Symmetric=n(305),r.Dodge=i,r.Stack=o,e.exports=r},function(e,t,n){var a=n(30),r=n(2),i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},i.getDodgeOffset=function(e,t,n){var a=e.pre,r=e.next,i=r-a,o=i*this.dodgeRatio/n,s=this.marginRatio*o;return(a+r)/2+(.5*(i-n*o-(n-1)*s)+((t+1)*o+t*s)-.5*o-.5*i)},i.processAdjust=function(e){var t=this,n=e.length,a=t.xField;r(e,(function(e,r){for(var i=0,o=e.length;i<o;i++){var s=e[i],l=s[a],c={pre:1===o?l-1:l-.5,next:1===o?l+1:l+.5},u=t.getDodgeOffset(c,r,n);s[a]=u}}))},a}(a);a.Dodge=i,e.exports=i},function(e,t,n){var a=n(4),r=n(5),i=n(30),o=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o._initDefaultCfg=function(){this.xField=null,this.yField=null},o.processAdjust=function(e){this.processStack(e)},o.processStack=function(e){var t=this.xField,n=this.yField,i=e.length,o={positive:{},negative:{}};this.reverseOrder&&(e=e.slice(0).reverse());for(var s=0;s<i;s++)for(var l=e[s],c=0,u=l.length;c<u;c++){var d=l[c],p=d[t]||0,h=d[n],f=p.toString();if(h=a(h)?h[1]:h,!r(h)){var m=h>=0?"positive":"negative";o[m][f]||(o[m][f]=0),d[n]=[o[m][f],h+o[m][f]],o[m][f]+=h}}},i}(i);i.Stack=o,e.exports=o},function(e,t,n){var a={merge:n(42),values:n(65)},r=n(143),i=n(2);e.exports={processAdjust:function(e){var t=a.merge(e),n=this.dodgeBy,i=e;n&&(i=r(t,n)),this.cacheMap={},this.adjDataArray=i,this.mergeData=t,this.adjustData(i,t),this.adjDataArray=null,this.mergeData=null},getDistribution:function(e){var t=this.adjDataArray,n=this.cacheMap,r=n[e];return r||(r={},i(t,(function(t,n){var o=a.values(t,e);o.length||o.push(0),i(o,(function(e){r[e]||(r[e]=[]),r[e].push(n)}))})),n[e]=r),r},adjustDim:function(e,t,n,a,r){var o=this,s=o.getDistribution(e),l=o.groupData(n,e);i(l,(function(n,a){var l;a=parseFloat(a),l=1===t.length?{pre:t[0]-1,next:t[0]+1}:o.getAdjustRange(e,a,t),i(n,(function(t){var n=t[e],a=s[n],i=a.indexOf(r);t[e]=o.getDodgeOffset(l,i,a.length)}))}))}}},function(e,t){e.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(e){var t=this.xField,n=this.yField||"y",a=this.height,r={};this.reverseOrder&&(e=e.slice(0).reverse());for(var i=0,o=e.length;i<o;i++)for(var s=e[i],l=0,c=s.length;l<c;l++){var u=s[l],d=2*(u.size||this.size)/a,p=u[t];r[p]||(r[p]=d/2),u[n]=r[p],r[p]+=d}},processAdjust:function(e){this.yField?this.processStack(e):this.processOneDimStack(e)}}},function(e,t,n){var a=n(2),r=n(8),i={merge:n(42)},o=n(30),s=n(149),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},o.processAdjust=function(e){var t=i.merge(e);this.adjDataArray=e,this.mergeData=t,this.adjustData(e,t),this.adjFrames=null,this.mergeData=null},o.getAdjustOffset=function(e,t){var n=t-e;return e+.05*n+.9*n*Math.random()},o._adjustGroup=function(e,t,n,r){var i=this,o=i.getAdjustRange(t,n,r);a(e,(function(e){e[t]=i.getAdjustOffset(o.pre,o.next)}))},o.adjustDim=function(e,t,n){var r=this,i=r.groupData(n,e);a(i,(function(n,a){a=parseFloat(a),r._adjustGroup(n,e,a,t)}))},r}(o);r(l.prototype,s),o.Jitter=l,e.exports=l},function(e,t,n){var a=n(2),r=n(131),i=n(4),o={merge:n(42)},s=n(30),l=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=s.prototype;return l._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},l._getMax=function(e){var t=this.mergeData,n=r(t,(function(t){var n=t[e];return i(n)?Math.max.apply(null,n):n}))[e];return i(n)?Math.max.apply(null,n):n},l._getXValuesMax=function(){var e=this.yField,t=this.xField,n={},r=this.mergeData;return a(r,(function(a){var r=a[t],o=a[e],s=i(o)?Math.max.apply(null,o):o;n[r]=n[r]||0,n[r]<s&&(n[r]=s)})),n},l.processAdjust=function(e){var t=o.merge(e);this.mergeData=t,this._processSymmetric(e),this.mergeData=null},l._processSymmetric=function(e){var t,n=this.xField,r=this.yField,o=this._getMax(r),s=e[0][0];s&&i(s[r])&&(t=this._getXValuesMax()),a(e,(function(e){a(e,(function(e){var s,l=e[r];if(i(l)){var c=e[n],u=t[c];s=(o-u)/2;var d=[];a(l,(function(e){d.push(s+e)})),e[r]=d}else s=(o-l)/2,e[r]=[s,l+s]}))}))},s}(s);s.Symmetric=l,e.exports=l},function(e,t,n){var a,r,i=n(0),o=n(151),s=i.deepMix({},o,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(a={},a["g2-legend"]={color:"#D9D9D9"},a),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(r={},r["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},r),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});e.exports=s},function(e,t,n){var a=n(66),r=n(163),i=n(337),o=n(338),s={getLabelsClass:function(e,t){var n=a;return"polar"===e?n=r:"theta"===e?n=i:"interval"!==t&&"polygon"!==t||(n=o),n}};e.exports=s},function(e,t,n){var a=n(31);a.Base=a,a.Circle=n(312),a.Grid=n(152),a.Helix=n(313),a.Line=n(314),a.Polyline=n(315),e.exports=a},function(e,t,n){var a=n(154);function r(e,t,n,a){var r=e.getBBox(),i=r.width,o=r.height,s={x:t,y:n,textAlign:"center"};switch(a){case 0:s.y-=o/2,s.textAlign="left";break;case 1:s.y-=o/2,s.textAlign="right";break;case 2:s.y+=o/2,s.textAlign="right";break;case 3:s.y+=o/2,s.textAlign="left";break;case 5:s.y-=o/2;break;case 6:s.y+=o/2;break;case 7:s.x+=i/2,s.textAlign="left";break;case 8:s.x-=i/2,s.textAlign="right"}return e.attr(s),e.getBBox()}e.exports=function(e){for(var t,n,i,o,s,l=new a,c=[],u=0;u<e.length;u++){i=(n=e[u]).attr("x"),o=n.attr("y"),s=!1;for(var d=0;d<8;d++)if(t=r(n,i,o,d),l.hasGap(t)){l.fillGap(t),s=!0;break}s||c.push(n)}for(var p=0;p<c.length;p++)c[p].remove();return s}},function(e,t,n){var a=n(154),r=20;function i(e,t){var n,a=e.attr("x"),i=e.attr("y"),o=e.getBBox(),s=Math.sqrt(o.width*o.width+o.height*o.height),l=1,c=0,u=0,d=function(e){return[(e*=.1)*Math.cos(e),e*Math.sin(e)]};if(t.hasGap(o))return t.fillGap(o),!0;for(var p=!1,h=0;Math.min(Math.abs(c),Math.abs(u))<s&&h<r;)if(c=~~(n=d(l+=-1))[0],u=~~n[1],e.attr({x:a+c,y:i+u}),h++,t.hasGap(e.getBBox())){t.fillGap(o),p=!0;break}return p}e.exports=function(e){for(var t,n=new a,r=[],o=0;o<e.length;o++)i(t=e[o],n)||r.push(t);for(var s=0;s<r.length;s++)r[s].remove()}},function(e,t){e.exports=function(e,t){for(var n,a,r=[],i=0;i<e.length;i++)n=e[i].getBBox(),a=t[i].getBBox(),n.width>a.width||n.height>a.height?r.push(e[i]):n.width*n.height>a.width*a.height&&r.push(e[i]);for(var o=0;o<r.length;o++)r[o].remove()}},function(e,t,n){var a=n(3),r=n(31),i=a.MatrixUtil.vec2,o=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},o.parseTick=function(e,t,n){return{text:e,value:t/n}},o._getCirclePoint=function(e,t){var n=this.get("center");return t=t||this.get("radius"),{x:n.x+Math.cos(e)*t,y:n.y+Math.sin(e)*t}},o.getTickPoint=function(e){var t=this.get("startAngle"),n=t+(this.get("endAngle")-t)*e;return this._getCirclePoint(n)},o.getSideVector=function(e,t){var n=this.get("center"),r=[t.x-n.x,t.y-n.y];if(!a.isNil(e)){var o=i.length(r);i.scale(r,r,e/o)}return r},o.getSidePoint=function(e,t){var n=this.getSideVector(t,e);return{x:e.x+n[0],y:e.y+n[1]}},o.getTickEnd=function(e,t){var n=this.get("tickLine");return t=t||n.length,this.getSidePoint(e,t)},o.getTextAnchor=function(e){var t;return a.snapEqual(e[0],0)?t="center":e[0]>0?t="left":e[0]<0&&(t="right"),t},o.getLinePath=function(){var e=this.get("center"),t=e.x,n=e.y,a=this.get("radius"),r=a,i=this.get("startAngle"),o=this.get("endAngle"),s=this.get("inner"),l=[];if(Math.abs(o-i)===2*Math.PI)l=[["M",t,n],["m",0,-r],["a",a,r,0,1,1,0,2*r],["a",a,r,0,1,1,0,-2*r],["z"]];else{var c=this._getCirclePoint(i),u=this._getCirclePoint(o),d=Math.abs(o-i)>Math.PI?1:0,p=i>o?0:1;if(s){var h=this.getSideVector(s*a,c),f=this.getSideVector(s*a,u),m={x:h[0]+t,y:h[1]+n},g={x:f[0]+t,y:f[1]+n};l=[["M",m.x,m.y],["L",c.x,c.y],["A",a,r,0,d,p,u.x,u.y],["L",g.x,g.y],["A",a*s,r*s,0,d,Math.abs(p-1),m.x,m.y]]}else l=[["M",t,n],["L",c.x,c.y],["A",a,r,0,d,p,u.x,u.y],["L",t,n]]}return l},o.addLabel=function(t,n,a){var r=this.get("label").offset||this.get("_labelOffset")||.001;n=this.getSidePoint(n,r),e.prototype.addLabel.call(this,t,n,a)},o.autoRotateLabels=function(){var e=this.get("ticks"),t=this.get("labelRenderer");if(t&&e.length>12){var n=this.get("radius"),r=this.get("startAngle"),i=this.get("endAngle")-r,o=i/(e.length-1),s=Math.sin(o/2)*n*2,l=this.getMaxLabelWidth(t);a.each(t.get("group").get("children"),(function(t,n){var a=e[n].value*i+r,o=a%(2*Math.PI);l<s?(o<=0&&(a+=Math.PI),o>Math.PI&&(a-=Math.PI),a-=Math.PI/2,t.attr("textAlign","center")):o>Math.PI/2?a-=Math.PI:o<Math.PI/2*-1&&(a+=Math.PI),t.rotateAtStart(a)}))}},r}(r);e.exports=o},function(e,t,n){var a=n(3),r=n(31),i=a.MatrixUtil,o=a.PathUtil,s=i.vec2,l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},i.getLinePath=function(){var e=this.get("crp"),t=this.get("axisStart"),n=o.catmullRomToBezier(e);return n.unshift(["M",t.x,t.y]),n},i.getTickPoint=function(e){var t=this.get("startAngle"),n=t+(this.get("endAngle")-t)*e;return this._getHelixPoint(n)},i._getHelixPoint=function(e){var t=this.get("center"),n=this.get("a")*e+this.get("inner");return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},i.getSideVector=function(e,t){var n=this.get("center"),a=[t.x-n.x,t.y-n.y];if(e){var r=s.length(a);s.scale(a,a,e/r)}return a},i.getSidePoint=function(e,t){var n=this.getSideVector(t,e);return{x:e.x+n[0],y:e.y+n[1]}},i.getTickEnd=function(e,t){var n=this.get("tickLine");return t=t||n.length,this.getSidePoint(e,t)},r}(r);e.exports=l},function(e,t,n){var a=n(31),r=n(3),i=r.MatrixUtil.vec2,o=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return r.mix({},t,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},o._getAvgLabelLength=function(e){var t=e.get("group").get("children");return t[1].attr("x")-t[0].attr("x")},o._getAvgLabelHeightSpace=function(e){var t=e.get("group").get("children");return t[1].attr("y")-t[0].attr("y")},o.getSideVector=function(e){var t=this.get("isVertical"),n=this.get("factor");if(!r.isNumber(e))return[0,0];var a=this.get("start"),o=this.get("end"),s=this.getAxisVector(),l=i.normalize([],s),c=!1;(t&&a.y<o.y||!t&&a.x>o.x)&&(c=!0);var u=i.vertical([],l,c);return i.scale([],u,e*n)},o.getAxisVector=function(){var e=this.get("start"),t=this.get("end");return[t.x-e.x,t.y-e.y]},o.getLinePath=function(){var e=this.get("start"),t=this.get("end"),n=[];return n.push(["M",e.x,e.y]),n.push(["L",t.x,t.y]),n},o.getTickEnd=function(e,t){var n=this.getSideVector(t);return{x:e.x+n[0],y:e.y+n[1]}},o.getTickPoint=function(e){var t=this.get("start"),n=this.get("end"),a=n.x-t.x,r=n.y-t.y;return{x:t.x+a*e,y:t.y+r*e}},o.renderTitle=function(){var e=this.get("title"),t=this.getTickPoint(.5),n=e.offset;if(r.isNil(n)){n=20;var a=this.get("labelsGroup");a&&(n+=this.getMaxLabelWidth(a)+(this.get("label").offset||this.get("_labelOffset")))}var o=e.textStyle,s=r.mix({},o);if(e.text){var l=this.getAxisVector();if(e.autoRotate&&r.isNil(o.rotate)){var c=0;if(!r.snapEqual(l[1],0)){var u=[l[0],l[1]];c=i.angleTo(u,[1,0],!0)}s.rotate=c*(180/Math.PI)}else r.isNil(o.rotate)||(s.rotate=o.rotate/180*Math.PI);var d,p=this.getSideVector(n),h=e.position;d="start"===h?{x:this.get("start").x+p[0],y:this.get("start").y+p[1]}:"end"===h?{x:this.get("end").x+p[0],y:this.get("end").y+p[1]}:{x:t.x+p[0],y:t.y+p[1]},s.x=d.x,s.y=d.y,s.text=e.text;var f=this.get("group").addShape("Text",{zIndex:2,attrs:s});f.name="axis-title",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"))}},o.autoRotateLabels=function(){var e=this.get("labelRenderer"),t=this.get("title");if(e){var n=e.get("group").get("children"),a=this.get("label").offset,i=t?t.offset:48;if(i<0)return;var o,s,l=this.getAxisVector();if(r.snapEqual(l[0],0)&&t&&t.text)(s=this.getMaxLabelWidth(e))>i-a-12&&(o=-1*Math.acos((i-a-12)/s));else if(r.snapEqual(l[1],0)&&n.length>1){var c=Math.abs(this._getAvgLabelLength(e));(s=this.getMaxLabelWidth(e))>c&&(o=Math.asin(1.25*(i-a-12)/s))}if(o){var u=this.get("factor");r.each(n,(function(e){e.rotateAtStart(o),r.snapEqual(l[1],0)&&(u>0?e.attr("textAlign","left"):e.attr("textAlign","right"))}))}}},o.autoHideLabels=function(){var e,t,n=this.get("labelRenderer");if(n){var a=n.get("group").get("children"),i=this.getAxisVector();if(a.length<2)return;if(r.snapEqual(i[0],0)){var o=this.getMaxLabelHeight(n)+8,s=Math.abs(this._getAvgLabelHeightSpace(n));o>s&&(e=o,t=s)}else if(r.snapEqual(i[1],0)&&a.length>1){var l=this.getMaxLabelWidth(n)+8,c=Math.abs(this._getAvgLabelLength(n));l>c&&(e=l,t=c)}if(e&&t){var u=Math.ceil(e/t);r.each(a,(function(e,t){t%u!==0&&e.attr("text","")}))}}},a}(a);e.exports=o},function(e,t,n){var a=n(3),r=n(31),i=a.MatrixUtil,o=a.PathUtil,s=i.vec2,l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"polyline"})},i.getLinePath=function(){var e=this.get("tickPoints"),t=this.get("start"),n=this.get("end"),r=[];r.push(t.x),r.push(t.y),a.each(e,(function(e){r.push(e.x),r.push(e.y)})),r.push(n.x),r.push(n.y);var i=o.catmullRomToBezier(r);return i.unshift(["M",t.x,t.y]),i},i.getTickPoint=function(e,t){return this.get("tickPoints")[t]},i.getTickEnd=function(e,t,n){var a=this.get("tickLine"),r=t||a.length,i=this.getSideVector(r,e,n);return{x:e.x+i[0],y:e.y+i[1]}},i.getSideVector=function(e,t,n){var a;if(0===n){if((a=this.get("start")).x===t.x&&a.y===t.y)return[0,0]}else a=this.get("tickPoints")[n-1];var r=[t.x-a.x,t.y-a.y],i=s.normalize([],r),o=s.vertical([],i,!1);return s.scale([],o,e)},r}(r);e.exports=l},function(e,t,n){e.exports={Guide:n(15),Arc:n(317),DataMarker:n(318),DataRegion:n(319),Html:n(320),Image:n(321),Line:n(322),Region:n(323),Text:n(324)}},function(e,t,n){var a=n(3),r=n(15),i=Math.PI,o=Math.atan;function s(e,t){var n,a=e.x-t.x,r=e.y-t.y;return 0===r?n=a<0?i/2:270*i/180:a>=0&&r>0?n=2*i-o(a/r):a<=0&&r<0?n=i-o(a/r):a>0&&r<0?n=i+o(-a/r):a<0&&r>0&&(n=o(a/-r)),n}var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},o.render=function(e,t){var n=this.parsePoint(e,this.get("start")),r=this.parsePoint(e,this.get("end"));if(n&&r){var o,l=e.getCenter(),c=Math.sqrt((n.x-l.x)*(n.x-l.x)+(n.y-l.y)*(n.y-l.y)),u=s(n,l),d=s(r,l);if(d<u&&(d+=2*i),a.isNumberEqual(n.x,r.x)&&a.isNumberEqual(n.y,r.y)&&(this.get("start")[0]!==this.get("end")[0]||this.get("start")[1]!==this.get("end")[1]))o=[["M",n.x,n.y],["A",c,c,0,1,1,2*l.x-n.x,2*l.y-n.y],["A",c,c,0,1,1,n.x,n.y]];else{var p=(d-u)%(2*i)>i?1:0;o=[["M",n.x,n.y],["A",c,c,0,p,1,r.x,r.y]]}var h=t.addShape("path",{zIndex:this.get("zIndex"),attrs:a.mix({path:o},this.get("style"))});h.name="guide-arc",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo")),this.set("el",h)}},r}(r);e.exports=l},function(e,t,n){var a=n(3),r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},i.render=function(e,t){var n=this.parsePoint(e,this.get("position"));if(n){var a=t.addGroup();a.name="guide-data-marker";var r,i,o=this._getElementPosition(n),s=this.get("display");if(s.line){var l=o.line;r=this._drawLine(l,a)}if(s.text&&this.get("content")){var c=o.text;i=this._drawText(c,a)}if(s.point){var u=o.point;this._drawPoint(u,a)}if(this.get("autoAdjust")){var d=a.getBBox(),p=d.minX,h=d.minY,f=d.maxX,m=d.maxY,g=e.start,v=e.end;if(i){p<=g.x&&i.attr("textAlign","start"),f>=v.x&&i.attr("textAlign","end");var y=this.get("direction");if("upward"===y&&h<=v.y||"upward"!==y&&m>=g.y){var _,b;"upward"===y&&h<=v.y?(_="top",b=1):(_="bottom",b=-1),i.attr("textBaseline",_);var w=0;if(this.get("display").line){w=this.get("lineLength");var E=[["M",n.x,n.y],["L",n.x,n.y+w*b]];r.attr("path",E)}var T=n.y+(w+2)*b;i.attr("y",T)}}}this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)}},i._getElementPosition=function(e){var t=e.x,n=e.y,a=this.get("display").line?this.get("lineLength"):0,r=this.get("direction");this.get("style").text.textBaseline="upward"===r?"bottom":"top";var i="upward"===r?-1:1;return{point:{x:t,y:n},line:[{x:t,y:n},{x:t,y:a*i+n}],text:{x:t,y:(a+2)*i+n}}},i._drawLine=function(e,t){var n=this.get("style").line,r=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y]];return t.addShape("path",{attrs:a.mix({path:r},n)})},i._drawText=function(e,t){var n=this.get("style").text;return t.addShape("text",{attrs:a.mix({text:this.get("content")},n,e)})},i._drawPoint=function(e,t){var n=this.get("style").point;return t.addShape("circle",{attrs:a.mix({},n,e)})},r}(n(15));e.exports=r},function(e,t,n){var a=n(3),r=n(155),i=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},o.render=function(e,t,n){var r=this.get("lineLength")||0,i=this._getRegionData(e,n);if(i.length){var o=this._getBBox(i),s=[];s.push(["M",i[0].x,o.yMin-r]);for(var l=0,c=i.length;l<c;l++){var u=["L",i[l].x,i[l].y];s.push(u)}s.push(["L",i[i.length-1].x,o.yMin-r]);var d=this.get("style"),p=d.region,h=d.text,f=t.addGroup();f.name="guide-data-region",f.addShape("path",{attrs:a.mix({path:s},p)});var m=this.get("content");m&&f.addShape("Text",{attrs:a.mix({x:(o.xMin+o.xMax)/2,y:o.yMin-r,text:m},h)}),this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo")),this.set("el",f)}},o._getRegionData=function(e,t){for(var n,i=this.get("start"),o=this.get("end"),s=r.getFirstScale(this.get("xScales")).field,l=r.getFirstScale(this.get("yScales")).field,c=a.isArray(i)?i[0]:i[s],u=a.isArray(o)?o[0]:o[s],d=[],p=0,h=t.length;p<h;p++){var f=t[p];if(f[s]===c&&(n=p),p>=n){var m=this.parsePoint(e,[f[s],f[l]]);m&&d.push(m)}if(f[s]===u)break}return d},o._getBBox=function(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r].x),n.push(e[r].y);var i=a.arrayUtil.getRange(t),o=a.arrayUtil.getRange(n);return{xMin:i.min,xMax:i.max,yMin:o.min,yMax:o.max}},i}(n(15));e.exports=i},function(e,t,n){var a=n(3),r=a.DomUtil,i=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},o.render=function(e,t){var n=this.parsePoint(e,this.get("position"));if(n){var i=t.get("canvas").get("el").parentNode,o=r.createDom('<div class="g-guide"></div>');i.appendChild(o);var s=this.get("htmlContent")||this.get("html");a.isFunction(s)&&(s=s(this.get("xScales"),this.get("yScales")));var l=r.createDom(s);o.appendChild(l),r.modifyCSS(o,{position:"absolute"}),this._setDomPosition(o,l,n),this.set("el",o)}},o._setDomPosition=function(e,t,n){var a=this.get("alignX"),i=this.get("alignY"),o=r.getOuterWidth(t),s=r.getOuterHeight(t),l={x:n.x,y:n.y};"middle"===a&&"top"===i?l.x-=Math.round(o/2):"middle"===a&&"bottom"===i?(l.x-=Math.round(o/2),l.y-=Math.round(s)):"left"===a&&"bottom"===i?l.y-=Math.round(s):"left"===a&&"middle"===i?l.y-=Math.round(s/2):"left"===a&&"top"===i?(l.x=n.x,l.y=n.y):"right"===a&&"bottom"===i?(l.x-=Math.round(o),l.y-=Math.round(s)):"right"===a&&"middle"===i?(l.x-=Math.round(o),l.y-=Math.round(s/2)):"right"===a&&"top"===i?l.x-=Math.round(o):(l.x-=Math.round(o/2),l.y-=Math.round(s/2));var c=this.get("offsetX");c&&(l.x+=c);var u=this.get("offsetY");u&&(l.y+=u),r.modifyCSS(e,{top:Math.round(l.y)+"px",left:Math.round(l.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},o.clear=function(){var e=this.get("el");e&&e.parentNode&&e.parentNode.removeChild(e)},i}(n(15));e.exports=i},function(e,t,n){var a=n(3),r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},i.render=function(e,t){var n=this.parsePoint(e,this.get("start"));if(n){var a={x:n.x,y:n.y};if(a.img=this.get("src"),this.get("end")){var r=this.parsePoint(e,this.get("end"));if(!r)return;a.width=r.x-n.x,a.height=r.y-n.y}else a.width=this.get("width")||32,a.height=this.get("height")||32;this.get("offsetX")&&(a.x+=this.get("offsetX")),this.get("offsetY")&&(a.y+=this.get("offsetY"));var i=t.addShape("Image",{zIndex:1,attrs:a});i.name="guide-image",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo")),this.set("el",i)}},r}(n(15));e.exports=r},function(e,t,n){var a=n(3),r=n(15),i=a.MatrixUtil.vec2,o=n(14).FONT_FAMILY,s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:o},content:null}})},s.render=function(e,t){var n=this.parsePoint(e,this.get("start")),a=this.parsePoint(e,this.get("end"));if(n&&a){var r=t.addGroup({viewId:t.get("viewId")});this._drawLines(n,a,r);var i=this.get("text");i&&i.content&&this._drawText(n,a,r),this.set("el",r)}},s._drawLines=function(e,t,n){var r=[["M",e.x,e.y],["L",t.x,t.y]],i=n.addShape("Path",{attrs:a.mix({path:r},this.get("lineStyle"))});i.name="guide-line",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo"))},s._drawText=function(e,t,n){var r,o=this.get("text"),s=o.position,l=o.style||{};((r="start"===s?0:"center"===s?.5:a.isString(s)&&-1!==s.indexOf("%")?parseInt(s,10)/100:a.isNumber(s)?s:1)>1||r<0)&&(r=1);var c={x:e.x+(t.x-e.x)*r,y:e.y+(t.y-e.y)*r};if(o.offsetX&&(c.x+=o.offsetX),o.offsetY&&(c.y+=o.offsetY),c.text=o.content,c=a.mix({},c,l),o.autoRotate&&a.isNil(l.rotate)){var u=i.angleTo([t.x-e.x,t.y-e.y],[1,0],1);c.rotate=u}else a.isNil(l.rotate)||(c.rotate=l.rotate*Math.PI/180);var d=n.addShape("Text",{attrs:c});d.name="guide-line-text",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo"))},r}(r);e.exports=s},function(e,t,n){var a=n(3),r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},i.render=function(e,t){var n=this.get("style"),r=this._getPath(e);if(r.length){var i=t.addShape("path",{zIndex:this.get("zIndex"),attrs:a.mix({path:r},n)});i.name="guide-region",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo")),this.set("el",i)}},i._getPath=function(e){var t=this.parsePoint(e,this.get("start")),n=this.parsePoint(e,this.get("end"));return t&&n?[["M",t.x,t.y],["L",n.x,t.y],["L",n.x,n.y],["L",t.x,n.y],["z"]]:[]},r}(n(15));e.exports=r},function(e,t,n){var a=n(3),r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},i.render=function(e,t){var n=this.parsePoint(e,this.get("position"));if(n){var r=a.mix({},this.get("style")),i=this.get("offsetX"),o=this.get("offsetY");i&&(n.x+=i),o&&(n.y+=o),r.rotate&&(r.rotate=r.rotate*Math.PI/180);var s=t.addShape("Text",{zIndex:this.get("zIndex"),attrs:a.mix({text:this.get("content")},r,n)});s.name="guide-text",this.get("appendInfo")&&s.setSilent("appendInfo",this.get("appendInfo")),this.set("el",s)}},r}(n(15));e.exports=r},function(e,t,n){var a=n(153);e.exports=a},function(e,t,n){e.exports={Category:n(156),CatHtml:n(158),CatPageHtml:n(327),Color:n(328),Size:n(330),CircleSize:n(331)}},function(e,t,n){var a=n(3),r=n(158),i=n(14).FONT_FAMILY,o=a.DomUtil;function s(e,t){return e.getElementsByClassName(t)[0]}var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:i,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},l.render=function(){e.prototype._renderHTML.call(this),this._renderFlipPage()},l._renderFlipPage=function(){var e=this.get("legendWrapper"),t=s(e,"g2-legend-list"),n=this.get("position"),r=this.get("layout"),i="right"===n||"left"===n||"vertical"===r,l=i?"block":"inline-block",c=e.offsetHeight;if(e.scrollHeight>c){var u=this.get("slipTpl"),d=o.createDom(u),p=s(d,"g2-caret-up"),h=s(d,"g2-caret-down");o.modifyCSS(p,this.get("caretStyle")),o.modifyCSS(p,{fill:"rgba(0,0,0,0.25)"}),o.modifyCSS(h,this.get("caretStyle"));var f=s(d,"cur-pagenum"),m=s(d,"next-pagenum"),g=this.get("pageNumStyle");if(o.modifyCSS(f,a.mix({},g,{paddingLeft:"10px"})),o.modifyCSS(m,a.mix({},g,{opacity:.3,paddingRight:"10px"})),o.modifyCSS(d,a.mix({},this.get("slipDomStyle"),i?{top:c+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),e.style.overflow=this.get("legendOverflow"),e.appendChild(d),!i){var v=Math.max(e.offsetWidth-10-d.offsetWidth,0);o.modifyCSS(t,{maxWidth:v+"px"})}for(var y=t.childNodes,_=0,b=1,w=[],E=0;E<y.length;E++)y[E].style.display=l,(_=y[E].offsetTop+y[E].offsetHeight)>c&&(b++,w.forEach((function(e){e.style.display="none"})),w=[]),w.push(y[E]);m.innerText="/"+b,y.forEach((function(e){e.style.display=l,(_=e.offsetTop+e.offsetHeight)>c&&(e.style.display="none")})),p.addEventListener("click",(function(){if(y[0].style.display!==l){var e=-1;y.forEach((function(t,n){t.style.display===l&&(e=-1===e?n:e,t.style.display="none")}));for(var t=e-1;t>=0&&(y[t].style.display=l,_=y[e-1].offsetTop+y[e-1].offsetHeight,y[t].style.display="none",_<=c);t--)y[t].style.display=l;var n=Number.parseInt(f.innerText,10)-1;p.style.fill=1===n?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",h.style.fill="rgba(0,0,0,0.65)",f.innerText=n}})),h.addEventListener("click",(function(){if(y[y.length-1].style.display!==l){var e=-1;y.forEach((function(t,n){t.style.display===l&&(e=n,t.style.display="none")}));for(var t=e+1;t<y.length&&(y[t].style.display=l,_=y[t].offsetTop+y[t].offsetHeight,y[t].style.display="none",_<=c);t++)y[t].style.display=l;var n=Number.parseInt(f.innerText,10)+1;h.style.fill=n===b?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",p.style.fill="rgba(0,0,0,0.65)",f.innerText=n}})),this.set("slipDom",d)}},l.destroy=function(){var t=this.get("slipDom");t&&t.parentNode&&t.parentNode.removeChild(t),e.prototype.destroy.call(this)},r}(r);e.exports=l},function(e,t,n){var a=n(73).ColorUtil,r=n(3),i=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return r.mix({},t,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},o._setPercentage=function(){var e=this.get("items");if(!e[0].percentage){var t=e[0].value,n=e[e.length-1].value;r.each(e,(function(e){e.percentage=(e.value-t)/(n-t)}))}},o._renderSliderShape=function(){this._setPercentage();var e,t=this.get("slider").get("backgroundElement"),n=this.get("width"),i=this.get("height"),o=this.get("layout"),s=this.get("items"),l="";return"vertical"===o?(l+="l (90) ",r.each(s,(function(t){e=a.toRGB(t.color),l+=1-t.percentage+":"+e+" "}))):(l+="l (0) ",r.each(s,(function(t){e=a.toRGB(t.color),l+=t.percentage+":"+e+" "}))),this._addMiddleBar(t,"Rect",{x:0,y:0,width:n,height:i,fill:l,strokeOpacity:0})},o._renderUnslidable=function(){this._setPercentage();var e=this.get("titleShape"),t=this.get("titleGap");t=e?e.getBBox().height+t:t;var n,i=this.get("width"),o=this.get("height"),s=this.get("layout"),l=this.get("items"),c="",u=[],d=this.get("group").addGroup(),p=l.length;if("vertical"===s){c+="l (90) ";for(var h=0;h<p;h+=1){if(0!==h&&h!==p-1&&(u.push(["M",0,o-l[h].percentage*o]),u.push(["L",i,o-l[h].percentage*o])),n=a.toRGB(l[h].color),c+=1-l[h].percentage+":"+n+" ",this.get("isSegment")&&h>0){var f=a.toRGB(l[h-1].color);c+=1-l[h].percentage+":"+f+" "}d.addShape("text",{attrs:r.mix({},{x:i+this.get("textOffset")/2,y:o-l[h].percentage*o,text:this._formatItemValue(l[h].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{c+="l (0) ";for(var m=0;m<p;m+=1){if(0!==m&&m!==p-1&&(u.push(["M",l[m].percentage*i,0]),u.push(["L",l[m].percentage*i,o])),n=a.toRGB(l[m].color),this.get("isSegment")&&m>0){var g=a.toRGB(l[m-1].color);c+=l[m].percentage+":"+g+" "}c+=l[m].percentage+":"+n+" ",d.addShape("text",{attrs:r.mix({},{x:l[m].percentage*i,y:o+5+this.get("textOffset"),text:this._formatItemValue(l[m].value)+""},this.get("textStyle"))})}}d.addShape("rect",{attrs:{x:0,y:0,width:i,height:o,fill:c,strokeOpacity:0}}),d.addShape("path",{attrs:r.mix({path:u},this.get("lineStyle"))}),d.move(0,t)},i}(n(68));e.exports=i},function(e,t,n){var a=n(3),r=a.DomUtil,i=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},o._beforeRenderUI=function(){var e=this.get("layout"),t=this.get("backgroundElement"),n=this.get("minHandleElement"),a=this.get("maxHandleElement"),r=this.addShape("rect",{attrs:this.get("middleAttr")}),i="vertical"===e?"ns-resize":"ew-resize";this.add([t,n,a]),this.set("middleHandleElement",r),t.set("zIndex",0),r.set("zIndex",1),n.set("zIndex",2),a.set("zIndex",2),r.attr("cursor","move"),n.attr("cursor",i),a.attr("cursor",i),this.sort()},o._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},o._transform=function(e){var t=this.get("range"),n=t[0]/100,a=t[1]/100,r=this.get("width"),i=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),l=this.get("middleHandleElement");o.resetMatrix(),s.resetMatrix(),"horizontal"===e?(l.attr({x:r*n,y:0,width:(a-n)*r,height:i}),o.translate(n*r,i),s.translate(a*r,i)):(l.attr({x:0,y:i*(1-a),width:r,height:(a-n)*i}),o.translate(1,(1-n)*i),s.translate(1,(1-a)*i))},o._renderHorizontal=function(){this._transform("horizontal")},o._renderVertical=function(){this._transform("vertical")},o._bindUI=function(){this.on("mousedown",a.wrapBehavior(this,"_onMouseDown"))},o._isElement=function(e,t){var n=this.get(t);return e===n||!!n.isGroup&&n.get("children").indexOf(e)>-1},o._getRange=function(e,t){var n=e+t;return n=(n=n>100?100:n)<0?0:n},o._updateStatus=function(e,t){var n="x"===e?this.get("width"):this.get("height");e=a.upperFirst(e);var r,i=this.get("range"),o=this.get("page"+e),s=this.get("currentTarget"),l=this.get("rangeStash"),c="vertical"===this.get("layout")?-1:1,u=t["page"+e],d=(u-o)/n*100*c;i[1]<=i[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(i[0]=this._getRange(d,i[0]),i[1]=this._getRange(d,i[0])):(this._isElement(s,"minHandleElement")&&(i[0]=this._getRange(d,i[0])),this._isElement(s,"maxHandleElement")&&(i[1]=this._getRange(d,i[1]))),this._isElement(s,"middleHandleElement")&&(r=l[1]-l[0],i[0]=this._getRange(d,i[0]),i[1]=i[0]+r,i[1]>100&&(i[1]=100,i[0]=i[1]-r)),this.emit("sliderchange",{range:i}),this.set("page"+e,u),this._renderUI(),this.get("canvas").draw()},o._onMouseDown=function(e){var t=e.currentTarget,n=e.event,a=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",t),this.set("rangeStash",[a[0],a[1]]),this._bindCanvasEvents()},o._bindCanvasEvents=function(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=r.addEventListener(e,"mousemove",a.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=r.addEventListener(e,"mouseup",a.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=r.addEventListener(e,"mouseleave",a.wrapBehavior(this,"_onCanvasMouseUp"))},o._onCanvasMouseMove=function(e){this._mouseOutArea(e)||("horizontal"===this.get("layout")?this._updateStatus("x",e):this._updateStatus("y",e))},o._onCanvasMouseUp=function(){this._removeDocumentEvents()},o._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},o._mouseOutArea=function(e){var t=this.get("canvas").get("el").getBoundingClientRect(),n=this.get("parent"),a=n.getBBox(),r=n.attr("matrix")[6],i=n.attr("matrix")[7],o=r+a.width,s=i+a.height,l=e.clientX-t.x,c=e.clientY-t.y;return l<r||l>o||c<i||c>s},i}(a.Group);e.exports=i},function(e,t,n){var a=n(3),r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},i._renderSliderShape=function(){var e=this.get("slider").get("backgroundElement"),t=this.get("layout"),n=this.get("width"),r=this.get("height"),i=this.get("height")/2,o=this.get("frontMiddleBarStyle"),s="vertical"===t?[[0,0],[n,0],[n,r],[n-4,r]]:[[0,i+r/2],[0,i+r/2-4],[n,i-r/2],[n,i+r/2]];return this._addMiddleBar(e,"Polygon",a.mix({points:s},o))},i._renderUnslidable=function(){var e=this.get("layout"),t=this.get("width"),n=this.get("height"),r=this.get("frontMiddleBarStyle"),i="vertical"===e?[[0,0],[t,0],[t,n],[t-4,n]]:[[0,n],[0,n-4],[t,0],[t,n]];this.get("group").addGroup().addShape("Polygon",{attrs:a.mix({points:i},r)});var o=this._formatItemValue(this.get("firstItem").value),s=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(t+10,n-3,o),this._addText(t+10,3,s)):(this._addText(0,n,o),this._addText(t,n,s))},i._addText=function(e,t,n){var r=this.get("group").addGroup(),i=this.get("textStyle"),o=this.get("titleShape"),s=this.get("titleGap");o&&(s+=o.getBBox().height),"vertical"===this.get("layout")?r.addShape("text",{attrs:a.mix({x:e+this.get("textOffset"),y:t,text:0===n?"0":n},i)}):(t+=s+this.get("textOffset")-20,o||(t+=10),r.addShape("text",{attrs:a.mix({x:e,y:t,text:0===n?"0":n},i)}))},r}(n(68));e.exports=r},function(e,t,n){var a=n(3),r=n(68),i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},i._renderSliderShape=function(){var e=this.get("slider").get("backgroundElement"),t=this.get("layout"),n="vertical"===t?2:this.get("width"),r="vertical"===t?this.get("height"):2,i=this.get("height")/2,o=this.get("frontMiddleBarStyle"),s="vertical"===t?[[0,0],[n,0],[n,r],[0,r]]:[[0,i+r],[0,i-r],[5+n-4,i-r],[5+n-4,i+r]];return this._addMiddleBar(e,"Polygon",a.mix({points:s},o))},i._addHorizontalTrigger=function(e,t,n,r){var i=this.get("slider").get(e+"HandleElement"),o=-this.get("height")/2,s=i.addShape("circle",{attrs:a.mix({x:0,y:o,r:r},t)}),l=i.addShape("text",{attrs:a.mix(n,{x:0,y:o+r+10,textAlign:"center",textBaseline:"middle"})}),c="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",c),l.attr("cursor",c),this.set(e+"ButtonElement",s),this.set(e+"TextElement",l)},i._addVerticalTrigger=function(e,t,n,r){var i=this.get("slider").get(e+"HandleElement"),o=i.addShape("circle",{attrs:a.mix({x:0,y:0,r:r},t)}),s=i.addShape("text",{attrs:a.mix(n,{x:r+10,y:0,textAlign:"start",textBaseline:"middle"})}),l="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",l),s.attr("cursor",l),this.set(e+"ButtonElement",o),this.set(e+"TextElement",s)},i._renderTrigger=function(){var e=this.get("firstItem"),t=this.get("lastItem"),n=this.get("layout"),r=this.get("textStyle"),i=this.get("triggerAttr"),o=a.mix({},i),s=a.mix({},i),l=a.mix({text:this._formatItemValue(e.value)+""},r),c=a.mix({text:this._formatItemValue(t.value)+""},r);"vertical"===n?(this._addVerticalTrigger("min",o,l,5),this._addVerticalTrigger("max",s,c,16)):(this._addHorizontalTrigger("min",o,l,5),this._addHorizontalTrigger("max",s,c,16))},i._bindEvents=function(){var e=this;this.get("slidable")&&this.get("slider").on("sliderchange",(function(t){var n=t.range,a=e.get("firstItem").value,r=e.get("lastItem").value,i=a+n[0]/100*(r-a),o=a+n[1]/100*(r-a),s=5+n[0]/100*11,l=5+n[1]/100*11;e._updateElement(i,o,s,l);var c=new Event("itemfilter",t,!0,!0);c.range=[i,o],e.emit("itemfilter",c)}))},i._updateElement=function(t,n,a,r){e.prototype._updateElement.call(this,t,n);var i=this.get("minTextElement"),o=this.get("maxTextElement"),s=this.get("minButtonElement"),l=this.get("maxButtonElement");if(s.attr("r",a),l.attr("r",r),"vertical"===this.get("layout"))i.attr("x",a+10),o.attr("x",r+10);else{var c=-this.get("height")/2;i.attr("y",c+a+10),o.attr("y",c+r+10)}},i._addCircle=function(e,t,n,r,i){var o=this.get("group").addGroup(),s=this.get("_unslidableCircleStyle"),l=this.get("textStyle"),c=this.get("titleShape"),u=this.get("titleGap");c&&(u+=c.getBBox().height),o.addShape("circle",{attrs:a.mix({x:e,y:t+u,r:0===n?1:n},s)}),"vertical"===this.get("layout")?o.addShape("text",{attrs:a.mix({x:i+20+this.get("textOffset"),y:t+u,text:0===r?"0":r},l)}):o.addShape("text",{attrs:a.mix({x:e,y:t+u+i+13+this.get("textOffset"),text:0===r?"0":r},l)})},i._renderUnslidable=function(){var e=this.get("firstItem").value,t=this.get("lastItem").value;if(e>t){var n=t;t=e,e=n}var a=this._formatItemValue(e),r=this._formatItemValue(t),i=e<5?5:e,o=t>16?16:t;i>o&&(i=5,o=16),"vertical"===this.get("layout")?(this._addCircle(o,o,i,a,2*o),this._addCircle(o,2*o+16+i,o,r,2*o)):(this._addCircle(o,o,i,a,2*o),this._addCircle(2*o+16+i,o,o,r,2*o))},i.activate=function(t){this.get("slidable")&&e.prototype.activate.call(this,t)},r}(r);e.exports=i},function(e,t,n){var a=n(69);a.Html=n(333),a.Canvas=n(162),a.Mini=n(335),e.exports=a},function(e,t,n){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var i=n(20),o=n(69),s=n(3),l=s.DomUtil,c=n(334),u=n(159),d=n(160),p=n(161),h=i.Marker;function f(e,t){return e.getElementsByClassName(t)[0]}var m=function(e){var t,n;n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;function o(t){var n;n=e.call(this,t)||this,s.assign(r(n),d),s.assign(r(n),p);var a=c;n.style=function(e,t){return Object.keys(e).forEach((function(n){t[n]&&(e[n]=s.mix(e[n],t[n]))})),e}(a,t),n._init_(),n.get("items")&&n.render();var i=n.get("crosshairs");if(i){var o="rect"===i.type?n.get("backPlot"):n.get("frontPlot"),l=new u(s.mix({plot:o,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));l.hide(),n.set("crosshairGroup",l)}return n}return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}>\n      <svg viewBox="0 0 5 5" class="g2-tooltip-marker"></svg>\n      {name}<span class="g2-tooltip-value">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},i._init_=function(){var e,t=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(t)){var a=t.replace("#","");e=document.getElementById(a)}else e=l.createDom(t),l.modifyCSS(e,this.style["g2-tooltip"]),n.appendChild(e),n.style.position="relative";this.set("container",e)}},i.render=function(){if(this.clear(),this.get("htmlContent")){var e=this.get("canvas").get("el").parentNode,t=this._getHtmlContent();e.appendChild(t),l.modifyCSS(t,this.style["g2-tooltip"]),this.set("container",t)}else this._renderTpl()},i._renderTpl=function(){var e=this,t=e.get("showTitle"),n=e.get("titleContent"),a=e.get("container"),r=f(a,"g2-tooltip-title"),i=f(a,"g2-tooltip-list"),o=e.get("items");r&&t&&(l.modifyCSS(r,e.style["g2-tooltip-title"]),r.innerHTML=n),i&&(l.modifyCSS(i,e.style["g2-tooltip-list"]),s.each(o,(function(t,n){i.appendChild(e._addItem(t,n))})))},i.clear=function(){var e=this.get("container");if(this.get("htmlContent"))e&&e.remove();else{var t=f(e,"g2-tooltip-title"),n=f(e,"g2-tooltip-list");t&&(t.innerHTML=""),n&&(n.innerHTML="")}},i.show=function(){var t=this.get("container");if(t&&!this.destroyed){t.style.visibility="visible",t.style.display="block";var n=this.get("crosshairGroup");n&&n.show();var a=this.get("markerGroup");a&&a.show(),e.prototype.show.call(this),this.get("canvas").draw()}},i.hide=function(){var t=this.get("container");if(t&&!this.destroyed){t.style.visibility="hidden",t.style.display="none";var n=this.get("crosshairGroup");n&&n.hide();var a=this.get("markerGroup");a&&a.hide(),e.prototype.hide.call(this),this.get("canvas").draw()}},i.destroy=function(){var t=this.get("container"),n=this.get("containerTpl");t&&!/^\#/.test(n)&&t.parentNode.removeChild(t);var a=this.get("crosshairGroup");a&&a.destroy();var r=this.get("markerGroup");r&&r.remove(),e.prototype.destroy.call(this)},i._getMarkerSvg=function(e){var t,n=e.marker||{},a=n.activeSymbol||n.symbol;return s.isFunction(a)?t=a:s.isString(a)&&(t=h.Symbols[a]),'<path d="'+(t=s.isFunction(t)?t:h.Symbols.circle)(2.5,2.5,2.5).reduce((function(e,t){return""+e+t[0]+t.slice(1).join(",")}),"")+'" fill="'+(n.fill||"none")+'" stroke="'+(n.stroke||"none")+'" />'},i._addItem=function(e,t){var n=this.get("itemTpl"),r=s.substitute(n,s.mix({index:t},e)),i=l.createDom(r);l.modifyCSS(i,this.style["g2-tooltip-list-item"]);var o=f(i,"g2-tooltip-marker");if(o){l.modifyCSS(o,a({},this.style["g2-tooltip-marker"],{borderRadius:"unset"}));var c=this._getMarkerSvg(e);o.innerHTML=c}var u=f(i,"g2-tooltip-value");return u&&l.modifyCSS(u,this.style["g2-tooltip-value"]),i},i._getHtmlContent=function(){var e=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return l.createDom(e)},i.setPosition=function(t,n,a){var r,i=this.get("container"),o=this.get("canvas").get("el"),c=l.getWidth(o),u=l.getHeight(o),d=i.clientWidth,p=i.clientHeight,h=t,f=n,m=this.get("prePosition")||{x:0,y:0};if(d||(i.style.display="block",d=i.clientWidth,p=i.clientHeight,i.style.display="none"),this.get("enterable")?(r=[t,n-=i.clientHeight/2],m&&t-m.x>0?t-=i.clientWidth+1:t+=1):this.get("position")?(t=(r=this._calcTooltipPosition(t,n,this.get("position"),d,p,a))[0],n=r[1]):(t=(r=this._constraintPositionInBoundary(t,n,d,p,c,u))[0],n=r[1]),this.get("inPlot")){var g=this.get("plotRange");t=(r=this._constraintPositionInPlot(t,n,d,p,g,this.get("enterable")))[0],n=r[1]}var v=this.get("markerItems");s.isEmpty(v)||(h=v[0].x,f=v[0].y),this.set("prePosition",r),this.get("follow")&&(i.style.left=t+"px",i.style.top=n+"px");var y=this.get("crosshairGroup");if(y){var _=this.get("items");y.setPosition(h,f,_)}e.prototype.setPosition.call(this,t,n)},o}(o);e.exports=m},function(e,t,n){var a,r=n(14).FONT_FAMILY,i=((a={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r,lineHeight:"20px",padding:"10px 10px 6px 10px"},a["g2-tooltip-title"]={marginBottom:"4px"},a["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},a["g2-tooltip-list-item"]={marginBottom:"4px"},a["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},a["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},a);e.exports=i},function(e,t,n){var a=n(3),r=n(162),i=n(14).FONT_FAMILY,o=a.DomUtil,s=a.MatrixUtil,l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:i,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},l._init_=function(){var e=this.get("padding"),t=this.get("frontPlot").addGroup();this.set("container",t);var n=t.addShape("rect",{attrs:a.mix({},this.get("boardStyle"))});this.set("board",n);var r=t.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",r);var i=t.addGroup();i.move(e.left,e.top);var o=i.addShape("text",{attrs:a.mix({},this.get("valueStyle"))});this.set("valueShape",o)},l.render=function(){this.clear();var e=this.get("board"),t=this.get("valueShape"),n=this.get("padding"),a=this.get("items")[0];t&&t.attr("text",a.value);var r=t?t.getBBox():{width:80,height:30},i=n.left+r.width+n.right,o=n.top+r.height+n.bottom;e.attr("width",i),e.attr("height",o),this._centerTriangleShape()},l.clear=function(){this.get("valueShape").attr("text","")},l.setPosition=function(e,t,n){var a=this.get("container"),r=this.get("plotRange"),i=a.getBBox(),l=i.width,c=i.height;if(e-=l/2,!n||"point"!==n.name&&"interval"!==n.name||(t=n.getBBox().y),t-=c,this.get("inPlot"))e<r.tl.x?(e=r.tl.x,this._leftTriangleShape()):e+l/2>r.tr.x?(e=r.tr.x-l,this._rightTriangleShape()):this._centerTriangleShape(),t<r.tl.y?t=r.tl.y:t+c>r.bl.y&&(t=r.bl.y-c);else{var u=this.get("canvas").get("el"),d=o.getWidth(u),p=o.getHeight(u);e<0?(e=0,this._leftTriangleShape()):e+l/2>d?(e=d-l,this._rightTriangleShape()):this._centerTriangleShape(),t<0?t=0:t+c>p&&(t=p-c)}var h=s.transform([1,0,0,0,1,0,0,0,1],[["t",e,t]]);a.stopAnimate(),a.animate({matrix:h},this.get("animationDuration"))},l._centerTriangleShape=function(){var e=this.get("triangleShape"),t=this.get("triangleWidth"),n=this.get("triangleHeight"),a=this.get("board").getBBox(),r=a.width,i=a.height,o=[["M",0,0],["L",t,0],["L",t/2,n],["L",0,0],["Z"]];e.attr("path",o),e.move(r/2-t/2,i-1)},l._leftTriangleShape=function(){var e=this.get("triangleShape"),t=this.get("triangleWidth"),n=this.get("triangleHeight"),a=this.get("board").getBBox().height,r=[["M",0,0],["L",t,0],["L",0,n+3],["L",0,0],["Z"]];e.attr("path",r),e.move(0,a-3)},l._rightTriangleShape=function(){var e=this.get("triangleShape"),t=this.get("triangleWidth"),n=this.get("triangleHeight"),a=this.get("board").getBBox(),r=a.width,i=a.height,o=[["M",0,0],["L",t,0],["L",t,n+4],["L",0,0],["Z"]];e.attr("path",o),e.move(r-t-1,i-4)},r}(r);e.exports=l},function(e,t,n){var a=n(0).MatrixUtil.vec2;e.exports={catmullRom2bezier:function(e,t,n){for(var r=!!t,i=[],o=0,s=e.length;o<s;o+=2)i.push([e[o],e[o+1]]);for(var l,c,u,d=function(e,t,n,r){var i,o,s,l,c=[],u=!!r;if(u){s=[1/0,1/0],l=[-1/0,-1/0];for(var d=0,p=e.length;d<p;d++){var h=e[d];s=a.min([],s,h),l=a.max([],l,h)}s=a.min([],s,r[0]),l=a.max([],l,r[1])}for(var f=0,m=e.length;f<m;f++){var g=e[f];if(n)i=e[f?f-1:m-1],o=e[(f+1)%m];else{if(0===f||f===m-1){c.push(g);continue}i=e[f-1],o=e[f+1]}var v=[];v=a.sub(v,o,i),v=a.scale(v,v,t);var y=a.distance(g,i),_=a.distance(g,o),b=y+_;0!==b&&(y/=b,_/=b);var w=a.scale([],v,-y),E=a.scale([],v,_),T=a.add([],g,w),x=a.add([],g,E);u&&(T=a.max([],T,s),T=a.min([],T,l),x=a.max([],x,s),x=a.min([],x,l)),c.push(T),c.push(x)}return n&&c.push(c.shift()),c}(i,.4,r,n),p=i.length,h=[],f=0;f<p-1;f++)l=d[2*f],c=d[2*f+1],u=i[f+1],h.push(["C",l[0],l[1],c[0],c[1],u[0],u[1]]);return r&&(l=d[p],c=d[p+1],u=i[0],h.push(["C",l[0],l[1],c[0],c[1],u[0],u[1]])),h}}},function(e,t,n){var a=n(0),r=n(163),i=n(23),o=n(7);function s(e,t,n){return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getDefaultCfg=function(){return{label:o.thetaLabels}},l.getDefaultOffset=function(e){return e.offset||0},l.adjustItems=function(t){var n=t[0]?t[0].offset:0;return n>0&&(t=this._distribute(t,n)),e.prototype.adjustItems.call(this,t)},l._distribute=function(e,t){var n=this.get("coord"),a=n.getRadius(),r=this.get("label").labelHeight,i=n.getCenter(),o=2*(a+t)+2*r,s={start:n.start,end:n.end},l=this.get("geom");if(l){var c=l.get("view");s=c.getViewRegion()}var u=[[],[]];return e.forEach((function(e){e&&("right"===e.textAlign?u[0].push(e):u[1].push(e))})),u.forEach((function(e,t){var n=parseInt(o/r,10);e.length>n&&(e.sort((function(e,t){return t["..percent"]-e["..percent"]})),e.splice(n,e.length-n)),e.sort((function(e,t){return e.y-t.y})),function(e,t,n,a,r){var i,o=!0,s=n.start,l=n.end,c=Math.min(s.y,l.y),u=Math.abs(s.y-l.y),d=0,p=Number.MIN_VALUE,h=e.map((function(e){return e.y>d&&(d=e.y),e.y<p&&(p=e.y),{size:t,targets:[e.y-c]}}));for(p-=c,d-c>u&&(u=d-c);o;)for(h.forEach((function(e){var t=(Math.min.apply(p,e.targets)+Math.max.apply(p,e.targets))/2;e.pos=Math.min(Math.max(p,t-e.size/2),u-e.size)})),o=!1,i=h.length;i--;)if(i>0){var f=h[i-1],m=h[i];f.pos+f.size>m.pos&&(f.size+=m.size,f.targets=f.targets.concat(m.targets),f.pos+f.size>u&&(f.pos=u-f.size),h.splice(i,1),o=!0)}i=0,h.forEach((function(n){var a=c+t/2;n.targets.forEach((function(){e[i].y=n.pos+a,a+=t,i++}))})),e.forEach((function(e){var t=e.r*e.r,n=Math.pow(Math.abs(e.y-a.y),2);if(t<n)e.x=a.x;else{var i=Math.sqrt(t-n);e.x=r?a.x+i:a.x-i}}))}(e,r,s,i,t)})),u[0].concat(u[1])},l.lineToLabel=function(e){var t=this.get("coord"),n=t.getRadius(),a=e.offset,r=e.orignAngle||e.angle,i=t.getCenter(),o=s(i,r,n+2.5),l=s(i,r,n+a/2);e.labelLine||(e.labelLine=this.get("label").labelLine||{}),e.labelLine.path=["M"+o.x,o.y+" Q"+l.x,l.y+" "+e.x,e.y].join(",")},l.getLabelRotate=function(e,t){var n;return t<0&&((n=180*e/Math.PI)>90&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},l.getLabelAlign=function(e){var t,n=this.get("coord").getCenter();return t=e.angle<=Math.PI/2&&e.x>=n.x?"left":"right",this.getDefaultOffset(e)<=0&&(t="right"===t?"left":"right"),t},l.getArcPoint=function(e){return e},l.getPointAngle=function(e){var t=this.get("coord"),n={x:a.isArray(e.x)?e.x[0]:e.x,y:e.y[0]};this.transLabelPoint(n);var r,o={x:a.isArray(e.x)?e.x[1]:e.x,y:e.y[1]};this.transLabelPoint(o);var s=i.getPointAngle(t,n);if(e.points&&e.points[0].y===e.points[1].y)r=s;else{var l=i.getPointAngle(t,o);s>=l&&(l+=2*Math.PI),r=s+(l-s)/2}return r},l.getCirclePoint=function(e,t){var n=this.get("coord"),a=n.getCenter(),r=n.getRadius()+t,i=s(a,e,r);return i.angle=e,i.r=r,i},r}(r);e.exports=l},function(e,t,n){var a=n(0),r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.setLabelPosition=function(e,t,n,r){a.isFunction(r)&&(r=r(e.text,t._origin,n));var i=this.get("coord"),o=i.isTransposed,s=i.convertPoint(t.points[0]),l=i.convertPoint(t.points[2]),c=(s.x-l.x)/2*(o?-1:1),u=(s.y-l.y)/2*(o?-1:1);switch(r){case"right":o?(e.x-=c,e.y+=u,e.textAlign=e.textAlign||"center"):(e.x-=c,e.y+=u,e.textAlign=e.textAlign||"left");break;case"left":o?(e.x-=c,e.y-=u,e.textAlign=e.textAlign||"center"):(e.x+=c,e.y+=u,e.textAlign=e.textAlign||"right");break;case"bottom":o?(e.x-=2*c,e.textAlign=e.textAlign||"left"):(e.y+=2*u,e.textAlign=e.textAlign||"center");break;case"middle":o?e.x-=c:e.y+=u,e.textAlign=e.textAlign||"center";break;case"top":e.textAlign=o?e.textAlign||"left":e.textAlign||"center"}},r}(n(66));e.exports=r},function(e,t,n){var a=n(0),r=n(7).defaultColor;function i(e){return e.alias||e.field}var o={_getIntervalSize:function(e){var t=null,n=this.get("type"),r=this.get("coord");if(r.isRect&&("interval"===n||"schema"===n)){t=this.getSize(e._origin);var i=r.isTransposed?"y":"x";a.isArray(e[i])&&(t=t<Math.abs(e[i][1]-e[i][0])?null:t)}return t},_snapEqual:function(e,t,n){return e=n.translate(e),t=n.translate(t),n.isCategory?e===t:a.snapEqual(e,t)},_getScaleValueByPoint:function(e){var t=0,n=this.get("coord"),a=this.getXScale(),r=n.invert(e).x;return this.isInCircle()&&r>(1+a.rangeMax())/2&&(r=a.rangeMin()),t=a.invert(r),a.isCategory&&(t=a.translate(t)),t},_getOriginByPoint:function(e){var t=this.getXScale(),n=this.getYScale(),a=t.field,r=n.field,i=this.get("coord").invert(e),o=t.invert(i.x),s=n.invert(i.y),l={};return l[a]=o,l[r]=s,l},_getScale:function(e){var t=this.get("scales"),n=null;return a.each(t,(function(t){if(t.field===e)return n=t,!1})),n},_getTipValueScale:function(){var e,t=this.getAttrsForLegend();a.each(t,(function(t){var n=t.getScale(t.type);if(n.isLinear)return e=n,!1}));var n=this.getXScale(),r=this.getYScale();return!e&&r&&"..y"===r.field?n:e||r||n},_getTipTitleScale:function(e){if(e)return this._getScale(e);var t,n=this.getAttr("position").getFields();return a.each(n,(function(e){if(!e.includes(".."))return t=e,!1})),this._getScale(t)},_filterValue:function(e,t){var n=this.get("coord"),r=this.getYScale(),i=r.field,o=n.invert(t).y;o=r.invert(o);var s=e[e.length-1];return a.each(e,(function(e){var t=e._origin;if(t[i][0]<=o&&t[i][1]>=o)return s=e,!1})),s},getXDistance:function(){var e=this.get("xDistance");if(!e){var t=this.getXScale();if(t.isCategory)e=1;else{var n=t.values,r=t.translate(n[0]),i=r;a.each(n,(function(e){(e=t.translate(e))<r&&(r=e),e>i&&(i=e)}));var o=n.length;e=(i-r)/(o-1)}this.set("xDistance",e)}return e},findPoint:function(e,t){var n=this,r=n.get("type"),i=n.getXScale(),o=n.getYScale(),s=i.field,l=o.field,c=null;if(a.indexOf(["heatmap","point"],r)>-1){var u=n.get("coord").invert(e),d=i.invert(u.x),p=o.invert(u.y),h=1/0;return a.each(t,(function(e){var t=Math.pow(e._origin[s]-d,2)+Math.pow(e._origin[l]-p,2);t<h&&(h=t,c=e)})),c}var f=t[0],m=t[t.length-1];if(!f)return c;var g=n._getScaleValueByPoint(e),v=f._origin[s],y=f._origin[l],_=m._origin[s],b=o.isLinear&&a.isArray(y);if(a.isArray(v))a.each(t,(function(e){var t=e._origin;if(i.translate(t[s][0])<=g&&i.translate(t[s][1])>=g){if(!b)return c=e,!1;a.isArray(c)||(c=[]),c.push(e)}})),a.isArray(c)&&(c=this._filterValue(c,e));else{var w;if(i.isLinear||"timeCat"===i.type){if((g>i.translate(_)||g<i.translate(v))&&(g>i.max||g<i.min))return null;for(var E,T=0,x=t.length-1;T<=x;){E=Math.floor((T+x)/2);var C=t[E]._origin[s];if(n._snapEqual(C,g,i))return t[E];i.translate(C)<=i.translate(g)?(T=E+1,m=t[E],w=t[E+1]):(0===x&&(m=t[0]),x=E-1)}}else a.each(t,(function(e,r){var o=e._origin;if(n._snapEqual(o[s],g,i)){if(!b)return c=e,!1;a.isArray(c)||(c=[]),c.push(e)}else i.translate(o[s])<=g&&(m=e,w=t[r+1])})),a.isArray(c)&&(c=this._filterValue(c,e));m&&w&&Math.abs(i.translate(m._origin[s])-g)>Math.abs(i.translate(w._origin[s])-g)&&(m=w)}var S=n.getXDistance();return!c&&Math.abs(i.translate(m._origin[s])-g)<=S/2&&(c=m),c},getTipTitle:function(e,t){var n="",a=this._getTipTitleScale(t);if(a){var r=e[a.field];n=a.getText(r)}else if("heatmap"===this.get("type")){var i=this.getXScale(),o=this.getYScale();n="( "+i.getText(e[i.field])+", "+o.getText(e[o.field])+" )"}return n},getTipValue:function(e,t){var n,r=t.field,i=e.key;if(n=e[r],a.isArray(n)){var o=[];a.each(n,(function(e){o.push(t.getText(e))})),n=o.join("-")}else n=t.getText(n,i);return n},getTipName:function(e){var t,n,r=this._getGroupScales();if(r.length&&a.each(r,(function(e){return n=e,!1})),n){var o=n.field;t=n.getText(e[o])}else t=i(this._getTipValueScale());return t},getTipItems:function(e,t){var n,o,s=this,l=e._origin,c=s.getTipTitle(l,t),u=s.get("tooltipCfg"),d=[];function p(t,n,i){if(!a.isNil(n)&&""!==n){var o={title:c,point:e,name:t||c,value:n,color:e.color||r,marker:!0};o.size=s._getIntervalSize(e),d.push(a.mix({},o,i))}}if(u){var h=u.fields,f=u.cfg,m=[];if(a.each(h,(function(e){m.push(l[e])})),f){a.isFunction(f)&&(f=f.apply(null,m));var g=a.mix({},{point:e,title:c,color:e.color||r,marker:!0},f);g.size=s._getIntervalSize(e),d.push(g)}else a.each(h,(function(e){if(!a.isNil(l[e])){var t=s._getScale(e);n=i(t),o=t.getText(l[e]),p(n,o)}}))}else{var v=s._getTipValueScale();a.isNil(l[v.field])||(o=s.getTipValue(l,v),p(n=s.getTipName(l),o))}return d},isShareTooltip:function(){var e,t=this.get("shareTooltip"),n=this.get("type"),r=this.get("view");if(e=r.get("parent")?r.get("parent").get("options"):r.get("options"),"interval"===n){var i=this.get("coord"),o=i.type;("theta"===o||"polar"===o&&i.isTransposed)&&(t=!1)}else this.getYScale()&&!a.inArray(["contour","point","polygon","edge"],n)||(t=!1);return e.tooltip&&a.isBoolean(e.tooltip.shared)&&(t=e.tooltip.shared),t}};e.exports=o},function(e,t,n){var a=n(0),r=n(164);function i(e,t){if(!e)return!0;if(e.length!==t.length)return!0;var n=!1;return a.each(t,(function(t,r){if(!function(e,t){if(a.isNil(e)||a.isNil(t))return!1;var n=e.get("origin"),r=t.get("origin");return a.isEqual(n,r)}(t,e[r]))return n=!0,!1})),n}function o(e,t){var n={};return a.each(e,(function(e,r){var i=t.attr(r);a.isArray(i)&&(i=a.cloneDeep(i)),n[r]=i})),n}var s={_isAllowActive:function(){var e=this.get("allowActive");if(!a.isNil(e))return e;var t=this.get("view"),n=this.isShareTooltip();return!1===t.get("options").tooltip||!n},_onMouseenter:function(e){var t=e.shape,n=this.get("shapeContainer");t&&n.contain(t)&&this._isAllowActive()&&this.setShapesActived(t)},_onMouseleave:function(){var e=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),e.draw())},_bindActiveAction:function(){var e=this.get("view"),t=this.get("type");e.on(t+":mouseenter",a.wrapBehavior(this,"_onMouseenter")),e.on(t+":mouseleave",a.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var e=this.get("view"),t=this.get("type");e.off(t+":mouseenter",a.getWrapBehavior(this,"_onMouseenter")),e.off(t+":mouseleave",a.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(e){var t=this.get("activedOptions")||{},n=e.get("origin"),i=n.shape||this.getDefaultValue("shape");a.isArray(i)&&(i=i[0]);var s=this.get("shapeFactory"),l=a.mix({},e.attr(),{origin:n}),c=s.getActiveCfg(i,l);t.style&&a.mix(c,t.style);var u=o(c,e);e.setSilent("_originActiveAttrs",u),t.animate?e.animate(c,300):e.attr(c),r.toFront(e)},setShapesActived:function(e){var t=this;a.isArray(e)||(e=[e]);var n=t.get("activeShapes");if(i(n,e)){var r=t.get("view").get("canvas"),o=t.get("activedOptions");o&&o.highlight?(a.each(e,(function(e){e.get("animating")&&e.stopAnimate()})),t.highlightShapes(e)):(n&&t.clearActivedShapes(),a.each(e,(function(e){e.get("animating")&&e.stopAnimate(),e.get("visible")&&t._setActiveShape(e)}))),t.set("activeShapes",e),r.draw()}},clearActivedShapes:function(){var e=this.get("shapeContainer"),t=this.get("activedOptions"),n=t&&t.animate;if(e&&!e.get("destroyed")){var i=this.get("activeShapes");if(a.each(i,(function(e){var t=e.get("_originActiveAttrs");n?(e.stopAnimate(),e.animate(t,300)):e.attr(t),r.resetZIndex(e),e.setSilent("_originActiveAttrs",null)})),this.get("preHighlightShapes")){var o=e.get("children");a.each(o,(function(e){var t=e.get("_originActiveAttrs");t&&(n?(e.stopAnimate(),e.animate(t,300)):e.attr(t),r.resetZIndex(e),e.setSilent("_originActiveAttrs",null))}))}this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(e){var t=this.get("shapeContainer"),n=[];if(t){var r=this.getXScale().field,i=this.getShapes(),o=this._getOriginByPoint(e);a.each(i,(function(e){var t=e.get("origin");e.get("visible")&&t&&t._origin[r]===o[r]&&n.push(e)}))}return n},getSingleShapeByPoint:function(e){var t,n=this.get("shapeContainer"),a=n.get("canvas").get("pixelRatio");if(n&&(t=n.getShape(e.x*a,e.y*a)),t&&t.get("origin"))return t},highlightShapes:function(e,t){a.isArray(e)||(e=[e]);var n=this.get("activeShapes");if(i(n,e)){n&&this.clearActivedShapes();var s=this.getShapes(),l=this.get("activedOptions"),c=l&&l.animate,u=l&&l.style;a.each(s,(function(n){var i={};n.stopAnimate(),-1!==a.indexOf(e,n)?(a.mix(i,u,t),r.toFront(n)):(a.mix(i,{fillOpacity:.3,opacity:.3}),r.resetZIndex(n));var s=o(i,n);n.setSilent("_originActiveAttrs",s),c?n.animate(i,300):n.attr(i)})),this.set("preHighlightShapes",e),this.set("activeShapes",e)}}};e.exports=s},function(e,t,n){var a=n(0),r=n(164);function i(e,t){if(a.isNil(e)||a.isNil(t))return!1;var n=e.get("origin"),r=t.get("origin");return a.isEqual(n,r)}var o={_isAllowSelect:function(){var e=this.get("allowSelect");if(!a.isNil(e))return e;var t=this.get("type"),n=this.get("coord"),r=n&&n.type;return"interval"===t&&"theta"===r},_onClick:function(e){if(this._isAllowSelect()){var t=e.shape,n=this.get("shapeContainer");t&&n.contain(t)&&this.setShapeSelected(t)}},_bindSelectedAction:function(){var e=this.get("view"),t=this.get("type");e.on(t+":click",a.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var e=this.get("view"),t=this.get("type");e.off(t+":click",a.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(e,t){var n=this.get("view"),i=this.get("selectedOptions")||{},o=!1!==i.animate,s=n.get("canvas");e.set("selected",t);var l=e.get("origin");if(t){var c=l.shape||this.getDefaultValue("shape");a.isArray(c)&&(c=c[0]);var u=this.get("shapeFactory"),d=a.mix({geom:this,point:l},i),p=u.getSelectedCfg(c,d);a.mix(p,d.style),e.get("_originAttrs")||(e.get("animating")&&e.stopAnimate(),e.set("_originAttrs",function(e,t){var n={};return a.each(e,(function(e,r){"transform"===r&&(r="matrix");var i=t.attr(r);a.isArray(i)&&(i=a.cloneDeep(i)),n[r]=i})),n}(p,e))),i.toFront&&r.toFront(e),o?e.animate(p,300):(e.attr(p),s.draw())}else{var h=e.get("_originAttrs");i.toFront&&r.resetZIndex(e),e.set("_originAttrs",null),o?e.animate(h,300):(e.attr(h),s.draw())}},setShapeSelected:function(e){var t=this._getSelectedShapes(),n=this.get("selectedOptions")||{},r=!1!==n.cancelable;if("multiple"===n.mode)-1===a.indexOf(t,e)?(t.push(e),this._setShapeStatus(e,!0)):r&&(a.Array.remove(t,e),this._setShapeStatus(e,!1));else{var o=t[0];r&&(e=i(o,e)?null:e),i(o,e)||(o&&this._setShapeStatus(o,!1),e&&this._setShapeStatus(e,!0))}},clearSelected:function(){var e=this,t=e.get("shapeContainer");if(t&&!t.get("destroyed")){var n=e._getSelectedShapes();a.each(n,(function(t){e._setShapeStatus(t,!1),t.set("_originAttrs",null)}))}},setSelected:function(e){var t=this,n=t.getShapes();return a.each(n,(function(n){var a=n.get("origin");a&&a._origin===e&&t.setShapeSelected(n)})),this},_getSelectedShapes:function(){var e=this.getShapes(),t=[];return a.each(e,(function(e){e.get("selected")&&t.push(e)})),this.set("selectedShapes",t),t}};e.exports=o},function(e,t,n){var a=n(0);e.exports=function(e){return a.isArray(e)?e:a.isString(e)?e.split("*"):[e]}},function(e,t,n){var a=n(74),r=n(0),i=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,o="linear",s="cat",l="time",c=function(){function e(e){this.defs={},this.viewTheme={scales:{}},this.filters={},r.assign(this,e)}var t=e.prototype;return t._getDef=function(e){var t=this.defs,n=this.viewTheme,a=null;return(n.scales[e]||t[e])&&(a=r.mix({},n.scales[e]),r.each(t[e],(function(e,t){r.isNil(e)?delete a[t]:a[t]=e})),this.filters[e]&&(delete a.min,delete a.max)),a},t._getDefaultType=function(e,t){var n=o,a=r.Array.firstValue(t,e);return r.isArray(a)&&(a=a[0]),i.test(a)?n=l:r.isString(a)&&(n=s),n},t._getScaleCfg=function(e,t,n){var i={field:t},o=r.Array.values(n,t);if(i.values=o,!a.isCategory(e)&&"time"!==e){var s=r.Array.getRange(o);i.min=s.min,i.max=s.max,i.nice=!0}return"time"===e&&(i.nice=!1),i},t.createScale=function(e,t){var n,i=this._getDef(e),o=t||[],s=r.Array.firstValue(o,e);if(r.isNumber(e)||r.isNil(s)&&!i)n=a.identity({value:e,field:e.toString(),values:[e]});else{var l;i&&(l=i.type),l=l||this._getDefaultType(e,o);var c=this._getScaleCfg(l,e,o);i&&r.mix(c,i),n=a[l](c)}return n},e}();e.exports=c},function(e,t,n){var a=n(0),r=n(345),i=function(){function e(e){this.type="rect",this.actions=[],this.cfg={},a.mix(this,e),this.option=e||{}}var t=e.prototype;return t.reset=function(e){return this.actions=e.actions||[],this.type=e.type,this.cfg=e.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},t._execActions=function(e){var t=this.actions;a.each(t,(function(t){var n=t[0];e[n](t[1],t[2])}))},t.hasAction=function(e){var t=this.actions,n=!1;return a.each(t,(function(t){if(e===t[0])return n=!0,!1})),n},t.createCoord=function(e,t){var n,i,o=this.type,s=this.cfg,l=a.mix({start:e,end:t},s);return"theta"===o?(n=r.Polar,this.hasAction("transpose")||this.transpose(),(i=new n(l)).type=o):i=new(n=r[a.upperFirst(o||"")]||r.Rect)(l),this._execActions(i),i},t.rotate=function(e){return e=e*Math.PI/180,this.actions.push(["rotate",e]),this},t.reflect=function(e){return this.actions.push(["reflect",e]),this},t.scale=function(e,t){return this.actions.push(["scale",e,t]),this},t.transpose=function(){return this.actions.push(["transpose"]),this},e}();e.exports=i},function(e,t,n){"use strict";var a=n(44);a.Cartesian=n(346),a.Rect=a.Cartesian,a.Polar=n(347),a.Helix=n(348),e.exports=a},function(e,t,n){"use strict";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(8),d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,c(t).call(this,e)))._init(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),o(t,[{key:"getDefaultCfg",value:function(){var e=l(c(t.prototype),"getDefaultCfg",this).call(this);return u({},e,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),o(t,[{key:"_init",value:function(){var e=this.start,t=this.end,n={start:e.x,end:t.x},a={start:e.y,end:t.y};this.x=n,this.y=a}},{key:"convertPoint",value:function(e){var t,n;return this.isTransposed?(t=e.y,n=e.x):(t=e.x,n=e.y),{x:this.convertDim(t,"x"),y:this.convertDim(n,"y")}}},{key:"invertPoint",value:function(e){var t=this.invertDim(e.x,"x"),n=this.invertDim(e.y,"y");return this.isTransposed?{x:n,y:t}:{x:t,y:n}}}]),t}(n(44));e.exports=d},function(e,t,n){"use strict";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(43),d=n(35),p=n(8),h=n(44),f=u.mat3,m=u.vec2,g=u.vec3,v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,c(t).call(this,e)))._init(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),o(t,[{key:"getDefaultCfg",value:function(){var e=l(c(t.prototype),"getDefaultCfg",this).call(this);return p({},e,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),o(t,[{key:"_init",value:function(){for(var e=this.radius,t=this.innerRadius,n=this.center,a=this.startAngle,r=this.endAngle;r<a;)r+=2*Math.PI;this.endAngle=r;var i,o,s=this.getOneBox(),l=s.maxX-s.minX,c=s.maxY-s.minY,u=Math.abs(s.minX)/l,d=Math.abs(s.minY)/c,p=this.width,h=this.height;h/c>p/l?(i=p/l,o={x:n.x-(.5-u)*p,y:n.y-(.5-d)*i*c}):(i=h/c,o={x:n.x-(.5-u)*i*l,y:n.y-(.5-d)*h}),e?e>0&&e<=1?e*=i:(e<=0||e>i)&&(e=i):e=i;var f={start:a,end:r},m={start:t*e,end:e};this.x=f,this.y=m,this.radius=e,this.circleCentre=o,this.center=o}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var e=this.startAngle,t=this.endAngle;if(Math.abs(t-e)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(e),Math.cos(t)],a=[0,Math.sin(e),Math.sin(t)],r=Math.min(e,t);r<Math.max(e,t);r+=Math.PI/18)n.push(Math.cos(r)),a.push(Math.sin(r));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(e){var t=this.getCenter(),n=this.isTransposed?e.y:e.x,a=this.isTransposed?e.x:e.y;return n=this.convertDim(n,"x"),a=this.convertDim(a,"y"),{x:t.x+Math.cos(n)*a,y:t.y+Math.sin(n)*a}}},{key:"invertPoint",value:function(e){var t=this.getCenter(),n=[e.x-t.x,e.y-t.y],a=this.x,r=[1,0,0,0,1,0,0,0,1];f.rotate(r,r,a.start);var i=[1,0,0];g.transformMat3(i,i,r),i=[i[0],i[1]];var o=m.angleTo(i,n,a.end<a.start);d(o,2*Math.PI)&&(o=0);var s=m.length(n),l=o/(a.end-a.start);l=a.end-a.start>0?l:-l;var c=this.invertDim(s,"y"),u={};return u.x=this.isTransposed?c:l,u.y=this.isTransposed?l:c,u}}]),t}(h);e.exports=v},function(e,t,n){"use strict";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(43),d=n(35),p=n(8),h=n(44),f=u.vec2,m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,c(t).call(this,e)))._init(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),o(t,[{key:"getDefaultCfg",value:function(){var e=l(c(t.prototype),"getDefaultCfg",this).call(this);return p({},e,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),o(t,[{key:"_init",value:function(){var e=this.width,t=this.height,n=this.radius,a=this.innerRadius,r=this.startAngle,i=this.endAngle,o=(i-r)/(2*Math.PI)+1,s=Math.min(e,t)/2;n&&n>=0&&n<=1&&(s*=n);var l=Math.floor(s*(1-a)/o),c=l/(2*Math.PI),u={start:r,end:i},d={start:a*s,end:a*s+.99*l};this.a=c,this.d=l,this.x=u,this.y=d}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(e){var t,n,a=this.a,r=this.center;this.isTransposed?(t=e.y,n=e.x):(t=e.x,n=e.y);var i=this.convertDim(t,"x"),o=a*i,s=this.convertDim(n,"y");return{x:r.x+Math.cos(i)*(o+s),y:r.y+Math.sin(i)*(o+s)}}},{key:"invertPoint",value:function(e){var t=this.center,n=this.a,a=this.d+this.y.start,r=f.subtract([],[e.x,e.y],[t.x,t.y]),i=f.angleTo(r,[1,0],!0),o=i*n;f.length(r)<o&&(o=f.length(r));var s=n*(i=2*Math.floor((f.length(r)-o)/a)*Math.PI+i),l=f.length(r)-s;l=d(l,0)?0:l;var c=this.invertDim(i,"x"),u=this.invertDim(l,"y");c=d(c,0)?0:c,u=d(u,0)?0:u;var p={};return p.x=this.isTransposed?u:c,p.y=this.isTransposed?c:u,p}}]),t}(h);e.exports=m},function(e,t,n){var a=n(0),r=n(22).Axis,i=a.MatrixUtil.vec2;function o(e,t){return void 0===t&&(t=0),"middle"===e&&(t=.5),e.includes("%")&&(t=parseInt(e,10)/100),t}var s=function(){function e(e){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],a.mix(this,e)}var t=e.prototype;return t._isHide=function(e){var t=this.options;return!(!t||!1!==t[e])},t._getMiddleValue=function(e,t,n,a){if(0===e&&!a)return 0;if(1===e)return 1;var r=t[n+1].value;return a||1!==r?(e+r)/2:1},t._getLineRange=function(e,t,n,a){var r,i,s,l=t.field,c=this.options,u="";if(c[l]&&c[l].position&&(u=c[l].position),"x"===n){var d="top"===u?1:0;r={x:0,y:d=o(u,d)},i={x:1,y:d},s=!1}else{if(a){var p="left"===u?0:1;r={x:p=o(u,p),y:0},i={x:p,y:1}}else{var h="right"===u?1:0;r={x:h=o(u,h),y:0},i={x:h,y:1}}s=!0}return{start:r=e.convert(r),end:i=e.convert(i),isVertical:s}},t._getLineCfg=function(e,t,n,a){var r=this._getLineRange(e,t,n,a),i=r.isVertical,o=r.start,s=r.end,l=e.center;return e.isTransposed&&(i=!i),{isVertical:i,factor:i&&o.x>l.x||!i&&o.y>l.y?1:-1,start:o,end:s}},t._getCircleCfg=function(e){var t,n={},a=e.x,r=e.y,o=r.start>r.end;t=e.isTransposed?{x:o?0:1,y:0}:{x:0,y:o?0:1},t=e.convert(t);var s,l=e.circleCentre,c=[t.x-l.x,t.y-l.y],u=[1,0],d=(s=t.y>l.y?i.angle(c,u):-1*i.angle(c,u))+(a.end-a.start);return n.startAngle=s,n.endAngle=d,n.center=l,n.radius=Math.sqrt(Math.pow(t.x-l.x,2)+Math.pow(t.y-l.y,2)),n.inner=e.innerRadius||0,n},t._getRadiusCfg=function(e){var t,n,a=e.x.start<0?-1:1;return e.isTransposed?(t={x:0,y:0},n={x:1,y:0}):(t={x:0,y:0},n={x:0,y:1}),{factor:a,start:e.convert(t),end:e.convert(n)}},t._getAxisPosition=function(e,t,n,a){var r="",i=this.options;if(i[a]&&i[a].position)r=i[a].position;else{var o=e.type;e.isRect?"x"===t?r="bottom":"y"===t&&(r=n?"right":"left"):r="helix"===o?"helix":"x"===t?e.isTransposed?"radius":"circle":e.isTransposed?"circle":"radius"}return r},t._getAxisDefaultCfg=function(e,t,n,r){var i=this.viewTheme,o={},s=this.options,l=t.field;if((o=a.deepMix({},i.axis[r],o,s[l])).viewTheme=i,o.title){var c=a.isPlainObject(o.title)?o.title:{};c.text=c.text||t.alias||l,a.deepMix(o,{title:c})}return o.ticks=t.getTicks(),e.isPolar&&!t.isCategory&&"x"===n&&Math.abs(e.endAngle-e.startAngle)===2*Math.PI&&o.ticks.pop(),o.coord=e,o.label&&a.isNil(o.label.autoRotate)&&(o.label.autoRotate=!0),s.hasOwnProperty("xField")&&s.xField.hasOwnProperty("grid")&&"left"===o.position&&a.deepMix(o,s.xField),o},t._getAxisCfg=function(e,t,n,r,i,o){void 0===i&&(i="");var s=this,l=s._getAxisPosition(e,r,i,t.field),c=s._getAxisDefaultCfg(e,t,r,l);if(!a.isEmpty(c.grid)&&n){var u=[],d=[],p=function(e){var t=[];if(e.length>0){var n=(t=e.slice(0))[0],a=t[t.length-1];0!==n.value&&t.unshift({value:0}),1!==a.value&&t.push({value:1})}return t}(n.getTicks());if(p.length){var h=function(e,t,n){var a=[];return e.length<1?a:(e.length>=2&&t&&n&&a.push({text:"",tickValue:"",value:0}),0!==e[0].value&&a.push({text:"",tickValue:"",value:0}),1!==(a=a.concat(e))[a.length-1].value&&a.push({text:"",tickValue:"",value:1}),a)}(c.ticks,t.isLinear,"center"===c.grid.align);a.each(h,(function(n,l){d.push(n.tickValue);var f=[],m=n.value;if("center"===c.grid.align&&(m=s._getMiddleValue(m,h,l,t.isLinear)),!a.isNil(m)){var g=e.x,v=e.y;a.each(p,(function(t){var n="x"===r?m:t.value,a="x"===r?t.value:m,i=e.convert({x:n,y:a});if(e.isPolar){var o=e.circleCentre;v.start>v.end&&(a=1-a),i.flag=g.start>g.end?0:1,i.radius=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2))}f.push(i)})),u.push({_id:o+"-"+r+i+"-grid-"+n.tickValue,points:f})}}))}c.grid.items=u,c.grid.tickValues=d}return c.type=t.type,c},t._getHelixCfg=function(e){for(var t={},n=e.a,a=e.startAngle,r=e.endAngle,i=[],o=0;o<=100;o++){var s=e.convert({x:o/100,y:0});i.push(s.x),i.push(s.y)}var l=e.convert({x:0,y:0});return t.a=n,t.startAngle=a,t.endAngle=r,t.crp=i,t.axisStart=l,t.center=e.center,t.inner=e.y.start,t},t._drawAxis=function(e,t,n,i,o,s,l){var c,u,d=this.container,p=this.canvas;"cartesian"===e.type?(c=r.Line,u=this._getLineCfg(e,t,i,l)):"helix"===e.type&&"x"===i?(c=r.Helix,u=this._getHelixCfg(e)):"x"===i?(c=r.Circle,u=this._getCircleCfg(e)):(c=r.Line,u=this._getRadiusCfg(e));var h=this._getAxisCfg(e,t,n,i,l,o);h=a.mix({},h,u),"y"===i&&s&&"circle"===s.get("type")&&(h.circle=s),h._id=o+"-"+i,a.isNil(l)||(h._id=o+"-"+i+l),a.mix(h,{canvas:p,group:d.addGroup({viewId:o})});var f=new c(h);return f.render(),this.axes.push(f),f},t.createAxis=function(e,t,n){var r,i=this,o=this.coord,s=o.type;"theta"===s||"polar"===s&&o.isTransposed||(e&&!i._isHide(e.field)&&(r=i._drawAxis(o,e,t[0],"x",n)),a.isEmpty(t)||"helix"===s||a.each(t,(function(t,a){i._isHide(t.field)||i._drawAxis(o,t,e,"y",n,r,a)})))},t.changeVisible=function(e){var t=this.axes;a.each(t,(function(t){t.set("visible",e)}))},t.clear=function(){var e=this.axes;a.each(e,(function(e){e.destroy()})),this.axes=[]},e}();e.exports=s},function(e,t,n){var a=n(0),r=n(351),i=function(){function e(e){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,a.mix(this,e)}var t=e.prototype;return t._creatGuides=function(){var e=this,t=this.options,n=this.xScales,i=this.yScales,o=this.view,s=this.viewTheme;return this.backContainer&&o&&(this.backGroup=this.backContainer.addGroup({viewId:o.get("_id")})),this.frontContainer&&o&&(this.frontGroup=this.frontContainer.addGroup({viewId:o.get("_id")})),t.forEach((function(t){var o=t.type,l=a.deepMix({xScales:n,yScales:i,viewTheme:s},s?s.guide[o]:{},t);o=a.upperFirst(o);var c=new r[o](l);e.guides.push(c)})),e.guides},t.line=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"line"},e)),this},t.arc=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"arc"},e)),this},t.text=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"text"},e)),this},t.image=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"image"},e)),this},t.region=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"region"},e)),this},t.regionFilter=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"regionFilter"},e)),this},t.dataMarker=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"dataMarker"},e)),this},t.dataRegion=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"dataRegion"},e)),this},t.html=function(e){return void 0===e&&(e={}),this.options.push(a.mix({type:"html"},e)),this},t.render=function(e){var t=this,n=t.view,r=n&&n.get("data"),i=t._creatGuides();a.each(i,(function(a){var i;i=a.get("top")?t.frontGroup||t.frontContainer:t.backGroup||t.backContainer,a.render(e,i,r,n)}))},t.clear=function(){this.options=[],this.reset()},t.changeVisible=function(e){var t=this.guides;a.each(t,(function(t){t.changeVisible(e)}))},t.reset=function(){var e=this.guides;a.each(e,(function(e){e.clear()})),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},e}();e.exports=i},function(e,t,n){var a=n(22).Guide,r=n(352);a.RegionFilter=r,e.exports=a},function(e,t,n){var a=n(0),r=n(15),i=n(20).Path,o=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},o.render=function(e,t,n,a){var r=this,i=t.addGroup();i.name="guide-region-filter",a.once("afterpaint",(function(){if(!i.get("destroyed")){r._drawShapes(a,i);var t=r._drawClip(e);i.attr({clip:t}),r.set("clip",t),r.get("appendInfo")&&i.setSilent("appendInfo",r.get("appendInfo")),r.set("el",i)}}))},o._drawShapes=function(e,t){var n=this,r=[];return e.getAllGeoms().map((function(e){var i=e.getShapes(),o=e.get("type");return n._geomFilter(o)&&i.map((function(e){var i=e.type,o=a.cloneDeep(e.attr());n._adjustDisplay(o);var s=t.addShape(i,{attrs:o});return r.push(s),e})),e})),r},o._drawClip=function(e){var t=this.parsePoint(e,this.get("start")),n=this.parsePoint(e,this.get("end")),a=[["M",t.x,t.y],["L",n.x,t.y],["L",n.x,n.y],["L",t.x,n.y],["z"]];return new i({attrs:{path:a,opacity:1}})},o._adjustDisplay=function(e){var t=this.get("color");e.fill&&(e.fill=e.fillStyle=t),e.stroke=e.strokeStyle=t},o._geomFilter=function(e){var t=this.get("apply");return!t||a.contains(t,e)},o.clear=function(){e.prototype.clear.call(this);var t=this.get("clip");t&&t.remove()},r}(r);e.exports=o},function(e,t,n){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=n(0),i=n(22).Legend,o=n(354),s=n(19),l=n(166),c=n(168),u=n(7),d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,p=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],h=function(){function e(e){this.options={},r.mix(this,e),this.clear();var t=this.chart;this.container=t.get("frontPlot"),this.plotRange=t.get("plotRange")}var t=e.prototype;return t.clear=function(){var e=this.legends;this.backRange=null,r.each(e,(function(e){r.each(e,(function(e){e.destroy()}))})),this.legends={}},t.getBackRange=function(){var e=this.backRange;if(!e){var t=this.chart.get("backPlot");e=l(t,c(this.chart.get("plotRange")));var n=this.plotRange;e.maxX-e.minX<n.br.x-n.tl.x&&e.maxY-e.minY<n.br.y-n.tl.y&&(e={minX:n.tl.x,minY:n.tl.y,maxX:n.br.x,maxY:n.br.y}),this.backRange=e}return e},t._isFieldInView=function(e,t,n){var a=!1,i=n.get("scales")[e];return i&&i.values&&(a=r.inArray(i.values,t)),a},t._bindClickEvent=function(e,t,n){var a=this,i=a.chart,o=i.get("views"),s=t.field,l=a.options;e.on("itemclick",(function(t){if(l.onClick&&!0!==l.defaultClickHandlerEnabled)l.onClick(t);else{var c=t.item,u=t.checked,d="single"===e.get("selectedMode"),p=c.dataValue;u?(r.Array.remove(n,p),a._isFieldInView(s,p,i)&&i.filter(s,(function(e){return d?e===p:!r.inArray(n,e)})),r.each(o,(function(e){a._isFieldInView(s,p,e)&&e.filter(s,(function(e){return d?e===p:!r.inArray(n,e)}))}))):d||(n.push(p),a._isFieldInView(s,p,i)&&i.filter(s,(function(e){return!r.inArray(n,e)})),r.each(o,(function(e){a._isFieldInView(s,p,e)&&e.filter(s,(function(e){return!r.inArray(n,e)}))}))),l.onClick&&l.onClick(t),i.set("keepLegend",!0),i.set("keepPadding",!0),i.repaint(),i.set("keepPadding",!1),i.set("keepLegend",!1)}}))},t._bindClickEventForMix=function(e){var t=this.chart.getAllGeoms();e.on("itemclick",(function(e){var n=e.item.field;e.checked?r.each(t,(function(e){e.getYScale().field===n&&e.show()})):r.each(t,(function(e){e.getYScale().field===n&&e.hide()}))}))},t._filterLabels=function(e,t,n){if(e.get("gLabel"))e.get("gLabel").set("visible",n);else{var a=t.get("labelCfg");if(a&&a.fields&&a.fields.length>0){var i=t.getXScale(),o=t.getYScale(),s=i.field,l=o.field,c=e.get("origin")._origin,u=t.get("labelContainer").get("labelsGroup").get("children");r.each(u,(function(t){var a=t.get("origin")||[];a[s]===c[s]&&a[l]===c[l]&&(t.set("visible",n),e.set("gLabel",t))}))}}},t._bindFilterEvent=function(e,t){var n=this,a=this.chart,i=t.field;e.on("itemfilter",(function(e){var t=e.range;a.filterShape((function(e,a,o){if(!r.isNil(e[i])){var s=e[i]>=t[0]&&e[i]<=t[1];return n._filterLabels(a,o,s),s}return!0}));for(var o=a.getAllGeoms()||[],s=function(e){var n=o[e];"heatmap"===n.get("type")&&d((function(){n.drawWithRange(t)}))},l=0;l<o.length;l++)s(l)}))},t._getShapeData=function(e){var t=e.get("origin");return r.isArray(t)&&(t=t[0]),t._origin},t._bindHoverEvent=function(e,t){var n=this,a=n.chart,i=a.getAllGeoms(),o=n.options,s=a.get("canvas");e.on("itemhover",(function(e){var a=e.item.value,l=n.pre;if(l){if(l===a)return}else r.each(i,(function(i){var l=i.get("shapeContainer"),c=i.getShapes(),u=[];if(t){var d=i.get("scales")[t];r.each(c,(function(e){var i=n._getShapeData(e);i&&function(e,t,n){return!r.isNil(n)&&(e=n.translate(e),t=n.translate(t),n.isCategory?e===t:Math.abs(e-t)<=1)}(i[t],a,d)&&u.push(e)}))}else i.getYScale().field===a&&(u=c);r.isEmpty(u)||(e.shapes=u,e.geom=i,o.onHover?(o.onHover(e),l.sort(),s.draw()):i.setShapesActived(u))})),n.pre=a})),e.on("itemunhover",(function(e){n.pre=null,o.onUnhover&&o.onUnhover(e),r.each(i,(function(e){e.get("activeShapes")&&(e.clearActivedShapes(),s.draw())}))}))},t._isFiltered=function(e,t,n){if(!e.isCategory)return!0;var a=!0;return n=e.invert(n),r.each(t,(function(t){if(e.getText(t)===e.getText(n))return a=!1,!1})),a},t._alignLegend=function(e,t,n,a){var r=this.viewTheme,i=this.container.get("canvas"),o=i.get("width"),s=i.get("height"),l=this.totalRegion,c=this.plotRange,u=this.getBackRange(),d=e.get("offset")[0]||0,p=e.get("offset")[1]||0,h=e.getHeight(),f=e.getWidth(),m=r.legend.margin,g=r.legend.legendMargin,v=this.legends[a].length,y=a.split("-"),_=0,b=0,w=v>1?l:n;if("left"===y[0]||"right"===y[0])s=c.br.y,_=this._getXAlign(y[0],o,n,u,f,m),b=t?(t.get("y")||t.get("group").get("y"))+t.getHeight()+g:this._getYAlignVertical(y[1],s,w,u,0,m,i.get("height"));else if("top"===y[0]||"bottom"===y[0])if(b=this._getYAlignHorizontal(y[0],s,n,u,h,m),t){var E=t.getWidth();_=(t.get("x")||t.get("group").get("x"))+E+g}else _=this._getXAlign(y[1],o,w,u,0,m),"right"===y[1]&&(_=c.br.x-w.totalWidth);e.move(_+d,b+p)},t._getXAlign=function(e,t,n,a,r,i){var o=a.minX-r-i[3]<0?0:a.minX-r-i[3],s="left"===e?o:a.maxX+i[1];return"center"===e&&(s=(t-n.totalWidth)/2),s},t._getYAlignHorizontal=function(e,t,n,a,r,i){return"top"===e?a.minY-r-i[0]:a.maxY+i[2]},t._getYAlignVertical=function(e,t,n,a,r,i,o){var s="top"===e?a.minY-r-i[0]:t-n.totalHeight;return"center"===e&&(s=(o-n.totalHeight)/2),s},t._getSubRegion=function(e){var t=0,n=0,a=0,i=0;return r.each(e,(function(e){var r=e.getWidth(),o=e.getHeight();t<r&&(t=r),a+=r,n<o&&(n=o),i+=o})),{maxWidth:t,totalWidth:a,maxHeight:n,totalHeight:i}},t._getRegion=function(){var e=this,t=e.viewTheme,n=e.legends,a=t.legend.legendMargin,i=[],o=0,s=0;return r.each(n,(function(t){var n=e._getSubRegion(t);i.push(n),o+=n.totalWidth+a,s+=n.totalHeight+a})),{totalWidth:o,totalHeight:s,subs:i}},t._addCategoryLegend=function(e,t,n,l,c){var d=this,p=e.field,h=d.options,f=h[p];f&&(h=f);var m=d.legends;m[c]=m[c]||[];var g=d.container,v=[],y=e.getTicks(),_=!0,b=n.get("shapeType")||"point",w=n.getDefaultValue("shape")||"circle";h[p]&&h[p].marker?(w=h[p].marker,b="point",_=!1):h.marker&&(w=h.marker,b="point",_=!1);var E=d.chart,T=d.viewTheme,x=E.get("canvas"),C=d.plotRange,S=c.split("-"),k="right"===S[0]||"left"===S[0]?C.bl.y-C.tr.y:x.get("width");r.each(y,(function(t){var a=t.text,i=t.value,o=e.invert(i),c={isInCircle:n.isInCircle()},p=!l||d._isFiltered(e,l,i),h=n.getAttr("color"),f=n.getAttr("shape");if(h)if(h.callback&&h.callback.length>1){var m=Array(h.callback.length-1).fill("");c.color=h.mapping.apply(h,[o].concat(m)).join("")||T.defaultColor}else c.color=h.mapping(o).join("")||T.defaultColor;if(_&&f)if(f.callback&&f.callback.length>1){var g=Array(f.callback.length-1).fill("");w=f.mapping.apply(f,[o].concat(g)).join("")}else w=f.mapping(o).join("");var y=s.getShapeFactory(b).getMarkerCfg(w,c);u.legendMarkerRadius&&(y.radius=u.legendMarkerRadius),r.isFunction(w)&&(y.symbol=w),v.push({value:a,dataValue:o,checked:p,marker:y})}));var O,M=r.deepMix({},T.legend[S[0]],h[p]||h,{viewId:E.get("_id"),maxLength:k,items:v,container:g,position:[0,0]});if(M.title&&r.deepMix(M,{title:{text:e.alias||e.field}}),d._isTailLegend(h,n))M.chart=d.chart,M.geom=n,O=new o(M);else if(h.useHtml){var L=g.get("canvas").get("el");if(g=h.container,r.isString(g)&&/^\#/.test(g)){var D=g.replace("#","");g=document.getElementById(D)}g||(g=L.parentNode),M.container=g,void 0===M.legendStyle&&(M.legendStyle={}),M.legendStyle.CONTAINER_CLASS=a({},M.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":""===L.style.zIndex?1:parseInt(L.style.zIndex,10)+1}),h.flipPage?(M.legendStyle.CONTAINER_CLASS.height="right"===S[0]||"left"===S[0]?k+"px":"auto",M.legendStyle.CONTAINER_CLASS.width="right"!==S[0]&&"left"!==S[0]?k+"px":"auto",O=new i.CatPageHtml(M)):O=new i.CatHtml(M)}else O=new i.Category(M);return d._bindClickEvent(O,e,l),m[c].push(O),O},t._bindChartMove=function(e){var t=this.chart,n=this.legends;t.on("plotmove",(function(t){var a=!1;if(t.target){var i=t.target.get("origin");if(i){var o=i._origin||i[0]._origin,s=e.field;if(o){var l=o[s];r.each(n,(function(e){r.each(e,(function(e){a=!0,!e.destroyed&&e.activate(l)}))}))}}}a||r.each(n,(function(e){r.each(e,(function(e){!e.destroyed&&e.deactivate()}))}))}))},t._addContinuousLegend=function(e,t,n){var a=this.legends;a[n]=a[n]||[];var o,s,l,c=this.container,u=e.field,d=e.getTicks(),p=[],h=this.viewTheme;r.each(d,(function(n){var a=n.value,r=e.invert(a),i=t.mapping(r).join("");p.push({value:n.tickValue,attrValue:i,color:i,scaleValue:a}),0===a&&(s=!0),1===a&&(l=!0)})),s||p.push({value:e.min,attrValue:t.mapping(0).join(""),color:t.mapping(0).join(""),scaleValue:0}),l||p.push({value:e.max,attrValue:t.mapping(1).join(""),color:t.mapping(1).join(""),scaleValue:1});var f=this.options,m=n.split("-"),g=h.legend[m[0]];(f&&!1===f.slidable||f[u]&&!1===f[u].slidable)&&(g=r.mix({},g,h.legend.gradient));var v=r.deepMix({},g,f[u]||f,{items:p,attr:t,formatter:e.formatter,container:c,position:[0,0]});if(v.title&&r.deepMix(v,{title:{text:e.alias||e.field}}),"color"===t.type)o=new i.Color(v);else{if("size"!==t.type)return;o=f&&"circle"===f.sizeType?new i.CircleSize(v):new i.Size(v)}return this._bindFilterEvent(o,e),a[n].push(o),o},t._isTailLegend=function(e,t){if(e.hasOwnProperty("attachLast")&&e.attachLast){var n=t.get("type");if("line"===n||"lineStack"===n||"area"===n||"areaStack"===n)return!0}return!1},t._adjustPosition=function(e,t){var n;if(t)n="right-top";else if(r.isArray(e))n=String(e[0])+"-"+String(e[1]);else{var a=e.split("-");1===a.length?("left"===a[0]&&(n="left-bottom"),"right"===a[0]&&(n="right-bottom"),"top"===a[0]&&(n="top-center"),"bottom"===a[0]&&(n="bottom-center")):n=e}return n},t.addLegend=function(e,t,n,a){var r=this.options,i=e.field,o=r[i],s=this.viewTheme;if(!1===o)return null;if(o&&o.custom)this.addCustomLegend(i);else{var l,c=r.position||s.defaultLegendPosition;c=this._adjustPosition(c,this._isTailLegend(r,n)),o&&o.position&&(c=this._adjustPosition(o.position,this._isTailLegend(o,n))),(l=e.isLinear?this._addContinuousLegend(e,t,c):this._addCategoryLegend(e,t,n,a,c))&&(this._bindHoverEvent(l,i),r.reactive&&this._bindChartMove(e))}},t.addCustomLegend=function(e){var t=this.chart,n=this.viewTheme,a=this.container,o=this.options;e&&(o=o[e]);var s=o.position||n.defaultLegendPosition;s=this._adjustPosition(s);var l=this.legends;l[s]=l[s]||[];var c=o.items;if(c){var d=t.getAllGeoms();r.each(c,(function(e){var t=function(e,t){var n;return r.each(e,(function(e){e.get("visible")&&e.getYScale().field===t&&(n=e)})),n}(d,e.value);r.isPlainObject(e.marker)?e.marker.radius=e.marker.radius||u.legendMarkerRadius||4.5:(e.marker={symbol:e.marker||"circle",radius:u.legendMarkerRadius||4.5},-1!==r.indexOf(p,e.marker.symbol)?e.marker.stroke=e.fill:e.marker.fill=e.fill);var n=e.marker.symbol;r.isString(n)&&-1!==n.indexOf("hollow")&&(e.marker.symbol=r.lowerFirst(n.substr(6))),e.checked=!!r.isNil(e.checked)||e.checked,e.geom=t}));var h,f=t.get("canvas"),m=this.plotRange,g=s.split("-"),v="right"===g[0]||"left"===g[0]?m.bl.y-m.tr.y:f.get("width"),y=r.deepMix({},n.legend[g[0]],o,{maxLength:v,items:c,container:a,position:[0,0]});if(o.useHtml){var _=o.container;if(/^\#/.test(a)){var b=_.replace("#","");_=document.getElementById(b)}else _||(_=a.get("canvas").get("el").parentNode);y.container=_,void 0===y.legendStyle&&(y.legendStyle={}),y.legendStyle.CONTAINER_CLASS||(y.legendStyle.CONTAINER_CLASS={height:"right"===g[0]||"left"===g[0]?v+"px":"auto",width:"right"!==g[0]&&"left"!==g[0]?v+"px":"auto",position:"absolute",overflow:"auto"}),h=o.flipPage?new i.CatPageHtml(y):new i.CatHtml(y)}else h=new i.Category(y);return l[s].push(h),h.on("itemclick",(function(e){o.onClick&&o.onClick(e)})),this._bindHoverEvent(h),h}},t.addMixedLegend=function(e,t){var n=[];r.each(e,(function(e){var a=e.alias||e.field;r.each(t,(function(t){if(t.getYScale()===e&&e.values&&e.values.length>0){var r=t.get("shapeType")||"point",i=t.getDefaultValue("shape")||"circle",o=s.getShapeFactory(r),l={color:t.getDefaultValue("color")},c=o.getMarkerCfg(i,l);u.legendMarkerRadius&&(c.radius=u.legendMarkerRadius);var d={value:a,marker:c,field:e.field};n.push(d)}}))}));var a={custom:!0,items:n};this.options=r.deepMix({},a,this.options);var i=this.addCustomLegend();this._bindClickEventForMix(i)},t.alignLegends=function(){var e=this,t=e.legends,n=e._getRegion(t);e.totalRegion=n;var a=0;return r.each(t,(function(t,i){var o=n.subs[a];r.each(t,(function(n,a){var r=t[a-1];n.get("useHtml")&&!n.get("autoPosition")||e._alignLegend(n,r,o,i)})),a++})),this},e}();e.exports=h},function(e,t,n){var a=n(0),r=n(22),i=n(7),o=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:"tail-legend",layout:"vertical",autoLayout:!0})},o._addItem=function(e){var t=this.get("itemsGroup"),n=this._getNextX(),r=this.get("unCheckColor"),i=t.addGroup({x:0,y:0,value:e.value,scaleValue:e.scaleValue,checked:e.checked});i.translate(n,0),i.set("viewId",t.get("viewId"));var o=this.get("textStyle"),s=this.get("_wordSpaceing"),l=0;if(e.marker){var c=a.mix({},e.marker,{x:e.marker.radius,y:0});e.checked||(c.fill&&(c.fill=r),c.stroke&&(c.stroke=r));var u=i.addShape("marker",{type:"marker",attrs:c});u.attr("cursor","pointer"),u.name="legend-marker",l+=u.getBBox().width+s}var d=a.mix({},o,{x:l,y:0,text:this._formatItemValue(e.value)});e.checked||a.mix(d,{fill:r});var p=i.addShape("text",{attrs:d});p.attr("cursor","pointer"),p.name="legend-text",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"));var h=i.getBBox(),f=this.get("itemWidth"),m=i.addShape("rect",{attrs:{x:n,y:0-h.height/2,fill:"#fff",fillOpacity:0,width:f||h.width,height:h.height}});return m.attr("cursor","pointer"),m.setSilent("origin",e),m.name="legend-item",this.get("appendInfo")&&m.setSilent("appendInfo",this.get("appendInfo")),i.name="legendGroup",i},o._adjust=function(){if(this.get("geom")){this.get("group").attr("matrix")[7]=0;var e=this.get("geom").get("dataArray"),t=this.get("itemsGroup").get("children"),n=0;a.each(t,(function(t){var r=e[n],i=r[r.length-1].y;a.isArray(i)&&(i=i[1]);var o=t.getBBox().height,s=t.get("x"),l=i-o/2;t.translate(s,l),n++})),this.get("autoLayout")&&this._antiCollision(t)}},o.render=function(){var t=this;e.prototype.render.call(this),this.get("chart").once("afterpaint",(function(){t._adjust()}))},o._getPreviousY=function(e){return e.attr("matrix")[7]+e.getBBox().height},o._adjustDenote=function(e,t,n){var a=2*-i.legend.legendMargin;e.addShape("path",{attrs:{path:"M-2,"+t+"L"+a+","+(n+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},o._antiCollision=function(e){if(void 0===e&&(e=[]),e.length){var t=this;e.sort((function(e,t){return e.attr("matrix")[7]-t.attr("matrix")[7]}));var n=!0,a=t.get("chart").get("plotRange"),r=a.tl.y,i=Math.abs(r-a.bl.y),o=e[0].getBBox().height,s=Number.MIN_VALUE,l=0,c=e.map((function(e){var t=e.attr("matrix")[7];return t>l&&(l=t),t<s&&(s=t),{size:e.getBBox().height,targets:[t-r]}}));s-=r;for(var u=0;n;){for(var d=0;d<c.length;d++){var p=c[d],h=(Math.min.apply(s,p.targets)+Math.max.apply(s,p.targets))/2;p.pos=Math.min(Math.max(s,h-p.size/2),i-p.size)}for(n=!1,u=c.length;u--;)if(u>0){var f=c[u-1],m=c[u];f.pos+f.size>m.pos&&(f.size+=m.size,f.targets=f.targets.concat(m.targets),c.splice(u,1),n=!0)}}u=0;var g=this.get("itemsGroup").addGroup();c.forEach((function(n){var a=r+o;n.targets.forEach((function(){var r=e[u].attr("matrix")[7],i=n.pos+a-o/2;Math.abs(r-i)>o/2&&t._adjustDenote(g,i,r-t.get("group").attr("matrix")[7]/2),e[u].translate(0,-r),e[u].translate(0,i),a+=o,u++}))}))}},r}(r.Legend.Category);e.exports=o},function(e,t,n){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=n(0),i=n(19),o=n(22).Tooltip,s=r.MatrixUtil.vec2,l=["line","area","path","areaStack"],c=["line","area"],u=["marker","showMarker"];function d(e,t){return!!e&&(!!e.className&&(r.isNil(e.className.baseVal)?e.className:e.className.baseVal).includes(t))}function p(e){var t=[];return r.each(e,(function(e){var n=function(e,t){var n=-1;return r.each(e,(function(e,a){var i=!0;for(var o in t)if(t.hasOwnProperty(o)&&!u.includes(o)&&!r.isObject(t[o])&&t[o]!==e[o]){i=!1;break}if(i)return n=a,!1})),n}(t,e);-1===n?t.push(e):t[n]=e})),t}var h=function(){function e(e){r.assign(this,e),this.timeStamp=0,this.locked=!1}var t=e.prototype;return t._normalizeEvent=function(e){var t=this.chart,n=this._getCanvas(),a=n.getPointByClient(e.clientX,e.clientY),r=n.get("pixelRatio");a.x=a.x/r,a.y=a.y/r;var i=t.getViewsByPoint(a);return a.views=i,a},t._getCanvas=function(){return this.chart.get("canvas")},t._getTriggerEvent=function(){var e,t=this.options.triggerOn;return t&&"mousemove"!==t?"click"===t?e="plotclick":"none"===t&&(e=null):e="plotmove",e},t._getDefaultTooltipCfg=function(){var e=this.chart,t=this.viewTheme,n=this.options,a=r.mix({},t.tooltip),i=e.getAllGeoms().filter((function(e){return e.get("visible")})),o=[];r.each(i,(function(e){var t=e.get("type"),n=e.get("adjusts"),a=!1;n&&r.each(n,(function(e){if("symmetric"===e.type||"Symmetric"===e.type)return a=!0,!1})),-1!==r.indexOf(o,t)||a||o.push(t)}));var s,l=!(!i.length||!i[0].get("coord"))&&i[0].get("coord").isTransposed;if(i.length&&i[0].get("coord")&&"cartesian"===i[0].get("coord").type)if("interval"===o[0]&&!1!==n.shared){var u=r.mix({},t.tooltipCrosshairsRect);u.isTransposed=l,s={zIndex:0,crosshairs:u}}else if(r.indexOf(c,o[0])>-1){var d=r.mix({},t.tooltipCrosshairsLine);d.isTransposed=l,s={crosshairs:d}}return r.mix(a,s,{})},t._bindEvent=function(){var e=this.chart,t=this._getTriggerEvent();t&&(e.on(t,r.wrapBehavior(this,"onMouseMove")),e.on("plotleave",r.wrapBehavior(this,"onMouseOut")))},t._offEvent=function(){var e=this.chart,t=this._getTriggerEvent();t&&(e.off(t,r.getWrapBehavior(this,"onMouseMove")),e.off("plotleave",r.getWrapBehavior(this,"onMouseOut")))},t._setTooltip=function(e,t,n,a){var i=this.tooltip,o=this.prePoint;if(!o||o.x!==e.x||o.y!==e.y){t=p(t),this.prePoint=e;var s=this.chart,l=this.viewTheme,c=r.isArray(e.x)?e.x[e.x.length-1]:e.x,u=r.isArray(e.y)?e.y[e.y.length-1]:e.y;i.get("visible")||s.emit("tooltip:show",{x:c,y:u,tooltip:i});var d=t[0],h=d.title||d.name;i.isContentChange(h,t)&&(s.emit("tooltip:change",{tooltip:i,x:c,y:u,items:t}),h=t[0].title||t[0].name,i.setContent(h,t),r.isEmpty(n)?(i.clearMarkers(),i.set("markerItems",[])):!0===this.options.hideMarkers?i.set("markerItems",n):i.setMarkers(n,l.tooltipMarker)),a===this._getCanvas()&&"mini"===i.get("type")?i.hide():(i.setPosition(c,u,a),i.show())}},t.hideTooltip=function(){var e=this.tooltip,t=this.chart,n=this._getCanvas();this.prePoint=null,e.hide(),t.emit("tooltip:hide",{tooltip:e}),n.draw()},t.onMouseMove=function(e){if(!r.isEmpty(e.views)&&!this.locked){var t=this.timeStamp,n=+new Date,a={x:e.x,y:e.y};n-t>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(a,e.views,e.shape),this.timeStamp=n)}},t.onMouseOut=function(e){var t=this.tooltip;t.get("visible")&&t.get("follow")&&!this.locked&&(e&&e.toElement&&(d(e.toElement,"g2-tooltip")||function(e,t){for(var n=e.parentNode,a=!1;n&&n!==document.body;){if(d(n,t)){a=!0;break}n=n.parentNode}return a}(e.toElement,"g2-tooltip"))||this.hideTooltip())},t.renderTooltip=function(){var e=this;if(!e.tooltip){var t,n=e.chart,a=e.viewTheme,i=e._getCanvas(),s=e._getDefaultTooltipCfg(),l=e.options;(l=r.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:i,frontPlot:n.get("frontPlot"),viewTheme:a.tooltip,backPlot:n.get("backPlot")},s,l)).crosshairs&&"rect"===l.crosshairs.type&&(l.zIndex=0),l.visible=!1,"mini"===l.type?(l.crosshairs=!1,l.position="top",t=new o.Mini(l)):t=l.useHtml?new o.Html(l):new o.Canvas(l),e.tooltip=t;var c=e._getTriggerEvent(),u=t.get("container");t.get("enterable")||"plotmove"!==c||u&&(u.onmousemove=function(t){var a=e._normalizeEvent(t);n.emit(c,a)}),u&&(u.onmouseleave=function(){e.locked||e.hideTooltip()}),e._bindEvent()}},t._formatMarkerOfItem=function(e,t,n){var a=this.options,i=n.point;if(i&&i.x&&i.y){var o=r.isArray(i.x)?i.x[i.x.length-1]:i.x,s=r.isArray(i.y)?i.y[i.y.length-1]:i.y;i=e.applyMatrix(o,s,1),n.x=i[0],n.y=i[1],n.showMarker=!0,"l("!==n.color.substring(0,2)||a.hasOwnProperty("useHtml")&&!a.useHtml||(n.color=n.color.split(" ")[1].substring(2));var c=this._getItemMarker(t,n);if(n.marker=c,-1!==r.indexOf(l,t.get("type")))return n}return null},t.lockTooltip=function(){this.locked=!0},t.unlockTooltip=function(){this.locked=!1},t.showTooltip=function(e,t,n){var a=this,i=this;if(!r.isEmpty(t)&&e){this.tooltip||this.renderTooltip();var o=i.options,l=[],c=[];if(r.each(t,(function(t){if(!t.get("tooltipEnable"))return!0;var n=t.get("geoms"),s=t.get("coord");r.each(n,(function(t){var n=t.get("type");if(t.get("visible")&&!1!==t.get("tooltipCfg")){var u=t.get("dataArray");if(t.isShareTooltip()||!1===o.shared&&r.inArray(["area","line","path","polygon"],n)){var d=t.getXScale(),p=t.getAttr("color"),h=p?p.field:void 0;if("interval"===n&&d.field===h&&t.hasAdjust("dodge")){var f=r.find(u,(function(n){return!!t.findPoint(e,n)}));r.each(f,(function(e){var n=t.getTipItems(e,o.title);r.each(n,(function(e){var n=i._formatMarkerOfItem(s,t,e);n&&l.push(n)})),c=c.concat(n)}))}else r.each(u,(function(n){var a=t.findPoint(e,n);if(a){var u=t.getTipItems(a,o.title);r.each(u,(function(e){var n=i._formatMarkerOfItem(s,t,e);n&&l.push(n)})),c=c.concat(u)}}))}else{var m=t.get("shapeContainer"),g=m.get("canvas").get("pixelRatio"),v=m.getShape(e.x*g,e.y*g);v&&v.get("visible")&&v.get("origin")&&(c=t.getTipItems(v.get("origin"),o.title)),r.each(c,(function(e){var n=a._formatMarkerOfItem(s,t,e);n&&l.push(n)}))}}})),r.each(c,(function(e){var t=e.point,n=r.isArray(t.x)?t.x[t.x.length-1]:t.x,a=r.isArray(t.y)?t.y[t.y.length-1]:t.y;t=s.applyMatrix(n,a,1),e.x=t[0],e.y=t[1]}))})),c.length){var u=c[0];if(!c.every((function(e){return e.title===u.title}))){var d=u,p=1/0;c.forEach((function(t){var n=s.distance([e.x,e.y],[t.x,t.y]);n<p&&(p=n,d=t)})),c=c.filter((function(e){return e.title===d.title})),l=l.filter((function(e){return e.title===d.title}))}if(!1===o.shared&&c.length>1){var h=c[0],f=Math.abs(e.y-h.y);r.each(c,(function(t){Math.abs(e.y-t.y)<=f&&(h=t,f=Math.abs(e.y-t.y))})),h&&h.x&&h.y&&(l=[h]),c=[h]}i._setTooltip(e,c,l,n)}else i.hideTooltip()}},t.clear=function(){var e=this.tooltip;e&&e.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},t._getItemMarker=function(e,t){var n=this.options.marker||this.viewTheme.tooltip.marker;if(r.isFunction(n)){var o=e.get("shapeType")||"point",s=e.getDefaultValue("shape")||"circle",l=i.getShapeFactory(o),c={color:t.color};return n(l.getMarkerCfg(s,c),t)}return a({fill:t.color},n)},e}();e.exports=h},function(e,t,n){var a=n(0);function r(e,t){if(a.isNil(e)||a.isNil(t))return!1;var n=e.get("origin"),r=t.get("origin");return a.isNil(n)&&a.isNil(r)?a.isEqual(e,t):a.isEqual(n,r)}function i(e){e.shape&&e.shape.get("origin")&&(e.data=e.shape.get("origin"))}var o=function(){function e(e){this.view=null,this.canvas=null,a.assign(this,e),this._init()}var t=e.prototype;return t._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},t._getShapeEventObj=function(e){return{x:e.x/this.pixelRatio,y:e.y/this.pixelRatio,target:e.target,toElement:e.event.toElement||e.event.relatedTarget}},t._getShape=function(e,t){return this.view.get("canvas").getShape(e,t)},t._getPointInfo=function(e){var t=this.view,n={x:e.x/this.pixelRatio,y:e.y/this.pixelRatio},a=t.getViewsByPoint(n);return n.views=a,n},t._getEventObj=function(e,t,n){return{x:t.x,y:t.y,target:e.target,toElement:e.event.toElement||e.event.relatedTarget,views:n}},t.bindEvents=function(){var e=this.canvas;e.on("mousedown",a.wrapBehavior(this,"onDown")),e.on("mousemove",a.wrapBehavior(this,"onMove")),e.on("mouseleave",a.wrapBehavior(this,"onOut")),e.on("mouseup",a.wrapBehavior(this,"onUp")),e.on("click",a.wrapBehavior(this,"onClick")),e.on("dblclick",a.wrapBehavior(this,"onClick")),e.on("touchstart",a.wrapBehavior(this,"onTouchstart")),e.on("touchmove",a.wrapBehavior(this,"onTouchmove")),e.on("touchend",a.wrapBehavior(this,"onTouchend"))},t._triggerShapeEvent=function(e,t,n){if(e&&e.name&&!e.get("destroyed")){var a=this.view;if(a.isShapeInView(e)){var r=e.name+":"+t;n.view=a,n.appendInfo=e.get("appendInfo"),a.emit(r,n);var i=a.get("parent");i&&i.emit(r,n)}}},t.onDown=function(e){var t=this.view,n=this._getShapeEventObj(e);n.shape=this.currentShape,i(n),t.emit("mousedown",n),this._triggerShapeEvent(this.currentShape,"mousedown",n)},t.onMove=function(e){var t=this.view,n=this.currentShape;n&&n.get("destroyed")&&(n=null,this.currentShape=null);var a=this._getShape(e.x,e.y)||e.currentTarget,o=this._getShapeEventObj(e);if(o.shape=a,i(o),t.emit("mousemove",o),this._triggerShapeEvent(a,"mousemove",o),n&&!r(n,a)){var s=this._getShapeEventObj(e);s.shape=n,s.toShape=a,i(s),this._triggerShapeEvent(n,"mouseleave",s)}if(a&&!r(n,a)){var l=this._getShapeEventObj(e);l.shape=a,l.fromShape=n,i(l),this._triggerShapeEvent(a,"mouseenter",l)}this.currentShape=a;var c=this._getPointInfo(e),u=this.curViews||[];0===u.length&&c.views.length&&t.emit("plotenter",this._getEventObj(e,c,c.views)),u.length&&0===c.views.length&&t.emit("plotleave",this._getEventObj(e,c,u)),c.views.length&&((o=this._getEventObj(e,c,c.views)).shape=a,i(o),t.emit("plotmove",o)),this.curViews=c.views},t.onOut=function(e){var t=this.view,n=this._getPointInfo(e),a=this.curViews||[],r=this._getEventObj(e,n,a);!this.curViews||0===this.curViews.length||r.toElement&&"CANVAS"===r.toElement.tagName||(t.emit("plotleave",r),this.curViews=[])},t.onUp=function(e){var t=this.view,n=this._getShapeEventObj(e);n.shape=this.currentShape,t.emit("mouseup",n),this._triggerShapeEvent(this.currentShape,"mouseup",n)},t.onClick=function(e){var t=this.view,n=this._getShape(e.x,e.y)||e.currentTarget,r=this._getShapeEventObj(e);r.shape=n,i(r),t.emit("click",r),this._triggerShapeEvent(n,e.type,r),this.currentShape=n;var o=this._getPointInfo(e),s=o.views;if(!a.isEmpty(s)){var l=this._getEventObj(e,o,s);if(this.currentShape){var c=this.currentShape;l.shape=c,i(l)}"dblclick"===e.type?(t.emit("plotdblclick",l),t.emit("dblclick",r)):t.emit("plotclick",l)}},t.onTouchstart=function(e){var t=this.view,n=this._getShape(e.x,e.y)||e.currentTarget,a=this._getShapeEventObj(e);a.shape=n,i(a),t.emit("touchstart",a),this._triggerShapeEvent(n,"touchstart",a),this.currentShape=n},t.onTouchmove=function(e){var t=this.view,n=this._getShape(e.x,e.y)||e.currentTarget,a=this._getShapeEventObj(e);a.shape=n,i(a),t.emit("touchmove",a),this._triggerShapeEvent(n,"touchmove",a),this.currentShape=n},t.onTouchend=function(e){var t=this.view,n=this._getShapeEventObj(e);n.shape=this.currentShape,i(n),t.emit("touchend",n),this._triggerShapeEvent(this.currentShape,"touchend",n)},t.clearEvents=function(){var e=this.canvas;e.off("mousemove",a.getWrapBehavior(this,"onMove")),e.off("mouseleave",a.getWrapBehavior(this,"onOut")),e.off("mousedown",a.getWrapBehavior(this,"onDown")),e.off("mouseup",a.getWrapBehavior(this,"onUp")),e.off("click",a.getWrapBehavior(this,"onClick")),e.off("dblclick",a.getWrapBehavior(this,"onClick")),e.off("touchstart",a.getWrapBehavior(this,"onTouchstart")),e.off("touchmove",a.getWrapBehavior(this,"onTouchmove")),e.off("touchend",a.getWrapBehavior(this,"onTouchend"))},e}();e.exports=o},function(e,t,n){var a=n(0),r=n(125),i=a.MatrixUtil.mat3;function o(e,t){var n=[];if(!1===e.get("animate"))return[];var r=e.get("children");return a.each(r,(function(e){if(e.isGroup)n=n.concat(o(e,t));else if(e.isShape&&e._id){var a=e._id;(a=a.split("-")[0])===t&&n.push(e)}})),n}function s(e,t,n,a){return a?r.Action[n][a]:r.getAnimation(e,t,n)}function l(e,t,n){var i=r.getAnimateCfg(e,t);return n&&n[t]?a.deepMix({},i,n[t]):i}function c(e,t,n,r){var o,c,u=!1;if(r){var d=[],p=[];a.each(t,(function(t){var n=e[t._id];n?(t.setSilent("cacheShape",n),d.push(t),delete e[t._id]):p.push(t)})),a.each(e,(function(e){var t=e.name,r=e.coord,d=e._id,p=e.attrs,h=e.index,f=e.type;if(c=l(t,"leave",e.animateCfg),o=s(t,r,"leave",c.animation),a.isFunction(o)){var m=n.addShape(f,{attrs:p,index:h});if(m._id=d,m.name=t,r&&"label"!==t){var g=m.getMatrix(),v=i.multiply([],g,r.matrix);m.setMatrix(v)}u=!0,o(m,c,r)}})),a.each(d,(function(e){var t=e.name,n=e.get("coord"),r=e.get("cacheShape").attrs;if(!a.isEqual(r,e.attr())){if(c=l(t,"update",e.get("animateCfg")),o=s(t,n,"update",c.animation),a.isFunction(o))o(e,c,n);else{var i=a.cloneDeep(e.attr());e.attr(r),e.animate(i,c.duration,c.easing,(function(){e.setSilent("cacheShape",null)}))}u=!0}})),a.each(p,(function(e){var t=e.name,n=e.get("coord");c=l(t,"enter",e.get("animateCfg")),o=s(t,n,"enter",c.animation),a.isFunction(o)&&(o(e,c,n),u=!0)}))}else a.each(t,(function(e){var t=e.name,n=e.get("coord");c=l(t,"appear",e.get("animateCfg")),o=s(t,n,"appear",c.animation),a.isFunction(o)&&(o(e,c,n),u=!0)}));return u}e.exports={execAnimation:function(e,t){var n=e.get("middlePlot"),r=e.get("backPlot"),i=e.get("_id"),s=e.get("canvas"),l=s.get(i+"caches")||[];0===l.length&&(t=!1);var u=o(n,i),d=o(r,i),p=u.concat(d);s.setSilent(i+"caches",function(e){var t={};return a.each(e,(function(e){if(e._id&&!e.isClip){var n=e._id;t[n]={_id:n,type:e.get("type"),attrs:a.cloneDeep(e.attr()),name:e.name,index:e.get("index"),animateCfg:e.get("animateCfg"),coord:e.get("coord")}}})),t}(p)),c(l,t?p:u,s,t)||s.draw()}}},function(e,t,n){var a=n(0),r=n(16).Group,i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},i._beforeRenderUI=function(){this._calculateRange()},i._renderUI=function(){this._renderBackground(),this._renderPlotBackground()},i._renderBackground=function(){var e=this.get("background");if(e){var t=this.get("canvas"),n={x:0,y:0,width:this.get("width")||t.get("width"),height:this.get("height")||t.get("height")},r=this.get("backgroundShape");r?r.attr(n):(r=this.addShape("rect",{attrs:a.mix(n,e)}),this.set("backgroundShape",r))}},i._renderPlotBackground=function(){var e=this.get("plotBackground");if(e){var t=this.get("plotRange"),n=t.br.x-t.bl.x,r=t.br.y-t.tr.y,i=t.tl,o={x:i.x,y:i.y,width:n,height:r},s=this.get("plotBackShape");s?s.attr(o):(e.image?(o.img=e.image,s=this.addShape("image",{attrs:o})):(a.mix(o,e),s=this.addShape("rect",{attrs:o})),this.set("plotBackShape",s))}},i._convert=function(e,t){if(a.isString(e))if("auto"===e)e=0;else if(e.includes("%")){var n=this.get("canvas"),r=this.get("width")||n.get("width"),i=this.get("height")||n.get("height");e=parseInt(e,10)/100,e=t?e*r:e*i}return e},i._calculateRange=function(){var e=this.get("plotRange");a.isNil(e)&&(e={});var t=this.get("padding"),n=this.get("canvas"),r=this.get("width")||n.get("width"),i=this.get("height")||n.get("height"),o=a.toAllPadding(t),s=this._convert(o[0],!1),l=this._convert(o[1],!0),c=this._convert(o[2],!1),u=this._convert(o[3],!0),d=Math.min(u,r-l),p=Math.max(u,r-l),h=Math.min(i-c,s),f=Math.max(i-c,s);e.tl={x:d,y:h},e.tr={x:p,y:h},e.bl={x:d,y:f},e.br={x:p,y:f},e.cc={x:(p+d)/2,y:(f+h)/2},this.set("plotRange",e)},i.repaint=function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this},r}(r);e.exports=i},function(e,t,n){var a=n(7),r=n(0),i={getDefaultSize:function(){var e=this.get("defaultSize"),t=this.get("viewTheme")||a;if(!e){var n,i=this.get("coord"),o=this.getXScale(),s=o.values,l=this.get("dataArray");if(o.isLinear&&s.length>1){s.sort();var c=function(e,t){var n=e.length;r.isString(e[0])&&(e=e.map((function(e){return t.translate(e)})));for(var a=e[1]-e[0],i=2;i<n;i++){var o=e[i]-e[i-1];a>o&&(a=o)}return a}(s,o);n=(o.max-o.min)/c,s.length>n&&(n=s.length)}else n=s.length;var u=o.range,d=1/n,p=1;if(this.isInCircle()?p=i.isTransposed&&n>1?t.widthRatio.multiplePie:t.widthRatio.rose:(o.isLinear&&(d*=u[1]-u[0]),p=t.widthRatio.column),d*=p,this.hasAdjust("dodge")){var h=this._getDodgeCfg(l),f=h.dodgeCount,m=h.dodgeRatio;d/=f,m>0&&(d=m*d/p)}e=d,this.set("defaultSize",e)}return e},_getDodgeCfg:function(e){var t,n,a=this.get("adjusts"),i=e.length;if(r.each(a,(function(e){"dodge"===e.type&&(t=e.dodgeBy,n=e.dodgeRatio)})),t){var o=r.Array.merge(e);i=r.Array.values(o,t).length}return{dodgeCount:i,dodgeRatio:n}},getDimWidth:function(e){var t=this.get("coord"),n=t.convertPoint({x:0,y:0}),a=t.convertPoint({x:"x"===e?1:0,y:"x"===e?0:1}),r=0;return n&&a&&(r=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))),r},_getWidth:function(){var e=this.get("coord");return this.isInCircle()&&!e.isTransposed?(e.endAngle-e.startAngle)*e.radius:this.getDimWidth("x")},_toNormalizedSize:function(e){return e/this._getWidth()},_toCoordSize:function(e){return this._getWidth()*e},getNormalizedSize:function(e){var t=this.getAttrValue("size",e);return t=r.isNil(t)?this.getDefaultSize():this._toNormalizedSize(t)},getSize:function(e){var t=this.getAttrValue("size",e);if(r.isNil(t)){var n=this.getDefaultSize();t=this._toCoordSize(n)}return t}};e.exports=i},function(e,t,n){var a=n(0),r=n(7);e.exports={splitData:function(e){var t=this.get("viewTheme")||r;if(!e.length)return[];var n,i=[],o=[],s=this.getYScale().field;return a.each(e,(function(e){n=e._origin?e._origin[s]:e[s],t.connectNulls?a.isNil(n)||o.push(e):a.isArray(n)&&a.isNil(n[0])||a.isNil(n)?o.length&&(i.push(o),o=[]):o.push(e)})),o.length&&i.push(o),i}}},function(e,t,n){var a=n(21),r=n(360),i=n(0),o=function(e){var t,n;n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;function o(t){var n;return n=e.call(this,t)||this,i.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),r),n}return a.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="path",t.shapeType="line",t},a.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.isStack=this.hasStack(),n},a.draw=function(e,t,n,a){var r=this,o=this.splitData(e),s=this.getDrawCfg(e[0]);r._applyViewThemeShapeStyle(s,s.shape,n),s.origin=e,i.each(o,(function(e,o){if(!i.isEmpty(e)){s.splitedIndex=o,s.points=e;var l=n.drawShape(s.shape,s,t);r.appendShapeInfo(l,a+o)}}))},o}(a);a.Path=o,e.exports=o},function(e,t,n){"use strict";var a=n(373),r=n(374);function i(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r.b&&t.documentElement.namespaceURI===r.b?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}t.a=function(e){var t=Object(a.a)(e);return(t.local?o:i)(t)}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,[(a=a.matrixTransform(e.getScreenCTM().inverse())).x,a.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}},function(e,t,n){"use strict";t.a=function(e,t){return t-=e=+e,function(n){return e+t*n}}},function(e,t,n){"use strict";t.b=function(e,t,n){var r=e._id;return e.each((function(){var e=Object(a.h)(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Object(a.f)(e,r).value[t]}};var a=n(46);function r(e,t){var n,r;return function(){var i=Object(a.h)(this,e),o=i.tween;if(o!==n)for(var s=0,l=(r=n=o).length;s<l;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function i(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Object(a.h)(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=l;break}c===u&&i.push(l)}o.tween=i}}t.a=function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,s=Object(a.f)(this.node(),n).tween,l=0,c=s.length;l<c;++l)if((o=s[l]).name===e)return o.value;return null}return this.each((null==t?r:i)(n,e,t))}},function(e,t,n){var a=n(7),r=n(0),i=r.assign,o=r.isNil,s=r.isArray,l=r.cloneDeep,c=r.wrapBehavior,u=r.getWrapBehavior,d=function(){var e=t.prototype;function t(e){var t=this.getDefaultCfg();i(this,t,e),this.init()}return e.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:a.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:a.fontFamily}}}},e.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},e.initContainer=function(){var e=this.chart.get("frontPlot").addGroup();this.group=e},e.initViews=function(){for(var e=this.chart,t=e.get("data"),n=this.eachView,a=this.generateFacets(t),r=0;r<a.length;r++){var i=a[r],o=i.region,s=e.view({start:o.start,end:o.end,padding:this.padding});s.source(i.data),this.beforeProcessView(s,i),n&&n(s,i),this.afterProcessView(s,i),i.view=s}this.facets=a},e.beforeProcessView=function(){},e.afterProcessView=function(e,t){this.autoSetAxis&&this.processAxis(e,t)},e.processAxis=function(e,t){var n=e.get("options"),a=e.get("geoms");if((!n.coord.type||"rect"===n.coord.type)&&a.length){var r=a[0].get("attrOptions").position.field,i=s(r)?r:r.split("*").map((function(e){return e.trim()})),l=i[0],c=i[1];o(n.axes)&&(n.axes={});var u=n.axes;!1!==u&&(l&&!1!==u[l]&&(u[l]=u[l]||{},this.setXAxis(l,u,t)),c&&!1!==u[c]&&(u[c]=u[c]||{},this.setYAxis(c,u,t)))}},e.setXAxis=function(){},e.setYAxis=function(){},e.renderTitle=function(e,t){this.drawColTitle(e,t)},e.getScaleText=function(e,t,n){var a;if(e){var r=n.get("scales")[e];r||(r=n.createScale(e)),a=r.getText(t)}else a=t;return a},e.drawColTitle=function(e,t){var n=this.getScaleText(t.colField,t.colValue,e),a=i({position:["50%","0%"],content:n},this.colTitle);e.guide().text(a)},e.drawRowTitle=function(e,t){var n=this.getScaleText(t.rowField,t.rowValue,e),a=i({position:["100%","50%"],content:n},l(this.rowTitle));e.guide().text(a)},e.getFilter=function(e){return function(t){var n=!0;return e.forEach((function(e){var a=e.field,r=e.value,i=!0;!o(r)&&a&&(i=t[a]===r),n=n&&i})),n}},e.getFieldValues=function(e,t){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r][e];o(i)||a[i]||(n.push(i),a[i]=!0)}return n},e.getRegion=function(e,t,n,a){var r=1/t,i=1/e,o={x:r*n,y:i*a};return{start:o,end:{x:o.x+r,y:o.y+i}}},e.generateFacets=function(){return[]},e._bindEvent=function(){var e=this.chart;e.on("afterchangedata",c(this,"onDataChange")),e.on("beforeclear",c(this,"onClear")),e.on("beforedestroy",c(this,"destroy")),e.on("beforepaint",c(this,"onPaint")),e.on("setdata",c(this,"onDataChange"))},e._clearEvent=function(){var e=this.chart;e&&(e.off("afterchangedata",u(this,"onDataChange")),e.off("beforeclear",u(this,"onClear")),e.off("beforedestroy",u(this,"destroy")),e.off("beforepaint",u(this,"onPaint")),e.off("setdata",u(this,"onDataChange")))},e._clearFacets=function(){var e=this.facets,t=this.chart;if(e)for(var n=0;n<e.length;n++){var a=e[n];t.removeView(a.view)}this.facets=null},e.onClear=function(){this.onRemove()},e.onPaint=function(){if(this.showTitle)for(var e=this.facets,t=0;t<e.length;t++){var n=e[t],a=n.view;this.renderTitle(a,n)}},e.onDataChange=function(){this._clearFacets(),this.initViews()},e.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},e.destroy=function(){this.onRemove(),this.destroyed=!0},t}();e.exports=d},function(e,t,n){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=n(21),i=n(0),o=n(359);n(368);var s=function(e){a(n,e);var t=n.prototype;function n(t){var n;return n=e.call(this,t)||this,i.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),o),n}return t.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t},t.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t);return n.size=this.getNormalizedSize(t),n},t.clearInner=function(){e.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(r),l=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},t}(s),c=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"dodge"}],t},t}(s),u=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"symmetric"}],t},t}(s);s.Stack=l,s.Dodge=c,s.Symmetric=u,r.Interval=s,r.IntervalStack=l,r.IntervalDodge=c,r.IntervalSymmetric=u,e.exports=s},function(e,t,n){var a=n(0),r=n(19),i=n(23),o=n(45),s=n(7),l=n(16),c=a.PathUtil;function u(e,t){var n,r,i=e.x,o=e.y,s=e.y0,l=e.size,c=s,u=o;a.isArray(o)&&(u=o[1],c=o[0]),a.isArray(i)?(n=i[0],r=i[1]):(n=i-l/2,r=i+l/2);var d=[];return d.push({x:n,y:c},{x:n,y:u}),t?d.push({x:r,y:(u+c)/2}):d.push({x:r,y:u},{x:r,y:c}),d}function d(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(a){var r=0===n?"M":"L";t.push([r,a.x,a.y])}}var i=e[0];return t.push(["L",i.x,i.y]),t.push(["z"]),t}function p(e){var t=s.shape.interval,n=a.mix({},t,e.style);return o.addFillAttrs(n,e),e.color&&(n.stroke=n.stroke||e.color),n}function h(e){var t=s.shape.hollowInterval,n=a.mix({},t,e.style);return o.addStrokeAttrs(n,e),n}function f(e,t){var n=[],r=e.points,i=e.nextPoints;return a.isNil(i)?t?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[2].x,r[2].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]),n}function m(e,t){var n,r=t.geom.get("coord"),o=t.point;if(r&&"theta"===r.type){var s=function(e,t){var n,r,o,s,l=t.getRadius(),c=l*t.innerRadius;return!a.isArray(e.x)&&a.isArray(e.y)&&(e.x=[e.x,e.x]),a.isArray(e.x)?(o={x:e.x[0],y:e.y[0]},s={x:e.x[1],y:e.y[1]},n=i.getPointAngle(t,o),(r=i.getPointAngle(t,s))<=n&&(r+=2*Math.PI)):(s=e,n=t.startAngle,r=i.getPointAngle(t,s)),{r:l,ir:c,startAngle:n,endAngle:r}}(o,r),l=(s.endAngle-s.startAngle)/2+s.startAngle;n={transform:[["t",7.5*Math.cos(l),7.5*Math.sin(l)]]}}return a.mix({},n)}var g=r.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(e,t){return!e||a.inArray(["rect","funnel","pyramid"],e)?{fillOpacity:(t.fillOpacity||t.opacity||1)-.15}:{lineWidth:(t.lineWidth||0)+1}},getDefaultPoints:function(e){return u(e)},getSelectedCfg:function(e,t){return m(0,t)}});function v(e,t,n,a){return 0===t?[[e+.5*n/Math.PI/2,a/2],[e+.5*n/Math.PI,a],[e+n/4,a]]:1===t?[[e+.5*n/Math.PI/2*(Math.PI-2),a],[e+.5*n/Math.PI/2*(Math.PI-1),a/2],[e+n/4,0]]:2===t?[[e+.5*n/Math.PI/2,-a/2],[e+.5*n/Math.PI,-a],[e+n/4,-a]]:[[e+.5*n/Math.PI/2*(Math.PI-2),-a],[e+.5*n/Math.PI/2*(Math.PI-1),-a/2],[e+n/4,0]]}function y(e,t,n,a,r,i,o){for(var s=2*Math.ceil(2*e/n*4),l=[];a<2*-Math.PI;)a+=2*Math.PI;for(;a>0;)a-=2*Math.PI;var c=i-e+(a=a/Math.PI/2*n)-2*e;l.push(["M",c,t]);for(var u=0,d=0;d<s;++d){var p=v(d*n/4,d%4,n,r);l.push(["C",p[0][0]+c,-p[0][1]+t,p[1][0]+c,-p[1][1]+t,p[2][0]+c,-p[2][1]+t]),d===s-1&&(u=p[2][0])}return l.push(["L",u+c,o+e]),l.push(["L",c,o+e]),l.push(["L",c,t]),l}function _(e,t,n,a,r,i,o,l){for(var c=o.getBBox(),u=c.maxX-c.minX,d=c.maxY-c.minY,p=0;p<a;p++){var h=i.addShape("path",{attrs:{path:y(l,c.minY+d*n,u/4,0,u/64,e,t),fill:r[p],clip:o}});"canvas"===s.renderer&&h.animate({transform:[["t",u/2,0]],repeat:!0},5e3-300*p)}}r.registerShape("interval","rect",{draw:function(e,t){var n=p(e),r=d(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=p(e),n=e.isInCircle;return a.mix({symbol:n?"circle":"square",radius:n?4.5:4},t)}}),r.registerShape("interval","hollowRect",{draw:function(e,t){var n=h(e),r=d(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=h(e),n=e.isInCircle;return a.mix({symbol:n?"circle":"square",radius:n?4.5:4},t)}}),r.registerShape("interval","line",{getPoints:function(e){return function(e){var t=e.x,n=e.y,r=e.y0,i=[];return a.isArray(n)?a.each(n,(function(e,n){i.push({x:a.isArray(t)?t[n]:t,y:e})})):i.push({x:t,y:n},{x:t,y:r}),i}(e)},draw:function(e,t){var n=h(e);n.lineWidth=e.size||1;var r=d(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=h(e);return a.mix({symbol:"line",radius:5},t)}}),r.registerShape("interval","tick",{getPoints:function(e){return function(e){var t=e.x,n=a.isArray(e.y)?e.y[1]:e.y,r=a.isArray(e.y)?e.y[0]:e.y0,i=e.size,o=[];return o.push({x:t-i/2,y:n},{x:t+i/2,y:n},{x:t,y:n},{x:t,y:r},{x:t-i/2,y:r},{x:t+i/2,y:r}),o}(e)},draw:function(e,t){var n=h(e);n.lineWidth||(n.lineWidth=2);var r=function(e){var t=[];return t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]),t}(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=h(e);return a.mix({symbol:"tick",radius:5},t)}}),r.registerShape("interval","funnel",{getPoints:function(e){return e.size=2*e.size,u(e)},draw:function(e,t){var n=p(e),r=f(e,!0);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=p(e);return a.mix({symbol:"square",radius:4},t)}}),r.registerShape("interval","pyramid",{getPoints:function(e){return e.size=2*e.size,u(e,!0)},draw:function(e,t){var n=p(e),r=f(e,!1);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=p(e);return a.mix({symbol:"square",radius:4},t)}}),r.registerShape("interval","liquid-fill-gauge",{draw:function(e,t){var n=0,r=1/0;a.each(e.points,(function(e){e.x<r&&(r=e.x),n+=e.x}));var i=n/e.points.length,o=this.parsePoint({x:i,y:.5}),s=this.parsePoint({x:r,y:.5}),c=o.x-s.x,u=Math.min(c,s.y),d=p(e),f=new l.Circle({attrs:{x:o.x,y:o.y,r:u}});return _(o.x,o.y,e.y/(2*o.y),1,[d.fill],t,f,4*u),t.addShape("circle",{attrs:a.mix(h(e),{x:o.x,y:o.y,r:u+u/8})})}});var b={};r.registerShape("interval","liquid-fill-path",{draw:function(e,t){var n=a.mix({},p(e)),r=e.shape[1],i=0,o=1/0;a.each(e.points,(function(e){e.x<o&&(o=e.x),i+=e.x}));var s,l=i/e.points.length,u=this.parsePoint({x:l,y:.5}),d=this.parsePoint({x:o,y:.5}),f=u.x-d.x,m=Math.min(f,d.y);if(b[r])s=b[r];else{var g=c.parsePathString(r);b[r]=s={segments:g}}var v=[];n.rotate&&(v.push(["r",n.rotate/180*Math.PI]),delete n.rotate);var y=t.addShape("path",{attrs:a.mix(n,{fillOpacity:0,path:s.segments})}),w=a.cloneDeep(y.getBBox()),E=w.maxX-w.minX,T=w.maxY-w.minY,x=2*m/Math.max(E,T);y.transform(v.concat([["s",x,x]]));var C=x*E/2,S=x*T/2;y.transform([["t",u.x-C,u.y-S]]),_(u.x,u.y,e.y/(2*u.y),1,[n.fill],t,y,4*d.y);var k=t.addShape("path",{attrs:a.mix(h(e),{path:s.segments})});return k.transform(v.concat([["s",x,x],["t",u.x-C,u.y-S]])),k}}),r.registerShape("interval","top-line",{draw:function(e,t){var n=p(e),r=e.style||{},i=[["M",e.points[1].x,e.points[1].y],["L",e.points[2].x,e.points[2].y]],o={stroke:r.stroke||"white",lineWidth:r.lineWidth||1,path:this.parsePath(i)},s=d(e.points);s=this.parsePath(s),delete n.stroke;var l=t.addShape("path",{attrs:a.mix(n,{zIndex:0,path:s})});return t.addShape("path",{zIndex:1,attrs:o}),l},getMarkerCfg:function(e){var t=p(e),n=e.isInCircle;return a.mix({symbol:n?"circle":"square",radius:n?4.5:4},t)}}),e.exports=g},function(e,t,n){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=n(21),i=n(361);n(370);var o=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="line",t.sortable=!0,t},t}(i),s=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},t}(o);o.Stack=s,r.Line=o,r.LineStack=s,e.exports=o},function(e,t,n){var a=n(0),r=n(23),i=n(45),o=n(19),s=n(7),l=[1,1],c=[5.5,1];function u(e){var t=s.shape.line,n=a.mix({},t,e.style);return i.addStrokeAttrs(n,e),e.size&&(n.lineWidth=e.size),n}function d(e){var t=s.shape.line,n=a.mix({lineWidth:2,radius:6},t,e.style);return i.addStrokeAttrs(n,e),n}function p(e,t,n,a){var i;if(t){var o=a.constraint;n&&e.length&&e.push({x:e[0].x,y:e[0].y}),i=r.getSplinePath(e,!1,o)}else i=r.getLinePath(e,!1),n&&i.push(["Z"]);return i}function h(e,t){var n=e.points,r=e.isInCircle,o=n[0];return a.isArray(o.y)?function(e,t,n,a){for(var r=[],o=a.isStack,s=[],l=0;l<e.length;l++){var c=e[l],u=i.splitPoints(c);s.push(u[0]),r.push(u[1])}var d=p(r,t,n,a),h=p(s,t,n,a);return o?d:d.concat(h)}(n,t,r,e):p(n,t,r,e)}function f(e,t){return function(e){var t=[];return a.each(e,(function(e,n){var a=0===n?["M",e.x,e.y]:["L",e.x,e.y];t.push(a)})),t}(function(e,t){var n=[];return a.each(e,(function(a,r){var i=e[r+1];n.push(a),i&&(n=n.concat(t(a,i)))})),n}(e.points,t))}function m(e,t,n){return[["M",e-n,t],["L",e+n,t]]}function g(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]}function v(e,t){return a.mix({symbol:t?g:m},d(e))}function y(e,t){return a.mix({symbol:t},d(e))}var _=o.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(e,t){return{lineWidth:(t.lineWidth||0)+1}},getDefaultPoints:function(e){return i.splitPoints(e)},drawShape:function(e,t,n){var r,i=this.getShape(e);return(r=1===t.points.length&&s.showSinglePoint?function(e,t,n){var r=t.points[0];return n.addShape("circle",{attrs:a.mix({x:r.x,y:r.y,r:2,fill:t.color},t.style)})}(0,t,n):i.draw(t,n))&&(r.set("origin",t.origin),r._id=t.splitedIndex?t._id+t.splitedIndex:t._id,r.name=this.name),r}});o.registerShape("line","line",{draw:function(e,t){var n=u(e),r=h(e,!1);return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return v(e)}}),o.registerShape("line","dot",{draw:function(e,t){var n=u(e),r=h(e,!1);return t.addShape("path",{attrs:a.mix(n,{path:r,lineDash:l})})},getMarkerCfg:function(e){var t=v(e,!1);return t.lineDash=l,t}}),o.registerShape("line","dash",{draw:function(e,t){var n=u(e),r=h(e,!1);return t.addShape("path",{attrs:a.mix({path:r,lineDash:c},n)})},getMarkerCfg:function(e){var t=v(e,!1);return t.lineDash=t.lineDash||c,t}}),o.registerShape("line","smooth",{draw:function(e,t){var n=u(e),r=this._coord;e.constraint=[[r.start.x,r.end.y],[r.end.x,r.start.y]];var i=h(e,!0);return t.addShape("path",{attrs:a.mix(n,{path:i})})},getMarkerCfg:function(e){return v(e,!0)}}),o.registerShape("line","hv",{draw:function(e,t){var n=u(e),r=f(e,(function(e,t){var n=[];return n.push({x:t.x,y:e.y}),n}));return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return y(e,(function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]}))}}),o.registerShape("line","vh",{draw:function(e,t){var n=u(e),r=f(e,(function(e,t){var n=[];return n.push({x:e.x,y:t.y}),n}));return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return y(e,(function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]}))}}),o.registerShape("line","hvh",{draw:function(e,t){var n=u(e),r=f(e,(function(e,t){var n=[],a=(t.x-e.x)/2+e.x;return n.push({x:a,y:e.y}),n.push({x:a,y:t.y}),n}));return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return y(e,(function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]}))}}),o.registerShape("line","vhv",{draw:function(e,t){var n=u(e),r=f(e,(function(e,t){var n=[],a=(t.y-e.y)/2+e.y;return n.push({x:e.x,y:a}),n.push({x:t.x,y:a}),n}));return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return y(e,(function(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]}))}}),_.spline=_.smooth,e.exports=_},function(e,t,n){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=n(21),i=n(0);n(372);var o=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="point",t.shapeType="point",t.generatePoints=!0,t},n.drawPoint=function(e,t,n,a){var r,o=this,s=e.shape,l=o.getDrawCfg(e);if(o._applyViewThemeShapeStyle(l,s,n),i.isArray(e.y)){var c=o.hasStack();i.each(e.y,(function(e,i){l.y=e,l.yIndex=i,c&&0===i||(r=n.drawShape(s,l,t),o.appendShapeInfo(r,a+i))}))}else i.isNil(e.y)||(r=n.drawShape(s,l,t),o.appendShapeInfo(r,a))},t}(r),s=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"jitter"}],t},t}(o),l=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},t}(o);o.Jitter=s,o.Stack=l,r.Point=o,r.PointJitter=s,r.PointStack=l,e.exports=o},function(e,t,n){var a=n(0),r=n(45),i=n(7),o=n(19),s=n(16).Marker,l=a.PathUtil,c=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],u=Math.sqrt(3);function d(e){var t=i.shape.point,n=a.mix({},t,e.style);return r.addFillAttrs(n,e),a.isNumber(e.size)&&(n.radius=e.size),n}function p(e){var t=i.shape.hollowPoint,n=a.mix({},t,e.style);return r.addStrokeAttrs(n,e),a.isNumber(e.size)&&(n.radius=e.size),n}a.mix(s.Symbols,{hexagon:function(e,t,n){var a=n/2*u;return[["M",e,t-n],["L",e+a,t-n/2],["L",e+a,t+n/2],["L",e,t+n],["L",e-a,t+n/2],["L",e-a,t-n/2],["Z"]]},bowtie:function(e,t,n){var a=n-1.5;return[["M",e-n,t-a],["L",e+n,t+a],["L",e+n,t-a],["L",e-n,t+a],["Z"]]},cross:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]},tick:function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]},plus:function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]},hyphen:function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},line:function(e,t,n){return[["M",e,t-n],["L",e,t+n]]}});var h=o.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(e,t){var n,r=t.radius;return{radius:r+1,shadowBlur:r,shadowColor:n=e&&(0===e.indexOf("hollow")||-1!==a.indexOf(c,e))||!e?t.stroke||t.strokeStyle:t.fill||t.fillStyle,stroke:n,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(e){return r.splitPoints(e)}});o.registerShape("point","rect",{draw:function(e,t){var n=d(e),r=function(e){var t=e.points[0].x,n=e.points[0].y,a=e.size[0],r=e.size[1];return[["M",t-.5*a,n-.5*r],["L",t+.5*a,n-.5*r],["L",t+.5*a,n+.5*r],["L",t-.5*a,n+.5*r],["z"]]}(e);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){var t=d(e);return t.symbol="rect",t.radius=4.5,t}}),a.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],(function(e){o.registerShape("point",e,{draw:function(t,n){var r=d(t);return n.addShape("Marker",{attrs:a.mix(r,{symbol:e,x:t.x,y:t.y})})},getMarkerCfg:function(t){var n=d(t);return n.symbol=e,n.radius=4.5,n}}),o.registerShape("point","hollow"+a.upperFirst(e),{draw:function(t,n){var r=p(t);return n.addShape("Marker",{attrs:a.mix(r,{symbol:e,x:t.x,y:t.y})})},getMarkerCfg:function(t){var n=p(t);return n.symbol=e,n.radius=4.5,n}})})),a.each(c,(function(e){o.registerShape("point",e,{draw:function(t,n){var r=p(t);return n.addShape("Marker",{attrs:a.mix(r,{symbol:e,x:t.x,y:t.y})})},getMarkerCfg:function(t){var n=p(t);return n.symbol=e,n.radius=4.5,n}})})),o.registerShape("point","image",{draw:function(e,t){return e.points=this.parsePoints(e.points),t.addShape("image",{attrs:{x:e.points[0].x-e.size/2,y:e.points[0].y-e.size,width:e.size,height:e.size,img:e.shape[1]}})}});var f={};o.registerShape("point","path",{draw:function(e,t){var n,r=a.mix({},p(e),d(e)),i=e.shape[1],o=e.size||10;if(f[i])n=f[i];else{var s=l.parsePathString(i),c=a.flatten(s).filter((function(e){return a.isNumber(e)}));f[i]=n={range:Math.max.apply(null,c)-Math.min.apply(null,c),segments:s}}var u=o/n.range,h=[];r.rotate&&(h.push(["r",r.rotate/180*Math.PI]),delete r.rotate);var m=t.addShape("path",{attrs:a.mix(r,{path:n.segments})});return h.push(["s",u,u],["t",e.x,e.y]),m.transform(h),m}}),e.exports=h},function(e,t,n){"use strict";var a=n(374);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),a.a.hasOwnProperty(t)?{space:a.a[t],local:e}:e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var a="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function a(){}t.a=function(e){return null==e?a:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),t.a=function(e,t,n,a){var i=r;e.sourceEvent=r,r=e;try{return t.apply(n,a)}finally{r=i}};var a={},r=null;function i(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function o(e,t,n){return function(a){var i=r;r=a;try{e.call(this,this.__data__,t,n)}finally{r=i}}}function s(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function l(e){return function(){var t=this.__on;if(t){for(var n,a=0,r=-1,i=t.length;a<i;++a)n=t[a],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function c(e,t,n){var r=a.hasOwnProperty(e.type)?i:o;return function(a,i,o){var s,l=this.__on,c=r(t,i,o);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(a={mouseenter:"mouseover",mouseleave:"mouseout"})),t.b=function(e,t,n){var a,r,i=s(e+""),o=i.length;if(!(arguments.length<2)){for(u=t?c:l,null==n&&(n=!1),a=0;a<o;++a)this.each(u(i[a],t,n));return this}var u=this.node().__on;if(u)for(var d,p=0,h=u.length;p<h;++p)for(a=0,d=u[p];a<o;++a)if((r=i[a]).type===d.type&&r.name===d.name)return d.value}},function(e,t,n){"use strict";var a=n(377);t.a=function(){for(var e,t=a.c;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";n(380),n(395),n(381),n(393),n(396),n(456),n(457);var a=n(364);n.d(t,"a",(function(){return a.a})),n(397),n(458);var r=n(398);n.d(t,"c",(function(){return r.a}));var i=n(459);n.d(t,"d",(function(){return i.a})),n.d(t,"e",(function(){return i.b})),n(462);var o=n(392);n.d(t,"b",(function(){return o.a})),n(463),n(464),n(465),n(466),n(467),n(468)},function(e,t,n){"use strict";var a=n(17),r=n(392),i=n(395),o=n(396),s=n(364),l=n(397),c=n(398),u=n(394);t.a=function(e,t){var n,d=typeof t;return null==t||"boolean"===d?Object(u.a)(t):("number"===d?s.a:"string"===d?(n=Object(a.a)(t))?(t=n,r.a):c.a:t instanceof a.a?r.a:t instanceof Date?o.a:Array.isArray(t)?i.a:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?l.a:s.a)(e,t)}},function(e,t,n){"use strict";function a(e,t,n,a,r){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*a+o*r)/6}t.a=a,t.b=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,l=r<t-1?e[r+2]:2*o-i;return a((n-r/t)*t,s,i,o,l)}}},function(e,t){e.exports=function(e){return(e.get("scaleController")||{}).defs}},function(e,t,n){var a=n(382);e.exports=function(e,t){var n=a(e);if(n&&n[t])return n[t]}},function(e,t,n){var a=n(0),r=n(71);e.exports=function(e,t){var n,i=t.field,o=t.type,s=a.Array.values(e,i);return"linear"===o?(n=a.Array.getRange(s),t.min<n.min&&(n.min=t.min),t.max>n.max&&(n.max=t.max)):"timeCat"===o?(a.each(s,(function(e,t){s[t]=r.toTimeStamp(e)})),s.sort((function(e,t){return e-t})),n=s):n=s,n}},function(e,t,n){"use strict";var a=n(70);t.a=function(e){return"string"===typeof e?new a.a([[document.querySelector(e)]],[document.documentElement]):new a.a([[e]],a.c)}},function(e,t,n){"use strict";function a(){return[]}t.a=function(e){return null==e?a:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return this.matches(e)}}},function(e,t,n){"use strict";t.a=i;var a=n(389),r=n(70);function i(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.b=function(){return new r.a(this._enter||this._groups.map(a.a),this._parents)},i.prototype={constructor:i,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},function(e,t,n){"use strict";t.b=s;var a=n(376);function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function s(e,t){return e.style.getPropertyValue(t)||Object(a.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.a=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"===typeof t?o:i)(e,t,null==n?"":n)):s(this.node(),e)}},function(e,t,n){"use strict";var a=n(46);t.a=function(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>a.d&&n.state<a.b,n.state=a.a,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}},function(e,t,n){"use strict";var a=n(17),r=n(381),i=n(393),o=n(174);function s(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=Object(a.f)(t[n]),o[n]=r.r||0,s[n]=r.g||0,l[n]=r.b||0;return o=e(o),s=e(s),l=e(l),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=l(e),r+""}}}t.a=function e(t){var n=Object(o.b)(t);function r(e,t){var r=n((e=Object(a.f)(e)).r,(t=Object(a.f)(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),l=Object(o.a)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=l(t),e+""}}return r.gamma=e,r}(1),s(r.b),s(i.a)},function(e,t,n){"use strict";var a=n(381);t.a=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return Object(a.a)((n-r/t)*t,i,o,s,l)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var a=n(380);t.a=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Object(a.a)(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=o[n](e);return s}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return t-=e=+e,function(a){return n.setTime(e+t*a),n}}},function(e,t,n){"use strict";var a=n(380);t.a=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Object(a.a)(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}},function(e,t,n){"use strict";var a=n(364),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=new RegExp(r.source,"g");t.a=function(e,t){var n,o,s,l=r.lastIndex=i.lastIndex=0,c=-1,u=[],d=[];for(e+="",t+="";(n=r.exec(e))&&(o=i.exec(t));)(s=o.index)>l&&(s=t.slice(l,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,d.push({i:c,x:Object(a.a)(n,o)})),l=i.lastIndex;return l<t.length&&(s=t.slice(l),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var n,a=0;a<t;++a)u[(n=d[a]).i]=n.x(e);return u.join("")})}},function(e,t,n){"use strict";var a=n(17),r=n(379);t.a=function(e,t){var n;return("number"===typeof t?r.a:t instanceof a.a?r.b:(n=Object(a.a)(t))?(t=n,r.b):r.c)(e,t)}},function(e,t,n){var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="rect",t},r.generateFacets=function(e){var t=this,n=t.fields,a=[],r=1,i=1,o=n[0],s=n[1],l=[""],c=[""];return o&&(l=t.getFieldValues(o,e),i=l.length),s&&(c=t.getFieldValues(s,e),r=c.length),l.forEach((function(n,u){c.forEach((function(d,p){var h=[{field:o,value:n,values:l},{field:s,value:d,values:c}],f=t.getFilter(h),m=e.filter(f),g={type:t.type,colValue:n,rowValue:d,colField:o,rowField:s,colIndex:u,rowIndex:p,cols:i,rows:r,data:m,region:t.getRegion(r,i,u,p)};a.push(g)}))})),a},r.setXAxis=function(e,t,n){n.rowIndex!==n.rows-1?(t[e].title=null,t[e].label=null):n.colIndex!==parseInt((n.cols-1)/2)&&(t[e].title=null)},r.setYAxis=function(e,t,n){0!==n.colIndex?(t[e].title=null,t[e].label=null):n.rowIndex!==parseInt((n.rows-1)/2)&&(t[e].title=null)},r.renderTitle=function(e,t){0===t.rowIndex&&this.drawColTitle(e,t),t.colIndex===t.cols-1&&this.drawRowTitle(e,t)},a}(n(366));e.exports=a},function(e,t,n){var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="list",t.cols=null,t},r.generateFacets=function(e){var t=this,n=t.fields[0];if(!n)throw"Please specify for the field for facet!";var a=t.getFieldValues(n,e),r=a.length,i=t.cols||r,o=parseInt((r+i-1)/i),s=[];return a.forEach((function(l,c){var u=parseInt(c/i),d=c%i,p=[{field:n,value:l,values:a}],h=t.getFilter(p),f=e.filter(h),m={type:t.type,count:r,colValue:l,colField:n,rowField:null,rowValue:l,colIndex:d,rowIndex:u,cols:i,rows:o,data:f,region:t.getRegion(o,i,d,u)};s.push(m)})),s},r.setXAxis=function(e,t,n){n.rowIndex!==n.rows-1&&n.cols*n.rowIndex+n.colIndex+1+n.cols<=n.count&&(t[e].label=null,t[e].title=null)},r.setYAxis=function(e,t,n){0!==n.colIndex&&(t[e].title=null,t[e].label=null)},a}(n(366));e.exports=a},function(e,t,n){var a=n(172);n(403),n(405),n(407),n(367),n(369),n(361),n(371),n(408),n(410),n(412),n(487),n(489),n(494),e.exports=a},function(e,t,n){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=n(21),i=n(360),o=n(0);n(404);var s=function(e){a(n,e);var t=n.prototype;function n(t){var n;return n=e.call(this,t)||this,o.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),i),n}return t.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="area",t.shapeType="area",t.generatePoints=!0,t.sortable=!0,t},t.draw=function(e,t,n,a){var r=this,i=this.getDrawCfg(e[0]);r._applyViewThemeShapeStyle(i,i.shape,n);var s=this.splitData(e);i.origin=e,o.each(s,(function(e,o){i.splitedIndex=o;var s=e.map((function(e){return e.points}));i.points=s;var l=n.drawShape(i.shape,i,t);r.appendShapeInfo(l,a+o)}))},n}(r),l=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},t}(s);s.Stack=l,r.Area=s,r.AreaStack=l,e.exports=s},function(e,t,n){var a=n(0),r=n(19),i=n(23),o=n(45),s=n(7);function l(e){var t=s.shape.hollowArea,n=a.mix({},t,e.style);return o.addStrokeAttrs(n,e),a.isNumber(e.size)&&(n.lineWidth=e.size),n}function c(e){var t=s.shape.area,n=a.mix({},t,e.style);return o.addFillAttrs(n,e),e.color&&(n.stroke=n.stroke||e.color),a.isNumber(e.size)&&(n.lineWidth=e.size),n}function u(e,t,n){var r=[],o=[],s=[],l=[],c=e.isInCircle;return a.each(e.points,(function(e){s.push(e[1]),l.push(e[0])})),l=l.reverse(),o.push(s,l),a.each(o,(function(a,o){var s=[],l=(a=n.parsePoints(a))[0];c&&a.push({x:l.x,y:l.y}),s=t?i.getSplinePath(a,!1,e.constraint):i.getLinePath(a,!1),o>0&&(s[0][0]="L"),r=r.concat(s)})),r.push(["Z"]),r}function d(e){return{symbol:function(e,t,n){return[["M",e-n,t-4],["L",e+n,t-4],["L",e+n,t+4],["L",e-n,t+4],["Z"]]},radius:5,fill:e.color,fillOpacity:.6}}var p=r.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(e){var t=[],n=e.x,r=e.y,i=e.y0;return r=a.isArray(r)?r:[i,r],a.each(r,(function(e){t.push({x:n,y:e})})),t},getActiveCfg:function(e,t){return function(e,t){if("line"===e||"smoothLine"===e)return{lineWidth:(t.lineWidth||0)+1};var n=t.fillOpacity||t.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}}(e,t)},drawShape:function(e,t,n){var r,i=this.getShape(e);return(r=1===t.points.length&&s.showSinglePoint?function(e,t,n){var r=e._coord.convertPoint(t.points[0][1]);return n.addShape("circle",{attrs:a.mix({x:r.x,y:r.y,r:2,fill:t.color},t.style)})}(this,t,n):i.draw(t,n))&&(r.set("origin",t.origin),r._id=t.splitedIndex?t._id+t.splitedIndex:t._id,r.name=this.name),r},getSelectedCfg:function(e,t){return t&&t.style?t.style:this.getActiveCfg(e,t)}});r.registerShape("area","area",{draw:function(e,t){var n=c(e),r=u(e,!1,this);return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return d(e)}}),r.registerShape("area","smooth",{draw:function(e,t){var n=c(e),r=this._coord;e.constraint=[[r.start.x,r.end.y],[r.end.x,r.start.y]];var i=u(e,!0,this);return t.addShape("path",{attrs:a.mix(n,{path:i})})},getMarkerCfg:function(e){return d(e)}}),r.registerShape("area","line",{draw:function(e,t){var n=l(e),r=u(e,!1,this);return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return d(e)}}),r.registerShape("area","smoothLine",{draw:function(e,t){var n=l(e),r=u(e,!0,this);return t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return d(e)}}),p.spline=p.smooth,e.exports=p},function(e,t,n){var a=n(21);n(406);var r=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t},a}(a);a.Edge=r,e.exports=r},function(e,t,n){var a=n(0),r=n(19),i=n(45),o=n(7),s=n(23),l=1/3;function c(e){var t=o.shape.edge,n=a.mix({},t,e.style);return i.addStrokeAttrs(n,e),n}var u=r.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return i.splitPoints(e)},getActiveCfg:function(e,t){return{lineWidth:(t.lineWidth||0)+1}}});function d(e,t){var n=[];n.push({x:e.x,y:.5*e.y+1*t.y/2}),n.push({y:.5*e.y+1*t.y/2,x:t.x}),n.push(t);var r=["C"];return a.each(n,(function(e){r.push(e.x,e.y)})),r}function p(e,t){var n=[];n.push({x:t.x,y:t.y}),n.push(e);var r=["Q"];return a.each(n,(function(e){r.push(e.x,e.y)})),r}r.registerShape("edge","line",{draw:function(e,t){var n=this.parsePoints(e.points),r=c(e),i=s.getLinePath(n);return t.addShape("path",{attrs:a.mix(r,{path:i})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4.5},c(e))}}),r.registerShape("edge","vhv",{draw:function(e,t){var n=e.points,r=c(e),i=function(e,t){var n=[];n.push({y:e.y*(1-l)+t.y*l,x:e.x}),n.push({y:e.y*(1-l)+t.y*l,x:t.x}),n.push(t);var r=[["M",e.x,e.y]];return a.each(n,(function(e){r.push(["L",e.x,e.y])})),r}(n[0],n[1]);return i=this.parsePath(i),t.addShape("path",{attrs:a.mix(r,{path:i})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4.5},c(e))}}),r.registerShape("edge","smooth",{draw:function(e,t){var n=e.points,r=c(e),i=function(e,t){var n=d(e,t),a=[["M",e.x,e.y]];return a.push(n),a}(n[0],n[1]);return i=this.parsePath(i),t.addShape("path",{attrs:a.mix(r,{path:i})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4.5},c(e))}}),r.registerShape("edge","arc",{draw:function(e,t){var n,r,i=e.points,o=i.length>2?"weight":"normal",s=c(e);if(e.isInCircle){var l={x:0,y:1};"normal"===o?r=function(e,t,n){var a=p(t,n),r=[["M",e.x,e.y]];return r.push(a),r}(i[0],i[1],l):(s.fill=s.stroke,r=function(e,t){var n=p(e[1],t),a=p(e[3],t),r=[["M",e[0].x,e[0].y]];return r.push(a),r.push(["L",e[3].x,e[3].y]),r.push(["L",e[2].x,e[2].y]),r.push(n),r.push(["L",e[1].x,e[1].y]),r.push(["L",e[0].x,e[0].y]),r.push(["Z"]),r}(i,l)),r=this.parsePath(r),n=t.addShape("path",{attrs:a.mix(s,{path:r})})}else if("normal"===o)i=this.parsePoints(i),n=t.addShape("arc",{attrs:a.mix(s,{x:(i[1].x+i[0].x)/2,y:i[0].y,r:Math.abs(i[1].x-i[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{r=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y]];var u=d(i[1],i[3]),h=d(i[2],i[0]);r.push(u),r.push(["L",i[3].x,i[3].y]),r.push(["L",i[2].x,i[2].y]),r.push(h),r.push(["Z"]),r=this.parsePath(r),s.fill=s.stroke,n=t.addShape("path",{attrs:a.mix(s,{path:r})})}return n},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4.5},c(e))}}),e.exports=u},function(e,t,n){var a=n(73).ColorUtil,r=n(21),i=n(0),o=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="heatmap",t.paletteCache={},t},o._prepareRange=function(){var e=this.get("mappedData"),t=this.getAttr("color").field,n=1/0,a=-1/0;e.forEach((function(e){var r=e._origin[t];r>a&&(a=r),r<n&&(n=r)})),n===a&&(n=a-1);var r=[n,a];this.set("valueRange",r)},o._prepareSize=function(){var e=this.getDefaultValue("size");i.isNumber(e)||(e=this._getDefaultSize());var t=this.get("styleOptions"),n=t&&i.isObject(t.style)?t.style.blur:null;i.isFinite(n)&&null!==n||(n=e/2),this.set("heatmapSize",{blur:n,radius:e})},o._getDefaultSize=function(){var e=this.getAttr("position"),t=this.get("coord");return Math.min(t.width/(4*e.scales[0].ticks.length),t.height/(4*e.scales[1].ticks.length))},o._colorize=function(e){for(var t=this.getAttr("color"),n=e.data,r=this.get("paletteCache"),i=3;i<n.length;i+=4){var o=n[i];if(o){var s=void 0;r[o]?s=r[o]:(s=a.rgb2arr(t.gradient(o/256)),r[o]=s),n[i-3]=s[0],n[i-2]=s[1],n[i-1]=s[2],n[i]=o}}},o._prepareGreyScaleBlurredCircle=function(e,t){var n=this.get("grayScaleBlurredCanvas");n||(n=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",n));var a=e+t,r=n.getContext("2d");n.width=n.height=2*a,r.clearRect(0,0,n.width,n.height),r.shadowOffsetX=r.shadowOffsetY=2*a,r.shadowBlur=t,r.shadowColor="black",r.beginPath(),r.arc(-a,-a,e,0,2*Math.PI,!0),r.closePath(),r.fill()},o._drawGrayScaleBlurredCircle=function(e,t,n,a,r){var i=this.get("grayScaleBlurredCanvas");r.globalAlpha=a,r.drawImage(i,e-n,t-n)},o._getShadowCanvasCtx=function(){var e=this.get("shadowCanvas");e||(e=document.createElement("canvas"),this.set("shadowCanvas",e));var t=this.get("coord");return t&&(e.width=t.width,e.height=t.height),e.getContext("2d")},o._clearShadowCanvasCtx=function(){var e=this._getShadowCanvasCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height)},o._getImageShape=function(){var e=this.get("imageShape");return e||(e=this.get("container").addShape("Image",{}),this.set("imageShape",e),e)},o.clear=function(){this._clearShadowCanvasCtx(),e.prototype.clear.call(this)},o.drawWithRange=function(e){var t=this.get("coord"),n=t.start,a=t.end,r=t.width,i=t.height,o=this.getAttr("color").field,s=this.get("heatmapSize");this._clearShadowCanvasCtx();var l=this._getShadowCanvasCtx(),c=this.get("mappedData");e&&(c=c.filter((function(t){return t._origin[o]<=e[1]&&t._origin[o]>=e[0]})));for(var u=this._getScale(o),d=0;d<c.length;d++){var p=c[d],h=this.getDrawCfg(p),f=u.scale(p._origin[o]);this._drawGrayScaleBlurredCircle(h.x-n.x,h.y-a.y,s.radius+s.blur,f,l)}var m=l.getImageData(0,0,r,i);this._clearShadowCanvasCtx(),this._colorize(m),l.putImageData(m,0,0);var g=this._getImageShape();g.attr("x",n.x),g.attr("y",a.y),g.attr("width",r),g.attr("height",i),g.attr("img",l.canvas)},o.draw=function(e){this.set("mappedData",e),this._prepareRange(),this._prepareSize();var t=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(t.radius,t.blur);var n=this.get("valueRange");this.drawWithRange(n)},r}(r);r.Heatmap=o,e.exports=o},function(e,t,n){var a=n(21),r=n(0);n(409);var i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t},i.createShapePointsCfg=function(t){var n,a=e.prototype.createShapePointsCfg.call(this,t),i=a.x,o=a.y;if(!r.isArray(i)||!r.isArray(o)){var s=this.getXScale(),l=this.getYScale(),c=.5/(s.values?s.values.length:s.ticks.length),u=.5/(l.values?l.values.length:l.ticks.length);s.isCategory&&l.isCategory?(i=[i-c,i-c,i+c,i+c],o=[o-u,o+u,o+u,o-u]):r.isArray(i)?(i=[(n=i)[0],n[0],n[1],n[1]],o=[o-u/2,o+u/2,o+u/2,o-u/2]):r.isArray(o)&&(o=[(n=o)[0],n[1],n[1],n[0]],i=[i-c/2,i-c/2,i+c/2,i+c/2]),a.x=i,a.y=o}return a},a}(a);a.Polygon=i,e.exports=i},function(e,t,n){var a=n(0),r=n(19),i=n(45),o=n(7);function s(e){var t=o.shape.polygon,n=a.mix({},t,e.style);return i.addFillAttrs(n,e),n}function l(e){for(var t=e[0],n=1,r=[["M",t.x,t.y]];n<e.length;){var i=e[n];i.x===e[n-1].x&&i.y===e[n-1].y||(r.push(["L",i.x,i.y]),i.x===t.x&&i.y===t.y&&n<e.length-1&&(t=e[n+1],r.push(["Z"]),r.push(["M",t.x,t.y]),n++)),n++}return a.isEqual(r[r.length-1],t)||r.push(["L",t.x,t.y]),r.push(["Z"]),r}var c=r.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var t=[];return a.each(e.x,(function(n,a){var r=e.y[a];t.push({x:n,y:r})})),t},getActiveCfg:function(e,t){var n=t.lineWidth||1;return"hollow"===e?{lineWidth:n+1}:{fillOpacity:(t.fillOpacity||t.opacity||1)-.08}},getSelectedCfg:function(e,t){return t&&t.style?t.style:this.getActiveCfg(e,t)}});r.registerShape("polygon","polygon",{draw:function(e,t){if(!a.isEmpty(e.points)){var n=s(e),r=l(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})}},getMarkerCfg:function(e){return a.mix({symbol:"square",radius:4},s(e))}}),r.registerShape("polygon","hollow",{draw:function(e,t){if(!a.isEmpty(e.points)){var n=function(e){var t=o.shape.hollowPolygon,n=a.mix({},t,e.style);return i.addStrokeAttrs(n,e),n}(e),r=l(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})}},getMarkerCfg:function(e){return a.mix({symbol:"square",radius:4},s(e))}}),e.exports=c},function(e,t,n){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=n(21),i=n(0),o=n(359);n(411);var s=function(e){a(n,e);var t=n.prototype;function n(t){var n;return n=e.call(this,t)||this,i.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),o),n}return t.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t},t.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t);return n.size=this.getNormalizedSize(t),n},t.clearInner=function(){e.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(r),l=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"dodge"}],t},t}(s);s.Dodge=l,r.Schema=s,r.SchemaDodge=l,e.exports=s},function(e,t,n){var a=n(0),r=n(19),i=n(45),o=n(7);function s(e){a.isArray(e)||(e=[e]);var t=e[0],n=e[e.length-1],r=e.length>1?e[1]:t;return{min:t,max:n,min1:r,max1:e.length>3?e[3]:n,median:e.length>2?e[2]:r}}function l(e,t,n){var r,i,o,l,c=[];return a.isArray(t)?r=[[e-n/2,(i=s(t)).max],[e+n/2,i.max],[e,i.max],[e,i.max1],[e-n/2,i.min1],[e-n/2,i.max1],[e+n/2,i.max1],[e+n/2,i.min1],[e,i.min1],[e,i.min],[e-n/2,i.min],[e+n/2,i.min],[e-n/2,i.median],[e+n/2,i.median]]:(t=t||.5,r=[[(i=s(e)).min,t-n/2],[i.min,t+n/2],[i.min,t],[i.min1,t],[i.min1,t-n/2],[i.min1,t+n/2],[i.max1,t+n/2],[i.max1,t-n/2],[i.max1,t],[i.max,t],[i.max,t-n/2],[i.max,t+n/2],[i.median,t-n/2],[i.median,t+n/2]]),o=r,l=c,a.each(o,(function(e){l.push({x:e[0],y:e[1]})})),c}function c(e,t,n){var r=function(e){a.isArray(e)||(e=[e]);var t=e.sort((function(e,t){return e<t?1:-1})),n=t.length;if(n<4)for(var r=t[n-1],i=0;i<4-n;i++)t.push(r);return t}(t);return[{x:e,y:r[0]},{x:e,y:r[1]},{x:e-n/2,y:r[2]},{x:e-n/2,y:r[1]},{x:e+n/2,y:r[1]},{x:e+n/2,y:r[2]},{x:e,y:r[2]},{x:e,y:r[3]}]}var u=r.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(e,t){if("box"===e)return{lineWidth:(t.lineWidth||1)+1};var n=t.fillOpacity||t.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},getSelectedCfg:function(e,t){return t&&t.style?t.style:this.getActiveCfg(e,t)}});r.registerShape("schema","box",{getPoints:function(e){return l(e.x,e.y,e.size)},draw:function(e,t){var n,r=function(e){var t=o.shape.schema,n=a.mix({},t,e.style);return i.addStrokeAttrs(n,e),n}(e),s=[["M",(n=e.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]];return s=this.parsePath(s),t.addShape("path",{attrs:a.mix(r,{path:s})})},getMarkerCfg:function(e){return{symbol:function(e,t,n){var a=l(e,[t-6,t-3,t,t+3,t+6],n);return[["M",a[0].x+1,a[0].y],["L",a[1].x-1,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x+1,a[10].y],["L",a[11].x-1,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y]]},radius:6,lineWidth:1,stroke:e.color}}}),r.registerShape("schema","candle",{getPoints:function(e){return c(e.x,e.y,e.size)},draw:function(e,t){var n,r=function(e){var t=o.shape.schema,n=a.mix({},t,e.style);return i.addFillAttrs(n,e),e.color&&(n.stroke=e.color||n.stroke),n}(e),s=[["M",(n=e.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]];return s=this.parsePath(s),t.addShape("path",{attrs:a.mix(r,{path:s})})},getMarkerCfg:function(e){return{symbol:function(e,t,n){var a=c(e,t=[t+7.5,t+3,t-3,t-7.5],n);return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["L",a[4].x,a[4].y],["L",a[5].x,a[5].y],["Z"],["M",a[6].x,a[6].y],["L",a[7].x,a[7].y]]},lineWidth:1,stroke:e.color,fill:e.color,radius:6}}}),e.exports=u},function(e,t,n){var a=n(21),r=n(0),i=n(413),o=i.venn,s=i.scaleSolution,l=i.circlePath,c=i.intersectionAreaPath,u=i.computeTextCentres;n(486);var d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="venn",t.shapeType="venn",t.generatePoints=!1,t},i._getAttrValues=function(t,n){return"position"===t.type?[n.x,n.y]:e.prototype._getAttrValues.call(this,t,n)},i.sets=function(e){return this.set("setsField",e),this},i._initAttrs=function(){e.prototype._initAttrs.call(this);var t=this.get("attrOptions"),n=this.get("setsField")||"sets",a=this.get("data"),i=t.size?t.size.field:"size";a.forEach((function(e){e.sets=e[n],e._sets=e[n].join("&"),e.size=e[i]}));var d=o(a),p=this.get("coord"),h=[Math.min(p.x.end,p.x.start),Math.max(p.x.end,p.x.start)],f=[Math.min(p.y.end,p.y.start),Math.max(p.y.end,p.y.start)],m=h[1]-h[0],g=f[1]-f[0],v=this.get("styleOptions"),y=v&&r.isObject(v.style)?v.style.padding:0;r.isFinite(y)||(y=0);var _=s(d,m,g,y),b=u(_,a);a.forEach((function(e){var t=e.sets,n=t.join(",");if(e.id=n,1===t.length){var a=_[n];e.path=l(a.x,a.y,a.radius),r.assign(e,a)}else{var i=t.map((function(e){return _[e]})),o=c(i);/[zZ]$/.test(o)||(o+="Z"),e.path=o;var s=b[n]||{x:0,y:0};r.assign(e,s)}}))},a}(a);a.Venn=d,e.exports=d},function(e,t,n){!function(e,t,n){"use strict";var a=1e-10;function r(e,t){var n,r=function(e){for(var t=[],n=0;n<e.length;++n)for(var a=n+1;a<e.length;++a)for(var r=l(e[n],e[a]),i=0;i<r.length;++i){var o=r[i];o.parentIndex=[n,a],t.push(o)}return t}(e),s=r.filter((function(t){return function(e,t){for(var n=0;n<t.length;++n)if(o(e,t[n])>t[n].radius+a)return!1;return!0}(t,e)})),u=0,d=0,p=[];if(s.length>1){var h=c(s);for(n=0;n<s.length;++n){var f=s[n];f.angle=Math.atan2(f.x-h.x,f.y-h.y)}s.sort((function(e,t){return t.angle-e.angle}));var m=s[s.length-1];for(n=0;n<s.length;++n){var g=s[n];d+=(m.x+g.x)*(g.y-m.y);for(var v={x:(g.x+m.x)/2,y:(g.y+m.y)/2},y=null,_=0;_<g.parentIndex.length;++_)if(m.parentIndex.indexOf(g.parentIndex[_])>-1){var b=e[g.parentIndex[_]],w=Math.atan2(g.x-b.x,g.y-b.y),E=Math.atan2(m.x-b.x,m.y-b.y),T=E-w;T<0&&(T+=2*Math.PI);var x=E-T/2,C=o(v,{x:b.x+b.radius*Math.sin(x),y:b.y+b.radius*Math.cos(x)});C>2*b.radius&&(C=2*b.radius),(null===y||y.width>C)&&(y={circle:b,width:C,p1:g,p2:m})}null!==y&&(p.push(y),u+=i(y.circle.radius,y.width),m=g)}}else{var S=e[0];for(n=1;n<e.length;++n)e[n].radius<S.radius&&(S=e[n]);var k=!1;for(n=0;n<e.length;++n)if(o(e[n],S)>Math.abs(S.radius-e[n].radius)){k=!0;break}k?u=d=0:(u=S.radius*S.radius*Math.PI,p.push({circle:S,p1:{x:S.x,y:S.y+S.radius},p2:{x:S.x-a,y:S.y+S.radius},width:2*S.radius}))}return d/=2,t&&(t.area=u+d,t.arcArea=u,t.polygonArea=d,t.arcs=p,t.innerPoints=s,t.intersectionPoints=r),u+d}function i(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function o(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function s(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);var a=t-(n*n-e*e+t*t)/(2*n);return i(e,e-(n*n-t*t+e*e)/(2*n))+i(t,a)}function l(e,t){var n=o(e,t),a=e.radius,r=t.radius;if(n>=a+r||n<=Math.abs(a-r))return[];var i=(a*a-r*r+n*n)/(2*n),s=Math.sqrt(a*a-i*i),l=e.x+i*(t.x-e.x)/n,c=e.y+i*(t.y-e.y)/n,u=-(t.y-e.y)*(s/n),d=-(t.x-e.x)*(s/n);return[{x:l+u,y:c-d},{x:l-u,y:c+d}]}function c(e){for(var t={x:0,y:0},n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}function u(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function d(e,t){return u(e).map((function(){return u(t)}))}function p(e,t){for(var n=0,a=0;a<e.length;++a)n+=e[a]*t[a];return n}function h(e){return Math.sqrt(p(e,e))}function f(e,t,n){for(var a=0;a<t.length;++a)e[a]=t[a]*n}function m(e,t,n,a,r){for(var i=0;i<e.length;++i)e[i]=t*n[i]+a*r[i]}function g(e,t,n){var a,r=(n=n||{}).maxIterations||200*t.length,i=n.nonZeroDelta||1.05,o=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,u=void 0!==n.chi?n.chi:2,d=void 0!==n.psi?n.psi:-.5,p=void 0!==n.sigma?n.sigma:.5,h=t.length,f=new Array(h+1);f[0]=t,f[0].fx=e(t),f[0].id=0;for(var g=0;g<h;++g){var v=t.slice();v[g]=v[g]?v[g]*i:o,f[g+1]=v,f[g+1].fx=e(v),f[g+1].id=g+1}function y(e){for(var t=0;t<e.length;t++)f[h][t]=e[t];f[h].fx=e.fx}for(var _=function(e,t){return e.fx-t.fx},b=t.slice(),w=t.slice(),E=t.slice(),T=t.slice(),x=0;x<r;++x){if(f.sort(_),n.history){var C=f.map((function(e){var t=e.slice();return t.fx=e.fx,t.id=e.id,t}));C.sort((function(e,t){return e.id-t.id})),n.history.push({x:f[0].slice(),fx:f[0].fx,simplex:C})}for(a=0,g=0;g<h;++g)a=Math.max(a,Math.abs(f[0][g]-f[1][g]));if(Math.abs(f[0].fx-f[h].fx)<s&&a<l)break;for(g=0;g<h;++g){b[g]=0;for(var S=0;S<h;++S)b[g]+=f[S][g];b[g]/=h}var k=f[h];if(m(w,1+c,b,-c,k),w.fx=e(w),w.fx<f[0].fx)m(T,1+u,b,-u,k),T.fx=e(T),T.fx<w.fx?y(T):y(w);else if(w.fx>=f[h-1].fx){var O=!1;if(w.fx>k.fx?(m(E,1+d,b,-d,k),E.fx=e(E),E.fx<k.fx?y(E):O=!0):(m(E,1-d*c,b,d*c,k),E.fx=e(E),E.fx<w.fx?y(E):O=!0),O){if(p>=1)break;for(g=1;g<f.length;++g)m(f[g],1-p,f[0],p,f[g]),f[g].fx=e(f[g])}}else y(w)}return f.sort(_),{fx:f[0].fx,x:f[0]}}function v(e,t,n,a,r,i,o){var s=n.fx,l=p(n.fxprime,t),c=s,u=s,d=l,h=0;function f(u,h,f){for(var g=0;g<16;++g)if(r=(u+h)/2,m(a.x,1,n.x,r,t),c=a.fx=e(a.x,a.fxprime),d=p(a.fxprime,t),c>s+i*r*l||c>=f)h=r;else{if(Math.abs(d)<=-o*l)return r;d*(h-u)>=0&&(h=u),u=r,f=c}return 0}r=r||1,i=i||1e-6,o=o||.1;for(var g=0;g<10;++g){if(m(a.x,1,n.x,r,t),c=a.fx=e(a.x,a.fxprime),d=p(a.fxprime,t),c>s+i*r*l||g&&c>=u)return f(h,r,u);if(Math.abs(d)<=-o*l)return r;if(d>=0)return f(r,h,c);u=c,h=r,r*=2}return r}function y(e,t,n){var a,r,i,o={x:t.slice(),fx:0,fxprime:t.slice()},s={x:t.slice(),fx:0,fxprime:t.slice()},l=t.slice(),c=1;i=(n=n||{}).maxIterations||20*t.length,o.fx=e(o.x,o.fxprime),f(a=o.fxprime.slice(),o.fxprime,-1);for(var u=0;u<i;++u){if(c=v(e,a,o,s,c),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:c}),c){m(l,1,s.fxprime,-1,o.fxprime);var d=p(o.fxprime,o.fxprime);m(a,Math.max(0,p(l,s.fxprime)/d),a,-1,s.fxprime),r=o,o=s,s=r}else f(a,o.fxprime,-1);if(h(o.fxprime)<=1e-5)break}return n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:c}),o}function _(e,t){(t=t||{}).maxIterations=t.maxIterations||500;var n,a=t.initialLayout||E,r=t.lossFunction||x,i=a(e=function(e){e=e.slice();var t,n,a,r,i=[],o={};for(t=0;t<e.length;++t){var s=e[t];1==s.sets.length?i.push(s.sets[0]):2==s.sets.length&&(a=s.sets[0],r=s.sets[1],o[[a,r]]=!0,o[[r,a]]=!0)}for(i.sort((function(e,t){return e>t})),t=0;t<i.length;++t)for(a=i[t],n=t+1;n<i.length;++n)r=i[n],[a,r]in o||e.push({sets:[a,r],size:0});return e}(e),t),o=[],s=[];for(n in i)i.hasOwnProperty(n)&&(o.push(i[n].x),o.push(i[n].y),s.push(n));for(var l=g((function(t){for(var n={},a=0;a<s.length;++a){var o=s[a];n[o]={x:t[2*a],y:t[2*a+1],radius:i[o].radius}}return r(n,e)}),o,t).x,c=0;c<s.length;++c)n=s[c],i[n].x=l[2*c],i[n].y=l[2*c+1];return i}var b=1e-10;function w(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+b?Math.abs(e-t):function(e,t,n,a){var r=(a=a||{}).maxIterations||100,i=a.tolerance||1e-10,o=e(t),s=e(n),l=n-t;if(o*s>0)throw"Initial bisect points must have opposite signs";if(0===o)return t;if(0===s)return n;for(var c=0;c<r;++c){var u=t+(l/=2),d=e(u);if(d*o>=0&&(t=u),Math.abs(l)<i||0===d)return u}return t+l}((function(a){return s(e,t,a)-n}),0,e+t)}function E(e,t){var n=T(e,t),a=t.lossFunction||x;if(e.length>=8){var r=function(e,t){var n,a=(t=t||{}).restarts||10,r=[],i={};for(n=0;n<e.length;++n){var o=e[n];1==o.sets.length&&(i[o.sets[0]]=r.length,r.push(o))}var s=function(e,t,n){var a=d(t.length,t.length),r=d(t.length,t.length);return e.filter((function(e){return 2==e.sets.length})).map((function(e){var i=n[e.sets[0]],o=n[e.sets[1]],s=w(Math.sqrt(t[i].size/Math.PI),Math.sqrt(t[o].size/Math.PI),e.size);a[i][o]=a[o][i]=s;var l=0;e.size+1e-10>=Math.min(t[i].size,t[o].size)?l=1:e.size<=1e-10&&(l=-1),r[i][o]=r[o][i]=l})),{distances:a,constraints:r}}(e,r,i),l=s.distances,c=s.constraints,p=h(l.map(h))/l.length;l=l.map((function(e){return e.map((function(e){return e/p}))}));var m,g,v=function(e,t){return function(e,t,n,a){var r,i=0;for(r=0;r<t.length;++r)t[r]=0;for(r=0;r<n.length;++r)for(var o=e[2*r],s=e[2*r+1],l=r+1;l<n.length;++l){var c=e[2*l],u=e[2*l+1],d=n[r][l],p=a[r][l],h=(c-o)*(c-o)+(u-s)*(u-s),f=Math.sqrt(h),m=h-d*d;p>0&&f<=d||p<0&&f>=d||(i+=2*m*m,t[2*r]+=4*m*(o-c),t[2*r+1]+=4*m*(s-u),t[2*l]+=4*m*(c-o),t[2*l+1]+=4*m*(u-s))}return i}(e,t,l,c)};for(n=0;n<a;++n){var _=u(2*l.length).map(Math.random);g=y(v,_,t),(!m||g.fx<m.fx)&&(m=g)}var b=m.x,E={};for(n=0;n<r.length;++n){var T=r[n];E[T.sets[0]]={x:b[2*n]*p,y:b[2*n+1]*p,radius:Math.sqrt(T.size/Math.PI)}}if(t.history)for(n=0;n<t.history.length;++n)f(t.history[n].x,p);return E}(e,t);a(r,e)+1e-8<a(n,e)&&(n=r)}return n}function T(e,t){for(var n,a=t&&t.lossFunction?t.lossFunction:x,r={},i={},o=0;o<e.length;++o){var s=e[o];1==s.sets.length&&(n=s.sets[0],r[n]={x:1e10,y:1e10,rowid:r.length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},i[n]=[])}for(e=e.filter((function(e){return 2==e.sets.length})),o=0;o<e.length;++o){var c=e[o],u=c.hasOwnProperty("weight")?c.weight:1,d=c.sets[0],p=c.sets[1];c.size+b>=Math.min(r[d].size,r[p].size)&&(u=0),i[d].push({set:p,size:c.size,weight:u}),i[p].push({set:d,size:c.size,weight:u})}var h=[];for(n in i)if(i.hasOwnProperty(n)){var f=0;for(o=0;o<i[n].length;++o)f+=i[n][o].size*i[n][o].weight;h.push({set:n,size:f})}function m(e,t){return t.size-e.size}h.sort(m);var g={};function v(e){return e.set in g}function y(e,t){r[t].x=e.x,r[t].y=e.y,g[t]=!0}for(y({x:0,y:0},h[0].set),o=1;o<h.length;++o){var _=h[o].set,E=i[_].filter(v);if(n=r[_],E.sort(m),0===E.length)throw"ERROR: missing pairwise overlap information";for(var T=[],C=0;C<E.length;++C){var S=r[E[C].set],k=w(n.radius,S.radius,E[C].size);T.push({x:S.x+k,y:S.y}),T.push({x:S.x-k,y:S.y}),T.push({y:S.y+k,x:S.x}),T.push({y:S.y-k,x:S.x});for(var O=C+1;O<E.length;++O)for(var M=r[E[O].set],L=w(n.radius,M.radius,E[O].size),D=l({x:S.x,y:S.y,radius:k},{x:M.x,y:M.y,radius:L}),R=0;R<D.length;++R)T.push(D[R])}var N=1e50,I=T[0];for(C=0;C<T.length;++C){r[_].x=T[C].x,r[_].y=T[C].y;var A=a(r,e);A<N&&(N=A,I=T[C])}y(I,_)}return r}function x(e,t){for(var n=0,a=0;a<t.length;++a){var i,l=t[a];if(1!=l.sets.length){if(2==l.sets.length){var c=e[l.sets[0]],u=e[l.sets[1]];i=s(c.radius,u.radius,o(c,u))}else i=r(l.sets.map((function(t){return e[t]})));n+=(l.hasOwnProperty("weight")?l.weight:1)*(i-l.size)*(i-l.size)}}return n}function C(e,t,n){var a;if(null===n?e.sort((function(e,t){return t.radius-e.radius})):e.sort(n),e.length>0){var r=e[0].x,i=e[0].y;for(a=0;a<e.length;++a)e[a].x-=r,e[a].y-=i}if(2==e.length&&o(e[0],e[1])<Math.abs(e[1].radius-e[0].radius)&&(e[1].x=e[0].x+e[0].radius-e[1].radius-1e-10,e[1].y=e[0].y),e.length>1){var s,l,c=Math.atan2(e[1].x,e[1].y)-t,u=Math.cos(c),d=Math.sin(c);for(a=0;a<e.length;++a)s=e[a].x,l=e[a].y,e[a].x=u*s-d*l,e[a].y=d*s+u*l}if(e.length>2){for(var p=Math.atan2(e[2].x,e[2].y)-t;p<0;)p+=2*Math.PI;for(;p>2*Math.PI;)p-=2*Math.PI;if(p>Math.PI){var h=e[1].y/(1e-10+e[1].x);for(a=0;a<e.length;++a){var f=(e[a].x+h*e[a].y)/(1+h*h);e[a].x=2*f-e[a].x,e[a].y=2*f*h-e[a].y}}}}function S(e){function t(e){return e.parent!==e&&(e.parent=t(e.parent)),e.parent}function n(e,n){var a=t(e),r=t(n);a.parent=r}e.map((function(e){e.parent=e}));for(var a=0;a<e.length;++a)for(var r=a+1;r<e.length;++r){var i=e[a].radius+e[r].radius;o(e[a],e[r])+1e-10<i&&n(e[r],e[a])}var s,l={};for(a=0;a<e.length;++a)(s=t(e[a]).parent.setid)in l||(l[s]=[]),l[s].push(e[a]);e.map((function(e){delete e.parent}));var c=[];for(s in l)l.hasOwnProperty(s)&&c.push(l[s]);return c}function k(e){var t=function(t){return{max:Math.max.apply(null,e.map((function(e){return e[t]+e.radius}))),min:Math.min.apply(null,e.map((function(e){return e[t]-e.radius})))}};return{xRange:t("x"),yRange:t("y")}}function O(e,t,n){null===t&&(t=Math.PI/2);var a,r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=e[r];i.push({x:o.x,y:o.y,radius:o.radius,setid:r})}var s=S(i);for(a=0;a<s.length;++a){C(s[a],t,n);var l=k(s[a]);s[a].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),s[a].bounds=l}s.sort((function(e,t){return t.size-e.size}));var c=(i=s[0]).bounds,u=(c.xRange.max-c.xRange.min)/50;function d(e,t,n){if(e){var a,r,o,s=e.bounds;t?a=c.xRange.max-s.xRange.min+u:(a=c.xRange.max-s.xRange.max,(o=(s.xRange.max-s.xRange.min)/2-(c.xRange.max-c.xRange.min)/2)<0&&(a+=o)),n?r=c.yRange.max-s.yRange.min+u:(r=c.yRange.max-s.yRange.max,(o=(s.yRange.max-s.yRange.min)/2-(c.yRange.max-c.yRange.min)/2)<0&&(r+=o));for(var l=0;l<e.length;++l)e[l].x+=a,e[l].y+=r,i.push(e[l])}}for(var p=1;p<s.length;)d(s[p],!0,!1),d(s[p+1],!1,!0),d(s[p+2],!0,!0),p+=3,c=k(i);var h={};for(a=0;a<i.length;++a)h[i[a].setid]=i[a];return h}function M(e,t,n,a){var r=[],i=[];for(var o in e)e.hasOwnProperty(o)&&(i.push(o),r.push(e[o]));t-=2*a,n-=2*a;var s=k(r),l=s.xRange,c=s.yRange;if(l.max==l.min||c.max==c.min)return console.log("not scaling solution: zero size detected"),e;for(var u=t/(l.max-l.min),d=n/(c.max-c.min),p=Math.min(d,u),h=(t-(l.max-l.min)*p)/2,f=(n-(c.max-c.min)*p)/2,m={},g=0;g<r.length;++g){var v=r[g];m[i[g]]={radius:p*v.radius,x:a+h+(v.x-l.min)*p,y:a+f+(v.y-c.min)*p}}return m}function L(e,n){return function(){for(var a,r=t.select(this),i=r.datum(),o=e[i.sets[0]].radius||50,s=n(i)||"",l=s.split(/\s+/).reverse(),c=(s.length+l.length)/3,u=l.pop(),d=[u],p=0,h=r.text(null).append("tspan").text(u);u=l.pop();)d.push(u),a=d.join(" "),h.text(a),a.length>c&&h.node().getComputedTextLength()>o&&(d.pop(),h.text(d.join(" ")),d=[u],h=r.append("tspan").text(u),p++);var f=.35-1.1*p/2,m=r.attr("x"),g=r.attr("y");r.selectAll("tspan").attr("x",m).attr("y",g).attr("dy",(function(e,t){return f+1.1*t+"em"}))}}function D(e,t,n){var a,r,i=t[0].radius-o(t[0],e);for(a=1;a<t.length;++a)(r=t[a].radius-o(t[a],e))<=i&&(i=r);for(a=0;a<n.length;++a)(r=o(n[a],e)-n[a].radius)<=i&&(i=r);return i}function R(e,t){var n,a=[];for(n=0;n<e.length;++n){var i=e[n];a.push({x:i.x,y:i.y}),a.push({x:i.x+i.radius/2,y:i.y}),a.push({x:i.x-i.radius/2,y:i.y}),a.push({x:i.x,y:i.y+i.radius/2}),a.push({x:i.x,y:i.y-i.radius/2})}var s=a[0],l=D(a[0],e,t);for(n=1;n<a.length;++n){var u=D(a[n],e,t);u>=l&&(s=a[n],l=u)}var d=g((function(n){return-1*D({x:n[0],y:n[1]},e,t)}),[s.x,s.y],{maxIterations:500,minErrorDelta:1e-10}).x,p={x:d[0],y:d[1]},h=!0;for(n=0;n<e.length;++n)if(o(p,e[n])>e[n].radius){h=!1;break}for(n=0;n<t.length;++n)if(o(p,t[n])<t[n].radius){h=!1;break}if(!h)if(1==e.length)p={x:e[0].x,y:e[0].y};else{var f={};r(e,f),p=0===f.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==f.arcs.length?{x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:t.length?R(e,[]):c(f.arcs.map((function(e){return e.p1})))}return p}function N(e){var t={},n=[];for(var a in e)n.push(a),t[a]=[];for(var r=0;r<n.length;r++)for(var i=e[n[r]],s=r+1;s<n.length;++s){var l=e[n[s]],c=o(i,l);c+l.radius<=i.radius+1e-10?t[n[s]].push(n[r]):c+i.radius<=l.radius+1e-10&&t[n[r]].push(n[s])}return t}function I(e,t){for(var n={},a=N(e),r=0;r<t.length;++r){for(var i=t[r].sets,o={},s={},l=0;l<i.length;++l){o[i[l]]=!0;for(var c=a[i[l]],u=0;u<c.length;++u)s[c[u]]=!0}var d=[],p=[];for(var h in e)h in o?d.push(e[h]):h in s||p.push(e[h]);var f=R(d,p);n[i]=f,f.disjoint&&t[r].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return n}function A(e,t,n){var a=[];return a.push("\nM",e,t),a.push("\nm",-n,0),a.push("\na",n,n,0,1,0,2*n,0),a.push("\na",n,n,0,1,0,2*-n,0),a.join(" ")}function P(e){var t=e.split(" ");return{x:parseFloat(t[1]),y:parseFloat(t[2]),radius:-parseFloat(t[4])}}function Y(e){var t={};r(e,t);var n=t.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var a=n[0].circle;return A(a.x,a.y,a.radius)}for(var i=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var s=n[o],l=s.circle.radius,c=s.width>l;i.push("\nA",l,l,0,c?1:0,1,s.p1.x,s.p1.y)}return i.join(" ")}e.intersectionArea=r,e.circleCircleIntersection=l,e.circleOverlap=s,e.circleArea=i,e.distance=o,e.venn=_,e.greedyLayout=T,e.scaleSolution=M,e.normalizeSolution=O,e.bestInitialLayout=E,e.lossFunction=x,e.disjointCluster=S,e.distanceFromIntersectArea=w,e.VennDiagram=function(){var e=600,n=350,a=15,r=1e3,i=Math.PI/2,o=!0,s=!0,l=!0,c=null,u=null,d={},p=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h=0,f=function(e){if(e in d)return d[e];var t=d[e]=p[h];return(h+=1)>=p.length&&(h=0),t},m=_,g=x;function v(d){var p=d.datum(),h={};p.forEach((function(e){0==e.size&&1==e.sets.length&&(h[e.sets[0]]=1)})),p=p.filter((function(e){return!e.sets.some((function(e){return e in h}))}));var v={},y={};if(p.length>0){var _=m(p,{lossFunction:g});o&&(_=O(_,i,u)),v=M(_,e,n,a),y=I(v,p)}var b={};function w(e){return e.sets in b?b[e.sets]:1==e.sets.length?""+e.sets[0]:void 0}p.forEach((function(e){e.label&&(b[e.sets]=e.label)})),d.selectAll("svg").data([v]).enter().append("svg");var E=d.select("svg").attr("width",e).attr("height",n),T={},x=!1;E.selectAll(".venn-area path").each((function(e){var n=t.select(this).attr("d");1==e.sets.length&&n&&(x=!0,T[e.sets[0]]=P(n))}));var C=function(t){return function(a){return Y(t.sets.map((function(t){var r=T[t],i=v[t];return r||(r={x:e/2,y:n/2,radius:1}),i||(i={x:e/2,y:n/2,radius:1}),{x:r.x*(1-a)+i.x*a,y:r.y*(1-a)+i.y*a,radius:r.radius*(1-a)+i.radius*a}})))}},S=E.selectAll(".venn-area").data(p,(function(e){return e.sets})),k=S.enter().append("g").attr("class",(function(e){return"venn-area venn-"+(1==e.sets.length?"circle":"intersection")})).attr("data-venn-sets",(function(e){return e.sets.join("_")})),D=k.append("path"),R=k.append("text").attr("class","label").text((function(e){return w(e)})).attr("text-anchor","middle").attr("dy",".35em").attr("x",e/2).attr("y",n/2);l&&(D.style("fill-opacity","0").filter((function(e){return 1==e.sets.length})).style("fill",(function(e){return f(e.sets)})).style("fill-opacity",".25"),R.style("fill",(function(e){return 1==e.sets.length?f(e.sets):"#444"})));var N=d;x?(N=d.transition("venn").duration(r)).selectAll("path").attrTween("d",C):N.selectAll("path").attr("d",(function(e){return Y(e.sets.map((function(e){return v[e]})))}));var A=N.selectAll("text").filter((function(e){return e.sets in y})).text((function(e){return w(e)})).attr("x",(function(e){return Math.floor(y[e.sets].x)})).attr("y",(function(e){return Math.floor(y[e.sets].y)}));s&&(x?"on"in A?A.on("end",L(v,w)):A.each("end",L(v,w)):A.each(L(v,w)));var F=S.exit().transition("venn").duration(r).remove();F.selectAll("path").attrTween("d",C);var j=F.selectAll("text").attr("x",e/2).attr("y",n/2);return null!==c&&(R.style("font-size","0px"),A.style("font-size",c),j.style("font-size","0px")),{circles:v,textCentres:y,nodes:S,enter:k,update:N,exit:F}}return v.wrap=function(e){return arguments.length?(s=e,v):s},v.width=function(t){return arguments.length?(e=t,v):e},v.height=function(e){return arguments.length?(n=e,v):n},v.padding=function(e){return arguments.length?(a=e,v):a},v.colours=function(e){return arguments.length?(f=e,v):f},v.fontSize=function(e){return arguments.length?(c=e,v):c},v.duration=function(e){return arguments.length?(r=e,v):r},v.layoutFunction=function(e){return arguments.length?(m=e,v):m},v.normalize=function(e){return arguments.length?(o=e,v):o},v.styled=function(e){return arguments.length?(l=e,v):l},v.orientation=function(e){return arguments.length?(i=e,v):i},v.orientationOrder=function(e){return arguments.length?(u=e,v):u},v.lossFunction=function(e){return arguments.length?(g=e,v):g},v},e.wrapText=L,e.computeTextCentres=I,e.computeTextCentre=R,e.sortAreas=function(e,t){for(var n=N(e.selectAll("svg").datum()),a={},r=0;r<t.sets.length;++r){var i=t.sets[r];for(var o in n)for(var s=n[o],l=0;l<s.length;++l)if(s[l]==i){a[o]=!0;break}}function c(e){for(var t=0;t<e.length;++t)if(!(e[t]in a))return!1;return!0}e.selectAll("g").sort((function(e,n){return e.sets.length!=n.sets.length?e.sets.length-n.sets.length:e==t?c(n.sets)?-1:1:n==t?c(e.sets)?1:-1:n.size-e.size}))},e.circlePath=A,e.circleFromPath=P,e.intersectionAreaPath=Y,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(72),n(449))},function(e,t,n){"use strict";var a=n(362),r=n(385);t.a=function(e){return Object(r.a)(Object(a.a)(e).call(document.documentElement))}},function(e,t,n){"use strict";var a=n(70),r=n(375);t.a=function(e){"function"!==typeof e&&(e=Object(r.a)(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s,l,c=t[o],u=c.length,d=i[o]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l);return new a.a(i,this._parents)}},function(e,t,n){"use strict";var a=n(70),r=n(386);t.a=function(e){"function"!==typeof e&&(e=Object(r.a)(e));for(var t=this._groups,n=t.length,i=[],o=[],s=0;s<n;++s)for(var l,c=t[s],u=c.length,d=0;d<u;++d)(l=c[d])&&(i.push(e.call(l,l.__data__,d,c)),o.push(l));return new a.a(i,o)}},function(e,t,n){"use strict";var a=n(70),r=n(387);t.a=function(e){"function"!==typeof e&&(e=Object(r.a)(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s,l=t[o],c=l.length,u=i[o]=[],d=0;d<c;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&u.push(s);return new a.a(i,this._parents)}},function(e,t,n){"use strict";var a=n(70),r=n(388),i=n(419),o="$";function s(e,t,n,a,i,o){for(var s,l=0,c=t.length,u=o.length;l<u;++l)(s=t[l])?(s.__data__=o[l],a[l]=s):n[l]=new r.a(e,o[l]);for(;l<c;++l)(s=t[l])&&(i[l]=s)}function l(e,t,n,a,i,s,l){var c,u,d,p={},h=t.length,f=s.length,m=new Array(h);for(c=0;c<h;++c)(u=t[c])&&(m[c]=d=o+l.call(u,u.__data__,c,t),d in p?i[c]=u:p[d]=u);for(c=0;c<f;++c)(u=p[d=o+l.call(e,s[c],c,s)])?(a[c]=u,u.__data__=s[c],p[d]=null):n[c]=new r.a(e,s[c]);for(c=0;c<h;++c)(u=t[c])&&p[m[c]]===u&&(i[c]=u)}t.a=function(e,t){if(!e)return v=new Array(this.size()),h=-1,this.each((function(e){v[++h]=e})),v;var n=t?l:s,r=this._parents,o=this._groups;"function"!==typeof e&&(e=Object(i.a)(e));for(var c=o.length,u=new Array(c),d=new Array(c),p=new Array(c),h=0;h<c;++h){var f=r[h],m=o[h],g=m.length,v=e.call(f,f&&f.__data__,h,r),y=v.length,_=d[h]=new Array(y),b=u[h]=new Array(y);n(f,m,_,b,p[h]=new Array(g),v,t);for(var w,E,T=0,x=0;T<y;++T)if(w=_[T]){for(T>=x&&(x=T+1);!(E=b[x])&&++x<y;);w._next=E||null}}return(u=new a.a(u,r))._enter=d,u._exit=p,u}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var a=n(389),r=n(70);t.a=function(){return new r.a(this._exit||this._groups.map(a.a),this._parents)}},function(e,t,n){"use strict";t.a=function(e,t,n){var a=this.enter(),r=this,i=this.exit();return a="function"===typeof e?e(a):a.append(e+""),null!=t&&(r=t(r)),null==n?i.remove():n(i),a&&r?a.merge(r).order():r}},function(e,t,n){"use strict";var a=n(70);t.a=function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c,u=t[l],d=n[l],p=u.length,h=s[l]=new Array(p),f=0;f<p;++f)(c=u[f]||d[f])&&(h[f]=c);for(;l<r;++l)s[l]=t[l];return new a.a(s,this._parents)}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a,r=e[t],i=r.length-1,o=r[i];--i>=0;)(a=r[i])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this}},function(e,t,n){"use strict";var a=n(70);function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}t.a=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var l,c=n[s],u=c.length,d=o[s]=new Array(u),p=0;p<u;++p)(l=c[p])&&(d[p]=l);d.sort(t)}return new a.a(o,this._parents).order()}},function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}return null}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.each((function(){++e})),e}},function(e,t,n){"use strict";t.a=function(){return!this.node()}},function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r,i=t[n],o=0,s=i.length;o<s;++o)(r=i[o])&&e.call(r,r.__data__,o,i);return this}},function(e,t,n){"use strict";var a=n(373);function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function s(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function c(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}t.a=function(e,t){var n=Object(a.a)(e);if(arguments.length<2){var u=this.node();return n.local?u.getAttributeNS(n.space,n.local):u.getAttribute(n)}return this.each((null==t?n.local?i:r:"function"===typeof t?n.local?c:l:n.local?s:o)(n,t))}},function(e,t,n){"use strict";function a(e){return function(){delete this[e]}}function r(e,t){return function(){this[e]=t}}function i(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?a:"function"===typeof t?i:r)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function a(e){return e.trim().split(/^|\s+/)}function r(e){return e.classList||new i(e)}function i(e){this._node=e,this._names=a(e.getAttribute("class")||"")}function o(e,t){for(var n=r(e),a=-1,i=t.length;++a<i;)n.add(t[a])}function s(e,t){for(var n=r(e),a=-1,i=t.length;++a<i;)n.remove(t[a])}function l(e){return function(){o(this,e)}}function c(e){return function(){s(this,e)}}function u(e,t){return function(){(t.apply(this,arguments)?o:s)(this,e)}}i.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=a(e+"");if(arguments.length<2){for(var i=r(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?u:t?l:c)(n,t))}},function(e,t,n){"use strict";function a(){this.textContent=""}function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?a:("function"===typeof e?i:r)(e)):this.node().textContent}},function(e,t,n){"use strict";function a(){this.innerHTML=""}function r(e){return function(){this.innerHTML=e}}function i(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?a:("function"===typeof e?i:r)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function a(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(a)}},function(e,t,n){"use strict";function a(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(a)}},function(e,t,n){"use strict";var a=n(362);t.a=function(e){var t="function"===typeof e?e:Object(a.a)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}},function(e,t,n){"use strict";var a=n(362),r=n(375);function i(){return null}t.a=function(e,t){var n="function"===typeof e?e:Object(a.a)(e),o=null==t?i:"function"===typeof t?t:Object(r.a)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))}},function(e,t,n){"use strict";function a(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(a)}},function(e,t,n){"use strict";function a(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function r(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}t.a=function(e){return this.select(e?r:a)}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";var a=n(376);function r(e,t,n){var r=Object(a.a)(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function i(e,t){return function(){return r(this,e,t)}}function o(e,t){return function(){return r(this,e,t.apply(this,arguments))}}t.a=function(e,t){return this.each(("function"===typeof t?o:i)(e,t))}},function(e,t,n){"use strict";t.a=r;var a=0;function r(){return new i}function i(){this._="@"+(++a).toString(36)}i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";var a=n(378),r=n(363);t.a=function(e){var t=Object(a.a)();return t.changedTouches&&(t=t.changedTouches[0]),Object(r.a)(e,t)}},function(e,t,n){"use strict";var a=n(70);t.a=function(e){return"string"===typeof e?new a.a([document.querySelectorAll(e)],[document.documentElement]):new a.a([null==e?[]:e],a.c)}},function(e,t,n){"use strict";var a=n(378),r=n(363);t.a=function(e,t,n){arguments.length<3&&(n=t,t=Object(a.a)().changedTouches);for(var i,o=0,s=t?t.length:0;o<s;++o)if((i=t[o]).identifier===n)return Object(r.a)(e,i);return null}},function(e,t,n){"use strict";var a=n(378),r=n(363);t.a=function(e,t){null==t&&(t=Object(a.a)().touches);for(var n=0,i=t?t.length:0,o=new Array(i);n<i;++n)o[n]=Object(r.a)(e,t[n]);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(450);var a=n(169);n.d(t,"transition",(function(){return a.b}));var r=n(485);n.d(t,"active",(function(){return r.a}));var i=n(391);n.d(t,"interrupt",(function(){return i.a}))},function(e,t,n){"use strict";var a=n(72),r=n(451),i=n(454);a.selection.prototype.interrupt=r.a,a.selection.prototype.transition=i.a},function(e,t,n){"use strict";var a=n(391);t.a=function(e){return this.each((function(){Object(a.a)(this,e)}))}},function(e,t,n){"use strict";var a=n(453);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a={value:function(){}};function r(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a)throw new Error("illegal type: "+e);a[e]=[]}return new i(a)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",a=e.indexOf(".");if(a>=0&&(n=e.slice(a+1),e=e.slice(0,a)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,a=0,r=e.length;a<r;++a)if((n=e[a]).name===t)return n.value}function l(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=a,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}i.prototype=r.prototype={constructor:i,on:function(e,t){var n,a=this._,r=o(e+"",a),i=-1,c=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<c;)if(n=(e=r[i]).type)a[n]=l(a[n],e.name,t);else if(null==t)for(n in a)a[n]=l(a[n],e.name,null);return this}for(;++i<c;)if((n=(e=r[i]).type)&&(n=s(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(a=this._[e]).length;i<n;++i)a[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}},t.a=r},function(e,t,n){"use strict";var a=n(169),r=n(46),i=n(173),o=n(170),s={time:null,delay:0,duration:250,ease:i.easeCubicInOut};function l(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return s.time=Object(o.now)(),s;return n}t.a=function(e){var t,n;e instanceof a.a?(t=e._id,e=e._name):(t=Object(a.c)(),(n=s).time=Object(o.now)(),e=null==e?null:e+"");for(var i=this._groups,c=i.length,u=0;u<c;++u)for(var d,p=i[u],h=p.length,f=0;f<h;++f)(d=p[f])&&Object(r.e)(d,e,t,f,p,n||l(d,t));return new a.a(i,this._parents,e,t)}},function(e,t,n){"use strict";var a=n(379),r=n(72),i=n(365),o=n(399);function s(e){return function(){this.removeAttribute(e)}}function l(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c(e,t,n){var a,r,i=n+"";return function(){var o=this.getAttribute(e);return o===i?null:o===a?r:r=t(a=o,n)}}function u(e,t,n){var a,r,i=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===a?r:r=t(a=o,n)}}function d(e,t,n){var a,r,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===a&&s===r?i:(r=s,i=t(a=o,l));this.removeAttribute(e)}}function p(e,t,n){var a,r,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===a&&s===r?i:(r=s,i=t(a=o,l));this.removeAttributeNS(e.space,e.local)}}t.a=function(e,t){var n=Object(r.namespace)(e),h="transform"===n?a.e:o.a;return this.attrTween(e,"function"===typeof t?(n.local?p:d)(n,h,Object(i.b)(this,"attr."+e,t)):null==t?(n.local?l:s)(n):(n.local?u:c)(n,h,t))}},function(e,t,n){},function(e,t,n){"use strict";n(174)},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(364),r=n(460);function i(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var l=[],c=[];return o=e(o),s=e(s),function(e,r,i,o,s,l){if(e!==i||r!==o){var c=s.push("translate(",null,t,null,n);l.push({i:c-4,x:Object(a.a)(e,i)},{i:c-2,x:Object(a.a)(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,l,c),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Object(a.a)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,l,c),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Object(a.a)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,l,c),function(e,t,n,r,o,s){if(e!==n||t!==r){var l=o.push(i(o)+"scale(",null,",",null,")");s.push({i:l-4,x:Object(a.a)(e,n)},{i:l-2,x:Object(a.a)(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,l,c),o=s=null,function(e){for(var t,n=-1,a=c.length;++n<a;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var o=i(r.a,"px, ","px)","deg)"),s=i(r.b,", ",")",")")},function(e,t,n){"use strict";t.a=function(e){return"none"===e?s.b:(a||(a=document.createElement("DIV"),r=document.documentElement,i=document.defaultView),a.style.transform=e,e=i.getComputedStyle(r.appendChild(a),null).getPropertyValue("transform"),r.removeChild(a),e=e.slice(7,-1).split(","),Object(s.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},t.b=function(e){return null==e?s.b:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),(e=o.transform.baseVal.consolidate())?(e=e.matrix,Object(s.a)(e.a,e.b,e.c,e.d,e.e,e.f)):s.b)};var a,r,i,o,s=n(461)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.a=function(e,t,n,r,i,o){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*a,skewX:Math.atan(c)*a,scaleX:s,scaleY:l}}},function(e,t,n){"use strict";Math.SQRT2},function(e,t,n){"use strict";var a=n(17),r=n(174);function i(e){return function(t,n){var i=e((t=Object(a.d)(t)).h,(n=Object(a.d)(n)).h),o=Object(r.a)(t.s,n.s),s=Object(r.a)(t.l,n.l),l=Object(r.a)(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=s(e),t.opacity=l(e),t+""}}}i(r.c),i(r.a)},function(e,t,n){"use strict";n(17),n(174)},function(e,t,n){"use strict";var a=n(17),r=n(174);function i(e){return function(t,n){var i=e((t=Object(a.c)(t)).h,(n=Object(a.c)(n)).h),o=Object(r.a)(t.c,n.c),s=Object(r.a)(t.l,n.l),l=Object(r.a)(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=o(e),t.l=s(e),t.opacity=l(e),t+""}}}i(r.c),i(r.a)},function(e,t,n){"use strict";var a=n(17),r=n(174);function i(e){return function t(n){function i(t,i){var o=e((t=Object(a.b)(t)).h,(i=Object(a.b)(i)).h),s=Object(r.a)(t.s,i.s),l=Object(r.a)(t.l,i.l),c=Object(r.a)(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=s(e),t.l=l(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,i.gamma=t,i}(1)}i(r.c),i(r.a)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var a=n(72);function r(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}(e,r)),n}return r._value=t,r}function i(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t){return function(n){this.setAttribute(e,t(n))}}(e,r)),n}return r._value=t,r}t.a=function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=Object(a.namespace)(e);return this.tween(n,(o.local?r:i)(o,t))}},function(e,t,n){"use strict";var a=n(46);function r(e,t){return function(){Object(a.g)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){Object(a.g)(this,e).delay=t}}t.a=function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?r:i)(t,e)):Object(a.f)(this.node(),t).delay}},function(e,t,n){"use strict";var a=n(46);function r(e,t){return function(){Object(a.h)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){Object(a.h)(this,e).duration=t}}t.a=function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?r:i)(t,e)):Object(a.f)(this.node(),t).duration}},function(e,t,n){"use strict";var a=n(46);function r(e,t){if("function"!==typeof t)throw new Error;return function(){Object(a.h)(this,e).ease=t}}t.a=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):Object(a.f)(this.node(),t).ease}},function(e,t,n){"use strict";var a=n(72),r=n(169);t.a=function(e){"function"!==typeof e&&(e=Object(a.matcher)(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var s,l=t[o],c=l.length,u=i[o]=[],d=0;d<c;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&u.push(s);return new r.a(i,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var a=n(169);t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var c,u=t[l],d=n[l],p=u.length,h=s[l]=new Array(p),f=0;f<p;++f)(c=u[f]||d[f])&&(h[f]=c);for(;l<r;++l)s[l]=t[l];return new a.a(s,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var a=n(46);function r(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?a.g:a.h;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}t.a=function(e,t){var n=this._id;return arguments.length<2?Object(a.f)(this.node(),n).on.on(e):this.each(r(n,e,t))}},function(e,t,n){"use strict";t.a=function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e}},function(e,t,n){"use strict";var a=n(72),r=n(169),i=n(46);t.a=function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(a.selector)(e));for(var o=this._groups,s=o.length,l=new Array(s),c=0;c<s;++c)for(var u,d,p=o[c],h=p.length,f=l[c]=new Array(h),m=0;m<h;++m)(u=p[m])&&(d=e.call(u,u.__data__,m,p))&&("__data__"in u&&(d.__data__=u.__data__),f[m]=d,Object(i.e)(f[m],t,n,m,f,Object(i.f)(u,n)));return new r.a(l,this._parents,t,n)}},function(e,t,n){"use strict";var a=n(72),r=n(169),i=n(46);t.a=function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(a.selectorAll)(e));for(var o=this._groups,s=o.length,l=[],c=[],u=0;u<s;++u)for(var d,p=o[u],h=p.length,f=0;f<h;++f)if(d=p[f]){for(var m,g=e.call(d,d.__data__,f,p),v=Object(i.f)(d,n),y=0,_=g.length;y<_;++y)(m=g[y])&&Object(i.e)(m,t,n,y,g,v);l.push(g),c.push(d)}return new r.a(l,c,t,n)}},function(e,t,n){"use strict";var a=n(72).selection.prototype.constructor;t.a=function(){return new a(this._groups,this._parents)}},function(e,t,n){"use strict";var a=n(379),r=n(72),i=n(46),o=n(365),s=n(399);function l(e){return function(){this.style.removeProperty(e)}}t.a=function(e,t,n){var c="transform"===(e+="")?a.d:s.a;return null==t?this.styleTween(e,function(e,t){var n,a,i;return function(){var o=Object(r.style)(this,e),s=(this.style.removeProperty(e),Object(r.style)(this,e));return o===s?null:o===n&&s===a?i:i=t(n=o,a=s)}}(e,c)).on("end.style."+e,l(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var a,i,o;return function(){var s=Object(r.style)(this,e),l=n(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=Object(r.style)(this,e)),s===c?null:s===a&&c===i?o:(i=c,o=t(a=s,l))}}(e,c,Object(o.b)(this,"style."+e,t))).each(function(e,t){var n,a,r,o,s="style."+t,c="end."+s;return function(){var u=Object(i.h)(this,e),d=u.on,p=null==u.value[s]?o||(o=l(t)):void 0;d===n&&r===p||(a=(n=d).copy()).on(c,r=p),u.on=a}}(this._id,e)):this.styleTween(e,function(e,t,n){var a,i,o=n+"";return function(){var s=Object(r.style)(this,e);return s===o?null:s===a?i:i=t(a=s,n)}}(e,c,t),n).on("end.style."+e,null)}},function(e,t,n){"use strict";function a(e,t,n){var a,r;function i(){var i=t.apply(this,arguments);return i!==r&&(a=(r=i)&&function(e,t,n){return function(a){this.style.setProperty(e,t(a),n)}}(e,i,n)),a}return i._value=t,i}t.a=function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,a(e,t,null==n?"":n))}},function(e,t,n){"use strict";var a=n(365);t.a=function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Object(a.b)(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))}},function(e,t,n){"use strict";var a=n(169),r=n(46);t.a=function(){for(var e=this._name,t=this._id,n=Object(a.c)(),i=this._groups,o=i.length,s=0;s<o;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){var p=Object(r.f)(l,t);Object(r.e)(l,e,n,d,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new a.a(i,this._parents,e,n)}},function(e,t,n){"use strict";var a=n(46);t.a=function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var l={value:s},c={value:function(){0===--i&&o()}};n.each((function(){var n=Object(a.h)(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),n.on=t}))}))}},function(e,t,n){"use strict";var a=n(169),r=n(46),i=[null];t.a=function(e,t){var n,o,s=e.__transition;if(s)for(o in t=null==t?null:t+"",s)if((n=s[o]).state>r.c&&n.name===t)return new a.a([[e]],i,t,+o);return null}},function(e,t,n){var a=n(0),r=n(19),i=n(45),o=n(7),s=a.PathUtil;function l(e){var t=o.shape.venn,n=a.mix({},t,e.style);return i.addFillAttrs(n,e),n}var c=r.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(e,t){var n=t.lineWidth||1;return"hollow"===e?{lineWidth:n+1}:{fillOpacity:(t.fillOpacity||t.opacity||1)-.08}},getSelectedCfg:function(e,t){return t&&t.style?t.style:this.getActiveCfg(e,t)}});r.registerShape("venn","venn",{draw:function(e,t){var n=e.origin._origin.path,r=l(e),i=s.parsePathString(n);return t.addShape("path",{attrs:a.mix(r,{path:i})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4},l(e))}}),r.registerShape("venn","hollow",{draw:function(e,t){var n=e.origin._origin.path,r=function(e){var t=o.shape.hollowVenn,n=a.mix({},t,e.style);return i.addStrokeAttrs(n,e),n}(e),l=s.parsePathString(n);return t.addShape("path",{attrs:a.mix(r,{path:l})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4},l(e))}}),e.exports=c},function(e,t,n){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=n(21),i=n(0),o=n(359);n(488);var s=function(e){a(n,e);var t=n.prototype;function n(t){var n;return n=e.call(this,t)||this,i.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),o),n}return t.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t},t.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t);n.size=this.getNormalizedSize(t);var a=this.get("_sizeField");return n._size=t._origin[a],n},t.clearInner=function(){e.prototype.clearInner.call(this),this.set("defaultSize",null)},t._initAttrs=function(){var t=this.get("attrOptions"),n=t.size?t.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",n),delete t.size,e.prototype._initAttrs.call(this)},n}(r),l=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"dodge"}],t},t}(s);s.Dodge=l,r.Violin=s,r.ViolinDodge=l,e.exports=s},function(e,t,n){var a=n(0),r=n(19),i=n(45),o=n(7),s=n(23);function l(e){var t=o.shape.venn,n=a.mix({},t,e.style);return i.addFillAttrs(n,e),e.color&&(n.stroke=n.stroke||e.color),n}function c(e){var t=o.shape.hollowVenn,n=a.mix({},t,e.style);return i.addStrokeAttrs(n,e),n}function u(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(a){var r=0===n?"M":"L";t.push([r,a.x,a.y])}}var i=e[0];return i&&(t.push(["L",i.x,i.y]),t.push(["z"])),t}function d(e){for(var t=e.length/2,n=[],a=[],r=0;r<e.length;r++)r<t?n.push(e[r]):a.push(e[r]);var i=s.getSplinePath(n,!1),o=s.getSplinePath(a,!1);a.length&&i.push(["L",a[0].x,a[0].y]),o.shift();var l=i.concat(o);return n.length&&l.push(["L",n[0].x,n[0].y]),l.push(["z"]),l}var p=r.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var t=e.size/2,n=[],r=function(e){var t=Math.max.apply(null,e);return e.map((function(e){return e/t}))}(e._size);return a.each(e.y,(function(a,i){var o=r[i]*t,s=0===i,l=i===e.y.length-1;n.push({isMin:s,isMax:l,x:e.x-o,y:a}),n.unshift({isMin:s,isMax:l,x:e.x+o,y:a})})),n},getActiveCfg:function(e,t){var n=t.lineWidth||1;return"hollow"===e?{lineWidth:n+1}:{fillOpacity:(t.fillOpacity||t.opacity||1)-.08}},getSelectedCfg:function(e,t){return t&&t.style?t.style:this.getActiveCfg(e,t)}});r.registerShape("violin","violin",{draw:function(e,t){var n=l(e),r=u(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4},l(e))}}),r.registerShape("violin","smooth",{draw:function(e,t){var n=l(e),r=d(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4},l(e))}}),r.registerShape("violin","hollow",{draw:function(e,t){var n=c(e),r=u(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4},c(e))}}),r.registerShape("violin","smoothHollow",{draw:function(e,t){var n=c(e),r=d(e.points);return r=this.parsePath(r),t.addShape("path",{attrs:a.mix(n,{path:r})})},getMarkerCfg:function(e){return a.mix({symbol:"circle",radius:4},c(e))}}),e.exports=p},function(e,t,n){var a=n(0),r=n(146),i={};i.Rect=n(400),i.List=n(401),i.Circle=n(490),i.Tree=n(491),i.Mirror=n(492),i.Matrix=n(493),r.prototype.facet=function(e,t){var n=i[a.upperFirst(e)];if(!n)throw new Error("Not support such type of facets as: "+e);var r=this.get("facets");r&&r.destroy(),t.chart=this;var o=new n(t);this.set("facets",o)},e.exports=i},function(e,t,n){function a(e,t,n){return{x:e.x+t*Math.cos(n),y:e.y+t*Math.sin(n)}}var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="circle",t},i.getRegion=function(e,t){var n=2*Math.PI/e,r=-1*Math.PI/2+n*t,i=.5/(1+1/Math.sin(n/2)),o=a({x:.5,y:.5},.5-i,r),s=5*Math.PI/4,l=1*Math.PI/4;return{start:a(o,i,s),end:a(o,i,l)}},i.generateFacets=function(e){var t=this,n=t.fields[0];if(!n)throw"Please specify for the field for facet!";var a=t.getFieldValues(n,e),r=a.length,i=[];return a.forEach((function(o,s){var l=[{field:n,value:o,values:a}],c=t.getFilter(l),u=e.filter(c),d={type:t.type,colValue:o,colField:n,colIndex:s,cols:r,rows:1,rowIndex:0,data:u,region:t.getRegion(r,s)};i.push(d)})),i},r}(n(366));e.exports=r},function(e,t,n){var a=n(366),r=n(0).assign,i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="tree",t.line={lineWidth:1,stroke:"#ddd"},t.lineSmooth=!1,t},i.generateFacets=function(e){if(!this.fields.length)throw"Please specify for the fields for facet!";var t=[],n=this.getRootFacet(e);return t.push(n),n.children=this.getChildFacets(e,1,t),this.setRegion(t),t},i.getRootFacet=function(e){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:e}},i.getRows=function(){return this.fields.length+1},i.getChildFacets=function(e,t,n){var a=this,r=a.fields;if(!(r.length<t)){var i=[],o=r[t-1],s=a.getFieldValues(o,e);return s.forEach((function(r,l){var c=[{field:o,value:r,values:s}],u=a.getFilter(c),d=e.filter(u);if(d.length){var p={type:a.type,colValue:r,colField:o,colIndex:l,rows:a.getRows(),rowIndex:t,data:d,children:a.getChildFacets(d,t+1,n)};i.push(p),n.push(p)}})),i}},i.setRegion=function(e){var t=this;t.forceColIndex(e),e.forEach((function(e){e.region=t.getRegion(e.rows,e.cols,e.colIndex,e.rowIndex)}))},i.forceColIndex=function(e){var t=this,n=[],a=0;e.forEach((function(e){t.isLeaf(e)&&(n.push(e),e.colIndex=a,a++)})),n.forEach((function(e){e.cols=n.length}));for(var r=t.fields.length-1;r>=0;r--)for(var i=t.getFacetsByLevel(e,r),o=0;o<i.length;o++){var s=i[o];t.isLeaf(s)||(s.originColIndex=s.colIndex,s.colIndex=t.getRegionIndex(s.children),s.cols=n.length)}},i.getFacetsByLevel=function(e,t){var n=[];return e.forEach((function(e){e.rowIndex===t&&n.push(e)})),n},i.getRegion=function(e,t,n,a){var r=1/t,i=1/e,o={x:r*n,y:i*a};return{start:o,end:{x:o.x+r,y:o.y+2*i/3}}},i.getRegionIndex=function(e){var t=e[0];return(e[e.length-1].colIndex-t.colIndex)/2+t.colIndex},i.isLeaf=function(e){return!e.children||!e.children.length},i.setXAxis=function(e,t,n){n.rowIndex!==n.rows-1&&(t[e].label=null,t[e].title=null)},i.setYAxis=function(e,t,n){0!==n.originColIndex&&0!==n.colIndex&&(t[e].title=null,t[e].label=null)},i.onPaint=function(){e.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},i.drawLines=function(e,t){var n=this,a=t.addGroup();e.forEach((function(e){if(!n.isLeaf(e)){var t=e.children;n._addFacetLines(e,t,a)}}))},i._addFacetLines=function(e,t,n){var a=this,r=e.view.getViewRegion(),i={x:r.start.x+(r.end.x-r.start.x)/2,y:r.start.y};t.forEach((function(e){var t=e.view.getViewRegion(),r={x:t.start.x+(t.end.x-t.start.x)/2,y:t.end.y},o={x:i.x,y:i.y+(r.y-i.y)/2},s={x:r.x,y:o.y};a._drawLine([i,o,s,r],n)}))},i._getPath=function(e){var t=[];return this.lineSmooth?(t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y])):e.forEach((function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t},i._drawLine=function(e,t){var n=this._getPath(e),a=this.line;t.addShape("path",{attrs:r({path:n},a)})},a}(a);e.exports=i},function(e,t,n){var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="mirror",this.transpose=!1,t},r.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),e.prototype.init.call(this)},r.beforeProcessView=function(e,t){this.transpose?t.colIndex%2===0?e.coord().transpose().scale(-1,1):e.coord().transpose():t.rowIndex%2!==0&&e.coord().scale(1,-1)},r.renderTitle=function(e,t){this.transpose?this.drawColTitle(e,t):this.drawRowTitle(e,t)},r.setXAxis=function(e,t,n){1!==n.colIndex&&1!==n.rowIndex||(t[e].label=null,t[e].title=null)},r.setYAxis=function(){},a}(n(401));e.exports=a},function(e,t,n){var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="matrix",t.showTitle=!1,t},r.generateFacets=function(e){for(var t=this.fields,n=t.length,a=n,r=[],i=0;i<a;i++)for(var o=t[i],s=0;s<n;s++){var l=t[s],c={type:this.type,colValue:o,rowValue:l,colField:o,rowField:l,colIndex:i,rowIndex:s,cols:a,rows:n,data:e,region:this.getRegion(n,a,i,s)};r.push(c)}return r},r.setXAxis=function(e,t,n){n.rowIndex!==n.rows-1&&(t[e].title=null,t[e].label=null)},r.setYAxis=function(e,t,n){0!==n.colIndex&&(t[e].title=null,t[e].label=null)},a}(n(400));e.exports=a},function(e,t,n){var a=n(172),r=n(146),i=n(0),o={Base:n(171),Brush:n(495),Drag:n(496),ScrollBar:n(498),ShapeSelect:n(500),Slider:n(501),Zoom:n(503)};a._Interactions={},a.registerInteraction=function(e,t){a._Interactions[e]=t},a.getInteraction=function(e){return a._Interactions[e]},r.prototype.getInteractions=function(){return this._interactions||(this._interactions={}),this._interactions},r.prototype._setInteraction=function(e,t){var n=this.getInteractions();n[e]&&n[e]!==t&&n[e].destroy(),n[e]=t},r.prototype.clearInteraction=function(e){var t=this.getInteractions();e?(t[e]&&(t[e]._reset(),t[e].destroy()),delete t[e]):i.each(t,(function(e,n){e._reset(),e.destroy(),delete t[n]}))},r.prototype.interact=r.prototype.interaction=function(e,t){var n=new(a.getInteraction(e))(t,this);return this._setInteraction(e,n),this},a.registerInteraction("brush",o.Brush),a.registerInteraction("Brush",o.Brush),a.registerInteraction("drag",o.Drag),a.registerInteraction("Drag",o.Drag),a.registerInteraction("zoom",o.Zoom),a.registerInteraction("Zoom",o.Zoom),a.registerInteraction("scroll-bar",o.ScrollBar),a.registerInteraction("ScrollBar",o.ScrollBar),a.registerInteraction("shape-select",o.ShapeSelect),a.registerInteraction("ShapeSelect",o.ShapeSelect),a.registerInteraction("slider",o.Slider),a.registerInteraction("Slider",o.Slider),e.exports=o},function(e,t,n){var a=n(0),r=n(171),i=["X","Y","XY","POLYGON"],o="XY",s=function(e){var t,n;n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=s.prototype;function s(t,n){var a,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a=e.call(this,t,n)||this);r.filter=!r.draggable,r.type=r.type.toUpperCase(),r.chart=n,i.includes(r.type)||(r.type=o);var s,l=r.canvas;if(l&&(l.get("children").map((function(e){return"plotBack"===e.get("type")?(s=e.get("plotRange"),!1):e})),r.plot={start:s.bl,end:s.tr}),n){var c=n.get("coord");r.plot={start:c.start,end:c.end},r.isTransposed=c.isTransposed;var u=n._getScales("x"),d=n._getScales("y");r.xScale=r.xField?u[r.xField]:n.getXScale(),r.yScale=r.yField?d[r.yField]:n.getYScales()[0]}return a}return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:o,startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},r.start=function(e){var t=this,n=t.canvas,a=t.type,r=t.brushShape;if(a){var i={x:e.offsetX,y:e.offsetY};if(i.x){var o=t.plot&&t.inPlot,s=n.get("canvasDOM"),l=n.get("pixelRatio");if(t.selection&&(t.selection=null),t.draggable&&r&&!r.get("destroyed")){if(r.isHit(i.x*l,i.y*l)){if(s.style.cursor="move",t.selection=r,t.dragging=!0,"X"===a)t.dragoffX=i.x-r.attr("x"),t.dragoffY=0;else if("Y"===a)t.dragoffX=0,t.dragoffY=i.y-r.attr("y");else if("XY"===a)t.dragoffX=i.x-r.attr("x"),t.dragoffY=i.y-r.attr("y");else if("POLYGON"===a){var c=r.getBBox();t.dragoffX=i.x-c.minX,t.dragoffY=i.y-c.minY}t.onDragstart&&t.onDragstart(e)}t.prePoint=i}if(!t.dragging){t.onBrushstart&&t.onBrushstart(i);var u=t.container;if(o){var d=t.plot,p=d.start,h=d.end;if(i.x<p.x||i.x>h.x||i.y<h.y||i.y>p.y)return}s.style.cursor="crosshair",t.startPoint=i,t.brushShape=null,t.brushing=!0,u?u.clear():(u=n.addGroup({zIndex:5})).initTransform(),t.container=u,"POLYGON"===a&&(t.polygonPath="M "+i.x+" "+i.y)}}}},r.process=function(e){var t=this,n=t.brushing,r=t.dragging,i=t.type,o=t.plot,s=t.startPoint,l=t.xScale,c=t.yScale,u=t.canvas;if(n||r){var d={x:e.offsetX,y:e.offsetY},p=u.get("canvasDOM");if(n){p.style.cursor="crosshair";var h,f,m,g,v=o.start,y=o.end,_=t.polygonPath,b=t.brushShape,w=t.container;t.plot&&t.inPlot&&(d=t._limitCoordScope(d)),"Y"===i?(h=v.x,f=d.y>=s.y?s.y:d.y,m=Math.abs(v.x-y.x),g=Math.abs(s.y-d.y)):"X"===i?(h=d.x>=s.x?s.x:d.x,f=y.y,m=Math.abs(s.x-d.x),g=Math.abs(y.y-v.y)):"XY"===i?(d.x>=s.x?(h=s.x,f=d.y>=s.y?s.y:d.y):(h=d.x,f=d.y>=s.y?s.y:d.y),m=Math.abs(s.x-d.x),g=Math.abs(s.y-d.y)):"POLYGON"===i&&(_+="L "+d.x+" "+d.y,t.polygonPath=_,b?!b.get("destroyed")&&b.attr(a.mix({},b._attrs,{path:_})):b=w.addShape("path",{attrs:a.mix(t.style,{path:_})})),"POLYGON"!==i&&(b?!b.get("destroyed")&&b.attr(a.mix({},b._attrs,{x:h,y:f,width:m,height:g})):b=w.addShape("rect",{attrs:a.mix(t.style,{x:h,y:f,width:m,height:g})})),t.brushShape=b}else if(r){p.style.cursor="move";var E=t.selection;if(E&&!E.get("destroyed"))if("POLYGON"===i){var T=t.prePoint;t.selection.translate(d.x-T.x,d.y-T.y)}else t.dragoffX&&E.attr("x",d.x-t.dragoffX),t.dragoffY&&E.attr("y",d.y-t.dragoffY)}t.prePoint=d,u.draw();var x=t._getSelected(),C=x.data,S=x.shapes,k=x.xValues,O=x.yValues,M={data:C,shapes:S};l&&(M[l.field]=k),c&&(M[c.field]=O),a.mix(e,M),M.x=d.x,M.y=d.y,t.onDragmove&&t.onDragmove(M),t.onBrushmove&&t.onBrushmove(M)}},r.end=function(e){var t=this;if(t.brushing||t.dragging){var n=t.data,r=t.shapes,i=t.xValues,o=t.yValues,s=t.canvas,l=t.type,c=t.startPoint,u=t.chart,d=t.container,p=t.xScale,h=t.yScale,f=e.offsetX,m=e.offsetY;if(s.get("canvasDOM").style.cursor="default",Math.abs(c.x-f)<=1&&Math.abs(c.y-m)<=1)return t.brushing=!1,t.dragging=!1,d.clear(),void s.draw();var g={data:n,shapes:r};if(p&&(g[p.field]=i),h&&(g[h.field]=o),a.mix(e,g),g.x=f,g.y=m,t.dragging)t.dragging=!1,t.onDragend&&t.onDragend(g);else if(t.brushing){t.brushing=!1;var v=t.brushShape,y=t.polygonPath;"POLYGON"===l&&(y+="z",v&&!v.get("destroyed")&&v.attr(a.mix({},v._attrs,{path:y})),t.polygonPath=y,s.draw()),t.onBrushend?t.onBrushend(g):u&&t.filter&&(d.clear(),!t.isTransposed&&"X"===l||t.isTransposed&&"Y"===l?p&&u.filter(p.field,(function(e){return i.indexOf(e)>-1})):!t.isTransposed&&"Y"===l||t.isTransposed&&"X"===l?h&&u.filter(h.field,(function(e){return o.indexOf(e)>-1})):(p&&u.filter(p.field,(function(e){return i.indexOf(e)>-1})),h&&u.filter(h.field,(function(e){return o.indexOf(e)>-1}))),u.repaint())}}},r.reset=function(){var e=this.chart,t=this.filter,n=this.brushShape,a=this.canvas;e&&t&&(e.get("options").filters={},e.repaint()),n&&(n.destroy(),a.draw())},r._limitCoordScope=function(e){var t=this.plot,n=t.start,a=t.end;return e.x<n.x&&(e.x=n.x),e.x>a.x&&(e.x=a.x),e.y<a.y&&(e.y=a.y),e.y>n.y&&(e.y=n.y),e},r._getSelected=function(){var e=this,t=e.chart,n=e.xScale,a=e.yScale,r=e.brushShape,i=e.canvas,o=i.get("pixelRatio"),s=[],l=[],c=[],u=[];return t&&t.get("geoms").map((function(e){return e.getShapes().map((function(e){var t=e.get("origin");return Array.isArray(t)||(t=[t]),t.map((function(t){if(r.isHit(t.x*o,t.y*o)){s.push(e);var i=t._origin;u.push(i),n&&l.push(i[n.field]),a&&c.push(i[a.field])}return t})),e})),e})),e.shapes=s,e.xValues=l,e.yValues=c,e.data=u,i.draw(),{data:u,xValues:l,yValues:c,shapes:s}},s}(r);e.exports=s},function(e,t,n){var a=n(0),r=n(171),i=n(497),o=n(383),s=n(384),l=["X","Y","XY"],c="X",u=function(e){var t,n;n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=u.prototype;function u(t,n){var r,o=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=e.call(this,t,n)||this);o.type=o.type.toUpperCase(),o.chart=n,o.coord=n.get("coord");var u=o.data=n.get("data");i(n);var d=n.getYScales(),p=n.getXScale();d.push(p);var h=n.get("scaleController");return d.forEach((function(e){var t=e.field;o.limitRange[t]=s(u,e);var n=h.defs[t]||{};o.originScaleDefsByField[t]=a.mix(n,{nice:!!n.nice}),e.isLinear&&(o.stepByField[t]=(e.max-e.min)*o.stepRatio)})),l.includes(o.type)||(o.type=c),o._disableTooltip(),r}return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{type:c,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},r._disableTooltip=function(){var e=this.chart;e.get("tooltipController")&&(this._showTooltip=!0,e.tooltip(!1))},r._enableTooltip=function(e){var t=this.chart;this._showTooltip&&(t.tooltip(!0),t.showTooltip(e))},r._applyTranslate=function(e,t,n){void 0===t&&(t=0),e.isLinear?this._translateLinearScale(e,t,n):this._translateCatScale(e,t,n)},r._translateCatScale=function(e,t,n){var r=this.chart,i=e.type,s=e.field,l=e.values,c=e.ticks,u=o(r,s),d=this.limitRange[s],p=t/n,h=l.length,f=Math.max(1,Math.abs(parseInt(p*h))),m=d.indexOf(l[0]),g=d.indexOf(l[h-1]);if(t>0&&m>=0){for(var v=0;v<f&&m>0;v++)m-=1,g-=1;var y=d.slice(m,g+1),_=null;if("timeCat"===i){for(var b=c.length>2?c[1]-c[0]:864e5,w=c[0]-b;w>=y[0];w-=b)c.unshift(w);_=c}r.scale(s,a.mix({},u,{values:y,ticks:_}))}else if(t<0&&g<=d.length-1){for(var E=0;E<f&&g<d.length-1;E++)m+=1,g+=1;var T=d.slice(m,g+1),x=null;if("timeCat"===i){for(var C=c.length>2?c[1]-c[0]:864e5,S=c[c.length-1]+C;S<=T[T.length-1];S+=C)c.push(S);x=c}r.scale(s,a.mix({},u,{values:T,ticks:x}))}},r._translateLinearScale=function(e,t,n){var r=this.chart,i=this.limitRange,s=e.min,l=e.max,c=e.field;if(s!==i[c].min||l!==i[c].max){var u=t/n,d=l-s,p=o(r,c);r.scale(c,a.mix({},p,{nice:!1,min:s+u*d,max:l+u*d}))}},r.start=function(e){this.canvas.get("canvasDOM").style.cursor="pointer",this.isDragging=!0,this.previousPoint={x:e.x,y:e.y},this._disableTooltip()},r.process=function(e){var t=this;if(t.isDragging){var n=t.chart,a=t.type,r=t.canvas,i=t.coord,o=t.threshold;r.get("canvasDOM").style.cursor="move";var s=t.previousPoint,l=e,c=l.x-s.x,u=l.y-s.y,d=!1;if(Math.abs(c)>o&&a.indexOf("X")>-1){d=!0;var p=n.getXScale();t._applyTranslate(p,p.isLinear?-c:c,i.width)}Math.abs(u)>o&&a.indexOf("Y")>-1&&(d=!0,n.getYScales().forEach((function(e){t._applyTranslate(e,l.y-s.y,i.height)}))),d&&(t.previousPoint=l,n.repaint())}},r.end=function(e){this.isDragging=!1,this.canvas.get("canvasDOM").style.cursor="default",this._enableTooltip(e)},r.reset=function(){var e=this.view,t=this.originScaleDefsByField,n=e.getYScales(),a=e.getXScale();n.push(a),n.forEach((function(n){if(n.isLinear){var a=n.field;e.scale(a,t[a])}})),e.repaint(),this._disableTooltip()},u}(r);e.exports=u},function(e,t,n){var a=n(0),r=n(71),i=n(382);e.exports=function(e){e.on("beforeinitgeoms",(function(){e.set("limitInPlot",!0);var t=e.get("data"),n=i(e);if(!n)return t;var o=e.get("geoms"),s=!1;a.each(o,(function(e){if(["area","line","path"].includes(e.get("type")))return s=!0,!1}));var l=[];if(a.each(n,(function(e,t){!s&&e&&(e.values||e.min||e.max)&&l.push(t)})),0===l.length)return t;var c=[];a.each(t,(function(e){var t=!0;a.each(l,(function(i){var o=e[i];if(o){var s=n[i];if("timeCat"===s.type){var l=s.values;a.isNumber(l[0])&&(o=r.toTimeStamp(o))}(s.values&&!s.values.includes(o)||s.min&&o<s.min||s.max&&o>s.max)&&(t=!1)}})),t&&c.push(e)})),e.set("filteredData",c)}))}},function(e,t,n){var a=n(0),r=n(171),i=n(499),o=n(384),s=function(e){var t,n;n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=s.prototype;function s(t,n){var r,i=(r=e.call(this,t,n)||this).getDefaultCfg();return n.set("_scrollBarCfg",a.deepMix({},i,t)),n.set("_limitRange",{}),n.get("_horizontalBar")||n.get("_verticalBar")||r._renderScrollBars(),r}return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},r._renderScrollBars=function(){var e=this.chart,t=e.get("_scrollBarCfg");if(t){var n=e.get("data"),a=e.get("plotRange");a.width=Math.abs(a.br.x-a.bl.x),a.height=Math.abs(a.tl.y-a.bl.y);var r=e.get("backPlot"),s=e.get("canvas").get("height"),l=e.get("_limitRange"),c=t.type;if(c.indexOf("X")>-1){var u=t.xStyle,d=u.offsetX,p=u.offsetY,h=u.lineCap,f=u.backgroundColor,m=u.fillerColor,g=u.size,v=e.getXScale(),y=l[v.field];y||(y=o(n,v),l[v.field]=y);var _=i(v,y,v.type),b=e.get("_horizontalBar"),w=s-g/2+p;b?b.get("children")[1].attr({x1:Math.max(a.bl.x+a.width*_[0]+d,a.bl.x),x2:Math.min(a.bl.x+a.width*_[1]+d,a.br.x)}):((b=r.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:a.bl.x+d,y1:w,x2:a.br.x+d,y2:w,lineWidth:g,stroke:f,lineCap:h}}),b.addShape("line",{attrs:{x1:Math.max(a.bl.x+a.width*_[0]+d,a.bl.x),y1:w,x2:Math.min(a.bl.x+a.width*_[1]+d,a.br.x),y2:w,lineWidth:g,stroke:m,lineCap:h}}),e.set("_horizontalBar",b))}if(c.indexOf("Y")>-1){var E=t.yStyle,T=E.offsetX,x=E.offsetY,C=E.lineCap,S=E.backgroundColor,k=E.fillerColor,O=E.size,M=e.getYScales()[0],L=l[M.field];L||(L=o(n,M),l[M.field]=L);var D=i(M,L,M.type),R=e.get("_verticalBar"),N=O/2+T;R?R.get("children")[1].attr({y1:Math.max(a.tl.y+a.height*D[0]+x,a.tl.y),y2:Math.min(a.tl.y+a.height*D[1]+x,a.bl.y)}):((R=r.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:N,y1:a.tl.y+x,x2:N,y2:a.bl.y+x,lineWidth:O,stroke:S,lineCap:C}}),R.addShape("line",{attrs:{x1:N,y1:Math.max(a.tl.y+a.height*D[0]+x,a.tl.y),x2:N,y2:Math.min(a.tl.y+a.height*D[1]+x,a.bl.y),lineWidth:O,stroke:k,lineCap:C}}),e.set("_verticalBar",R))}}},r._clear=function(){var e=this.chart;if(e){var t=e.get("_horizontalBar"),n=e.get("_verticalBar");t&&t.remove(!0),n&&n.remove(!0),e.set("_horizontalBar",null),e.set("_verticalBar",null)}},r._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var e=this.chart;e.on("afterclear",this._onAfterclearOrBeforechangedata),e.on("beforechangedata",this._onAfterclearOrBeforechangedata),e.on("afterclearinner",this._onAfterclearinner),e.on("afterdrawgeoms",this._onAfterdrawgeoms)},r._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},r._onAfterclearinner=function(){this._clear()},r._onAfterdrawgeoms=function(){this._renderScrollBars()},r._clearEvents=function(){var e=this.chart;e&&(e.off("afterclear",this._onAfterclearOrBeforechangedata),e.off("beforechangedata",this._onAfterclearOrBeforechangedata),e.off("afterclearinner",this._onAfterclearinner),e.off("afterdrawgeoms",this._onAfterdrawgeoms))},r.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},s}(r);e.exports=s},function(e,t){e.exports=function(e,t,n){if(!e)return[0,1];var a=0,r=0;if("linear"===n){var i=t.min,o=t.max-i;a=(e.min-i)/o,r=(e.max-i)/o}else{var s=t,l=e.values,c=s.indexOf(l[0]),u=s.indexOf(l[l.length-1]);a=c/(s.length-1),r=u/(s.length-1)}return[a,r]}},function(e,t,n){var a=n(0);function r(e,t){var n={};for(var a in t)n[a]=e[a];return n}var i=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},o.start=function(e){var t,n=this.view,i=[];if(n.eachShape((function(n,a){a.isPointInPath(e.x,e.y)?t=a:i.push(a)})),t)if(t.get("_selected")){if(!this.cancelable)return;this.reset()}else{var o=this.selectStyle,s=this.unSelectStyle,l=r(t.attr(),t);t.set("_originAttrs",l),t.attr(o),a.each(i,(function(e){var t=e.get("_originAttrs");t&&e.attr(t),e.set("_selected",!1),s&&(t=r(e.attr(),s),e.set("_originAttrs",t),e.attr(s))})),t.set("_selected",!0),this.selectedShape=t,this.canvas.draw()}else this.reset()},o.end=function(e){var t=this.selectedShape;t&&!t.get("destroyed")&&t.get("origin")&&(e.data=t.get("origin")._origin,e.shapeInfo=t.get("origin"),e.shape=t,e.selected=!!t.get("_selected"))},o.reset=function(){if(this.selectedShape){var e=this.view.get("geoms")[0].get("container").get("children")[0].get("children");a.each(e,(function(e){var t=e.get("_originAttrs");t&&(e._attrs=t,e.set("_originAttrs",null)),e.set("_selected",!1)})),this.canvas.draw()}},i}(n(171));e.exports=i},function(e,t,n){var a=n(502),r=n(146),i=n(0),o=n(16),s=n(7),l=n(171),c=n(383),u=n(382),d=o.Canvas,p=i.DomUtil,h=i.isNumber,f=function(e){var t,n;n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=l.prototype;function l(t,n){var a,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a=e.call(this,t,n)||this);return r._initContainer(),r._initStyle(),r.render(),a}return o.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return i.mix({},t,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:s.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},o._initContainer=function(){var e=this.container;if(!e)throw new Error("Please specify the container for the Slider!");i.isString(e)?this.domContainer=document.getElementById(e):this.domContainer=e},o.forceFit=function(){var e=this;if(e&&!e.destroyed){var t=p.getWidth(e.domContainer),n=e.height;if(t!==e.domWidth){var a=e.canvas;a.changeSize(t,n),e.bgChart&&e.bgChart.changeWidth(t),a.clear(),e._initWidth(),e._initSlider(),e._bindEvent(),a.draw()}}},o._initForceFitEvent=function(){var e=setTimeout(i.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=e},o._initStyle=function(){var e=this;e.handleStyle=i.mix({width:e.height,height:e.height},e.handleStyle),"auto"===e.width&&window.addEventListener("resize",i.wrapBehavior(e,"_initForceFitEvent"))},o._initWidth=function(){var e,t=this;e="auto"===t.width?p.getWidth(t.domContainer):t.width,t.domWidth=e;var n=i.toAllPadding(t.padding);"horizontal"===t.layout?(t.plotWidth=e-n[1]-n[3],t.plotPadding=n[3],t.plotHeight=t.height):"vertical"===t.layout&&(t.plotWidth=t.width,t.plotHeight=t.height-n[0]-n[2],t.plotPadding=n[0])},o._initCanvas=function(){var e=this.domWidth,t=this.height,n=new d({width:e,height:t,containerDOM:this.domContainer,capture:!1}),a=n.get("el");a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.zIndex=3,this.canvas=n},o._initBackground=function(){var e,t=this,n=this.chart,a=n.getAllGeoms[0],o=t.data=t.data||n.get("data"),s=n.getXScale(),l=t.xAxis||s.field,c=t.yAxis||n.getYScales()[0].field,d=i.deepMix(((e={})[""+l]={range:[0,1]},e),u(n),t.scales);if(delete d[l].min,delete d[l].max,!o)throw new Error("Please specify the data!");if(!l)throw new Error("Please specify the xAxis!");if(!c)throw new Error("Please specify the yAxis!");var p=t.backgroundChart,h=p.type||a.get("type"),f=p.color||"grey",m=p.shape;i.isArray(h)||(h=[h]);var g=i.toAllPadding(t.padding),v=new r({container:t.container,width:t.domWidth,height:t.height,padding:[0,g[1],0,g[3]],animate:!1});v.source(o),v.scale(d),v.axis(!1),v.tooltip(!1),v.legend(!1),i.each(h,(function(e,t){var n=v[e]().position(l+"*"+c).opacity(1),a=i.isArray(f)?f[t]:f;a&&(i.isObject(a)?a.field&&n.color(a.field,a.colors):n.color(a));var r=i.isArray(m)?m[t]:m;r&&(i.isObject(r)?r.field&&n.shape(r.field,r.callback||r.shapes):n.shape(r))})),v.render(),t.bgChart=v,t.scale="horizontal"===t.layout?v.getXScale():v.getYScales()[0],"vertical"===t.layout&&v.destroy()},o._initRange=function(){var e=this,t=e.startRadio,n=e.endRadio,a=e._startValue,r=e._endValue,i=e.scale,o=0,s=1;h(t)?o=t:a&&(o=i.scale(i.translate(a))),h(n)?s=n:r&&(s=i.scale(i.translate(r)));var l=e.minSpan,c=e.maxSpan,u=0;if("time"===i.type||"timeCat"===i.type){var d=i.values,p=d[0];u=d[d.length-1]-p}else i.isLinear&&(u=i.max-i.min);u&&l&&(e.minRange=l/u*100),u&&c&&(e.maxRange=c/u*100);var f=[100*o,100*s];return e.range=f,f},o._getHandleValue=function(e){var t=this,n=t.range,a=n[0]/100,r=n[1]/100,i=t.scale;return"min"===e?t._startValue?t._startValue:i.invert(a):t._endValue?t._endValue:i.invert(r)},o._initSlider=function(){var e=this,t=e.canvas,n=e._initRange(),r=e.scale,i=t.addGroup(a,{middleAttr:e.fillerStyle,range:n,minRange:e.minRange,maxRange:e.maxRange,layout:e.layout,width:e.plotWidth,height:e.plotHeight,backgroundStyle:e.backgroundStyle,textStyle:e.textStyle,handleStyle:e.handleStyle,minText:r.getText(e._getHandleValue("min")),maxText:r.getText(e._getHandleValue("max"))});"horizontal"===e.layout?i.translate(e.plotPadding,0):"vertical"===e.layout&&i.translate(0,e.plotPadding),e.rangeElement=i},o._updateElement=function(e,t){var n=this,a=n.chart,r=n.scale,o=n.rangeElement,s=r.field,l=o.get("minTextElement"),u=o.get("maxTextElement"),d=r.invert(e),p=r.invert(t),h=r.getText(d),f=r.getText(p);l.attr("text",h),u.attr("text",f),n._startValue=h,n._endValue=f,n.onChange&&n.onChange({startText:h,endText:f,startValue:d,endValue:p,startRadio:e,endRadio:t}),a.scale(s,i.mix({},c(a,s),{nice:!1,min:d,max:p})),a.repaint()},o._bindEvent=function(){var e=this;e.rangeElement.on("sliderchange",(function(t){var n=t.range,a=n[0]/100,r=n[1]/100;e._updateElement(a,r)}))},o.clear=function(){var e=this;e.canvas.clear(),e.bgChart&&e.bgChart.destroy(),e.bgChart=null,e.scale=null,e.canvas.draw()},o.repaint=function(){this.clear(),this.render()},o.render=function(){var e=this;e._initWidth(),e._initCanvas(),e._initBackground(),e._initSlider(),e._bindEvent(),e.canvas.draw()},o.destroy=function(){var e=this;clearTimeout(e.resizeTimer),e.rangeElement.off("sliderchange"),e.bgChart&&e.bgChart.destroy(),e.canvas.destroy();for(var t=e.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",i.getWrapBehavior(e,"_initForceFitEvent")),e.destroyed=!0},l}(l);e.exports=f},function(e,t,n){var a=n(0),r=n(16).Group,i=a.DomUtil,o=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},o._initHandle=function(e){var t,n,r,i=this.addGroup(),o=this.get("layout"),s=this.get("handleStyle"),l=s.img,c=s.width,u=s.height;if("horizontal"===o){var d=s.width;r="ew-resize",n=i.addShape("Image",{attrs:{x:-d/2,y:0,width:d,height:u,img:l,cursor:r}}),t=i.addShape("Text",{attrs:a.mix({x:"min"===e?-(d/2+5):d/2+5,y:u/2,textAlign:"min"===e?"end":"start",textBaseline:"middle",text:"min"===e?this.get("minText"):this.get("maxText"),cursor:r},this.get("textStyle"))})}else r="ns-resize",n=i.addShape("Image",{attrs:{x:0,y:-u/2,width:c,height:u,img:l,cursor:r}}),t=i.addShape("Text",{attrs:a.mix({x:c/2,y:"min"===e?u/2+5:-(u/2+5),textAlign:"center",textBaseline:"middle",text:"min"===e?this.get("minText"):this.get("maxText"),cursor:r},this.get("textStyle"))});return this.set(e+"TextElement",t),this.set(e+"IconElement",n),i},o._initSliderBackground=function(){var e=this.addGroup();return e.initTransform(),e.translate(0,0),e.addShape("Rect",{attrs:a.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),e},o._beforeRenderUI=function(){var e=this._initSliderBackground(),t=this._initHandle("min"),n=this._initHandle("max"),a=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",a),this.set("minHandleElement",t),this.set("maxHandleElement",n),this.set("backgroundElement",e),e.set("zIndex",0),a.set("zIndex",1),t.set("zIndex",2),n.set("zIndex",2),a.attr("cursor","move"),this.sort()},o._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},o._transform=function(e){var t=this.get("range"),n=t[0]/100,a=t[1]/100,r=this.get("width"),i=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),l=this.get("middleHandleElement");o.resetMatrix?(o.resetMatrix(),s.resetMatrix()):(o.initTransform(),s.initTransform()),"horizontal"===e?(l.attr({x:r*n,y:0,width:(a-n)*r,height:i}),o.translate(n*r,0),s.translate(a*r,0)):(l.attr({x:0,y:i*(1-a),width:r,height:(a-n)*i}),o.translate(0,(1-n)*i),s.translate(0,(1-a)*i))},o._renderHorizontal=function(){this._transform("horizontal")},o._renderVertical=function(){this._transform("vertical")},o._bindUI=function(){this.on("mousedown",a.wrapBehavior(this,"_onMouseDown"))},o._isElement=function(e,t){var n=this.get(t);return e===n||!!n.isGroup&&n.get("children").indexOf(e)>-1},o._getRange=function(e,t){var n=e+t;return n=(n=n>100?100:n)<0?0:n},o._limitRange=function(e,t,n){n[0]=this._getRange(e,n[0]),n[1]=n[0]+t,n[1]>100&&(n[1]=100,n[0]=n[1]-t)},o._updateStatus=function(e,t){var n="x"===e?this.get("width"):this.get("height");e=a.upperFirst(e);var r,i=this.get("range"),o=this.get("page"+e),s=this.get("currentTarget"),l=this.get("rangeStash"),c="vertical"===this.get("layout")?-1:1,u=t["page"+e],d=(u-o)/n*100*c,p=this.get("minRange"),h=this.get("maxRange");i[1]<=i[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(i[0]=this._getRange(d,i[0]),i[1]=this._getRange(d,i[0])):(this._isElement(s,"minHandleElement")&&(i[0]=this._getRange(d,i[0]),p&&i[1]-i[0]<=p&&this._limitRange(d,p,i),h&&i[1]-i[0]>=h&&this._limitRange(d,h,i)),this._isElement(s,"maxHandleElement")&&(i[1]=this._getRange(d,i[1]),p&&i[1]-i[0]<=p&&this._limitRange(d,p,i),h&&i[1]-i[0]>=h&&this._limitRange(d,h,i))),this._isElement(s,"middleHandleElement")&&(r=l[1]-l[0],this._limitRange(d,r,i)),this.emit("sliderchange",{range:i}),this.set("page"+e,u),this._renderUI(),this.get("canvas").draw()},o._onMouseDown=function(e){var t=e.currentTarget,n=e.event,a=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",t),this.set("rangeStash",[a[0],a[1]]),this._bindCanvasEvents()},o._bindCanvasEvents=function(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(e,"mousemove",a.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=i.addEventListener(e,"mouseup",a.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=i.addEventListener(e,"mouseleave",a.wrapBehavior(this,"_onCanvasMouseUp"))},o._onCanvasMouseMove=function(e){"horizontal"===this.get("layout")?this._updateStatus("x",e):this._updateStatus("y",e)},o._onCanvasMouseUp=function(){this._removeDocumentEvents()},o._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},r}(r);e.exports=o},function(e,t,n){var a=n(0),r=n(171),i=n(383),o=n(384),s=["X","Y","XY"],l="X",c=function(e){var t,n;n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=c.prototype;function c(t,n){var r,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=e.call(this,t,n)||this);i.chart=n,i.type=i.type.toUpperCase();var c=i.data=n.get("data"),u=n.getYScales(),d=n.getXScale();u.push(d);var p=n.get("scaleController");return u.forEach((function(e){var t=e.field,n=p.defs[t]||{};i.limitRange[t]=o(c,e),i.originScaleDefsByField[t]=a.mix(n,{nice:!!n.nice}),e.isLinear?i.stepByField[t]=(e.max-e.min)*i.stepRatio:i.stepByField[t]=i.catStep})),s.includes(i.type)||(i.type=l),r}return r.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return a.mix({},t,{processEvent:"mousewheel",type:l,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},r._applyScale=function(e,t,n,r){void 0===n&&(n=0);var o=this,s=o.chart,l=o.stepByField;if(e.isLinear){var c=e.min,u=e.max,d=e.field,p=1-n,h=l[d]*t,f=c+h*n,m=u-h*p;if(m>f){var g=i(s,d);s.scale(d,a.mix({},g,{nice:!1,min:f,max:m}))}}else{var v=e.field,y=e.values,_=o.chart,b=_.get("coord"),w=i(_,v),E=o.limitRange[v],T=E.length,x=T/o.maxScale,C=T/o.minScale,S=y.length,k=b.invertPoint(r).x,O=S-t*this.catStep,M=parseInt(O*k),L=O+M;if(t>0&&S>=x){var D=M,R=L;L>S&&(R=S-1,D=S-O);var N=y.slice(D,R);_.scale(v,a.mix({},w,{values:N}))}else if(t<0&&S<=C){var I=E.indexOf(y[0]),A=E.indexOf(y[S-1]),P=Math.max(0,I-M),Y=Math.min(A+L,T),F=E.slice(P,Y);_.scale(v,a.mix({},w,{values:F}))}}},r.process=function(e){var t=this,n=t.chart,a=t.type,r=n.get("coord"),i=e.deltaY,o=r.invertPoint(e);if(i){t.onZoom&&t.onZoom(i,o,t),i>0?t.onZoomin&&t.onZoomin(i,o,t):t.onZoomout&&t.onZoomout(i,o,t);var s=i/Math.abs(i);a.indexOf("X")>-1&&t._applyScale(n.getXScale(),s,o.x,e),a.indexOf("Y")>-1&&n.getYScales().forEach((function(n){t._applyScale(n,s,o.y,e)}))}n.repaint()},r.reset=function(){var e=this.view,t=this.originScaleDefsByField,n=e.getYScales(),a=e.getXScale();n.push(a),n.forEach((function(n){if(n.isLinear){var a=n.field;e.scale(a,t[a])}})),e.repaint()},c}(r);e.exports=c}])},e.exports=a()},,,,,,,,,,,,,,function(e,t,n){var a=n(320),r=n(321),i=n(322),o=n(323),s=n(210);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new a(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),n=new i,a=0,s=0;s<t.length;s++)a+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),o.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*a)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+n][t+a]=0<=n&&n<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=a&&a<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var a=o.getLostPoint(this);(0==n||e>a)&&(e=a,t=n)}return t},c.createMovieClip=function(e,t,n){var a=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var i=1*r,o=0;o<this.modules[r].length;o++){var s=1*o;this.modules[r][o]&&(a.beginFill(0,100),a.moveTo(s,i),a.lineTo(s+1,i),a.lineTo(s+1,i+1),a.lineTo(s,i+1),a.endFill())}return a},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var a=e[t],r=e[n];if(null==this.modules[a][r])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[a+i][r+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},c.setupTypeNumber=function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var a=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(n=0;n<18;n++){a=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=a}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,a=o.getBCHTypeInfo(n),r=0;r<15;r++){var i=!e&&1==(a>>r&1);r<6?this.modules[r][8]=i:r<8?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i}for(r=0;r<15;r++){i=!e&&1==(a>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=i:r<9?this.modules[8][15-r-1+1]=i:this.modules[8][15-r-1]=i}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,a=this.moduleCount-1,r=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[a][s-l]){var c=!1;i<e.length&&(c=1==(e[i]>>>r&1)),o.getMask(t,a,s-l)&&(c=!c),this.modules[a][s-l]=c,-1==--r&&(i++,r=7)}if((a+=n)<0||this.moduleCount<=a){a-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var a=r.getRSBlocks(e,t),s=new i,c=0;c<n.length;c++){var u=n[c];s.put(u.mode,4),s.put(u.getLength(),o.getLengthInBits(u.mode,e)),u.write(s)}var d=0;for(c=0;c<a.length;c++)d+=a[c].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,a)},l.createBytes=function(e,t){for(var n=0,a=0,r=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;a=Math.max(a,u),r=Math.max(r,d),i[c]=new Array(u);for(var p=0;p<i[c].length;p++)i[c][p]=255&e.buffer[p+n];n+=u;var h=o.getErrorCorrectPolynomial(d),f=new s(i[c],h.getLength()-1).mod(h);l[c]=new Array(h.getLength()-1);for(p=0;p<l[c].length;p++){var m=p+f.getLength()-l[c].length;l[c][p]=m>=0?f.get(m):0}}var g=0;for(p=0;p<t.length;p++)g+=t[p].totalCount;var v=new Array(g),y=0;for(p=0;p<a;p++)for(c=0;c<t.length;c++)p<i[c].length&&(v[y++]=i[c][p]);for(p=0;p<r;p++)for(c=0;c<t.length;c++)p<l[c].length&&(v[y++]=l[c][p]);return v},e.exports=l},function(e,t,n){var a=n(208);function r(e){this.mode=a.MODE_8BIT_BYTE,this.data=e}r.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=r},function(e,t,n){var a=n(209);function r(e,t){this.totalCount=e,this.dataCount=t}r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var n=r.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=n.length/3,i=new Array,o=0;o<a;o++)for(var s=n[3*o+0],l=n[3*o+1],c=n[3*o+2],u=0;u<s;u++)i.push(new r(l,c));return i},r.getRsBlockTable=function(e,t){switch(t){case a.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=r},function(e,t){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t,n){var a=n(208),r=n(210),i=n(211),o=0,s=1,l=2,c=3,u=4,d=5,p=6,h=7,f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;f.getBCHDigit(t)-f.getBCHDigit(f.G15)>=0;)t^=f.G15<<f.getBCHDigit(t)-f.getBCHDigit(f.G15);return(e<<10|t)^f.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;f.getBCHDigit(t)-f.getBCHDigit(f.G18)>=0;)t^=f.G18<<f.getBCHDigit(t)-f.getBCHDigit(f.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return f.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case o:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case c:return(t+n)%3==0;case u:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case h:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,i.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a++)for(var r=0;r<t;r++){for(var i=0,o=e.isDark(a,r),s=-1;s<=1;s++)if(!(a+s<0||t<=a+s))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==s&&0==l||o==e.isDark(a+s,r+l)&&i++;i>5&&(n+=3+i-5)}for(a=0;a<t-1;a++)for(r=0;r<t-1;r++){var c=0;e.isDark(a,r)&&c++,e.isDark(a+1,r)&&c++,e.isDark(a,r+1)&&c++,e.isDark(a+1,r+1)&&c++,0!=c&&4!=c||(n+=3)}for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(a,r)&&!e.isDark(a,r+1)&&e.isDark(a,r+2)&&e.isDark(a,r+3)&&e.isDark(a,r+4)&&!e.isDark(a,r+5)&&e.isDark(a,r+6)&&(n+=40);for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(a,r)&&!e.isDark(a+1,r)&&e.isDark(a+2,r)&&e.isDark(a+3,r)&&e.isDark(a+4,r)&&!e.isDark(a+5,r)&&e.isDark(a+6,r)&&(n+=40);var u=0;for(r=0;r<t;r++)for(a=0;a<t;a++)e.isDark(a,r)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=f},,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(178),r=n(219),i=n(374),o=n(376),s=n(184),l=n(50),c=n(182),u=n(223),d=1,p="[object Arguments]",h="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var _=l(e),b=l(t),w=_?h:s(e),E=b?h:s(t),T=(w=w==p?f:w)==f,x=(E=E==p?f:E)==f,C=w==E;if(C&&c(e)){if(!c(t))return!1;_=!0,T=!1}if(C&&!T)return y||(y=new a),_||u(e)?r(e,t,n,g,v,y):i(e,t,w,n,g,v,y);if(!(n&d)){var S=T&&m.call(e,"__wrapped__"),k=x&&m.call(t,"__wrapped__");if(S||k){var O=S?e.value():e,M=k?t.value():t;return y||(y=new a),v(O,M,n,g,y)}}return!!C&&(y||(y=new a),o(e,t,n,g,v,y))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var a=n(120),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=a(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var a=n(120);e.exports=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var a=n(120);e.exports=function(e){return a(this.__data__,e)>-1}},function(e,t,n){var a=n(120);e.exports=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var a=n(119);e.exports=function(){this.__data__=new a,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var a=n(119),r=n(151),i=n(152),o=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var s=n.__data__;if(!r||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var a=n(216),r=n(356),i=n(94),o=n(218),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(a(e)?p:s).test(o(e))}},function(e,t,n){var a=n(104),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var a=!0}catch(l){}var r=o.call(e);return a&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var a=n(357),r=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},function(e,t,n){var a=n(61)["__core-js_shared__"];e.exports=a},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var a=n(360),r=n(119),i=n(151);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(i||r),string:new a}}},function(e,t,n){var a=n(361),r=n(362),i=n(363),o=n(364),s=n(365);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var a=n(121);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var a=n(121),r="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var n=t[e];return n===r?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var a=n(121),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var a=n(121),r="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?r:t,this}},function(e,t,n){var a=n(122);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var a=n(122);e.exports=function(e){return a(this,e).get(e)}},function(e,t,n){var a=n(122);e.exports=function(e){return a(this,e).has(e)}},function(e,t,n){var a=n(122);e.exports=function(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var a=n(104),r=n(273),i=n(134),o=n(219),s=n(375),l=n(220),c=1,u=2,d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",E=a?a.prototype:void 0,T=E?E.valueOf:void 0;e.exports=function(e,t,n,a,E,x,C){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!x(new r(e),new r(t)));case d:case p:case m:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case f:var S=s;case v:var k=a&c;if(S||(S=l),e.size!=t.size&&!k)return!1;var O=C.get(e);if(O)return O==t;a|=u,C.set(e,t);var M=o(S(e),S(t),a,E,x,C);return C.delete(e),M;case _:if(T)return T.call(e)==T.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}},function(e,t,n){var a=n(274),r=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,l){var c=n&r,u=a(e),d=u.length;if(d!=a(t).length&&!c)return!1;for(var p=d;p--;){var h=u[p];if(!(c?h in t:i.call(t,h)))return!1}var f=l.get(e);if(f&&l.get(t))return f==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=c;++p<d;){var v=e[h=u[p]],y=t[h];if(o)var _=c?o(y,v,h,t,e,l):o(v,y,h,e,t,l);if(!(void 0===_?v===y||s(v,y,n,o,l):_)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t){e.exports=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},function(e,t,n){var a=n(87),r=n(74),i="[object Arguments]";e.exports=function(e){return r(e)&&a(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var a=n(87),r=n(153),i=n(74),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!o[a(e)]}},function(e,t,n){var a=n(225),r=n(382),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return r(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var a=n(279)(Object.keys,Object);e.exports=a},function(e,t,n){var a=n(76)(n(61),"DataView");e.exports=a},function(e,t,n){var a=n(76)(n(61),"Promise");e.exports=a},function(e,t,n){var a=n(76)(n(61),"WeakMap");e.exports=a},function(e,t,n){var a=n(387),r=n(388),i=n(394),o=n(50);e.exports=function(e,t){return function(n,s){var l=o(n)?a:r,c=t?t():{};return l(n,e,i(s,2),c)}}},function(e,t){e.exports=function(e,t,n,a){for(var r=-1,i=null==e?0:e.length;++r<i;){var o=e[r];t(a,o,n(o),e)}return a}},function(e,t,n){var a=n(389);e.exports=function(e,t,n,r){return a(e,(function(e,a,i){t(r,e,n(e),i)})),r}},function(e,t,n){var a=n(390),r=n(393)(a);e.exports=r},function(e,t,n){var a=n(391),r=n(91);e.exports=function(e,t){return e&&a(e,t,r)}},function(e,t,n){var a=n(392)();e.exports=a},function(e,t){e.exports=function(e){return function(t,n,a){for(var r=-1,i=Object(t),o=a(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var a=n(135);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}},function(e,t,n){var a=n(395),r=n(398),i=n(229),o=n(50),s=n(407);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?r(e[0],e[1]):a(e):s(e)}},function(e,t,n){var a=n(396),r=n(397),i=n(228);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}}},function(e,t,n){var a=n(178),r=n(150),i=1,o=2;e.exports=function(e,t,n,s){var l=n.length,c=l,u=!s;if(null==e)return!c;for(e=Object(e);l--;){var d=n[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){var p=(d=n[l])[0],h=e[p],f=d[1];if(u&&d[2]){if(void 0===h&&!(p in e))return!1}else{var m=new a;if(s)var g=s(h,f,p,e,t,m);if(!(void 0===g?r(f,h,i|o,s,m):g))return!1}}return!0}},function(e,t,n){var a=n(227),r=n(91);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,a(o)]}return t}},function(e,t,n){var a=n(150),r=n(399),i=n(404),o=n(156),s=n(227),l=n(228),c=n(106),u=1,d=2;e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?i(n,e):a(t,o,u|d)}}},function(e,t,n){var a=n(185);e.exports=function(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}},function(e,t,n){var a=n(401),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,a,r){t.push(a?r.replace(i,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var a=n(282),r=500;e.exports=function(e){var t=a(e,(function(e){return n.size===r&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var a=n(403);e.exports=function(e){return null==e?"":a(e)}},function(e,t,n){var a=n(104),r=n(136),i=n(50),o=n(157),s=1/0,l=a?a.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(o(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var a=n(405),r=n(406);e.exports=function(e,t){return null!=e&&r(e,t,a)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var a=n(155),r=n(181),i=n(50),o=n(183),s=n(153),l=n(106);e.exports=function(e,t,n){for(var c=-1,u=(t=a(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(p,u)&&(i(e)||r(e))}},function(e,t,n){var a=n(408),r=n(409),i=n(156),o=n(106);e.exports=function(e){return i(e)?a(o(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var a=n(185);e.exports=function(e){return function(t){return a(t,e)}}},function(e,t,n){var a=n(411);e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(a.enabled){var o=a,s=Number(new Date),l=s-(n||s);o.diff=l,o.prev=n,o.curr=s,n=s,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var a=r.formatters[n];if("function"===typeof a){var i=t[c];e=a.call(o,i),t.splice(c,1),c--}return e})),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=i,a.extend=o,"function"===typeof r.init&&r.init(a),r.instances.push(a),a}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){var n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){var e=[].concat(a(r.names.map(s)),a(r.skips.map(s).map((function(e){return"-"+e})))).join(",");return r.enable(""),e},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),a=n.length;for(t=0;t<a;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(415),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var a=n(412),r=n(413),i=n(414);e.exports=function(e){return a(e)||r(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){var n=1e3,a=60*n,r=60*a,i=24*r,o=7*i,s=365.25*i;function l(e,t,n,a){var r=t>=1.5*n;return Math.round(e/n)+" "+a+(r?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var l=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*a;case"seconds":case"second":case"secs":case"sec":case"s":return l*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return l(e,t,i,"day");if(t>=r)return l(e,t,r,"hour");if(t>=a)return l(e,t,a,"minute");if(t>=n)return l(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=a)return Math.round(e/a)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var a=n(417),r=n(158),i=n(233),o=n(65)("socket.io-client");e.exports=t=l;var s=t.managers={};function l(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,r=a(e),l=r.source,c=r.id,u=r.path,d=s[c]&&u in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(o("ignoring socket cache for %s",l),n=i(l,t)):(s[c]||(o("new io instance for %s",l),s[c]=i(l,t)),n=s[c]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=l,t.Manager=n(233),t.Socket=n(239)},function(e,t,n){var a=n(230),r=n(65)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),n=a(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){(function(a){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof a&&"env"in a&&(e=Object({NODE_ENV:"production",PUBLIC_URL:""}).DEBUG),e}(t=e.exports=n(419)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var a="color: "+this.color;e.splice(1,0,a,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,a)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())}).call(this,n(84))},function(e,t,n){function a(e){var n;function a(){if(a.enabled){var e=a,r=+new Date,i=r-(n||r);e.diff=i,e.prev=n,e.curr=r,n=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,a){if("%%"===n)return n;l++;var r=t.formatters[a];if("function"===typeof r){var i=o[l];n=r.call(e,i),o.splice(l,1),l--}return n})),t.formatArgs.call(e,o),(a.log||t.log||console.log.bind(console)).apply(e,o)}}return a.namespace=e,a.enabled=t.enabled(e),a.useColors=t.useColors(),a.color=function(e){var n,a=0;for(n in e)a=(a<<5)-a+e.charCodeAt(n),a|=0;return t.colors[Math.abs(a)%t.colors.length]}(e),a.destroy=r,"function"===typeof t.init&&t.init(a),t.instances.push(a),a}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var a=("string"===typeof e?e:"").split(/[\s,]+/),r=a.length;for(n=0;n<r;n++)a[n]&&("-"===(e=a[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,a;for(n=0,a=t.skips.length;n<a;n++)if(t.skips[n].test(e))return!1;for(n=0,a=t.names.length;n<a;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(420),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,a=60*n,r=60*a,i=24*r,o=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*a;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(l=e,i,"day")||s(l,r,"hour")||s(l,a,"minute")||s(l,n,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=a)return Math.round(e/a)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<a.length;r++)if((n=a[r])===t||n.fn===t){a.splice(r,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var a=0,r=(n=n.slice(0)).length;a<r;++a)n[a].apply(this,t);return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var a=n(231),r=n(232),i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=function e(t,n){if(!t)return t;if(r(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(a(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=e(t[s],n);return o}if("object"===typeof t&&!(t instanceof Date)){o={};for(var l in t)o[l]=e(t[l],n);return o}return t}(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(a(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"===typeof t)for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,i=e;!function e(l,c,u){if(!l)return l;if(o&&l instanceof Blob||s&&l instanceof File){n++;var d=new FileReader;d.onload=function(){u?u[c]=this.result:i=this.result,--n||t(i)},d.readAsArrayBuffer(l)}else if(a(l))for(var p=0;p<l.length;p++)e(l[p],p,l);else if("object"===typeof l&&!r(l))for(var h in l)e(l[h],h,l)}(i),n||t(i)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,a=c(e),o=a[0],s=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));1===r?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)a[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,a,r){var i,o,s=8*r-a-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,a),i-=c}return(h?-1:1)*o*Math.pow(2,i-a)},t.write=function(e,t,n,a,r,i){var o,s,l,c=8*i-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=a?0:i-1,f=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=f,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=f,o/=256,c-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(427),e.exports.parser=n(88)},function(e,t,n){var a=n(234),r=n(162),i=n(65)("engine.io-client:socket"),o=n(238),s=n(88),l=n(230),c=n(123);function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=u,u.priorWebsocketSuccess=!1,r(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=n(161),u.transports=n(234),u.parser=n(88),u.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new a[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},u.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,a=this;function r(){if(a.onlyBinaryUpgrades){var r=!this.supportsBinary&&a.transport.supportsBinary;n=n||r}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(i('probe transport "%s" pong',e),a.upgrading=!0,a.emit("upgrading",t),!t)return;u.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',a.transport.name),a.transport.pause((function(){n||"closed"!==a.readyState&&(i("changing transport and sending upgrade packet"),p(),a.setTransport(t),t.send([{type:"upgrade"}]),a.emit("upgrade",t),t=null,a.upgrading=!1,a.flush())}))}else{i('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,a.emit("upgradeError",o)}})))}function o(){n||(n=!0,p(),t.close(),t=null)}function s(n){var r=new Error("probe error: "+n);r.transport=t.name,o(),i('probe transport "%s" failed because of error: %s',e,n),a.emit("upgradeError",r)}function l(){s("transport closed")}function c(){s("socket closed")}function d(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),o())}function p(){t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",l),a.removeListener("close",c),a.removeListener("upgrading",d)}u.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",s),t.once("close",l),this.once("close",c),this.once("upgrading",d),t.open()},u.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof n&&(a=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),a&&this.once("flush",a),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?a():t()})):this.upgrading?a():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function a(){e.once("upgrade",n),e.once("upgradeError",n)}return this},u.prototype.onError=function(e){i("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,a=e.length;n<a;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){var a=n(160),r=n(235),i=n(162),o=n(124),s=n(65)("engine.io-client:polling-xhr");function l(){}function c(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=c,e.exports.Request=u,o(c,r),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},c.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,a=this.request({method:"POST",data:e,isBinary:n}),r=this;a.on("success",t),a.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=a},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},i(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(i){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{t.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(i){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout((function(){n.onError(i)}),0)}"undefined"!==typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",p);else if("function"===typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,p,!1)}function p(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var a in e)n.call(e,a)&&t.push(a);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var a=e.byteLength;if(t=t||0,n=n||a,e.slice)return e.slice(t,n);if(t<0&&(t+=a),n<0&&(n+=a),n>a&&(n=a),t>=a||t>=n||0===a)return new ArrayBuffer(0);for(var r=new Uint8Array(e),i=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)i[s]=r[o];return i.buffer}},function(e,t){function n(){}e.exports=function(e,t,a){var r=!1;return a=a||n,i.count=e,0===e?t():i;function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(r=!0,t(e),t=a):0!==i.count||r||t(null,n)}}},function(e,t){var n,a,r,i=String.fromCharCode;function o(e){for(var t,n,a=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),r--):a.push(t);return a}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return i(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=i(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=i(63&e|128)}function u(){if(r>=a)throw Error("Invalid byte index");var e=255&n[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,i;if(r>a)throw Error("Invalid byte index");if(r==a)return!1;if(t=255&n[r],r++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|u()<<6|u())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,a=o(e),r=a.length,i=-1,s="";++i<r;)s+=c(a[i],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=o(e),a=n.length,r=0;for(var l,c=[];!1!==(l=d(s));)c.push(l);return function(e){for(var t,n=e.length,a=-1,r="";++a<n;)(t=e[a])>65535&&(r+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=i(t);return r}(c)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),a=0;a<e.length;a++)n[e.charCodeAt(a)]=a;t.encode=function(t){var n,a=new Uint8Array(t),r=a.length,i="";for(n=0;n<r;n+=3)i+=e[a[n]>>2],i+=e[(3&a[n])<<4|a[n+1]>>4],i+=e[(15&a[n+1])<<2|a[n+2]>>6],i+=e[63&a[n+2]];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,a,r,i,o,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<l;t+=4)a=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],d[c++]=a<<2|r>>4,d[c++]=(15&r)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return u}}()},function(e,t){var n="undefined"!==typeof n?n:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var a=new n;return o(e).forEach((function(e){a.append(e)})),t.type?a.getBlob(t.type):a.getBlob()}function l(e,t){return new Blob(o(e),t||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=a?r?Blob:l:i?s:void 0},function(e,t,n){(function(t){var a=n(235),r=n(124);e.exports=u;var i,o=/\n/g,s=/\\n/g;function l(){}function c(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{}}function u(e){if(a.call(this,e),this.query=this.query||{},!i){var t=c();i=t.___eio=t.___eio||[]}this.index=i.length;var n=this;i.push((function(e){n.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=l)}),!1)}r(u,a),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var a,r=document.createElement("form"),i=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=l,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}function c(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';a=document.createElement(e)}catch(t){(a=document.createElement("iframe")).name=n.iframeId,a.src="javascript:0"}a.id=n.iframeId,n.form.appendChild(a),n.iframe=a}this.form.action=this.uri(),u(),e=e.replace(s,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,n(52))},function(e,t,n){(function(t){var a,r,i=n(161),o=n(88),s=n(123),l=n(124),c=n(237),u=n(65)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?a=WebSocket:"undefined"!==typeof self&&(a=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{r=n(439)}catch(h){}var d=a||r;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=a&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=r),i.call(this,e)}e.exports=p,l(p,i),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(a){return this.emit("error",a)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var n=this;this.writable=!1;for(var a=e.length,r=0,i=a;r<i;r++)!function(e){o.encodePacket(e,n.supportsBinary,(function(r){if(!n.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate)("string"===typeof r?t.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,i)}catch(h){u("websocket closed before onclose event")}--a||s()}))}(e[r]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},p.prototype.onClose=function(){i.prototype.onClose.call(this)},p.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===p.prototype.name)}}).call(this,n(159).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],a=(t=t||0)||0;a<e.length;a++)n[a-t]=e[a];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var a="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!==typeof t||"[object Function]"!==i.call(t))throw new TypeError(a+t);for(var n,o=r.call(arguments,1),s=function(){if(this instanceof n){var a=t.apply(this,o.concat(r.call(arguments)));return Object(a)===a?a:this}return t.apply(e,o.concat(r.call(arguments)))},l=Math.max(0,t.length-o.length),c=[],u=0;u<l;u++)c.push("$"+u);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},function(e,t,n){},function(e,t,n){"use strict";var a=n(577),r=n(578),i=n(896),o=n(582),s=n(583),l=n(584);e.exports=function e(){var t=[];var n=o();var y={};var _=!1;var b=-1;w.data=function(e,t){if(s(e))return 2===arguments.length?(m("data",_),y[e]=t,w):u.call(y,e)&&y[e]||null;if(e)return m("data",_),y=e,w;return y};w.freeze=E;w.attachers=t;w.use=function(e){var n;if(m("use",_),null===e||void 0===e);else if("function"===typeof e)s.apply(null,arguments);else{if("object"!==typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?o(e):r(e)}n&&(y.settings=a(y.settings||{},n));return w;function r(e){o(e.plugins),e.settings&&(n=a(n||{},e.settings))}function i(e){if("function"===typeof e)s(e);else{if("object"!==typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?s.apply(null,e):r(e)}}function o(e){var t,n;if(null===e||void 0===e);else{if(!("object"===typeof e&&"length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,n=-1;++n<t;)i(e[n])}}function s(e,n){var r=function(e){var n,a=t.length,r=-1;for(;++r<a;)if((n=t[r])[0]===e)return n}(e);r?(l(r[1])&&l(n)&&(n=a(r[1],n)),r[1]=n):t.push(c.call(arguments))}};w.parse=function(e){var t,n=i(e);if(E(),h("parse",t=w.Parser),p(t))return new t(String(n),n).parse();return t(String(n),n)};w.stringify=function(e,t){var n,a=i(t);if(E(),f("stringify",n=w.Compiler),g(e),p(n))return new n(e,a).compile();return n(e,a)};w.run=T;w.runSync=function(e,t){var n,a=!1;return T(e,t,(function(e,t){a=!0,r(e),n=t})),v("runSync","run",a),n};w.process=x;w.processSync=function(e){var t,n=!1;return E(),h("processSync",w.Parser),f("processSync",w.Compiler),x(t=i(e),(function(e){n=!0,r(e)})),v("processSync","process",n),t};return w;function w(){for(var n=e(),r=t.length,i=-1;++i<r;)n.use.apply(null,t[i]);return n.data(a(!0,{},y)),n}function E(){var e,a,r,i;if(_)return w;for(;++b<t.length;)a=(e=t[b])[0],null,!1!==(r=e[1])&&(!0===r&&(e[1]=void 0),"function"===typeof(i=a.apply(w,e.slice(1)))&&n.use(i));return _=!0,b=1/0,w}function T(e,t,a){if(g(e),E(),a||"function"!==typeof t||(a=t,t=null),!a)return new Promise(r);function r(r,o){n.run(e,i(t),(function(t,n,i){n=n||e,t?o(t):r?r(n):a(null,n,i)}))}r(null,a)}function x(e,t){if(E(),h("process",w.Parser),f("process",w.Compiler),!t)return new Promise(n);function n(n,a){var r=i(e);d.run(w,{file:r},(function(e){e?a(e):n?n(r):t(null,r)}))}n(null,t)}}().freeze();var c=[].slice,u={}.hasOwnProperty,d=o().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,n){e.run(t.tree,t.file,(function(e,a,r){e?n(e):(t.tree=a,t.file=r,n())}))})).use((function(e,t){t.file.contents=e.stringify(t.tree,t.file)}));function p(e){return"function"===typeof e&&function(e){var t;for(t in e)return!0;return!1}(e.prototype)}function h(e,t){if("function"!==typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function f(e,t){if("function"!==typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw new Error(["Cannot invoke `"+e+"` on a frozen processor.\nCreate a new ","processor first, by invoking it: use `processor()` instead of ","`processor`."].join(""))}function g(e){if(!e||!s(e.type))throw new Error("Expected node, got `"+e+"`")}function v(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},,,,,,,,,,function(e,t,n){"use strict";(function(t){var a=n(455),r=n(456),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var n,a=("undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{}).location||{},r={},o=typeof(e=e||a);if("blob:"===e.protocol)r=new h(unescape(e.pathname),{});else if("string"===o)for(n in r=new h(e,{}),u)delete r[n];else if("object"===o){for(n in e)n in u||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=i.test(e.href))}return r}function p(e){e=l(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,n){if(e=l(e),!(this instanceof h))return new h(e,t,n);var i,o,s,u,f,m,g=c.slice(),v=typeof t,y=this,_=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!==typeof n&&(n=r.parse),t=d(t),i=!(o=p(e||"")).protocol&&!o.slashes,y.slashes=o.slashes||i&&t.slashes,y.protocol=o.protocol||t.protocol||"",e=o.rest,o.slashes||(g[3]=[/(.*)/,"pathname"]);_<g.length;_++)"function"!==typeof(u=g[_])?(s=u[0],m=u[1],s!==s?y[m]=e:"string"===typeof s?~(f=e.indexOf(s))&&("number"===typeof u[2]?(y[m]=e.slice(0,f),e=e.slice(f+u[2])):(y[m]=e.slice(f),e=e.slice(0,f))):(f=s.exec(e))&&(y[m]=f[1],e=e.slice(0,f.index)),y[m]=y[m]||i&&u[3]&&t[m]||"",u[4]&&(y[m]=y[m].toLowerCase())):e=u(e);n&&(y.query=n(y.query)),i&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),a=n.length,r=n[a-1],i=!1,o=0;a--;)"."===n[a]?n.splice(a,1):".."===n[a]?(n.splice(a,1),o++):o&&(0===a&&(i=!0),n.splice(a,1),o--);return i&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(y.pathname,t.pathname)),a(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(u=y.auth.split(":"),y.username=u[0]||"",y.password=u[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}h.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||r.parse)(t)),i[e]=t;break;case"port":i[e]=t,a(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";i[e]=t.charAt(0)!==o?o+t:t}else i[e]=t;break;default:i[e]=t}for(var s=0;s<c.length;s++){var l=c[s];l[4]&&(i[l[1]]=i[l[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"===typeof e||(e=r.stringify);var t,n=this,a=n.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var i=a+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},h.extractProtocol=p,h.location=d,h.trimLeft=l,h.qs=r,e.exports=h}).call(this,n(52))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var a,r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!==typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!==n&&n!==a&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,a={};t=n.exec(e);){var r=i(t[1]),o=i(t[2]);null===r||null===o||r in a||(a[r]=o)}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var a,r=n(303);var i=((a=r)&&a.__esModule?a:{default:a}).default,o=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=o},,function(e,t,n){var a=n(279)(Object.getPrototypeOf,Object);e.exports=a},function(e,t,n){var a=n(1029);e.exports=function(e,t){return!!(null==e?0:e.length)&&a(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}},function(e,t,n){var a=n(221),r=n(1040);e.exports=function e(t,n,i,o,s){var l=-1,c=t.length;for(i||(i=r),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,o,s):a(s,u):o||(s[s.length]=u)}return s}},function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!==typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var h=o(n);s&&(h=h.concat(s(n)));for(var f=0;f<h.length;++f){var m=h[f];if(!a[m]&&!r[m]&&(!d||!d[m])){var g=l(n,m);try{i(t,m,g)}catch(v){}}}return t}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Boolean(e&&"function"===typeof e.dispose)},e.exports=t.default},function(e,t,n){var a=n(278),r=n(1074),i=n(135);e.exports=function(e){return i(e)?a(e,!0):r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},,,,,,,,,function(e,t,n){var a=n(273);e.exports=function(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(479)),i=p(n(480)),o=p(n(481)),s=p(n(482)),l=p(n(483)),c=p(n(484)),u=p(n(485)),d=p(n(486));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=r.defaults(t,this.options||{},{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(i.default),this.addDetector(o.default),this.addDetector(s.default),this.addDetector(l.default),this.addDetector(c.default),this.addDetector(u.default),this.addDetector(d.default)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];e.forEach((function(e){if(t.detectors[e]){var a=t.detectors[e].lookup(t.options);a&&"string"===typeof a&&(a=[a]),a&&(n=n.concat(a))}}));var a=void 0;if(n.forEach((function(e){if(!a){var n=t.services.languageUtils.formatLanguageCode(e);t.options.checkWhitelist&&!t.services.languageUtils.isWhitelisted(n)||(a=n)}})),!a){var r=this.i18nOptions.fallbackLng;"string"===typeof r&&(r=[r]),r||(r=[]),a="[object Array]"===Object.prototype.toString.apply(r)?r[0]:r[0]||r.default&&r.default[0]}return a}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();h.type="languageDetector",t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e},t.extend=function(e){return r.call(i.call(arguments,1),(function(t){if(t)for(var n in t)e[n]=t[n]})),e};var a=[],r=a.forEach,i=a.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n,a){var r=void 0;if(n){var i=new Date;i.setTime(i.getTime()+60*n*1e3),r="; expires="+i.toGMTString()}else r="";a=a?"domain="+a+";":"",document.cookie=e+"="+t+r+";"+a+"path=/"},r=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null};t.default={name:"cookie",lookup:function(e){var t=void 0;if(e.lookupCookie&&"undefined"!==typeof document){var n=r(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!==typeof document&&a(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"querystring",lookup:function(e){var t=void 0;if("undefined"!==typeof window)for(var n=window.location.search.substring(1).split("&"),a=0;a<n.length;a++){var r=n[a].indexOf("=");if(r>0)n[a].substring(0,r)===e.lookupQuerystring&&(t=n[a].substring(r+1))}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=void 0;try{a="undefined"!==window&&null!==window.localStorage;window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(r){a=!1}t.default={name:"localStorage",lookup:function(e){var t=void 0;if(e.lookupLocalStorage&&a){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&a&&window.localStorage.setItem(t.lookupLocalStorage,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"navigator",lookup:function(e){var t=[];if("undefined"!==typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"htmlTag",lookup:function(e){var t=void 0,n=e.htmlTag||("undefined"!==typeof document?document.documentElement:null);return n&&"function"===typeof n.getAttribute&&(t=n.getAttribute("lang")),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"path",lookup:function(e){var t=void 0;if("undefined"!==typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"===typeof e.lookupFromPathIndex){if("string"!==typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"subdomain",lookup:function(e){var t=void 0;if("undefined"!==typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"===typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=function(){};e.exports=a},,function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(0)),r=i(n(884));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.createContext||r.default,e.exports=t.default},function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(714),l=n.n(s);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(l){r=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return"";var n=e;return t&&Object.keys(t).forEach((function(e){n=n.replace(e,t[e])})),n}function w(){return"undefined"!==typeof e.window?e.window.innerWidth:0}var E=0,T=27,x=37,C=39,S=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?v(e):t}(this,m(n).call(this,e)),d(v(t),"handleWheel",(function(e){e.preventDefault()})),t.state={isClosing:!e.animationDisabled,shouldAnimate:!1,zoomLevel:E,offsetX:0,offsetY:0,loadErrorStatus:{},rotateDeg:0},t.outerEl=r.a.createRef(),t.zoomInBtn=r.a.createRef(),t.zoomOutBtn=r.a.createRef(),t.caption=r.a.createRef(),t.closeIfClickInner=t.closeIfClickInner.bind(v(t)),t.handleImageDoubleClick=t.handleImageDoubleClick.bind(v(t)),t.handleImageMouseWheel=t.handleImageMouseWheel.bind(v(t)),t.handleKeyInput=t.handleKeyInput.bind(v(t)),t.handleMouseUp=t.handleMouseUp.bind(v(t)),t.handleMouseDown=t.handleMouseDown.bind(v(t)),t.handleMouseMove=t.handleMouseMove.bind(v(t)),t.handleOuterMousewheel=t.handleOuterMousewheel.bind(v(t)),t.handleTouchStart=t.handleTouchStart.bind(v(t)),t.handleTouchMove=t.handleTouchMove.bind(v(t)),t.handleTouchEnd=t.handleTouchEnd.bind(v(t)),t.handlePointerEvent=t.handlePointerEvent.bind(v(t)),t.handleCaptionMousewheel=t.handleCaptionMousewheel.bind(v(t)),t.handleWindowResize=t.handleWindowResize.bind(v(t)),t.handleZoomInButtonClick=t.handleZoomInButtonClick.bind(v(t)),t.handleZoomOutButtonClick=t.handleZoomOutButtonClick.bind(v(t)),t.requestClose=t.requestClose.bind(v(t)),t.requestMoveNext=t.requestMoveNext.bind(v(t)),t.requestMovePrev=t.requestMovePrev.bind(v(t)),t.rotateImage=t.rotateImage.bind(v(t)),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,t),u(n,null,[{key:"isTargetMatchImage",value:function(e){return e&&/ril-image-current/.test(e.className)}},{key:"parseMouseEvent",value:function(e){return{id:"mouse",source:1,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"parseTouchPointer",value:function(e){return{id:e.identifier,source:2,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"parsePointerEvent",value:function(e){return{id:e.pointerId,source:3,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"getTransform",value:function(e){var t=e.x,n=void 0===t?0:t,a=e.y,r=void 0===a?0:a,i=e.zoom,o=void 0===i?1:i,s=e.width,l=e.targetWidth,c=n,u=w();s>u&&(c+=(u-s)/2);var d=o*(l/s);return{transform:"translate3d(".concat(c,"px,").concat(r,"px,0) scale3d(").concat(d,",").concat(d,",1)")}}}]),u(n,[{key:"UNSAFE_componentWillMount",value:function(){this.timeouts=[],this.currentAction=0,this.eventsSource=0,this.pointerList=[],this.preventInnerClose=!1,this.preventInnerCloseTimeout=null,this.keyPressed=!1,this.imageCache={},this.lastKeyDownTime=0,this.resizeTimeout=null,this.wheelActionTimeout=null,this.resetScrollTimeout=null,this.scrollX=0,this.scrollY=0,this.moveStartX=0,this.moveStartY=0,this.moveStartOffsetX=0,this.moveStartOffsetY=0,this.swipeStartX=0,this.swipeStartY=0,this.swipeEndX=0,this.swipeEndY=0,this.pinchTouchList=null,this.pinchDistance=0,this.keyCounter=0,this.moveRequested=!1,this.props.animationDisabled||this.setState({isClosing:!1})}},{key:"componentDidMount",value:function(){var t=this;this.windowContext=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.window.self,a=n.document.referrer;if(n===e.window.top||!a)return n;var r=function(e){return e.match(/(.*\/\/.*?)(\/|$)/)[1]};return r(n.location.href)===r(a)?t(n.parent):n}(),this.listeners={resize:this.handleWindowResize,mouseup:this.handleMouseUp,touchend:this.handleTouchEnd,touchcancel:this.handleTouchEnd,pointerdown:this.handlePointerEvent,pointermove:this.handlePointerEvent,pointerup:this.handlePointerEvent,pointercancel:this.handlePointerEvent},Object.keys(this.listeners).forEach((function(e){t.windowContext.addEventListener(e,t.listeners[e])})),document.addEventListener("wheel",this.handleWheel,{passive:!1}),this.loadAllImages()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=!1,a={},r={};this.getSrcTypes().forEach((function(i){t.props[i.name]!==e[i.name]&&(n=!0,a[t.props[i.name]]=!0,r[e[i.name]]=!0)})),(n||this.moveRequested)&&(Object.keys(a).forEach((function(e){!(e in r)&&e in t.imageCache&&(t.imageCache[e].loaded=!1)})),this.moveRequested=!1,this.loadAllImages(e))}},{key:"shouldComponentUpdate",value:function(){return!this.moveRequested}},{key:"componentWillUnmount",value:function(){var e=this;this.didUnmount=!0,Object.keys(this.listeners).forEach((function(t){e.windowContext.removeEventListener(t,e.listeners[t])})),document.removeEventListener("wheel",this.handleWheel,{passive:!1}),this.timeouts.forEach((function(e){return clearTimeout(e)}))}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this,a=setTimeout((function(){n.timeouts=n.timeouts.filter((function(e){return e!==a})),e()}),t);return this.timeouts.push(a),a}))},{key:"setPreventInnerClose",value:function(){var e=this;this.preventInnerCloseTimeout&&this.clearTimeout(this.preventInnerCloseTimeout),this.preventInnerClose=!0,this.preventInnerCloseTimeout=this.setTimeout((function(){e.preventInnerClose=!1,e.preventInnerCloseTimeout=null}),100)}},{key:"getBestImageForType",value:function(e){var t=this.props[e],n={};if(this.isImageLoaded(t))n=this.getFitSizes(this.imageCache[t].width,this.imageCache[t].height);else{if(!this.isImageLoaded(this.props["".concat(e,"Thumbnail")]))return null;t=this.props["".concat(e,"Thumbnail")],n=this.getFitSizes(this.imageCache[t].width,this.imageCache[t].height,!0)}return{src:t,height:this.imageCache[t].height,width:this.imageCache[t].width,targetHeight:n.height,targetWidth:n.width}}},{key:"getFitSizes",value:function(e,t,n){var a=this.getLightboxRect(),r=a.height-2*this.props.imagePadding,i=a.width-2*this.props.imagePadding;return n||(r=Math.min(r,t),i=Math.min(i,e)),i/r>e/t?{width:e*r/t,height:r}:{width:i,height:t*i/e}}},{key:"getMaxOffsets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel,t=this.getBestImageForType("mainSrc");if(null===t)return{maxX:0,minX:0,maxY:0,minY:0};var n=this.getLightboxRect(),a=this.getZoomMultiplier(e),r=0,i=0;return{maxX:r=a*t.width-n.width<0?(n.width-a*t.width)/2:(a*t.width-n.width)/2,maxY:i=a*t.height-n.height<0?(n.height-a*t.height)/2:(a*t.height-n.height)/2,minX:-1*r,minY:-1*i}}},{key:"getSrcTypes",value:function(){return[{name:"mainSrc",keyEnding:"i".concat(this.keyCounter)},{name:"mainSrcThumbnail",keyEnding:"t".concat(this.keyCounter)},{name:"nextSrc",keyEnding:"i".concat(this.keyCounter+1)},{name:"nextSrcThumbnail",keyEnding:"t".concat(this.keyCounter+1)},{name:"prevSrc",keyEnding:"i".concat(this.keyCounter-1)},{name:"prevSrcThumbnail",keyEnding:"t".concat(this.keyCounter-1)}]}},{key:"getZoomMultiplier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel;return Math.pow(1.007,e)}},{key:"getLightboxRect",value:function(){return this.outerEl.current?this.outerEl.current.getBoundingClientRect():{width:w(),height:"undefined"!==typeof e.window?e.window.innerHeight:0,top:0,right:0,bottom:0,left:0}}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){this.timeouts=this.timeouts.filter((function(t){return t!==e})),clearTimeout(e)}))},{key:"changeZoom",value:function(e,t,n){if(this.props.enableZoom){var a=Math.max(E,Math.min(300,e));if(a!==this.state.zoomLevel)if(a!==E){var r=this.getBestImageForType("mainSrc");if(null!==r){var i=this.getZoomMultiplier(),o=this.getZoomMultiplier(a),s=this.getLightboxRect(),l="undefined"!==typeof t?t-s.left:s.width/2,c="undefined"!==typeof n?n-s.top:s.height/2,u=(s.width-r.width*i)/2,d=(s.height-r.height*i)/2,p=l-(l-(u-this.state.offsetX))/i*o,h=c-(c-(d-this.state.offsetY))/i*o,f=(s.width-r.width*o)/2-p,m=(s.height-r.height*o)/2-h;if(3!==this.currentAction){var g=this.getMaxOffsets();this.state.zoomLevel>a&&(f=Math.max(g.minX,Math.min(g.maxX,f)),m=Math.max(g.minY,Math.min(g.maxY,m)))}this.setState({zoomLevel:a,offsetX:f,offsetY:m})}}else this.setState({zoomLevel:a,offsetX:0,offsetY:0})}}},{key:"closeIfClickInner",value:function(e){!this.preventInnerClose&&e.target.className.search(/\bril-inner\b/)>-1&&this.requestClose(e)}},{key:"handleKeyInput",value:function(e){if(e.stopPropagation(),!this.isAnimating())if("keyup"!==e.type){var t=e.which||e.keyCode,n=new Date;if(!(n.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit&&t!==T))switch(this.lastKeyDownTime=n.getTime(),t){case T:e.preventDefault(),this.requestClose(e);break;case x:if(!this.props.prevSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMovePrev(e);break;case C:if(!this.props.nextSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMoveNext(e)}}else this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus}},{key:"handleOuterMousewheel",value:function(e){var t=this;e.stopPropagation(),this.clearTimeout(this.resetScrollTimeout),this.resetScrollTimeout=this.setTimeout((function(){t.scrollX=0,t.scrollY=0}),300)}},{key:"handleImageMouseWheel",value:function(e){if(parseInt(e.deltaY)!==parseFloat(e.deltaY)){if(Math.abs(e.deltaY)>=Math.abs(e.deltaX)){if(e.stopPropagation(),Math.abs(e.deltaY)<1)return;this.scrollX=0,this.scrollY+=e.deltaY,this.changeZoom(this.state.zoomLevel-e.deltaY,e.clientX,e.clientY)}}else if(Math.abs(e.deltaY)>Math.abs(e.deltaX)){var t=this.state.offsetY+e.deltaY;this.setState({offsetY:t})}else{var n=this.state.offsetX+e.deltaX;this.setState({offsetX:n})}}},{key:"handleImageDoubleClick",value:function(e){this.state.zoomLevel>E?this.changeZoom(E,e.clientX,e.clientY):this.changeZoom(this.state.zoomLevel+100,e.clientX,e.clientY)}},{key:"shouldHandleEvent",value:function(e){if(this.eventsSource===e)return!0;if(0===this.eventsSource)return this.eventsSource=e,!0;switch(e){case 1:return!1;case 2:return this.eventsSource=2,this.filterPointersBySource(),!0;case 3:return 1===this.eventsSource&&(this.eventsSource=3,this.filterPointersBySource(),!0);default:return!1}}},{key:"addPointer",value:function(e){this.pointerList.push(e)}},{key:"removePointer",value:function(e){this.pointerList=this.pointerList.filter((function(t){return t.id!==e.id}))}},{key:"filterPointersBySource",value:function(){var e=this;this.pointerList=this.pointerList.filter((function(t){return t.source===e.eventsSource}))}},{key:"handleMouseDown",value:function(e){this.shouldHandleEvent(1)&&n.isTargetMatchImage(e.target)&&(this.addPointer(n.parseMouseEvent(e)),this.multiPointerStart(e))}},{key:"handleMouseMove",value:function(e){this.shouldHandleEvent(1)&&this.multiPointerMove(e,[n.parseMouseEvent(e)])}},{key:"handleMouseUp",value:function(e){this.shouldHandleEvent(1)&&(this.removePointer(n.parseMouseEvent(e)),this.multiPointerEnd(e))}},{key:"handlePointerEvent",value:function(e){if(this.shouldHandleEvent(3))switch(e.type){case"pointerdown":n.isTargetMatchImage(e.target)&&(this.addPointer(n.parsePointerEvent(e)),this.multiPointerStart(e));break;case"pointermove":this.multiPointerMove(e,[n.parsePointerEvent(e)]);break;case"pointerup":case"pointercancel":this.removePointer(n.parsePointerEvent(e)),this.multiPointerEnd(e)}}},{key:"handleTouchStart",value:function(e){var t=this;this.shouldHandleEvent(2)&&n.isTargetMatchImage(e.target)&&([].forEach.call(e.changedTouches,(function(e){return t.addPointer(n.parseTouchPointer(e))})),this.multiPointerStart(e))}},{key:"handleTouchMove",value:function(e){this.shouldHandleEvent(2)&&this.multiPointerMove(e,[].map.call(e.changedTouches,(function(e){return n.parseTouchPointer(e)})))}},{key:"handleTouchEnd",value:function(e){var t=this;this.shouldHandleEvent(2)&&([].map.call(e.changedTouches,(function(e){return t.removePointer(n.parseTouchPointer(e))})),this.multiPointerEnd(e))}},{key:"decideMoveOrSwipe",value:function(e){this.state.zoomLevel<=E?this.handleSwipeStart(e):this.handleMoveStart(e)}},{key:"multiPointerStart",value:function(e){switch(this.handleEnd(null),this.pointerList.length){case 1:e.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:e.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"multiPointerMove",value:function(e,t){switch(this.currentAction){case 1:e.preventDefault(),this.handleMove(t[0]);break;case 2:e.preventDefault(),this.handleSwipe(t[0]);break;case 3:e.preventDefault(),this.handlePinch(t)}}},{key:"multiPointerEnd",value:function(e){switch(0!==this.currentAction&&(this.setPreventInnerClose(),this.handleEnd(e)),this.pointerList.length){case 0:this.eventsSource=0;break;case 1:e.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:e.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"handleEnd",value:function(e){switch(this.currentAction){case 1:this.handleMoveEnd(e);break;case 2:this.handleSwipeEnd(e);break;case 3:this.handlePinchEnd(e)}}},{key:"handleMoveStart",value:function(e){var t=e.x,n=e.y;this.props.enableZoom&&(this.currentAction=1,this.moveStartX=t,this.moveStartY=n,this.moveStartOffsetX=this.state.offsetX,this.moveStartOffsetY=this.state.offsetY)}},{key:"handleMove",value:function(e){var t=e.x,n=e.y,a=this.moveStartX-t+this.moveStartOffsetX,r=this.moveStartY-n+this.moveStartOffsetY;this.state.offsetX===a&&this.state.offsetY===r||this.setState({offsetX:a,offsetY:r})}},{key:"handleMoveEnd",value:function(){var e=this;this.currentAction=0,this.moveStartX=0,this.moveStartY=0,this.moveStartOffsetX=0,this.moveStartOffsetY=0;var t=this.getMaxOffsets(),n=Math.max(t.minX,Math.min(t.maxX,this.state.offsetX)),a=Math.max(t.minY,Math.min(t.maxY,this.state.offsetY));n===this.state.offsetX&&a===this.state.offsetY||(this.setState({offsetX:n,offsetY:a,shouldAnimate:!0}),this.setTimeout((function(){e.setState({shouldAnimate:!1})}),this.props.animationDuration))}},{key:"handleSwipeStart",value:function(e){var t=e.x,n=e.y;this.currentAction=2,this.swipeStartX=t,this.swipeStartY=n,this.swipeEndX=t,this.swipeEndY=n}},{key:"handleSwipe",value:function(e){var t=e.x,n=e.y;this.swipeEndX=t,this.swipeEndY=n}},{key:"handleSwipeEnd",value:function(e){var t=this.swipeEndX-this.swipeStartX,n=Math.abs(t),a=Math.abs(this.swipeEndY-this.swipeStartY);if(this.currentAction=0,this.swipeStartX=0,this.swipeStartY=0,this.swipeEndX=0,this.swipeEndY=0,!(!e||this.isAnimating()||n<1.5*a)){if(n<200)if(n<this.getLightboxRect().width/4)return;t>0&&this.props.prevSrc?(e.preventDefault(),this.requestMovePrev()):t<0&&this.props.nextSrc&&(e.preventDefault(),this.requestMoveNext())}}},{key:"calculatePinchDistance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,t=y(e,2),n=t[0],a=t[1];return Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2))}},{key:"calculatePinchCenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,t=y(e,2),n=t[0],a=t[1];return{x:n.x-(n.x-a.x)/2,y:n.y-(n.y-a.y)/2}}},{key:"handlePinchStart",value:function(e){this.props.enableZoom&&(this.currentAction=3,this.pinchTouchList=e.map((function(e){return{id:e.id,x:e.x,y:e.y}})),this.pinchDistance=this.calculatePinchDistance())}},{key:"handlePinch",value:function(e){this.pinchTouchList=this.pinchTouchList.map((function(t){for(var n=0;n<e.length;n+=1)if(e[n].id===t.id)return e[n];return t}));var t=this.calculatePinchDistance(),n=this.state.zoomLevel+t-this.pinchDistance;this.pinchDistance=t;var a=this.calculatePinchCenter(this.pinchTouchList),r=a.x,i=a.y;this.changeZoom(n,r,i)}},{key:"handlePinchEnd",value:function(){this.currentAction=0,this.pinchTouchList=null,this.pinchDistance=0}},{key:"handleWindowResize",value:function(){this.clearTimeout(this.resizeTimeout),this.resizeTimeout=this.setTimeout(this.forceUpdate.bind(this),100)}},{key:"handleZoomInButtonClick",value:function(){var e=this.state.zoomLevel+100;this.changeZoom(e),300===e&&this.zoomOutBtn.current.focus()}},{key:"handleZoomOutButtonClick",value:function(){var e=this.state.zoomLevel-100;this.changeZoom(e),e===E&&this.zoomInBtn.current.focus()}},{key:"handleCaptionMousewheel",value:function(e){if(e.stopPropagation(),this.caption.current){var t=this.caption.current.getBoundingClientRect().height,n=this.caption.current,a=n.scrollHeight,r=n.scrollTop;(e.deltaY>0&&t+r>=a||e.deltaY<0&&r<=0)&&e.preventDefault()}}},{key:"isAnimating",value:function(){return this.state.shouldAnimate||this.state.isClosing}},{key:"isImageLoaded",value:function(e){return e&&e in this.imageCache&&this.imageCache[e].loaded}},{key:"loadImage",value:function(t,n,a){var r=this;if(this.isImageLoaded(n))this.setTimeout((function(){a()}),1);else{var i=new e.Image;this.props.imageCrossOrigin&&(i.crossOrigin=this.props.imageCrossOrigin),i.onerror=function(e){r.props.onImageLoadError(n,t,e),r.setState((function(e){return{loadErrorStatus:f({},e.loadErrorStatus,d({},t,!0))}})),a(e)},i.onload=function(){r.props.onImageLoad(n,t,i),r.imageCache[n]={loaded:!0,width:i.width,height:i.height},a()},i.src=n}}},{key:"loadAllImages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=function(t,n){return function(a){a||e.props[t]!==n||e.didUnmount||e.forceUpdate()}};this.getSrcTypes().forEach((function(a){var r=a.name;t[r]&&e.state.loadErrorStatus[r]&&e.setState((function(e){return{loadErrorStatus:f({},e.loadErrorStatus,d({},r,!1))}})),t[r]&&!e.isImageLoaded(t[r])&&e.loadImage(r,t[r],n(r,t[r]))}))}},{key:"requestClose",value:function(e){var t=this,n=function(){t.saveRotateImage(),t.props.onCloseRequest(e)};this.props.animationDisabled||"keydown"===e.type&&!this.props.animationOnKeyInput?n():(this.setState({isClosing:!0}),this.setTimeout(n,this.props.animationDuration))}},{key:"requestMove",value:function(e,t){var n=this,a={zoomLevel:E,offsetX:0,offsetY:0};this.props.animationDisabled||this.keyPressed&&!this.props.animationOnKeyInput||(a.shouldAnimate=!0,this.setTimeout((function(){return n.setState({shouldAnimate:!1})}),this.props.animationDuration)),this.keyPressed=!1,this.moveRequested=!0,this.saveRotateImage(),"prev"===e?(this.keyCounter-=1,this.setState(a),this.props.onMovePrevRequest(t)):(this.keyCounter+=1,this.setState(a),this.props.onMoveNextRequest(t))}},{key:"requestMoveNext",value:function(e){this.requestMove("next",e)}},{key:"requestMovePrev",value:function(e){this.requestMove("prev",e)}},{key:"saveRotateImage",value:function(){this.props.onRotateImage&&0!==this.state.rotateDeg&&(this.props.onRotateImage(this.state.rotateDeg),this.setState({rotateDeg:0}))}},{key:"rotateImage",value:function(){this.setState({rotateDeg:this.state.rotateDeg<=0?this.state.rotateDeg+270:this.state.rotateDeg-90})}},{key:"render",value:function(){var t=this,a=this.props,i=a.animationDisabled,o=a.animationDuration,s=a.clickOutsideToClose,c=a.discourageDownloads,u=a.enableZoom,d=a.imageTitle,h=a.nextSrc,m=a.prevSrc,g=a.toolbarButtons,v=a.reactModalStyle,y=a.onAfterOpen,w=a.imageCrossOrigin,T=a.reactModalProps,x=a.onRotateImage,C=this.state,S=C.zoomLevel,k=C.offsetX,O=C.offsetY,M=C.isClosing,L=C.loadErrorStatus,D=C.rotateDeg,R=this.getLightboxRect(),N={};!i&&this.isAnimating()&&(N=f({},N,{transition:"transform ".concat(o,"ms")}));var I={};this.getSrcTypes().forEach((function(e){var t=e.name,n=e.keyEnding;I[t]=n}));var A=[],P=function(e,a,i){if(t.props[e]){var o=t.getBestImageForType(e),s=f({},N,{},n.getTransform(f({},i,{},o)));S>E&&(s.cursor="move"),s.transform="".concat(s.transform," rotate(").concat(D,"deg)");var l;if(null===o&&(l=L,Object.keys(l).some((function(e){return l[e]}))))A.push(r.a.createElement("div",{className:"".concat(a," ril__image ril-errored"),style:s,key:t.props[e]+I[e]},r.a.createElement("div",{className:"ril__errorContainer"},t.props.imageLoadErrorMessage)));else if(null!==o){var u=o.src;c?(s.backgroundImage="url('".concat(u,"')"),A.push(r.a.createElement("div",{className:"".concat(a," ril__image ril__imageDiscourager"),onDoubleClick:t.handleImageDoubleClick,onWheel:t.handleImageMouseWheel,style:s,key:u+I[e]},r.a.createElement("div",{className:"ril-download-blocker ril__downloadBlocker"})))):A.push(r.a.createElement("img",p({},w?{crossOrigin:w}:{},{className:"".concat(a," ril__image"),onDoubleClick:t.handleImageDoubleClick,onWheel:t.handleImageMouseWheel,onDragStart:function(e){return e.preventDefault()},style:s,src:u,key:u+I[e],alt:"string"===typeof d?d:b("Image"),draggable:!1})))}else{var h=r.a.createElement("div",{className:"ril-loading-circle ril__loadingCircle ril__loadingContainer__icon"},_(new Array(12)).map((function(e,t){return r.a.createElement("div",{key:t,className:"ril-loading-circle-point ril__loadingCirclePoint"})})));A.push(r.a.createElement("div",{className:"".concat(a," ril__image ril-not-loaded"),style:s,key:t.props[e]+I[e]},r.a.createElement("div",{className:"ril__loadingContainer"},h)))}}},Y=this.getZoomMultiplier();P("nextSrc","ril-image-next ril__imageNext",{x:R.width}),P("mainSrc","ril-image-current",{x:-1*k,y:-1*O,zoom:Y}),P("prevSrc","ril-image-prev ril__imagePrev",{x:-1*R.width});var F={overlay:f({zIndex:1e3,backgroundColor:"transparent"},v.overlay),content:f({backgroundColor:"transparent",overflow:"hidden",border:"none",borderRadius:0,padding:0,top:0,left:0,right:0,bottom:0},v.content)};return r.a.createElement(l.a,p({isOpen:!0,onRequestClose:s?this.requestClose:void 0,onAfterOpen:function(){t.outerEl.current&&t.outerEl.current.focus(),y()},style:F,contentLabel:b("Lightbox"),appElement:"undefined"!==typeof e.window?e.window.document.body:void 0},T),r.a.createElement("div",{className:"ril-outer ril__outer ril__outerAnimating ".concat(this.props.wrapperClassName," ").concat(M?"ril-closing ril__outerClosing":""),style:{transition:"opacity ".concat(o,"ms"),animationDuration:"".concat(o,"ms"),animationDirection:M?"normal":"reverse"},ref:this.outerEl,onWheel:this.handleOuterMousewheel,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,tabIndex:"-1",onKeyDown:this.handleKeyInput,onKeyUp:this.handleKeyInput},r.a.createElement("div",{className:"ril-inner ril__inner",onClick:s?this.closeIfClickInner:void 0},A),m&&r.a.createElement("button",{type:"button",className:"ril-prev-button ril__navButtons ril__navButtonPrev dtable-font dtable-icon-left",key:"prev","aria-label":this.props.prevLabel,onClick:this.isAnimating()?void 0:this.requestMovePrev}),h&&r.a.createElement("button",{type:"button",className:"ril-next-button ril__navButtons ril__navButtonNext dtable-font dtable-icon-right",key:"next","aria-label":this.props.nextLabel,onClick:this.isAnimating()?void 0:this.requestMoveNext}),r.a.createElement("div",{className:"ril-toolbar ril__toolbar"},r.a.createElement("ul",{className:"ril-toolbar-left ril__toolbarSide ril__toolbarLeftSide"},r.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},r.a.createElement("span",{className:"ril-toolbar__item__child ril__toolbarItemChild"},d))),r.a.createElement("ul",{className:"ril-toolbar-right ril__toolbarSide ril__toolbarRightSide"},g&&g.map((function(e,t){return r.a.createElement("li",{key:"button_".concat(t+1),className:"ril-toolbar__item ril__toolbarItem"},e)})),r.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},r.a.createElement("button",{type:"button",key:"close","aria-label":this.props.closeLabel,className:"ril-close ril-toolbar__item__child ril__toolbarItemChild ril__builtinButton ril__closeButton dtable-font dtable-icon-fork-number",onClick:this.isAnimating()?void 0:this.requestClose})))),r.a.createElement("div",{onMouseDown:function(e){return e.stopPropagation()},className:"ril-caption ril__caption"},u&&r.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},r.a.createElement("button",{type:"button",key:"zoom-in","aria-label":this.props.zoomInLabel,className:["ril-zoom-in","ril__toolbarItemChild","ril__builtinButton","ril__zoomInButton"].concat(_(300===S?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomInBtn,disabled:this.isAnimating()||300===S,onClick:this.isAnimating()||300===S?void 0:this.handleZoomInButtonClick})),u&&r.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},r.a.createElement("button",{type:"button",key:"zoom-out","aria-label":this.props.zoomOutLabel,className:["ril-zoom-out","ril__toolbarItemChild","ril__builtinButton","ril__zoomOutButton"].concat(_(S===E?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomOutBtn,disabled:this.isAnimating()||S===E,onClick:this.isAnimating()||S===E?void 0:this.handleZoomOutButtonClick})),x&&r.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},r.a.createElement("button",{type:"button",className:["ril-zoom-out","ril__toolbarItemChild","ril__builtinButton","dtable-font dtable-icon-rotate"].concat(_(S===E?["ril__builtinButtonDisabled"]:[])).join(" "),onClick:this.rotateImage})))))}}]),n}(a.Component);S.propTypes={mainSrc:o.a.string.isRequired,prevSrc:o.a.string,nextSrc:o.a.string,mainSrcThumbnail:o.a.string,prevSrcThumbnail:o.a.string,nextSrcThumbnail:o.a.string,onCloseRequest:o.a.func.isRequired,onMovePrevRequest:o.a.func,onMoveNextRequest:o.a.func,onImageLoadError:o.a.func,onImageLoad:o.a.func,onAfterOpen:o.a.func,discourageDownloads:o.a.bool,animationDisabled:o.a.bool,animationOnKeyInput:o.a.bool,animationDuration:o.a.number,keyRepeatLimit:o.a.number,keyRepeatKeyupBonus:o.a.number,imageTitle:o.a.node,imageCaption:o.a.node,imageCrossOrigin:o.a.string,reactModalStyle:o.a.object,imagePadding:o.a.number,wrapperClassName:o.a.string,toolbarButtons:o.a.arrayOf(o.a.node),clickOutsideToClose:o.a.bool,enableZoom:o.a.bool,reactModalProps:o.a.shape({}),nextLabel:o.a.string,prevLabel:o.a.string,zoomInLabel:o.a.string,zoomOutLabel:o.a.string,closeLabel:o.a.string,imageLoadErrorMessage:o.a.node,onRotateImage:o.a.func},S.defaultProps={imageTitle:null,imageCaption:null,toolbarButtons:null,reactModalProps:{},animationDisabled:!1,animationDuration:300,animationOnKeyInput:!1,clickOutsideToClose:!0,closeLabel:"Close lightbox",discourageDownloads:!1,enableZoom:!0,imagePadding:10,imageCrossOrigin:null,keyRepeatKeyupBonus:40,keyRepeatLimit:180,mainSrcThumbnail:null,nextLabel:"Next image",nextSrc:null,nextSrcThumbnail:null,onAfterOpen:function(){},onImageLoadError:function(){},onImageLoad:function(){},onMoveNextRequest:function(){},onMovePrevRequest:function(){},prevLabel:"Previous image",prevSrc:null,prevSrcThumbnail:null,reactModalStyle:{},wrapperClassName:"",zoomInLabel:"Zoom in",zoomOutLabel:"Zoom out",imageLoadErrorMessage:"This image failed to load",onRotateImage:null},t.a=S}).call(this,n(52))},,function(e,t,n){var a=n(87),r=n(74),i="[object Number]";e.exports=function(e){return"number"==typeof e||r(e)&&a(e)==i}},function(e,t,n){var a=n(136),r=n(1200),i=n(1220),o=n(155),s=n(248),l=n(1224),c=n(1225),u=n(682),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=a(t,(function(t){return t=o(t,e),c||(c=t.length>1),t})),s(e,u(e),n),c&&(n=r(n,7,l));for(var d=t.length;d--;)i(n,t[d]);return n}));e.exports=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=Object,r=TypeError;e.exports=function(){if(null!=this&&this!==a(this))throw new r("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var a=n(571),r=n(164).supportsDescriptors,i=Object.getOwnPropertyDescriptor,o=TypeError;e.exports=function(){if(!r)throw new o("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof/a/.dotAll)return e.get}return a}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622)},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(o)};var a=/input|select|textarea|button|object/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function i(e,t){var n=e.nodeName.toLowerCase();return(a.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}(e)}function o(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&o.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var a,r=n(1007),i=(a=r)&&a.__esModule?a:{default:a},o=n(457);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=a,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){p.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=g(e),n=m(t);return function(e){var t,i,l=e.displayName||e.name||"Component",c=(i=t=function(t){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),r(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,u.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var t=this;return s.default.createElement(e,a({},this.props,{ref:function(e){t.child=e}}))}}]),i}(o.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+l+")",t.childContextTypes=f,i);return(0,d.default)(c,e)}};var o=n(0),s=h(o),l=h(n(1)),c=n(1022),u=h(n(53)),d=h(n(463)),p=h(n(289));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.CHILD_CONTEXT_TYPES={dragDropManager:l.default.object.isRequired},m=t.createChildContext=function(e,t){return{dragDropManager:new c.DragDropManager(e,t)}},g=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===("undefined"===typeof t?"undefined":i(t))&&"function"===typeof t.default&&(t=t.default),(0,u.default)("function"===typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case r.HOVER:return function(e,t){if(e===t)return!0;return e&&t&&e.x===t.x&&e.y===t.y}(e.clientOffset,t.clientOffset)?e:a({},e,{clientOffset:t.clientOffset});case r.END_DRAG:case r.DROP:return i;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,a=e.initialSourceClientOffset;if(!t||!n||!a)return null;return{x:t.x+a.x-n.x,y:t.y+a.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var r=n(286),i={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e)?e.some((function(e){return e===t})):e===t};var a,r=n(50),i=(a=r)&&a.__esModule?a:{default:a}},function(e,t,n){var a=n(631),r=n(247),i=n(287),o=r((function(e,t){return i(e)?a(e,t):[]}));e.exports=o},function(e,t,n){var a=n(179),r=n(460),i=n(461),o=n(136),s=n(154),l=n(180),c=200;e.exports=function(e,t,n,u){var d=-1,p=r,h=!0,f=e.length,m=[],g=t.length;if(!f)return m;n&&(t=o(t,s(n))),u?(p=i,h=!1):t.length>=c&&(p=l,h=!1,t=new a(t));e:for(;++d<f;){var v=e[d],y=null==n?v:n(v);if(v=u||0!==v?v:0,h&&y===y){for(var _=g;_--;)if(t[_]===y)continue e;m.push(v)}else p(t,y,u)||m.push(v)}return m}},function(e,t,n){var a=n(1033),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=r(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(l),a(e,this,c)}}},function(e,t,n){var a=n(1034),r=n(1036)(a);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1],t=arguments[2];switch(e.type){case i.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return l;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return c}var n=e.targetIds,r=t.targetIds,s=(0,a.default)(n,r),u=!1;if(0===s.length){for(var d=0;d<n.length;d++)if(n[d]!==r[d]){u=!0;break}}else u=!0;if(!u)return l;var p=r[r.length-1],h=n[n.length-1];p!==h&&(p&&s.push(p),h&&s.push(h));return s},t.areDirty=function(e,t){if(e===l)return!1;if(e===c||"undefined"===typeof t)return!0;return(0,r.default)(t,e).length>0};var a=s(n(1038)),r=s(n(1042)),i=n(286),o=n(288);function s(e){return e&&e.__esModule?e:{default:e}}var l=[],c=[]},function(e,t,n){var a=n(179),r=n(460),i=n(461),o=n(180),s=n(1041),l=n(220),c=200;e.exports=function(e,t,n){var u=-1,d=r,p=e.length,h=!0,f=[],m=f;if(n)h=!1,d=i;else if(p>=c){var g=t?null:s(e);if(g)return l(g);h=!1,d=o,m=new a}else m=t?[]:f;e:for(;++u<p;){var v=e[u],y=t?t(v):v;if(v=n||0!==v?v:0,h&&y===y){for(var _=m.length;_--;)if(m[_]===y)continue e;t&&m.push(y),f.push(v)}else d(m,y,n)||(m!==f&&m.push(y),f.push(v))}return f}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==("undefined"===typeof e?"undefined":a(e))||null===e||"object"!==("undefined"===typeof t?"undefined":a(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!i.call(t,n[o]))return!1;var s=e[n[o]],l=t[n[o]];if(s!==l||"object"===("undefined"===typeof s?"undefined":a(s))||"object"===("undefined"===typeof l?"undefined":a(l)))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t,n,f=e.DecoratedComponent,g=e.createHandler,v=e.createMonitor,y=e.createConnector,_=e.registerHandler,b=e.containerDisplayName,w=e.getType,E=e.collect,T=e.options.arePropsEqual,x=void 0===T?h.default:T,C=f.displayName||f.name||"Component",S=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.handleChange=a.handleChange.bind(a),a.handleChildRef=a.handleChildRef.bind(a),(0,u.default)("object"===r(a.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",C,C),a.manager=a.context.dragDropManager,a.handlerMonitor=v(a.manager),a.handlerConnector=y(a.manager.getBackend()),a.handler=g(a.handlerMonitor),a.disposable=new c.SerialDisposable,a.receiveProps(e),a.state=a.getCurrentState(),a.dispose(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!x(e,this.props)||!(0,p.default)(t,this.state)}}]),i(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new c.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){x(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(w(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=_(e,this.handler,this.manager),n=t.handlerId,a=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var r=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(r),new c.Disposable(a)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){return E(this.handlerConnector.hooks,this.handlerMonitor)}},{key:"render",value:function(){return s.default.createElement(f,a({},this.props,this.state,{ref:m(f)?this.handleChildRef:null}))}}]),t}(o.Component),t.DecoratedComponent=f,t.displayName=b+"("+C+")",t.contextTypes={dragDropManager:l.default.object.isRequired},n);return(0,d.default)(S,f)};var o=n(0),s=f(o),l=f(n(1)),c=n(1057),u=(f(n(138)),f(n(53))),d=f(n(463)),p=f(n(464)),h=f(n(637));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return Boolean(e&&e.prototype&&"function"===typeof e.prototype.render)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,r.isValidElement)(t)){var a=t;s(a);var i=n?function(t){return e(t,n)}:e;return(0,o.default)(a,i)}var l=t;e(l,n)}}(e[n]);t[n]=function(){return a}})),t};var a,r=n(0),i=n(1065),o=(a=i)&&a.__esModule?a:{default:a};function s(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,i.default)(t,e)};var a,r=n(464),i=(a=r)&&a.__esModule?a:{default:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){return"string"===typeof t||"symbol"===("undefined"===typeof t?"undefined":a(t))||n&&(0,o.default)(t)&&t.every((function(t){return e(t,!1)}))};var r,i=n(50),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var a,r=n(282),i=(a=r)&&a.__esModule?a:{default:a};t.isFirefox=(0,i.default)((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=(0,i.default)((function(){return Boolean(window.safari)}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=d(n(53)),i=n(296),o=d(n(675)),s=n(676),l=n(677),c=d(n(678)),u=d(n(1193));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var h=function(e){var t=e&&(0,i.keys)(e)[0];return t&&t.split("__")[0].split("--")[0]},f=function(e,t,n){if(e){var a=e.split(" ")[0],r=[].concat(p(0===t.length?n.map((function(e){return a+"--"+e.substring(1)})):[]),p(t.map((function(e){return a+"__"+e}))));return 0===t.length?[e].concat(p(r)):r}};t.default=function e(t){var n=t.style,d=t.className,m=t.classNames,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,v=d||h(m),y="function"===typeof n?n:(0,u.default)((function(t,o){var u=(0,c.default)(t);(0,r.default)(Array.isArray(u),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),(0,r.default)(!o||(0,i.isPlainObject)(o),"Optional second parameter must be a plain object.");var d=u.filter(l.isModifier),h=u.filter(l.isElement),y=h.length>0?function(e){return(0,i.values)((0,s.pickNestedStyles)(e,h))}:function(e){return[e]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y((0,s.hoistModifierStylesRecursive)(e,d))},b=f(v,h,d);return e(a({},(n||o)&&{style:i.merge.apply(void 0,[{}].concat(p(_(o)),p(_(n))))},b&&{className:b.join(" ")},m&&{classNames:m}),g)})),_=a({},"function"===typeof n?n:{style:n}),b=[].concat(p(_.className?_.className.split(" "):[]),p(v?v.split(" "):[])),w=m?(0,i.compact)(b.map((function(e){return m[e]}))):b,E=g(a({},_,w.length>0?{className:w.join(" ")}:{}));return(0,i.assign)(y,E),y},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(676),i=["animationName"];t.default=function(e){var t=e.style,n=e.className;return a({},t?{style:(0,r.pickDirectStyles)(t,i)}:{},n?{className:n}:{})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoistModifierStylesRecursive=t.pickNestedStyles=t.pickDirectStyles=void 0;var a=n(296),r=n(677);var i=function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},o=(t.pickDirectStyles=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,a.keys)(e),r={},i=0,o=n.length;i<o;i+=1){var s=n[i],l="[object Object]"!==Object.prototype.toString.call(e[s])||":"===s[0]||"@"===s[0]||t.indexOf(s)>=0;l&&(r[s]=e[s])}return r},t.pickNestedStyles=function(e,t){for(var n=t.map(i),r=(0,a.keys)(e),o={},s=0,l=r.length;s<l;s+=1){var c=r[s];(t.indexOf(c)>=0||n.indexOf(i(c))>=0)&&(o[c]=e[c])}return o});t.hoistModifierStylesRecursive=function e(t,n){for(var i=a.merge.apply(void 0,[{},(0,a.omit)(t,n)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,a.values)(o(t,n))))),s=(0,a.keys)(i).filter(r.isModifier),l=0,c=s.length;l<c;l+=1){var u=s[l],d=e(i[u],n);n.indexOf(u)>=0?(delete i[u],i=(0,a.merge)({},i,d)):i[u]=d}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.isModifier=function(e){return"&"===e[0]};t.isElement=function(e){return!a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(296);t.default=function(e){if(!e)return[];if("string"===typeof e)return[e];if(!Array.isArray(e)){var t=e;return(0,a.keys)(e).reduce((function(e,n){return e.concat(t[n]?[n]:[])}),[])}return e},e.exports=t.default},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.ContextTypes=t.PropTypes=t.PROPS_DECORATOR_CONTEXT_NAME=t.ENHANCER_CONTEXT_NAME=void 0;var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=t.ENHANCER_CONTEXT_NAME="__substyle__enhancer",c=t.PROPS_DECORATOR_CONTEXT_NAME="__substyle__propsDecorator",u=o.default.oneOfType([o.default.func,o.default.object]),d=o.default.objectOf(o.default.string);t.PropTypes={style:u,className:o.default.string,classNames:d,innerRef:o.default.oneOfType([o.default.func,o.default.shape({current:"undefined"===typeof Element?o.default.any:o.default.instanceOf(Element)})])},t.ContextTypes=(s(a={},l,o.default.func),s(a,c,o.default.func),a)},function(e,t,n){var a=n(226),r=n(134),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&r(o,n)&&(void 0!==n||t in e)||a(e,t,n)}},function(e,t,n){var a=n(221),r=n(459),i=n(222),o=n(277),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)a(t,i(e)),e=r(e);return t}:o;e.exports=s},function(e,t,n){var a=n(275),r=n(681),i=n(466);e.exports=function(e){return a(e,i,r)}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n}},function(e,t,n){var a=n(0).isValidElement;e.exports=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)){if("function"===typeof e[n]&&"function"===typeof t[n]||a(e[n])&&a(t[n]))continue;if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){var a=n(569),r=n(878),i=n(879),o=n(880),s=n(881),l=n(883),c=Date.prototype.getTime;function u(e,t,n){var h=n||{};return!(h.strict?!i(e,t):e!==t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?h.strict?i(e,t):e==t:function(e,t,n){var i,h;if(typeof e!==typeof t)return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e)!==r(t))return!1;var f=o(e),m=o(t);if(f!==m)return!1;if(f||m)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return c.call(e)===c.call(t);var g=p(e),v=p(t);if(g!==v)return!1;if(g||v){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!==typeof t)return!1;try{var y=a(e),_=a(t)}catch(b){return!1}if(y.length!==_.length)return!1;for(y.sort(),_.sort(),i=y.length-1;i>=0;i--)if(y[i]!=_[i])return!1;for(i=y.length-1;i>=0;i--)if(h=y[i],!u(e[h],t[h],n))return!1;return!0}(e,t,h))}function d(e){return null===e||void 0===e}function p(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=u},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1003),i=(a=r)&&a.__esModule?a:{default:a};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";function a(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return a}))},function(e,t,n){var a=n(226),r=n(386),i=Object.prototype.hasOwnProperty,o=r((function(e,t,n){i.call(e,n)?e[n].push(t):a(e,n,[t])}));e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=function(e){return new a.default(e)};var a=o(n(1071)),r=o(n(1082)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(467));function o(e){return e&&e.__esModule?e:{default:e}}t.NativeTypes=i,t.getEmptyImage=r.default},,,,function(e,t,n){var a=n(1227),r=n(91);e.exports=function(e){return null==e?[]:a(e,r(e))}},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(1359)},function(e,t,n){var a=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n,a){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),o=new k(a||[]);return i._invoke=function(e,t,n){var a=u;return function(r,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw i;return M()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===u)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=c(e,t,n);if("normal"===l.type){if(a=n.done?h:d,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}e.wrap=l;var u="suspendedStart",d="suspendedYield",p="executing",h="completed",f={};function m(){}function g(){}function v(){}var y={};y[i]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(O([])));b&&b!==n&&a.call(b,i)&&(y=b);var w=v.prototype=m.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){var t;this._invoke=function(n,r){function i(){return new Promise((function(t,i){!function t(n,r,i,o){var s=c(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&a.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}(n,r,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return g.prototype=w.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,a,r){var i=new T(l(t,n,a,r));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(w),w[s]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return s.type="throw",s.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:O(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=a}catch(r){Function("r","regeneratorRuntime = r")(a)}},,,,,,,,,,,,function(e,t,n){"use strict";var a="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,r=Object.prototype.toString,i=function(e){return!(a&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},o=function(e){return!!i(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=o,e.exports=s?i:o},function(e,t,n){"use strict";var a=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!a(e)||!a(t))}},function(e,t,n){"use strict";var a=n(243),r=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,o=Object.prototype.toString,s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s)return"[object RegExp]"===o.call(e);var t=i(e,"lastIndex");return!(!t||!a(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,r.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var a=n(164),r=n(571),i=n(572),o=n(882),s=Function.call.bind(r);a(s,{getPolyfill:i,implementation:r,shim:o}),e.exports=s},function(e,t,n){"use strict";var a=n(164).supportsDescriptors,r=n(572),i=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!a||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=r(),t=l(c),n=i(t,"flags");return n&&n.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var a=Date.prototype.getDay,r=Object.prototype.toString,i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(i?function(e){try{return a.call(e),!0}catch(t){return!1}}(e):"[object Date]"===r.call(e))}},function(e,t,n){"use strict";t.__esModule=!0;var a=n(0),r=(o(a),o(n(1))),i=o(n(543));o(n(509));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=1073741823;t.default=function(e,t){var n,o,d="__create-react-context-"+(0,i.default)()+"__",p=function(e){function n(){var t,a;s(this,n);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=a=l(this,e.call.apply(e,[this].concat(i))),a.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,a){e=n,t.forEach((function(t){return t(e,a)}))}}}(a.props.value),l(a,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,a=e.value,r=void 0;((i=n)===(o=a)?0!==i||1/i===1/o:i!==i&&o!==o)?r=0:(r="function"===typeof t?t(n,a):u,0!==(r|=0)&&this.emitter.set(e.value,r))}var i,o},n.prototype.render=function(){return this.props.children},n}(a.Component);p.childContextTypes=((n={})[d]=r.default.object.isRequired,n);var h=function(t){function n(){var e,a;s(this,n);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=a=l(this,t.call.apply(t,[this].concat(i))),a.state={value:a.getValue()},a.onUpdate=function(e,t){0!==((0|a.observedBits)&t)&&a.setState({value:a.getValue()})},l(a,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(a.Component);return h.contextTypes=((o={})[d]=r.default.object,o),{Provider:p,Consumer:h}},e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={adjustX:1,adjustY:1},r=[0,0],i={bottomLeft:{points:["tl","tl"],overflow:a,offset:[0,-3],targetOffset:r},bottomRight:{points:["tr","tr"],overflow:a,offset:[0,-3],targetOffset:r},topRight:{points:["br","br"],overflow:a,offset:[0,3],targetOffset:r},topLeft:{points:["bl","bl"],overflow:a,offset:[0,3],targetOffset:r}};t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u78ba\u5b9a",timeSelect:"\u9078\u64c7\u6642\u9593",dateSelect:"\u9078\u64c7\u65e5\u671f",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u500b\u6708 (\u7ffb\u9801\u4e0a\u9375)",nextMonth:"\u4e0b\u500b\u6708 (\u7ffb\u9801\u4e0b\u9375)",monthSelect:"\u9078\u64c7\u6708\u4efd",yearSelect:"\u9078\u64c7\u5e74\u4efd",decadeSelect:"\u9078\u64c7\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u6642mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u9375\u52a0\u5de6\u65b9\u5411\u9375)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u9375\u52a0\u53f3\u65b9\u5411\u9375)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7d00",nextCentury:"\u4e0b\u4e00\u4e16\u7d00"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Aujourd'hui",now:"Maintenant",backToToday:"Aujourd'hui",ok:"Ok",clear:"R\xe9tablir",month:"Mois",year:"Ann\xe9e",timeSelect:"S\xe9lectionner l'heure",dateSelect:"S\xe9lectionner la date",monthSelect:"Choisissez un mois",yearSelect:"Choisissez une ann\xe9e",decadeSelect:"Choisissez une d\xe9cennie",yearFormat:"YYYY",dateFormat:"DD/MM/YYYY",dayFormat:"DD",dateTimeFormat:"DD/MM/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mois pr\xe9c\xe9dent (PageUp)",nextMonth:"Mois suivant (PageDown)",previousYear:"Ann\xe9e pr\xe9c\xe9dente (Ctrl + gauche)",nextYear:"Ann\xe9e prochaine (Ctrl + droite)",previousDecade:"D\xe9cennie pr\xe9c\xe9dente",nextDecade:"D\xe9cennie suivante",previousCentury:"Si\xe8cle pr\xe9c\xe9dent",nextCentury:"Si\xe8cle suivant"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Heute",now:"Jetzt",backToToday:"Zur\xfcck zu Heute",ok:"OK",clear:"Zur\xfccksetzen",month:"Monat",year:"Jahr",timeSelect:"Zeit w\xe4hlen",dateSelect:"Datum w\xe4hlen",monthSelect:"W\xe4hle einen Monat",yearSelect:"W\xe4hle ein Jahr",decadeSelect:"W\xe4hle ein Jahrzehnt",yearFormat:"YYYY",dateFormat:"D.M.YYYY",dayFormat:"D",dateTimeFormat:"D.M.YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Vorheriger Monat (PageUp)",nextMonth:"N\xe4chster Monat (PageDown)",previousYear:"Vorheriges Jahr (Ctrl + left)",nextYear:"N\xe4chstes Jahr (Ctrl + right)",previousDecade:"Vorheriges Jahrzehnt",nextDecade:"N\xe4chstes Jahrzehnt",previousCentury:"Vorheriges Jahrhundert",nextCentury:"N\xe4chstes Jahrhundert"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Dzisiaj",now:"Teraz",backToToday:"Ustaw dzisiaj",ok:"Ok",clear:"Wyczy\u015b\u0107",month:"Miesi\u0105c",year:"Rok",timeSelect:"Ustaw czas",dateSelect:"Ustaw dat\u0119",monthSelect:"Wybierz miesi\u0105c",yearSelect:"Wybierz rok",decadeSelect:"Wybierz dekad\u0119",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Poprzedni miesi\u0105c (PageUp)",nextMonth:"Nast\u0119pny miesi\u0105c (PageDown)",previousYear:"Ostatni rok (Ctrl + left)",nextYear:"Nast\u0119pny rok (Ctrl + right)",previousDecade:"Ostatnia dekada",nextDecade:"Nast\u0119pna dekada",previousCentury:"Ostatni wiek",nextCentury:"Nast\u0119pny wiek"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Dnes",now:"Nyn\xed",backToToday:"Zp\u011bt na dne\u0161ek",ok:"Ok",clear:"Vymazat",month:"M\u011bs\xedc",year:"Rok",timeSelect:"Vybrat \u010das",dateSelect:"Vybrat datum",monthSelect:"Vyberte m\u011bs\xedc",yearSelect:"Vyberte rok",decadeSelect:"Vyberte dek\xe1du",yearFormat:"YYYY",dateFormat:"D.M.YYYY",dayFormat:"D",dateTimeFormat:"D.M.YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"P\u0159edchoz\xed m\u011bs\xedc (PageUp)",nextMonth:"N\xe1sleduj\xedc\xed (PageDown)",previousYear:"P\u0159edchoz\xed rok (Control + left)",nextYear:"N\xe1sleduj\xedc\xed rok (Control + right)",previousDecade:"P\u0159edchoz\xed dek\xe1da",nextDecade:"N\xe1sleduj\xedc\xed dek\xe1da",previousCentury:"P\u0159edchoz\xed stolet\xed",nextCentury:"N\xe1sleduj\xedc\xed stolet\xed"},e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";var a=n(579),r=n(898);e.exports=r;var i=r.prototype;function o(e,t,n){var r=this.path,i=new a(e,t,n);return r&&(i.name=r+":"+i.name,i.file=r),i.fatal=!1,this.messages.push(i),i}i.message=o,i.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},i.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e},i.warn=o},,function(e,t,n){"use strict";(function(t){var a=n(445),r=n(580),i=n(581);e.exports=c;var o={}.hasOwnProperty,s=c.prototype;s.toString=function(e){var t=this.contents||"";return i(t)?t.toString(e):String(t)};var l=["history","path","basename","stem","extname","dirname"];function c(e){var n,a,r;if("number"===typeof e&&(e=e.toString()),e){if("string"===typeof e||i(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof c))return new c(e);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),a=-1,r=l.length;++a<r;)n=l[a],o.call(e,n)&&(this[n]=e[n]);for(n in e)-1===l.indexOf(n)&&(this[n]=e[n])}function u(e,t){if(-1!==e.indexOf(a.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+a.sep+"`")}function d(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function p(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}Object.defineProperty(s,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){d(e,"path"),e!==this.path&&this.history.push(e)}}),Object.defineProperty(s,"dirname",{get:function(){return"string"===typeof this.path?a.dirname(this.path):void 0},set:function(e){p(this.path,"dirname"),this.path=a.join(e||"",this.basename)}}),Object.defineProperty(s,"basename",{get:function(){return"string"===typeof this.path?a.basename(this.path):void 0},set:function(e){d(e,"basename"),u(e,"basename"),this.path=a.join(this.dirname||"",e)}}),Object.defineProperty(s,"extname",{get:function(){return"string"===typeof this.path?a.extname(this.path):void 0},set:function(e){var t=e||"";if(u(t,"extname"),p(this.path,"extname"),t){if("."!==t.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==t.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=r(this.path,t)}}),Object.defineProperty(s,"stem",{get:function(){return"string"===typeof this.path?a.basename(this.path,this.extname):void 0},set:function(e){d(e,"stem"),u(e,"stem"),this.path=a.join(this.dirname||"",e+(this.extname||""))}})}).call(this,n(84))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=f(i),s=f(n(22)),l=f(n(1)),c=f(n(1004)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(624)),d=n(457),p=f(d),h=n(54);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",y=void 0!==s.default.createPortal,_=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function b(e){return e()}var w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removePortal=function(){!y&&s.default.unmountComponentAtNode(r.node);var e=b(r.props.parentSelector);e?e.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=_()(r,o.default.createElement(c.default,a({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(y||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,b(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:b(e.parentSelector),nextParent:b(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var a=this.props,r=a.isOpen,i=a.portalClassName;e.portalClassName!==i&&(this.node.className=i);var o=n.prevParent,s=n.nextParent;s!==o&&(o.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||r)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&y?(!this.node&&y&&(this.node=document.createElement("div")),_()(o.default.createElement(c.default,a({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},w.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(w),t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),s=g(o),l=g(n(1)),c=m(n(1005)),u=g(n(1006)),d=m(n(624)),p=m(n(1008)),h=g(n(457)),f=g(n(625));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(1009);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=9,_=27,b=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,a=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&p.remove(document.body,i),r&&p.remove(document.getElementsByTagName("html")[0],r),a&&b>0&&0===(b-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),f.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===y&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===_&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var a="object"===("undefined"===typeof t?"undefined":r(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},i=a.base;return n.state.afterOpen&&(i=i+" "+a.afterOpen),n.state.beforeClose&&(i=i+" "+a.beforeClose),"string"===typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,a){return n[e+"-"+a]=t[a],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,a=e.htmlOpenClassName,r=e.bodyOpenClassName;r&&p.add(document.body,r),a&&p.add(document.getElementsByTagName("html")[0],a),n&&(b+=1,d.hide(t)),f.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.overlayClassName,i=e.defaultStyles,o=n?{}:i.content,l=r?{}:i.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:a({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",a({id:t,ref:this.setContentRef,style:a({},o,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(o.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=w,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==o.length&&(e=o.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var a,r=n(623),i=(a=r)&&a.__esModule?a:{default:a};var o=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var a=void 0,r=t.shiftKey,o=n[0],s=n[n.length-1];if(e===document.activeElement){if(!r)return;a=s}s!==document.activeElement||r||(a=o);o===document.activeElement&&r&&(a=s);if(a)return t.preventDefault(),void a.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=r?-1:1);if("undefined"===typeof(a=n[c]))return t.preventDefault(),void(a=r?s:o).focus();t.preventDefault(),a.focus()};var a,r=n(623),i=(a=r)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";var a=function(){};e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var a={},r={};t.add=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?a:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),n.add(e)}));var n,i},t.remove=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?a:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&n.remove(e)}));var n,i}},function(e,t,n){"use strict";var a,r=n(625),i=(a=r)&&a.__esModule?a:{default:a};var o=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}i.default.subscribe((function(e,t){o&&s||((o=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",c),(s=o.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(o.parentElement&&o.parentElement.removeChild(o),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1023);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return s(a).default}});var r=n(1051);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return s(r).default}});var i=n(1052);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return s(i).default}});var o=n(1053);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return s(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=l(n(1024)),i=l(n(1027)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(286)),s=l(n(1046));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=(0,r.default)(i.default);this.context=n,this.store=a,this.monitor=new s.default(a),this.registry=this.monitor.registry,this.backend=t(this),a.subscribe(this.handleRefCountChange.bind(this))}return a(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;return Object.keys(o).filter((function(e){return"function"===typeof o[e]})).reduce((function(n,a){var r,i=o[a];return n[a]=(r=i,function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=r.apply(e,a);"undefined"!==typeof o&&t(o)}),n}),{})}}]),e}();t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,i){var s;"function"===typeof n&&"undefined"===typeof i&&(i=n,n=void 0);if("undefined"!==typeof i){if("function"!==typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var l=t;var c=n;var u=[];var d=u;var p=!1;function h(){d===u&&(d=u.slice())}function f(){return c}function m(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),d.push(e),function(){if(t){t=!1,h();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!(0,a.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,c=l(c,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}g({type:o.INIT});return s={dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,g({type:o.INIT})}},s[r.default]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[r.default]=function(){return this},e},s};var a=i(n(138)),r=i(n(1025));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";n.r(t),function(e,a){var r,i=n(715);r="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:a;var o=Object(i.a)(r);t.default=o}.call(this,n(52),n(1026)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,o.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,a.default)(e.dragOffset,t),refCount:(0,i.default)(e.refCount,t),dragOperation:(0,r.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var a=l(n(628)),r=l(n(1028)),i=l(n(1037)),o=l(n(634)),s=l(n(1045));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return a({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return a({},e,{isSourcePublic:!0});case s.HOVER:return a({},e,{targetIds:t.targetIds});case l.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:a({},e,{targetIds:(0,o.default)(e.targetIds,t.targetId)});case s.DROP:return a({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return a({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var r,i=n(630),o=(r=i)&&r.__esModule?r:{default:r},s=n(286),l=n(288);var c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},function(e,t,n){var a=n(1030),r=n(1031),i=n(1032);e.exports=function(e,t,n){return t===t?i(e,t,n):a(e,r,n)}},function(e,t){e.exports=function(e,t,n,a){for(var r=e.length,i=n+(a?1:-1);a?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var a=n(1035),r=n(281),i=n(229),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:i;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,a=16,r=Date.now;e.exports=function(e){var t=0,i=0;return function(){var o=r(),s=a-(o-i);if(i=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case a.ADD_SOURCE:case a.ADD_TARGET:return e+1;case a.REMOVE_SOURCE:case a.REMOVE_TARGET:return e-1;default:return e}};var a=n(288)},function(e,t,n){var a=n(276),r=n(247),i=n(1039),o=n(287),s=r((function(e){return i(a(e,o))}));e.exports=s},function(e,t,n){var a=n(631),r=n(462),i=n(635);e.exports=function(e,t,n){var o=e.length;if(o<2)return o?i(e[0]):[];for(var s=-1,l=Array(o);++s<o;)for(var c=e[s],u=-1;++u<o;)u!=s&&(l[s]=a(l[s]||c,e[u],t,n));return i(r(l,1),t,n)}},function(e,t,n){var a=n(104),r=n(181),i=n(50),o=a?a.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||r(e)||!!(o&&e&&e[o])}},function(e,t,n){var a=n(280),r=n(636),i=n(220),o=a&&1/i(new a([,-0]))[1]==1/0?function(e){return new a(e)}:r;e.exports=o},function(e,t,n){var a=n(136),r=n(1043),i=n(247),o=n(1044),s=i((function(e){var t=a(e,o);return t.length&&t[0]===e[0]?r(t):[]}));e.exports=s},function(e,t,n){var a=n(179),r=n(460),i=n(461),o=n(136),s=n(154),l=n(180),c=Math.min;e.exports=function(e,t,n){for(var u=n?i:r,d=e[0].length,p=e.length,h=p,f=Array(p),m=1/0,g=[];h--;){var v=e[h];h&&t&&(v=o(v,s(t))),m=c(v.length,m),f[h]=!n&&(t||d>=120&&v.length>=120)?new a(h&&v):void 0}v=e[0];var y=-1,_=f[0];e:for(;++y<d&&g.length<m;){var b=v[y],w=t?t(b):b;if(b=n||0!==b?b:0,!(_?l(_,w):u(g,w,n))){for(h=p;--h;){var E=f[h];if(!(E?l(E,w):u(e[h],w,n)))continue e}_&&_.push(w),g.push(b)}}return g}},function(e,t,n){var a=n(287);e.exports=function(e){return a(e)?e:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(53)),i=u(n(50)),o=u(n(629)),s=u(n(1047)),l=n(628),c=n(634);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=new s.default(t)}return a(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.handlerIds;(0,r.default)("function"===typeof e,"listener must be a function."),(0,r.default)("undefined"===typeof a||(0,i.default)(a),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,s=function(){var n=t.store.getState(),r=n.stateId;try{r===o||r===o+1&&!(0,c.areDirty)(n.dirtyHandlerIds,a)||e()}finally{o=r}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,r.default)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var a=t.store.getState().dragOffset;a!==n&&(n=a,e())}))}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,r.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,r.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),a=this.getItemType();return(0,o.default)(n,a)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);return(0,r.default)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1},n=t.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(e),r=this.getItemType();if(!(0,o.default)(a,r))return!1;var i=this.getTargetIds();if(!i.length)return!1;var s=i.indexOf(e);return n?s===i.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,l.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,l.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(53)),o=u(n(50)),s=u(n(1048)),l=n(288),c=u(n(1050));function u(e){return e&&e.__esModule?e:{default:e}}var d={SOURCE:"SOURCE",TARGET:"TARGET"};function p(e,t){t&&(0,o.default)(e)?e.forEach((function(e){return p(e,!1)})):(0,i.default)("string"===typeof e||"symbol"===("undefined"===typeof e?"undefined":r(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function h(e){switch(e[0]){case"S":return d.SOURCE;case"T":return d.TARGET;default:(0,i.default)(!1,"Cannot parse handler ID: "+e)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return a(e,[{key:"addSource",value:function(e,t){p(e),function(e){(0,i.default)("function"===typeof e.canDrag,"Expected canDrag to be a function."),(0,i.default)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),(0,i.default)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(d.SOURCE,e,t);return this.store.dispatch((0,l.addSource)(n)),n}},{key:"addTarget",value:function(e,t){p(e,!0),function(e){(0,i.default)("function"===typeof e.canDrop,"Expected canDrop to be a function."),(0,i.default)("function"===typeof e.hover,"Expected hover to be a function."),(0,i.default)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(d.TARGET,e,t);return this.store.dispatch((0,l.addTarget)(n)),n}},{key:"addHandler",value:function(e,t,n){var a=function(e){var t=(0,c.default)().toString();switch(e){case d.SOURCE:return"S"+t;case d.TARGET:return"T"+t;default:(0,i.default)(!1,"Unknown role: "+e)}}(e);return this.types[a]=t,this.handlers[a]=n,a}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some((function(n){return t.handlers[n]===e}))}},{key:"getSource",value:function(e,t){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:"getTarget",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){return h(e)===d.SOURCE}},{key:"isTargetId",value:function(e){return h(e)===d.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,i.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,l.removeSource)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"removeTarget",value:function(e){var t=this;(0,i.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,l.removeTarget)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,i.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,i.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=f},function(e,t,n){"use strict";var a=n(1049),r=[],i=[],o=a.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function s(e){var t;(t=r.length?r.pop():new l).task=e,a(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),o())}finally{this.task=null,r[r.length]=this}}},function(e,t,n){"use strict";(function(t){function n(e){r.length||(a(),!0),r[r.length]=e}e.exports=n;var a,r=[],i=0,o=1024;function s(){for(;i<r.length;){var e=i;if(i+=1,r[e].call(),i>o){for(var t=0,n=r.length-i;t<n;t++)r[t]=r[t+i];r.length-=i,i=0}}r.length=0,i=0,!1}var l="undefined"!==typeof t?t:self,c=l.MutationObserver||l.WebKitMutationObserver;function u(e){return function(){var t=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(t),clearInterval(n),e()}}}a="function"===typeof c?function(e){var t=1,n=new c(e),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){t=-t,a.data=t}}(s):u(s),n.requestFlush=a,n.makeRequestCallFromTimer=u}).call(this,n(52))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a++};var a=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return new s(e)};var r,i=n(636),o=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions()}return a(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return o.default}},{key:"connectDragPreview",value:function(){return o.default}},{key:"connectDropTarget",value:function(){return o.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),l=n(1),c=(i=l)&&i.__esModule?i:{default:i},u=n(627);var d=(r=a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.backend=(0,u.unpackBackendForEs5Users)(e.backend),a.childContext=(0,u.createChildContext)(a.backend,{window:e&&e.window?e.window:n&&n.window?n.window:"undefined"!==typeof window?window:void 0}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),t}(s.Component),a.propTypes={backend:c.default.oneOfType([c.default.func,c.default.object]).isRequired,children:c.default.element.isRequired,window:c.default.object},a.defaultProps={window:void 0},a.childContextTypes=u.CHILD_CONTEXT_TYPES,a.displayName="DragDropContextProvider",a.contextTypes={window:c.default.object},r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,d.default)("function"===typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,d.default)((0,u.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var u,f,m=t.arePropsEqual,g=void 0===m?h.default:m,v=n.displayName||n.name||"Component",y=(f=u=function(t){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,d.default)("object"===r(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",v,v),n.state=n.getCurrentState(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),i(o,[{key:"getDecoratedComponentInstance",value:function(){return(0,d.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!g(e,this.props)||!(0,p.default)(t,this.state)}}]),i(o,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t,this.props)}},{key:"render",value:function(){var e=this;return s.default.createElement(n,a({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),o}(o.Component),u.DecoratedComponent=n,u.displayName="DragLayer("+v+")",u.contextTypes={dragDropManager:l.default.object.isRequired},f);return(0,c.default)(y,n)}};var o=n(0),s=m(o),l=m(n(1)),c=m(n(463)),u=m(n(138)),d=m(n(53)),p=m(n(464)),h=m(n(637)),f=m(n(289));function m(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var h=e;"function"!==typeof e&&((0,a.default)((0,d.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),h=function(){return e});(0,a.default)((0,r.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var f=(0,l.default)(t);return(0,a.default)("function"===typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,a.default)((0,r.default)(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:f,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:h,collect:n,options:p})}};var a=p(n(53)),r=p(n(138)),i=p(n(289)),o=p(n(638)),s=p(n(1061)),l=p(n(1062)),c=p(n(1063)),u=p(n(1064)),d=p(n(641));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(n(465));t.isDisposable=r.default;var i=a(n(1058));t.Disposable=i.default;var o=a(n(1059));t.CompositeDisposable=o.default;var s=a(n(1060));t.SerialDisposable=s.default},function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){},i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.action=t||r}return a(e,null,[{key:"empty",value:{dispose:r},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(465),i=(a=r)&&a.__esModule?a:{default:a},o=function(){function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var r=0;r<n.length;r++)if(!i.default(n[r]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(465),i=(a=r)&&a.__esModule?a:{default:a},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!i.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=n.getRegistry(),r=a.addSource(e,t);return{handlerId:r,unregister:function(){a.removeSource(r)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,r.default)(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',o.join(", "),t),(0,r.default)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])})),s.forEach((function(t){(0,r.default)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return a(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function(){return e.beginDrag(this.props,this.monitor,this.component)}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var r=i(n(53));i(n(138));function i(e){return e&&e.__esModule?e:{default:e}}var o=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return new c(e)};var r,i=n(53),o=(r=i)&&r.__esModule?r:{default:r};var s=!1,l=!1,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return a(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,o.default)(!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:"isDragging",value:function(){(0,o.default)(!l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,l=void 0,c=void 0;function u(){o&&(o(),o=null),t&&n&&(o=e.connectDragSource(t,n,i))}function d(){c&&(c(),c=null),t&&s&&(c=e.connectDragPreview(t,s,l))}return{receiveHandlerId:function(e){e!==t&&(t=e,u(),d())},hooks:(0,a.default)({dragSource:function(e,t){e===n&&(0,r.default)(t,i)||(n=e,i=t,u())},dragPreview:function(e,t){e===s&&(0,r.default)(t,l)||(s=e,l=t,d())}})}};var a=i(n(639)),r=i(n(640));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,i.default)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),!n)return(0,o.cloneElement)(e,{ref:t});return(0,o.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var a,r=n(53),i=(a=r)&&a.__esModule?a:{default:a},o=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var h=e;"function"!==typeof e&&((0,a.default)((0,d.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),h=function(){return e});(0,a.default)((0,r.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var f=(0,l.default)(t);return(0,a.default)("function"===typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,a.default)((0,r.default)(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:f,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:h,collect:n,options:p})}};var a=p(n(53)),r=p(n(138)),i=p(n(289)),o=p(n(638)),s=p(n(1067)),l=p(n(1068)),c=p(n(1069)),u=p(n(1070)),d=p(n(641));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=n.getRegistry(),r=a.addTarget(e,t);return{handlerId:r,unregister:function(){a.removeTarget(r)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,r.default)(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',o.join(", "),t),(0,r.default)("function"===typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return a(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop)return e.drop(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var r=i(n(53));i(n(138));function i(e){return e&&e.__esModule?e:{default:e}}var o=["canDrop","hover","drop"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){return new l(e)};var r,i=n(53),o=(r=i)&&r.__esModule?r:{default:r};var s=!1,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return a(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,o.default)(!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,o=void 0;function s(){o&&(o(),o=null),t&&n&&(o=e.connectDropTarget(t,n,i))}return{receiveHandlerId:function(e){e!==t&&(t=e,s())},hooks:(0,a.default)({dropTarget:function(e,t){e===n&&(0,r.default)(t,i)||(n=e,i=t,s())}})}};var a=i(n(639)),r=i(n(640));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=d(n(1072)),i=d(n(1076)),o=d(n(1077)),s=n(643),l=n(1079),c=n(1081),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(467));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new o.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return a(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,n){var a=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete a.sourcePreviewNodes[e],delete a.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,n){var a=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var r=function(t){return a.handleDragStart(t,e)},i=function(t){return a.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",r),t.addEventListener("selectstart",i),function(){delete a.sourceNodes[e],delete a.sourceNodeOptions[e],t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var n=this,a=function(t){return n.handleDragEnter(t,e)},r=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",a),t.addEventListener("dragover",r),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",a),t.removeEventListener("dragover",r),t.removeEventListener("drop",i)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,r.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,r.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,l.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(u).some((function(t){return u[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,c.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.mouseMoveTimeoutId=null,t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,i.default)((0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var a=(0,l.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});var r=e.dataTransfer,i=(0,c.matchNativeItemType)(r);if(this.monitor.isDragging()){if("function"===typeof r.setDragImage){var o=this.monitor.getSourceId(),s=this.sourceNodes[o],u=this.sourcePreviewNodes[o]||s,d=this.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},h={offsetX:d.offsetX,offsetY:d.offsetY},f=(0,l.getDragPreviewOffset)(s,u,a,p,h);r.setDragImage(u,f.x,f.y)}try{r.setData("application/json",{})}catch(m){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}))}else if(i)this.beginDragNativeItem(i);else{if(!(r.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,c.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,l.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!==typeof window?window:void 0}}]),e}();t.default=p},function(e,t,n){var a=n(247),r=n(134),i=n(1073),o=n(466),s=Object.prototype,l=s.hasOwnProperty,c=a((function(e,t){e=Object(e);var n=-1,a=t.length,c=a>2?t[2]:void 0;for(c&&i(t[0],t[1],c)&&(a=1);++n<a;)for(var u=t[n],d=o(u),p=-1,h=d.length;++p<h;){var f=d[p],m=e[f];(void 0===m||r(m,s[f])&&!l.call(e,f))&&(e[f]=u[f])}return e}));e.exports=c},function(e,t,n){var a=n(134),r=n(135),i=n(183),o=n(94);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&i(t,n.length):"string"==s&&t in n)&&a(n[t],e)}},function(e,t,n){var a=n(94),r=n(225),i=n(1075),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return i(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(1078)),i=o(n(630));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[]}return a(e,[{key:"enter",value:function(e){var t=this.entered.length;return this.entered=(0,r.default)(this.entered.filter((function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))})),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,i.default)(this.entered.filter((function(e){return document.documentElement.contains(e)})),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=s},function(e,t,n){var a=n(462),r=n(247),i=n(635),o=n(287),s=r((function(e){return i(a(e,1,o,!0))}));e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=l,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,i){var s=(w=t,"IMG"===w.nodeName&&((0,r.isFirefox)()||!document.documentElement.contains(w))),c=l(s?e:t),u={x:n.x-c.x,y:n.y-c.y},d=e.offsetWidth,p=e.offsetHeight,h=a.anchorX,f=a.anchorY,m=function(e,t,n,a){var i=e?t.width:n,o=e?t.height:a;(0,r.isSafari)()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio);return{dragPreviewWidth:i,dragPreviewHeight:o}}(s,t,d,p),g=m.dragPreviewWidth,v=m.dragPreviewHeight,y=i.offsetX,_=i.offsetY,b=0===_||_;var w;return{x:0===y||y?y:new o.default([0,.5,1],[u.x,u.x/d*g,u.x+g-d]).interpolate(h),y:b?_:function(){var e=new o.default([0,.5,1],[u.y,u.y/p*v,u.y+v-p]).interpolate(f);return(0,r.isSafari)()&&s&&(e+=(window.devicePixelRatio-1)*v),e}()}};var a,r=n(643),i=n(1080),o=(a=i)&&a.__esModule?a:{default:a};var s=1;function l(e){var t=e.nodeType===s?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),a=n.top;return{x:n.left,y:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=t.length,r=[],i=0;i<a;i++)r.push(i);r.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var o=[],s=[],l=[],c=void 0,u=void 0,d=0;d<a-1;d++)c=t[d+1]-t[d],u=n[d+1]-n[d],s.push(c),o.push(u),l.push(u/c);for(var p=[l[0]],h=0;h<s.length-1;h++){var f=l[h],m=l[h+1];if(f*m<=0)p.push(0);else{c=s[h];var g=s[h+1],v=c+g;p.push(3*v/((v+g)/f+(v+c)/m))}}p.push(l[l.length-1]);for(var y=[],_=[],b=void 0,w=0;w<p.length-1;w++){b=l[w];var E=p[w],T=1/s[w],x=E+p[w+1]-b-b;y.push((b-E-x)*T),_.push(x*T*T)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=y,this.c3s=_}return a(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,a=this.c1s,r=this.c2s,i=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var s=0,l=i.length-1,c=void 0;s<=l;){var u=t[c=Math.floor(.5*(s+l))];if(u<e)s=c+1;else{if(!(u>e))return n[c];l=c-1}}var d=e-t[o=Math.max(0,l)],p=d*d;return n[o]+a[o]*d+r[o]*p+i[o]*d*p}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.createNativeDragSource=function(e){var t=l[e],n=t.exposeProperty,a=t.matchesTypes,i=t.getData;return function(){function e(){var t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=(t={},(a={})[n]=a[n]||{},a[n].get=function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},function(e,t){for(var n in t){var a=t[n];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n,a)}}(t,a),t)}return r(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[n],this.item[n]=i(e,a)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(l).filter((function(e){return l[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(467));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var a=t.reduce((function(t,n){return t||e.getData(n)}),null);return null!=a?a:n}var l=(o(a={},i.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),o(a,i.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),o(a,i.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){a||((a=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return a};var a=void 0},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(678),i=(a=r)&&a.__esModule?a:{default:a};var o={};t.default=function(e){return function(t,n){var a=n||o;e.memoize=e.memoize||new WeakMap;var r=void 0;e.memoize.has(a)?r=e.memoize.get(a):(r={},e.memoize.set(a,r));var s=(0,i.default)(t).join(" ");return s in r?r[s]:r[s]=e(t||[],n)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),o=d(n(1195)),s=d(n(1198)),l=n(296),c=d(n(674)),u=n(679);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){return e.prototype&&!e.prototype.render};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return function(d){var v=function(o){function v(t,n){h(this,v);var a=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,t,n));a.setWrappedInstance=function(e){a.wrappedInstance=e;var t=a.props.innerRef;"function"===typeof t?t(e):t&&"string"!==typeof t&&(t.current=e)};var r=t.style,i=t.className,o=t.classNames,s=(t.innerRef,p(t,["style","className","classNames","innerRef"]));return a.substyle=(0,c.default)({style:r,className:i,classNames:o},a.context[u.PROPS_DECORATOR_CONTEXT_NAME]),"function"===typeof e&&(a.defaultStyle=e(s)),a}return m(v,o),r(v,[{key:"shouldComponentUpdate",value:function(t){var a=t.style,r=t.className,i=t.classNames,o=p(t,["style","className","classNames"]),s=this.props,l=s.style,d=s.className,h=s.classNames,f=(s.innerRef,p(s,["style","className","classNames","innerRef"]));return a===l&&r===d&&i===h||(this.substyle=(0,c.default)({style:a,className:r,classNames:i},this.context[u.PROPS_DECORATOR_CONTEXT_NAME])),"function"===typeof e&&n(o,f)&&(this.defaultStyle=e(o)),!0}},{key:"render",value:function(){var n=this.props,r=(n.innerRef,n.style,n.className,n.classNames,p(n,["innerRef","style","className","classNames"])),o=this.getWrappedComponent(),s=t?t(r):[];return(0,i.createElement)(o,a({style:this.substyle(s,this.defaultStyle||e),ref:g(o)?void 0:this.setWrappedInstance},r))}},{key:"getWrappedComponent",value:function(){var e=this.context[u.ENHANCER_CONTEXT_NAME],t=void 0===e?l.identity:e;return this.memoizedEnhance!==t&&(this.memoizedEnhance=t,this.enhancedWrappedComponent=t(d),this.enhancedWrappedComponent.propTypes&&(this.enhancedWrappedComponent.propTypes=a({},this.enhancedWrappedComponent.propTypes,{style:u.PropTypes.style}))),this.enhancedWrappedComponent||d}},{key:"getWrappedInstance",value:function(){return(0,s.default)(!0,"`getWrappedInstance()` is deprecated and will be removed with the next major release. Instead, use the `innerRef` prop to get a ref to the wrapped instance."),this.wrappedInstance}}]),v}(i.Component),y=d.displayName||d.name;return v.displayName="withDefaultStyle("+y+")",v.propTypes=a({},d.propTypes,u.PropTypes),v.contextTypes=u.ContextTypes,v.WrappedComponent=d,(0,o.default)(v,d)}},e.exports=t.default},function(e,t,n){"use strict";var a=n(1196),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return a.isMemo(e)?o:s[e.$$typeof]||r}s[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,a){if("string"!==typeof n){if(f){var r=h(n);r&&r!==f&&e(t,r,a)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!i[v]&&(!a||!a[v])&&(!m||!m[v])&&(!s||!s[v])){var y=p(n,v);try{c(t,v,y)}catch(_){}}}return t}return t}},function(e,t,n){"use strict";e.exports=n(1197)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&Symbol.for,r=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,u=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.async_mode"):60111,p=a?Symbol.for("react.concurrent_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,f=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.suspense_list"):60120,g=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,y=a?Symbol.for("react.fundamental"):60117,_=a?Symbol.for("react.responder"):60118,b=a?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case p:case o:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case c:return e;default:return t}}case v:case g:case i:return t}}}function E(e){return w(e)===p}t.typeOf=w,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===l||e===s||e===f||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b)},t.isAsyncMode=function(e){return E(e)||w(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=n(1),s=(a=o)&&a.__esModule?a:{default:a},l=n(679);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getChildContext",value:function(){var e;return c(e={},l.ENHANCER_CONTEXT_NAME,this.props.enhancer),c(e,l.PROPS_DECORATOR_CONTEXT_NAME,this.props.propsDecorator),e}},{key:"render",value:function(){return i.Children.only(this.props.children)}}]),t}(i.Component);t.default=u,u.propTypes={enhancer:s.default.func,propsDecorator:s.default.func,children:s.default.element.isRequired},u.childContextTypes=l.ContextTypes,u.displayName="EnhancerProvider",e.exports=t.default},function(e,t,n){var a=n(178),r=n(1201),i=n(680),o=n(1202),s=n(1203),l=n(1204),c=n(1205),u=n(1206),d=n(1207),p=n(274),h=n(682),f=n(184),m=n(1208),g=n(1209),v=n(1214),y=n(50),_=n(182),b=n(1216),w=n(94),E=n(1218),T=n(91),x=1,C=2,S=4,k="[object Arguments]",O="[object Function]",M="[object GeneratorFunction]",L="[object Object]",D={};D[k]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[L]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[O]=D["[object WeakMap]"]=!1,e.exports=function e(t,n,R,N,I,A){var P,Y=n&x,F=n&C,j=n&S;if(R&&(P=I?R(t,N,I,A):R(t)),void 0!==P)return P;if(!w(t))return t;var U=y(t);if(U){if(P=m(t),!Y)return c(t,P)}else{var H=f(t),B=H==O||H==M;if(_(t))return l(t,Y);if(H==L||H==k||B&&!I){if(P=F||B?{}:v(t),!Y)return F?d(t,s(P,t)):u(t,o(P,t))}else{if(!D[H])return I?t:{};P=g(t,H,Y)}}A||(A=new a);var V=A.get(t);if(V)return V;A.set(t,P),E(t)?t.forEach((function(a){P.add(e(a,n,R,a,t,A))})):b(t)&&t.forEach((function(a,r){P.set(r,e(a,n,R,r,t,A))}));var G=j?F?h:p:F?keysIn:T,W=U?void 0:G(t);return r(W||t,(function(a,r){W&&(a=t[r=a]),i(P,r,e(a,n,R,r,t,A))})),P}},function(e,t){e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}},function(e,t,n){var a=n(248),r=n(91);e.exports=function(e,t){return e&&a(t,r(t),e)}},function(e,t,n){var a=n(248),r=n(466);e.exports=function(e,t){return e&&a(t,r(t),e)}},function(e,t,n){(function(e){var a=n(61),r=t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r?a.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,a=s?s(n):new e.constructor(n);return e.copy(a),a}}).call(this,n(118)(e))},function(e,t){e.exports=function(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}},function(e,t,n){var a=n(248),r=n(222);e.exports=function(e,t){return a(e,r(e),t)}},function(e,t,n){var a=n(248),r=n(681);e.exports=function(e,t){return a(e,r(e),t)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(a.index=e.index,a.input=e.input),a}},function(e,t,n){var a=n(476),r=n(1210),i=n(1211),o=n(1212),s=n(1213),l="[object Boolean]",c="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",x="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,n){var k=e.constructor;switch(t){case g:return a(e);case l:case c:return new k(+e);case v:return r(e,n);case y:case _:case b:case w:case E:case T:case x:case C:case S:return s(e,n);case u:return new k;case d:case f:return new k(e);case p:return i(e);case h:return new k;case m:return o(e)}}},function(e,t,n){var a=n(476);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var a=n(104),r=a?a.prototype:void 0,i=r?r.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var a=n(476);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var a=n(1215),r=n(459),i=n(225);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:a(r(e))}},function(e,t,n){var a=n(94),r=Object.create,i=function(){function e(){}return function(t){if(!a(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var a=n(1217),r=n(154),i=n(224),o=i&&i.isMap,s=o?r(o):a;e.exports=s},function(e,t,n){var a=n(184),r=n(74),i="[object Map]";e.exports=function(e){return r(e)&&a(e)==i}},function(e,t,n){var a=n(1219),r=n(154),i=n(224),o=i&&i.isSet,s=o?r(o):a;e.exports=s},function(e,t,n){var a=n(184),r=n(74),i="[object Set]";e.exports=function(e){return r(e)&&a(e)==i}},function(e,t,n){var a=n(155),r=n(1221),i=n(1222),o=n(106);e.exports=function(e,t){return t=a(t,e),null==(e=i(e,t))||delete e[o(r(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var a=n(185),r=n(1223);e.exports=function(e,t){return t.length<2?e:a(e,r(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++a<r;)i[a]=e[a+t];return i}},function(e,t,n){var a=n(138);e.exports=function(e){return a(e)?void 0:e}},function(e,t,n){var a=n(1226),r=n(632),i=n(633);e.exports=function(e){return i(r(e,void 0,a),e+"")}},function(e,t,n){var a=n(462);e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},function(e,t,n){var a=n(136);e.exports=function(e,t){return a(t,(function(t){return e[t]}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"NONE",(function(){return gt})),n.d(a,"CHANGE_ROW",(function(){return vt})),n.d(a,"LOOP_OVER_ROW",(function(){return yt}));var r={};n.r(r),n.d(r,"HEADER",(function(){return _t})),n.d(r,"FILTER",(function(){return bt}));var i={};n.r(i),n.d(i,"SELECT_NONE",(function(){return wt})),n.d(i,"SELECT_CELL",(function(){return Et})),n.d(i,"SElECT_COLUMN",(function(){return Tt})),n.d(i,"SELECT_START",(function(){return xt})),n.d(i,"SELECT_UPDATE",(function(){return Ct})),n.d(i,"SELECT_END",(function(){return St})),n.d(i,"DRAG_ENTER",(function(){return kt})),n.d(i,"SCROLL_TO_COLUMN",(function(){return Ot})),n.d(i,"COPY_CELLS",(function(){return Mt})),n.d(i,"CUT_CELLS",(function(){return Lt})),n.d(i,"PASTE_CELLS",(function(){return Dt})),n.d(i,"OPEN_EDITOR",(function(){return Rt})),n.d(i,"OPEN_COMMENT",(function(){return Nt})),n.d(i,"SELECT_MULTI_CELLS",(function(){return It}));var o={};n.r(o),n.d(o,"FRAGMENT",(function(){return At})),n.d(o,"HTML",(function(){return Pt})),n.d(o,"TEXT",(function(){return Yt})),n.d(o,"FILES",(function(){return Ft}));var s=n(6),l=n(7),c=n(10),u=n(8),d=n(9),p=n(0),h=n.n(p),f=n(22),m=n.n(f),g=n(14);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return(w="function"===typeof Symbol&&"symbol"===b(Symbol.iterator)?function(e){return b(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":b(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?E(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}var k=n(127),O=n.n(k);function M(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){M(i,a,r,o,s,"next",e)}function s(e){M(i,a,r,o,s,"throw",e)}o(void 0)}))}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var I=n(12),A=n(37),P=n.n(A),Y=n(51),F=n.n(Y),j=n(125),U=n.n(j);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var G,W=n(1),z=n.n(W),q=n(59),K=n.n(q),X=n(194),J=n.n(X),Z=n(60),$=n.n(Z),Q=n(511),ee=n.n(Q),te=ee()(),ne=ee()(),ae=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,$()(K()(t),"referenceNode",void 0),$()(K()(t),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}J()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return p.createElement(te.Provider,{value:this.referenceNode},p.createElement(ne.Provider,{value:this.setReferenceNode},this.props.children))},t}(p.Component),re=n(4),ie=n.n(re),oe=h.a.createContext({});function se(e){document.body.style.paddingRight=e>0?e+"px":null}function le(){var e=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;document.body.clientWidth<window.innerWidth&&se(n+e)}function ce(e,t){return void 0===e&&(e=""),void 0===t&&(t=G),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function ue(e,t){var n={};return Object.keys(e).forEach((function(a){-1===t.indexOf(a)&&(n[a]=e[a])})),n}var de={};function pe(e){de[e]||("undefined"!==typeof console&&console.error(e),de[e]=!0)}var he="object"===typeof window&&window.Element||function(){};function fe(e,t,n){if(!(e[t]instanceof he))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var me=z.a.oneOfType([z.a.string,z.a.func,fe,z.a.shape({current:z.a.any})]),ge=z.a.oneOfType([z.a.func,z.a.string,z.a.shape({$$typeof:z.a.symbol,render:z.a.func}),z.a.arrayOf(z.a.oneOfType([z.a.func,z.a.string,z.a.shape({$$typeof:z.a.symbol,render:z.a.func})]))]),ve=150,ye=300,_e=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],be={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},we=!("undefined"===typeof window||!window.document||!window.document.createElement);function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Te(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function xe(e){if(function(e){return!(!e||"object"!==typeof e)&&"current"in e}(e))return e.current;if(function(e){if(!Te(e))return!1;var t=Ee(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}(e))return e();if("string"===typeof e&&we){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function Ce(e){return null!==e&&(Array.isArray(e)||we&&"number"===typeof e.length)}function Se(e,t){var n=xe(e);return t?Ce(n)?n:null===n?[]:[n]:Ce(n)?n[0]:n}var ke=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],Oe={a11y:z.a.bool,disabled:z.a.bool,direction:z.a.oneOf(["up","down","left","right"]),group:z.a.bool,isOpen:z.a.bool,nav:z.a.bool,active:z.a.bool,addonType:z.a.oneOfType([z.a.bool,z.a.oneOf(["prepend","append"])]),size:z.a.string,tag:ge,toggle:z.a.func,children:z.a.node,className:z.a.string,cssModule:z.a.object,inNavbar:z.a.bool,setActiveFromChild:z.a.bool},Me=[be.space,be.enter,be.up,be.down,be.end,be.home],Le=function(e){function t(t){var n;return(n=e.call(this,t)||this).addEvents=n.addEvents.bind(E(n)),n.handleDocumentClick=n.handleDocumentClick.bind(E(n)),n.handleKeyDown=n.handleKeyDown.bind(E(n)),n.removeEvents=n.removeEvents.bind(E(n)),n.toggle=n.toggle.bind(E(n)),n.containerRef=h.a.createRef(),n}V(t,e);var n=t.prototype;return n.getContextValue=function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this.containerRef.current},n.getMenuCtrl=function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]"),this._$menuCtrl)},n.getMenuItems=function(){return[].slice.call(this.getContainer().querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))},n.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===be.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==be.tab)&&this.toggle(e)}},n.handleKeyDown=function(e){var t=this;if(!/input|textarea/i.test(e.target.tagName)&&(be.tab!==e.which||"menuitem"===e.target.getAttribute("role")&&this.props.a11y)&&((-1!==Me.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled&&(this.getMenuCtrl()===e.target&&(!this.props.isOpen&&[be.space,be.enter,be.up,be.down].indexOf(e.which)>-1?(this.toggle(e),setTimeout((function(){return t.getMenuItems()[0].focus()}))):this.props.isOpen&&e.which===be.esc&&this.toggle(e)),this.props.isOpen&&"menuitem"===e.target.getAttribute("role"))))if([be.tab,be.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([be.space,be.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([be.down,be.up].indexOf(e.which)>-1||[be.n,be.p].indexOf(e.which)>-1&&e.ctrlKey){var n=this.getMenuItems(),a=n.indexOf(e.target);be.up===e.which||be.p===e.which&&e.ctrlKey?a=0!==a?a-1:n.length-1:(be.down===e.which||be.n===e.which&&e.ctrlKey)&&(a=a===n.length-1?0:a+1),n[a].focus()}else if(be.end===e.which){var r=this.getMenuItems();r[r.length-1].focus()}else if(be.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var i=this.getMenuItems(),o=String.fromCharCode(e.which).toLowerCase(),s=0;s<i.length;s+=1){if((i[s].textContent&&i[s].textContent[0].toLowerCase())===o){i[s].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e,t,n=ue(this.props,["toggle","disabled","inNavbar","a11y"]),a=n.className,r=n.cssModule,i=n.direction,o=n.isOpen,s=n.group,l=n.size,c=n.nav,u=n.setActiveFromChild,d=n.active,p=n.addonType,f=n.tag,m=B(n,["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag"]),g=f||(c?"li":"div"),v=!1;u&&h.a.Children.map(this.props.children[1].props.children,(function(e){e&&e.props.active&&(v=!0)}));var y=ce(ie()(a,"down"!==i&&"drop"+i,!(!c||!d)&&"active",!(!u||!v)&&"active",((e={})["input-group-"+p]=p,e["btn-group"]=s,e["btn-group-"+l]=!!l,e.dropdown=!s&&!p,e.show=o,e["nav-item"]=c,e)),r);return h.a.createElement(oe.Provider,{value:this.getContextValue()},h.a.createElement(ae,null,h.a.createElement(g,H({},m,((t={})["string"===typeof g?"ref":"innerRef"]=this.containerRef,t),{onKeyDown:this.handleKeyDown,className:y}))))},t}(h.a.Component);Le.propTypes=Oe,Le.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1};var De=Le,Re=n(172),Ne=n.n(Re),Ie=n(509),Ae=n.n(Ie),Pe=function(e){return Array.isArray(e)?e[0]:e},Ye=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.apply(void 0,n)}},Fe=function(e,t){if("function"===typeof e)return Ye(e,t);null!=e&&(e.current=t)},je=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,$()(K()(t),"refHandler",(function(e){Fe(t.props.innerRef,e),Ye(t.props.setReferenceNode,e)})),t}J()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){Fe(this.props.innerRef,null)},n.render=function(){return Ae()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),Pe(this.props.children)({ref:this.refHandler})},t}(p.Component);function Ue(e){return p.createElement(ne.Consumer,null,(function(t){return p.createElement(je,Ne()({setReferenceNode:t},e))}))}var He={active:z.a.bool,"aria-label":z.a.string,block:z.a.bool,color:z.a.string,disabled:z.a.bool,outline:z.a.bool,tag:ge,innerRef:z.a.oneOfType([z.a.object,z.a.func,z.a.string]),onClick:z.a.func,size:z.a.string,children:z.a.node,className:z.a.string,cssModule:z.a.object,close:z.a.bool},Be=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(E(n)),n}V(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],a=e.block,r=e.className,i=e.close,o=e.cssModule,s=e.color,l=e.outline,c=e.size,u=e.tag,d=e.innerRef,p=B(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);i&&"undefined"===typeof p.children&&(p.children=h.a.createElement("span",{"aria-hidden":!0},"\xd7"));var f="btn"+(l?"-outline":"")+"-"+s,m=ce(ie()(r,{close:i},i||"btn",i||f,!!c&&"btn-"+c,!!a&&"btn-block",{active:t,disabled:this.props.disabled}),o);p.href&&"button"===u&&(u="a");var g=i?"Close":null;return h.a.createElement(u,H({type:"button"===u&&p.onClick?"button":void 0},p,{className:m,ref:d,onClick:this.onClick,"aria-label":n||g}))},t}(h.a.Component);Be.propTypes=He,Be.defaultProps={color:"secondary",tag:"button"};var Ve=Be,Ge={caret:z.a.bool,color:z.a.string,children:z.a.node,className:z.a.string,cssModule:z.a.object,disabled:z.a.bool,onClick:z.a.func,"aria-haspopup":z.a.bool,split:z.a.bool,tag:ge,nav:z.a.bool},We=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(E(n)),n}V(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled||this.context.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))},n.render=function(){var e,t=this,n=this.props,a=n.className,r=n.color,i=n.cssModule,o=n.caret,s=n.split,l=n.nav,c=n.tag,u=n.innerRef,d=B(n,["className","color","cssModule","caret","split","nav","tag","innerRef"]),p=d["aria-label"]||"Toggle Dropdown",f=ce(ie()(a,{"dropdown-toggle":o||s,"dropdown-toggle-split":s,"nav-link":l}),i),m=d.children||h.a.createElement("span",{className:"sr-only"},p);return l&&!c?(e="a",d.href="#"):c?e=c:(e=Ve,d.color=r,d.cssModule=i),this.context.inNavbar?h.a.createElement(e,H({},d,{className:f,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:m})):h.a.createElement(Ue,{innerRef:u},(function(n){var a,r=n.ref;return h.a.createElement(e,H({},d,((a={})["string"===typeof e?"ref":"innerRef"]=r,a),{className:f,onClick:t.onClick,"aria-expanded":t.context.isOpen,children:m}))}))},t}(h.a.Component);We.propTypes=Ge,We.defaultProps={"aria-haspopup":!0,color:"secondary"},We.contextType=oe;var ze=We;function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){D(e,t,n[t])}))}return e}var Ke=n(709),Xe=n.n(Ke),Je=n(710),Ze=n.n(Je),$e=n(168),Qe={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},et={},tt=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,$()(K()(t),"state",{data:void 0,placement:void 0}),$()(K()(t),"popperInstance",void 0),$()(K()(t),"popperNode",null),$()(K()(t),"arrowNode",null),$()(K()(t),"setPopperNode",(function(e){e&&t.popperNode!==e&&(Fe(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),$()(K()(t),"setArrowNode",(function(e){t.arrowNode=e})),$()(K()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),$()(K()(t),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:Ne()({},t.props.modifiers,{arrow:Ne()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),$()(K()(t),"getPopperStyle",(function(){return t.popperNode&&t.state.data?Ne()({position:t.state.data.offsets.popper.position},t.state.data.styles):Qe})),$()(K()(t),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),$()(K()(t),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:et})),$()(K()(t),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),$()(K()(t),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),$()(K()(t),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=K()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new $e.default(n,e,t.getOptions()))})),$()(K()(t),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}J()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&Ze()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){Fe(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return Pe(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(p.Component);$()(tt,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});$e.default.placements;function nt(e){var t=e.referenceElement,n=Xe()(e,["referenceElement"]);return p.createElement(te.Consumer,null,(function(e){return p.createElement(tt,Ne()({referenceElement:void 0!==t?t:e},n))}))}var at={tag:ge,children:z.a.node.isRequired,right:z.a.bool,flip:z.a.bool,modifiers:z.a.object,className:z.a.string,cssModule:z.a.object,persist:z.a.bool,positionFixed:z.a.bool},rt={flip:{enabled:!1}},it={up:"top",left:"left",right:"right",down:"bottom"},ot=function(e){function t(){return e.apply(this,arguments)||this}return V(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,a=t.cssModule,r=t.right,i=t.tag,o=t.flip,s=t.modifiers,l=t.persist,c=t.positionFixed,u=B(t,["className","cssModule","right","tag","flip","modifiers","persist","positionFixed"]),d=ce(ie()(n,"dropdown-menu",{"dropdown-menu-right":r,show:this.context.isOpen}),a),p=i;if(l||this.context.isOpen&&!this.context.inNavbar){var f=(it[this.context.direction]||"bottom")+"-"+(r?"end":"start"),m=o?s:qe({},s,{},rt),g=!!c;return h.a.createElement(nt,{placement:f,modifiers:m,positionFixed:g},(function(t){var n=t.ref,a=t.style,r=t.placement;return h.a.createElement(p,H({tabIndex:"-1",role:"menu",ref:n,style:a},u,{"aria-hidden":!e.context.isOpen,className:d,"x-placement":r}))}))}return h.a.createElement(p,H({tabIndex:"-1",role:"menu"},u,{"aria-hidden":!this.context.isOpen,className:d,"x-placement":u.placement}))},t}(h.a.Component);ot.propTypes=at,ot.defaultProps={tag:"div",flip:!0},ot.contextType=oe;var st=ot,lt={children:z.a.node,active:z.a.bool,disabled:z.a.bool,divider:z.a.bool,tag:ge,header:z.a.bool,onClick:z.a.func,className:z.a.string,cssModule:z.a.object,toggle:z.a.bool},ct=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(E(n)),n.getTabIndex=n.getTabIndex.bind(E(n)),n}V(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled||this.props.header||this.props.divider?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))},n.getTabIndex=function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"},n.render=function(){var e=this.getTabIndex(),t=e>-1?"menuitem":void 0,n=ue(this.props,["toggle"]),a=n.className,r=n.cssModule,i=n.divider,o=n.tag,s=n.header,l=n.active,c=B(n,["className","cssModule","divider","tag","header","active"]),u=ce(ie()(a,{disabled:c.disabled,"dropdown-item":!i&&!s,active:l,"dropdown-header":s,"dropdown-divider":i}),r);return"button"===o&&(s?o="h6":i?o="div":c.href&&(o="a")),h.a.createElement(o,H({type:"button"===o&&(c.onClick||this.props.toggle)?"button":void 0},c,{tabIndex:e,role:t,className:u,onClick:this.onClick}))},t}(h.a.Component);ct.propTypes=lt,ct.defaultProps={tag:"button",toggle:!0},ct.contextType=oe;var ut,dt=ct,pt=n(3),ht=n(20),ft=n.n(ht),mt=n(707),gt="none",vt="changeRow",yt="loopOverRow",_t="header",bt="filter",wt="SELECT_NONE",Et="SELECT_CELL",Tt="SElECT_COLUMN",xt="SELECT_START",Ct="SELECT_UPDATE",St="SELECT_END",kt="DRAG_ENTER",Ot="SCROLL_TO_COLUMN",Mt="COPY_CELLS",Lt="CUT_CELLS",Dt="PASTE_CELLS",Rt="OPEN_EDITOR",Nt="OPEN_COMMENT",It="SELECT_MULTI_CELLS",At="application/x-dtable-fragment",Pt="text/html",Yt="text/plain",Ft="files",jt=n.n(mt)()({CELL_UPDATE:null,COLUMN_FILL:null,COPY_PASTE:null,CELL_DRAG:null,ROW_UPDATE:null}),Ut=(String.fromCharCode(9660),String.fromCharCode(9654),{COPY:"copy",CUT:"cut"}),Ht=(z.a.string.isRequired,z.a.func.isRequired,z.a.func,z.a.func,z.a.func.isRequired,z.a.func.isRequired,z.a.func.isRequired,z.a.func,z.a.func.isRequired,z.a.func.isRequired,z.a.func,n(264)),Bt=n.n(Ht),Vt=n(708);function Gt(){if(void 0===ut){var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.position="absolute",e.style.top="-200px",e.style.left="-200px";var t=document.createElement("div");t.style.height="100px",t.style.width="100%",e.appendChild(t),document.body.appendChild(e);var n=e.clientWidth;e.style.overflowY="scroll";var a=t.clientWidth;document.body.removeChild(e),ut=n-a}return ut}var Wt="number",zt="checkbox",qt="date",Kt="single-select",Xt="long-text",Jt="image",Zt="file",$t="multiple-select",Qt="collaborator",en="link",tn="formula",nn="creator",an="ctime",rn="last-modifier",on="mtime";function sn(e,t){return Array.isArray(e)?e[t]:"undefined"!==typeof Immutable?e.get(t):void 0}function ln(e){return Array.isArray(e)?e.length:"undefined"!==typeof Immutable?e.size:void 0}function cn(e){return!!e&&(!0===e.locked||!0===e.frozen)}function un(e){var t=e.type,n=e.data;return t===Wt||t===tn&&n&&n.result_type===pt.FORMULA_RESULT_TYPE.NUMBER}function dn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"number",a=0;return e&&Object.prototype.hasOwnProperty.call(e,t)&&(a=e[t]),Object(pt.getNumberDisplayString)(a,n)}var pn=function(e){return e.reduce((function(e,t){return e+t.width}),0)};function hn(e){var t=function(e,t){return e.map((function(e){var n=Object.assign({},e);return e.width&&/^([0-9]+)%$/.exec(e.width.toString())&&(n.width=Math.floor(e.width/100*t)),n}))}(e.columns,e.totalWidth),n=t.filter((function(e){return e.width})).reduce((function(e,t){return e-t.width}),e.totalWidth);n-=Gt();var a=t.filter((function(e){return e.width})).reduce((function(e,t){return e+t.width}),0),r=(t=function(e){var t=0;return e.map((function(e){return e.left=t,t+=e.width,e}))}(t=function(e,t,n){var a=e.filter((function(e){return!e.width}));return e.map((function(e){if(!e.width&&0!==e.width)if(t<=0)e.width=n;else{var r=Math.floor(t/ln(a));e.width=r<n?n:r}return e}))}(t,n,e.minColumnWidth))).filter((function(e){return cn(e)})),i=t.filter((function(e){return!cn(e)}));return{columns:t=r.concat(i).map((function(e,t){return e.idx=t,e})),width:a,totalWidth:e.totalWidth,totalColumnWidth:pn(t),minColumnWidth:e.minColumnWidth}}var fn={recalculate:hn,resizeColumn:function(e,t,n){var a=sn(e.columns,t),r=Bt()(e);r.columns=e.columns.slice(0);var i=Bt()(a);return i.width=Math.max(n,r.minColumnWidth),hn(r=function(e,t,n){return Array.isArray(e.columns)?e.columns.splice(t,1,n):"undefined"!==typeof Immutable&&(e.columns=e.columns.splice(t,1,n)),e}(r,t,i))},sameColumn:n.n(Vt).a,sameColumns:function(e,t,n){return function(e,t,n){var a,r;if(e.length!==t.length)return!1;for(a=0,r=e.length;a<r;a++)if(!n(e[a],t[a]))return!1;return!0}(e,t,n)}};var mn,gn=function(e,t){return t.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{})},vn=(n(508),n(206)),yn=n.n(vn),_n=(D(mn={},"default","dtable-font dtable-icon-single-line-text"),D(mn,"text","dtable-font dtable-icon-single-line-text"),D(mn,Wt,"dtable-font dtable-icon-number"),D(mn,zt,"dtable-font dtable-icon-check-square-solid"),D(mn,qt,"dtable-font dtable-icon-calendar-alt-solid"),D(mn,Kt,"dtable-font dtable-icon-single-election"),D(mn,Xt,"dtable-font dtable-icon-long-text"),D(mn,Jt,"dtable-font dtable-icon-picture"),D(mn,Zt,"dtable-font dtable-icon-file-alt-solid"),D(mn,$t,"dtable-font dtable-icon-multiple-selection"),D(mn,Qt,"dtable-font dtable-icon-collaborator"),D(mn,en,"dtable-font dtable-icon-link-other-record"),D(mn,"link-common-dataset","dtable-font dtable-icon-link-common-dataset"),D(mn,tn,"dtable-font dtable-icon-formula"),D(mn,nn,"dtable-font dtable-icon-creator"),D(mn,an,"dtable-font dtable-icon-creation-time"),D(mn,rn,"dtable-font dtable-icon-creator"),D(mn,on,"dtable-font dtable-icon-creation-time"),D(mn,"geolocation","dtable-font dtable-icon-location"),mn),bn=n(115),wn=qe({},bn.Transition.propTypes,{children:z.a.oneOfType([z.a.arrayOf(z.a.node),z.a.node]),tag:ge,baseClass:z.a.string,baseClassActive:z.a.string,className:z.a.string,cssModule:z.a.object,innerRef:z.a.oneOfType([z.a.object,z.a.string,z.a.func])}),En=qe({},bn.Transition.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:ve,appear:!0,enter:!0,exit:!0,in:!0});function Tn(e){var t=e.tag,n=e.baseClass,a=e.baseClassActive,r=e.className,i=e.cssModule,o=e.children,s=e.innerRef,l=B(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),c=function(e,t){for(var n,a=Array.isArray(t)?t:[t],r=a.length,i={};r>0;)i[n=a[r-=1]]=e[n];return i}(l,_e),u=ue(l,_e);return h.a.createElement(bn.Transition,c,(function(e){var l="entered"===e,c=ce(ie()(r,n,l&&a),i);return h.a.createElement(t,H({className:c},u,{ref:s}),o)}))}Tn.propTypes=wn,Tn.defaultProps=En;var xn=Tn;var Cn={children:z.a.node.isRequired,popperClassName:z.a.string,placement:z.a.string,placementPrefix:z.a.string,arrowClassName:z.a.string,hideArrow:z.a.bool,tag:ge,isOpen:z.a.bool.isRequired,cssModule:z.a.object,offset:z.a.oneOfType([z.a.string,z.a.number]),fallbackPlacement:z.a.oneOfType([z.a.string,z.a.array]),flip:z.a.bool,container:me,target:me.isRequired,modifiers:z.a.object,boundariesElement:z.a.oneOfType([z.a.string,fe]),onClosed:z.a.func,fade:z.a.bool,transition:z.a.shape(xn.propTypes)},Sn={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{},onClosed:function(){},fade:!0,transition:qe({},xn.defaultProps)},kn=function(e){function t(t){var n;return(n=e.call(this,t)||this).setTargetNode=n.setTargetNode.bind(E(n)),n.getTargetNode=n.getTargetNode.bind(E(n)),n.getRef=n.getRef.bind(E(n)),n.onClosed=n.onClosed.bind(E(n)),n.state={isOpen:t.isOpen},n}V(t,e),t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null};var n=t.prototype;return n.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},n.setTargetNode=function(e){this.targetNode="string"===typeof e?Se(e):e},n.getTargetNode=function(){return this.targetNode},n.getContainerNode=function(){return Se(this.props.container)},n.getRef=function(e){this._element=e},n.onClosed=function(){this.props.onClosed(),this.setState({isOpen:!1})},n.renderChildren=function(){var e=this.props,t=e.cssModule,n=e.children,a=e.isOpen,r=e.flip,i=(e.target,e.offset),o=e.fallbackPlacement,s=e.placementPrefix,l=e.arrowClassName,c=e.hideArrow,u=e.popperClassName,d=e.tag,p=(e.container,e.modifiers),f=e.boundariesElement,m=(e.onClosed,e.fade),g=e.transition,v=e.placement,y=B(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","popperClassName","tag","container","modifiers","boundariesElement","onClosed","fade","transition","placement"]),_=ce(ie()("arrow",l),t),b=ce(ie()(u,s?s+"-auto":""),this.props.cssModule),w=qe({offset:{offset:i},flip:{enabled:r,behavior:o},preventOverflow:{boundariesElement:f}},p),E=qe({},xn.defaultProps,{},g,{baseClass:m?g.baseClass:"",timeout:m?g.timeout:0});return h.a.createElement(xn,H({},E,y,{in:a,onExited:this.onClosed,tag:d}),h.a.createElement(nt,{referenceElement:this.targetNode,modifiers:w,placement:v},(function(e){var t=e.ref,a=e.style,r=e.placement,i=e.arrowProps;return h.a.createElement("div",{ref:t,style:a,className:b,"x-placement":r},n,!c&&h.a.createElement("span",{ref:i.ref,className:_,style:i.style}))})))},n.render=function(){return this.setTargetNode(this.props.target),this.state.isOpen?"inline"===this.props.container?this.renderChildren():m.a.createPortal(h.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(h.a.Component);kn.propTypes=Cn,kn.defaultProps=Sn;var On=kn,Mn={placement:z.a.oneOf(["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"]),target:me.isRequired,container:me,isOpen:z.a.bool,disabled:z.a.bool,hideArrow:z.a.bool,boundariesElement:z.a.oneOfType([z.a.string,fe]),className:z.a.string,innerClassName:z.a.string,arrowClassName:z.a.string,popperClassName:z.a.string,cssModule:z.a.object,toggle:z.a.func,autohide:z.a.bool,placementPrefix:z.a.string,delay:z.a.oneOfType([z.a.shape({show:z.a.number,hide:z.a.number}),z.a.number]),modifiers:z.a.object,offset:z.a.oneOfType([z.a.string,z.a.number]),innerRef:z.a.oneOfType([z.a.func,z.a.string,z.a.object]),trigger:z.a.string,fade:z.a.bool,flip:z.a.bool},Ln={show:0,hide:50},Dn={isOpen:!1,hideArrow:!1,autohide:!1,delay:Ln,toggle:function(){},trigger:"click",fade:!0};function Rn(e,t){return t&&(e===t||t.contains(e))}function Nn(e,t){return void 0===t&&(t=[]),t&&t.length&&t.find((function(t){return Rn(e,t)}))}var In=function(e){function t(t){var n;return(n=e.call(this,t)||this)._targets=[],n.currentTargetElement=null,n.addTargetEvents=n.addTargetEvents.bind(E(n)),n.handleDocumentClick=n.handleDocumentClick.bind(E(n)),n.removeTargetEvents=n.removeTargetEvents.bind(E(n)),n.toggle=n.toggle.bind(E(n)),n.showWithDelay=n.showWithDelay.bind(E(n)),n.hideWithDelay=n.hideWithDelay.bind(E(n)),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(E(n)),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(E(n)),n.show=n.show.bind(E(n)),n.hide=n.hide.bind(E(n)),n.onEscKeyDown=n.onEscKeyDown.bind(E(n)),n.getRef=n.getRef.bind(E(n)),n.state={isOpen:t.isOpen},n._isMounted=!1,n}V(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.updateTarget()},n.componentWillUnmount=function(){this._isMounted=!1,this.removeTargetEvents(),this._targets=null,this.clearShowTimeout(),this.clearHideTimeout()},t.getDerivedStateFromProps=function(e,t){return e.isOpen&&!t.isOpen?{isOpen:e.isOpen}:null},n.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._hideTimeout&&this.clearHideTimeout(),this.state.isOpen&&!this.props.isOpen&&this.toggle())},n.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},n.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},n.getRef=function(e){var t=this.props.innerRef;t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),this._popover=e},n.getDelay=function(e){var t=this.props.delay;return"object"===typeof t?isNaN(t[e])?Ln[e]:t[e]:t},n.show=function(e){if(!this.props.isOpen){if(this.clearShowTimeout(),this.currentTargetElement=e?e.currentTarget||e.target:null,e&&e.composedPath&&"function"===typeof e.composedPath){var t=e.composedPath();this.currentTargetElement=t&&t[0]||this.currentTargetElement}this.toggle(e)}},n.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},n.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.currentTargetElement=null,this.toggle(e))},n.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},n.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},n.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},n.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||Nn(e.target,this._targets))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!Rn(e.target,this._popover)?this.hideWithDelay(e):this.props.isOpen||this.showWithDelay(e)):t.indexOf("click")>-1&&Nn(e.target,this._targets)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},n.addEventOnTargets=function(e,t,n){this._targets.forEach((function(a){a.addEventListener(e,t,n)}))},n.removeEventOnTargets=function(e,t,n){this._targets.forEach((function(a){a.removeEventListener(e,t,n)}))},n.addTargetEvents=function(){if(this.props.trigger){var e=this.props.trigger.split(" ");-1===e.indexOf("manual")&&((e.indexOf("click")>-1||e.indexOf("legacy")>-1)&&document.addEventListener("click",this.handleDocumentClick,!0),this._targets&&this._targets.length&&(e.indexOf("hover")>-1&&(this.addEventOnTargets("mouseover",this.showWithDelay,!0),this.addEventOnTargets("mouseout",this.hideWithDelay,!0)),e.indexOf("focus")>-1&&(this.addEventOnTargets("focusin",this.show,!0),this.addEventOnTargets("focusout",this.hide,!0)),this.addEventOnTargets("keydown",this.onEscKeyDown,!0)))}},n.removeTargetEvents=function(){this._targets&&(this.removeEventOnTargets("mouseover",this.showWithDelay,!0),this.removeEventOnTargets("mouseout",this.hideWithDelay,!0),this.removeEventOnTargets("keydown",this.onEscKeyDown,!0),this.removeEventOnTargets("focusin",this.show,!0),this.removeEventOnTargets("focusout",this.hide,!0)),document.removeEventListener("click",this.handleDocumentClick,!0)},n.updateTarget=function(){var e=Se(this.props.target,!0);e!==this._targets&&(this.removeTargetEvents(),this._targets=e?Array.from(e):[],this.currentTargetElement=this.currentTargetElement||this._targets[0],this.addTargetEvents())},n.toggle=function(e){return this.props.disabled||!this._isMounted?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){if(!this.props.isOpen)return null;this.updateTarget();var e=this.props,t=e.className,n=e.cssModule,a=e.innerClassName,r=e.isOpen,i=e.hideArrow,o=e.boundariesElement,s=e.placement,l=e.placementPrefix,c=e.arrowClassName,u=e.popperClassName,d=e.container,p=e.modifiers,f=e.offset,m=e.fade,g=e.flip,v=ue(this.props,Object.keys(Mn)),y=ce(u,n),_=ce(a,n);return h.a.createElement(On,{className:t,target:this.currentTargetElement||this._targets[0],isOpen:r,hideArrow:i,boundariesElement:o,placement:s,placementPrefix:l,arrowClassName:c,popperClassName:y,container:d,modifiers:p,offset:f,cssModule:n,fade:m,flip:g},h.a.createElement("div",H({},v,{ref:this.getRef,className:_,role:"tooltip",onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent,onKeyDown:this.onEscKeyDown})))},t}(h.a.Component);In.propTypes=Mn,In.defaultProps=Dn;var An=In,Pn=function(e){var t=ie()("tooltip","show",e.popperClassName),n=ie()("tooltip-inner",e.innerClassName);return h.a.createElement(An,H({},e,{popperClassName:t,innerClassName:n}))};Pn.propTypes=Mn,Pn.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"hover focus"};var Yn=Pn,Fn=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onHeaderCellClick=function(e){if("function"===typeof n.props.onHeaderCellClick){var t=n.props.column;n.props.onHeaderCellClick(t)}},n.onDropDownToggle=function(){n.props.onColumnSelectNone(n.props.column)},n.getHeaderIcon=function(){var e=n.props.column.type||"default";return h.a.createElement("i",{className:_n[e]})},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.scrollLeft,a=e.headerDropdownMenu,r=e.t,i=this.onDropDownToggle,o=this.getHeaderIcon(),s="header"===t.rowType?t.name:"";return h.a.createElement("div",{className:"header-cell-container"},h.a.createElement("div",{className:"widget-HeaderCell__value",style:{lineHeight:"24px"}},h.a.createElement("div",{className:"header-cell-left",onClick:this.onHeaderCellClick},h.a.createElement("div",{className:"header-icon"},o),h.a.createElement("div",{className:"header-name d-flex"},h.a.createElement("span",{className:"mr-4"},s),1===t.idx&&h.a.createElement(jn,{t:r}))),Object(p.isValidElement)(a)?Object(p.cloneElement)(a,{column:t,scrollLeft:n,onDropDownToggle:i}):""))}}]),t}(h.a.Component),jn=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).closeHelpTooltip=function(){n.setState({tooltipOpen:!1})},n.toggleTooltip=function(e){e.stopPropagation(),n.setState({tooltipOpen:!n.state.tooltipOpen})},n.onGotit=function(e){e.stopPropagation(),n.closeHelpTooltip(),n.hideHelpTooltip=!0,localStorage.setItem("hide-first-column-header-cell-help-icon",!0)},n.state={tooltipOpen:!1},n.hideHelpTooltip=localStorage.getItem("hide-first-column-header-cell-help-icon"),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.hideHelpTooltip||window.addEventListener("click",this.closeHelpTooltip)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeHelpTooltip)}},{key:"render",value:function(){if(this.hideHelpTooltip)return null;return h.a.createElement("span",{className:"header-icon"},h.a.createElement("span",{className:"dtable-font dtable-icon-use-help",id:"column-use-help",onClick:this.toggleTooltip}),h.a.createElement(Yn,{innerClassName:"help-icon-tooltip-inner",placement:"bottom",isOpen:this.state.tooltipOpen,target:"column-use-help",fade:!0},h.a.createElement("div",null,this.props.t("The_first_column_is_a_special_column_that_used_to_identify_the_row_It_cannot_be_hidden_or_moved_It_can_be_frozen_when_the_table_is_long")),h.a.createElement("div",{className:"help-icon-tooltip-btn",onClick:this.onGotit},this.props.t("Got_it"))))}}]),t}(h.a.PureComponent),Un=Object(I.d)("dtable")(Fn),Hn={ASC:"ASC",DESC:"DESC",NONE:"NONE"},Bn=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e,t=n.props,a=t.sortDirection,r=t.sortDescendingFirst;switch(a){default:case null:case void 0:case Hn.NONE:e=r?Hn.DESC:Hn.ASC;break;case Hn.ASC:e=r?Hn.NONE:Hn.DESC;break;case Hn.DESC:e=r?Hn.ASC:Hn.NONE}n.props.onSort(n.props.columnKey,e)},n.getSortByText=function(){return"NONE"===n.props.sortDirection?"":String.fromCharCode({ASC:"9650",DESC:"9660"}[n.props.sortDirection])},n}return S(t,e),_(t,[{key:"render",value:function(){var e=ie()({"react-grid-HeaderCell-sortable":!0,"react-grid-HeaderCell-sortable--ascending":"ASC"===this.props.sortDirection,"react-grid-HeaderCell-sortable--descending":"DESC"===this.props.sortDirection}),t=this.props.headerRenderer?h.a.cloneElement(this.props.headerRenderer,this.props):this.props.column.name;return h.a.createElement("div",{className:e,onClick:this.onClick,style:{cursor:"pointer"}},h.a.createElement("span",{className:"pull-right"},this.getSortByText()),t)}}]),t}(h.a.Component);Bn.DEFINE_SORT=Hn;z.a.shape({name:z.a.node.isRequired,key:z.a.string.isRequired,width:z.a.number.isRequired,filterable:z.a.bool});var Vn=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={filterTerm:""},n.handleChange=function(e){var t=e.target.value;n.setState({filterTerm:t}),n.props.onChange({filterTerm:t,column:n.props.column})},n.renderInput=function(){var e=n.props.t;if(!1===n.props.column.filterable)return h.a.createElement("span",null);var t="header-filter-"+n.props.column.key;return h.a.createElement("input",{key:t,type:"text",className:"form-control input-sm",placeholder:e("Search"),value:n.state.filterTerm,onChange:n.handleChange})},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("div",{className:"form-group"},this.renderInput()))}}]),t}(h.a.Component),Gn=Object(I.d)("dtable")(Vn);n(244);var Wn=["onDragStart","onDragEnd","onDrag","style"],zn=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={drag:null},n.onMouseDown=function(e){var t=n.props.onDragStart(e);e.preventDefault&&e.preventDefault(),null===t&&0!==e.button||(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),n.setState({drag:t}))},n.onMouseMove=function(e){null!==n.state.drag&&(e.preventDefault&&e.preventDefault(),n.props.onDrag(e))},n.onMouseUp=function(e){n.cleanUp(),n.props.onDragEnd(e,n.state.drag),n.setState({drag:null})},n.cleanUp=function(){window.removeEventListener("mouseup",n.onMouseUp),window.removeEventListener("mousemove",n.onMouseMove),window.removeEventListener("touchend",n.onMouseUp),window.removeEventListener("touchmove",n.onMouseMove)},n.getKnownDivProps=function(){return gn(n.props,Wn)},n}return S(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.cleanUp()}},{key:"render",value:function(){return h.a.createElement("div",Object.assign({},this.getKnownDivProps(),{onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,className:"react-grid-HeaderCell__draggable"}))}}]),t}(h.a.Component);zn.defaultProps={onDragStart:function(){return!0},onDragEnd:function(){},onDrag:function(){}};var qn=zn,Kn=-1,Xn=3,Jn=3,Zn=4,$n=4,Qn=99,ea=100,ta=1051;n(244);var na={position:"absolute",top:0,right:-3,width:5,borderRadius:"3px",zIndex:1,margin:"3px 0",height:"80%"},aa=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement(qn,Object.assign({},this.props,{className:"react-grid-HeaderCell__resizeHandle",style:na}))}}]),t}(h.a.Component);n(244);var ra=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={resizing:!1},n.headerCellRef=function(e){return n.headerCell=e},n.onDragStart=function(e){n.setState({resizing:!0}),e&&e.dataTransfer&&e.dataTransfer.setData&&e.dataTransfer.setData("text/plain","dummy")},n.onDrag=function(e){var t=n.props.onResize||null;if(t){var a=n.getWidthFromMouseEvent(e);a>0&&t(n.props.column,a)}},n.onDragEnd=function(e){var t=n.getWidthFromMouseEvent(e);n.props.onResizeEnd(n.props.column,t),n.setState({resizing:!1})},n.getWidthFromMouseEvent=function(e){return(e.pageX||e.touches&&e.touches[0]&&e.touches[0].pageX||e.changedTouches&&e.changedTouches[e.changedTouches.length-1].pageX)-m.a.findDOMNode(n.headerCell).getBoundingClientRect().left},n.getCell=function(){var e=n.props,t=e.height,a=e.column,r=e.renderer;return h.a.isValidElement(r)?"string"===typeof n.props.renderer.type?h.a.cloneElement(r,{height:t}):h.a.cloneElement(r,{column:a,height:t}):n.props.renderer({column:a})},n.getStyle=function(){var e=n.props,t=e.column,a=e.height,r=e.isGroupView,i=e.groupOffsetLeft,o=t.width,s=t.left;r&&("select-row"===t.key?o+=i:s+=i);var l={width:o,left:s,display:"inline-block",position:"absolute",height:a,margin:0,textOverflow:"ellipsis",whiteSpace:"nowrap"};return t&&1===t.idx&&t.frozen?Object.assign(l,{zIndex:Jn}):l},n.setScrollLeft=function(e){if(!window.isMobile){var t=m.a.findDOMNode(E(n));if(t){if(t.style.webkitTransform="translate3d(".concat(e,"px, 0px, 0px)"),t.style.transform="translate3d(".concat(e,"px, 0px, 0px)"),-1===t.className.indexOf("react-grid-HeaderCell--frozen"))return;0===e?(t.style.borderRight="1px solid #eee",t.style.boxShadow="none"):(t.style.borderRight="1px solid #ddd",t.style.boxShadow="2px 0 5px -2px rgba(136, 136, 136, .3)")}}},n.removeScroll=function(){var e=m.a.findDOMNode(E(n));if(e){e.style.webkitTransform="none",e.style.transform="none"}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.rowType,a=e.isHeaderLocked,i=t.resizable&&!this.props.isHeaderLocked&&h.a.createElement(aa,{onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}),o="r"===window.dtable.permission,s=ie()({"react-grid-HeaderCell":!0,"react-grid-HeaderCell--resizing":this.state.resizing,"react-grid-HeaderCell--frozen":cn(t)&&!window.isMobile},this.props.className,t.cellClass),l=h.a.createElement("div",{ref:this.headerCellRef,className:s,style:this.getStyle()},this.getCell(),i);if(n===r.HEADER&&t.draggable&&!a&&!o&&1!==t.idx){var c=this.props.draggableHeaderCell;return h.a.createElement(c,{column:t,onHeaderDrop:this.props.onHeaderDrop},l)}return l}}]),t}(h.a.Component);ra.defaultProps={renderer:function(e){var t="header"===e.column.rowType?e.column.name:"";return h.a.createElement("div",{className:"widget-HeaderCell__value"},t)}};var ia=ra,oa=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onInsertColumn=function(){var e=n.props.onInsertColumn;e&&e()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=ie()({"react-grid-HeaderCell":!0,"add-column-icon":!0});return h.a.createElement("div",{style:this.props.style,className:e,onClick:this.onInsertColumn,title:"Add Column"},"+")}}]),t}(h.a.Component),sa=(n(244),["width","height","style","onScroll"]),la=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(o)))).state={column:null,scrollLeft:0},n.cells=[],n.getHeaderCellType=function(e){return e.filterable&&n.props.filterable?yn.a.FILTERABLE:e.sortable&&e.rowType!==r.FILTER?yn.a.SORTABLE:yn.a.NONE},n.getFilterableHeaderCell=function(e){var t=Gn;return void 0!==e.filterRenderer&&(t=e.filterRenderer),h.a.createElement(t,Object.assign({},n.props,{onChange:n.props.onFilterChange}))},n.getSortableHeaderCell=function(e){var t=n.props.sortColumn===e.key?n.props.sortDirection:Bn.DEFINE_SORT.NONE,a=void 0!==e.sortDescendingFirst&&e.sortDescendingFirst;return h.a.createElement(Bn,{columnKey:e.key,onSort:n.props.onSort,sortDirection:t,sortDescendingFirst:a,headerRenderer:e.headerRenderer})},n.getSimpleHeaderCell=function(e){return h.a.createElement(Un,{headerDropdownMenu:n.props.headerDropdownMenu,columnKey:e.key,column:e,onHeaderCellClick:n.onHeaderCellClick,onColumnSelectNone:n.onColumnSelectNone,scrollLeft:n.state.scrollLeft})},n.getHeaderRenderer=function(e){if(e.headerRenderer&&!e.sortable&&!n.props.filterable)return e.headerRenderer;switch(n.getHeaderCellType(e)){case yn.a.SORTABLE:return n.getSortableHeaderCell(e);case yn.a.FILTERABLE:return n.getFilterableHeaderCell(e);default:return n.getSimpleHeaderCell(e)}},n.getStyle=function(){return{overflow:"hidden",width:"100%",height:n.props.height,position:"absolute"}},n.getInsertColumnStyle=function(){var e=n.props.columns[n.props.columns.length-1],t=e.left+e.width,a=n.props,r=a.isGroupView,i=a.groupOffsetLeft;return r&&(t+=i),{position:"absolute",left:t,height:n.props.height,width:n.props.minColumnWidth,display:"inine-block",fontSize:"24px",lineHeight:"24px",textAlign:"center"}},n.getCells=function(){for(var e=[],t=[],a=n.props,i=a.columns,o=a.rowType,s=a.isHeaderLocked,l=function(a,l){var c=qe({rowType:o},sn(i,a)),u="select-row"===c.key&&o===r.FILTER?h.a.createElement("div",null):n.getHeaderRenderer(c);c.width<0&&(c.width=200,n.props.onColumnResizeEnd(c,200));var d=h.a.createElement(ia,{key:c.key,ref:function(e){return n.cells[a]=e},column:c,rowType:o,isHeaderLocked:s,height:n.props.height,renderer:u,resizing:n.props.resizing===c,onResize:n.props.onColumnResize,onResizeEnd:n.props.onColumnResizeEnd,onHeaderDrop:n.props.onHeaderDrop,draggableHeaderCell:n.props.draggableHeaderCell,isGroupView:n.props.isGroupView,groupOffsetLeft:n.props.groupOffsetLeft});cn(c)?t.push(d):e.push(d)},c=0,u=ln(i);c<u;c++)l(c);return e.concat(t)},n.setScrollLeft=function(e){var t=n.props,a=t.columns,r=t.isGroupView,i=e;n.setState({scrollLeft:e}),r&&!cn(a[1])&&(i=0),a.forEach((function(e,t){cn(e)&&n.cells[t]?n.cells[t].setScrollLeft(i):n.cells[t]&&n.cells[t].removeScroll&&n.cells[t].removeScroll()}))},n.getKnownDivProps=function(){return gn(n.props,sa)},n.onHeaderCellClick=function(e){n.props.eventBus.dispatch(i.SELECT_COLUMN,{column:e},null)},n.onColumnSelectNone=function(e){n.setState({column:e}),n.props.eventBus.dispatch(i.SELECT_NONE)},n}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"render",value:function(){var e={width:this.props.width?this.props.width+240:"100%",height:this.props.height,whiteSpace:"nowrap",overflowX:"hidden",overflowY:"hidden"},t=this.getCells(),n="r"===window.dtable.permission;return h.a.createElement("div",Object.assign({},this.getKnownDivProps(),{className:"react-grid-HeaderRow"}),h.a.createElement("div",{style:e},t,this.props.enableInsertColumn&&!n&&h.a.createElement(oa,{className:"react-grid-insert-column",style:this.getInsertColumnStyle(),onInsertColumn:this.props.onInsertColumn,columnLength:ln(this.props.columns)-1})))}}]),t}(h.a.Component);la.displayName="HeaderRow";var ca=la;n(244);var ua=["height","onScroll"],da=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(i)))).state={resizing:null},n.onColumnResize=function(e,t){var a=n.state.resizing||n.props,r=n.getColumnPosition(e);if(null!=r){var i={columnMetrics:Bt()(a.columnMetrics)};i.columnMetrics=fn.resizeColumn(i.columnMetrics,r,t),i.columnMetrics.totalWidth<a.columnMetrics.totalWidth&&(i.columnMetrics.totalWidth=a.columnMetrics.totalWidth),i.column=sn(i.columnMetrics.columns,r),n.setState({resizing:i})}},n.onColumnResizeEnd=function(e,t){if(!(t<0)){var a=n.getColumnPosition(e);null!==a&&n.props.onColumnResize&&n.props.onColumnResize(a,t||e.width)}},n.setRowRef=function(e){n.row=e},n.setFilterRowRef=function(e){n.filterRow=e},n.getHeaderRows=function(){var e=n.getColumnMetrics(),t=n.state.resizing?n.state.resizing.column:void 0,a=n.props.isHeaderLocked;return n.props.headerRows.map((function(i,o){var s=i.rowType===r.FILTER,l=s?"500px":"auto",c=Gt()>0?Gt():0,u=isNaN(n.props.totalWidth-c)?n.props.totalWidth:n.props.totalWidth-c,d={position:"absolute",top:n.getCombinedHeaderHeights(o),left:0,width:u,minHeight:l};return h.a.createElement(ca,{key:i.rowType,ref:s?n.setFilterRowRef:n.setRowRef,rowType:i.rowType,style:d,isHeaderLocked:a,onColumnResize:n.onColumnResize,onColumnResizeEnd:n.onColumnResizeEnd,width:e.width,minColumnWidth:e.minColumnWidth,height:i.height||n.props.height,columns:e.columns,resizing:t,draggableHeaderCell:n.props.draggableHeaderCell,filterable:i.filterable,onFilterChange:i.onFilterChange,onHeaderDrop:n.props.onHeaderDrop,sortColumn:n.props.sortColumn,sortDirection:n.props.sortDirection,onSort:n.props.onSort,onScroll:n.props.onScroll,eventBus:n.props.eventBus,headerDropdownMenu:n.props.headerDropdownMenu,enableInsertColumn:n.props.enableInsertColumn,onInsertColumn:n.props.onInsertColumn,isGroupView:n.props.isGroupView,groupOffsetLeft:n.props.groupOffsetLeft})}))},n.getColumnMetrics=function(){return n.state.resizing?n.state.resizing.columnMetrics:n.props.columnMetrics},n.getColumnPosition=function(e){var t=n.getColumnMetrics(),a=-1;return t.columns.forEach((function(t,n){t.key===e.key&&(a=n)})),-1===a?null:a},n.getCombinedHeaderHeights=function(e){var t=n.props.headerRows.length;"undefined"!==typeof e&&(t=e);for(var a=0,r=0;r<t;r++)a+=n.props.headerRows[r].height||n.props.height;return a},n.getStyle=function(){var e=n.state.resizing,t=e?e.columnMetrics.width+240:n.props.columnMetrics.width+240;return{position:"relative",minWidth:window.innerWidth,width:t,height:n.getCombinedHeaderHeights()}},n.setScrollLeft=function(e){(m.a.findDOMNode(n.row).scrollLeft=e,n.row.setScrollLeft(e),n.filterRow)&&(m.a.findDOMNode(n.filterRow).scrollLeft=e,n.filterRow.setScrollLeft(e))},n.getKnownDivProps=function(){return gn(n.props,ua)},n.onHeaderClick=function(){n.props.cellMetaData.onCellClick({rowIdx:-1,idx:-1})},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(){this.setState({resizing:null})}},{key:"shouldComponentUpdate",value:function(e,t){return!fn.sameColumns(this.props.columnMetrics.columns,e.columnMetrics.columns,fn.sameColumn)||this.props.totalWidth!==e.totalWidth||this.props.headerRows.length!==e.headerRows.length||this.state.resizing!==t.resizing||this.props.sortColumn!==e.sortColumn||this.props.sortDirection!==e.sortDirection||this.props.groups!==e.groups||this.props.isHeaderLocked!==e.isHeaderLocked}},{key:"render",value:function(){var e=ie()({"react-grid-Header":!0,"react-grid-Header--resizing":!!this.state.resizing}),t=this.getHeaderRows();return h.a.createElement("div",Object.assign({},this.getKnownDivProps(),{style:this.getStyle(),className:e,onClick:this.onHeaderClick}),t)}}]),t}(h.a.Component);function pa(e,t){if(null==e)return{};var n,a,r=B(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ha=12,fa=42,ma={operation_invalid:"Operation_invalid",permission_denied:"You_do_not_have_permission",internal_error:"Internal_error",token_expired:"Token_expired_Please_refresh_the_page"},ga=25914e4,va=function(e,t){return!Array.isArray(t)||0===t.length||t.indexOf(e)<0},ya=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="r"===window.dtable.permission,r=e.row_ids.length;return a||(r+=1),n?fa+r*t+ha:fa+ha},_a=function(e,t,n,a,r){return n.slice(e,t).reduce((function(e,t,n){var i=va(n,r);return e+ya(t,a,i)}),0)},ba="upwards",wa="downwards",Ea="left",Ta="right",xa="none",Ca=Math.min,Sa=Math.max,ka=Math.ceil,Oa=function(e){var t=e.isGroupView,n=e.groups,a=e.rowHeight,r=e.foldedGroups,i=ln(e.columnMetrics.columns),o=e.minHeight-e.rowOffsetHeight;if(t)return{groupVisibleStartIdx:0,groupVisibleEndIdx:Na(o,0,n,a,r,e.columnMetrics.columns,0,0).groupVisibleEndIdx,height:o,scrollTop:0,scrollLeft:0,colVisibleStartIdx:0,colVisibleEndIdx:i,isScrolling:!1};var s=ka((e.minHeight-a)/a);return{rowOverscanStartIdx:0,rowOverscanEndIdx:Ca(e.rowsCount,2*s),rowVisibleStartIdx:0,rowVisibleEndIdx:s,height:o,scrollTop:0,scrollLeft:0,colVisibleStartIdx:0,colVisibleEndIdx:i,isScrolling:!1,lastFrozenColumnIndex:0}},Ma=function(e){var t=-1;return e.forEach((function(e,n){cn(e)&&(t=n)})),t},La=function(e,t){var n=t,a=Ma(e),r=e.slice(a+1);if(a>0)for(var i=a;i<r.length;i++){if((n-=e[i].width)<0)return i-1}else for(var o=0;o<r.length;o++){if((n-=e[o].width)<0)return o}},Da=function(e,t,n){for(var a=t+n,r=0;r<e.length;r++){if((a-=e[r].width)<0)return r-1-1}return e.length-1},Ra=function(e,t,n){return t!==e.scrollTop&&void 0!==e.scrollTop?t-e.scrollTop>=0?wa:ba:n!==e.scrollLeft&&void 0!==e.scrollLeft?n-e.scrollLeft>=0?Ta:Ea:xa},Na=function(e,t,n,a,r,i,o,s){var l=La(i,o),c=Da(i,s,o),u=fa+10*a,d=ha+10*a,p=0,h=0,f=0,m=0;n.forEach((function(n,i){var o=va(i,r),s=ya(n,a,o);p++,(h+=s)<=t&&(f=p),h<=t+e&&(m=p)})),m=Ca(m,n.length-1);var g=0,v=0;if(0===f){if(va(0,r)){var y=t;if(t>u)g=Math.floor((y-u)/a)}}else{var _=_a(0,f,n,a,r),b=t-_;if(b>u)g=Math.floor((b-u)/a);else if(va(f-=1,r)){var w=n[f].row_ids.length;g=w>10?w-10:0}}if(0===m){var E=va(0,r);if(E){var T=n[0],x=ya(T,a,E)-(t+e);if(x>d)v=Math.floor((x-d)/a)}}else{var C=_a(0,m+1,n,a,r)-(t+e);if(C>d){v=Math.floor((C-d)/a)}else{var S=m===n.length-1;if(va(m=S?m:m+1,r)&&!S){var k=n[m].row_ids.length;v=k>10?k-10:0}}}return{groupVisibleStartIdx:f,groupVisibleEndIdx:m,groupVisibleStartHiddenRows:g,groupVisibleEndHiddenRows:v,colVisibleStartIdx:l,colVisibleEndIdx:c}},Ia=(z.a.oneOfType([z.a.string,z.a.element]),z.a.func,z.a.arrayOf(z.a.shape({text:z.a.string,callback:z.a.func})),n(147)),Aa=n.n(Ia),Pa=n(44),Ya=n(190),Fa=n.n(Ya),ja=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).containerStyle=Object(Pa.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=Object(Pa.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=Object(Pa.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=Object(Pa.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=Object(Pa.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=Object(Pa.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=Object(Pa.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=Object(Pa.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=Object(Pa.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return S(t,e),_(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:Object(Pa.css)({color:"rgb(71, 184, 129)"}),iconClass:"dtable-font dtable-icon-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:Object(Pa.css)({color:"rgb(217, 130, 43)"}),iconClass:"dtable-font dtable-icon-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:Object(Pa.css)({color:"rgb(16, 112, 202)"}),iconClass:"dtable-font dtable-icon-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:Object(Pa.css)({color:"rgb(236, 76, 71)"}),iconClass:"dtable-font dtable-icon-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return h.a.createElement("div",Object(Pa.css)(e.borderStyle,this.containerStyle),h.a.createElement("div",{className:this.toastIcon},h.a.createElement("i",Object.assign({className:e.iconClass},e.iconColor))),h.a.createElement("div",{className:this.toastTextContainer},h.a.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?h.a.createElement("p",{className:this.toastTextChild},this.props.children):null),this.props.isRemoveable&&h.a.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},h.a.createElement("span",null,"\xd7")))}}]),t}(h.a.PureComponent),Ua="cubic-bezier(0.0, 0.0, 0.2, 1)",Ha="cubic-bezier(0.4, 0.0, 1, 1)",Ba="cubic-bezier(0.175, 0.885, 0.320, 1.175)",Va=Pa.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),Ga=Pa.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),Wa=Object(Pa.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all ".concat(240,"ms ").concat(Ua),'&[data-state="entering"], &[data-state="entered"]':{animation:"".concat(Va," ").concat(240,"ms ").concat(Ba," both")},'&[data-state="exiting"]':{animation:"".concat(Ga," 120ms ").concat(Ha," both")}}),za=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={isShown:!0,height:0},n.close=function(){n.clearCloseTimer(),n.setState({isShown:!1})},n.startCloseTimer=function(){n.props.duration&&(n.closeTimer=setTimeout((function(){n.close()}),1e3*n.props.duration))},n.clearCloseTimer=function(){n.closeTimer&&(clearTimeout(n.closeTimer),n.closeTimer=null)},n.handleMouseEnter=function(){n.clearCloseTimer()},n.handleMouseLeave=function(){n.startCloseTimer()},n.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect().height;n.setState({height:t})}},n}return S(t,e),_(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return h.a.createElement(Fa.a,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},(function(t){return h.a.createElement("div",{"data-state":t,className:Wa,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},h.a.createElement("div",{ref:e.onRef,style:{padding:8}},h.a.createElement(ja,{intent:e.props.intent,title:e.props.title,children:e.props.children||"",isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))}))}}]),t}(h.a.PureComponent);za.defaultProps={intent:"none"};var qa=Object(Pa.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:999999}),Ka=function(e){return Object.hasOwnProperty.call(e,"id")},Xa=function(e){function t(e,n){var a;return v(this,t),(a=T(this,x(t).call(this,e,n))).getToasts=function(){return a.state.toasts},a.closeAll=function(){a.getToasts().forEach((function(e){return e.close()}))},a.notify=function(e,t){if(Ka(t)){var n=!0,r=!1,i=void 0;try{for(var o,s=a.state.toasts[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;String(l.id).startsWith(t.id)&&a.closeToast(l.id)}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}var c=a.createToastInstance(e,t);return a.setState((function(e){return{toasts:[c].concat(N(e.toasts))}})),c},a.createToastInstance=function(e,n){var r=++t.idCounter,i=Ka(n)?"".concat(n.id,"-").concat(r):r,o=n.hasCloseButton||!0,s=n.duration||2;return void 0!==n.hasCloseButton&&(o=n.hasCloseButton),void 0!==n.duration&&(s=n.duration),{id:i,title:e,description:n.description,hasCloseButton:o,duration:s,close:function(){return a.closeToast(i)},intent:n.intent}},a.closeToast=function(e){a.setState((function(t){return{toasts:t.toasts.map((function(t){return t.id===e?qe({},t,{isShown:!1}):t}))}}))},a.removeToast=function(e){a.setState((function(t){return{toasts:t.toasts.filter((function(t){return t.id!==e}))}}))},e.bindNotify(a.notify),e.bindGetToasts(a.getToasts),e.bindCloseAll(a.closeAll),a.state={toasts:[]},a}return S(t,e),_(t,[{key:"render",value:function(){var e=this;return h.a.createElement("span",{className:qa},this.state.toasts.map((function(t){var n=t.id,a=t.description,r=pa(t,["id","description"]);return h.a.createElement(za,Object.assign({key:n,onRemove:function(){return e.removeToast(n)}},r),a)})))}}]),t}(h.a.PureComponent);Xa.idCounter=0;var Ja="undefined"!==typeof window&&"undefined"!==typeof window.document,Za=new function e(){var t=this;if(v(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,qe({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,qe({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,qe({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,qe({},n,{intent:"danger"}))},Ja){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),m.a.render(h.a.createElement(Xa,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};var $a=Object(I.d)("dtable")((function(e){var t=window.dtable.loginUrl,n=e.t,a="".concat(t,"?next=").concat(encodeURIComponent(location.href));return h.a.createElement("span",{className:"error"},n("Permission_denied_Plaese_try"),h.a.createElement("a",{className:"action-link p-0",href:a},n("login_again")))})),Qa=z.a.oneOfType([z.a.number,z.a.string]),er=z.a.oneOfType([z.a.string,z.a.number,z.a.shape({size:Qa,order:Qa,offset:Qa})]),tr={children:z.a.node,hidden:z.a.bool,check:z.a.bool,size:z.a.string,for:z.a.string,tag:ge,className:z.a.string,cssModule:z.a.object,xs:er,sm:er,md:er,lg:er,xl:er,widths:z.a.array},nr={tag:"label",widths:["xs","sm","md","lg","xl"]},ar=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},rr=function(e){var t=e.className,n=e.cssModule,a=e.hidden,r=e.widths,i=e.tag,o=e.check,s=e.size,l=e.for,c=B(e,["className","cssModule","hidden","widths","tag","check","size","for"]),u=[];r.forEach((function(t,a){var r=e[t];if(delete c[t],r||""===r){var i,o=!a;if(Te(r)){var s,l=o?"-":"-"+t+"-";i=ar(o,t,r.size),u.push(ce(ie()(((s={})[i]=r.size||""===r.size,s["order"+l+r.order]=r.order||0===r.order,s["offset"+l+r.offset]=r.offset||0===r.offset,s))),n)}else i=ar(o,t,r),u.push(i)}}));var d=ce(ie()(t,!!a&&"sr-only",!!o&&"form-check-label",!!s&&"col-form-label-"+s,u,!!u.length&&"col-form-label"),n);return h.a.createElement(i,H({htmlFor:l},c,{className:d}))};rr.propTypes=tr,rr.defaultProps=nr;var ir=rr,or=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).setInputRef=function(e){return n.input=e,n.input},n.onBlur=function(){"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onBlur()},n.onPaste=function(e){e.stopPropagation()},n.onCut=function(e){e.stopPropagation()},n.onKeyDown=function(e){var t=e.currentTarget,n=t.selectionStart,a=t.selectionEnd,r=t.value;(229===e.keyCode||37===e.keyCode&&0===n||39===e.keyCode&&a===r.length)&&e.stopPropagation()},n}return S(t,e),_(t,[{key:"render",value:function(){var e="r"===window.dtable.permission,t=this.props,n=t.mode,a=t.column,r=a?a.name:"";return h.a.createElement(p.Fragment,null,"row_expand"===n&&h.a.createElement(ir,null,h.a.createElement("span",{className:"header-name"},r)),h.a.createElement("input",{type:"text",ref:this.setInputRef,onBlur:this.onBlur,onCut:this.onCut,onPaste:this.onPaste,className:"form-control",defaultValue:this.props.value,onKeyDown:this.onKeyDown,disabled:e}))}}]),t}(function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"getStyle",value:function(){return{width:"100%"}}},{key:"getValue",value:function(){var e={};return e[this.props.column.key]=this.getInputNode().value,e}},{key:"getInputNode",value:function(){var e=m.a.findDOMNode(this.input);return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")}},{key:"inheritContainerStyles",value:function(){return!0}}]),t}(h.a.Component)),sr=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).isAllowInput=function(e){switch(n.props.column.data?n.props.column.data.format:"number"){case"number":case"number-with-commas":return e.replace(/[^.-\d,]/g,"");case"percent":return e.replace(/[^.-\d,%]/g,"");case"yuan":return e.replace(/[^.-\d\uffe5,]/g,"");case"dollar":return e.replace(/[^.-\d$,]/g,"");case"euro":return e.replace(/[^.-\d\u20ac,]/g,"");default:return e.replace(/[^.-\d,]/g,"")}},n.onChange=function(e){var t=e.target.value.trim();(t=n.isAllowInput(t))!==n.state.value&&n.setState({value:t})},n.onKeyDown=function(e){var t=e.currentTarget,a=t.selectionStart,r=t.selectionEnd,i=t.value;P()("enter",e)?(e.preventDefault(),n.onBlur()):(37===e.keyCode&&0===a||39===e.keyCode&&r===i.length)&&e.stopPropagation()},n.getValue=function(){var e={};return e[n.props.column.key]=Object(pt.getFloatNumber)(n.getInputNode().value),e},n.getInputNode=function(){var e=m.a.findDOMNode(n.input);return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onBlur=function(){"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onBlur()},n.setInputRef=function(e){return n.input=e,n.input},n.onPaste=function(e){e.stopPropagation()},n.onCut=function(e){e.stopPropagation()},n.state={isShowTipMessage:!1,tipMessage:"Please enter a number.",value:e.value||0===e.value?e.value:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){"row_expand"===this.props.mode&&this.input.focus();var e=this.props.column.data?this.props.column.data.format:"number",t=this.state.value;t=Object(pt.getNumberDisplayString)(t,e),this.setState({value:t})}},{key:"render",value:function(){var e="row_expand"===this.props.mode?{textAlign:"left",width:"320px"}:{textAlign:"right"};return h.a.createElement(p.Fragment,null,h.a.createElement("input",{ref:this.setInputRef,type:"text",className:"form-control",value:this.state.value,onBlur:this.onBlur,onPaste:this.onPaste,onCut:this.onCut,onKeyDown:this.onKeyDown,onChange:this.onChange,style:e}))}}]),t}(h.a.Component);var lr=function(e){var t=e.onDragStart,n=e.onDragEnd,a=e.onDoubleClick;return h.a.createElement("div",{className:"drag-handle",draggable:"true",onDragStart:t,onDragEnd:n,onDoubleClick:a})};n(443),n(573);var cr=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onChange=function(e){var t=e.target.checked;t!==n.state.value&&n.setState({value:t})},n.onKeyDown=function(e){},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onBlur=function(){"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onBlur()},n.getInputNode=function(){var e=m.a.findDOMNode(E(n));return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.setInputRef=function(e){n.input=e},n.onPaste=function(e){e.stopPropagation();var t=n.props.value;n.setState({value:t})},n.onContainerClick=function(e){window.isMobile&&n.input.click()},n.state={isShowTipMessage:!1,value:e.value||!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){window.addEventListener("paste",this.onPaste)}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("paste",this.onPaste)}},{key:"render",value:function(){var e={},t={};this.props.mode&&(e={outline:"none"},t={marginLeft:0,transform:"scale(1.1)"});var n="r"===window.dtable.permission,a=h.a.createElement("input",{ref:this.setInputRef,type:"checkbox",className:"checkbox position-absolute","data-test":"active-editor",checked:this.state.value,onBlur:this.onBlur,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,style:t,disabled:n});return h.a.createElement(p.Fragment,null,"row_expand"===this.props.mode&&h.a.createElement(ir,null,h.a.createElement("span",{className:"expand-row-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-check-square-solid"})),this.props.column.name),window.isMobile?h.a.createElement("div",{className:"mobile-checkbox-editor-container",style:e,onClick:this.onContainerClick},a,h.a.createElement("div",{className:"show-box"})):h.a.createElement("div",{className:"checkbox-editor-container position-relative",style:e,onClick:this.onContainerClick},a,h.a.createElement("input",{className:"check-mark",type:"checkbox",checked:this.state.value,readOnly:!0}),"row_expand"!==this.props.mode&&h.a.createElement(lr,{onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd,onDoubleClick:this.props.onDoubleClick})))}}]),t}(h.a.Component),ur={children:z.a.node.isRequired,node:z.a.any},dr=function(e){function t(){return e.apply(this,arguments)||this}V(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return we?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),m.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(h.a.Component);dr.propTypes=ur;var pr=dr;function hr(){}var fr=z.a.shape(xn.propTypes),mr={isOpen:z.a.bool,autoFocus:z.a.bool,centered:z.a.bool,scrollable:z.a.bool,size:z.a.string,toggle:z.a.func,keyboard:z.a.bool,role:z.a.string,labelledBy:z.a.string,backdrop:z.a.oneOfType([z.a.bool,z.a.oneOf(["static"])]),onEnter:z.a.func,onExit:z.a.func,onOpened:z.a.func,onClosed:z.a.func,children:z.a.node,className:z.a.string,wrapClassName:z.a.string,modalClassName:z.a.string,backdropClassName:z.a.string,contentClassName:z.a.string,external:z.a.node,fade:z.a.bool,cssModule:z.a.object,zIndex:z.a.oneOfType([z.a.number,z.a.string]),backdropTransition:fr,modalTransition:fr,innerRef:z.a.oneOfType([z.a.object,z.a.string,z.a.func]),unmountOnClose:z.a.bool,returnFocusAfterClose:z.a.bool},gr=Object.keys(mr),vr={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:hr,onClosed:hr,modalTransition:{timeout:ye},backdropTransition:{mountOnEnter:!0,timeout:ve},unmountOnClose:!0,returnFocusAfterClose:!0},yr=function(e){function t(t){var n;return(n=e.call(this,t)||this)._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(E(n)),n.handleBackdropClick=n.handleBackdropClick.bind(E(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(E(n)),n.handleEscape=n.handleEscape.bind(E(n)),n.handleStaticBackdropAnimation=n.handleStaticBackdropAnimation.bind(E(n)),n.handleTab=n.handleTab.bind(E(n)),n.onOpened=n.onOpened.bind(E(n)),n.onClosed=n.onClosed.bind(E(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(E(n)),n.clearBackdropAnimationTimeout=n.clearBackdropAnimationTimeout.bind(E(n)),n.state={isOpen:!1,showStaticBackdropAnimation:!1},n}V(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isOpen,n=e.autoFocus,a=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),a&&a(),this._isMounted=!0},n.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},n.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),this.props.isOpen&&this.close()),this._isMounted=!1},n.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||hr)(e,t)},n.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||hr)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},n.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},n.getFocusableChildren=function(){return this._element.querySelectorAll(ke.join(", "))},n.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e},n.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},n.handleTab=function(e){if(9===e.which){var t=this.getFocusableChildren(),n=t.length;if(0!==n){for(var a=this.getFocusedChild(),r=0,i=0;i<n;i+=1)if(t[i]===a){r=i;break}e.shiftKey&&0===r?(e.preventDefault(),t[n-1].focus()):e.shiftKey||r!==n-1||(e.preventDefault(),t[0].focus())}}},n.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},n.handleEscape=function(e){this.props.isOpen&&e.keyCode===be.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},n.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)},n.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,document.body.appendChild(this._element)),this._originalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}(),le(),0===t.openCount&&(document.body.className=ie()(document.body.className,ce("modal-open",this.props.cssModule))),t.openCount+=1},n.destroy=function(){this._element&&(document.body.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},n.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},n.close=function(){if(t.openCount<=1){var e=ce("modal-open",this.props.cssModule),n=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}this.manageFocusAfterClose(),t.openCount=Math.max(0,t.openCount-1),se(this._originalBodyPadding)},n.renderModalDialog=function(){var e,t=this,n=ue(this.props,gr);return h.a.createElement("div",H({},n,{className:ce(ie()("modal-dialog",this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e["modal-dialog-centered"]=this.props.centered,e["modal-dialog-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),h.a.createElement("div",{className:ce(ie()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},n.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var n=this.props,a=n.wrapClassName,r=n.modalClassName,i=n.backdropClassName,o=n.cssModule,s=n.isOpen,l=n.backdrop,c=n.role,u=n.labelledBy,d=n.external,p=n.innerRef,f={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":u,role:c,tabIndex:"-1"},m=this.props.fade,g=qe({},xn.defaultProps,{},this.props.modalTransition,{baseClass:m?this.props.modalTransition.baseClass:"",timeout:m?this.props.modalTransition.timeout:0}),v=qe({},xn.defaultProps,{},this.props.backdropTransition,{baseClass:m?this.props.backdropTransition.baseClass:"",timeout:m?this.props.backdropTransition.timeout:0}),y=l&&(m?h.a.createElement(xn,H({},v,{in:s&&!!l,cssModule:o,className:ce(ie()("modal-backdrop",i),o)})):h.a.createElement("div",{className:ce(ie()("modal-backdrop","show",i),o)}));return h.a.createElement(pr,{node:this._element},h.a.createElement("div",{className:ce(a)},h.a.createElement(xn,H({},f,g,{in:s,onEntered:this.onOpened,onExited:this.onClosed,cssModule:o,className:ce(ie()("modal",r,this.state.showStaticBackdropAnimation&&"modal-static"),o),innerRef:p}),d,this.renderModalDialog()),y))}return null},n.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},t}(h.a.Component);yr.propTypes=mr,yr.defaultProps=vr,yr.openCount=0;var _r=yr,br=function(e){var t=ie()("popover","show",e.popperClassName),n=ie()("popover-inner",e.innerClassName);return h.a.createElement(An,H({},e,{popperClassName:t,innerClassName:n}))};br.propTypes=Mn,br.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click"};var wr=br,Er={tag:ge,wrapTag:ge,toggle:z.a.func,className:z.a.string,cssModule:z.a.object,children:z.a.node,closeAriaLabel:z.a.string,charCode:z.a.oneOfType([z.a.string,z.a.number]),close:z.a.object},Tr=function(e){var t,n=e.className,a=e.cssModule,r=e.children,i=e.toggle,o=e.tag,s=e.wrapTag,l=e.closeAriaLabel,c=e.charCode,u=e.close,d=B(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),p=ce(ie()(n,"modal-header"),a);if(!u&&i){var f="number"===typeof c?String.fromCharCode(c):c;t=h.a.createElement("button",{type:"button",onClick:i,className:ce("close",a),"aria-label":l},h.a.createElement("span",{"aria-hidden":"true"},f))}return h.a.createElement(s,H({},d,{className:p}),h.a.createElement(o,{className:ce("modal-title",a)},r),u||t)};Tr.propTypes=Er,Tr.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215};var xr=Tr,Cr={tag:ge,className:z.a.string,cssModule:z.a.object},Sr=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=B(e,["className","cssModule","tag"]),i=ce(ie()(t,"modal-body"),n);return h.a.createElement(a,H({},r,{className:i}))};Sr.propTypes=Cr,Sr.defaultProps={tag:"div"};var kr=Sr,Or={children:z.a.node,type:z.a.string,size:z.a.string,bsSize:z.a.string,valid:z.a.bool,invalid:z.a.bool,tag:ge,innerRef:z.a.oneOfType([z.a.object,z.a.func,z.a.string]),plaintext:z.a.bool,addon:z.a.bool,className:z.a.string,cssModule:z.a.object},Mr=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(E(n)),n.focus=n.focus.bind(E(n)),n}V(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,a=e.type,r=e.bsSize,i=e.valid,o=e.invalid,s=e.tag,l=e.addon,c=e.plaintext,u=e.innerRef,d=B(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),p=["radio","checkbox"].indexOf(a)>-1,f=new RegExp("\\D","g"),m=s||("select"===a||"textarea"===a?a:"input"),g="form-control";c?(g+="-plaintext",m=s||"input"):"file"===a?g+="-file":p&&(g=l?null:"form-check-input"),d.size&&f.test(d.size)&&(pe('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=d.size,delete d.size);var v=ce(ie()(t,o&&"is-invalid",i&&"is-valid",!!r&&"form-control-"+r,g),n);return("input"===m||s&&"function"===typeof s)&&(d.type=a),d.children&&!c&&"select"!==a&&"string"===typeof m&&"select"!==m&&(pe('Input with a type of "'+a+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete d.children),h.a.createElement(m,H({},d,{ref:u,className:v}))},t}(h.a.Component);Mr.propTypes=Or,Mr.defaultProps={type:"text"};var Lr=Mr,Dr={tag:ge,className:z.a.string,cssModule:z.a.object},Rr=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=B(e,["className","cssModule","tag"]),i=ce(ie()(t,"modal-footer"),n);return h.a.createElement(a,H({},r,{className:i}))};Rr.propTypes=Dr,Rr.defaultProps={tag:"div"};var Nr=Rr,Ir=(n(574),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleNameChanged=function(e){n.setState({newOptionName:e.target.value})},n.setOptionColor=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.setState({newOptionColor:e.target.value})},n.editOption=function(){var e=n.state.newOptionName.trim(),t=n.state.newOptionColor,a=pt.SELECT_OPTION_COLORS.find((function(e){return e.COLOR===t})),r=a?a.TEXT_COLOR:null,i={name:e,color:t,textColor:r};n.props.option&&(i.id=n.props.option.id),n.props.editOption(i),n.setState({newOptionName:"",newOptionColor:""}),n.props.toggle()},n.state={newOptionName:e.option?e.option.name:"",newOptionColor:e.option?e.option.color:"#FFDED5"},n.newInput=h.a.createRef(),n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.option,a=t.t,r=this.state,i=r.newOptionName,o=r.newOptionColor,s=!!i.trim();return h.a.createElement(p.Fragment,null,h.a.createElement(xr,{toggle:this.props.toggle},h.a.createElement("i",{onClick:this.props.toggle,className:"dtable-font dtable-icon-return mr-2"}),a("".concat(n&&n.id?"Edit_option":"Add_an_option"))),h.a.createElement(kr,null,h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"form-label",htmlFor:"newNameInput"},a("Name")),h.a.createElement(Lr,{type:"text",value:i,onChange:this.handleNameChanged,innerRef:function(t){e.newInput=t},id:"newNameInput"})),h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"form-label"},a("Select_a_color")),h.a.createElement("div",{className:"row gutters-xs"},pt.SELECT_OPTION_COLORS.map((function(t,a){var r=t.COLOR,i=t.BORDER_COLOR,s=t.TEXT_COLOR;return h.a.createElement("div",{key:a,className:"col-auto"},h.a.createElement("label",{className:"colorinput"},0===a&&!n||n&&n.color===r?h.a.createElement("input",{name:"color",type:"radio",value:r,className:"colorinput-input",defaultChecked:!0,onClick:e.setOptionColor}):h.a.createElement("input",{name:"color",type:"radio",value:r,className:"colorinput-input",onClick:e.setOptionColor}),h.a.createElement("span",{className:"colorinput-color",style:{backgroundColor:r,borderColor:i}},r===o&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark",style:{color:s}}))))}))))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.props.toggle},a("Cancel")),s?h.a.createElement(Ve,{color:"primary",onClick:this.editOption},a("Save")):h.a.createElement(Ve,{color:"primary",disabled:!0},a("Save"))))}}]),t}(h.a.Component)),Ar=Object(I.d)("dtable")(Ir),Pr=(n(575),function(e){var t,n;return n=t=function(t){function n(){return v(this,n),T(this,x(n).apply(this,arguments))}return S(n,t),_(n,[{key:"render",value:function(){var t=qe({},this.props);return"function"===typeof this.props.getInstance&&(t.ref=this.props.getInstance),h.a.createElement(e,t)}}]),n}(p.Component),t.displayName="withRef(".concat(e.displayName||e.name||"Component",")"),n});var Yr=function(e){var t=e.callBack,n=e.footerName,a=e.className;return h.a.createElement("div",{className:"add-item-btn ".concat(a||""),onClick:function(e){e.stopPropagation(),t(e)}},h.a.createElement("i",{className:"dtable-font dtable-icon-add-table"}),h.a.createElement("span",{className:"add-new-option"},n))},Fr=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).getInputNode=function(){var e=m.a.findDOMNode(E(n));return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onBlur=function(){n.props.onBlur&&n.props.onBlur()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){var t=n.state,a=t.searchVal,r=t.options;a!==e.target.value&&(a=e.target.value,n.setState({searchVal:a}),n.filteredOptions=a?r.filter((function(e){return e.name.indexOf(a)>-1})):r)},n.onSelectOption=function(e){n.setState({value:e},(function(){"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onCommit()}))},n.renderMenuContent=function(e){var t=n.state.value,a=n.props,r=a.column,i=a.t,o=r.width>200?r.width-62:138;return e.length>0?e.map((function(e,a){var r=t===e.id,i={backgroundColor:e.color,color:e.textColor||null,maxWidth:o};return h.a.createElement("div",{key:a,className:"dropdown-item single-select-item"},h.a.createElement("div",{className:"single-select-container",onMouseDown:n.onSelectOption.bind(E(n),r?null:e.id)},h.a.createElement("div",{className:"single-select"},h.a.createElement("span",{className:"single-select-name",style:i},e.name)),h.a.createElement("div",{className:"single-select-check-icon"},r&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},i("No_options_available"))},n.onCreateOption=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isShowTheadEditOptionDialog:!0})},n.editOption=function(e){var t=n.state.options;window.app.onAddColumnOption(n.props.column,t,e),t.push(e),n.setState({options:t}),n.onSelectOption(e.id)},n.toggle=function(){n.setState({isShowTheadEditOptionDialog:!1})},n.handleEditorOptionClick=function(e){e.nativeEvent.stopImmediatePropagation()},n.onHotKey=function(e){13===e.keyCode&&(e.preventDefault(),1===n.filteredOptions.length&&n.onSelectOption(n.filteredOptions[0].id))},n.onKeyDown=function(e){229!==e.keyCode&&13!==e.keyCode||e.stopPropagation()};var a=e.column.data?e.column.data.options:[];return n.state={value:e.value||"",searchVal:"",options:a,isShowTheadEditOptionDialog:!1},n.filteredOptions=a,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){if("row_expand"===this.props.mode&&this.outerRef.getBoundingClientRect().top>330&&(this.singleSelectsRef.style.top="-200px"),!this.props.mode&&this.singleSelectsRef){var e=this.singleSelectsRef.getBoundingClientRect().bottom;e>window.innerHeight&&(this.singleSelectsRef.style.top=parseInt(this.singleSelectsRef.style.top)-e+window.innerHeight+"px")}document.addEventListener("keydown",this.onHotKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onHotKey)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.height,r=t.mode,i=t.t,o=this.state,s=o.searchVal,l=o.isShowTheadEditOptionDialog,c=!1,u={name:s.trim(),color:"#FFE8E6"};this.state.searchVal&&(c=-1===this.filteredOptions.findIndex((function(e){return e.name===s})));var d=!("row_expand"!==r),f=d?{width:"320px"}:{width:n.width,top:a-2},m=h.a.createElement("div",{className:"dropdown-menu single-selects-editor-list show",style:f,ref:function(t){return e.singleSelectsRef=t}},h.a.createElement("div",{className:"search-single-selects"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:i("Find_an_option"),value:this.state.searchVal,onChange:this.onChangeSearch,onKeyDown:this.onKeyDown})),h.a.createElement("div",{className:"single-selects-container"},this.renderMenuContent(this.filteredOptions)),c&&h.a.createElement(Yr,{callBack:this.onCreateOption,footerName:"".concat(i("Add_an_option")," ").concat(s),className:"add-search-result"}));return h.a.createElement(p.Fragment,null,l&&h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"thead-multiple-select",onClick:this.handleEditorOptionClick},h.a.createElement(Ar,{toggle:this.toggle,option:u,editOption:this.editOption})),!l&&d&&h.a.createElement("div",{ref:function(t){return e.outerRef=t}},h.a.createElement(wr,{placement:"bottom",isOpen:!0,target:"single-select-popover-".concat(n.key),hideArrow:!0,fade:!1},m)),!l&&!d&&m)}}]),t}(h.a.Component),jr=Object(I.d)("dtable")(Pr(Fr)),Ur=(n(885),function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).getInputNode=function(){var e=m.a.findDOMNode(E(n));return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onBlur=function(){n.props.onBlur&&n.props.onBlur()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){var t=n.state,a=t.searchVal,r=t.options;a!==e.target.value&&(a=e.target.value,n.setState({searchVal:a}),n.filteredOptions=a?r.filter((function(e){return e.name.indexOf(a)>-1})):r)},n.onSelectOption=function(e){var t=n.state.value,a=t.indexOf(e),r=t.slice(0);a>-1?r.splice(a,1):r.push(e),n.setState({value:r},(function(){"row_expand"===n.props.mode&&n.props.onCommit(n.getValue(),n.props.column)}))},n.onCreateOption=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isShowTheadEditOptionDialog:!0})},n.editOption=function(e){var t=n.state.options;window.app.onAddColumnOption(n.props.column,t,e),t.push(e),n.setState({options:t}),n.onSelectOption(e.id)},n.toggle=function(){n.setState({isShowTheadEditOptionDialog:!1})},n.handleEditorOptionClick=function(e){e.nativeEvent.stopImmediatePropagation()},n.onHotKey=function(e){13===e.keyCode&&(e.preventDefault(),1===n.filteredOptions.length&&n.onSelectOption(n.filteredOptions[0].id))},n.renderMenuContent=function(e){var t=n.state.value,a=n.props,r=a.column,i=a.t,o=r.width>200?r.width-62:138;return e.length>0?e.map((function(e,a){var r=!!Array.isArray(t)&&t.find((function(t){return t===e.id})),i={backgroundColor:e.color,color:e.textColor||null,maxWidth:o};return h.a.createElement("div",{key:a,className:"dropdown-item multiple-select-item"},h.a.createElement("div",{className:"multiple-select-container",onMouseDown:n.onSelectOption.bind(E(n),e.id)},h.a.createElement("div",{className:"multiple-select"},h.a.createElement("span",{className:"multiple-select-name",style:i},e.name)),h.a.createElement("div",{className:"multiple-select-check-icon"},r&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},i("No_options_available"))},n.removeOption=function(e){var t=n.state.value,a=t.slice(0);a.splice(t.indexOf(e),1),n.setState({value:a})},n.onKeyDown=function(e){229!==e.keyCode&&13!==e.keyCode||e.stopPropagation()};var a=e.column.data?e.column.data.options:[];return n.state={value:e.value||[],searchVal:"",options:a,isShowTheadEditOptionDialog:!1},n.filteredOptions=a,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){if("row_expand"===this.props.mode&&this.outerRef.getBoundingClientRect().top>330&&(this.multiSelectRef.style.top="-200px"),!this.props.mode&&this.multiSelectRef){var e=this.multiSelectRef.getBoundingClientRect().bottom;e>window.innerHeight&&(this.multiSelectRef.style.top="".concat(window.innerHeight-e,"px"))}document.addEventListener("keydown",this.onHotKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onHotKey)}},{key:"renderDeleteOption",value:function(){var e=this,t=this.state.options.filter((function(t){return e.state.value.includes(t.id)}));if(0===t.length)return null;var n=t.map((function(t,n){var a=t.textColor||null;return h.a.createElement("div",{key:"multiple-".concat(n),className:"multiple-select",style:{backgroundColor:t.color,color:a}},h.a.createElement("span",null,t.name),h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:e.removeOption.bind(e,t.id)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number",style:{color:"#FFFFFF"===a?a:null}}))))}));return h.a.createElement("div",{className:"multiple-selects-delete"},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.mode,r=t.t,i=this.state,o=i.searchVal,s=i.isShowTheadEditOptionDialog,l=!1,c={name:o.trim(),color:"#FFE8E6"};this.state.searchVal&&(l=-1===this.filteredOptions.findIndex((function(e){return e.name===o})));var u=!("row_expand"!==a),d=u?{width:"320px"}:{width:n.width,top:0},f=h.a.createElement("div",{className:"dropdown-menu multiple-selects-editor-list show",style:d,ref:function(t){return e.multiSelectRef=t}},!u&&this.renderDeleteOption(),h.a.createElement("div",{className:"search-multiple-selects"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:r("Find_an_option"),value:this.state.searchVal,onChange:this.onChangeSearch,onKeyDown:this.onKeyDown})),h.a.createElement("div",{className:"multiple-selects-container"},this.renderMenuContent(this.filteredOptions)),l&&h.a.createElement(Yr,{callBack:this.onCreateOption,footerName:"".concat(r("Add_an_option")," ").concat(o),className:"add-search-result"}));return h.a.createElement(p.Fragment,null,s&&h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"thead-multiple-select",onClick:this.handleEditorOptionClick},h.a.createElement(Ar,{toggle:this.toggle,option:c,editOption:this.editOption})),!s&&u&&h.a.createElement("div",{ref:function(t){return e.outerRef=t}},h.a.createElement(wr,{placement:"bottom",isOpen:!0,target:"multiple-select-popover-".concat(n.key),hideArrow:!0,fade:!1},f)),!s&&!u&&f)}}]),t}(h.a.Component)),Hr=Object(I.d)("dtable")(Pr(Ur)),Br=n(19),Vr=n.n(Br),Gr=n(16),Wr=n.n(Gr),zr=n(21),qr=n.n(zr),Kr=n(15),Xr=n.n(Kr),Jr=n(17),Zr=n.n(Jr),$r=n(57),Qr=n(54),ei=6,ti=7,ni=function(e){function t(){return Wr()(this,t),Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Zr()(t,e),qr()(t,[{key:"render",value:function(){for(var e=this.props,t=e.value.localeData(),n=e.prefixCls,a=[],r=[],i=void 0,o=ft()(),s=0;s<ti;s++){var l=(7+s)%ti;o.day(l),a[s]=t.weekdaysMin(o),r[s]=t.weekdaysShort(o)}e.showWeekNumber&&(i=h.a.createElement("th",{role:"columnheader",className:n+"-column-header "+n+"-week-number-header"},h.a.createElement("span",{className:n+"-column-header-inner"},"x")));var c=r.map((function(e,t){return h.a.createElement("th",{key:t,role:"columnheader",title:e,className:n+"-column-header"},h.a.createElement("span",{className:n+"-column-header-inner"},a[t]))}));return h.a.createElement("thead",null,h.a.createElement("tr",{role:"row"},i,c))}}]),t}(h.a.Component),ai=n(23),ri=n.n(ai),ii={disabledHours:function(){return[]},disabledMinutes:function(){return[]},disabledSeconds:function(){return[]}};function oi(e){var t=ft()();return t.locale(e.locale()).utcOffset(e.utcOffset()),t}function si(e){return e.format("LL")}function li(e){return si(oi(e))}function ci(e){var t=e.locale();return e.localeData()["zh-cn"===t?"months":"monthsShort"](e)}function ui(e,t){var n=t?t(e):{};return n=Vr()({},ii,n)}function di(e,t,n){return(!t||!t(e))&&!(n&&!function(e,t){return function(e,t){var n=!1;if(e){var a=e.hour(),r=e.minute(),i=e.second();if(-1===t.disabledHours().indexOf(a))if(-1===t.disabledMinutes(a).indexOf(r))n=-1!==t.disabledSeconds(a,r).indexOf(i);else n=!0;else n=!0}return!n}(e,ui(e,t))}(e,n))}function pi(e,t){return e?(Array.isArray(t)&&(t=t[0]),e.format(t)):""}function hi(e,t){return e&&t&&e.isSame(t,"day")}function fi(e,t){return e.year()<t.year()?1:e.year()===t.year()&&e.month()<t.month()}function mi(e,t){return e.year()>t.year()?1:e.year()===t.year()&&e.month()>t.month()}var gi=function(e){function t(){return Wr()(this,t),Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Zr()(t,e),qr()(t,[{key:"render",value:function(){var e=this.props,t=e.contentRender,n=e.prefixCls,a=e.selectedValue,r=e.value,i=e.showWeekNumber,o=e.dateRender,s=e.disabledDate,l=e.hoverValue,c=void 0,u=void 0,d=void 0,p=[],f=oi(r),m=n+"-cell",g=n+"-week-number-cell",v=n+"-date",y=n+"-today",_=n+"-selected-day",b=n+"-selected-date",w=n+"-selected-start-date",E=n+"-selected-end-date",T=n+"-in-range-cell",x=n+"-last-month-cell",C=n+"-next-month-btn-day",S=n+"-disabled-cell",k=n+"-disabled-cell-first-of-row",O=n+"-disabled-cell-last-of-row",M=n+"-last-day-of-month",L=r.clone();L.date(1);var D=(L.day()+7-7)%7,R=L.clone();R.add(0-D,"days");var N=0;for(c=0;c<ei;c++)for(u=0;u<ti;u++)d=R,N&&(d=d.clone()).add(N,"days"),p.push(d),N++;var I,A=[];for(N=0,c=0;c<ei;c++){var P,Y=void 0,F=void 0,j=!1,U=[];for(i&&(F=h.a.createElement("td",{key:p[N].week(),role:"gridcell",className:g},p[N].week())),u=0;u<ti;u++){var H=null,B=null;d=p[N],u<ti-1&&(H=p[N+1]),u>0&&(B=p[N-1]);var V=m,G=!1,W=!1;hi(d,f)&&(V+=" "+y,Y=!0);var z=fi(d,r),q=mi(d,r);if(a&&Array.isArray(a)){var K=l.length?l:a;if(!z&&!q){var X=K[0],J=K[1];X&&hi(d,X)&&(W=!0,j=!0,V+=" "+w),(X||J)&&(hi(d,J)?(W=!0,j=!0,V+=" "+E):(null!==X&&void 0!==X||!d.isBefore(J,"day"))&&(null!==J&&void 0!==J||!d.isAfter(X,"day"))?d.isAfter(X,"day")&&d.isBefore(J,"day")&&(V+=" "+T):V+=" "+T)}}else hi(d,r)&&(W=!0,j=!0);hi(d,a)&&(V+=" "+b),z&&(V+=" "+x),q&&(V+=" "+C),d.clone().endOf("month").date()===d.date()&&(V+=" "+M),s&&s(d,r)&&(G=!0,B&&s(B,r)||(V+=" "+k),H&&s(H,r)||(V+=" "+O)),W&&(V+=" "+_),G&&(V+=" "+S);var Z=void 0;if(o)Z=o(d,r);else{var $=t?t(d,r):d.date();Z=h.a.createElement("div",{key:(I=d,"rc-calendar-"+I.year()+"-"+I.month()+"-"+I.date()),className:v,"aria-selected":W,"aria-disabled":G},$)}U.push(h.a.createElement("td",{key:N,onClick:G?void 0:e.onSelect.bind(null,d),onMouseEnter:G?void 0:e.onDayHover&&e.onDayHover.bind(null,d)||void 0,role:"gridcell",title:si(d),className:V},Z)),N++}A.push(h.a.createElement("tr",{key:c,role:"row",className:ie()((P={},ri()(P,n+"-current-week",Y),ri()(P,n+"-active-week",j),P))},F,U))}return h.a.createElement("tbody",{className:n+"-tbody"},A)}}]),t}(h.a.Component);gi.propTypes={contentRender:z.a.func,dateRender:z.a.func,disabledDate:z.a.func,prefixCls:z.a.string,selectedValue:z.a.oneOfType([z.a.object,z.a.arrayOf(z.a.object)]),value:z.a.object,hoverValue:z.a.any,showWeekNumber:z.a.bool},gi.defaultProps={hoverValue:[]};var vi=gi,yi=function(e){function t(){return Wr()(this,t),Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Zr()(t,e),qr()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls;return h.a.createElement("table",{className:t+"-table",cellSpacing:"0",role:"grid"},h.a.createElement(ni,e),h.a.createElement(vi,e))}}]),t}(h.a.Component),_i=n(140);function bi(e){var t=this.state.value.clone();t.month(e),this.setAndSelectValue(t)}var wi=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n}return Zr()(t,e),qr()(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:e.value})}},{key:"setAndSelectValue",value:function(e){this.setState({value:e}),this.props.onSelect(e)}},{key:"months",value:function(){for(var e=this.state.value.clone(),t=[],n=0,a=0;a<4;a++){t[a]=[];for(var r=0;r<3;r++){e.month(n);var i=ci(e);t[a][r]={value:n,content:i,title:i},n++}}return t}},{key:"render",value:function(){var e=this,t=this.props,n=this.state.value,a=oi(n),r=this.months(),i=n.month(),o=t.prefixCls,s=t.locale,l=t.contentRender,c=t.cellRender,u=r.map((function(r,u){var d=r.map((function(r){var u,d=!1;if(t.disabledDate){var p=n.clone();p.month(r.value),d=t.disabledDate(p)}var f=(u={},ri()(u,o+"-cell",1),ri()(u,o+"-cell-disabled",d),ri()(u,o+"-selected-cell",r.value===i),ri()(u,o+"-current-cell",a.year()===n.year()&&r.value===a.month()),u),m=void 0;if(c){var g=n.clone();g.month(r.value),m=c(g,s)}else{var v=void 0;if(l){var y=n.clone();y.month(r.value),v=l(y,s)}else v=r.content;m=h.a.createElement("a",{className:o+"-month"},v)}return h.a.createElement("td",{role:"gridcell",key:r.value,onClick:d?null:bi.bind(e,r.value),title:r.title,className:ie()(f)},m)}));return h.a.createElement("tr",{key:u,role:"row"},d)}));return h.a.createElement("table",{className:o+"-table",cellSpacing:"0",role:"grid"},h.a.createElement("tbody",{className:o+"-tbody"},u))}}]),t}(p.Component);wi.defaultProps={onSelect:function(){}},wi.propTypes={onSelect:z.a.func,cellRender:z.a.func,prefixCls:z.a.string,value:z.a.object};var Ei=wi;function Ti(e){this.props.changeYear(e)}function xi(){}var Ci=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setAndSelectValue=function(e){n.setValue(e),n.props.onSelect(e)},n.setValue=function(e){"value"in n.props&&n.setState({value:e})},n.nextYear=Ti.bind(n,1),n.previousYear=Ti.bind(n,-1),n.prefixCls=e.rootPrefixCls+"-month-panel",n.state={value:e.value||e.defaultValue},n}return Zr()(t,e),qr()(t,[{key:"render",value:function(){var e=this.props,t=this.state.value,n=e.locale,a=e.cellRender,r=e.contentRender,i=e.renderFooter,o=t.year(),s=this.prefixCls,l=i&&i("month");return h.a.createElement("div",{className:s,style:e.style},h.a.createElement("div",null,h.a.createElement("div",{className:s+"-header"},h.a.createElement("a",{className:s+"-prev-year-btn",role:"button",onClick:this.previousYear,title:n.previousYear}),h.a.createElement("a",{className:s+"-year-select",role:"button",onClick:e.onYearPanelShow,title:n.yearSelect},h.a.createElement("span",{className:s+"-year-select-content"},o),h.a.createElement("span",{className:s+"-year-select-arrow"},"x")),h.a.createElement("a",{className:s+"-next-year-btn",role:"button",onClick:this.nextYear,title:n.nextYear})),h.a.createElement("div",{className:s+"-body"},h.a.createElement(Ei,{disabledDate:e.disabledDate,onSelect:this.setAndSelectValue,locale:n,value:t,cellRender:a,contentRender:r,prefixCls:s})),l&&h.a.createElement("div",{className:s+"-footer"},l)))}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"value"in e&&(t={value:e.value}),t}}]),t}(h.a.Component);Ci.propTypes={onChange:z.a.func,disabledDate:z.a.func,onSelect:z.a.func,renderFooter:z.a.func,rootPrefixCls:z.a.string,value:z.a.object,defaultValue:z.a.object},Ci.defaultProps={onChange:xi,onSelect:xi},Object(Qr.polyfill)(Ci);var Si=Ci;function ki(e){var t=this.state.value.clone();t.add(e,"year"),this.setState({value:t})}function Oi(e){var t=this.state.value.clone();t.year(e),t.month(this.state.value.month()),this.setState({value:t}),this.props.onSelect(t)}var Mi=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prefixCls=e.rootPrefixCls+"-year-panel",n.state={value:e.value||e.defaultValue},n.nextDecade=ki.bind(n,10),n.previousDecade=ki.bind(n,-10),n}return Zr()(t,e),qr()(t,[{key:"years",value:function(){for(var e=this.state.value.year(),t=10*parseInt(e/10,10)-1,n=[],a=0,r=0;r<4;r++){n[r]=[];for(var i=0;i<3;i++){var o=t+a,s=String(o);n[r][i]={content:s,year:o,title:s},a++}}return n}},{key:"render",value:function(){var e=this,t=this.props,n=this.state.value,a=t.locale,r=t.renderFooter,i=this.years(),o=n.year(),s=10*parseInt(o/10,10),l=s+9,c=this.prefixCls,u=i.map((function(t,n){var a=t.map((function(t){var n,a=(n={},ri()(n,c+"-cell",1),ri()(n,c+"-selected-cell",t.year===o),ri()(n,c+"-last-decade-cell",t.year<s),ri()(n,c+"-next-decade-cell",t.year>l),n),r=void 0;return r=t.year<s?e.previousDecade:t.year>l?e.nextDecade:Oi.bind(e,t.year),h.a.createElement("td",{role:"gridcell",title:t.title,key:t.content,onClick:r,className:ie()(a)},h.a.createElement("a",{className:c+"-year"},t.content))}));return h.a.createElement("tr",{key:n,role:"row"},a)})),d=r&&r("year");return h.a.createElement("div",{className:this.prefixCls},h.a.createElement("div",null,h.a.createElement("div",{className:c+"-header"},h.a.createElement("a",{className:c+"-prev-decade-btn",role:"button",onClick:this.previousDecade,title:a.previousDecade}),h.a.createElement("a",{className:c+"-decade-select",role:"button",onClick:t.onDecadePanelShow,title:a.decadeSelect},h.a.createElement("span",{className:c+"-decade-select-content"},s,"-",l),h.a.createElement("span",{className:c+"-decade-select-arrow"},"x")),h.a.createElement("a",{className:c+"-next-decade-btn",role:"button",onClick:this.nextDecade,title:a.nextDecade})),h.a.createElement("div",{className:c+"-body"},h.a.createElement("table",{className:c+"-table",cellSpacing:"0",role:"grid"},h.a.createElement("tbody",{className:c+"-tbody"},u))),d&&h.a.createElement("div",{className:c+"-footer"},d)))}}]),t}(h.a.Component),Li=Mi;Mi.propTypes={rootPrefixCls:z.a.string,value:z.a.object,defaultValue:z.a.object,renderFooter:z.a.func},Mi.defaultProps={onSelect:function(){}};function Di(e){var t=this.state.value.clone();t.add(e,"years"),this.setState({value:t})}function Ri(e,t){var n=this.state.value.clone();n.year(e),n.month(this.state.value.month()),this.props.onSelect(n),t.preventDefault()}var Ni=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value||e.defaultValue},n.prefixCls=e.rootPrefixCls+"-decade-panel",n.nextCentury=Di.bind(n,100),n.previousCentury=Di.bind(n,-100),n}return Zr()(t,e),qr()(t,[{key:"render",value:function(){for(var e=this,t=this.state.value,n=this.props,a=n.locale,r=n.renderFooter,i=t.year(),o=100*parseInt(i/100,10),s=o-10,l=o+99,c=[],u=0,d=this.prefixCls,p=0;p<4;p++){c[p]=[];for(var f=0;f<3;f++){var m=s+10*u,g=s+10*u+9;c[p][f]={startDecade:m,endDecade:g},u++}}var v=r&&r("decade"),y=c.map((function(t,n){var a=t.map((function(t){var n,a=t.startDecade,r=t.endDecade,s=a<o,c=r>l,u=(n={},ri()(n,d+"-cell",1),ri()(n,d+"-selected-cell",a<=i&&i<=r),ri()(n,d+"-last-century-cell",s),ri()(n,d+"-next-century-cell",c),n),p=a+"-"+r,f=void 0;return f=s?e.previousCentury:c?e.nextCentury:Ri.bind(e,a),h.a.createElement("td",{key:a,onClick:f,role:"gridcell",className:ie()(u)},h.a.createElement("a",{className:d+"-decade"},p))}));return h.a.createElement("tr",{key:n,role:"row"},a)}));return h.a.createElement("div",{className:this.prefixCls},h.a.createElement("div",{className:d+"-header"},h.a.createElement("a",{className:d+"-prev-century-btn",role:"button",onClick:this.previousCentury,title:a.previousCentury}),h.a.createElement("div",{className:d+"-century"},o,"-",l),h.a.createElement("a",{className:d+"-next-century-btn",role:"button",onClick:this.nextCentury,title:a.nextCentury})),h.a.createElement("div",{className:d+"-body"},h.a.createElement("table",{className:d+"-table",cellSpacing:"0",role:"grid"},h.a.createElement("tbody",{className:d+"-tbody"},y))),v&&h.a.createElement("div",{className:d+"-footer"},v))}}]),t}(h.a.Component),Ii=Ni;function Ai(e){var t=this.props.value.clone();t.add(e,"months"),this.props.onValueChange(t)}function Pi(e){var t=this.props.value.clone();t.add(e,"years"),this.props.onValueChange(t)}function Yi(e,t){return e?t:null}Ni.propTypes={locale:z.a.object,value:z.a.object,defaultValue:z.a.object,rootPrefixCls:z.a.string,renderFooter:z.a.func},Ni.defaultProps={onSelect:function(){}};var Fi=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ji.call(n),n.nextMonth=Ai.bind(n,1),n.previousMonth=Ai.bind(n,-1),n.nextYear=Pi.bind(n,1),n.previousYear=Pi.bind(n,-1),n.state={yearPanelReferer:null},n}return Zr()(t,e),qr()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.locale,r=t.mode,i=t.value,o=t.showTimePicker,s=t.enableNext,l=t.enablePrev,c=t.disabledMonth,u=t.renderFooter,d=null;return"month"===r&&(d=h.a.createElement(Si,{locale:a,value:i,rootPrefixCls:n,onSelect:this.onMonthSelect,onYearPanelShow:function(){return e.showYearPanel("month")},disabledDate:c,cellRender:t.monthCellRender,contentRender:t.monthCellContentRender,renderFooter:u,changeYear:this.changeYear})),"year"===r&&(d=h.a.createElement(Li,{locale:a,defaultValue:i,rootPrefixCls:n,onSelect:this.onYearSelect,onDecadePanelShow:this.showDecadePanel,renderFooter:u})),"decade"===r&&(d=h.a.createElement(Ii,{locale:a,defaultValue:i,rootPrefixCls:n,onSelect:this.onDecadeSelect,renderFooter:u})),h.a.createElement("div",{className:n+"-header"},h.a.createElement("div",{style:{position:"relative"}},Yi(l&&!o,h.a.createElement("a",{className:n+"-prev-year-btn",role:"button",onClick:this.previousYear,title:a.previousYear})),Yi(l&&!o,h.a.createElement("a",{className:n+"-prev-month-btn",role:"button",onClick:this.previousMonth,title:a.previousMonth})),this.monthYearElement(o),Yi(s&&!o,h.a.createElement("a",{className:n+"-next-month-btn",onClick:this.nextMonth,title:a.nextMonth})),Yi(s&&!o,h.a.createElement("a",{className:n+"-next-year-btn",onClick:this.nextYear,title:a.nextYear}))),d)}}]),t}(h.a.Component);Fi.propTypes={prefixCls:z.a.string,value:z.a.object,onValueChange:z.a.func,showTimePicker:z.a.bool,onPanelChange:z.a.func,locale:z.a.object,enablePrev:z.a.any,enableNext:z.a.any,disabledMonth:z.a.func,renderFooter:z.a.func,onMonthSelect:z.a.func},Fi.defaultProps={enableNext:1,enablePrev:1,onPanelChange:function(){},onValueChange:function(){}};var ji=function(){var e=this;this.onMonthSelect=function(t){e.props.onPanelChange(t,"date"),e.props.onMonthSelect?e.props.onMonthSelect(t):e.props.onValueChange(t)},this.onYearSelect=function(t){var n=e.state.yearPanelReferer;e.setState({yearPanelReferer:null}),e.props.onPanelChange(t,n),e.props.onValueChange(t)},this.onDecadeSelect=function(t){e.props.onPanelChange(t,"year"),e.props.onValueChange(t)},this.changeYear=function(t){t>0?e.nextYear():e.previousYear()},this.monthYearElement=function(t){var n=e.props,a=n.prefixCls,r=n.locale,i=n.value,o=i.localeData(),s=r.monthBeforeYear,l=a+"-"+(s?"my-select":"ym-select"),c=t?" "+a+"-time-status":"",u=h.a.createElement("a",{className:a+"-year-select"+c,role:"button",onClick:t?null:function(){return e.showYearPanel("date")},title:t?null:r.yearSelect},i.format(r.yearFormat)),d=h.a.createElement("a",{className:a+"-month-select"+c,role:"button",onClick:t?null:e.showMonthPanel,title:t?null:r.monthSelect},r.monthFormat?i.format(r.monthFormat):o.monthsShort(i)),p=void 0;t&&(p=h.a.createElement("a",{className:a+"-day-select"+c,role:"button"},i.format(r.dayFormat)));var f=[];return f=s?[d,p,u]:[u,d,p],h.a.createElement("span",{className:l},Object(_i.a)(f))},this.showMonthPanel=function(){e.props.onPanelChange(null,"month")},this.showYearPanel=function(t){e.setState({yearPanelReferer:t}),e.props.onPanelChange(null,"year")},this.showDecadePanel=function(){e.props.onPanelChange(null,"decade")}},Ui=Fi;function Hi(e){var t=e.prefixCls,n=e.locale,a=e.value,r=e.timePicker,i=e.disabled,o=e.disabledDate,s=e.onToday,l=e.text,c=(!l&&r?n.now:l)||n.today,u=o&&!di(oi(a),o)||i,d=u?t+"-today-btn-disabled":"";return h.a.createElement("a",{className:t+"-today-btn "+d,role:"button",onClick:u?null:s,title:li(a)},c)}function Bi(e){var t=e.prefixCls,n=e.locale,a=e.okDisabled,r=e.onOk,i=t+"-ok-btn";return a&&(i+=" "+t+"-ok-btn-disabled"),h.a.createElement("a",{className:i,role:"button",onClick:a?null:r},n.ok)}function Vi(e){var t,n=e.prefixCls,a=e.locale,r=e.showTimePicker,i=e.onOpenTimePicker,o=e.onCloseTimePicker,s=e.timePickerDisabled,l=ie()((t={},ri()(t,n+"-time-picker-btn",!0),ri()(t,n+"-time-picker-btn-disabled",s),t)),c=null;return s||(c=r?o:i),h.a.createElement("a",{className:l,role:"button",onClick:c},r?a.dateSelect:a.timeSelect)}var Gi=function(e){function t(){return Wr()(this,t),Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Zr()(t,e),qr()(t,[{key:"onSelect",value:function(e){this.props.onSelect(e)}},{key:"getRootDOMNode",value:function(){return m.a.findDOMNode(this)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.prefixCls,a=e.showOk,r=e.timePicker,i=e.renderFooter,o=e.mode,s=null,l=i&&i(o);if(e.showToday||r||l){var c=void 0;e.showToday&&(c=h.a.createElement(Hi,Vr()({},e,{value:t})));var u=void 0;(!0===a||!1!==a&&e.timePicker)&&(u=h.a.createElement(Bi,e));var d=void 0;e.timePicker&&(d=h.a.createElement(Vi,e));var p=void 0;(c||d||u||l)&&(p=h.a.createElement("span",{className:n+"-footer-btn"},l,Object(_i.a)([c,d,u])));var f=ie()(n+"-footer",ri()({},n+"-footer-show-ok",u));s=h.a.createElement("div",{className:f},p)}return s}}]),t}(h.a.Component);Gi.propTypes={prefixCls:z.a.string,showDateInput:z.a.bool,disabledTime:z.a.any,timePicker:z.a.element,selectedValue:z.a.any,showOk:z.a.bool,onSelect:z.a.func,value:z.a.object,renderFooter:z.a.func,defaultValue:z.a.object,mode:z.a.string};var Wi=Gi,zi=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=function(e){n.setState({highlightTime:e}),n.props.onSelect(e)},n.scrollUp=function(){n.timeRef.current.scrollBy(0,-200)},n.scrollDown=function(){n.timeRef.current.scrollBy(0,200)},n.state={highlightTime:n.props.value||null},n.timeRef=h.a.createRef(),n}return Zr()(t,e),qr()(t,[{key:"componentDidMount",value:function(){this.timeRef.current.scrollTo(0,544)}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.value,a=t.prefixCls,r=t.locale,i=n.format().slice(0,10),o=[],s=0;s<24;s++){var l=(String(s)+":00").padStart(5,"0"),c=(String(s)+":30").padStart(5,"0");o.push(l),o.push(c)}var u=this.state.highlightTime,d=u?u.format().slice(11,16):null,p=r&&"\u4eca\u5929"===r.today;return h.a.createElement("div",{className:a+"-right-panel"},h.a.createElement("div",{className:a+"-right-panel-header",onClick:this.scrollUp},h.a.createElement("span",null)),h.a.createElement("div",{className:a+"-right-panel-body",ref:this.timeRef},h.a.createElement("ul",null,o.map((function(t){var n=ft()(i+" "+t);return n=p?n.locale("zh-cn"):n.locale("en-gb"),h.a.createElement("li",{key:t,onClick:e.onSelect.bind(e,n),className:d===t?"highlight":""},t)})))),h.a.createElement("div",{className:a+"-right-panel-footer",onClick:this.scrollDown},h.a.createElement("span",null)))}}]),t}(h.a.Component);zi.propTypes={prefixCls:z.a.string,value:z.a.object,onSelect:z.a.func,locale:z.a.object};var qi=zi;function Ki(e){return e?oi(e):ft()()}var Xi={value:z.a.object,defaultValue:z.a.object,onKeyDown:z.a.func},Ji={onKeyDown:function(){}};function Zi(){}var $i={className:z.a.string,locale:z.a.object,style:z.a.object,visible:z.a.bool,onSelect:z.a.func,prefixCls:z.a.string,onChange:z.a.func,onOk:z.a.func},Qi={locale:{today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},style:{},visible:!0,prefixCls:"rc-calendar",className:"",onSelect:Zi,onChange:Zi,onClear:Zi,renderFooter:function(){return null},renderSidebar:function(){return null}},eo=void 0,to=void 0,no=void 0,ao=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ro.call(n);var a=e.selectedValue;return n.state={str:pi(a,n.props.format),invalid:!1,hasFocus:!1},n}return Zr()(t,e),qr()(t,[{key:"componentDidUpdate",value:function(){!no||!this.state.hasFocus||this.state.invalid||0===eo&&0===to||no.setSelectionRange(eo,to)}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.invalid,a=t.str,r=e.locale,i=e.prefixCls,o=e.placeholder,s=e.clearIcon,l=e.inputMode,c=n?i+"-input-invalid":"";return h.a.createElement("div",{className:i+"-input-wrap"},h.a.createElement("div",{className:i+"-date-input-wrap"},h.a.createElement("input",{ref:this.saveDateInput,className:i+"-input "+c,value:a,disabled:e.disabled,placeholder:o,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,inputMode:l})),e.showClear?h.a.createElement("a",{role:"button",title:r.clear,onClick:this.onClear},s||h.a.createElement("span",{className:i+"-clear-btn"})):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};no&&(eo=no.selectionStart,to=no.selectionEnd);var a=e.selectedValue;return t.hasFocus||(n={str:pi(a,e.format),invalid:!1}),n}},{key:"getInstance",value:function(){return no}}]),t}(h.a.Component);ao.propTypes={prefixCls:z.a.string,timePicker:z.a.object,value:z.a.object,disabledTime:z.a.any,format:z.a.oneOfType([z.a.string,z.a.arrayOf(z.a.string)]),locale:z.a.object,disabledDate:z.a.func,onChange:z.a.func,onClear:z.a.func,placeholder:z.a.string,onSelect:z.a.func,selectedValue:z.a.object,clearIcon:z.a.node,inputMode:z.a.string};var ro=function(){var e=this;this.onClear=function(){e.setState({str:""}),e.props.onClear(null)},this.onInputChange=function(t){var n=t.target.value,a=e.props,r=a.disabledDate,i=a.format,o=a.onChange,s=a.selectedValue;if(!n)return o(null),void e.setState({invalid:!1,str:n});var l=ft()(n,i,!0);if(l.isValid()){var c=e.props.value.clone();c.year(l.year()).month(l.month()).date(l.date()).hour(l.hour()).minute(l.minute()).second(l.second()),!c||r&&r(c)?e.setState({invalid:!0,str:n}):(s!==c||s&&c&&!s.isSame(c))&&(e.setState({invalid:!1,str:n}),o(c))}else e.setState({invalid:!0,str:n})},this.onFocus=function(){e.setState({hasFocus:!0})},this.onBlur=function(){e.setState((function(e,t){return{hasFocus:!1,str:pi(t.value,t.format)}}))},this.onKeyDown=function(t){var n=t.keyCode,a=e.props,r=a.onSelect,i=a.value,o=a.disabledDate;n===$r.a.ENTER&&r&&((!o||!o(i))&&r(i.clone()),t.preventDefault())},this.getRootDOMNode=function(){return m.a.findDOMNode(e)},this.focus=function(){no&&no.focus()},this.saveDateInput=function(e){no=e}};Object(Qr.polyfill)(ao);var io=ao;function oo(){}var so=function(e){return!(!ft.a.isMoment(e)||!e.isValid())&&e},lo=function(e){function t(e){Wr()(this,t);var n=Xr()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return co.call(n),n.state={mode:n.props.mode||"date",value:so(e.value)||so(e.defaultValue)||ft()(),selectedValue:e.selectedValue||e.defaultSelectedValue},n}return Zr()(t,e),qr()(t,[{key:"componentDidMount",value:function(){this.props.showDateInput&&this.saveFocusElement(io.getInstance())}},{key:"render",value:function(){var e=this.props,t=this.state,n=e.locale,a=e.prefixCls,r=e.disabledDate,i=e.dateInputPlaceholder,o=e.timePicker,s=e.disabledTime,l=e.clearIcon,c=e.renderFooter,u=e.inputMode,d=e.showHourAndMinute,p=t.value,f=t.selectedValue,m=t.mode,g="time"===m,v=g&&s&&o?ui(f,s):null,y=null;if(o&&g){var _=Vr()({showHour:!0,showSecond:!0,showMinute:!0},o.props,v,{onChange:this.onDateInputChange,value:f,disabledTime:s});void 0!==o.props.defaultValue&&(_.defaultOpenValue=o.props.defaultValue),y=h.a.cloneElement(o,_)}var b=e.showDateInput?h.a.createElement(io,{format:this.getFormat(),key:"date-input",value:p,locale:n,placeholder:i,showClear:!0,disabledTime:s,disabledDate:r,onClear:this.onClear,prefixCls:a,selectedValue:f,onChange:this.onDateInputChange,onSelect:this.onDateInputSelect,clearIcon:l,inputMode:u}):null,w=[];return e.renderSidebar&&w.push(e.renderSidebar()),w.push(h.a.createElement("div",{className:a+"-panel",key:"panel"},b,h.a.createElement("div",{className:a+"-date-panel-container"},h.a.createElement("div",{tabIndex:this.props.focusablePanel?0:void 0,className:a+"-date-panel"},h.a.createElement(Ui,{locale:n,mode:m,value:p,onValueChange:this.setValue,onPanelChange:this.onPanelChange,renderFooter:c,showTimePicker:g,prefixCls:a}),o&&g?h.a.createElement("div",{className:a+"-time-picker"},h.a.createElement("div",{className:a+"-time-picker-panel"},y)):null,h.a.createElement("div",{className:a+"-body"},h.a.createElement(yi,{locale:n,value:p,selectedValue:f,prefixCls:a,dateRender:e.dateRender,onSelect:this.onDateTableSelect,disabledDate:r,showWeekNumber:e.showWeekNumber})),h.a.createElement(Wi,{showOk:e.showOk,mode:m,renderFooter:e.renderFooter,locale:n,prefixCls:a,showToday:e.showToday,disabledTime:s,showTimePicker:g,showDateInput:e.showDateInput,timePicker:o,selectedValue:f,value:p,disabledDate:r,okDisabled:!1!==e.showOk&&(!f||!this.isAllowedDate(f)),onOk:this.onOk,onSelect:this.onSelect,onToday:this.onToday,onOpenTimePicker:this.openTimePicker,onCloseTimePicker:this.closeTimePicker})),d&&h.a.createElement(qi,{prefixCls:a,value:p,locale:n,onSelect:this.onDateTableSelect})))),this.renderRoot({children:w,className:e.showWeekNumber?a+"-week-number":""})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value,a=e.selectedValue,r={};return"mode"in e&&t.mode!==e.mode&&(r={mode:e.mode}),"value"in e&&(r.value=so(n)||so(e.defaultValue)||Ki(t.value)),"selectedValue"in e&&(r.selectedValue=a),r}}]),t}(h.a.Component);lo.propTypes=Vr()({},Xi,$i,{prefixCls:z.a.string,className:z.a.string,style:z.a.object,defaultValue:z.a.object,value:z.a.object,selectedValue:z.a.object,defaultSelectedValue:z.a.object,mode:z.a.oneOf(["time","date","month","year","decade"]),locale:z.a.object,showDateInput:z.a.bool,showWeekNumber:z.a.bool,showToday:z.a.bool,showOk:z.a.bool,showHourAndMinute:z.a.bool,onSelect:z.a.func,onOk:z.a.func,onKeyDown:z.a.func,timePicker:z.a.element,dateInputPlaceholder:z.a.any,onClear:z.a.func,onChange:z.a.func,onPanelChange:z.a.func,disabledDate:z.a.func,disabledTime:z.a.any,dateRender:z.a.func,renderFooter:z.a.func,renderSidebar:z.a.func,clearIcon:z.a.node,focusablePanel:z.a.bool,inputMode:z.a.string,onBlur:z.a.func}),lo.defaultProps=Vr()({},Ji,Qi,{showToday:!0,showDateInput:!0,showHourAndMinute:!1,timePicker:null,onOk:oo,onPanelChange:oo,focusablePanel:!0});var co=function(){var e=this;this.onPanelChange=function(t,n){var a=e.props,r=e.state;"mode"in a||e.setState({mode:n}),a.onPanelChange(t||r.value,n)},this.onKeyDown=function(t){if("input"!==t.target.nodeName.toLowerCase()){var n=t.keyCode,a=t.ctrlKey||t.metaKey,r=e.props.disabledDate,i=e.state.value;switch(n){case $r.a.DOWN:return e.goTime(1,"weeks"),t.preventDefault(),1;case $r.a.UP:return e.goTime(-1,"weeks"),t.preventDefault(),1;case $r.a.LEFT:return a?e.goTime(-1,"years"):e.goTime(-1,"days"),t.preventDefault(),1;case $r.a.RIGHT:return a?e.goTime(1,"years"):e.goTime(1,"days"),t.preventDefault(),1;case $r.a.HOME:return e.setValue(e.state.value.clone().startOf("month")),t.preventDefault(),1;case $r.a.END:return e.setValue(function(e){return e.clone().endOf("month")}(e.state.value)),t.preventDefault(),1;case $r.a.PAGE_DOWN:return e.goTime(1,"month"),t.preventDefault(),1;case $r.a.PAGE_UP:return e.goTime(-1,"month"),t.preventDefault(),1;case $r.a.ENTER:return r&&r(i)||e.onSelect(i,{source:"keyboard"}),t.preventDefault(),1;default:return e.props.onKeyDown(t),1}}},this.onClear=function(){e.onSelect(null),e.props.onClear()},this.onOk=function(){var t=e.state.selectedValue;e.isAllowedDate(t)&&e.props.onOk(t)},this.onDateInputChange=function(t){e.onSelect(t,{source:"dateInput"})},this.onDateInputSelect=function(t){e.onSelect(t,{source:"dateInputSelect"})},this.onDateTableSelect=function(t){var n,a,r=e.props.timePicker;if(!e.state.selectedValue&&r){var i=r.props.defaultValue;i&&(n=i,a=t,ft.a.isMoment(n)&&ft.a.isMoment(a)&&(a.hour(n.hour()),a.minute(n.minute()),a.second(n.second()),a.millisecond(n.millisecond())))}e.onSelect(t)},this.onToday=function(){var t=oi(e.state.value);e.onSelect(t,{source:"todayButton"})},this.onBlur=function(t){setTimeout((function(){var n=io.getInstance(),a=e.rootInstance;!a||a.contains(document.activeElement)||n&&n.contains(document.activeElement)||e.props.onBlur&&e.props.onBlur(t)}),0)},this.getRootDOMNode=function(){return m.a.findDOMNode(e)},this.openTimePicker=function(){e.onPanelChange(null,"time")},this.closeTimePicker=function(){e.onPanelChange(null,"date")},this.goTime=function(t,n){e.setValue(function(e,t,n){return e.clone().add(t,n)}(e.state.value,t,n))}};Object(Qr.polyfill)(lo);var uo=function(e){var t,n;return n=t=function(t){function n(){var e,t,a,r;Wr()(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=a=Xr()(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.onSelect=function(e,t){e&&a.setValue(e),a.setSelectedValue(e,t)},a.renderRoot=function(e){var t,n=a.props,r=n.prefixCls,i=(t={},ri()(t,r,1),ri()(t,r+"-hidden",!n.visible),ri()(t,n.className,!!n.className),ri()(t,e.className,!!e.className),t);return h.a.createElement("div",{ref:a.saveRoot,className:""+ie()(i),style:a.props.style,tabIndex:"0",onKeyDown:a.onKeyDown,onBlur:a.onBlur},e.children)},a.setSelectedValue=function(e,t){"selectedValue"in a.props||a.setState({selectedValue:e}),a.props.onSelect&&a.props.onSelect(e,t)},a.setValue=function(e){var t=a.state.value;"value"in a.props||a.setState({value:e}),(t&&e&&!t.isSame(e)||!t&&e||t&&!e)&&a.props.onChange(e)},a.isAllowedDate=function(e){return di(e,a.props.disabledDate,a.props.disabledTime)},r=t,Xr()(a,r)}return Zr()(n,t),qr()(n,null,[{key:"getDerivedStateFromProps",value:function(t,n){if(e.getDerivedStateFromProps)return e.getDerivedStateFromProps(t,n);var a=t.value,r=t.selectedValue,i={};return"value"in t&&(i.value=a||t.defaultValue||Ki(n.value)),"selectedValue"in t&&(i.selectedValue=r),i}}]),n}(e),t.displayName="CalendarMixinWrapper",t.defaultProps=e.defaultProps,n}(function(e){var t,n;return n=t=function(e){function t(){var e,n,a,r;Wr()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=Xr()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.getFormat=function(){var e=a.props.format,t=a.props,n=t.locale,r=t.timePicker;return e||(e=r?n.dateTimeFormat:n.dateFormat),e},a.focus=function(){a.focusElement?a.focusElement.focus():a.rootInstance&&a.rootInstance.focus()},a.saveFocusElement=function(e){a.focusElement=e},a.saveRoot=function(e){a.rootInstance=e},r=n,Xr()(a,r)}return Zr()(t,e),qr()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible}}]),t}(e),t.displayName="CommonMixinWrapper",t.defaultProps=e.defaultProps,t.getDerivedStateFromProps=e.getDerivedStateFromProps,n}(lo)),po=n(301),ho=n.n(po),fo=n(887),mo=n(888),go=n(889),vo=n(890),yo=n(891),_o=n(892),bo=n(893),wo=n(894);function Eo(){var e;switch(window.dtable?window.dtable.lang:"zh-cn"){case"zh-cn":e=fo;break;case"zh-tw":e=mo;break;case"en":e=go;break;case"fr":e=vo;break;case"de":e=yo;break;case"es":case"es-ar":case"es-mx":e=_o;break;case"pl":e=bo;break;case"cs":e=wo;break;default:e=fo}return e}function To(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),i=e.getMinutes();return n=n>9?n:"0".concat(n),a=a>9?a:"0".concat(a),r=r>9?r:"0".concat(r),i=i>9?i:"0".concat(i),"".concat(t,"-").concat(n,"-").concat(a," ").concat(r,":").concat(i)}n(129),n(128),n(576),n(895);var xo="YYYY-MM-DD HH:mm",Co=ft()(),So=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getFormat=function(e){return e?xo:"YYYY-MM-DD"},n.onChange=function(e){if(e&&(n.setState({value:e}),"row_expand"===n.props.mode)){var t={};t[n.props.column.key]=e.format(n.getFormat(n.showHourAndMinute)),n.props.onCommit(t,n.props.column)}},n.getValue=function(){var e={};return e[n.props.column.key]=n.getInputNode().value,e},n.getInputNode=function(){var e=m.a.findDOMNode(E(n));return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onOpenChange=function(e){var t=n.props.mode;"row_expand"!==t&&e&&n.toggleCalendar(e),"row_expand"!==t||e||(n.toggleCalendar(e),n.props.hideCalendar())},n.onReadOnlyFocus=function(){n.toggleCalendar(!0)},n.onBlur=function(){n.props.onBlur&&n.props.onBlur()},n.closeEditor=function(){n.toggleCalendar(!1),n.onBlur()},n.toggleCalendar=function(e){n.setState({open:e})},n.getCalendarContainer=function(){return n.calendarContainerRef.current},n.handleMouseDown=function(e){e.preventDefault()},n.handleKeyDown=function(e){[37,38,39,40].includes(e.keyCode)&&e.stopPropagation()},n.onClick=function(e){n.showHourAndMinute||"rc-calendar-date"!==e.target.className||setTimeout((function(){n.closeEditor()}),1)},n.onClear=function(){n.setState({value:null})},n.state={value:null,open:!1},n.calendarContainerRef=h.a.createRef(),n.defaultCalendarValue=null,n.columnDataFormat=e.column.data?e.column.data.format:"YYYY-MM-DD",n.showHourAndMinute=!!(e.column.data&&n.columnDataFormat.indexOf("HH:mm")>-1),n}return S(t,e),_(t,[{key:"componentWillMount",value:function(){"row_expand"===this.props.mode&&this.onReadOnlyFocus()}},{key:"componentDidMount",value:function(){var e=this.props.value,t=window.dtable&&"zh-cn"===window.dtable.lang;t?Co.locale("zh-cn"):Co.locale("en-gb"),this.defaultCalendarValue=Co.clone(),e&&this.setState({value:t?ft()(e).locale("zh-cn"):ft()(e).locale("en-gb")})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,a=n.mode,r=n.column,i=n.t,o=h.a.createElement(uo,{locale:Eo(),style:{zIndex:1001},dateInputPlaceholder:i("please_input_date"),format:this.getFormat(this.showHourAndMinute),defaultValue:this.defaultCalendarValue,showDateInput:!0,focusablePanel:!1,showHourAndMinute:this.showHourAndMinute,onClear:this.onClear});return h.a.createElement("div",{className:"date-picker-container ".concat("row_expand"===a?"date-picker-container-row-expand":""),onKeyDown:function(t){e.handleKeyDown(t)},onClick:function(t){e.onClick(t)}},h.a.createElement(ho.a,{calendar:o,value:t.value,onChange:this.onChange,getCalendarContainer:this.getCalendarContainer,onOpenChange:this.onOpenChange,open:t.open,style:{zIndex:1001}},(function(t){var n=t.value;return h.a.createElement("span",{tabIndex:"0",onFocus:e.onReadOnlyFocus},h.a.createElement("input",{placeholder:"row_expand"===a&&r.data?r.data.format:i("please_select"),readOnly:!0,tabIndex:"-1",className:"ant-calendar-picker-input ant-input form-control",value:n&&n.format(e.getFormat(e.showHourAndMinute))||"",onMouseDown:e.handleMouseDown}),h.a.createElement("div",{ref:e.calendarContainerRef}))})))}}]),t}(h.a.Component),ko=Object(I.d)("dtable")(Pr(So)),Oo=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).el=document.createElement("div"),n.el.className="longtext-modal",document.body.appendChild(n.el),n}return S(t,e),_(t,[{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return m.a.createPortal(this.props.children,this.el)}}]),t}(h.a.Component),Mo=n(11),Lo=n(444),Do=n(585),Ro=Lo().use(Do,{rule:"-",ruleSpaces:!1,listItemIndent:1,bullet:"*",commonmark:!0,fences:!0});function No(e,t){switch(t){case"BOLD":return{type:"strong",children:[e]};case"ITALIC":return{type:"emphasis",children:[e]};case"CODE":return{type:"inlineCode",value:e.value};default:return console.log("unknown mark string: "+t),e}}function Io(e){var t=[];return e.children[0].children.forEach((function(e){var n=e.data?e.data.align:"left";t.push(n)})),t}function Ao(e,t){t instanceof Array?t.map((function(t){return e.push(t)})):void 0!==t&&e.push(t)}function Po(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,o=e.children[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){Ao(t,Yo(i.value))}}catch(s){a=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}function Yo(e){var t;if(Mo.i.isText(e)){if(Mo.i.isText(e))return function(e){var t={},n=Object.keys(e),a=[];if(n.forEach((function(t){e[t]&&"text"!==t&&a.push(t)})),0===a.length)t={type:"text",value:e.text};else{t={type:"text",value:e.text};var r=!0,i=!1,o=void 0;try{for(var s,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){t=No(t,s.value)}}catch(c){i=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}return t}(e)}else switch(e.type){case"paragraph":return{type:"paragraph",children:t=Po(e)};case"header_one":return{type:"heading",depth:1,children:t=Po(e)};case"header_two":return{type:"heading",depth:2,children:t=Po(e)};case"header_three":return{type:"heading",depth:3,children:t=Po(e)};case"header_four":return{type:"heading",depth:4,children:t=Po(e)};case"header_five":return{type:"heading",depth:5,children:t=Po(e)};case"header_six":return{type:"heading",depth:6,children:t=Po(e)};case"hr":return{type:"thematicBreak"};case"ordered_list":t=Po(e);var n=!1,a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){if(!0===o.value.loose){n=!0;break}}}catch(h){r=!0,i=h}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return{type:"list",ordered:!0,start:1,loose:n,children:t};case"unordered_list":t=Po(e);n=!1;var l=!0,c=!1,u=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){if(!0===d.value.loose){n=!0;break}}}catch(h){c=!0,u=h}finally{try{l||null==p.return||p.return()}finally{if(c)throw u}}return{type:"list",ordered:!1,start:1,loose:n,children:t};case"list_item":n=!1;return(t=Po(e))&&(n=1!==t.length&&(2!==t.length||"list"!==t[1].type)),{type:"listItem",loose:n,checked:void 0!==e.data.checked?e.data.checked:null,children:t};case"code_block":return t=Po(e),{type:"code",lang:e.data.syntax?e.data.syntax:null,value:t.join("")};case"code_line":return Mo.d.text(e)+"\n";case"table":return t=Po(e),{type:"table",align:Io(e),children:t};case"table_row":return{type:"tableRow",children:t=Po(e)};case"table_cell":return{type:"tableCell",children:t=Po(e)};case"blockquote":return{type:"blockquote",children:t=Po(e)};case"html_block":return{type:"html",value:e.data.html};case"image":return function(e){if(e.data.height||e.data.width){var t="<img ";for(var n in e.data)t=t+n+'="'+e.data[n]+'" ';return[{type:"html",value:t+="/>"}]}return{type:"image",url:e.data.src,alt:e.data.alt?e.data.alt:null,title:e.data.title?e.data.title:null}}(e);case"link":return t=Po(e),{type:"link",url:e.data.href,title:e.data.title?e.data.title:null,children:t};default:return{type:"paragraph",children:t=Po(e)}}}var Fo=n(444),jo=n(284),Uo=n(453),Ho=Fo().use(jo,{commonmark:!0});function Bo(e,t){return e instanceof Array?e.map((function(e){return Bo(e,t)})):e.text?(e[t]=!0,e):e}function Vo(e,t){t instanceof Array?t.map((function(t){return e.push(t)})):void 0!==t&&e.push(t)}function Go(e,t,n){var a=t,r=[],i=!0,o=!1,s=void 0;try{for(var l,c=e.children[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=zo(l.value,n);Vo(r,u=Bo(u,a))}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return r}function Wo(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e.children[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){Vo(n,zo(o.value,t))}}catch(l){r=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}function zo(e,t){var n=[],a=t.definition;switch(e.type){case"heading":var r;switch(n=Wo(e,t),e.depth){case 1:r="header_one";break;case 2:r="header_two";break;case 3:r="header_three";break;case 4:r="header_four";break;case 5:r="header_five";break;case 6:r="header_six";break;default:console.log("Invalid depth: "+e.depth),r="header_one"}return{type:r,children:n};case"paragraph":return{type:"paragraph",children:n=Wo(e,t)};case"blockquote":return{type:"blockquote",children:n=Wo(e,t)};case"list":return t.loose=e.loose,n=Wo(e,t),e.ordered?{type:"ordered_list",children:n}:{type:"unordered_list",children:n};case"listItem":0===(n=Wo(e,t)).length&&n.push({type:"paragraph",children:[{text:""}]});var i={};return null!==e.checked&&(i.checked=e.checked),{type:"list_item",data:i,children:n};case"code":i={};return e.lang&&(i.syntax=e.lang),{type:"code_block",data:i,children:e.value.split(/\n/g).map((function(e){return{children:[{text:e}],type:"code_line"}}))};case"strong":return Go(e,"BOLD",t);case"emphasis":return Go(e,"ITALIC",t);case"inlineCode":return{text:e.value,CODE:!0};case"text":return{text:e.value};case"thematicBreak":return{type:"hr",children:[{text:""}]};case"table":return{type:"table",children:n=function(e,t){for(var n=e.align,a=e.children,r=[],i=0;i<a.length;i++){for(var o=[],s=0;s<n.length;s++){var l=a[i].children[s];l||(l={type:"tableCell",children:[{type:"paragraph",children:[{text:""}]}],data:{align:"left"}});var c=Wo(l,t);0===c.length&&c.push({text:""}),l={type:"table_cell",children:[{type:"paragraph",children:c}],data:{align:n[s]}},o.push(l)}r.push({type:"table_row",children:o})}return r}(e,t),data:{align:e.align}};case"html":if("<img"===e.value.slice(0,4).toLowerCase())return function(e,t){var n=(new DOMParser).parseFromString(e.value,"text/html").body.firstChild,a={};if(a.src=n.getAttribute("src"),!isNaN(n.getAttribute("width"))&&n.getAttribute("width")>0&&(a.width=n.getAttribute("width")),!isNaN(n.getAttribute("height"))&&n.getAttribute("height")>0&&(a.height=n.getAttribute("height")),n.getAttribute("alt")&&(a.alt=n.getAttribute("alt")),n.getAttribute("title")&&(a.title=n.getAttribute("title")),a.src)return{type:"image",data:a,children:[{text:""}]}}(e);return n.push({text:""}),{type:"html_block",data:{html:e.value}};case"link":if(0===(n=Wo(e,t)).length)return{text:""};i={href:e.url};return e.title&&(i.title=e.title),[{text:""},{type:"link",data:i,children:n},{text:""}];case"image":i={src:e.url};return e.title&&(i.title=e.title),e.alt&&(i.alt=e.alt),e.width&&(i.width=e.width),e.height&&(i.height=e.height),{type:"image",data:i,children:[{text:""}]};case"linkReference":n=Wo(e,t);i={};return(o=a(e.identifier))?(i.href=o.url,o.title&&(i.title=o.title),{type:"link",data:i,nodes:n}):{text:"["+e.identifier+"]"};case"imageReference":var o;i={};return(o=a(e.identifier))?(i.src=o.url,o.title&&(i.title=o.title),e.alt&&(i.alt=e.alt),{type:"image",data:i,children:[{text:""}]}):{text:"!["+e.alt+"]"};case"definition":return;default:return void console.log("unrecognized type: "+e.type)}}function qo(e){var t,n=Ho.parse(e),a=Uo(n),r=[],i=!0,o=!1,s=void 0;try{for(var l,c=n.children[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){Vo(r,zo(l.value,{definition:a}))}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}if(0===r.length){r.push({type:"paragraph",children:[{text:""}]})}var u=(t=function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if("image"===s.type){var l={};l.src=s.data.src,l.width=s.data.width||null,l.height=s.data.height||null,s.data.alt&&(l.alt=s.data.alt),s.data.title&&(l.title=s.data.title);var c={type:"paragraph",children:[{text:""},{type:"image",data:l,children:[{text:"",marks:[]}]},{text:""}]};t.push(c)}else"html_block"===s.type?(s={type:"html_block",data:{html:s.get("data").get("html")},children:s.nodes},t.push(s)):t.push(s)}}catch(d){a=!0,r=d}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}(r))[0].type;return"table"!==u&&"code_block"!==u&&"blockquote"!==u||t.unshift({type:"paragraph",children:[{text:""}]}),t}var Ko=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onClick=function(e){n.props.editor.scrollToNode(n.props.node)},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=decodeURI(window.location.hash);(e=e.substring(1,e.length))&&this.props.node&&e===this.props.node.text&&this.props.editor&&this.props.editor.scrollToNode(this.props.node)}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.index,a=e.activeTitleIndex,r="".concat("header_two"===t.type?"outline-h2":"","\n      ").concat("header_three"===t.type?"outline-h3":"","\n      ").concat(n===a?" active":"");return h.a.createElement("div",{className:r,key:n,onClick:this.onClick},t.children[0].text)}}]),t}(h.a.PureComponent),Xo=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getHeaderList=function(e){var t=e.filter((function(e){return"header_two"===e.type||"header_three"===e.type}));n.setState({headerList:t})},n.state={headerList:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.getHeaderList(this.props.document)}},{key:"componentWillReceiveProps",value:function(e){this.props.document!==e.document&&this.getHeaderList(e.document)}},{key:"render",value:function(){var e=this,t=this.state.headerList;return h.a.createElement("div",{className:"seafile-editor-outline"},t&&t.length>0?t.map((function(t,n){return h.a.createElement(Ko,{key:n,editor:e.props.editor,activeTitleIndex:e.props.activeTitleIndex,node:t,index:n})})):this.props.isViewer?null:h.a.createElement("div",{className:"size-panel-no-content"},this.props.t("no_out_line")))}}]),t}(h.a.PureComponent),Jo=Object(I.d)("seafile-editor")(Xo);function Zo(e){if(Array.isArray(e))return e}function $o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Qo(e,t){return Zo(e)||function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(l){r=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,t)||$o()}var es=n(202),ts=n.n(es),ns=function e(t){var n=this;v(this,e),this.getActiveMarks=function(){return Mo.b.marks(n.editor)},this.setMark=function(e){n.editor.exec({type:"format_text",properties:D({},e,!0)})},this.editor=t},as=function e(t){var n=this;v(this,e),this.getActiveHeader=function(e){var t=n.editor.selection;if(!t)return!1;var a=Mo.b.match(n.editor,t,e);return a||[{type:"paragraph"}]},this.isBlockActive=function(e){return!!n.editor.selection&&!!Qo(Mo.b.nodes(n.editor,{match:{type:e}}),1)[0]},this.editor=t},rs=function(){function e(t){var n=this;v(this,e),this.isLinkActive=function(){return!!Qo(Mo.b.nodes(n.editor,{match:{type:"link"}}),1)[0]},this.getLinkText=function(e){var t="";return e.children.forEach((function(e){t+=e.text})),t},this.getCurrentLinkNode=function(){var e=Qo(Mo.b.nodes(n.editor,{match:{type:"link"}}),1)[0];return e?e[0]:null},this.unwrapLink=function(){n.editor.exec({type:"unwrap_link"})},this.insertLink=function(e){n.editor.exec({type:"insert_link_at_selection",elementData:e})},this.setLink=function(e){n.editor.exec({type:"set_link",elementData:e})},this.insertImage=function(e){n.editor.exec({type:"insert_image_at_selection",data:{src:e.url},at:e.selection})},this.editor=t}return _(e,[{key:"adjustImageSize",value:function(e){var t=Object.assign({},{},e);this.editor.exec({type:"set_image",data:t})}}]),e}(),is=n(195),os=function(e,t){if(Mo.h.isCollapsed(t))return t.anchor;var n=Qo(Mo.h.edges(t),2)[1],a=Mo.b.pointRef(e,n);return Mo.b.delete(e,{at:t}),a.unref()},ss=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mo.b.withoutNormalizing(e,(function(){var n=t.match,a=t.at,r=void 0===a?e.selection:a,i=t.height,o=void 0===i?0:i,s=t.always,l=void 0!==s&&s,c=t.voids,u=void 0!==c&&c;if(null==n&&(n="block"),Mo.h.isRange(r)&&(r=os(e,r)),r){var d=Mo.b.pointRef(e,r,{affinity:"backward"}),p=N(Mo.b.nodes(e,{at:r,match:n,voids:u})).pop();if(p){var h=Mo.b.match(e,r,"void");if(!u&&h){var f=Qo(h,2),m=f[0],g=f[1];if(Mo.c.isElement(m)&&e.isInline(m)){var v=Mo.b.after(e,g);if(!v){var y=Mo.f.next(g);Mo.b.insertNodes(e,{text:""},{at:y,voids:u}),v=Mo.b.point(e,y)}r=v,l=!0}o=r.path.length-g.length+1,l=!0}var _=Mo.b.pointRef(e,r),b=r.path.length-o,w=Qo(p,2)[1],E=r.path.slice(0,b),T=0===o?r.offset:r.path[b]+0,x=null,C=!0,S=!1,k=void 0;try{for(var O,M=Mo.b.levels(e,{at:E,reverse:!0,voids:u})[Symbol.iterator]();!(C=(O=M.next()).done);C=!0){var L=Qo(O.value,2),D=L[0],R=L[1],I=!1;if(R.length<w.length||0===R.length||!u&&Mo.c.isElement(D)&&e.isVoid(D))break;var A=d.current,P=Mo.b.isEnd(e,A,R);if(l||!d||!Mo.b.isEdge(e,A,R)){I=!0;D.text,D.children;var Y=pa(D,["text","children"]);e.apply({type:"split_node",path:R,position:T,target:x,properties:Y})}x=T,T=R[R.length-1]+(I||P?1:0)}}catch(j){S=!0,k=j}finally{try{C||null==M.return||M.return()}finally{if(S)throw k}}if(null==t.at){var F=_.current||Mo.b.end(e,[]);Mo.b.select(e,F)}d.unref(),_.unref()}}}))},ls=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mo.b.withoutNormalizing(e,(function(){var n=t.split,a=void 0!==n&&n,r=t.voids,i=void 0!==r&&r,o=e.selection,s=t.match;if(o){var l,c=Mo.b.nodes(e,{at:o,match:s,mode:"all",voids:i}),u=!0,d=!1,p=void 0;try{for(var h,f=c[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)l=s=h.value}catch(_){d=!0,p=_}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}for(var m=Array.from([l],(function(t){var n=Qo(t,2)[1];return Mo.b.pathRef(e,n)})),g=function(){var t=y[v].unref(),n=Qo(Mo.b.node(e,t),1)[0],r=Mo.b.range(e,t);a&&Mo.h.isRange(r)&&(r=Mo.h.intersection(o,r)),Mo.b.liftNodes(e,{at:r,match:function(e){return n.children.includes(e)},voids:i})},v=0,y=m;v<y.length;v++)g()}}))},cs=function(e,t){var n={};Array.isArray(t)?n.match=t:n.match={type:t};var a=Mo.b.nodes(e,n),r=Qo(Mo.b.nodes(e,{match:"block"}),1)[0][1].length-1;if(Mo.h.isCollapsed(e.selection)){var i,o=!0,s=!1,l=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){i=c.value}}catch(y){s=!0,l=y}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}return i}var d=[],p=!0,h=!1,f=void 0;try{for(var m,g=a[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var v=m.value;r===v[1].length&&d.push(v)}}catch(y){h=!0,f=y}finally{try{p||null==g.return||g.return()}finally{if(h)throw f}}return d},us=function(e){return"paragraph"===e.type&&!(1!==e.children.length||!Mo.i.isText(e.children[0])||0!==Mo.d.text(e).length)},ds=Object(is.a)({},Mo.b,{splitNodesAtPoint:ss,getNodesByTypeAtRange:cs,unwrapNodesByTypeAtRange:ls,insertNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mo.b.withoutNormalizing(e,(function(){e.selection;var a=n.hanging,r=void 0!==a&&a,i=n.voids,o=void 0!==i&&i,s=n.at,l=n.match,c=n.select;if(Mo.d.isNode(t)&&(t=[t]),0!==t.length){var u=Qo(t,1)[0];if(s||(s=e.selection?e.selection:e.children.length>0?Mo.b.end(e,[]):[0],c=!0),null==c&&(c=!1),Mo.h.isRange(s))if(r||(s=Mo.b.unhangRange(e,s)),Mo.h.isCollapsed(s))s=s.anchor;else{var d=Qo(Mo.h.edges(s),2)[1],p=Mo.b.pointRef(e,d);Mo.b.delete(e,{at:s}),s=p.unref()}if(Mo.g.isPoint(s)){null==l&&(l=Mo.i.isText(u)?"text":e.isInline(u)?["inline","text"]:"block");var h=Mo.b.match(e,s.path,l);if(!h)return;var f=Qo(h,2)[1],m=Mo.b.pathRef(e,f),g=Mo.b.isEnd(e,s,f);Mo.b.splitNodes(e,{at:s,match:l});var v=m.unref();s=g?Mo.f.next(v):v}var y=Mo.f.parent(s),_=s[s.length-1];if(o||!Mo.b.match(e,y,"void")){var b=[],w=!0,E=!1,T=void 0;try{for(var x,C=t[Symbol.iterator]();!(w=(x=C.next()).done);w=!0){var S=x.value;b=y.concat(_),_++,s=b,e.apply({type:"insert_node",path:b,node:S})}}catch(O){E=!0,T=O}finally{try{w||null==C.return||C.return()}finally{if(E)throw T}}if(c){var k=Mo.b.end(e,s);k&&Mo.b.select(e,k)}}}}))},isEmptyParagraph:us}),ps=function(e){var t=e.getData("application/x-slate-fragment"),n=e.getData("text")||e.getData("text/plain")||"",a=t?JSON.parse(decodeURIComponent(window.atob(t))):null,r=e.getData("text/html")||"",i=e.files,o="text";return i.length>0?o="file":t&&Array.isArray(a)?o="fragment":r&&(o="html"),{text:n,html:r,fragment:a,type:o,files:i}},hs=n(103),fs={A:function(e){return{type:"link",data:{href:e.getAttribute("href")}}},BLOCKQUOTE:function(){return{type:"blockquote"}},H1:function(){return{type:"header_one"}},H2:function(){return{type:"header_two"}},H3:function(){return{type:"header_three"}},H4:function(){return{type:"header_four"}},H5:function(){return{type:"header_five"}},H6:function(){return{type:"header_six"}},IMG:function(e){return{type:"image",children:[{text:""}],data:{src:e.getAttribute("src")}}},LI:function(){return{type:"list_item",data:{}}},OL:function(){return{type:"ordered_list"}},P:function(){return{type:"paragraph"}},PRE:function(){return{type:"code_block",data:{syntax:null}}},UL:function(){return{type:"unordered_list"}},TABLE:function(){return{type:"table"}},TR:function(){return{type:"table_row"}},TD:function(){return{type:"table_cell"}},BR:function(){return{text:""}}},ms={CODE:function(){return{CODE:!0}},DEL:function(){return{DELETE:!0}},EM:function(){return{ITALIC:!0}},I:function(){return{ITALIC:!0}},STRONG:function(){return{BOLD:!0}},INS:function(){return{INS:!0}}},gs=function(e){return function e(t){if(3===t.nodeType)return"\n"===t.textContent||"\r"===t.textContent?null:t.textContent;if(1!==t.nodeType)return null;var n=t.nodeName,a=t;if("PRE"===n&&t.childNodes[0]&&"CODE"===t.childNodes[0].nodeName){var r=t.childNodes[0],i=[];return r.childNodes.forEach((function(e,t){e.innerText&&i.push({type:"code_line",children:[{text:e.innerText}]})})),{type:"code_block",children:i,data:{syntax:null}}}var o=Array.from(a.childNodes).map(e).flat();if("LI"===n&&t.className&&t.className.indexOf("task-list-item")>=0)return Object(hs.a)("element",{data:{checked:!1},type:"list_item"},o);if("BODY"===t.nodeName)return Object(hs.a)("fragment",{},o);if(fs[n]){var s=fs[n](t);return"IMG"===n?Object(hs.a)("element",s,[{text:""}]):"BR"===n?"":Object(hs.a)("element",s,o)}if(ms[n]){var l=ms[n](t);return o.map((function(e){return Object(hs.a)("text",l,e)}))}return o}((new DOMParser).parseFromString(e,"text/html").body)},vs=function e(t){var n=this;v(this,e),this.unwrapList=function(){var e=n.getCurrentListItem(),t=e[0][1],a=t.slice(0,t.length-1),r=Mo.d.parent(n.editor,a),i=a.slice(0,a.length-1);if(ds.unwrapNodesByTypeAtRange(n.editor,{match:[{type:"ordered_list"},{type:"unordered_list"}],split:!0}),r.type&&r.type.includes("list")){var o,s=i.slice(0,i.length-1),l=e[0][1],c=i[i.length-1]+1,u=l[l.length-1];o=[].concat(N(i),0===u?[1]:[2]),e.forEach((function(e,t){var a=[].concat(N(s),[t+c]);ds.moveNodes(n.editor,{at:o,to:a})}))}else e.forEach((function(e){ds.unwrapNodesByTypeAtRange(n.editor,{match:{type:"list_item"}})}))},this.wrapList=function(e){var t=ds.nodes(n.editor,{match:"block"});ds.wrapNodes(n.editor,{type:e,children:[]},{split:!1});var a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;ds.wrapNodes(n.editor,{type:"list_item",children:[l[0]],data:{}},{at:l[1]})}}catch(c){r=!0,i=c}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}},this.getCurrentListItem=function(){var e=n.editor.selection;if(!e)return[];if(Mo.h.isCollapsed(e)){var t=ds.match(n.editor,n.editor.selection,"block")[1],a=Mo.d.parent(n.editor,t);if(a.type&&a.type.indexOf("list")<0)return[];var r,i=ds.nodes(n.editor,{match:{type:"list_item"}}),o=!0,s=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){r=c.value}}catch(C){s=!0,l=C}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}return r?[r]:[]}var d=e.focus.path,p=e.anchor.path,h=Qo(ds.nodes(n.editor,{match:"block",at:d.length>p.length?d:p}),1)[0],f=h[1],m=Mo.d.parent(n.editor,f);if(m.type&&m.type.indexOf("list")<0)return[];var g=h[1].length-1,v=ds.nodes(n.editor,{match:{type:"list_item"}}),y=[],_=!0,b=!1,w=void 0;try{for(var E,T=v[Symbol.iterator]();!(_=(E=T.next()).done);_=!0){var x=E.value;x[1].length===g&&y.push(x)}}catch(C){b=!0,w=C}finally{try{_||null==T.return||T.return()}finally{if(b)throw w}}return y},this.increaseListDepth=function(){var e,t=ds.nodes(n.editor,{match:{type:"list_item"}}),a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){e=o.value}}catch(v){r=!0,i=v}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}var l=N(e[1]);if(0!==l[l.length-1]){var c=Mo.d.parent(n.editor,l),u=l.pop(),d=l,p=c.children[u-1],h=[].concat(N(d),[u-1]),f=p.children.length,m=[].concat(N(h),[f]);ds.insertNodes(n.editor,{type:c.type,children:[]},{at:m,split:!0});var g=[].concat(N(m),[0]);ds.moveNodes(n.editor,{at:e[1],to:g})}},this.isInlist=function(){return n.getCurrentListItem().length>0},this.pasteContentInList=function(e){var t=e.data,a=ps(t),r=a.fragment,i=a.text,o=a.type,s=a.html;if("text"!==o||r)if("html"===o&&(r=gs(s)),i.length>0){var l=i.replace(/\r\n|\n/g," "),c=r[0],u=c.type,d=n.getCurrentListItem()[0][1],p=d[d.length-1],h=d.slice(0,d.length-1);if("ordered_list"===u||"unordered_list"===u){var f=c.children;if(f.forEach((function(e,t){var a=e.children;ds.insertFragment(n.editor,[a[0]]),a.length>1&&ds.insertNodes(n.editor,a.slice(1)),t<f.length-1&&(ds.insertNodes(n.editor,{type:"list_item",data:{},children:[{type:"paragraph",children:[{text:""}]}]},{at:[].concat(N(h),[p+t+1])}),ds.select(n.editor,[].concat(N(h),[p+t+1])))})),r.length>1){var m=ds.match(n.editor,n.editor.selection,{type:"list_item"})[1],g=m.slice(0,m.length-1),v=g[g.length-1],y=[].concat(N(g.slice(0,g.length-1)),[v+1]);ds.insertNodes(n.editor,r.slice(1),{at:y})}}else{if(1===r.length&&"paragraph"===r[0].type)return void ds.insertFragment(n.editor,r);ds.insertText(n.editor,l)}}else ds.insertFragment(r);else{var _=i.replace(/\r\n|\n/g," ");ds.insertText(n.editor,_)}},this.editor=t},ys=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.type=t.type||"table",this.children=t.children||[Es(),Es()]},_s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.type=t.type||"table_row",this.children=t.children||[Ts(),Ts()]},bs=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.type=t.type||"table_cell",this.children=t.children||[{type:"paragraph",children:[{text:""}]}],this.data=t.data||{align:"left"}},ws=function(e){return Object.assign({},new ys(e))},Es=function(e){return Object.assign({},new _s(e))},Ts=function(e){return Object.assign({},new bs(e))},xs=function e(t){var n=this;v(this,e),this.isInTable=function(){var e=n.editor,t=e.selection;if(!t)return!1;var a=ds.match(e,e.selection.anchor,"block"),r=Mo.d.parent(e,a[1]),i=t.focus.path,o=t.anchor.path;return!!(r&&r.type&&r.type.includes("table")&&i[0]===o[0])},this.insertTable=function(){var e=ws();ds.insertNodes(n.editor,e);var t=ds.match(n.editor,n.editor.selection,{type:"table"})[1],a=[].concat(N(t),[0,0]);ds.select(n.editor,a)},this.getSelectedTableCells=function(){var e=ds.match(n.editor,n.editor.selection,{type:"table"})[0],t=document.querySelectorAll(".selected-cell");if(0===t.length)return null;var a=[],r=[];t.forEach((function(e,t){var n=e.cellIndex,i=e.parentNode.rowIndex;a.push(n),r.push(i)}));var i=Math.min.apply(null,r),o=Math.max.apply(null,r),s=Math.min.apply(null,a),l=Math.max.apply(null,a),c=e.children,u=[];return c.forEach((function(e,t){var n=[];t>=i&&t<=o&&(e.children.forEach((function(e,t){t>=s&&t<=l&&n.push(Object.assign({},{},e))})),u.push(Es({children:n})))})),[ws({children:u})]},this.pasteContentInTable=function(e){var t=e.data,a=ps(t),r=a.fragment,i=a.text,o=a.type,s=a.html,l=i.replace(/\r\n|\n/g," ");if(r||"text"!==o)if("html"===o&&(r=gs(s)),1===r.length)if("table"===r[0].type){var c=r[0],u=Qo(ds.match(n.editor,n.editor.selection,{type:"table_row"}),2),d=u[0],p=u[1],h=Qo(ds.match(n.editor,n.editor.selection,{type:"table"}),2),f=h[0],m=h[1],g=ds.match(n.editor,n.editor.selection,{type:"table_cell"})[1],v=p[p.length-1],y=g[g.length-1],_=d.children.length,b=f.children.length;c.children.some((function(e,t){var a=[].concat(N(m),[v+t]);return v+t>b-1||(e.children.some((function(e,t){if(y+t>_-1)return!0;var r=[].concat(N(a),[y+t]);if(ds.removeNodes(n.editor,{at:[].concat(N(r),[0])}),"paragraph"!==e.children.type){var i=Mo.d.text(e);ds.insertNodes(n.editor,{type:"paragraph",children:[{text:i}]},{at:[].concat(N(r),[0])})}else ds.insertNodes(n.editor,e.children,{at:[].concat(N(r),[0])});return!1})),!1)}))}else"paragraph"===r[0].type?ds.insertFragment(n.editor,r):ds.insertText(n.editor,i.replace(/\r\n|\n/g," "));else r.forEach((function(e){if("paragraph"===e.type)ds.insertFragment(n.editor,[e]);else{var t=Mo.d.text(e);t.length>0&&ds.insertText(n.editor,t.replace(/\r\n|\n/g," "))}}));else ds.insertText(n.editor,l)},this.removeTable=function(){var e=ds.match(n.editor,n.editor.selection,{type:"table"})[1],t=e[e.length-1],a=e.slice(0,e.length-1),r=t>=1?t-1:1,i=[].concat(N(a),[r]);ds.removeNodes(n.editor,{match:{type:"table"}}),ds.select(n.editor,i),ds.collapse(n.editor,{edge:"end"})},this.getTablePosition=function(){var e=ds.match(n.editor,n.editor.selection,{type:"table_cell"}),t=e[1],a=ds.match(n.editor,n.editor.selection,{type:"table"})[1],r=t.slice(0,t.length-1),i=Mo.d.get(n.editor,r),o=e[0],s=Mo.d.get(n.editor,a);return{rowIndex:t[t.length-2],cellIndex:t[t.length-1],cellPath:t,rowPath:r,tablePath:a,row:i,cell:o,table:s}},this.insertRow=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"after",a=n.getTablePosition(),r=a.tablePath,i=a.rowIndex;"after"===t&&(e=[].concat(N(r),[i+1])),"before"===t&&(e=[].concat(N(r),[i]));var o=a.row.children.map((function(e){return Ts({data:{align:e.data.align}})}));ds.insertNodes(n.editor,Es({children:o}),{at:e});var s=[].concat(N(e),[0]);ds.select(n.editor,s),ds.collapse(n.editor,{edge:"end"})},this.removeRow=function(){var e,t=n.getTablePosition(),a=t.rowPath,r=t.table,i=t.rowIndex,o=t.tablePath;r.children.length>1?(e=i===r.children.length-1?[].concat(N(o),[i-1,0,0]):[].concat(N(o),[i,0,0]),ds.removeNodes(n.editor,{at:a}),ds.select(n.editor,e),ds.collapse({at:"end"})):n.removeTable()},this.insertColumn=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"after",a=n.getTablePosition(),r=a.table,i=a.tablePath,o=a.cellIndex;if("after"===t){for(var s=0;s<r.children.length;s++){var l=[].concat(N(i),[s,o+1]);ds.insertNodes(n.editor,Ts({data:{align:"left"}}),{at:l})}e=[].concat(N(i),[0,o+1])}else{for(var c=0;c<r.children.length;c++){var u=[].concat(N(i),[c,o]);ds.insertNodes(n.editor,Ts({data:{align:"left"}}),{at:u})}e=[].concat(N(i),[0,o])}ds.select(n.editor,e),ds.collapse(n.editor,{edge:"end"})},this.removeColumn=function(){var e=n.getTablePosition(),t=e.table,a=e.tablePath,r=e.cellIndex;if(1!==e.row.children.length)for(var i=0;i<t.children.length;i++){var o=[].concat(N(a),[i,r]);ds.removeNodes(n.editor,{at:o})}else n.removeTable()},this.setAlign=function(e){for(var t=n.getTablePosition(),a=t.table,r=t.tablePath,i=t.cellIndex,o=0;o<a.children.length;o++){var s=[].concat(N(r),[o,i]);ds.setNodes(n.editor,{data:{align:e}},{at:s})}},this.exitTable=function(){var e=ds.match(n.editor,n.editor.selection,{type:"table"})[1],t=e[e.length-1],a=e.slice(0,e.length-1),r=[].concat(N(a),[t+1]);ds.insertNodes(n.editor,{type:"paragraph",children:[{text:""}]},{at:r}),ds.select(n.editor,r),ds.collapse({at:"end"})},this.editor=t},Cs=n(302),Ss=n.n(Cs),ks=function(){function e(t){var n=this;v(this,e),this.isInCodeBlock=function(){var e=ds.match(n.editor,n.editor.selection.anchor,"block");return"code_block"===Mo.d.parent(n.editor,e[1]).type},this.getIndent=function(e){return Ss()(e).indent},this.insertIndent=function(e){ds.insertText(n.editor,e,{at:n.editor.selection})},this.wrapCodeBlock=function(){ds.setNodes(n.editor,{type:"code_line"},{match:"block",at:n.editor.selection}),ds.wrapNodes(n.editor,{type:"code_block",children:[],data:{}}),ds.collapse(n.editor,{edge:"end"})},this.splitCodeLine=function(){var e=ds.match(n.editor,n.editor.selection,"block"),t=n.getIndent(Mo.d.text(e[0]));ds.splitNodes(n.editor,{split:!0,always:!0,at:n.editor.selection}),n.insertIndent(t)},this.unwrapCodeBlock=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ds.match(n.editor,n.editor.selection,{type:"code_block"}),a=t[1];e?ds.setNodes(n.editor,{type:"paragraph"},{at:n.editor.selection,match:"block"}):t[0].children.forEach((function(e,t){var r=[].concat(N(a),[t]);ds.setNodes(n.editor,{type:"paragraph"},{at:r})})),ds.unwrapNodesByTypeAtRange(n.editor,{at:n.editor.selection,split:e,match:{type:"code_block"}})},this.editor=t}return _(e,[{key:"pasteContentInCodeBlock",value:function(e){var t=this,n=e.data,a=ps(n),r=a.text,i=a.fragment,o=a.type;0!==r.length&&("text"!==o&&"html"!==o?i.map((function(e,n){return"code_block"===e.type?(e.children.forEach((function(e,n){0!==n?ds.insertNodes(t.editor,e):ds.insertText(t.editor,Mo.d.text(e))})),!0):(0===n?ds.insertText(t.editor,Mo.d.text(e)):ds.insertNodes(t.editor,{type:"code_line",children:[{text:Mo.d.text(e)}]}),!0)})):r.split(/\r\n|\n/).map((function(e){return ds.insertNodes(t.editor,{type:"code_line",children:[{text:e}]},{split:!0}),!0})))}}]),e}(),Os=function e(t){v(this,e),this.type=t.type||"blockquote",this.children=t.children||[{text:""}]},Ms=function(e){return Object.assign({},new Os(e))},Ls=function e(t){var n=this;v(this,e),this.getCurrentBlockquote=function(){var e=ds.match(n.editor,n.editor.selection.anchor,"block")[1],t=Mo.d.parent(n.editor,e);return t&&"blockquote"===t.type?t:null},this.isInBlockquote=function(){return Boolean(n.getCurrentBlockquote())},this.wrapBlockquote=function(){var e=n.editor.selection,t=ds.path(n.editor,e),a=n.editor.children[t[0]],r=Ms({children:[a]});ds.wrapNodes(n.editor,r)},this.unwrapBlockquote=function(){ds.unwrapNodes(n.editor,{split:!0,match:{type:"blockquote"}})},this.pasteContentInBlockquote=function(e){var t=e.data,a=ps(t),r=a.fragment,i=a.text,o=a.type,s=a.html;if("text"!==o){"html"===o&&(r=gs(s));var l=ds.match(n.editor,n.editor.selection,"block");0===Mo.d.text(l[0]).length&&ds.removeNodes(n.editor,{match:"block"}),ds.insertNodes(n.editor,r)}else{i.split(/\r\n|\n/g).forEach((function(e,t){0===t?ds.insertText(n.editor,e):ds.insertNodes(n.editor,{type:"paragraph",children:[{text:e}]})}))}},this.editor=t},Ds=n(47);var Rs=function(e){var t=Object(Ds.d)()?"seafile-ed-hovermenu-mouseclick":null;return h.a.createElement("a",Object.assign({href:e.node.data.href},e.attributes,{className:"virtual-link "+t}),e.children)},Ns=function(e){for(var t=e.split("/"),n=[],a=0;a<t.length;a++)"."!==t[a]&&""!==t[a]&&(".."===t[a]?n.pop():n.push(t[a]));return n.join("/")},Is=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).state={isMounted:!1},n.el=document.createElement("div"),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return m.a.createPortal(this.props.children,this.el)}}]),t}(h.a.Component),As=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).startMove=function(e){e.stopPropagation(),n.setState({isResizing:!0}),window.addEventListener("mousemove",n.handleMove),window.addEventListener("mouseup",n.stopMove)},n.stopMove=function(e){e.stopPropagation(),e.preventDefault(),window.removeEventListener("mousemove",n.handleMove);var t=n.props.node;n.inlineElementUtils.adjustImageSize({width:n.state.width,src:t.data.src}),n.setState({isResizing:!1}),window.removeEventListener("mouseup",n.stopMove)},n.handleMove=function(e){var t;e.stopPropagation(),e.preventDefault(),t=e.clientX-n.refs.resizer.getBoundingClientRect().left-5;var a=n.refs.image.width+t;a>=n.editor.offsetWidth||a<20||n.setState({width:a})},n.setFullScreen=function(e){e.stopPropagation();var t=n.props.node.data.src;n.toggleBigImage(e,t)},n.toggleBigImage=function(e,t){e.preventDefault(),n.setState({isShowBigImage:!n.state.isShowBigImage}),n.imgSrc=t},n.renderBigImage=function(){return h.a.createElement(Ps,{bigImageSrc:n.imgSrc,toggleBigImage:n.toggleBigImage})},n.state={width:null,isResizing:!1,isShowBigImage:!1},n.inlineElementUtils=new rs(window.seafileEditor),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.editor=document.querySelector(".editor-component")}},{key:"componentWillUnmount",value:function(){this.refs.resizer=null,this.refs.image=null}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.node,a=e.isSelected,r=e.children,i=this.state.isResizing,o=n.data,s=o.src;if(/^\.\.\/*/.test(s)||/^\.\/*/.test(s)){var l=this.props.editorUtilities,c=l.filePath,u=l.serviceUrl,d=l.repoID,p=c.slice(0,c.lastIndexOf("/"))+"/"+s;s=u+"/lib/"+d+"/file/"+Ns(p)+"?raw=1"}var f=h.a.createElement("span",Object.assign({className:"seafile-ed-image"},t),a||i?h.a.createElement(h.a.Fragment,null,h.a.createElement("img",{className:"seafile-ed-image-inResizing",draggable:!1,src:s,width:this.state.width||o.width,alt:" ",ref:"image"}),this.state.isResizing?h.a.createElement("span",{contentEditable:!1,className:"image-size"},h.a.createElement("span",null,this.props.t("width"),":",parseInt(this.state.width||this.refs.image.clientWidth)),h.a.createElement("span",null,"\xa0\xa0"),h.a.createElement("span",null,this.props.t("height"),":",this.refs.image.clientHeight)):null,h.a.createElement("span",{ref:"resizer",onMouseDown:this.startMove,className:"image-resizer"}),a&&h.a.createElement("span",{contentEditable:!1,onClick:this.setFullScreen,className:"image-full-button"},h.a.createElement("i",{className:"iconfont icon-fullscreen"}),h.a.createElement("span",{className:"image-tooltip"},this.props.t("Full_screen")))):h.a.createElement("img",{width:o.width||"",draggable:!1,src:s,alt:" ",ref:"image"}),r,this.state.isShowBigImage&&this.renderBigImage());return s?f:h.a.createElement("span",t,"Loading...")}}]),t}(h.a.Component),Ps=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this;return h.a.createElement(Is,null,h.a.createElement("div",{className:"big-image-cover",onClick:function(t){return e.props.toggleBigImage(t)}},h.a.createElement("div",{className:"big-image-container"},h.a.createElement("img",{src:this.props.bigImageSrc,alt:""})),h.a.createElement("div",{onClick:function(t){return e.props.toggleBigImage(t)},className:"image-container-close"},h.a.createElement("i",{className:"iconfont icon-close"}))))}}]),t}(h.a.Component),Ys=Object(I.d)("seafile-editor")(As),Fs=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=n.props.editor,a=e.target.checked,r=Ds.b.findPath(t,n.props.element);Mo.b.setNodes(t,{data:{checked:a}},{at:r})},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.children,a=e.element.data.checked;return h.a.createElement("li",Object.assign({},t,{className:"task-list-item "+this.props.className}),h.a.createElement("div",{contentEditable:!1},h.a.createElement("input",{type:"checkbox",checked:a,onChange:this.onChange})),n)}}]),t}(h.a.PureComponent),js=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=n.props.editor,a=e.target.value;Mo.b.setNodes(t,{data:{syntax:a}},{match:{type:"code_block"}})},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.children,a=e.node,r=e.isSelected,i=e.readOnly,o=a.data.syntax;return h.a.createElement("div",{className:"code-container"},h.a.createElement("pre",Object.assign({className:"code"},t),h.a.createElement("code",null,n)),r?h.a.createElement(Us,{disabled:i,language:o,onChange:this.onChange}):null)}}]),t}(h.a.PureComponent),Us=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{contentEditable:!1,className:"language-type"},h.a.createElement("select",{value:this.props.language,disabled:this.props.disabled,name:"language",onInput:function(e){return e.stopPropagation()},onChange:this.props.onChange},h.a.createElement("option",{value:"none"},"Text"),h.a.createElement("option",{value:"html"},"HTML"),h.a.createElement("option",{value:"css"},"CSS"),h.a.createElement("option",{value:"javascript"},"Javascript"),h.a.createElement("option",{value:"c"},"C"),h.a.createElement("option",{value:"cpp"},"C++"),h.a.createElement("option",{value:"csharp"},"C#"),h.a.createElement("option",{value:"java"},"Java"),h.a.createElement("option",{value:"python"},"Python"),h.a.createElement("option",{value:"sql"},"Sql"),h.a.createElement("option",{value:"swift"},"Swift"),h.a.createElement("option",{value:"json"},"JSON")))}}]),t}(h.a.PureComponent),Hs=js,Bs=(n(989),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).clearSelectedCells=function(){n.table.querySelectorAll(".selected-cell").forEach((function(e){e.classList.remove("selected-cell","selected-cell-left","selected-cell-bottom","selected-cell-top","selected-cell-right")}))},n.selectTable=function(e){n.startRowIndex=n.getTableElement(e.target,"tr").rowIndex,n.startColIndex=n.getTableElement(e.target,"td").cellIndex,window.document.addEventListener("mousemove",n.selectCellsInTable),window.document.addEventListener("mouseup",n.onMouseUp)},n.getTableElement=function(e,t){if(e.nodeName.toLowerCase()===t)return e;for(var n=e;n.nodeName.toLowerCase()!==t;)n=n.parentNode;return n},n.selectCellsInTable=function(e){if("TBODY"!==e.target.nodeName&&n.table.contains(e.target)){n.endRowIndex=n.getTableElement(e.target,"tr").rowIndex,n.endColIndex=n.getTableElement(e.target,"td").cellIndex;var t=Math.min(n.startRowIndex,n.endRowIndex),a=Math.max(n.startRowIndex,n.endRowIndex),r=Math.min(n.startColIndex,n.endColIndex),i=Math.max(n.startColIndex,n.endColIndex);t===a&&r===i||(window.getSelection().collapseToEnd(),n.selectedRowRange={min:t,max:a},n.selectedColRange={min:r,max:i},n.hasSelectedRangeRendered=!1,n.forceUpdate())}},n.onMouseUp=function(){window.document.removeEventListener("mousemove",n.selectCellsInTable),window.document.removeEventListener("mouseup",n.onMouseUp)},n.table=null,n.selectedRowRange={min:-1,max:-1},n.selectedColRange={min:-1,max:-1},n.hasSelectedRangeRendered=!1,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.table=m.a.findDOMNode(this)}},{key:"componentDidUpdate",value:function(){var e=this.selectedRowRange,t=e.min,n=e.max,a=this.selectedColRange,r=a.min,i=a.max;if(r<0||t<0)this.clearSelectedCells();else{if(this.hasSelectedRangeRendered&&this.selectedRowRange.min>=0&&this.selectedColRange.min>=0)return this.selectedColRange={min:-1,max:-1},void(this.selectedColRange={min:-1,max:-1});this.clearSelectedCells();for(var o=t;o<=n;o++)for(var s=this.table.querySelectorAll("tr")[o],l=r;l<=i;l++)s.querySelectorAll("td")[l].classList.add("selected-cell"),o===t&&s.querySelectorAll("td")[l].classList.add("selected-cell-top"),l===r&&s.querySelectorAll("td")[l].classList.add("selected-cell-left"),l===i&&s.querySelectorAll("td")[l].classList.add("selected-cell-right"),o===n&&s.querySelectorAll("td")[l].classList.add("selected-cell-bottom");this.hasSelectedRangeRendered=!0}}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.children;return h.a.createElement("table",{onMouseDown:this.selectTable},h.a.createElement("tbody",t,n))}}]),t}(h.a.PureComponent));function Vs(e){var t=Object(Ds.d)(),n=e.SlateNode;return h.a.createElement(n,{editor:e.editor,attributes:e.attributes,children:e.children,isSelected:t,node:e.element})}var Gs=function(e){var t=e.attributes,n=e.children,a=e.leaf,r=h.a.cloneElement(n);return a.BOLD&&(r=h.a.createElement("strong",null,r)),a.CODE&&(r=h.a.createElement("code",null,r)),a.ITALIC&&(r=h.a.createElement("i",null,r)),a.DELETE&&(r=h.a.createElement("del",null,r)),a.ADD&&(r=h.a.createElement("ins",null,r)),a.decoration&&(r=h.a.createElement("span",{className:"token ".concat(a.type)},r)),h.a.createElement("span",t,r)},Ws=function(e){var t=Qo(e,2),n=t[0],a=t[1];if("code_block"!==n.type)return[];var r=n.data.syntax;if("none"===r)return[];var i=ts.a.languages[r],o=n.children;if(!i)return[];var s=o.map((function(e){return e.children[0].text})).join("\n"),l=ts.a.tokenize(s,i),c=[],u=0,d=0,p=!0,h=!1,f=void 0;try{for(var m,g=l[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var v=m.value;if("string"===typeof v&&v.indexOf("\n")>=0){var y=v.split("\n");u+=y.length-1,d=y.pop().length}else if("string"===typeof v){var _=a.slice();_.push(u,0);var b={anchor:{path:_,offset:d},focus:{path:_,offset:d+v.length},type:"text"};c.push(b),d+=v.length}else if("string"===typeof v.content){var w=a.slice();w.push(u,0);var E={anchor:{path:w,offset:d},focus:{path:w,offset:d+v.content.length},decoration:!0,type:v.type};c.push(E),d+=v.content.length}}}catch(T){h=!0,f=T}finally{try{p||null==g.return||g.return()}finally{if(h)throw f}}return c},zs=function(){function e(t){var n=this;v(this,e),this.onClickMark=function(e,t){e.preventDefault(),n.markUtils.setMark(t)},this.onClickHeader=function(e,t){e.preventDefault(),n.editor.exec({type:"set_header",headerType:t})},this.onClickBlock=function(e,t){e.preventDefault(),n.blockElementUtils.isBlockActive(t)?n.editor.exec({type:"unwrap_".concat(t)}):n.editor.exec({type:"set_".concat(t)})},this.onClickBlock=function(e,t){if(e.preventDefault(),"blockquote"===t&&(n.blockquoteUtils.isInBlockquote()?n.editor.exec({type:"unwrap_blockquote"}):n.editor.exec({type:"set_blockquote"})),"code_block"===t&&(n.codeUtils.isInCodeBlock()?n.editor.exec({type:"unwrap_code_block"}):n.editor.exec({type:"set_code_block"})),"ordered_list"===t||"unordered_list"===t)if(n.listUtils.isInlist()){var a=n.listUtils.getCurrentListItem()[0],r=Mo.d.parent(n.editor,a[1]);if(r.type===t){if("boolean"===typeof a[0].data.checked)return void n.editor.exec({type:"unwrap_check_list_item"});n.editor.exec({type:"unwrap_".concat(r.type)})}else n.editor.exec({type:"unwrap_".concat(r.type)}),n.editor.exec({type:"set_".concat(t)})}else n.editor.exec({type:"set_".concat(t)})},this.unwrapLink=function(){n.inlineElementUtils.unwrapLink()},this.isLinkActive=function(){return n.inlineElementUtils.isLinkActive()},this.getLinkText=function(e){return n.inlineElementUtils.getLinkText(e)},this.insertLink=function(e){return n.inlineElementUtils.insertLink(e)},this.setLink=function(e){return n.inlineElementUtils.setLink(e)},this.getSelectedText=function(){return window.getSelection().getRangeAt(0).toString()},this.insertImage=function(e){n.inlineElementUtils.insertImage(e)},this.getCurrentLinkNode=function(){return n.inlineElementUtils.getCurrentLinkNode()},this.onToggleCheckItem=function(e){if((e.preventDefault(),n.listUtils.isInlist())&&"boolean"===typeof n.listUtils.getCurrentListItem()[0][0].data.checked)return void n.editor.exec({type:"unwrap_check_list_item"});n.editor.exec({type:"wrap_check_list_item"})},this.onAddTable=function(e){e.preventDefault(),n.editor.exec({type:"insert_table"})},this.onRemoveTable=function(e){e.preventDefault(),n.editor.exec({type:"remove_table"})},this.onInsertColumn=function(e){e.preventDefault(),n.editor.exec({type:"insert_column"})},this.onRemoveColumn=function(e){e.preventDefault(),n.editor.exec({type:"remove_column"})},this.onInsertRow=function(e){e.preventDefault(),n.editor.exec({type:"insert_row"})},this.onRemoveRow=function(e){e.preventDefault(),n.editor.exec({type:"remove_row"})},this.onSetAlign=function(e,t){e.preventDefault(),n.editor.exec({type:"set_table_cell_align",align:t})},this.adjustImageSize=function(e){return n.inineElementUtils.adjustImageSize(e)},this.editor=t,this.markUtils=new ns(t),this.blockElementUtils=new as(t),this.inlineElementUtils=new rs(t),this.listUtils=new vs(t),this.tableUtils=new xs(t),this.codeUtils=new ks(t),this.blockquoteUtils=new Ls(t)}return _(e,[{key:"getToolbarStatus",value:function(){var e={headerType:"paragraph"};if(!this.editor.selection)return e;var t=this.blockElementUtils.getActiveHeader([{type:"paragraph"},{type:"header_one"},{type:"header_two"},{type:"header_three"},{type:"header_four"},{type:"header_five"},{type:"header_six"}]),n=this.isLinkActive(),a=this.blockquoteUtils.isInBlockquote(),r=this.codeUtils.isInCodeBlock(),i=this.tableUtils.isInTable(),o=t[0],s=this.markUtils.getActiveMarks(),l=!1,c=!1,u=!1;if(this.listUtils.isInlist()){var d=this.listUtils.getCurrentListItem()[0];if(d[0].data&&"boolean"===typeof d[0].data.checked)l=!0,u=!1;else"unordered_list"===Mo.d.parent(this.editor,d[1]).type?u=!0:c=!0}return e={headerType:o.type,isBoldActive:s.BOLD,isItalicActive:s.ITALIC,isInlineCodeActive:s.CODE,isLinkActive:n,isBlockquoteActive:a,isOrderedListActive:c,isUnorderedListActive:u,isCheckListActive:l,isCodeActive:r,isTableActive:i}}}]),e}(),qs=(n(608),function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.node.data,a=n.src,r=h.a.createElement("span",{className:"seafile-ed-image"},h.a.createElement("img",Object.assign({draggable:!1,src:a,alt:""},t,{width:n.width,height:n.height})));return a?r:h.a.createElement("span",t,"Loading...")}}]),t}(h.a.Component));function Ks(e){var t=e.attributes,n=e.children,a=e.element,r=a.data?a.data:{},i=r.checked,o=r.align,s=r.href,l=r.diff_state,c=r.new_index;switch(o=-1===["left","right","center"].indexOf(o)?"left":o,a.type){case"paragraph":return h.a.createElement("p",Object.assign({className:l?l+" "+(r.paragraph_state?r.paragraph_state:""):""},t),n);case"blockquote":return h.a.createElement("blockquote",t,n);case"header_one":return h.a.createElement("h1",Object.assign({},t,{id:"user-content-"+a.children[0].text}),n);case"header_two":return h.a.createElement("h2",Object.assign({},t,{id:"user-content-"+a.children[0].text}),n);case"header_three":return h.a.createElement("h3",Object.assign({},t,{id:"user-content-"+a.children[0].text}),n);case"header_four":return h.a.createElement("h4",t,n);case"header_five":return h.a.createElement("h5",t,n);case"header_six":return h.a.createElement("h6",t,n);case"list_item":return void 0===i?h.a.createElement("li",Object.assign({value:c?c>=0?c+1:r.old_index+1:"",className:l||""},t),n):h.a.createElement(Fs,Object.assign({className:l||""},{attributes:t,children:n,node:a}));case"unordered_list":return h.a.createElement("ul",Object.assign({className:l||""},t),n);case"ordered_list":return h.a.createElement("ol",Object.assign({className:l||""},t),n);case"image":return h.a.createElement(qs,{attributes:t,children:n,node:a});case"code_block":return h.a.createElement("pre",{className:"code-container"},h.a.createElement("code",Object.assign({className:"code"},t),n),h.a.createElement(Js,{disabled:!0,lang:a.data.syntax}));case"code_line":return h.a.createElement("p",t,n);case"table":return h.a.createElement("table",null,h.a.createElement("tbody",t,n));case"table_row":return h.a.createElement("tr",Object.assign({className:l||""},t),n);case"table_cell":return h.a.createElement("td",Object.assign({className:l||"",style:{textAlign:o}},t),n);case"link":return h.a.createElement("a",Object.assign({className:l||""},t,{href:s}),n);case"hr":return h.a.createElement("hr",t);default:return h.a.createElement("p",t,n)}}var Xs=function(e){var t=e.attributes,n=e.children,a=e.leaf;return a.BOLD&&(n=h.a.createElement("strong",null,n)),a.CODE&&(n=h.a.createElement("code",null,n)),a.ITALIC&&(n=h.a.createElement("i",null,n)),a.DELETE&&(n=h.a.createElement("del",null,n)),a.ADD&&(n=h.a.createElement("ins",null,n)),a.decoration?h.a.createElement("span",{className:"token ".concat(a.type)},n):h.a.createElement("span",t,n)},Js=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"language-type"},h.a.createElement("select",{value:this.props.lang,disabled:!0,name:"language"},h.a.createElement("option",{value:"none"},"Text"),h.a.createElement("option",{value:"html"},"HTML"),h.a.createElement("option",{value:"css"},"CSS"),h.a.createElement("option",{value:"javascript"},"Javascript"),h.a.createElement("option",{value:"c"},"C"),h.a.createElement("option",{value:"cpp"},"C++"),h.a.createElement("option",{value:"csharp"},"C#"),h.a.createElement("option",{value:"java"},"Java"),h.a.createElement("option",{value:"python"},"Python"),h.a.createElement("option",{value:"sql"},"Sql"),h.a.createElement("option",{value:"swift"},"Swift")))}}]),t}(h.a.PureComponent),Zs=function(e){var t=Object(p.useMemo)((function(){return function(e){var t=e.isInline;return e.isInline=function(e){return"link"===e.type||"image"===e.type||t(e)},e}(function(e){var t=e.isVoid;return e.isVoid=function(e){return"image"===e.type||t(e)},e}(Object(Ds.e)(Object(Mo.j)())))}),[]),n=Object(p.useCallback)(Ws,[e.value]);return h.a.createElement("div",{className:"article"},h.a.createElement(Ds.c,{editor:t,value:e.value},h.a.createElement(Ds.a,{readOnly:!0,decorate:n,renderElement:e.renderDiffElement?e.renderDiffElement:Ks,renderLeaf:e.renderDiffLeaf?e.renderDiffLeaf:Xs})))},$s=(n(990),n(454)),Qs=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).scrollToNode=function(e){var t=new $s(window.location.href);t.set("hash","user-content-"+e.children[0].text),window.location.href=t.toString()},n.getTitlesInfo=function(){for(var e=[],t=document.querySelectorAll('h2[id^="user-content"], h3[id^="user-content"]'),a=0;a<t.length;a++)e.push(t[a].offsetTop);n.titlesInfo=e},n.deserializeValue=function(e){var t=qo(e);n.props.modifyValueBeforeRender&&(t=n.props.modifyValueBeforeRender(t)),n.setState({value:t})},n.titlesInfo=[],n.state={value:null},n}return S(t,e),_(t,[{key:"componentWillMount",value:function(){this.deserializeValue(this.props.markdownContent)}},{key:"componentDidMount",value:function(){this.props.showTOC&&this.getTitlesInfo(),this.props.onContentRendered&&this.props.onContentRendered(this),window.markdownViewer=this}},{key:"componentWillReceiveProps",value:function(e){this.props.markdownContent!==e.markdownContent&&this.deserializeValue(e.markdownContent)}},{key:"componentWillUnmount",value:function(){window.markdownViewer=null}},{key:"render",value:function(){var e=this.state.value;return e?h.a.createElement(p.Fragment,null,h.a.createElement(Zs,{value:e}),this.props.showTOC&&h.a.createElement("div",{className:"seafile-markdown-outline"},h.a.createElement(Jo,{document:e,isViewer:!1,editor:this,activeTitleIndex:this.props.activeTitleIndex}))):null}}]),t}(h.a.Component);Qs.defaultProps={activeTitleIndex:0,markdownContent:"",showTOC:!0,isShared:!1};var el=Qs,tl=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleClick=function(e){n.props.disabled||(n.getContainer().contains(e.target)?n.toggle():n.state.dropdownOpen&&n.setState({dropdownOpen:!n.state.dropdownOpen}))},n.toggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.state={dropdownOpen:!1},n}return S(t,e),_(t,[{key:"getContainer",value:function(){return m.a.findDOMNode(this)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"header-list"},h.a.createElement("div",{className:"list-body "+(this.props.disabled?"":"header-list-body-hover")+(this.state.dropdownOpen?" header-list-body-highlight":"")},h.a.createElement("div",{className:"list-title"},this.props.t(this.props.headerType)),h.a.createElement("div",{className:"list-caret"},h.a.createElement("i",{className:this.state.dropdownOpen?"iconfont icon-caret-up":"iconfont icon-drop-down"}))),this.state.dropdownOpen&&h.a.createElement("div",{className:"list-dropdown"},h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"paragraph")}},this.props.t("paragraph")),h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"header_one")}},this.props.t("header_one")),h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"header_two")}},this.props.t("header_two")),h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"header_three")}},this.props.t("header_three")),h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"header_four")}},this.props.t("header_four")),h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"header_five")}},this.props.t("header_five")),h.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickHeader(t,"header_six")}},this.props.t("header_six"))))}}]),t}(h.a.PureComponent),nl=Object(I.d)("seafile-editor")(tl),al=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"btn-group "+this.props.className,role:"group"},this.props.children)}}]),t}(h.a.PureComponent),rl=n(139),il=n.n(rl),ol=n(100),sl=n.n(ol),ll=n(72),cl=n(101),ul=n.n(cl);function dl(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function pl(e){document.body.style.paddingRight=e>0?e+"px":null}function hl(){return document.body.clientWidth<window.innerWidth}function fl(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function ml(){var e=dl(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;hl()&&pl(n+e)}var gl=void 0;function vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gl;return t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function yl(e,t){var n={};return Object.keys(e).forEach((function(a){-1===t.indexOf(a)&&(n[a]=e[a])})),n}function _l(e,t){for(var n=Array.isArray(t)?t:[t],a=n.length,r=void 0,i={};a>0;)i[r=n[a-=1]]=e[r];return i}var bl={};function wl(e){bl[e]||("undefined"!==typeof console&&console.error(e),bl[e]=!0)}function El(e,t){return function(n,a,r){null!==n[a]&&"undefined"!==typeof n[a]&&wl('"'+a+'" property of "'+r+'" has been deprecated.\n'+t);for(var i=arguments.length,o=Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return e.apply(void 0,[n,a,r].concat(o))}}function Tl(e,t,n){if(!(e[t]instanceof Element))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}function xl(e){if(il()(e))return e();if("string"===typeof e&&document){var t=document.querySelector(e);if(null===t&&(t=document.querySelector("#"+e)),null===t)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}var Cl={Fade:150,Collapse:350,Modal:300,Carousel:600},Sl=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],kl={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},Ol={esc:27,space:32,tab:9,up:38,down:40},Ml=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ll=!("undefined"===typeof window||!window.document||!window.document.createElement),Dl=(Object.freeze({getScrollbarWidth:dl,setScrollbarWidth:pl,isBodyOverflowing:hl,getOriginalBodyPadding:fl,conditionallyUpdateScrollbar:ml,setGlobalCssModule:function(e){gl=e},mapToCssModules:vl,omit:yl,pick:_l,warnOnce:wl,deprecated:El,DOMElement:Tl,getTarget:xl,TransitionTimeouts:Cl,TransitionPropTypeKeys:Sl,TransitionStatuses:kl,keyCodes:Ol,PopperPlacements:Ml,canUseDOM:Ll}),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),Rl=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Nl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Il=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pl=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Yl=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},Fl=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},jl={tag:z.a.oneOfType([z.a.func,z.a.string]),fluid:z.a.bool,className:z.a.string,cssModule:z.a.object},Ul=function(e){var t=e.className,n=e.cssModule,a=e.fluid,r=e.tag,i=Yl(e,["className","cssModule","fluid","tag"]),o=vl(ie()(t,a?"container-fluid":"container"),n);return h.a.createElement(r,Al({},i,{className:o}))};Ul.propTypes=jl,Ul.defaultProps={tag:"div"};var Hl={tag:z.a.oneOfType([z.a.func,z.a.string]),noGutters:z.a.bool,className:z.a.string,cssModule:z.a.object},Bl=function(e){var t=e.className,n=e.cssModule,a=e.noGutters,r=e.tag,i=Yl(e,["className","cssModule","noGutters","tag"]),o=vl(ie()(t,a?"no-gutters":null,"row"),n);return h.a.createElement(r,Al({},i,{className:o}))};Bl.propTypes=Hl,Bl.defaultProps={tag:"div"};var Vl=z.a.oneOfType([z.a.number,z.a.string]),Gl=z.a.oneOfType([z.a.bool,z.a.number,z.a.string,z.a.shape({size:z.a.oneOfType([z.a.bool,z.a.number,z.a.string]),push:El(Vl,'Please use the prop "order"'),pull:El(Vl,'Please use the prop "order"'),order:Vl,offset:Vl})]),Wl={tag:z.a.oneOfType([z.a.func,z.a.string]),xs:Gl,sm:Gl,md:Gl,lg:Gl,xl:Gl,className:z.a.string,cssModule:z.a.object,widths:z.a.array},zl={tag:"div",widths:["xs","sm","md","lg","xl"]},ql=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},Kl=function(e){var t=e.className,n=e.cssModule,a=e.widths,r=e.tag,i=Yl(e,["className","cssModule","widths","tag"]),o=[];a.forEach((function(t,a){var r=e[t];if(delete i[t],r||""===r){var s=!a;if(sl()(r)){var l,c=s?"-":"-"+t+"-",u=ql(s,t,r.size);o.push(vl(ie()((Il(l={},u,r.size||""===r.size),Il(l,"order"+c+r.order,r.order||0===r.order),Il(l,"offset"+c+r.offset,r.offset||0===r.offset),l)),n))}else{var d=ql(s,t,r);o.push(d)}}})),o.length||o.push("col");var s=vl(ie()(t,o),n);return h.a.createElement(r,Al({},i,{className:s}))};Kl.propTypes=Wl,Kl.defaultProps=zl;var Xl={light:z.a.bool,dark:z.a.bool,inverse:El(z.a.bool,'Please use the prop "dark"'),full:z.a.bool,fixed:z.a.string,sticky:z.a.string,color:z.a.string,role:z.a.string,tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object,toggleable:El(z.a.oneOfType([z.a.bool,z.a.string]),'Please use the prop "expand"'),expand:z.a.oneOfType([z.a.bool,z.a.string])},Jl={xs:"sm",sm:"md",md:"lg",lg:"xl"},Zl=function(e){var t,n=e.toggleable,a=e.expand,r=e.className,i=e.cssModule,o=e.light,s=e.dark,l=e.inverse,c=e.fixed,u=e.sticky,d=e.color,p=e.tag,f=Yl(e,["toggleable","expand","className","cssModule","light","dark","inverse","fixed","sticky","color","tag"]),m=vl(ie()(r,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(a)||function(e){return void 0!==e&&"xl"!==e&&(!1===e?"navbar-expand":"navbar-expand-"+(!0===e?"sm":Jl[e]||e))}(n),(Il(t={"navbar-light":o,"navbar-dark":l||s},"bg-"+d,d),Il(t,"fixed-"+c,c),Il(t,"sticky-"+u,u),t)),i);return h.a.createElement(p,Al({},f,{className:m}))};Zl.propTypes=Xl,Zl.defaultProps={tag:"nav",expand:!1};var $l={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Ql=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"navbar-brand"),n);return h.a.createElement(a,Al({},r,{className:i}))};Ql.propTypes=$l,Ql.defaultProps={tag:"a"};var ec={tag:z.a.oneOfType([z.a.func,z.a.string]),type:z.a.string,className:z.a.string,cssModule:z.a.object,children:z.a.node},tc=function(e){var t=e.className,n=e.cssModule,a=e.children,r=e.tag,i=Yl(e,["className","cssModule","children","tag"]),o=vl(ie()(t,"navbar-toggler"),n);return h.a.createElement(r,Al({},i,{className:o}),a||h.a.createElement("span",{className:vl("navbar-toggler-icon",n)}))};tc.propTypes=ec,tc.defaultProps={tag:"button",type:"button"};var nc={tabs:z.a.bool,pills:z.a.bool,vertical:z.a.oneOfType([z.a.bool,z.a.string]),horizontal:z.a.string,justified:z.a.bool,fill:z.a.bool,navbar:z.a.bool,card:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},ac=function(e){var t=e.className,n=e.cssModule,a=e.tabs,r=e.pills,i=e.vertical,o=e.horizontal,s=e.justified,l=e.fill,c=e.navbar,u=e.card,d=e.tag,p=Yl(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),f=vl(ie()(t,c?"navbar-nav":"nav",!!o&&"justify-content-"+o,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(i),{"nav-tabs":a,"card-header-tabs":u&&a,"nav-pills":r,"card-header-pills":u&&r,"nav-justified":s,"nav-fill":l}),n);return h.a.createElement(d,Al({},p,{className:f}))};ac.propTypes=nc,ac.defaultProps={tag:"ul",vertical:!1};var rc={tag:z.a.oneOfType([z.a.func,z.a.string]),active:z.a.bool,className:z.a.string,cssModule:z.a.object},ic=function(e){var t=e.className,n=e.cssModule,a=e.active,r=e.tag,i=Yl(e,["className","cssModule","active","tag"]),o=vl(ie()(t,"nav-item",!!a&&"active"),n);return h.a.createElement(r,Al({},i,{className:o}))};ic.propTypes=rc,ic.defaultProps={tag:"li"};var oc={disabled:z.a.bool,dropup:El(z.a.bool,'Please use the prop "direction" with the value "up".'),direction:z.a.oneOf(["up","down","left","right"]),group:z.a.bool,isOpen:z.a.bool,nav:z.a.bool,active:z.a.bool,addonType:z.a.oneOfType([z.a.bool,z.a.oneOf(["prepend","append"])]),size:z.a.string,tag:z.a.string,toggle:z.a.func,children:z.a.node,className:z.a.string,cssModule:z.a.object,inNavbar:z.a.bool},sc={toggle:z.a.func.isRequired,isOpen:z.a.bool.isRequired,direction:z.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:z.a.bool.isRequired},lc=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addEvents=n.addEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.removeEvents=n.removeEvents.bind(n),n.toggle=n.toggle.bind(n),n}return Pl(t,e),Nl(t,[{key:"getChildContext",value:function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"getContainer",value:function(){return m.a.findDOMNode(this)}},{key:"addEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))}},{key:"removeEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))}},{key:"handleDocumentClick",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===Ol.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==Ol.tab)&&this.toggle(e)}}},{key:"handleKeyDown",value:function(e){if(!(-1===[Ol.esc,Ol.up,Ol.down,Ol.space].indexOf(e.which)||/button/i.test(e.target.tagName)&&e.which===Ol.space||/input|textarea/i.test(e.target.tagName))&&(e.preventDefault(),!this.props.disabled)){var t=this.getContainer();if(e.which===Ol.space&&this.props.isOpen&&t!==e.target&&e.target.click(),e.which===Ol.esc||!this.props.isOpen)return this.toggle(e),void t.querySelector("[aria-expanded]").focus();var n=vl("dropdown-menu",this.props.cssModule),a=vl("dropdown-item",this.props.cssModule),r=vl("disabled",this.props.cssModule),i=t.querySelectorAll("."+n+" ."+a+":not(."+r+")");if(i.length){for(var o=-1,s=0;s<i.length;s+=1)if(i[s]===e.target){o=s;break}e.which===Ol.up&&o>0&&(o-=1),e.which===Ol.down&&o<i.length-1&&(o+=1),o<0&&(o=0),i[o].focus()}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){var e,t=yl(this.props,["toggle","disabled","inNavbar","direction"]),n=t.className,a=t.cssModule,r=t.dropup,i=t.isOpen,o=t.group,s=t.size,l=t.nav,c=t.active,u=t.addonType,d=Yl(t,["className","cssModule","dropup","isOpen","group","size","nav","active","addonType"]),p="down"===this.props.direction&&r?"up":this.props.direction;d.tag=d.tag||(l?"li":"div");var f=vl(ie()(n,"down"!==p&&"drop"+p,!(!l||!c)&&"active",(Il(e={},"input-group-"+u,u),Il(e,"btn-group",o),Il(e,"btn-group-"+s,!!s),Il(e,"dropdown",!o&&!u),Il(e,"show",i),Il(e,"nav-item",l),e)),a);return h.a.createElement(ll.Manager,Al({},d,{className:f,onKeyDown:this.handleKeyDown}))}}]),t}(h.a.Component);lc.propTypes=oc,lc.defaultProps={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1},lc.childContextTypes=sc;var cc={tag:z.a.oneOfType([z.a.func,z.a.string]),innerRef:z.a.oneOfType([z.a.func,z.a.string]),disabled:z.a.bool,active:z.a.bool,className:z.a.string,cssModule:z.a.object,onClick:z.a.func,href:z.a.any},uc=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return Pl(t,e),Nl(t,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.active,r=e.tag,i=e.innerRef,o=Yl(e,["className","cssModule","active","tag","innerRef"]),s=vl(ie()(t,"nav-link",{disabled:o.disabled,active:a}),n);return h.a.createElement(r,Al({},o,{ref:i,onClick:this.onClick,className:s}))}}]),t}(h.a.Component);uc.propTypes=cc,uc.defaultProps={tag:"a"};var dc={tag:z.a.string,className:z.a.string,cssModule:z.a.object},pc=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"breadcrumb"),n);return h.a.createElement(a,Al({},r,{className:i}))};pc.propTypes=dc,pc.defaultProps={tag:"ol"};var hc={tag:z.a.oneOfType([z.a.func,z.a.string]),active:z.a.bool,className:z.a.string,cssModule:z.a.object},fc=function(e){var t=e.className,n=e.cssModule,a=e.active,r=e.tag,i=Yl(e,["className","cssModule","active","tag"]),o=vl(ie()(t,!!a&&"active","breadcrumb-item"),n);return h.a.createElement(r,Al({},i,{className:o}))};fc.propTypes=hc,fc.defaultProps={tag:"li"};var mc={active:z.a.bool,block:z.a.bool,color:z.a.string,disabled:z.a.bool,outline:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),innerRef:z.a.oneOfType([z.a.func,z.a.string]),onClick:z.a.func,size:z.a.string,children:z.a.node,className:z.a.string,cssModule:z.a.object},gc=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return Pl(t,e),Nl(t,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.block,a=e.className,r=e.cssModule,i=e.color,o=e.outline,s=e.size,l=e.tag,c=e.innerRef,u=Yl(e,["active","block","className","cssModule","color","outline","size","tag","innerRef"]),d=vl(ie()(a,"btn","btn"+(o?"-outline":"")+"-"+i,!!s&&"btn-"+s,!!n&&"btn-block",{active:t,disabled:this.props.disabled}),r);return u.href&&"button"===l&&(l="a"),h.a.createElement(l,Al({type:"button"===l&&u.onClick?"button":void 0},u,{className:d,ref:c,onClick:this.onClick}))}}]),t}(h.a.Component);gc.propTypes=mc,gc.defaultProps={color:"secondary",tag:"button"};var vc={children:z.a.node},yc=function(e){return h.a.createElement(lc,Al({group:!0},e))};yc.propTypes=vc;var _c={tag:z.a.oneOfType([z.a.func,z.a.string]),"aria-label":z.a.string,className:z.a.string,cssModule:z.a.object,role:z.a.string,size:z.a.string,vertical:z.a.bool},bc=function(e){var t=e.className,n=e.cssModule,a=e.size,r=e.vertical,i=e.tag,o=Yl(e,["className","cssModule","size","vertical","tag"]),s=vl(ie()(t,!!a&&"btn-group-"+a,r?"btn-group-vertical":"btn-group"),n);return h.a.createElement(i,Al({},o,{className:s}))};bc.propTypes=_c,bc.defaultProps={tag:"div",role:"group"};var wc={tag:z.a.oneOfType([z.a.func,z.a.string]),"aria-label":z.a.string,className:z.a.string,cssModule:z.a.object,role:z.a.string},Ec=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"btn-toolbar"),n);return h.a.createElement(a,Al({},r,{className:i}))};Ec.propTypes=wc,Ec.defaultProps={tag:"div",role:"toolbar"};var Tc={children:z.a.node,active:z.a.bool,disabled:z.a.bool,divider:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),header:z.a.bool,onClick:z.a.func,className:z.a.string,cssModule:z.a.object,toggle:z.a.bool},xc={toggle:z.a.func},Cc=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.getTabIndex=n.getTabIndex.bind(n),n}return Pl(t,e),Nl(t,[{key:"onClick",value:function(e){this.props.disabled||this.props.header||this.props.divider?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))}},{key:"getTabIndex",value:function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"}},{key:"render",value:function(){var e=this.getTabIndex(),t=yl(this.props,["toggle"]),n=t.className,a=t.cssModule,r=t.divider,i=t.tag,o=t.header,s=t.active,l=Yl(t,["className","cssModule","divider","tag","header","active"]),c=vl(ie()(n,{disabled:l.disabled,"dropdown-item":!r&&!o,active:s,"dropdown-header":o,"dropdown-divider":r}),a);return"button"===i&&(o?i="h6":r?i="div":l.href&&(i="a")),h.a.createElement(i,Al({type:"button"===i&&(l.onClick||this.props.toggle)?"button":void 0},l,{tabIndex:e,className:c,onClick:this.onClick}))}}]),t}(h.a.Component);Cc.propTypes=Tc,Cc.defaultProps={tag:"button",toggle:!0},Cc.contextTypes=xc;var Sc={tag:z.a.string,children:z.a.node.isRequired,right:z.a.bool,flip:z.a.bool,className:z.a.string,cssModule:z.a.object},kc={isOpen:z.a.bool.isRequired,direction:z.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:z.a.bool.isRequired},Oc={flip:{enabled:!1}},Mc={up:"top",left:"left",right:"right",down:"bottom"},Lc=function(e,t){var n=e.className,a=e.cssModule,r=e.right,i=e.tag,o=e.flip,s=Yl(e,["className","cssModule","right","tag","flip"]),l=vl(ie()(n,"dropdown-menu",{"dropdown-menu-right":r,show:t.isOpen}),a),c=i;if(t.isOpen&&!t.inNavbar){c=ll.Popper;var u=Mc[t.direction]||"bottom",d=r?"end":"start";s.placement=u+"-"+d,s.component=i,s.modifiers=o?void 0:Oc}return h.a.createElement(c,Al({tabIndex:"-1",role:"menu"},s,{"aria-hidden":!t.isOpen,className:l}))};Lc.propTypes=Sc,Lc.defaultProps={tag:"div",flip:!0},Lc.contextTypes=kc;var Dc={caret:z.a.bool,color:z.a.string,children:z.a.node,className:z.a.string,cssModule:z.a.object,disabled:z.a.bool,onClick:z.a.func,"aria-haspopup":z.a.bool,split:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),nav:z.a.bool},Rc={isOpen:z.a.bool.isRequired,toggle:z.a.func.isRequired,inNavbar:z.a.bool.isRequired},Nc=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return Pl(t,e),Nl(t,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.color,a=e.cssModule,r=e.caret,i=e.split,o=e.nav,s=e.tag,l=Yl(e,["className","color","cssModule","caret","split","nav","tag"]),c=l["aria-label"]||"Toggle Dropdown",u=vl(ie()(t,{"dropdown-toggle":r||i,"dropdown-toggle-split":i,"nav-link":o}),a),d=l.children||h.a.createElement("span",{className:"sr-only"},c),p=void 0;return o&&!s?(p="a",l.href="#"):s?p=s:(p=gc,l.color=n,l.cssModule=a),this.context.inNavbar?h.a.createElement(p,Al({},l,{className:u,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:d})):h.a.createElement(ll.Target,Al({},l,{className:u,component:p,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:d}))}}]),t}(h.a.Component);function Ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ac(e,t){return e(t={exports:{}},t.exports),t.exports}Nc.propTypes=Dc,Nc.defaultProps={"aria-haspopup":!0,color:"secondary"},Nc.contextTypes=Rc,Ic(Ac((function(e,t){t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var n,a=(n=z.a)&&n.__esModule?n:{default:n};t.timeoutsShape=a.default.oneOfType([a.default.number,a.default.shape({enter:a.default.number,exit:a.default.number}).isRequired]),t.classNamesShape=a.default.oneOfType([a.default.string,a.default.shape({enter:a.default.string,exit:a.default.string,active:a.default.string}),a.default.shape({enter:a.default.string,enterActive:a.default.string,exit:a.default.string,exitActive:a.default.string})])})));var Pc=Ic(Ac((function(e,t){t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(z.a),a=i(h.a),r=i(m.a);function i(e){return e&&e.__esModule?e:{default:e}}var o=t.UNMOUNTED="unmounted",s=t.EXITED="exited",l=t.ENTERING="entering",c=t.ENTERED="entered",u=t.EXITING="exiting",d=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":Dl(t))&&"function"!==typeof t?e:t}(this,e.call(this,n,a)),i=a.transitionGroup,u=i&&!i.isMounting?n.enter:n.appear,d=void 0;return r.nextStatus=null,n.in?u?(d=s,r.nextStatus=l):d=c:d=n.unmountOnExit||n.mountOnEnter?o:s,r.state={status:d},r.nextCallback=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":Dl(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=(this.pendingState||this.state).status;e.in?(t===o&&this.setState({status:s}),t!==l&&t!==c&&(this.nextStatus=l)):t!==l&&t!==c||(this.nextStatus=u)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,a=void 0;return t=n=a=e,null!=e&&"number"!==typeof e&&(t=e.exit,n=e.enter,a=e.appear),{exit:t,enter:n,appear:a}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=r.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===s&&this.setState({status:o})},t.prototype.performEnter=function(e,t){var n=this,a=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts();t||a?(this.props.onEnter(e,r),this.safeSetState({status:l},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,i.enter,(function(){n.safeSetState({status:c},(function(){n.props.onEntered(e,r)}))}))}))):this.safeSetState({status:c},(function(){n.props.onEntered(e)}))},t.prototype.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:u},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:s},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:s},(function(){t.props.onExited(e)}))},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,(function(){n.pendingState=null,t()}))},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===o)return null;var t=this.props,n=t.children,r=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var i=a.default.Children.only(n);return a.default.cloneElement(i,r)},t}(a.default.Component);function p(){}d.contextTypes={transitionGroup:n.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4,t.default=d}))),Yc=Al({},Pc.propTypes,{children:z.a.oneOfType([z.a.arrayOf(z.a.node),z.a.node]),tag:z.a.oneOfType([z.a.string,z.a.func]),baseClass:z.a.string,baseClassActive:z.a.string,className:z.a.string,cssModule:z.a.object}),Fc=Al({},Pc.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:Cl.Fade,appear:!0,enter:!0,exit:!0,in:!0});function jc(e){var t=e.tag,n=e.baseClass,a=e.baseClassActive,r=e.className,i=e.cssModule,o=e.children,s=Yl(e,["tag","baseClass","baseClassActive","className","cssModule","children"]),l=_l(s,Sl),c=yl(s,Sl);return h.a.createElement(Pc,l,(function(e){var s="entered"===e,l=vl(ie()(r,n,s&&a),i);return h.a.createElement(t,Al({className:l},c),o)}))}jc.propTypes=Yc,jc.defaultProps=Fc;var Uc={color:z.a.string,pill:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),children:z.a.node,className:z.a.string,cssModule:z.a.object},Hc=function(e){var t=e.className,n=e.cssModule,a=e.color,r=e.pill,i=e.tag,o=Yl(e,["className","cssModule","color","pill","tag"]),s=vl(ie()(t,"badge","badge-"+a,!!r&&"badge-pill"),n);return o.href&&"span"===i&&(i="a"),h.a.createElement(i,Al({},o,{className:s}))};Hc.propTypes=Uc,Hc.defaultProps={color:"secondary",pill:!1,tag:"span"};var Bc={tag:z.a.oneOfType([z.a.func,z.a.string]),inverse:z.a.bool,color:z.a.string,block:El(z.a.bool,'Please use the props "body"'),body:z.a.bool,outline:z.a.bool,className:z.a.string,cssModule:z.a.object},Vc=function(e){var t=e.className,n=e.cssModule,a=e.color,r=e.block,i=e.body,o=e.inverse,s=e.outline,l=e.tag,c=Yl(e,["className","cssModule","color","block","body","inverse","outline","tag"]),u=vl(ie()(t,"card",!!o&&"text-white",!(!r&&!i)&&"card-body",!!a&&(s?"border":"bg")+"-"+a),n);return h.a.createElement(l,Al({},c,{className:u}))};Vc.propTypes=Bc,Vc.defaultProps={tag:"div"};var Gc={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Wc=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-group"),n);return h.a.createElement(a,Al({},r,{className:i}))};Wc.propTypes=Gc,Wc.defaultProps={tag:"div"};var zc={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},qc=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-deck"),n);return h.a.createElement(a,Al({},r,{className:i}))};qc.propTypes=zc,qc.defaultProps={tag:"div"};var Kc={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Xc=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-columns"),n);return h.a.createElement(a,Al({},r,{className:i}))};Xc.propTypes=Kc,Xc.defaultProps={tag:"div"};var Jc={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Zc=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-body"),n);return h.a.createElement(a,Al({},r,{className:i}))};Zc.propTypes=Jc,Zc.defaultProps={tag:"div"};var $c={tag:z.a.oneOfType([z.a.func,z.a.string]),innerRef:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Qc=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=e.innerRef,i=Yl(e,["className","cssModule","tag","innerRef"]),o=vl(ie()(t,"card-link"),n);return h.a.createElement(a,Al({},i,{ref:r,className:o}))};Qc.propTypes=$c,Qc.defaultProps={tag:"a"};var eu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},tu=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-footer"),n);return h.a.createElement(a,Al({},r,{className:i}))};tu.propTypes=eu,tu.defaultProps={tag:"div"};var nu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},au=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-header"),n);return h.a.createElement(a,Al({},r,{className:i}))};au.propTypes=nu,au.defaultProps={tag:"div"};var ru={tag:z.a.oneOfType([z.a.func,z.a.string]),top:z.a.bool,bottom:z.a.bool,className:z.a.string,cssModule:z.a.object},iu=function(e){var t=e.className,n=e.cssModule,a=e.top,r=e.bottom,i=e.tag,o=Yl(e,["className","cssModule","top","bottom","tag"]),s="card-img";a&&(s="card-img-top"),r&&(s="card-img-bottom");var l=vl(ie()(t,s),n);return h.a.createElement(i,Al({},o,{className:l}))};iu.propTypes=ru,iu.defaultProps={tag:"img"};var ou={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},su=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-img-overlay"),n);return h.a.createElement(a,Al({},r,{className:i}))};su.propTypes=ou,su.defaultProps={tag:"div"};var lu=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={startAnimation:!1},n.onEnter=n.onEnter.bind(n),n.onEntering=n.onEntering.bind(n),n.onExit=n.onExit.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return Pl(t,e),Nl(t,[{key:"onEnter",value:function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)}},{key:"onEntering",value:function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n}},{key:"onExit",value:function(e){this.setState({startAnimation:!1}),this.props.onExit(e)}},{key:"onExiting",value:function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)}},{key:"onExited",value:function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.in,a=t.children,r=t.cssModule,i=t.slide,o=t.tag,s=t.className,l=Yl(t,["in","children","cssModule","slide","tag","className"]);return h.a.createElement(Pc,Al({},l,{enter:i,exit:i,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=e.context.direction,i=t===kl.ENTERED||t===kl.EXITING,l=(t===kl.ENTERING||t===kl.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),c=t===kl.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),u=vl(ie()(s,"carousel-item",i&&"active",l,c),r);return h.a.createElement(o,{className:u},a)}))}}]),t}(h.a.Component);lu.propTypes=Al({},Pc.propTypes,{tag:z.a.oneOfType([z.a.func,z.a.string]),in:z.a.bool,cssModule:z.a.object,children:z.a.node,slide:z.a.bool,className:z.a.string}),lu.defaultProps=Al({},Pc.defaultProps,{tag:"div",timeout:Cl.Carousel,slide:!0}),lu.contextTypes={direction:z.a.string};var cu=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyPress=n.handleKeyPress.bind(n),n.renderItems=n.renderItems.bind(n),n.hoverStart=n.hoverStart.bind(n),n.hoverEnd=n.hoverEnd.bind(n),n.state={direction:"right",indicatorClicked:!1},n}return Pl(t,e),Nl(t,[{key:"getChildContext",value:function(){return{direction:this.state.direction}}},{key:"componentDidMount",value:function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)}},{key:"componentWillReceiveProps",value:function(e){this.setInterval(e),this.props.activeIndex+1===e.activeIndex?this.setState({direction:"right"}):this.props.activeIndex-1===e.activeIndex?this.setState({direction:"left"}):this.props.activeIndex>e.activeIndex?this.setState({direction:this.state.indicatorClicked?"left":"right"}):this.props.activeIndex!==e.activeIndex&&this.setState({direction:this.state.indicatorClicked?"right":"left"}),this.setState({indicatorClicked:!1})}},{key:"componentWillUnmount",value:function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.clearInterval(),e.interval&&(this.cycleInterval=setInterval((function(){e.next()}),parseInt(e.interval,10)))}))},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.cycleInterval)}))},{key:"hoverStart",value:function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)}},{key:"hoverEnd",value:function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)}},{key:"handleKeyPress",value:function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())}},{key:"renderItems",value:function(e,t){var n=this,a=this.props.slide;return h.a.createElement("div",{role:"listbox",className:t},e.map((function(e,t){var r=t===n.props.activeIndex;return h.a.cloneElement(e,{in:r,slide:a})})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.cssModule,r=t.slide,i=t.className,o=vl(ie()(i,"carousel",r&&"slide"),a),s=vl(ie()("carousel-inner"),a);if(n.every((function(e){return e.type===lu})))return h.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(n,s));if(n[0]instanceof Array){var l=n[0],c=n[1],u=n[2];return h.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(l,s),c,u)}var d=n[0],p=h.a.cloneElement(d,{onClickHandler:function(t){"function"===typeof d.props.onClickHandler&&e.setState({indicatorClicked:!0},(function(){return d.props.onClickHandler(t)}))}}),f=n[1],m=n[2],g=n[3];return h.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},p,this.renderItems(f,s),m,g)}}]),t}(h.a.Component);cu.propTypes={activeIndex:z.a.number,next:z.a.func.isRequired,previous:z.a.func.isRequired,keyboard:z.a.bool,pause:z.a.oneOf(["hover",!1]),ride:z.a.oneOf(["carousel"]),interval:z.a.oneOfType([z.a.number,z.a.string,z.a.bool]),children:z.a.array,mouseEnter:z.a.func,mouseLeave:z.a.func,slide:z.a.bool,cssModule:z.a.object,className:z.a.string},cu.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0},cu.childContextTypes={direction:z.a.string};var uu=function(e){var t=e.direction,n=e.onClickHandler,a=e.cssModule,r=e.directionText,i=e.className,o=vl(ie()(i,"carousel-control-"+t),a),s=vl(ie()("carousel-control-"+t+"-icon"),a),l=vl(ie()("sr-only"),a);return h.a.createElement("a",{className:o,role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},h.a.createElement("span",{className:s,"aria-hidden":"true"}),h.a.createElement("span",{className:l},r||t))};uu.propTypes={direction:z.a.oneOf(["prev","next"]).isRequired,onClickHandler:z.a.func.isRequired,cssModule:z.a.object,directionText:z.a.string,className:z.a.string};var du=function(e){var t=e.items,n=e.activeIndex,a=e.cssModule,r=e.onClickHandler,i=e.className,o=vl(ie()(i,"carousel-indicators"),a),s=t.map((function(e,t){var i=vl(ie()({active:n===t}),a);return h.a.createElement("li",{key:""+(e.key||e.src)+e.caption+e.altText,onClick:function(e){e.preventDefault(),r(t)},className:i})}));return h.a.createElement("ol",{className:o},s)};du.propTypes={items:z.a.array.isRequired,activeIndex:z.a.number.isRequired,cssModule:z.a.object,onClickHandler:z.a.func.isRequired,className:z.a.string};var pu=function(e){var t=e.captionHeader,n=e.captionText,a=e.cssModule,r=e.className,i=vl(ie()(r,"carousel-caption","d-none","d-md-block"),a);return h.a.createElement("div",{className:i},h.a.createElement("h3",null,t),h.a.createElement("p",null,n))};pu.propTypes={captionHeader:z.a.string,captionText:z.a.string.isRequired,cssModule:z.a.object,className:z.a.string};var hu={items:z.a.array.isRequired,indicators:z.a.bool,controls:z.a.bool,autoPlay:z.a.bool,activeIndex:z.a.number,next:z.a.func,previous:z.a.func,goToIndex:z.a.func},fu=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.animating=!1,n.state={activeIndex:0},n.next=n.next.bind(n),n.previous=n.previous.bind(n),n.goToIndex=n.goToIndex.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return Pl(t,e),Nl(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoPlay,a=t.indicators,r=t.controls,i=t.items,o=t.goToIndex,s=Yl(t,["autoPlay","indicators","controls","items","goToIndex"]),l=this.state.activeIndex,c=i.map((function(t){return h.a.createElement(lu,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},h.a.createElement("img",{src:t.src,alt:t.altText}),h.a.createElement(pu,{captionText:t.caption,captionHeader:t.caption}))}));return h.a.createElement(cu,Al({activeIndex:l,next:this.next,previous:this.previous,ride:n?"carousel":void 0},s),a&&h.a.createElement(du,{items:i,activeIndex:s.activeIndex||l,onClickHandler:o||this.goToIndex}),c,r&&h.a.createElement(uu,{direction:"prev",directionText:"Previous",onClickHandler:s.previous||this.previous}),r&&h.a.createElement(uu,{direction:"next",directionText:"Next",onClickHandler:s.next||this.next}))}}]),t}(p.Component);fu.propTypes=hu,fu.defaultProps={controls:!0,indicators:!0,autoPlay:!0};var mu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},gu=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-subtitle"),n);return h.a.createElement(a,Al({},r,{className:i}))};gu.propTypes=mu,gu.defaultProps={tag:"h6"};var vu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},yu=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-text"),n);return h.a.createElement(a,Al({},r,{className:i}))};yu.propTypes=vu,yu.defaultProps={tag:"p"};var _u={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},bu=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"card-title"),n);return h.a.createElement(a,Al({},r,{className:i}))};bu.propTypes=_u,bu.defaultProps={tag:"h5"};var wu={children:z.a.node.isRequired,className:z.a.string,placement:z.a.string,placementPrefix:z.a.string,hideArrow:z.a.bool,tag:z.a.string,isOpen:z.a.bool.isRequired,cssModule:z.a.object,offset:z.a.oneOfType([z.a.string,z.a.number]),fallbackPlacement:z.a.oneOfType([z.a.string,z.a.array]),flip:z.a.bool,container:z.a.oneOfType([z.a.string,z.a.func,Tl]),target:z.a.oneOfType([z.a.string,z.a.func,Tl]).isRequired,modifiers:z.a.object},Eu={popperManager:z.a.object.isRequired},Tu=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlacementChange=n.handlePlacementChange.bind(n),n.setTargetNode=n.setTargetNode.bind(n),n.getTargetNode=n.getTargetNode.bind(n),n.state={},n}return Pl(t,e),Nl(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this.setTargetNode,getTargetNode:this.getTargetNode}}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen?this.handleProps():this._element&&this.renderIntoSubtree()}},{key:"componentWillUnmount",value:function(){this.hide()}},{key:"setTargetNode",value:function(e){this.targetNode=e}},{key:"getTargetNode",value:function(){return this.targetNode}},{key:"getContainerNode",value:function(){return xl(this.props.container)}},{key:"handlePlacementChange",value:function(e){return this.state.placement!==e.placement&&this.setState({placement:e.placement}),e}},{key:"handleProps",value:function(){"inline"!==this.props.container&&(this.props.isOpen?this.show():this.hide())}},{key:"hide",value:function(){this._element&&(this.getContainerNode().removeChild(this._element),m.a.unmountComponentAtNode(this._element),this._element=null)}},{key:"show",value:function(){this._element=document.createElement("div"),this.getContainerNode().appendChild(this._element),this.renderIntoSubtree(),this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()}},{key:"renderIntoSubtree",value:function(){m.a.unstable_renderSubtreeIntoContainer(this,this.renderChildren(),this._element)}},{key:"renderChildren",value:function(){var e=this.props,t=e.cssModule,n=e.children,a=(e.isOpen,e.flip),r=(e.target,e.offset),i=e.fallbackPlacement,o=e.placementPrefix,s=e.hideArrow,l=e.className,c=e.tag,u=(e.container,e.modifiers),d=Yl(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","hideArrow","className","tag","container","modifiers"]),p=vl("arrow",t),f=(this.state.placement||d.placement).split("-")[0],m=vl(ie()(l,o?o+"-"+f:f),this.props.cssModule),g=Al({offset:{offset:r},flip:{enabled:a,behavior:i},update:{enabled:!0,order:950,fn:this.handlePlacementChange}},u);return h.a.createElement(ll.Popper,Al({modifiers:g},d,{component:c,className:m}),n,!s&&h.a.createElement(ll.Arrow,{className:p}))}},{key:"render",value:function(){return this.setTargetNode(xl(this.props.target)),"inline"===this.props.container&&this.props.isOpen?this.renderChildren():null}}]),t}(h.a.Component);Tu.propTypes=wu,Tu.defaultProps={placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{}},Tu.childContextTypes=Eu;var xu=function(e,t){return t.popperManager.setTargetNode(xl(e.target)),null};xu.contextTypes={popperManager:z.a.object.isRequired},xu.propTypes={target:z.a.oneOfType([z.a.string,z.a.func,Tl]).isRequired};var Cu={placement:z.a.oneOf(Ml),target:z.a.oneOfType([z.a.string,z.a.func,Tl]).isRequired,container:z.a.oneOfType([z.a.string,z.a.func,Tl]),isOpen:z.a.bool,disabled:z.a.bool,hideArrow:z.a.bool,className:z.a.string,innerClassName:z.a.string,placementPrefix:z.a.string,cssModule:z.a.object,toggle:z.a.func,delay:z.a.oneOfType([z.a.shape({show:z.a.number,hide:z.a.number}),z.a.number]),modifiers:z.a.object},Su={show:0,hide:0},ku={isOpen:!1,hideArrow:!1,placement:"right",placementPrefix:"bs-popover",delay:Su,toggle:function(){}},Ou=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addTargetEvents=n.addTargetEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.getRef=n.getRef.bind(n),n.toggle=n.toggle.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n}return Pl(t,e),Nl(t,[{key:"componentDidMount",value:function(){this._target=xl(this.props.target),this.handleProps()}},{key:"componentDidUpdate",value:function(){this.handleProps()}},{key:"componentWillUnmount",value:function(){this.clearShowTimeout(),this.clearHideTimeout(),this.removeTargetEvents()}},{key:"getRef",value:function(e){this._popover=e}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===("undefined"===typeof t?"undefined":Dl(t))?isNaN(t[e])?Su[e]:t[e]:t}},{key:"handleProps",value:function(){this.props.isOpen?this.show():this.hide()}},{key:"show",value:function(){this.clearHideTimeout(),this.addTargetEvents(),this.props.isOpen||(this.clearShowTimeout(),this._showTimeout=setTimeout(this.toggle,this.getDelay("show")))}},{key:"hide",value:function(){this.clearShowTimeout(),this.removeTargetEvents(),this.props.isOpen&&(this.clearHideTimeout(),this._hideTimeout=setTimeout(this.toggle,this.getDelay("hide")))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){e.target===this._target||this._target.contains(e.target)||e.target===this._popover||this._popover&&this._popover.contains(e.target)||(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&this.toggle(e))}},{key:"addTargetEvents",value:function(){var e=this;["click","touchstart"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))}},{key:"removeTargetEvents",value:function(){var e=this;["click","touchstart"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=yl(this.props,Object.keys(Cu)),t=vl(ie()("popover-inner",this.props.innerClassName),this.props.cssModule),n=vl(ie()("popover","show",this.props.className),this.props.cssModule);return h.a.createElement(Tu,{className:n,target:this.props.target,isOpen:this.props.isOpen,hideArrow:this.props.hideArrow,placement:this.props.placement,placementPrefix:this.props.placementPrefix,container:this.props.container,modifiers:this.props.modifiers},h.a.createElement("div",Al({},e,{className:t,ref:this.getRef})))}}]),t}(h.a.Component);Ou.propTypes=Cu,Ou.defaultProps=ku;var Mu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Lu=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"popover-header"),n);return h.a.createElement(a,Al({},r,{className:i}))};Lu.propTypes=Mu,Lu.defaultProps={tag:"h3"};var Du={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Ru=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"popover-body"),n);return h.a.createElement(a,Al({},r,{className:i}))};Ru.propTypes=Du,Ru.defaultProps={tag:"div"};var Nu={children:z.a.node,bar:z.a.bool,multi:z.a.bool,tag:z.a.string,value:z.a.oneOfType([z.a.string,z.a.number]),max:z.a.oneOfType([z.a.string,z.a.number]),animated:z.a.bool,striped:z.a.bool,color:z.a.string,className:z.a.string,barClassName:z.a.string,cssModule:z.a.object},Iu=function(e){var t=e.children,n=e.className,a=e.barClassName,r=e.cssModule,i=e.value,o=e.max,s=e.animated,l=e.striped,c=e.color,u=e.bar,d=e.multi,p=e.tag,f=Yl(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),m=ul()(i)/ul()(o)*100,g=vl(ie()(n,"progress"),r),v=vl(ie()("progress-bar",u&&n||a,s?"progress-bar-animated":null,c?"bg-"+c:null,l||s?"progress-bar-striped":null),r),y=d?t:h.a.createElement("div",{className:v,style:{width:m+"%"},role:"progressbar","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":o,children:t});return u?y:h.a.createElement(p,Al({},f,{className:g,children:y}))};Iu.propTypes=Nu,Iu.defaultProps={tag:"div",value:0,max:100};var Au={children:z.a.node.isRequired,node:z.a.any},Pu=function(e){function t(){return Rl(this,t),Fl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pl(t,e),Nl(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return Ll?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),m.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(h.a.Component);function Yu(){}Pu.propTypes=Au;var Fu=z.a.shape(jc.propTypes),ju={isOpen:z.a.bool,autoFocus:z.a.bool,centered:z.a.bool,size:z.a.string,toggle:z.a.func,keyboard:z.a.bool,role:z.a.string,labelledBy:z.a.string,backdrop:z.a.oneOfType([z.a.bool,z.a.oneOf(["static"])]),onEnter:z.a.func,onExit:z.a.func,onOpened:z.a.func,onClosed:z.a.func,children:z.a.node,className:z.a.string,wrapClassName:z.a.string,modalClassName:z.a.string,backdropClassName:z.a.string,contentClassName:z.a.string,external:z.a.node,fade:z.a.bool,cssModule:z.a.object,zIndex:z.a.oneOfType([z.a.number,z.a.string]),backdropTransition:Fu,modalTransition:Fu},Uu=Object.keys(ju),Hu={isOpen:!1,autoFocus:!0,centered:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Yu,onClosed:Yu,modalTransition:{timeout:Cl.Modal},backdropTransition:{mountOnEnter:!0,timeout:Cl.Fade}},Bu=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._element=null,n._originalBodyPadding=null,n.handleBackdropClick=n.handleBackdropClick.bind(n),n.handleEscape=n.handleEscape.bind(n),n.onOpened=n.onOpened.bind(n),n.onClosed=n.onClosed.bind(n),n.state={isOpen:e.isOpen},e.isOpen&&n.init(),n}return Pl(t,e),Nl(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter(),this.state.isOpen&&this.props.autoFocus&&this.setFocus(),this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){e.isOpen&&!this.props.isOpen&&this.setState({isOpen:e.isOpen})}},{key:"componentWillUpdate",value:function(e,t){t.isOpen&&!this.state.isOpen&&this.init()}},{key:"componentDidUpdate",value:function(e,t){this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus()}},{key:"componentWillUnmount",value:function(){this.props.onExit&&this.props.onExit(),this.state.isOpen&&this.destroy(),this._isMounted=!1}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||Yu)(e,t)}},{key:"onClosed",value:function(e){this.props.onClosed(),(this.props.modalTransition.onExited||Yu)(e),this.destroy(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()}},{key:"handleBackdropClick",value:function(e){if(e.stopPropagation(),this.props.isOpen&&!0===this.props.backdrop){var t=this._dialog;e.target&&!t.contains(e.target)&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleEscape",value:function(e){this.props.isOpen&&this.props.keyboard&&27===e.keyCode&&this.props.toggle&&this.props.toggle(e)}},{key:"init",value:function(){this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._originalBodyPadding=fl(),ml(),document.body.appendChild(this._element),this.bodyClassAdded||(document.body.className=ie()(document.body.className,vl("modal-open",this.props.cssModule)),this.bodyClassAdded=!0)}},{key:"destroy",value:function(){if(this._element&&(document.body.removeChild(this._element),this._element=null),this.bodyClassAdded){var e=vl("modal-open",this.props.cssModule),t=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(t," ").trim(),this.bodyClassAdded=!1}pl(this._originalBodyPadding)}},{key:"renderModalDialog",value:function(){var e,t=this,n=yl(this.props,Uu);return h.a.createElement("div",Al({},n,{className:vl(ie()("modal-dialog",this.props.className,(e={},Il(e,"modal-"+this.props.size,this.props.size),Il(e,"modal-dialog-centered",this.props.centered),e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),h.a.createElement("div",{className:vl(ie()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){if(this.state.isOpen){var e=this.props,t=e.wrapClassName,n=e.modalClassName,a=e.backdropClassName,r=e.cssModule,i=e.isOpen,o=e.backdrop,s=e.role,l=e.labelledBy,c=e.external,u={onClick:this.handleBackdropClick,onKeyUp:this.handleEscape,style:{display:"block"},"aria-labelledby":l,role:s,tabIndex:"-1"},d=this.props.fade,p=Al({},jc.defaultProps,this.props.modalTransition,{baseClass:d?this.props.modalTransition.baseClass:"",timeout:d?this.props.modalTransition.timeout:0}),f=Al({},jc.defaultProps,this.props.backdropTransition,{baseClass:d?this.props.backdropTransition.baseClass:"",timeout:d?this.props.backdropTransition.timeout:0});return h.a.createElement(Pu,{node:this._element},h.a.createElement("div",{className:vl(t)},h.a.createElement(jc,Al({},u,p,{in:i,onEntered:this.onOpened,onExited:this.onClosed,cssModule:r,className:vl(ie()("modal",n),r)}),c,this.renderModalDialog()),h.a.createElement(jc,Al({},f,{in:i&&!!o,cssModule:r,className:vl(ie()("modal-backdrop",a),r)}))))}return null}}]),t}(h.a.Component);Bu.propTypes=ju,Bu.defaultProps=Hu;var Vu={tag:z.a.oneOfType([z.a.func,z.a.string]),wrapTag:z.a.oneOfType([z.a.func,z.a.string]),toggle:z.a.func,className:z.a.string,cssModule:z.a.object,children:z.a.node,closeAriaLabel:z.a.string},Gu=function(e){var t=void 0,n=e.className,a=e.cssModule,r=e.children,i=e.toggle,o=e.tag,s=e.wrapTag,l=e.closeAriaLabel,c=Yl(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel"]),u=vl(ie()(n,"modal-header"),a);return i&&(t=h.a.createElement("button",{type:"button",onClick:i,className:vl("close",a),"aria-label":l},h.a.createElement("span",{"aria-hidden":"true"},String.fromCharCode(215)))),h.a.createElement(s,Al({},c,{className:u}),h.a.createElement(o,{className:vl("modal-title",a)},r),t)};Gu.propTypes=Vu,Gu.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close"};var Wu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},zu=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"modal-body"),n);return h.a.createElement(a,Al({},r,{className:i}))};zu.propTypes=Wu,zu.defaultProps={tag:"div"};var qu={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},Ku=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"modal-footer"),n);return h.a.createElement(a,Al({},r,{className:i}))};Ku.propTypes=qu,Ku.defaultProps={tag:"div"};var Xu={placement:z.a.oneOf(Ml),target:z.a.oneOfType([z.a.string,z.a.func,Tl]).isRequired,container:z.a.oneOfType([z.a.string,z.a.func,Tl]),isOpen:z.a.bool,disabled:z.a.bool,hideArrow:z.a.bool,className:z.a.string,innerClassName:z.a.string,cssModule:z.a.object,toggle:z.a.func,autohide:z.a.bool,placementPrefix:z.a.string,delay:z.a.oneOfType([z.a.shape({show:z.a.number,hide:z.a.number}),z.a.number]),modifiers:z.a.object},Ju={show:0,hide:250},Zu={isOpen:!1,hideArrow:!1,placement:"top",placementPrefix:"bs-tooltip",delay:Ju,autohide:!0,toggle:function(){}},$u=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addTargetEvents=n.addTargetEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.toggle=n.toggle.bind(n),n.onMouseOverTooltip=n.onMouseOverTooltip.bind(n),n.onMouseLeaveTooltip=n.onMouseLeaveTooltip.bind(n),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(n),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n}return Pl(t,e),Nl(t,[{key:"componentDidMount",value:function(){this._target=xl(this.props.target),this.addTargetEvents()}},{key:"componentWillUnmount",value:function(){this.removeTargetEvents()}},{key:"onMouseOverTooltip",value:function(){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show,this.getDelay("show"))}},{key:"onMouseLeaveTooltip",value:function(){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide,this.getDelay("hide"))}},{key:"onMouseOverTooltipContent",value:function(){this.props.autohide||this._hideTimeout&&this.clearHideTimeout()}},{key:"onMouseLeaveTooltipContent",value:function(){this.props.autohide||(this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide,this.getDelay("hide")))}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===("undefined"===typeof t?"undefined":Dl(t))?isNaN(t[e])?Ju[e]:t[e]:t}},{key:"show",value:function(){this.props.isOpen||(this.clearShowTimeout(),this.toggle())}},{key:"hide",value:function(){this.props.isOpen&&(this.clearHideTimeout(),this.toggle())}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){(e.target===this._target||this._target.contains(e.target))&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen||this.toggle())}},{key:"addTargetEvents",value:function(){var e=this;this._target.addEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.addEventListener("mouseout",this.onMouseLeaveTooltip,!0),["click","touchstart"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))}},{key:"removeTargetEvents",value:function(){var e=this;this._target.removeEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.removeEventListener("mouseout",this.onMouseLeaveTooltip,!0),["click","touchstart"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle()}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=yl(this.props,Object.keys(Xu)),t=vl(ie()("tooltip-inner",this.props.innerClassName),this.props.cssModule),n=vl(ie()("tooltip","show",this.props.className),this.props.cssModule);return h.a.createElement(Tu,{className:n,target:this.props.target,isOpen:this.props.isOpen,hideArrow:this.props.hideArrow,placement:this.props.placement,placementPrefix:this.props.placementPrefix,container:this.props.container,modifiers:this.props.modifiers},h.a.createElement("div",Al({},e,{className:t,onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent})))}}]),t}(h.a.Component);$u.propTypes=Xu,$u.defaultProps=Zu;var Qu={className:z.a.string,cssModule:z.a.object,size:z.a.string,bordered:z.a.bool,striped:z.a.bool,inverse:El(z.a.bool,'Please use the prop "dark"'),dark:z.a.bool,hover:z.a.bool,responsive:z.a.oneOfType([z.a.bool,z.a.string]),tag:z.a.oneOfType([z.a.func,z.a.string]),responsiveTag:z.a.oneOfType([z.a.func,z.a.string])},ed=function(e){var t=e.className,n=e.cssModule,a=e.size,r=e.bordered,i=e.striped,o=e.inverse,s=e.dark,l=e.hover,c=e.responsive,u=e.tag,d=e.responsiveTag,p=Yl(e,["className","cssModule","size","bordered","striped","inverse","dark","hover","responsive","tag","responsiveTag"]),f=vl(ie()(t,"table",!!a&&"table-"+a,!!r&&"table-bordered",!!i&&"table-striped",!(!s&&!o)&&"table-dark",!!l&&"table-hover"),n),m=h.a.createElement(u,Al({},p,{className:f}));if(c){var g=!0===c?"table-responsive":"table-responsive-"+c;return h.a.createElement(d,{className:g},m)}return m};ed.propTypes=Qu,ed.defaultProps={tag:"table",responsiveTag:"div"};var td={tag:z.a.oneOfType([z.a.func,z.a.string]),flush:z.a.bool,className:z.a.string,cssModule:z.a.object},nd=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=e.flush,i=Yl(e,["className","cssModule","tag","flush"]),o=vl(ie()(t,"list-group",!!r&&"list-group-flush"),n);return h.a.createElement(a,Al({},i,{className:o}))};nd.propTypes=td,nd.defaultProps={tag:"ul"};var ad={children:z.a.node,inline:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),innerRef:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},rd=function(e){var t=e.className,n=e.cssModule,a=e.inline,r=e.tag,i=e.innerRef,o=Yl(e,["className","cssModule","inline","tag","innerRef"]),s=vl(ie()(t,!!a&&"form-inline"),n);return h.a.createElement(r,Al({},o,{ref:i,className:s}))};rd.propTypes=ad,rd.defaultProps={tag:"form"};var id={children:z.a.node,tag:z.a.string,className:z.a.string,cssModule:z.a.object,valid:z.a.bool},od={tag:"div",valid:void 0},sd=function(e){var t=e.className,n=e.cssModule,a=e.valid,r=e.tag,i=Yl(e,["className","cssModule","valid","tag"]),o=vl(ie()(t,a?"valid-feedback":"invalid-feedback"),n);return h.a.createElement(r,Al({},i,{className:o}))};sd.propTypes=id,sd.defaultProps=od;var ld={children:z.a.node,row:z.a.bool,check:z.a.bool,inline:z.a.bool,disabled:z.a.bool,tag:z.a.string,className:z.a.string,cssModule:z.a.object},cd=function(e){var t=e.className,n=e.cssModule,a=e.row,r=e.disabled,i=e.check,o=e.inline,s=e.tag,l=Yl(e,["className","cssModule","row","disabled","check","inline","tag"]),c=vl(ie()(t,!!a&&"row",i?"form-check":"form-group",!(!i||!o)&&"form-check-inline",!(!i||!r)&&"disabled"),n);return h.a.createElement(s,Al({},l,{className:c}))};cd.propTypes=ld,cd.defaultProps={tag:"div"};var ud={children:z.a.node,inline:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),color:z.a.string,className:z.a.string,cssModule:z.a.object},dd=function(e){var t=e.className,n=e.cssModule,a=e.inline,r=e.color,i=e.tag,o=Yl(e,["className","cssModule","inline","color","tag"]),s=vl(ie()(t,!a&&"form-text",!!r&&"text-"+r),n);return h.a.createElement(i,Al({},o,{className:s}))};dd.propTypes=ud,dd.defaultProps={tag:"small",color:"muted"};var pd={children:z.a.node,type:z.a.string,size:z.a.string,bsSize:z.a.string,state:El(z.a.string,'Please use the props "valid" and "invalid" to indicate the state.'),valid:z.a.bool,invalid:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string]),innerRef:z.a.oneOfType([z.a.func,z.a.string]),static:El(z.a.bool,'Please use the prop "plaintext"'),plaintext:z.a.bool,addon:z.a.bool,className:z.a.string,cssModule:z.a.object},hd=function(e){function t(){return Rl(this,t),Fl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pl(t,e),Nl(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.type,r=e.bsSize,i=e.state,o=e.valid,s=e.invalid,l=e.tag,c=e.addon,u=e.static,d=e.plaintext,p=e.innerRef,f=Yl(e,["className","cssModule","type","bsSize","state","valid","invalid","tag","addon","static","plaintext","innerRef"]),m=["radio","checkbox"].indexOf(a)>-1,g=new RegExp("\\D","g"),v=l||("select"===a||"textarea"===a?a:"input"),y="form-control";d||u?(y+="-plaintext",v=l||"p"):"file"===a?y+="-file":m&&(y=c?null:"form-check-input"),i&&"undefined"===typeof o&&"undefined"===typeof s&&("danger"===i?s=!0:"success"===i&&(o=!0)),f.size&&g.test(f.size)&&(wl('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=f.size,delete f.size);var _=vl(ie()(t,s&&"is-invalid",o&&"is-valid",!!r&&"form-control-"+r,y),n);return"input"!==v&&"string"===typeof l||(f.type=a),h.a.createElement(v,Al({},f,{ref:p,className:_}))}}]),t}(h.a.Component);hd.propTypes=pd,hd.defaultProps={type:"text"};var fd={tag:z.a.oneOfType([z.a.func,z.a.string]),size:z.a.string,className:z.a.string,cssModule:z.a.object},md=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=e.size,i=Yl(e,["className","cssModule","tag","size"]),o=vl(ie()(t,"input-group",r?"input-group-"+r:null),n);return h.a.createElement(a,Al({},i,{className:o}))};md.propTypes=fd,md.defaultProps={tag:"div"};var gd={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},vd=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"input-group-text"),n);return h.a.createElement(a,Al({},r,{className:i}))};vd.propTypes=gd,vd.defaultProps={tag:"span"};var yd={tag:z.a.oneOfType([z.a.func,z.a.string]),addonType:z.a.oneOf(["prepend","append"]).isRequired,children:z.a.node,className:z.a.string,cssModule:z.a.object},_d=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=e.addonType,i=e.children,o=Yl(e,["className","cssModule","tag","addonType","children"]),s=vl(ie()(t,"input-group-"+r),n);return"string"===typeof i?h.a.createElement(a,Al({},o,{className:s}),h.a.createElement(vd,{children:i})):h.a.createElement(a,Al({},o,{className:s,children:i}))};_d.propTypes=yd,_d.defaultProps={tag:"div"};z.a.oneOfType([z.a.func,z.a.string]),z.a.oneOf(["prepend","append"]).isRequired,z.a.node,z.a.string,z.a.object,z.a.string,z.a.object,z.a.oneOf(["prepend","append"]).isRequired,z.a.node;var bd=z.a.oneOfType([z.a.number,z.a.string]),wd=z.a.oneOfType([z.a.string,z.a.number,z.a.shape({size:bd,push:El(bd,'Please use the prop "order"'),pull:El(bd,'Please use the prop "order"'),order:bd,offset:bd})]),Ed={children:z.a.node,hidden:z.a.bool,check:z.a.bool,size:z.a.string,for:z.a.string,tag:z.a.string,className:z.a.string,cssModule:z.a.object,xs:wd,sm:wd,md:wd,lg:wd,xl:wd,widths:z.a.array},Td={tag:"label",widths:["xs","sm","md","lg","xl"]},xd=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},Cd=function(e){var t=e.className,n=e.cssModule,a=e.hidden,r=e.widths,i=e.tag,o=e.check,s=e.size,l=e.for,c=Yl(e,["className","cssModule","hidden","widths","tag","check","size","for"]),u=[];r.forEach((function(t,a){var r=e[t];if(delete c[t],r||""===r){var i=!a,o=void 0;if(sl()(r)){var s,l=i?"-":"-"+t+"-";o=xd(i,t,r.size),u.push(vl(ie()((Il(s={},o,r.size||""===r.size),Il(s,"order"+l+r.order,r.order||0===r.order),Il(s,"offset"+l+r.offset,r.offset||0===r.offset),s))),n)}else o=xd(i,t,r),u.push(o)}}));var d=vl(ie()(t,!!a&&"sr-only",!!o&&"form-check-label",!!s&&"col-form-label-"+s,u,!!u.length&&"col-form-label"),n);return h.a.createElement(i,Al({htmlFor:l},c,{className:d}))};Cd.propTypes=Ed,Cd.defaultProps=Td;z.a.bool,z.a.bool,z.a.node,z.a.string,z.a.object,z.a.bool,z.a.bool,z.a.bool,z.a.bool,z.a.bool,z.a.bool,z.a.oneOfType([z.a.func,z.a.string]),z.a.bool;var Sd={children:z.a.node,className:z.a.string,cssModule:z.a.object,size:z.a.string,tag:z.a.oneOfType([z.a.func,z.a.string])},kd=function(e){var t=e.className,n=e.cssModule,a=e.size,r=e.tag,i=Yl(e,["className","cssModule","size","tag"]),o=vl(ie()(t,"pagination",Il({},"pagination-"+a,!!a)),n);return h.a.createElement(r,Al({},i,{className:o}))};kd.propTypes=Sd,kd.defaultProps={tag:"ul"};var Od={active:z.a.bool,children:z.a.node,className:z.a.string,cssModule:z.a.object,disabled:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string])},Md=function(e){var t=e.active,n=e.className,a=e.cssModule,r=e.disabled,i=e.tag,o=Yl(e,["active","className","cssModule","disabled","tag"]),s=vl(ie()(n,"page-item",{active:t,disabled:r}),a);return h.a.createElement(i,Al({},o,{className:s}))};Md.propTypes=Od,Md.defaultProps={tag:"li"};var Ld={"aria-label":z.a.string,children:z.a.node,className:z.a.string,cssModule:z.a.object,next:z.a.bool,previous:z.a.bool,tag:z.a.oneOfType([z.a.func,z.a.string])},Dd=function(e){var t=e.className,n=e.cssModule,a=e.next,r=e.previous,i=e.tag,o=Yl(e,["className","cssModule","next","previous","tag"]),s=vl(ie()(t,"page-link"),n),l=void 0;r?l="Previous":a&&(l="Next");var c=e["aria-label"]||l,u=void 0;r?u="\xab":a&&(u="\xbb");var d=e.children;return d&&Array.isArray(d)&&0===d.length&&(d=null),(r||a)&&(d=[h.a.createElement("span",{"aria-hidden":"true",key:"caret"},d||u),h.a.createElement("span",{className:"sr-only",key:"sr"},c)]),h.a.createElement(i,Al({},o,{className:s,"aria-label":c}),d)};Dd.propTypes=Ld,Dd.defaultProps={tag:"a"};var Rd={tag:z.a.oneOfType([z.a.func,z.a.string]),activeTab:z.a.any,className:z.a.string,cssModule:z.a.object},Nd={activeTabId:z.a.any},Id=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeTab:n.props.activeTab},n}return Pl(t,e),Nl(t,[{key:"getChildContext",value:function(){return{activeTabId:this.state.activeTab}}},{key:"componentWillReceiveProps",value:function(e){this.state.activeTab!==e.activeTab&&this.setState({activeTab:e.activeTab})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.tag,r=yl(this.props,Object.keys(Rd)),i=vl(ie()("tab-content",t),n);return h.a.createElement(a,Al({},r,{className:i}))}}]),t}(p.Component);Id.propTypes=Rd,Id.defaultProps={tag:"div"},Id.childContextTypes=Nd;var Ad={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object,tabId:z.a.any},Pd={activeTabId:z.a.any};function Yd(e,t){var n=e.className,a=e.cssModule,r=e.tabId,i=e.tag,o=Yl(e,["className","cssModule","tabId","tag"]),s=vl(ie()("tab-pane",n,{active:r===t.activeTabId}),a);return h.a.createElement(i,Al({},o,{className:s}))}Yd.propTypes=Ad,Yd.defaultProps={tag:"div"},Yd.contextTypes=Pd;var Fd={tag:z.a.oneOfType([z.a.func,z.a.string]),fluid:z.a.bool,className:z.a.string,cssModule:z.a.object},jd=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=e.fluid,i=Yl(e,["className","cssModule","tag","fluid"]),o=vl(ie()(t,"jumbotron",!!r&&"jumbotron-fluid"),n);return h.a.createElement(a,Al({},i,{className:o}))};jd.propTypes=Fd,jd.defaultProps={tag:"div"};var Ud,Hd={children:z.a.node,className:z.a.string,closeClassName:z.a.string,closeAriaLabel:z.a.string,cssModule:z.a.object,color:z.a.string,isOpen:z.a.bool,toggle:z.a.func,tag:z.a.oneOfType([z.a.func,z.a.string]),transition:z.a.shape(jc.propTypes)},Bd={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",transition:Al({},jc.defaultProps,{unmountOnExit:!0})};function Vd(e){var t=e.className,n=e.closeClassName,a=e.closeAriaLabel,r=e.cssModule,i=e.tag,o=e.color,s=e.isOpen,l=e.toggle,c=e.children,u=e.transition,d=Yl(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition"]),p=vl(ie()(t,"alert","alert-"+o,{"alert-dismissible":l}),r),f=vl(ie()("close",n),r);return h.a.createElement(jc,Al({},d,u,{tag:i,className:p,in:s,role:"alert"}),l?h.a.createElement("button",{type:"button",className:f,"aria-label":a,onClick:l},h.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,c)}Vd.propTypes=Hd,Vd.defaultProps=Bd;var Gd=Al({},Pc.propTypes,{isOpen:z.a.bool,children:z.a.oneOfType([z.a.arrayOf(z.a.node),z.a.node]),tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.node,navbar:z.a.bool,cssModule:z.a.object}),Wd=Al({},Pc.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:Cl.Collapse}),zd=(Il(Ud={},kl.ENTERING,"collapsing"),Il(Ud,kl.ENTERED,"collapse show"),Il(Ud,kl.EXITING,"collapsing"),Il(Ud,kl.EXITED,"collapse"),Ud);function qd(e){return e.scrollHeight}var Kd=function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(n)})),n}return Pl(t,e),Nl(t,[{key:"onEntering",value:function(e,t){this.setState({height:qd(e)}),this.props.onEntering(e,t)}},{key:"onEntered",value:function(e,t){this.setState({height:null}),this.props.onEntered(e,t)}},{key:"onExit",value:function(e){this.setState({height:qd(e)}),this.props.onExit(e)}},{key:"onExiting",value:function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)}},{key:"onExited",value:function(e){this.setState({height:null}),this.props.onExited(e)}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.isOpen,a=e.className,r=e.navbar,i=e.cssModule,o=e.children,s=Yl(e,["tag","isOpen","className","navbar","cssModule","children"]),l=this.state.height,c=_l(s,Sl),u=yl(s,Sl);return h.a.createElement(Pc,Al({},c,{in:n,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(e){var n=function(e){return zd[e]||"collapse"}(e),s=vl(ie()(a,n,r&&"navbar-collapse"),i),c=null===l?null:{height:l};return h.a.createElement(t,Al({},u,{style:Al({},u.style,c),className:s}),o)}))}}]),t}(p.Component);Kd.propTypes=Gd,Kd.defaultProps=Wd;var Xd={tag:z.a.oneOfType([z.a.func,z.a.string]),active:z.a.bool,disabled:z.a.bool,color:z.a.string,action:z.a.bool,className:z.a.any,cssModule:z.a.object},Jd=function(e){e.preventDefault()},Zd=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=e.active,i=e.disabled,o=e.action,s=e.color,l=Yl(e,["className","cssModule","tag","active","disabled","action","color"]),c=vl(ie()(t,!!r&&"active",!!i&&"disabled",!!o&&"list-group-item-action",!!s&&"list-group-item-"+s,"list-group-item"),n);return i&&(l.onClick=Jd),h.a.createElement(a,Al({},l,{className:c}))};Zd.propTypes=Xd,Zd.defaultProps={tag:"li"};var $d={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.any,cssModule:z.a.object},Qd=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"list-group-item-heading"),n);return h.a.createElement(a,Al({},r,{className:i}))};Qd.propTypes=$d,Qd.defaultProps={tag:"h5"};var ep={tag:z.a.oneOfType([z.a.func,z.a.string]),className:z.a.any,cssModule:z.a.object},tp=function(e){var t=e.className,n=e.cssModule,a=e.tag,r=Yl(e,["className","cssModule","tag"]),i=vl(ie()(t,"list-group-item-text"),n);return h.a.createElement(a,Al({},r,{className:i}))};tp.propTypes=ep,tp.defaultProps={tag:"p"};(function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!0},n.toggle=n.toggle.bind(n),n}Pl(t,e),Nl(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return h.a.createElement(Vd,Al({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])})(p.Component),function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}Pl(t,e),Nl(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return h.a.createElement(yc,Al({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(p.Component),function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}Pl(t,e),Nl(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return h.a.createElement(lc,Al({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(p.Component),function(e){function t(e){Rl(this,t);var n=Fl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}Pl(t,e),Nl(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return h.a.createElement($u,Al({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(p.Component);var np=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){if(!(n.props.disabled||n.state.isFreezed&&!n.state.tooltipOpen)){n.setState({tooltipOpen:!n.state.tooltipOpen,isFreezed:!0});var e=E(n);setTimeout((function(){e.setState({isFreezed:!1})}),100)}},n.state={tooltipOpen:!1,isFreezed:!1},n}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.disabled!==e.disabled?(this.setState({tooltipOpen:!1}),!0):t.tooltipOpen!==this.state.tooltipOpen||e.isActive!==this.props.isActive}},{key:"render",value:function(){var e=this.props.isRichEditor?"rich-icon-btn "+(this.props.disabled?"rich-icon-btn-disabled":"rich-icon-btn-hover"):"btn btn-icon btn-secondary btn-active";return h.a.createElement("button",{id:this.props.id,type:"button",onClick:this.props.disabled?null:this.props.onClick,onMouseDown:this.props.disabled?null:this.props.onMouseDown,className:e,"data-active":this.props.isActive||!1,disabled:this.props.disabled},h.a.createElement("i",{className:this.props.icon}),h.a.createElement($u,{toggle:this.toggle,delay:{show:0,hide:0},target:this.props.id,placement:"bottom",isOpen:this.state.tooltipOpen},this.props.text))}}]),t}(h.a.Component),ap=Object(I.d)("seafile-editor")(np),rp=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).setInitialValue=function(){var e=n.editorUtils.getSelectedText();if(n.isLinkActive){var t=n.editorUtils.getCurrentLinkNode();n.setState({title:n.editorUtils.getLinkText(t),url:t.data.href})}else n.setState({title:e,url:""})},n.handleUrlChange=function(e){n.setState({url:e.target.value})},n.handleTitleChange=function(e){n.setState({title:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),0!==n.state.title.length&&0!==n.state.url.length&&(n.isLinkActive?n.editorUtils.setLink({text:n.state.title,url:n.state.url,selection:n.editorSelection}):n.editorUtils.insertLink({text:n.state.title,url:n.state.url,selection:n.editorSelection}),n.props.toggleLinkDialog())},n.editorUtils=new zs(window.seafileEditor),n.isLinkActive=n.editorUtils.isLinkActive(),n.editorSelection=null,n.state={url:"",title:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.editorSelection=window.seafileEditor.selection}},{key:"componentWillMount",value:function(){this.setInitialValue()}},{key:"render",value:function(){return h.a.createElement(Bu,{isOpen:!0,toggle:this.props.toggleLinkDialog,className:this.props.className},h.a.createElement(Gu,{toggle:this.props.toggleLinkDialog},this.props.t("insert_link")),h.a.createElement(zu,null,h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"form-check-label",htmlFor:"addLink"},this.props.t("link_address")),h.a.createElement("input",{type:"url",className:"form-control",id:"addLink",value:this.state.url,onChange:this.handleUrlChange})),h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{className:"form-check-label",htmlFor:"addTitle"},this.props.t("link_title")),h.a.createElement("input",{type:"text",className:"form-control",id:"addTitle",value:this.state.title,onChange:this.handleTitleChange})))),h.a.createElement(Ku,null,h.a.createElement(gc,{color:"primary",disabled:!1,onClick:this.handleSubmit},this.props.t("add_link")),h.a.createElement(gc,{color:"secondary",onClick:this.props.toggleLinkDialog},this.props.t("cancel"))))}}]),t}(h.a.PureComponent),ip=Object(I.d)("seafile-editor")(rp),op=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleUrlChange=function(e){n.setState({url:e.target.value})},n.handleSubmit=function(e){n.props.insertImage({url:n.state.url,selection:n.editorSelection}),n.props.onToggleImageDialog()},n.state={url:""},n.editorSelection=null,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.editorSelection=window.seafileEditor.selection}},{key:"render",value:function(){return h.a.createElement(Bu,{isOpen:!0,toggle:this.props.onToggleImageDialog,className:this.props.className},h.a.createElement(Gu,{toggle:this.props.onToggleImageDialog},this.props.t("insert_image")),h.a.createElement(zu,null,h.a.createElement("p",null,this.props.t("image_address")),h.a.createElement("input",{type:"url",value:this.state.value,onChange:this.handleUrlChange})),h.a.createElement(Ku,null,h.a.createElement(gc,{color:"primary",disabled:0===this.state.url.length,onClick:this.handleSubmit},this.props.t("submit"))," ",h.a.createElement(gc,{color:"secondary",onClick:this.props.onToggleImageDialog},this.props.t("cancel"))))}}]),t}(h.a.PureComponent),sp=Object(I.d)("seafile-editor")(op),lp=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this;return h.a.createElement(al,{className:"editor-btn-group"},h.a.createElement(cp,{icon:"iconfont icon-left-alignment",items:[{handle:function(t){e.props.onSetAlign(t,"left")},icon:"iconfont icon-left-alignment",text:this.props.t("left")},{handle:function(t){e.props.onSetAlign(t,"center")},icon:"iconfont icon-center-horizontally",text:this.props.t("center")},{handle:function(t){e.props.onSetAlign(t,"right")},icon:"icon icon-align-right",text:this.props.t("right")}]}),h.a.createElement(cp,{icon:"iconfont icon-column",items:[{handle:this.props.onInsertColumn,text:this.props.t("Insert_Column")},{handle:this.props.onRemoveColumn,text:this.props.t("Remove_Column")}]}),h.a.createElement(cp,{icon:"iconfont icon-row",items:[{handle:this.props.onInsertRow,text:this.props.t("Insert_Row")},{handle:this.props.onRemoveRow,text:this.props.t("Remove_Row")}]}),h.a.createElement(ap,{disabled:!1,isRichEditor:!0,text:this.props.t("remove_table"),id:"removeTable",icon:"iconfont icon-delete-table",onMouseDown:this.props.onRemoveTable}))}}]),t}(h.a.PureComponent),cp=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleClick=function(e){n.props.disabled||(n.getContainer().contains(e.target)?n.toggle():n.state.dropdownOpen&&n.setState({dropdownOpen:!n.state.dropdownOpen}))},n.toggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.state={dropdownOpen:!1},n}return S(t,e),_(t,[{key:"getContainer",value:function(){return m.a.findDOMNode(this)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=[];return this.props.items.forEach((function(t,n){e.push(h.a.createElement("button",{key:"dropdown-item"+n,onMouseDown:t.handle,className:"dropdown-item"},t.icon?h.a.createElement("i",{className:t.icon,style:{marginRight:"6px"}}):null,t.text))})),h.a.createElement("div",{className:"custom-dropdown-list"},h.a.createElement("div",{id:"list_toggle",className:"dropdown-list-toggle"},h.a.createElement("i",{className:this.props.icon,style:{marginRight:"3px"}}),h.a.createElement("i",{className:this.state.dropdownOpen?"iconfont icon-caret-up":"iconfont icon-drop-down"})),this.state.dropdownOpen&&h.a.createElement("div",{role:"menu",className:"custom-dropdown-menu dropdown-menu"},e))}}]),t}(h.a.PureComponent),up=Object(I.d)("seafile-editor")(lp),dp=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1,tooltipOpen:!1},n.imgtoggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.toggle=function(){n.props.disabled?n.setState({tooltipOpen:!1}):n.setState({tooltipOpen:!n.state.tooltipOpen})},n.uploadLocalImage=function(e){window.seafileEditor.editorApi.uploadLocalImage(e.target.files[0]).then((function(e){n.props.onInsertImage({url:e})}))},n.handleFileChange=function(e){n.uploadLocalImage(e),n.setState({dropdownOpen:!1})},n.onInputFile=function(e){e.target.value=null,e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(h.a.Fragment,null,h.a.createElement(lc,{isOpen:this.state.dropdownOpen,toggle:this.imgtoggle,className:this.props.disabled?"upload-localimg upload-localimg-disabled":"upload-localimg upload-localimg-hover"},h.a.createElement(Nc,{id:this.props.id,disabled:this.props.disabled},h.a.createElement("i",{className:"iconfont icon-image"}),h.a.createElement($u,{toggle:this.toggle,delay:{show:0,hide:0},target:this.props.id,placement:"bottom",isOpen:this.state.tooltipOpen},e("insert_image"))),h.a.createElement(Lc,null,h.a.createElement(Cc,{onClick:this.props.onToggleImageDialog},e("insert_network_image")),!this.props.isSimpleEditor&&h.a.createElement(Cc,{onMouseDown:this.props.editor.insertRepoImage},e("Insert_library_image")),h.a.createElement(Cc,{className:"seafile-ed-dropbtn"},h.a.createElement("span",{className:"seafile-ed-localimgspan"},h.a.createElement("span",{className:"upload-local-image-word"},e("upload_local_image")),h.a.createElement("input",{type:"file",onClick:this.onInputFile,className:"seafile-ed-localimginput",accept:"image/*",onChange:this.handleFileChange}))))))}}]),t}(h.a.Component),pp=Object(I.d)("seafile-editor")(dp),hp=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleLink=function(e){n.editorUtils.isLinkActive()?n.editorUtils.unwrapLink():n.props.onToggleLinkDialog()},n.editor=window.seafileEditor,n.editorUtils=new zs(n.editor),n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t,n=this.props.toolbarStatus,a=this.props.readOnly,r=n.isTableActive,i=n.isHeadActive,o=n.isCodeActive,s=n.isBoldActive,l=n.isItalicActive,c=n.isInlineCodeActive,u=n.isLinkActive,d=n.isBlockquoteActive,p=n.isOrderedListActive,f=n.isUnorderedListActive,m=n.isCheckListActive;return h.a.createElement("div",{className:"sf-editor-rich-menu "+(this.props.isSimpleEditor?"":"rich-menu")},h.a.createElement("div",{className:"button-container"},!a&&h.a.createElement("div",{className:"header-list-container"},h.a.createElement(nl,{disabled:o||r,headerType:n.headerType,onClickHeader:this.editorUtils.onClickHeader})),h.a.createElement(al,{className:"editor-btn-group"},h.a.createElement(ap,{disabled:o||i,isRichEditor:!0,text:t("bold"),id:"BOLDButton",icon:"iconfont icon-bold",isActive:s,onMouseDown:function(t){return e.editorUtils.onClickMark(t,"BOLD")}}),h.a.createElement(ap,{disabled:o||i,isRichEditor:!0,text:t("italic"),id:"ITALICButton",icon:"iconfont icon-italic",isActive:l,onMouseDown:function(t){return e.editorUtils.onClickMark(t,"ITALIC")}}),h.a.createElement(ap,{disabled:o||i,isRichEditor:!0,text:t("code"),id:"CODEButton",icon:"iconfont icon-code",isActive:c,onMouseDown:function(t){return e.editorUtils.onClickMark(t,"CODE")}}),h.a.createElement(ap,{disabled:o||i,isRichEditor:!0,text:t("insert_link"),id:"linkButton",icon:"iconfont icon-link",isActive:u,onMouseDown:this.onToggleLink})),h.a.createElement(al,{className:"editor-btn-group"},h.a.createElement(ap,{disabled:r||o||i,isRichEditor:!0,text:t("quote"),id:"block-quoteButton",icon:"iconfont icon-quote-left",isActive:d,onMouseDown:function(t){return e.editorUtils.onClickBlock(t,"blockquote")}}),h.a.createElement(ap,{disabled:r||o||i,isRichEditor:!0,text:t("ordered_list"),id:"ordered_listButton",icon:"iconfont icon-list-ol",isActive:p,onMouseDown:function(t){return e.editorUtils.onClickBlock(t,"ordered_list")}}),h.a.createElement(ap,{disabled:r||o||i,isRichEditor:!0,text:t("unordered_list"),id:"unordered_listButton",icon:"iconfont icon-list-ul",isActive:f,onMouseDown:function(t){return e.editorUtils.onClickBlock(t,"unordered_list")}}),h.a.createElement(ap,{disabled:r||o||i,isRichEditor:!0,text:t("check_list_item"),id:"checkListItemButton",icon:"iconfont icon-check-square",isActive:m,onMouseDown:this.editorUtils.onToggleCheckItem})),h.a.createElement(al,{className:"editor-btn-group"},h.a.createElement(ap,{disabled:r||i,isRichEditor:!0,text:t("code_block"),id:"codeButton",icon:"iconfont icon-code-block",onMouseDown:function(t){return e.editorUtils.onClickBlock(t,"code_block")},isActive:o&&!a}),h.a.createElement(ap,{disabled:o||r||i,isRichEditor:!0,text:t("insert_table"),id:"tableButton",icon:"iconfont icon-table",onMouseDown:this.editorUtils.onAddTable}),h.a.createElement(pp,{disabled:o||i,text:"insert_image",id:"insertImageButton",isSimpleEditor:this.props.isSimpleEditor,onInsertImage:this.editorUtils.insertImage,toolbarStatus:this.props.toolbarStatus,onToggleImageDialog:this.props.onToggleImageDialog})),r&&!a&&h.a.createElement(up,{onRemoveTable:this.editorUtils.onRemoveTable,onInsertColumn:this.editorUtils.onInsertColumn,onRemoveColumn:this.editorUtils.onRemoveColumn,onInsertRow:this.editorUtils.onInsertRow,onRemoveRow:this.editorUtils.onRemoveRow,onSetAlign:this.editorUtils.onSetAlign})),this.props.isShowLinkDialog&&h.a.createElement(ip,{toggleLinkDialog:this.props.onToggleLinkDialog}),this.props.isShowImageDialog&&h.a.createElement(sp,{onToggleImageDialog:this.props.onToggleImageDialog,insertImage:this.editorUtils.insertImage}))}}]),t}(h.a.Component),fp=Object(I.d)("seafile-editor")(hp),mp=n(200),gp=function(e){if(e)return Mo.h.isCollapsed(e)},vp=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).saveRef=function(e){n.refDom=e},n.getLinkUrl=function(){var e=n.props.editorUtils.getCurrentLinkNode();e&&(n.linkUrl=e.data.href)},n.setMenuPosition=function(){if(0!==window.getSelection().anchorOffset&&0!==window.getSelection().focusOffset){var e=window.getSelection().getRangeAt(0),t=e.getBoundingClientRect();navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Safari")>0&&e.collapsed&&0===t.top&&0===t.height&&(0===e.startOffset?e.setEnd(e.endContainer,1):e.setStart(e.startContainer,e.startOffset-1),0===(t=e.getBoundingClientRect()).top&&0===t.height&&e.getClientRects().length&&(t=e.getClientRects()[0]));var a=n.refDom.style;a.zIndex="1050",a.top="".concat(t.top-45,"px");var r=parseInt(t.x-125);r<0?a.left="0px":r+250>document.body.clientWidth?a.left="".concat(document.body.clientWidth-250,"px"):a.left="".concat(t.x-125,"px")}},n.componentDidMount=function(){requestAnimationFrame((function(){n.setMenuPosition()}))},n.componentWillUnmount=function(){n.refDom=null},n.componentWillMount=function(){n.getLinkUrl()},n.linkUrl="",n}return S(t,e),_(t,[{key:"componentDidUpdate",value:function(){this.setMenuPosition()}},{key:"componentWillReceiveProps",value:function(){this.getLinkUrl()}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"seafile-ed-hovermenu",ref:function(t){return e.refDom=t}},h.a.createElement("a",{href:this.linkUrl,target:"blank",className:"seafile-ed-hovermenu-link"},this.linkUrl),h.a.createElement(gc,{color:"",className:"seafile-ed-hovermenu-btn",onClick:this.props.editorUtils.unwrapLink},h.a.createElement("i",{className:"iconfont icon-delete"})),h.a.createElement(gc,{color:"",onClick:this.props.onToggleLinkDialog,className:"seafile-ed-hovermenu-btn"},h.a.createElement("i",{className:"iconfont icon-edit"})),h.a.createElement("span",{className:"seafile-ed-hovermenu-triangle"}))}}]),t}(h.a.Component),yp=Object(I.d)("seafile-editor")(vp),_p=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).setMenuPosition=function(){var e=n.menu.offsetHeight;0===e&&requestAnimationFrame(n.setMenuPosition);var t=0;t=n.position.top+e>document.body.clientHeight?document.body.clientHeight-e-5:n.position.top;var a=n.position.left+3;n.setState({contextStyle:{top:t,left:a,zIndex:"1051",display:"block"}})},n.tableUtils=e.tableUtils,n.state={contextStyle:{}},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.position=this.props.contextMenuPosition,this.setMenuPosition()}},{key:"componentWillUnmount",value:function(){this.menu=null}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{role:"menu",style:this.state.contextStyle,ref:function(t){return e.menu=t},className:"seafile-contextmenu dropdown-menu"},h.a.createElement("button",{onMouseDown:function(t){return e.tableUtils.insertRow("before")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Row_Before")),h.a.createElement("button",{onMouseDown:function(t){return e.tableUtils.insertRow("after")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Row_After")),h.a.createElement("button",{onMouseDown:function(t){return e.tableUtils.insertColumn("before")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Column_Before")),h.a.createElement("button",{onMouseDown:function(t){return e.tableUtils.insertColumn("after")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Column_After")),h.a.createElement("div",{className:"seafile-divider dropdown-divider"}),h.a.createElement("button",{onMouseDown:this.tableUtils.removeRow,className:"seafile-contextmenu-item dropdown-item"},this.props.t("Remove_Row")),h.a.createElement("button",{onMouseDown:this.tableUtils.removeColumn,className:"seafile-contextmenu-item dropdown-item"},this.props.t("Remove_Column")))}}]),t}(h.a.Component),bp=Object(I.d)("seafile-editor")(_p),wp=function e(t){v(this,e),this.type=t.type||"link",this.children=t.children||[{text:""}],this.data=t.data||{href:""}},Ep=function(e){return Object.assign({},new wp(e))},Tp=function e(t){v(this,e),this.type=t.type||"image",this.data=t.data||{src:""},this.children=t.children||[{text:""}]},xp=function(e){return Object.assign({},new Tp(e))},Cp=n(196),Sp=n.n(Cp),kp=function(e){var t=e.exec,n=new vs(e),a=new ks(e),r=new xs(e),i=new Ls(e);return e.exec=function(o){var s=o.data,l=e.selection;switch(o.type){case"set_header":Mo.b.setNodes(e,{type:o.headerType});break;case"insert_data":var c=ps(s),u=c.fragment,d=c.type,p=c.html,h=c.text;if("file"===d)return void t(o);if(Sp()(h)&&!a.isInCodeBlock()){if(h.endsWith("png")||h.endsWith("PNG")||h.endsWith("jpg")||h.endsWith("JPG")||h.endsWith("gif")||h.endsWith("GIF")){var f=xp({data:{src:h}});return void Mo.b.insertNodes(e,f)}if(window.seafileEditor.editorApi.isInternalFileLink(h)){var m=h.lastIndexOf("/");if(m>0){var g=h.substring(m+1),v=decodeURIComponent(g);return void ds.insertNodes(e,[Ep({data:{href:h},children:[{text:v}]}),{text:" "}])}}if(window.seafileEditor.editorApi.isInternalDirLink(h)){var y=h.lastIndexOf("/");if(y>0){g=h.substring(y+1);var _=decodeURIComponent(g);return void ds.insertNodes(e,[Ep({data:{href:h},children:[{text:_}]}),{text:" "}])}}return void ds.insertNodes(e,[Ep({data:{href:h},children:[{text:h}]}),{text:" "}])}if(r.isInTable())return void r.pasteContentInTable(o);if(n.isInlist())return void n.pasteContentInList(o);if(a.isInCodeBlock())return void a.pasteContentInCodeBlock(o);if(i.isInBlockquote())return void i.pasteContentInBlockquote(o);if("fragment"===d)return 1===u.length&&"paragraph"===u[0].type?void Mo.b.insertFragment(e,u):void Mo.b.insertNodes(e,u);if("html"===d){var b=gs(p);return void Mo.b.insertNodes(e,b)}if("text"===d)return void h.split(/\r\n|\n/g).forEach((function(t,n){0===n?Mo.b.insertText(e,t):Mo.b.insertNodes(e,{type:"paragraph",children:[{text:t}]})}));t(o);break;case"set_blockquote":if(!l)return;i.wrapBlockquote();break;case"unwrap_blockquote":i.unwrapBlockquote();break;case"set_ordered_list":if(!l)return;n.wrapList("ordered_list");break;case"set_unordered_list":if(!l)return;n.wrapList("unordered_list");break;case"unwrap_unordered_list":case"unwrap_ordered_list":n.unwrapList();break;case"wrap_check_list_item":if(0===n.getCurrentListItem().length)n.wrapList("unordered_list"),Mo.b.setNodes(e,{data:{checked:!1}},{match:{type:"list_item"}});else{var w,E=Mo.b.nodes(e,{at:e.selection,match:{type:"list_item"}}),T=!0,x=!1,C=void 0;try{for(var S,k=E[Symbol.iterator]();!(T=(S=k.next()).done);T=!0){w=S.value}}catch(L){x=!0,C=L}finally{try{T||null==k.return||k.return()}finally{if(x)throw C}}Mo.b.setNodes(e,{data:{checked:!1}},{at:w[1]})}break;case"unwrap_check_list_item":var O=n.getCurrentListItem();Mo.b.setNodes(e,{data:{}},{at:O[0][1]});break;case"set_code_block":a.wrapCodeBlock();break;case"unwrap_code_block":a.unwrapCodeBlock();break;case"exit_code_block":Mo.b.splitNodes(e,{match:"block",always:!0}),a.unwrapCodeBlock(!0);break;case"increase_code_block_indent":if(gp(e.selection)){var M=Mo.b.match(e,e.selection,"block");Mo.b.insertText(e,"\t",{at:{anchor:{path:[].concat(N(M[1]),[0]),offset:0},focus:{path:[].concat(N(M[1]),[0]),offset:0}}})}break;case"insert_table":r.insertTable();break;case"remove_table":r.removeTable();break;case"insert_row":r.insertRow();break;case"insert_column":r.insertColumn();break;case"remove_row":r.removeRow();break;case"remove_column":r.removeColumn();break;case"set_table_cell_align":r.setAlign(o.align);break;case"exit_table":r.exitTable();break;default:t(o)}},e},Op=function(e){var t=e.exec,n=e.isInline;return e.isInline=function(e){return"link"===e.type||"image"===e.type||n(e)},e.exec=function(n){var a=n.data,r=e.selection;switch(n.type){case"insert_link_at_selection":var i=(r=n.elementData.selection)&&Mo.h.isCollapsed(r),o=Ep({type:"link",children:[{text:n.elementData.text}],data:{href:n.elementData.url}});i?Mo.b.insertNodes(e,o,{at:r}):(Mo.b.wrapNodes(e,o,{split:!0,at:r}),Mo.b.select(e,r),Mo.b.collapse(e,{edge:"end"}));break;case"unwrap_link":Mo.b.unwrapNodes(e,{match:{type:"link"}});break;case"set_link":Mo.b.removeNodes(e,{match:{type:"link"}});var s=Ep({type:"link",data:{href:n.elementData.url},children:[{text:n.elementData.text}]});Mo.b.insertNodes(e,s);break;case"insert_image_at_selection":var l=xp({data:n.data});Mo.b.insertNodes(e,l,{at:n.at});break;case"set_image":Mo.b.setNodes(e,{data:a},{match:{type:"image"},at:e.selection,voids:!0});break;case"insert_data":if(a.types.includes("Files")&&a.files[0].type.includes("image"))return void window.seafileEditor.editorApi.uploadLocalImage(n.data.files[0]).then((function(t){var n=xp({data:{src:t}});Mo.b.insertNodes(e,n)}));t(n);break;default:t(n)}},e},Mp=function(e){var t=e.isVoid;return e.isVoid=function(e){return"image"===e.type||t(e)},e},Lp=/\*\*\*(\S+)\*\*\*|\_\_\_(\S+)\_\_\_|\*\_\_(\S+)\_\_\*|\_\*\*(\S+)\*\*\_|\_\_\*(\S+)\*\_\_|\*\*\_(\S+)_\*\*/,Dp=/\*\*(\S+)\*\*|\_\_(\S+)\_\_/,Rp=/\*(\S+)\*|_(\S+)_/,Np=/\`(\S+)\`/,Ip=function e(t){var n=this;v(this,e),this.getTextInfoBeforeSelection=function(){var e=n.editor,t=n.editor.selection.anchor,a=Qo(Mo.b.nodes(e,{match:"block"}),1)[0],r=a?a[1]:[],i={anchor:t,focus:Mo.b.start(e,r)};return{range:i,beforeText:Mo.b.text(e,i),block:a}},this.setTextMarkByShortCut=function(e,t){var a,r,i,o,s=n.editor,l=s.selection,c=Qo(Mo.b.node(s,l),2),u=c[0],d=c[1],p=u.text,h=l.anchor.offset,f=p[h-1];if(("_"===f||"`"===f||"*"===f)&&((o=p.match(Lp))?(i=o.index,a={BOLD:!0,ITALIC:!0}):(o=p.match(Dp))?(i=o.index,a={BOLD:!0}):(o=p.match(Rp))?(i=o.index,a={ITALIC:!0}):(o=p.match(Np))&&(i=o.index,a={CODE:!0}),o)){for(var m=1;m<o.length;m++)if(o[m]){r=o[m];break}a=Object.assign({BOLD:!1,ITALIC:!1,CODE:!1},a),Mo.b.select(s,{anchor:{path:d,offset:i},focus:{path:d,offset:h}}),Mo.b.delete(s,s.selection),Mo.b.insertText(s," "),Mo.b.insertNodes(s,[Object(is.a)({text:r},a),{text:" "}]);var g=Mo.f.next(Mo.f.next(d));return Mo.b.select(s,g),void Mo.b.collapse(s,{edge:"end"})}e(t)},this.editor=t},Ap={"1.":"ordered_list","*":"unordered_list","-":"unordered_list",">":"blockquote","#":"header_one","##":"header_two","###":"header_three","####":"header_four","#####":"header_five","######":"header_six","   ":"code_block"},Pp=function(e){var t=e.exec,n=new vs(e),a=new ks(e),r=new xs(e),i=new Ip(e),o=new Ls(e);return e.exec=function(s){var l=e.selection;switch(s.type){case"split_list_item":Mo.b.splitNodes(e,{match:"block",always:!0});break;case"insert_break":if(!Mo.h.isCollapsed(e.selection))return void t(s);var c=Qo(Mo.b.nodes(e,{match:{type:"link"}}),1)[0];if(c){var u=c[1];if(Mo.b.isEnd(e,e.selection.anchor,u)){var d={path:Mo.f.next(u),offset:0};Mo.b.select(e,d)}}if(o.isInBlockquote()){var p=Qo(Mo.b.nodes(e,{match:"block"}),1)[0];if(0===Mo.d.text(p[0]).length)return void Mo.b.unwrapNodes(e,{match:{type:"blockquote"},split:!0})}if(n.isInlist()){var h=ds.getNodesByTypeAtRange(e,"list_item");if(0===Mo.d.text(h[0]).length)return void n.unwrapList();if(gp(e.selection))return void ds.splitNodesAtPoint(e,{at:e.selection.anchor,match:{type:"list_item"},always:!0})}if(a.isInCodeBlock())return void a.splitCodeLine();if(r.isInTable())return void r.insertRow();t(s);break;case"insert_text":if(" "===s.text&&gp(l)){var f=i.getTextInfoBeforeSelection(),m=f.beforeText,g=f.range,v=f.block,y=v[1],_=Ap[m];return _?(Mo.b.select(e,g),Mo.b.delete(e),"blockquote"===_&&(o.isInBlockquote()||e.exec({type:"set_blockquote"})),_.includes("header")&&"paragraph"===v[0].type&&1===y.length&&e.exec({type:"set_header",headerType:_}),"ordered_list"===_&&e.exec({type:"set_ordered_list"}),"unordered_list"===_&&e.exec({type:"set_unordered_list"}),"code_block"!==_||a.isInCodeBlock()?void 0:void e.exec({type:"set_code_block"})):a.isInCodeBlock()?void t(s):void i.setTextMarkByShortCut(t,s)}if("`"===s.text&&gp(e.selection)){var b=i.getTextInfoBeforeSelection(),w=b.beforeText,E=b.range;if("``"===w&&!a.isInCodeBlock())return Mo.b.select(e,E),Mo.b.delete(e),void e.exec({type:"set_code_block"})}t(s);break;case"increase_list_item_depth":n.increaseListDepth();break;case"delete_backward":if(0===l.anchor.offset&&gp(l)){if(Qo(Mo.b.nodes(e,{match:"block"}),1)[0][0].type.includes("header"))return void e.exec({type:"set_header",headerType:"paragraph"});if(o.isInBlockquote())return void e.exec({type:"unwrap_blockquote"});if(n.isInlist()){var T=Qo(Mo.b.nodes(e,{match:[{type:"ordered_list"},{type:"unordered_list"}]}),1)[0][0];if(1===T.children.length&&0===Mo.d.text(T).length)return void n.unwrapList()}if(a.isInCodeBlock()){var x=Mo.b.match(e,e.selection,{type:"code_block"})[0],C=x.children;if(0===Mo.d.text(x).length&&1===C.length)return void e.exec({type:"unwrap_code_block"})}if(r.isInTable()){var S=Mo.b.match(e,e.selection,"block")[1];if(0===Mo.b.start(e,S).offset)return}}t(s);break;default:t(s)}},e},Yp=function(e){var t=e.normalizeNode;return e.normalizeNode=function(n){var a=Qo(n,2),r=a[0],i=a[1],o=r.type;if(1===i.length&&"list_item"===o&&ds.wrapNodes(e,{type:"unordered_list",children:[r]},{at:i}),1===i.length&&("ordered_list"===o||"unordered_list"===o)){var s=i[0],l=e.children[s-1],c=e.children[s+1];l&&l.type===o&&ds.mergeNodes(e,{at:i}),c&&c.type===o&&ds.mergeNodes(e,{at:[s+1]})}return 1===i.length&&i[0]===e.children.length-1&&("paragraph"===r.type&&ds.isEmptyParagraph(r)||ds.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[i[0]+1]})),"blockquote"===o&&r.children.forEach((function(t,n){var a=[].concat(N(i),[n]);"blockquote"===t.type&&ds.unwrapNodes(e,{at:a})})),"link"===o&&""===Mo.d.text(r)&&ds.removeNodes(e,{at:i}),t([r,i])},e},Fp={fragment:"application/x-slate-fragment",html:"text/html",text:"text/plain"};var jp=function(e,t,n){var a=Fp[t],r=e.dataTransfer||e.clipboardData;r.setData(a,n),r.setData("text",r.getData("text"))},Up=function e(t){var n=this;v(this,e),this.onKeyDown=function(e){if(P()("shift+enter",e)&&(e.preventDefault(),n.listUtils.isInlist()&&n.editor.exec({type:"split_list_item"})),P()("shift+tab",e)&&(e.preventDefault(),n.listUtils.isInlist())){var t=Qo(Mo.b.nodes(n.editor,{match:[{type:"unordered_list"},{type:"ordered_list"}],at:n.editor.selection,mode:"highest"}),1)[0];if(!t)return;var a=t[0].type;n.editor.exec({type:"unwrap_".concat(a)})}if(P()("tab",e)&&Mo.h.isCollapsed(n.editor.selection)&&(e.preventDefault(),n.codeUtils.isInCodeBlock()&&n.editor.exec({type:"increase_code_block_indent"}),n.listUtils.isInlist()&&n.editor.exec({type:"increase_list_item_depth"})),P()("mod+enter",e)&&(e.preventDefault(),n.codeUtils.isInCodeBlock()&&n.editor.exec({type:"exit_code_block"}),n.tableUtils.isInTable()&&n.editor.exec({type:"exit_table"})),P()("mod+b",e)&&(e.preventDefault(),n.codeUtils.isInCodeBlock()||n.editor.exec({type:"format_text",properties:{BOLD:!0}})),P()("mod+i",e)&&(e.preventDefault(),n.codeUtils.isInCodeBlock()||n.editor.exec({type:"format_text",properties:{ITALIC:!0}})),P()("mod+/",e)&&(e.preventDefault(),n.codeUtils.isInCodeBlock()||n.editor.exec({type:"format_text",properties:{CODE:!0}})),P()("backspace",e)){var r=ds.match(n.editor,n.editor.selection,"inline");if(r&&"image"===r[0].type)return void n.editor.exec({type:"delete_backward",unit:"character"})}},this.onCopy=function(e,t){if(n.tableUtils.isInTable()){e.preventDefault();var a=n.tableUtils.getSelectedTableCells();if(!a)return void jp(e,"text",ds.text(t,t.selection));var r=window.btoa(encodeURIComponent(JSON.stringify(a)));jp(e,"fragment",r)}else;},this.editor=t,this.listUtils=new vs(t),this.codeUtils=new ks(t),this.tableUtils=new xs(t)},Hp=(n(995),n(996),n(997),n(998),n(999),n(1e3),n(1001),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onChange=function(e){n.setState({value:e}),!0===n.state.isShowContextMenu&&(n.setState({isShowContextMenu:!1}),n.contextMenuPosition={}),n.editor.operations.some((function(e){return"set_selection"!==e.type&&"set_value"!==e.type}))&&(n.contentChanged=!0)},n.foucsEditor=function(){n.editorRef.firstChild.focus()},n.hasContentChange=function(){return n.contentChanged},n.onToggleLinkDialog=function(){n.setState({isShowLinkDialog:!n.state.isShowLinkDialog})},n.onToggleImageDialog=function(){n.setState({isShowImageDialog:!n.state.isShowImageDialog})},n.onContextMenu=function(e){n.tableUtils.isInTable()&&(e.preventDefault(),n.contextMenuPosition={left:e.clientX,top:e.clientY},n.setState({isShowContextMenu:!n.state.isShowContextMenu}))},n.editor=Yp(Pp(Mp(kp(Op(Object(mp.a)(Object(Ds.e)(Object(Mo.j)()))))))),n.editor.editorApi=e.editorApi,window.seafileEditor=n.editor,n.editorUtils=new zs(n.editor),n.tableUtils=new xs(n.editor),n.plugin=new Up(n.editor),n.editorRef=null,n.contextMenuPosition={},n.state={value:qo(e.value),isShowLinkDialog:!1,isShowImageDialog:!1,isShowBigImage:!1,isShowContextMenu:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"getMarkdown",value:function(){return this.contentChanged=!1,function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){Ao(t,Yo(i.value))}}catch(l){a=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}var s={type:"root",children:t};return Ro.stringify(s)}(this.state.value)}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,a=t.isShowLinkDialog,r=t.isShowImageDialog,i=this.editor,o=this.foucsEditor,s=this.editorUtils.getToolbarStatus(),l=(this.props.readOnly,gp(i.selection));return h.a.createElement("div",{className:"seafile-editor-module seafile-simple-editor"},h.a.createElement(Ds.c,{editor:this.editor,value:n,onChange:this.onChange},h.a.createElement("div",{className:"seafile-rich-editor-topbar"},h.a.createElement(fp,{onToggleLinkDialog:this.onToggleLinkDialog,onToggleImageDialog:this.onToggleImageDialog,toolbarStatus:s,isSimpleEditor:!0,isShowLinkDialog:a,isShowImageDialog:r})),h.a.createElement("div",{className:"editor-container"},h.a.createElement("div",{ref:function(t){return e.editorRef=t},onClick:1===n.length&&"paragraph"===n[0].type&&0===Mo.d.text(n[0].children[0]).length?o:null,className:"editor article"},h.a.createElement(Ds.a,{renderElement:function(e){return function(e,t){var n=e.attributes,a=e.children,r=e.element;switch(r.type){case"paragraph":return h.a.createElement("p",n,a);case"header_one":return h.a.createElement("h1",Object.assign({},n,{id:"user-content-"+r.children[0].text}),a);case"header_two":return h.a.createElement("h2",Object.assign({},n,{id:"user-content-"+r.children[0].text}),a);case"header_three":return h.a.createElement("h3",Object.assign({},n,{id:"user-content-"+r.children[0].text}),a);case"header_four":return h.a.createElement("h4",n,a);case"header_five":return h.a.createElement("h5",n,a);case"header_six":return h.a.createElement("h6",n,a);case"link":return h.a.createElement(Rs,{attributes:n,children:a,node:r});case"image":return h.a.createElement(Vs,Object.assign({},e,{SlateNode:Ys}));case"blockquote":return h.a.createElement("blockquote",n,a);case"list_item":return void 0===r.data.checked?h.a.createElement("li",n,a):h.a.createElement(Fs,Object.assign({editor:t},e));case"code_block":return h.a.createElement(Vs,Object.assign({},e,{editor:t,SlateNode:Hs}));case"code_line":return h.a.createElement("p",n,a);case"unordered_list":return h.a.createElement("ul",n,a);case"ordered_list":return h.a.createElement("ol",n,a);case"table":return h.a.createElement(Bs,Object.assign({editor:t},e));case"table_row":return h.a.createElement("tr",n,a);case"table_cell":var i=r.data.align;return i=["left","right","center"].find((function(e){return e===i}))?i:"left",h.a.createElement("td",Object.assign({style:{textAlign:i}},n),a);default:return h.a.createElement("p",n,a)}}(e,i)},className:"editor-component",renderLeaf:Gs,onContextMenu:this.onContextMenu,onCopy:function(t){e.plugin.onCopy(t,i)},autoFocus:!0,onKeyDown:this.plugin.onKeyDown,decorate:Ws})),s.isLinkActive&&l?h.a.createElement(Is,null,h.a.createElement(yp,{onToggleLinkDialog:this.onToggleLinkDialog,editorUtils:this.editorUtils})):null,this.state.isShowContextMenu&&h.a.createElement(Is,null,h.a.createElement(bp,{tableUtils:this.tableUtils,contextMenuPosition:this.contextMenuPosition})))))}}]),t}(h.a.Component)),Bp=Object(I.d)("seafile-editor")(Hp),Vp=function e(t,n){for(var a=0;t&&a<=t.length-1;){var r=t[a];if("link"===r.type)n.links.push(r.data.href);else if("image"===r.type)n.images.push(r.data.src);else if("list_item"===r.type&&r.data){var i=r.data;i.hasOwnProperty("checked")&&(n.checklist.total+=1,i.checked&&n.checklist.completed++),e(r.children,n)}else e(r.children,n);a++}},Gp=function(e){for(var t="",n=0;n<e.children.length;n++){var a=e.children[n],r=a.data,i=a.type;"link"===i?t+="":"list_item"===i?r&&r.hasOwnProperty("checked")?t+="":t+=Mo.d.text(a):a.hasOwnProperty("text")?t+=a.text:t+=Mo.d.text(a)}return t},Wp=function(e,t){for(var n="",a=0;a<e.length;a++){if((n+=Gp(e[a])+" ").length>=50)break}t.previewText=n},zp=function(e){var t={previewText:"",images:[],links:[],checklist:{total:0,completed:0}};return Vp(e,t),Wp(e,t),t},qp=function(){function e(){var t=this;v(this,e),this.uploadLocalImage=function(e){var n;return window.dtableWebAPI.getTableAssetUploadLink(window.dtable.workspaceID,window.dtable.fileName).then((function(a){var r=a.data.upload_link+"?ret-json=1",i=new File([e],t.getImageFileNameWithTimestamp(e),{type:e.type}),o=new FormData;return n=a.data.parent_path,o.append("parent_dir",n),o.append("relative_path","images/auto-upload"),o.append("file",i),window.dtableWebAPI.uploadImage(r,o,t.onUploadProgress)})).then((function(e){return t._getImageURL(e.data[0].name,n)}))}}return _(e,[{key:"getImageFileNameWithTimestamp",value:function(e){return"image-"+Date.now().toString()+e.name.slice(e.name.lastIndexOf("."))}},{key:"isInternalDirLink",value:function(e){return new RegExp("".concat(window.dtable.server,"/#[a-z-]*?/lib/[0-9a-f-]{36}.*")).test(e)}},{key:"isInternalFileLink",value:function(e){return new RegExp("".concat(window.dtable.server,"/lib/[0-9a-f-]{36}/file.*")).test(e)}},{key:"_getImageURL",value:function(e,t){return window.dtable.server+"/workspace/"+window.dtable.workspaceID+t+"/images/auto-upload/"+encodeURIComponent(e)}}]),e}(),Kp=(n(1002),new qp),Xp=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){n.hasEditorChange()&&n.setNewValue();var e={};return e[n.props.column.key]=n.value,e},n.setNewValue=function(){var e=n.editor.getMarkdown(),t=n.editor.getValue(),a=zp(t),r=a.previewText,i=a.images,o=a.links,s=a.checklist,l=Object.assign({},n.value,{text:e,preview:r,images:i,links:o,checklist:s});n.value=l},n.renderMarkdown=function(){var e=n.props.value?n.props.value.text:"";return h.a.createElement(el,{markdownContent:e,showTOC:!1})},n.getInputNode=function(){var e=m.a.findDOMNode(E(n));return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onKeyDown=function(e){e.stopPropagation()},n.onRef=function(e){n.editor=e},n.closeDialog=function(){"r"===window.dtable.permission?"row_expand"===n.props.mode?n.props.toggleEditor():n.props.onCommit():n.hasEditorChange()?"row_expand"===n.props.mode?(n.setNewValue(),n.props.onCommit(n.value,n.props.column),n.props.toggleEditor()):n.props.onCommit():n.props.onCommitCancel?n.props.onCommitCancel():n.props.toggleEditor()},n.hasEditorChange=function(){return"r"!==window.dtable.permission&&n.editor.hasContentChange()},n.state={isSaveActive:!1},n.value=e.value||{text:"",preview:"",links:[],images:[]},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;"r"===window.dtable.permission||(this.timer=setInterval((function(){e.hasEditorChange()&&("row_expand"===e.props.mode?(e.setNewValue(),e.props.onCommit(e.value,e.props.column)):e.props.onCommitData())}),6e4))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e="r"===window.dtable.permission;return h.a.createElement(h.a.Fragment,null,h.a.createElement("input",{ref:this.setInputRef,type:"hidden",className:"form-control",value:""}),h.a.createElement(Oo,null,h.a.createElement("div",{className:"longtext-modal-dialog"},h.a.createElement("div",{className:"longtext-modal-dialog-header ".concat(e?"longtext-modal-dialog-header-border":"")},h.a.createElement("span",null,this.props.column.name),h.a.createElement("span",{onClick:this.closeDialog,className:"longtext-close"},"\xd7")),h.a.createElement("div",{onKeyDown:this.onKeyDown,className:"longtext-container ".concat(e?"longtext-container-scroll":"")},e?this.renderMarkdown():h.a.createElement(Bp,{onRef:this.onRef,editorApi:Kp,value:this.value.text})))))}}]),t}(h.a.PureComponent),Jp=n(512);n(1010),n(1011);var Zp=function(e){var t="r"===window.dtable.permission,n=e.imageItems,a=e.imageIndex,r=e.deleteImage,i=e.downloadImage,o=e.onRotateImage,s=n.length,l=n[a],c=l?decodeURI(l.slice(l.lastIndexOf("/")+1)):"";if(window.isMobile)return h.a.createElement(p.Fragment,null,h.a.createElement(Jp.a,{wrapperClassName:"mobile-image-previewer",mainSrc:n[a],nextSrc:n[(a+1)%s],prevSrc:n[(a+s-1)%s],onCloseRequest:e.closeImagePopup,onMovePrevRequest:e.moveToPrevImage,onMoveNextRequest:e.moveToNextImage,imagePadding:0,animationDisabled:!0,imageTitle:c,reactModalStyle:{overlay:{zIndex:ta,backgroundColor:"#000",height:"calc(100% - 100px)"}}}),h.a.createElement("div",{className:"image-footer-choice mobile-image-footer-choice"},h.a.createElement("div",{className:"image-footer-icon"},!t&&h.a.createElement("span",{className:"image-footer-choice-item",onClick:function(){r(a,"previewer")}},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"})),h.a.createElement("span",{className:"image-footer-choice-item",onClick:function(){i(l)}},h.a.createElement("i",{className:"dtable-font dtable-icon-download"})),!t&&o&&h.a.createElement("span",{className:"image-footer-choice-item",onClick:function(e){o(a,e)}},h.a.createElement("i",{className:"dtable-font dtable-icon-rotate"})))));var u=[];return!t&&r&&u.push(h.a.createElement("button",{className:"dtable-font dtable-icon-delete",onClick:function(){r(a,"previewer")}})),i&&u.push(h.a.createElement("button",{className:"dtable-font dtable-icon-download",onClick:function(){i(l)}})),h.a.createElement(Jp.a,{wrapperClassName:"PC-image-previewer",imageTitle:c,toolbarButtons:u,mainSrc:n[a],nextSrc:n[(a+1)%s],prevSrc:n[(a+s-1)%s],onCloseRequest:e.closeImagePopup,onMovePrevRequest:e.moveToPrevImage,onMoveNextRequest:e.moveToNextImage,onRotateImage:o&&!t?function(e){o(a,e)}:null,imagePadding:70,reactModalStyle:{overlay:{zIndex:ta}}})},$p="previewer",Qp=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).showLargeImage=function(){var e=n.props.imageItemUrl;n.props.showLargeImage(e)},n.showImageToolbar=function(){var e=n.props.imageItemUrl,t=window.dtable.server,a=e.indexOf(t)>-1;n.setState({isShowToolbar:!0,isShowDownloadOperation:a})},n.hideImageToolbar=function(){n.setState({isShowToolbar:!1,isShowDownloadOperation:!1})},n.downloadImage=function(e){e.stopPropagation(),n.props.downloadImage(n.props.imageItemUrl)},n.deleteImage=function(e){e.stopPropagation();var t=n.props.itemIndex;n.props.deleteImage(t,$p)},n.renderImageFooter=function(){var e=n.state.isShowDownloadOperation,t="r"===window.dtable.permission;return h.a.createElement("div",{className:"image-footer-choice"},h.a.createElement("div",{className:"image-footer-title"}),h.a.createElement("div",{className:"image-footer-icon"},e&&h.a.createElement("span",{className:"image-footer-choice-item",onClick:n.downloadImage},h.a.createElement("i",{className:"dtable-font dtable-icon-download"})),!t&&h.a.createElement("span",{className:"image-footer-choice-item",onClick:n.deleteImage},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"}))))},n.state={isShowToolbar:!1,isShowDownloadOperation:!1};var a=document.body.offsetWidth;return n.containerSize=a<767.8?(a-55)/2+"px":(a-80)/3+"px",n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.imageItemUrl,t=am(e);return h.a.createElement(p.Fragment,null,h.a.createElement("div",{style:window.isMobile?{width:this.containerSize,height:this.containerSize}:{},onClick:this.showLargeImage,className:"image-previewer-box",onMouseEnter:this.showImageToolbar,onMouseLeave:this.hideImageToolbar},h.a.createElement("img",{src:t,alt:""}),this.state.isShowToolbar&&this.renderImageFooter()))}}]),t}(h.a.Component),eh="addition",th=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){n.state.isShowLargeImage?n.hideLargeImage():n.props.closeEditor&&n.props.closeEditor()},n.showLargeImage=function(e){var t=n.props.value;n.setState({isShowLargeImage:!0,largeImageIndex:t.indexOf(e)})},n.hideLargeImage=function(){n.setState({isShowLargeImage:!1,largeImageIndex:""})},n.moveNext=function(){var e=n.props.value;n.setState((function(t){return{largeImageIndex:(t.largeImageIndex+1)%e.length}}))},n.movePrev=function(){var e=n.props.value;n.setState((function(t){return{largeImageIndex:(t.largeImageIndex+e.length-1)%e.length}}))},n.togglePreviewer=function(){n.props.togglePreviewer(eh),n.props.resetAdditionImage()},n.deleteImage=function(e,t){n.props.deleteImage(e,t),n.hideLargeImage()},n.downloadImage=function(e){var t=e.indexOf("?dl=1");rm(-1!==t?e:e+"?dl=1")},n.state={isShowLargeImage:!1,largeImageIndex:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){window.isMobile&&(history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1))}},{key:"componentWillUnmount",value:function(){window.isMobile&&window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.t,r="r"===window.dtable.permission;return h.a.createElement("div",{className:"image-previewer-container"},h.a.createElement("div",{className:"image-previewer-wrapper ".concat(0===n.length&&window.isMobile?"d-none":"")},h.a.createElement("div",{className:"image-previewer-content"},n.length>0&&n.map((function(t,a){return h.a.createElement(Qp,{key:a,imageItemUrl:t,value:n,itemIndex:a,deleteImage:e.props.deleteImage,showLargeImage:e.showLargeImage,downloadImage:e.downloadImage})})))),this.state.isShowLargeImage&&h.a.createElement(Zp,{imageItems:n,imageIndex:this.state.largeImageIndex,closeImagePopup:this.hideLargeImage,moveToPrevImage:this.movePrev,moveToNextImage:this.moveNext,deleteImage:this.deleteImage,downloadImage:this.downloadImage,onRotateImage:this.props.onRotateImage}),window.isMobile&&h.a.createElement("div",{className:"view-partition ".concat(0===n.length?"d-none":""),style:{borderTop:"1px solid #e9e9e9"}}),!r&&h.a.createElement(Yr,{callBack:this.togglePreviewer,footerName:a("Add_Images")}))}}]),t}(h.a.Component),nh=Object(I.d)("dtable")(th),ah=n(197);n(458);var rh=function(e){return h.a.createElement(ah.Progress,{type:"circle",percent:e.uploadPercent,width:e.width||30,theme:{default:{color:e.defaultColor||"rgba(0, 0, 0, 0.6)"},active:{color:e.activeColor||"#fff"},success:{symbol:e.tipText,color:e.successColor||"#fff"}},style:{color:"#fff",fontSize:"12px",transform:"rotate(-90deg)",position:"absolute",zIndex:$n},symbolClassName:e.className||"file-upload-span"})},ih=o.FRAGMENT,oh=o.HTML,sh=o.TEXT;function lh(e,t){return e.types&&e.types.length?e.getData(t):t===sh&&e.getData("Text")||null}function ch(e){var t=e.split("\n"),n=t[0].split("\t").map((function(e,t){return{key:"col".concat(t),type:"text"}})),a=[];return t.forEach((function(e){if(e){e=e.split("\t");var t={};e.map((function(e,n){t["col".concat(n)]=e})),a.push(t)}})),{copiedRows:a,copiedCols:n}}var uh=function(e){var t=e.dataTransfer||e.clipboardData,n=lh(t,ih),a=lh(t,oh),r=lh(t,sh),i=function(e){var t;try{e.items&&e.items.length?t=Array.from(e.items).map((function(e){return"file"===e.kind?e.getAsFile():null})).filter((function(e){return e})):e.files&&e.files.length&&(t=Array.from(e.files))}catch(n){e.files&&e.files.length&&(t=Array.from(e.files))}return t}(t);return console.log("-------------------- Copied Data Start -----------------------"),console.log("dtableFragment:",n),console.log("html:",a),console.log("text:",r),console.log("files:",i),console.log("-------------------- Copied Data End -------------------------"),n?{"dtable-fragment":JSON.parse(n),type:"dtable-fragment"}:a?{"dtable-fragment":ch(r),html:a,text:r,type:"html"}:i&&i.length?{"dtable-fragment":ch(r),files:i,type:"files"}:r?{"dtable-fragment":ch(r),text:r,type:"text"}:void 0},dh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleFileChange=function(e){e.persist(),n.props.handleFileChange(e)},n.deleteImage=function(e,t){n.props.deleteImage(t,"localPicture")},n.imageDragEnter=function(e){e.preventDefault(),n.enteredCounter++,0!==n.enteredCounter&&n.setState({isImageTipShow:!0})},n.imageDragOver=function(e){e.stopPropagation(),e.preventDefault()},n.imageDragLeave=function(e){n.enteredCounter--,0===n.enteredCounter&&n.setState({isImageTipShow:!1})},n.imageDrop=function(e){e.persist(),n.enteredCounter=0,n.setState({isImageTipShow:!1});var t=e.dataTransfer.files;/image/i.test(t[0].type)&&n.props.handleFileChange(e,t[0])},n.imagePaste=function(e){e.stopPropagation();var t=uh(e);if(t.files){var a=t.files[0];n.props.handleFileChange(e,a)}},n.imageMouseEnter=function(){n.setState({isImagePasteTipShow:!0})},n.imageMouseLeave=function(){n.setState({isImagePasteTipShow:!1})},n.imageUploadClick=function(){n.refs.image_file.click()},n.onInputFile=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},n.showDeleteIcon=function(e,t){n.setState({isShowDeleteIcon:!0,enterImageIndex:t})},n.hideDeleteIcon=function(){n.setState({isShowDeleteIcon:!1,enterImageIndex:-1})},n.imageUploadAgain=function(){n.props.handleFileChange(n.props.event)},n.calculateImageArr=function(){var e=n.props.t,t=[],a=n.state.isImageTipShow;return Array.isArray(n.props.uploadLocalImageValue)&&(t=n.props.uploadLocalImageValue.map((function(e,t){var a=am(e);return h.a.createElement("div",{key:"image-wrapper-"+t,className:"image-wrapper",onMouseEnter:function(e){return n.showDeleteIcon(e,t)},onMouseLeave:n.hideDeleteIcon},h.a.createElement("div",{className:"image-content"},h.a.createElement("img",{src:a,alt:""})),n.state.isShowDeleteIcon&&n.state.enterImageIndex===t&&h.a.createElement("div",{className:"delete-image-icon",onClick:function(e){return n.deleteImage(e,t)}},h.a.createElement("span",{className:"image-delete-span"},"x")))})),n.props.isUploading&&t.push(h.a.createElement("div",{className:"image-wrapper",key:"image-wrapper-circle"},h.a.createElement("div",{className:"image-upload-percent"},h.a.createElement("img",{src:n.props.thumbnailSrc,style:{position:"absolute",zIndex:"".concat(100===n.props.uploadPercent?3:1)},alt:""}),n.props.uploadPercent<100&&!n.props.isErrorTip&&h.a.createElement(rh,{uploadPercent:n.props.uploadPercent}),100===n.props.uploadPercent&&h.a.createElement("div",{className:"image-upload-success"},h.a.createElement("div",{className:"image-upload-success-scale"},h.a.createElement("span",{className:"image-upload-success-tip"},e("Indexing")))),h.a.createElement("div",{className:"image-upload-mask"}),n.props.isErrorTip&&h.a.createElement("div",{className:"image-upload-error-tip"},h.a.createElement("span",null,e("Network_Error")),h.a.createElement("span",{className:"image-upload-again",onClick:n.imageUploadAgain},e("Re_upload")))))),t.push(h.a.createElement("div",{className:"image-wrapper",key:"image-wrapper-addition",onDragEnter:n.imageDragEnter,onDragOver:n.imageDragOver,onDragLeave:n.imageDragLeave,onDrop:n.imageDrop,onPaste:n.imagePaste,onClick:n.imageUploadClick},h.a.createElement("div",{className:"image-add-box"},h.a.createElement("div",{className:"image-add-button ".concat(a?"image-wrapper-drop-active":"")},h.a.createElement("i",{className:"dtable-font dtable-icon-add-files"}),h.a.createElement("input",{type:"file",className:"upload-image",accept:"image/*",ref:"image_file",onClick:n.onInputFile,onChange:n.handleFileChange})))))),t},n.state={isImageTipShow:!1,isShowDeleteIcon:!1,enterImageIndex:-1},n.enteredCounter=0,n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.isImageTipShow,t=this.props.t,n=this.calculateImageArr();return h.a.createElement(p.Fragment,null,n.length>1&&n,1===n.length&&h.a.createElement("div",{className:"image-upload-container ".concat(e?"image-upload-container-active":""),onDragEnter:this.imageDragEnter,onDragOver:this.imageDragOver,onDragLeave:this.imageDragLeave,onDrop:this.imageDrop,onPaste:this.imagePaste,onMouseEnter:this.imageMouseEnter,onMouseLeave:this.imageMouseLeave,onClick:this.imageUploadClick},h.a.createElement("div",{className:"image-tip-addition"},h.a.createElement("div",{className:"image-add-icon ".concat(e?"image-drop-active":"")},h.a.createElement("i",{className:"dtable-font dtable-icon-add-files"}),h.a.createElement("input",{type:"file",className:"upload-image",accept:"image/*",ref:"image_file",onClick:this.onInputFile,onChange:this.handleFileChange})),e?h.a.createElement("div",{className:"image-add-span"},t("Drag_and_drop_to_add_an_image")):h.a.createElement("div",{className:"image-add-span"},t("Drag_and_drop_images_or_click_or_paste_here_to_add"))),this.state.isImagePasteTipShow&&h.a.createElement(Lr,{className:"image-addition-paste",autoFocus:!0})))}}]),t}(h.a.Component),ph=Object(I.d)("dtable")(dh),hh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).saveImageLink=function(){var e=n.state.imageLink,t=E(n),a=new Image;a.onload=function(){(a.fileSize>0||a.width>0&&a.height>0)&&t.props.saveImageLink(e)},a.onerror=function(){t.setState({isShowErrorMessage:!0})},a.src=e},n.handleChange=function(e){var t=e.target.value;n.setState({imageLink:t})},n.imageLinkPaste=function(e){e.stopPropagation()},n.onKeyDown=function(e){e.stopPropagation()},n.state={imageLink:"",isShowErrorMessage:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.isShowErrorMessage,t=this.props.t;return h.a.createElement("div",{className:"image-link",onKeyDown:this.onKeyDown},h.a.createElement("div",{className:"image-link-container"},h.a.createElement(Lr,{className:"image-link-input",placeholder:t("Enter_a_URL"),onPaste:this.imageLinkPaste,onChange:this.handleChange}),h.a.createElement("span",{className:"image-link-icon dtable-font dtable-icon-url",onClick:this.saveImageLink})),e&&h.a.createElement("div",{className:"image-link-error-message"},t("Please_enter_the_correct_image_address")))}}]),t}(h.a.Component),fh=Object(I.d)("dtable")(hh),mh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(e){n.state.activeTab!==e&&n.setState({activeTab:e})},n.state={activeTab:"localPicture"},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.activeTab,t=this.props.t;return h.a.createElement("div",{className:"image-addition-container"},h.a.createElement("div",{className:"image-addition-left"},h.a.createElement("div",{className:"image-addition-nav"},h.a.createElement("div",{className:"addition-item ".concat("localPicture"===e?"selected-additoin-item":""),onClick:this.toggle.bind(this,"localPicture")},t("Local_Images")),h.a.createElement("div",{className:"addition-item ".concat("imageLink"===e?"selected-additoin-item":""),onClick:this.toggle.bind(this,"imageLink")},t("Image_Link")))),h.a.createElement("div",{className:"image-addition-right"},h.a.createElement("div",{className:"image-addition-right-container"},"localPicture"===e&&h.a.createElement(ph,{handleFileChange:this.props.handleFileChange,uploadLocalImageValue:this.props.uploadLocalImageValue,uploadPercent:this.props.uploadPercent,isErrorTip:this.props.isErrorTip,isUploading:this.props.isUploading,deleteImage:this.props.deleteImage,thumbnailSrc:this.props.thumbnailSrc}),"imageLink"===e&&h.a.createElement(fh,{saveImageLink:this.props.saveImageLink}))))}}]),t}(h.a.Component),gh=Object(I.d)("dtable")(mh),vh="previewer",yh="addition",_h=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.generateTimeStamp=function(e){var t=e;return e.indexOf("?a=")>1&&(t=e.slice(0,e.indexOf("?a=")+1)),t+"?a="+Math.random()},n.onRotateImage=function(e,t){if(e>=0&&0!==t){var a=n.state.value[e],r=window.dtable,i=r.workspaceID,o=r.fileName,s=window.dtableWebAPI,l=a.slice(a.indexOf("images/"));s.rotateImage(i,o,l,360-t).then((function(t){t.data&&t.data.success&&n.state.value.splice(e,1,n.generateTimeStamp(a))})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isErrorTip:!0,event:event})}))}},n.deleteImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.state.uploadLocalImageValue.slice(0),r=n.state.value.slice(0);n.state.editorView===vh?r.splice(e,1):"localPicture"===t&&a.splice(e,1),n.setState({uploadLocalImageValue:a,isUpdated:!0,value:r})},n.resetAdditionImage=function(){n.setState({uploadLocalImageValue:[],imageLinkValue:[]})},n.toggle=function(){if(n.state.isOpen&&n.state.isUpdated){if(n.state.editorView===yh){var e=n.state,t=e.value,a=e.uploadLocalImageValue,r=t.concat(a);return void n.setState({value:r},(function(){"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onCommit()}))}"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onCommit()}"row_expand"===n.props.mode&&n.props.renderImageEditorToggle(),n.setState({isOpen:!n.state.isOpen})},n.chooseInsertMode=function(e){n.setState({insertMode:e})},n.togglePreviewer=function(e){n.setState({editorView:e})},n.handleFileChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.persist();var a=t||e.target.files[0];if(a){n.setState({isUploading:!0,isUpdated:!0,isErrorTip:!1});var r=E(n),i=new FileReader;i.readAsDataURL(a),i.onload=function(e){r.setState({thumbnailSrc:e.target.result})},n.setUploadFileMessage(a)}},n.setUploadFileMessage=function(e){var t=window.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName;return t.getTableAssetUploadLink(r,i).then((function(t){var a=t.data;n.setState({assetUploadLinkMessage:a,uploadFileMessage:e},(function(){n.onUploadLocalFile()}))}))},n.onUploadLocalFile=function(){var e,t,a=window.dtableWebAPI,r=n.state,i=r.assetUploadLinkMessage,o=r.uploadFileMessage,s=i.upload_link+"?ret-json=1",l=new FormData;e=i.parent_path,t=i.img_relative_path,l.append("parent_dir",e),l.append("relative_path",t),l.append("file",o),a.uploadImage(s,l,n.onUploadProgress).then((function(a){var r=n._getImageURL(a.data[0].name,e,t),i=n.state.uploadLocalImageValue.slice(0);i.push(r),n.setState({isUploading:!1,uploadPercent:0,thumbnailSrc:"",uploadLocalImageValue:i})})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isErrorTip:!0,event:event})}))},n.onUploadProgress=function(e){var t=Math.floor(e.loaded/e.total*100);n.setState({uploadPercent:t})},n.calculateHeaderSpan=function(){var e=n.props,t=e.t,a=e.mode,r=n.state.editorView;return"row_expand"===a||r===vh?h.a.createElement("span",{key:"file-editor-title"},t("All_Images")):h.a.createElement("span",{onClick:n.showImageListPreviewer,className:"dtable-font dtable-icon-return mr-2",key:"file-editor-title"},h.a.createElement("span",{style:{fontSize:"16px",color:"#000",marginLeft:"1rem"}},t("Add_Images")))},n.showImageListPreviewer=function(){var e=n.state,t=e.value,a=e.uploadLocalImageValue,r=e.imageLinkValue,i=t.concat(a,r);n.setState({value:i}),n.togglePreviewer(vh)},n.onFileChooserToggle=function(){n.setState({isShowFileChooser:!n.state.isShowFileChooser})},n.saveImageLink=function(e){n.setState({imageLinkValue:e}),n.showImageListPreviewer()},n.state={value:e.value||[],insertMode:"url",editorView:"file_image_addition"!==e.openEditorMode&&e.value&&0!==e.value.length&&"row_expand"!==e.mode?vh:yh,isOpen:!0,isUploading:!1,uploadPercent:0,thumbnailSrc:"",isErrorTip:!1,event:{},isShowFileChooser:!1,uploadLocalImageValue:[],imageLinkValue:[],isUpdated:!1,uploadFileMessage:{}},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e="r"===window.dtable.permission,t=this.props.mode;e&&this.setState({editorView:"row_expand"===t?yh:vh})}},{key:"_getImageURL",value:function(e,t,n){var a=window.dtable;return a.server+"/workspace/"+a.workspaceID+t+"/".concat(n,"/")+encodeURIComponent(e)}},{key:"render",value:function(){var e=this.calculateHeaderSpan();return h.a.createElement(_r,{wrapClassName:"image-editor-dialog",contentClassName:"image-editor-modal",isOpen:this.state.isOpen,toggle:this.toggle,autoFocus:!1},h.a.createElement(xr,{toggle:this.toggle},e),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{ref:"imageEditorContainer",className:"image-editor-container"},this.state.editorView===vh&&h.a.createElement(nh,{value:this.state.value,togglePreviewer:this.togglePreviewer,deleteImage:this.deleteImage,resetAdditionImage:this.resetAdditionImage,onRotateImage:this.onRotateImage}),this.state.editorView===yh&&h.a.createElement(gh,{isUploading:this.state.isUploading,deleteImage:this.deleteImage,handleFileChange:this.handleFileChange,uploadPercent:this.state.uploadPercent,thumbnailSrc:this.state.thumbnailSrc,isErrorTip:this.state.isErrorTip,event:this.state.event,uploadLocalImageValue:this.state.uploadLocalImageValue,onFileChooserToggle:this.onFileChooserToggle,togglePreviewer:this.togglePreviewer,saveImageLink:this.saveImageLink}))))}}]),t}(h.a.Component),bh=Object(I.d)("dtable")(Pr(_h)),wh={children:z.a.node,className:z.a.string,closeClassName:z.a.string,closeAriaLabel:z.a.string,cssModule:z.a.object,color:z.a.string,fade:z.a.bool,isOpen:z.a.bool,toggle:z.a.func,tag:ge,transition:z.a.shape(xn.propTypes),innerRef:z.a.oneOfType([z.a.object,z.a.string,z.a.func])},Eh={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:qe({},xn.defaultProps,{unmountOnExit:!0})};function Th(e){var t=e.className,n=e.closeClassName,a=e.closeAriaLabel,r=e.cssModule,i=e.tag,o=e.color,s=e.isOpen,l=e.toggle,c=e.children,u=e.transition,d=e.fade,p=e.innerRef,f=B(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),m=ce(ie()(t,"alert","alert-"+o,{"alert-dismissible":l}),r),g=ce(ie()("close",n),r),v=qe({},xn.defaultProps,{},u,{baseClass:d?u.baseClass:"",timeout:d?u.timeout:0});return h.a.createElement(xn,H({},f,v,{tag:i,className:m,in:s,role:"alert",innerRef:p}),l?h.a.createElement("button",{type:"button",className:g,"aria-label":a,onClick:l},h.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,c)}Th.propTypes=wh,Th.defaultProps=Eh;var xh=Th,Ch=new(function(){function e(){v(this,e),this.req=U.a.create()}return _(e,[{key:"getSeafileRepoFileList",value:function(e){var t,n=window.dtable,a=n.repoApiToken,r=n.seafileUrl+"/api/v2.1/via-repo-token/dir/";return e&&(t={path:e}),this.req.get(r,{headers:{Authorization:"Token "+a},params:t})}},{key:"getSeafileRepoInfo",value:function(){var e=window.dtable,t=e.repoApiToken,n=e.seafileUrl+"/api/v2.1/via-repo-token/repo-info/";return this.req.get(n,{headers:{Authorization:"Token "+t}})}},{key:"getSeafileDownloadFileLink",value:function(e){var t=window.dtable,n=t.repoApiToken,a=t.seafileUrl+"/api/v2.1/via-repo-token/download-link/";return this.req.get(a,{headers:{Authorization:"Token "+n},params:{path:e}})}}]),e}()),Sh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onItemClick=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n.setState({selectFilePath:e,selectParentDir:t,filePath:""}),a?(n.props.onDirentItemClick(e,a,"recentUsed"),"file"===a.type?n.setState({filePath:e}):n.setState({filePath:""})):n.props.resetFileDirent()},n.getCurrentTableReacntDir=function(e){var t,n,a=window.dtable,r=a.dtableUuid,i=a.repoApiToken;if(t=JSON.parse(window.localStorage.getItem(e))){var o=t.filter((function(e){return e.dtableUuid===r&&e.repoApiToken===i}));o.length>0&&(n=o[0].recentDir)}return n},n.renderRecentUsedListView=function(){var e=n.getCurrentTableReacntDir("fileRecentDir");return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"file-chooser-container",style:{width:"100%"}},h.a.createElement("div",{className:"list-view"},h.a.createElement("div",null,e&&e.length>0&&e.map((function(e,t){return h.a.createElement(kh,{key:t,recentUsedItem:e,parentDir:e.parentDir,onItemClick:n.onItemClick,selectFilePath:n.state.selectFilePath,selectParentDir:n.state.selectParentDir,fileSuffixes:n.props.fileSuffixes})}))))))},n.state={selectFilePath:"",selectParentDir:"",fileRepo:null,filePath:""},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement(p.Fragment,null,this.renderRecentUsedListView())}}]),t}(h.a.Component),kh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleClick=function(e){e.stopPropagation(),n.setState({isShowChildren:!n.state.isShowChildren}),Ch.getSeafileRepoFileList(n.props.parentDir).then((function(e){var t=e.data.dirent_list.slice(0);n.setState({hasRequest:!0,direntList:t})}))},n.onParentDirClick=function(e){n.props.parentDir===n.props.selectParentDir&&n.props.parentDir===n.props.selectFilePath&&n.onToggleClick(e),n.props.onItemClick(n.props.parentDir,n.props.parentDir)},n.state={isShowChildren:!1,direntList:[]},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.parentDir,a=t.selectFilePath,r=Qf(n),i=!1;return a===n&&(i=!0),h.a.createElement("div",{className:"file-chooser-item pl-0"},h.a.createElement("div",{className:"".concat(i?"item-active":""," item-info repo-chooser-info"),onClick:this.onParentDirClick},h.a.createElement("div",{className:"item-text"},h.a.createElement("span",{className:"name user-select-none ellipsis"},r)),h.a.createElement("div",{className:"item-left-icon"},h.a.createElement("span",{className:"item-toggle dtable-font ".concat(this.state.isShowChildren?"dtable-icon-drop-down":"dtable-icon-right-slide"," "),onClick:this.onToggleClick}),h.a.createElement("i",{className:""},h.a.createElement("span",{className:"dtable-font dtable-icon-folder"})))),this.state.isShowChildren&&this.state.direntList.map((function(t,n){return h.a.createElement(Oh,{key:n,dirent:t,parentDir:e.props.parentDir,selectFilePath:e.props.selectFilePath,onItemClick:e.props.onItemClick,selectParentDir:e.props.selectParentDir,fileSuffixes:e.props.fileSuffixes})})))}}]),t}(h.a.Component),Oh=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).onToggleClick=function(e){e.stopPropagation(),n.state.hasRequest||Ch.getSeafileRepoFileList(n.state.filePath).then((function(e){var t=e.data.dirent_list.slice(0);n.setState({hasRequest:!0,seafileDirentList:t}),0!==e.data.length&&0!==t.length||n.setState({hasChildren:!1})})),n.setState({isShowChildren:!n.state.isShowChildren})},n.onItemClick=function(e){n.state.filePath!==n.props.selectFilePath||n.props.parentDir!==n.props.selectParentDir||"dir"!==n.props.dirent.type?n.props.onItemClick(n.state.filePath,n.props.parentDir,n.props.dirent):n.onToggleClick(e)},n.renderChildren=function(){var e=n.state,a=e.seafileDirentList,r=e.filePath;return h.a.createElement("div",{className:"list-view-content"},a.map((function(e,a){return h.a.createElement(t,{key:a,dirent:e,onItemClick:n.props.onItemClick,filePath:r,selectFilePath:n.props.selectFilePath,fileSuffixes:n.props.fileSuffixes,selectParentDir:n.props.selectParentDir,parentDir:n.props.parentDir,s:!0})})))};var a=e.filePath?e.filePath+"/"+e.dirent.name:e.parentDir+e.dirent.name;return n.state={hasChildren:!0,isShowChildren:!1,hasRequest:!1,filePath:a,seafileDirentList:[]},n}return S(t,e),_(t,[{key:"render",value:function(){var e=!1;this.props.parentDir===this.props.selectParentDir&&this.state.filePath===this.props.selectFilePath&&(e=!0);var t=this.props,n=t.dirent,a=t.fileSuffixes,r=n.name;if(a&&r&&"file"===n.type)if(-1!==r.indexOf(".")){var i=r.slice(r.lastIndexOf(".")+1).toLowerCase();if(!a.includes(i))return null}else if("file"===n.type)return null;return h.a.createElement("div",{className:"file-chooser-item"},h.a.createElement("div",{className:"item-info ".concat(e?"item-active":""),onClick:this.onItemClick},h.a.createElement("div",{className:"item-text"},h.a.createElement("span",{className:"name user-select-none ellipsis"},this.props.dirent&&this.props.dirent.name)),h.a.createElement("div",{className:"item-left-icon"},this.state.hasChildren&&"file"!==this.props.dirent.type&&h.a.createElement("span",{className:"item-toggle dtable-font ".concat(this.state.isShowChildren?"dtable-icon-drop-down":"dtable-icon-right-slide"," "),onClick:this.onToggleClick}),h.a.createElement("i",{className:""},h.a.createElement("span",{className:"dtable-font ".concat("dir"===this.props.dirent.type?"dtable-icon-folder":"dtable-icon-file")})))),this.state.isShowChildren&&this.renderChildren())}}]),t}(h.a.Component),Mh=Object(I.d)("dtable")(Sh);var Lh,Dh=function(){return h.a.createElement("span",{className:"loading-icon loading-tip"})},Rh=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).onToggleClick=function(e){e.stopPropagation(),n.state.hasRequest||Ch.getSeafileRepoFileList(n.state.filePath).then((function(e){var t=e.data.dirent_list.slice(0);n.setState({hasRequest:!0,seafileDirentList:t}),0!==e.data.length&&0!==t.length||n.setState({hasChildren:!1})})),n.setState({isShowChildren:!n.state.isShowChildren})},n.onItemClick=function(e){n.state.filePath!==n.props.selectFilePath||"dir"!==n.props.dirent.type?n.props.onItemClick(n.state.filePath,n.props.dirent):n.onToggleClick(e)},n.renderChildren=function(){var e=n.state,a=e.seafileDirentList,r=e.filePath;return h.a.createElement("div",{className:"list-view-content"},a.map((function(e,a){return h.a.createElement(t,{key:a,dirent:e,onItemClick:n.props.onItemClick,filePath:r,selectFilePath:n.props.selectFilePath,fileSuffixes:n.props.fileSuffixes})})))};var a=e.filePath?e.filePath+"/"+e.dirent.name:"/"+e.dirent.name;return n.state={hasChildren:!0,isShowChildren:!1,hasRequest:!1,filePath:a,seafileDirentList:[]},n}return S(t,e),_(t,[{key:"render",value:function(){var e=!1;this.state.filePath===this.props.selectFilePath&&(e=!0);var t=this.props,n=t.dirent,a=t.fileSuffixes,r=n.name;if(a&&r&&"file"===n.type)if(-1!==r.indexOf(".")){var i=r.slice(r.lastIndexOf(".")+1).toLowerCase();if(!a.includes(i))return null}else if("file"===n.type)return null;return h.a.createElement("div",{className:"file-chooser-item"},h.a.createElement("div",{className:"item-info ".concat(e?"item-active":""),onClick:this.onItemClick},h.a.createElement("div",{className:"item-text"},h.a.createElement("span",{className:"name user-select-none ellipsis"},this.props.dirent&&this.props.dirent.name)),h.a.createElement("div",{className:"item-left-icon"},this.state.hasChildren&&"file"!==this.props.dirent.type&&h.a.createElement("span",{className:"item-toggle dtable-font ".concat(this.state.isShowChildren?"dtable-icon-drop-down":"dtable-icon-right-slide"," "),onClick:this.onToggleClick}),h.a.createElement("i",{className:""},h.a.createElement("span",{className:"dtable-font ".concat("dir"===this.props.dirent.type?"dtable-icon-folder":"dtable-icon-file")})))),this.state.isShowChildren&&this.renderChildren())}}]),t}(h.a.Component),Nh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onItemClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.setState({selectFilePath:e,filePath:""}),t?(n.props.onDirentItemClick(e,t,"libraryFile"),"file"===t.type?n.setState({filePath:e}):n.setState({filePath:""})):n.props.resetFileDirent()},n.state={seafileDirentList:[],isSeafileListLoding:!0,selectFileRepoID:"",selectFilePath:"",filePath:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;Ch.getSeafileRepoFileList().then((function(t){var n=t.data.dirent_list.slice(0);e.setState({seafileDirentList:n,isSeafileListLoding:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.seafileDirentList,a=t.selectFilePath,r=t.filePath;return t.isSeafileListLoding?h.a.createElement(Dh,null):h.a.createElement("div",{className:"list-view"},h.a.createElement("div",{style:{marginLeft:"-22px"}},n&&n.length>0&&n.map((function(t,n){return h.a.createElement(Rh,{key:n,dirent:t,onItemClick:e.onItemClick,filePath:r,selectFilePath:a,fileSuffixes:e.props.fileSuffixes})}))))}}]),t}(h.a.Component),Ih=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(e){n.state.activeTab!==e&&(n.setState({activeTab:e}),n.props.resetFileDirent(e))},n.getActiveTab=function(){var e=JSON.parse(window.localStorage.getItem("fileChooseActiveTab"));if(e)return e.activeTab},n.renderRepoListView=function(){return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"file-chooser-container",style:{width:"100%"}},h.a.createElement("div",{className:"list-view"},h.a.createElement(Nh,{onDirentItemClick:n.props.onDirentItemClick,resetFileDirent:n.props.resetFileDirent}))))},n.activeTab=n.getActiveTab(),n.state={activeTab:n.activeTab?n.activeTab:"libraryFile"},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t,t=this.state.activeTab;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"file-chooser-left"},h.a.createElement("div",{className:"file-chooser-nav"},h.a.createElement("div",{className:"file-chooser-nav-item ".concat("libraryFile"===t?"select-file-chooser-nav-item":""),onClick:this.toggle.bind(this,"libraryFile")},e("All")),h.a.createElement("div",{className:"file-chooser-nav-item ".concat("recentUsed"===t?"select-file-chooser-nav-item":""),onClick:this.toggle.bind(this,"recentUsed")},e("Recent_Used")))),h.a.createElement("div",{className:"file-chooser-right"},"libraryFile"===t&&this.renderRepoListView(),"recentUsed"===t&&h.a.createElement(Mh,{fileSuffixes:this.props.fileSuffixes,onDirentItemClick:this.props.onDirentItemClick,resetFileDirent:this.props.resetFileDirent})))}}]),t}(h.a.Component),Ah=Object(I.d)("dtable")(Ih),Ph=(n(1012),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onDirentItemClick=function(e,t,a){n.setState({selectedPath:e,dirent:t,activeTab:a,filePath:e})},n.onFileItemClick=function(e,t,a){n.setState({filePath:e,dirent:t,errMessage:"",activeTab:a})},n.toggle=function(){n.props.onFileChooserToggle()},n.resetFileDirent=function(e){n.setState({filePath:"",activeTab:""}),e&&n.setState({errMessage:""})},n.setDirMessage=function(e,t){var n=window.dtable,a=n.dtableUuid,r=n.repoApiToken;if(window.localStorage.getItem(e)){var i=JSON.parse(window.localStorage.getItem(e)),o=i.filter((function(e){return e.dtableUuid===a&&e.repoApiToken===r}));if(o.length>0){var s=o[0].recentDir;-1!==s.findIndex((function(e){return e.parentDir===t.parentDir}))?(i=JSON.stringify(i),window.localStorage.setItem(e,i)):(s.unshift(t),s.length>10&&s.pop(),i=JSON.stringify(i),window.localStorage.setItem(e,i))}else{var l=[];l.push(t);var c={dtableUuid:a,recentDir:l,repoApiToken:r};i.push(c),i=JSON.stringify(i),window.localStorage.setItem(e,i)}}else{var u=[],d=[];u.push(t);var p={dtableUuid:a,repoApiToken:r,recentDir:u};d.push(p),d=JSON.stringify(d),window.localStorage.setItem(e,d)}},n.setActiveTab=function(){var e={activeTab:n.state.activeTab};e=JSON.stringify(e),window.localStorage.setItem("fileChooseActiveTab",e)},n.onUploadFile=function(){var e=n.state,t=e.dirent,a=e.selectedPath;if("/"!==t.parent_dir){var r={parentDir:t.parent_dir};n.setDirMessage("fileRecentDir",r)}n.props.selectSeafileFile(t,a),n.setActiveTab(),n.toggle()},n.state={selectedPath:"",dirent:"",filePath:"",fileRepoID:"",errMessage:"",activeTab:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,contentClassName:"file-chooser-modal",size:"lg"},h.a.createElement(xr,{toggle:this.toggle},e("Select_file_or_directory")),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{className:"file-chooser-content-container"},h.a.createElement(Ah,{initToShowChildren:!1,selectedPath:this.state.selectedPath,onDirentItemClick:this.onDirentItemClick,fileSuffixes:this.props.fileSuffixes,filePath:this.state.filePath,resetFileDirent:this.resetFileDirent,onFileItemClick:this.onFileItemClick})),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},e("".concat(this.state.errMessage)))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},e("Cancel")),this.state.filePath?h.a.createElement(Ve,{color:"primary",onClick:this.onUploadFile},e("Submit")):h.a.createElement(Ve,{color:"primary",disabled:!0},e("Submit"))))}}]),t}(h.a.Component)),Yh=Object(I.d)("dtable")(Ph),Fh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onDropdownToggleClick=function(e){e.preventDefault(),e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},(function(){n.state.isItemMenuShow?n.props.freezeItem():(n.props.unFreezeItem(),n.props.resetState())}))},n.deleteFile=function(e){n.props.resetState(),n.props.deleteFile(n.props.itemIndex)},n.showRenameToggle=function(e){n.props.showRenameToggle(e,n.props.itemIndex)},n.state={isItemMenuShow:!1,isRenameDialogShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(p.Fragment,null,h.a.createElement(De,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,className:"item-dropdown-menu"},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,className:"item-dropdown"},h.a.createElement("span",{className:"dtable-font dtable-icon-more-vertical item-dropdown-more"})),h.a.createElement(st,null,h.a.createElement(dt,{onClick:this.deleteFile},h.a.createElement("span",{className:"image-footer-choice-item",style:{marginRight:"5px"}},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"})),e("Delete")))))}}]),t}(h.a.Component),jh=Object(I.d)("dtable")(Fh),Uh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).fileItemMouseEnter=function(){n.props.isItemFreezed||n.setState({isShowOperation:!0,highlight:!0})},n.fileItemMouseLeave=function(){n.props.isItemFreezed||n.setState({isShowOperation:!1,highlight:!1})},n.openFile=function(){var e,t=n.props.fileItem,a=window.dtable,r=a.seafileUrl,i=a.repoApiToken,o=t.url;if(o.indexOf("/asset")>-1)e=o.replace("/asset","/asset-preview"),window.open(e,"_blank");else{var s=o.substring(o.lastIndexOf(i)+i.length);Ch.getSeafileRepoInfo().then((function(n){var a=n.data.repo_id,i=n.data.repo_name;e="file"===t.type?r+"/lib/"+a+"/file"+s:r+"/library/"+a+"/"+i+s,window.open(e,"_blank")}))}},n.downloadFile=function(e){e.stopPropagation();var t=n.props.fileItem.url;if(t.indexOf("seafile-connector")>-1){var a=window.dtable.repoApiToken,r=t.substring(t.lastIndexOf(a)+a.length);Ch.getSeafileDownloadFileLink(r).then((function(e){rm(e.data)}))}else rm(t+="?dl=1")},n.resetState=function(){n.setState({isShowOperation:!1,highlight:!1}),n.props.unFreezeItem()},n.state={isShowRename:!1,isShowOperation:!1,highlight:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.fileItem,t=this.state,n=t.isShowRename,a=t.isShowOperation,r=t.highlight,i=Zf(e.name,e.type),o="r"===window.dtable.permission;return h.a.createElement("div",{className:"file-previewer-box ".concat(r?"file-previewer-box-hignlight":""),onMouseEnter:this.fileItemMouseEnter,onMouseLeave:this.fileItemMouseLeave},h.a.createElement("div",{className:"file-previewer-item"},h.a.createElement("div",{className:"file-previewer-icon"},h.a.createElement("img",{alt:"",src:i})),h.a.createElement("div",{className:"file-previewer-info"},n?h.a.createElement(Hh,{name:e.name,onRenameCancel:this.showRenameToggle,onRenameItem:this.onRenameItem,fileItem:e}):h.a.createElement("div",{className:"file-previewer-item-name ".concat("dir"===e.type?"file-previewer-item-name-height":"")},h.a.createElement("span",{onClick:this.openFile},e.name)),e.size&&h.a.createElement("div",{className:"file-previewer-item-size"},$f(e.size)))),a&&h.a.createElement("div",{className:"file-previewer-operation"},"file"===e.type&&h.a.createElement("span",{className:"dtable-font dtable-icon-download file-download-icon",onClick:this.downloadFile}),!o&&h.a.createElement(jh,{deleteFile:this.props.deleteFile,fileItem:e,showRenameToggle:this.showRenameToggle,freezeItem:this.props.freezeItem,unFreezeItem:this.props.unFreezeItem,resetState:this.resetState,itemIndex:this.props.itemIndex})))}}]),t}(h.a.Component),Hh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onChange=function(e){n.setState({name:e.target.value})},n.onClick=function(e){e.nativeEvent.stopImmediatePropagation()},n.onKeyPress=function(e){"Enter"===e.key&&n.onRenameConfirm(e)},n.onRenameConfirm=function(e){e.nativeEvent.stopImmediatePropagation();var t=n.state.name.trim();if(t!==n.props.name){var a=n.props.fileItem,r=a.file,i=a.repo.repo_id,o=r.parent_dir+r.name;n.props.onRenameItem(i,o,t,n.props.index)}else n.props.onRenameCancel(e,n.props.index)},n.onRenameCancel=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.onRenameCancel(e,n.props.index)},n.state={name:e.name},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.refs.renameInput.focus()}},{key:"render",value:function(){return h.a.createElement("div",{className:"rename-container"},h.a.createElement("input",{ref:"renameInput",value:this.state.name,onChange:this.onChange,onKeyPress:this.onKeyPress,onClick:this.onClick}),h.a.createElement("button",{className:"btn btn-secondary dtable-font dtable-icon-check-mark confirm",onClick:this.onRenameConfirm}),h.a.createElement("button",{className:"btn btn-secondary dtable-font dtable-icon-fork-number cancel",onClick:this.onRenameCancel}))}}]),t}(h.a.Component),Bh=Uh,Vh="addition",Gh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).togglePreviewer=function(){n.props.togglePreviewer(Vh),n.props.resetFileValue()},n.freezeItem=function(){n.setState({isItemFreezed:!0})},n.unFreezeItem=function(){n.setState({isItemFreezed:!1})},n.state={isShowRename:!1,value:e.value,isItemFreezed:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t,n="r"===window.dtable.permission;return h.a.createElement("div",{className:"file-previewer-container"},h.a.createElement("div",{className:"file-previewer-wrapper"},h.a.createElement("div",{className:"file-previewer-content"},this.props.value.length>0&&this.props.value.map((function(t,n){return h.a.createElement(Bh,{key:n,fileItem:t,deleteFile:e.props.deleteFile,freezeItem:e.freezeItem,unFreezeItem:e.unFreezeItem,isItemFreezed:e.state.isItemFreezed,itemIndex:n})})))),!n&&h.a.createElement(Yr,{callBack:this.togglePreviewer,footerName:t("Add_Files")}))}}]),t}(h.a.Component),Wh=Object(I.d)("dtable")(Gh),zh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleFileChange=function(e){e.persist(),n.props.handleFileChange(e)},n.deleteFile=function(e,t){n.props.deleteFile(t,"localFile")},n.fileDragEnter=function(e){e.preventDefault(),n.enteredCounter++,0!==n.enteredCounter&&n.setState({isFileTipShow:!0})},n.fileDragOver=function(e){e.stopPropagation(),e.preventDefault()},n.fileDragLeave=function(e){n.enteredCounter--,0===n.enteredCounter&&n.setState({isFileTipShow:!1})},n.fileDrop=function(e){e.persist(),n.enteredCounter=0,n.setState({isFileTipShow:!1});var t=e.dataTransfer.files,a=new FileReader,r=E(n);a.onload=function(){r.props.handleFileChange(e,t[0])},a.readAsText(t[0])},n.fileUploadClick=function(){n.refs.files.click()},n.onInputFile=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},n.showDeleteIcon=function(e,t){n.setState({isShowDeleteIcon:!0,enterFileIndex:t})},n.hideDeleteIcon=function(){n.setState({isShowDeleteIcon:!1,enterFileIndex:-1})},n.fileUploadAgain=function(){n.props.handleFileChange(n.props.event)},n.calculateFileArr=function(){var e=[],t=n.props.t,a=n.state.isFileTipShow;if(Array.isArray(n.props.uploadLocalFileValue)){if(e=n.props.uploadLocalFileValue.map((function(e,t){var a=Zf(e.name,e.direntType);return h.a.createElement("div",{key:"file-wrapper-"+t,className:"file-wrapper",onMouseEnter:function(e){return n.showDeleteIcon(e,t)},onMouseLeave:n.hideDeleteIcon},h.a.createElement("div",{className:"file-content"},h.a.createElement("img",{src:a,alt:""})),n.state.isShowDeleteIcon&&n.state.enterFileIndex===t&&h.a.createElement("div",{className:"delete-file-icon",onClick:function(e){return n.deleteFile(e,t)}},h.a.createElement("span",{className:"file-delete-span"},"x")))})),n.props.isUploading){var r=n.props.thumbnailSrc;e.push(h.a.createElement("div",{className:"file-wrapper",key:"file-wrapper-circle"},h.a.createElement("div",{className:"file-upload-percent"},h.a.createElement("img",{src:r,style:{position:"absolute",zIndex:"".concat(100===n.props.uploadPercent?3:1)},alt:""}),n.props.uploadPercent<100&&!n.props.isErrorTip&&h.a.createElement(rh,{uploadPercent:n.props.uploadPercent}),100===n.props.uploadPercent&&h.a.createElement("div",{className:"file-upload-success"},h.a.createElement("div",{className:"file-upload-success-scale"},h.a.createElement("span",{className:"file-upload-success-tip"},t("Indexing")))),h.a.createElement("div",{className:"file-upload-mask"}),n.props.isErrorTip&&h.a.createElement("div",{className:"file-upload-error-tip"},h.a.createElement("span",null,t("Network_Error")),h.a.createElement("span",{className:"file-upload-again",onClick:n.fileUploadAgain},t("Re_upload"))))))}e.push(h.a.createElement("div",{className:"file-wrapper",key:"file-wrapper-addition",onDragEnter:n.fileDragEnter,onDragOver:n.fileDragOver,onDragLeave:n.fileDragLeave,onDrop:n.fileDrop,onClick:n.fileUploadClick},h.a.createElement("div",{className:"file-add-box"},h.a.createElement("div",{className:"file-add-button ".concat(a?"file-wrapper-drop-active":"")},h.a.createElement("i",{className:"dtable-font dtable-icon-add-files"}),h.a.createElement("input",{type:"file",ref:"files",className:"upload-file",onClick:n.onInputFile,onChange:n.props.handleFileChange})))))}return e},n.state={isFileTipShow:!1,isShowDeleteIcon:!1,enterFileIndex:-1},n.enteredCounter=0,n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.isFileTipShow,t=this.calculateFileArr(),n=this.props.t;return h.a.createElement(p.Fragment,null,t.length>1&&t,1===t.length&&h.a.createElement("div",{className:"file-upload-container ".concat(e?"file-upload-container-active":""),onDragEnter:this.fileDragEnter,onDragOver:this.fileDragOver,onDragLeave:this.fileDragLeave,onDrop:this.fileDrop,onClick:this.fileUploadClick},h.a.createElement("div",{className:"file-tip-addition ".concat(e?"file-drop-active":"")},h.a.createElement("div",{className:"file-add-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-add-files"}),h.a.createElement("input",{type:"file",ref:"files",onClick:this.onInputFile,onChange:this.handleFileChange,className:"upload-file"})),e?h.a.createElement("div",{className:"file-add-span"},n("Drag_and_drop_to_add_a_file")):h.a.createElement("div",{className:"file-add-span"},n("Drag_and_drop_files_or_click_here_to_add")))))}}]),t}(h.a.Component),qh=Object(I.d)("dtable")(zh),Kh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onFileChooserToggle=function(){n.props.onFileChooserToggle()},n.showDeleteIcon=function(e,t){n.setState({isShowDeleteIcon:!0,enterFileIndex:t})},n.hideDeleteIcon=function(){n.setState({isShowDeleteIcon:!1,enterFileIndex:-1})},n.deleteFile=function(e,t){n.props.deleteFile(t,"libraryFile"),n.hideDeleteIcon()},n.calculateFileArr=function(){var e=[];return Array.isArray(n.props.uploadLibraryFileValue)&&(e=n.props.uploadLibraryFileValue.map((function(e,t){var a=Zf(e.name,e.type);return h.a.createElement("div",{key:"file-wrapper-"+t,className:"file-wrapper",onMouseEnter:function(e){return n.showDeleteIcon(e,t)},onMouseLeave:n.hideDeleteIcon},h.a.createElement("div",{className:"file-content"},h.a.createElement("img",{src:a,alt:""})),n.state.isShowDeleteIcon&&n.state.enterFileIndex===t&&h.a.createElement("div",{className:"delete-file-icon",onClick:function(e){return n.deleteFile(e,t)}},h.a.createElement("span",{className:"file-delete-span"},"x")))}))).push(h.a.createElement("div",{className:"file-wrapper",key:"file-wrapper-addition"},h.a.createElement("div",{className:"file-add-box",onClick:n.onFileChooserToggle},h.a.createElement("div",{className:"file-add-button"},h.a.createElement("i",{className:"dtable-font dtable-icon-add-files"}))))),e},n.state={isShowDeleteIcon:!1,enterFileIndex:-1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.calculateFileArr(),t=this.props.t;return h.a.createElement(p.Fragment,null,e.length>1&&e,1===e.length&&h.a.createElement("div",{className:"file-upload-container",onClick:this.onFileChooserToggle},h.a.createElement("div",{className:"file-tip-addition"},h.a.createElement("div",{className:"file-add-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-add-files"})),h.a.createElement("div",{className:"file-add-span"},t("Add_Files")))))}}]),t}(h.a.Component),Xh=Object(I.d)("dtable")(Kh),Jh=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(e){n.state.activeTab!==e&&n.setState({activeTab:e})},n.state={activeTab:"localFiles"},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.activeTab,t=this.props.t,n=window.dtable.repoApiToken;return h.a.createElement("div",{className:"file-addition-container"},h.a.createElement("div",{className:"file-addition-left"},h.a.createElement("div",{className:"file-addition-nav"},h.a.createElement("div",{className:"addition-item ".concat("localFiles"===e?"selected-additoin-item":""),onClick:this.toggle.bind(this,"localFiles")},t("Local_Files")),n&&h.a.createElement("div",{className:"addition-item ".concat("libraryFiles"===e?"selected-additoin-item":""),onClick:this.toggle.bind(this,"libraryFiles")},t("Library_Files")))),h.a.createElement("div",{className:"file-addition-right"},h.a.createElement("div",{className:"file-addition-right-container"},"localFiles"===this.state.activeTab&&h.a.createElement(qh,{handleFileChange:this.props.handleFileChange,uploadLocalFileValue:this.props.uploadLocalFileValue,uploadPercent:this.props.uploadPercent,isErrorTip:this.props.isErrorTip,isUploading:this.props.isUploading,deleteFile:this.props.deleteFile,thumbnailSrc:this.props.thumbnailSrc}),"libraryFiles"===this.state.activeTab&&h.a.createElement(Xh,{onFileChooserToggle:this.props.onFileChooserToggle,uploadLibraryFileValue:this.props.uploadLibraryFileValue,deleteFile:this.props.deleteFile}))))}}]),t}(h.a.Component),Zh=Object(I.d)("dtable")(Jh),$h=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).toggle=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.cancelFileUpload()},n.replaceRepetitionFile=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.replaceRepetitionFile()},n.uploadRepetitionFile=function(e){e.nativeEvent.stopImmediatePropagation(),n.props.uploadRepetitionFile()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.uploadFileMessage;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},t("Replace_file_xxx",{file_name:n.name})),h.a.createElement(kr,null,h.a.createElement("p",null,t("A_file_with_the_same_name_already_exists_in_this_DTable")),h.a.createElement("p",null,t("Replacing_it_will_overwrite_its_content"))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"primary",onClick:this.replaceRepetitionFile},t("Replace")),h.a.createElement(Ve,{color:"primary",onClick:this.uploadRepetitionFile},t("Do_not_replace")),h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel"))))}}]),t}(h.a.Component),Qh=Object(I.d)("dtable")($h),ef=(n(1013),"previewer"),tf="addition",nf=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.toggle=function(){if(n.state.isOpen&&n.state.isUpdated){if(n.state.editorView===tf){var e=n.state,t=e.value,a=e.uploadLocalFileValue,r=e.uploadLibraryFileValue,i=t.concat(a,r);return void n.setState({value:i},(function(){"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onCommit()}))}"row_expand"===n.props.mode?n.props.onCommit(n.getValue(),n.props.column):n.props.onCommit()}n.setState({isOpen:!n.state.isOpen})},n.handleFileChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.persist();var a=t||e.target.files[0];if(a){var r=Zf(a.name);n.setState({isUploading:!0,isUpdated:!0,isErrorTip:!1,thumbnailSrc:r}),n.setUploadFileMessage(a)}},n.setUploadFileMessage=function(e){var t=window.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName;return t.getTableAssetUploadLink(r,i).then((function(a){var o=a.data,s=o.file_relative_path,l="".concat(s,"/")+encodeURIComponent(e.name);t.isDTableAssetExist(r,i,l).then((function(t){t.data.is_exist?n.setState({isShowUploadRemindDialog:!0,assetUploadLinkMessage:o,uploadFileMessage:e}):n.setState({assetUploadLinkMessage:o,uploadFileMessage:e},(function(){n.onUploadLocalFile(!1)}))}))}))},n.onUploadLocalFile=function(e){var t,a,r=window.dtableWebAPI,i=n.state,o=i.assetUploadLinkMessage,s=i.uploadFileMessage,l=o.upload_link+"?ret-json=1",c=new FormData;t=o.parent_path,a=o.file_relative_path,c.append("parent_dir",t),c.append("relative_path",a),c.append("file",s),e&&c.append("replace",1),r.uploadImage(l,c,n.onUploadProgress).then((function(e){var r=n.setFileMessage(e.data[0].name,t,a,e.data[0].size),i=n.state.uploadLocalFileValue.slice(0);i.push(r),n.setState({isUploading:!1,uploadPercent:0,uploadLocalFileValue:i,thumbnailSrc:""})})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isErrorTip:!0,event:event})}))},n.onUploadProgress=function(e){var t=Math.floor(e.loaded/e.total*100);n.setState({uploadPercent:t})},n.deleteFile=function(e,t){var a=n.state.uploadLibraryFileValue.slice(0),r=n.state.uploadLocalFileValue.slice(0),i=n.state.value.slice(0);n.state.editorView===ef?i.splice(e,1):("libraryFile"===t&&a.splice(e,1),"localFile"===t&&r.splice(e,1)),n.setState({uploadLibraryFileValue:a,uploadLocalFileValue:r,isUpdated:!0,value:i})},n.replaceRepetitionFile=function(){n.onUploadLocalFile(!0),n.onUploadRemindDialogToggle()},n.uploadRepetitionFile=function(){n.onUploadLocalFile(!1),n.onUploadRemindDialogToggle()},n.selectSeafileFile=function(e,t){var a=n.state.uploadLibraryFileValue.slice(0),r="seafile-connector://"+window.dtable.repoApiToken+t,i={name:e.name,size:e.size,type:e.type,url:r};a.push(i),n.setState({uploadLibraryFileValue:a,isUpdated:!0})},n.onFileChooserToggle=function(){n.setState({isShowFileChooser:!n.state.isShowFileChooser})},n.onUploadRemindDialogToggle=function(){n.setState({isShowUploadRemindDialog:!n.state.isShowUploadRemindDialog})},n.onCancelUploadRemindDialog=function(){n.setState({isShowUploadRemindDialog:!1,isUploading:!1,uploadPercent:0,thumbnailSrc:""})},n.calculateHeaderSpan=function(){var e=n.props.t;switch(n.state.editorView){case ef:return h.a.createElement("span",{key:"file-editor-title"},e("All_Files"));case tf:return h.a.createElement("span",{onClick:n.showFileListPreviewer,className:"dtable-font dtable-icon-return mr-2",key:"file-editor-title"},h.a.createElement("span",{className:"file-editor-title"},e("Add_Files")))}},n.togglePreviewer=function(e){n.setState({editorView:e})},n.showFileListPreviewer=function(){var e=n.state,t=e.value,a=e.uploadLocalFileValue,r=e.uploadLibraryFileValue,i=t.concat(a,r);n.setState({value:i}),n.togglePreviewer(ef)},n.resetFileValue=function(){n.setState({uploadLocalFileValue:[],uploadLibraryFileValue:[]})},n.state={value:e.value||[],isOpen:!0,editorView:"file_image_addition"!==e.openEditorMode&&e.value&&0!==e.value.length?ef:tf,isShowFileChooser:!1,uploadLibraryFileValue:[],uploadLocalFileValue:[],uploadPercent:0,isUploading:!1,thumbnailSrc:"",isUpdated:!1,isShowUploadRemindDialog:!1,uploadFileMessage:{}},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){"r"===window.dtable.permission&&this.setState({editorView:ef})}},{key:"setFileMessage",value:function(e,t,n,a){var r=window.dtable;return{name:e,size:a,type:"file",url:r.server+"/workspace/"+r.workspaceID+t+"/".concat(n,"/")+encodeURIComponent(e)}}},{key:"render",value:function(){var e=this.calculateHeaderSpan();return h.a.createElement(_r,{isOpen:this.state.isOpen,toggle:this.toggle,contentClassName:"file-editor-modal"},h.a.createElement(xr,{toggle:this.toggle},e),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{ref:"fileEditorContainer",className:"file-editor-container"},this.state.editorView===ef&&h.a.createElement(Wh,{value:this.state.value,togglePreviewer:this.togglePreviewer,deleteFile:this.deleteFile,onRenameItem:this.onRenameItem,resetFileValue:this.resetFileValue}),this.state.editorView===tf&&h.a.createElement(Zh,{onFileChooserToggle:this.onFileChooserToggle,uploadLibraryFileValue:this.state.uploadLibraryFileValue,uploadLocalFileValue:this.state.uploadLocalFileValue,handleFileChange:this.handleFileChange,uploadPercent:this.state.uploadPercent,deleteFile:this.deleteFile,isUploading:this.state.isUploading,thumbnailSrc:this.state.thumbnailSrc})),this.state.isShowFileChooser&&h.a.createElement(Yh,{selectSeafileFile:this.selectSeafileFile,onFileChooserToggle:this.onFileChooserToggle}),this.state.isShowUploadRemindDialog&&h.a.createElement(Qh,{cancelFileUpload:this.onCancelUploadRemindDialog,uploadRepetitionFile:this.uploadRepetitionFile,replaceRepetitionFile:this.replaceRepetitionFile,uploadFileMessage:this.state.uploadFileMessage})))}}]),t}(h.a.Component),af=Object(I.d)("dtable")(Pr(nf)),rf=(n(1014),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){var t=n.state.searchVal;if(t!==e.target.value){t=e.target.value,n.setState({searchVal:t});var a=window.app.state.collaborators;t=t.toLowerCase(),n.filteredCollaborators=a.filter((function(e){return e.name.toString().toLowerCase().indexOf(t)>-1}))}},n.onSelectCollaborator=function(e){var t=n.state.value,a=e.email;t=t.slice(0);var r=n.props,i=r.mode,o=r.column,s=t&&t.indexOf(a);s>-1?t.splice(s,1):t.push(a),n.setState({value:t},(function(){"row_expand"===i&&n.props.onCommit(n.getValue(),o)}))},n.renderMenuContent=function(){var e=n.props.t,t=n.state.value;return n.filteredCollaborators.length>0?n.filteredCollaborators.map((function(e,a){var r=t.findIndex((function(t){return t===e.email}));return h.a.createElement("div",{key:a,className:"dropdown-item collaborator-item",onClick:n.onSelectCollaborator.bind(E(n),e)},h.a.createElement("div",{className:"collaborator-container"},h.a.createElement("div",{className:"collaborator"},h.a.createElement("img",{className:"collaborator-avatar",alt:e.name,src:e.avatar_url}),h.a.createElement("span",{className:"collaborator-name"},e.name)),h.a.createElement("div",{className:"collaborator-check-icon"},r>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},e("No_collaborators_available"))},n.onHotKey=function(e){P()("enter",e)&&(e.preventDefault(),1===n.filteredCollaborators.length&&n.onSelectCollaborator(n.filteredCollaborators[0]))},n.removeCollaborator=function(e){var t=n.state.value,a=t.slice(0);a.splice(t.indexOf(e),1),n.setState({value:a})},n.state={value:e.value||[],searchVal:""},n.filteredCollaborators=window.app.state.collaborators,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){if("row_expand"===this.props.mode&&this.outerRef.getBoundingClientRect().top>330&&(this.collaboratorsRef.style.top="-200px"),!this.props.mode&&this.collaboratorsRef){var e=this.collaboratorsRef.getBoundingClientRect().bottom;e>window.innerHeight&&(this.collaboratorsRef.style.top="".concat(window.innerHeight-e,"px"))}document.addEventListener("keydown",this.onHotKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onHotKey)}},{key:"renderDeleteCollaborator",value:function(){for(var e=this,t=window.app.state.collaborators,n=this.state.value,a=[],r=function(e){var r=n[e],i=t.find((function(e){return e.email===r}));i&&a.push(i)},i=0;i<n.length;i++)r(i);if(0===a.length)return null;var o=a.map((function(t,n){return h.a.createElement("div",{key:"collaborator-".concat(n),className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar m-0",alt:t.name,src:t.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},t.name),h.a.createElement("span",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:e.removeCollaborator.bind(e,t.email)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))))}));return h.a.createElement("div",{className:"editor-list-delete"},o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.mode,r=t.t,i=!("row_expand"!==a),o=h.a.createElement("div",{className:"dropdown-menu collaborators-editor-list show m-0 p-0",ref:function(t){return e.collaboratorsRef=t}},!i&&this.renderDeleteCollaborator(),h.a.createElement("div",{className:"search-collaborators"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:r("Find_a_collaborator"),value:this.state.searchVal,onChange:this.onChangeSearch})),h.a.createElement("div",{className:"collaborators-container"},this.renderMenuContent()));return i?h.a.createElement("div",{ref:function(t){return e.outerRef=t}},h.a.createElement(wr,{placement:"bottom",isOpen:!0,target:"collaborator-popover-".concat(n.key),fade:!1,hideArrow:!0},o)):o}}]),t}(p.Component)),of=Object(I.d)("dtable")(Pr(rf)),sf=(n(1015),function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).getCellValue=function(){return window.app.getLinkCellValue(n.tableID,n.otherTableID,n.props.rowData._id)},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.setInputRef=function(e){return n.input=e,n.input},n.getInputNode=function(){var e=m.a.findDOMNode(n.input);return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onChangeSearch=function(e){var t=e.target.value;n.setState({searchVal:t}),n.filteredRows=window.app.searchRowsInTableByName(n.otherTableID,t.trim().toLowerCase(),10)},n.onHotKey=function(e){13===e.keyCode&&(e.preventDefault(),1===n.filteredRows.length&&n.onSelectRow(n.filteredRows[0]))},n.renderMenuContent=function(){var e=n.props,t=e.t,a=e.column.data.display_column_key,r=n.state.value;return r?n.filteredRows.length>0?n.filteredRows.map((function(e,t){var i=r.findIndex((function(t){return t===e._id}));return h.a.createElement("div",{key:t,className:"dropdown-item link-item",onClick:n.onSelectRow.bind(E(n),e)},h.a.createElement("div",{className:"link-container"},h.a.createElement("div",{className:"link"},h.a.createElement("span",{className:"link-name"},e[a])),h.a.createElement("div",{className:"link-check-icon"},i>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},t("No_records_available")):null},n.onSelectRow=function(e){var t=n.props.rowData,a=e._id,r=n.state.value.slice(0),i=r&&r.indexOf(a);if(i>-1){var o=r[i];window.app.removeLink(n.tableID,n.otherTableID,t._id,o),r.splice(i,1)}else r.push(a),window.app.addLink(n.tableID,n.otherTableID,t._id,a);n.setState({value:r})},n.onKeyDown=function(e){229!==e.keyCode&&13!==e.keyCode||e.stopPropagation()},n.removeLink=function(e){var t=n.state.value.slice(0),a=t&&t.indexOf(e),r=t[a];window.app.removeLink(n.tableID,n.otherTableID,n.props.rowData._id,r),t.splice(a,1),n.setState({value:t})},n.state={value:[],searchVal:""};var a=e.column.data,r=a.table_id,i=a.other_table_id;return n.tableID=window.app.getSelectedTableId(),n.otherTableID=n.tableID===r?i:r,n.filteredRows=window.app.searchRowsInTableByName(n.otherTableID,"",10),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props.mode;if("row_expand"===e&&this.outerRef.getBoundingClientRect().top>330&&(this.linkRef.style.top="-200px"),!e&&this.linkRef){var t=this.linkRef.getBoundingClientRect().bottom;t>window.innerHeight&&(this.linkRef.style.top="".concat(window.innerHeight-t,"px"))}this.setState({value:this.getCellValue()}),document.addEventListener("keydown",this.onHotKey)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onHotKey)}},{key:"renderDeleteLink",value:function(){var e=this,t=this.props.column.data.display_column_key,n=window.app.getLinkedRows(this.otherTableID,this.state.value),a=null;if(n.length>0)return(a=(a=n.map((function(n,a){if(e.state.value.findIndex((function(e){return e===n._id}))>-1)return h.a.createElement("div",{className:"links-formmatter",key:a},h.a.createElement("span",{className:"link"},h.a.createElement("span",{className:"link-name"},n[t]),h.a.createElement("span",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:e.removeLink.bind(e,n._id)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"})))))}))).filter((function(e){return e}))).length>0?h.a.createElement("div",{className:"editor-list-delete"},a):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.mode,r=t.t,i="row_expand"===a,o=i?{width:"320px"}:{top:0},s=h.a.createElement("div",{className:"dropdown-menu links-editor-list show m-0 p-0",style:o,ref:function(t){return e.linkRef=t}},!i&&this.renderDeleteLink(),h.a.createElement("div",{className:"search-links"},h.a.createElement("input",{type:"text",className:"form-control",placeholder:r("Find_a_record"),value:this.state.searchVal,onChange:this.onChangeSearch,onKeyDown:this.onKeyDown,ref:this.setInputRef})),h.a.createElement("div",{className:"links-container"},this.renderMenuContent()));return i?h.a.createElement("div",{ref:function(t){return e.outerRef=t}},h.a.createElement(wr,{placement:"bottom",isOpen:!0,target:"link-popover-".concat(n.key),fade:!1,hideArrow:!0},s)):s}}]),t}(p.Component)),lf=Object(I.d)("dtable")(Pr(sf)),cf=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.getInputNode=function(){var e=m.a.findDOMNode(n.input);return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")},n.onChangeSearch=function(e){n.setState({searchVal:e.target.value})},n.onKeyDown=function(e){229===e.keyCode&&e.stopPropagation()},n.getFilteredDatasets=function(){var e=n.props.column.data.linked_common_dataset_id,t=window.app.state.linkedCommonDatasets[e];if(!t)return[];var a=t.rows,r=n.state.searchVal;return r=r.toLowerCase(),a.filter((function(e){var t=e.Name;return!(!t||"string"!==typeof t)&&t.toString().toLowerCase().indexOf(r)>-1}))},n.onSelect=function(e){var t=n.state.value,a=e._id;t=t.slice(0);var r=n.props,i=r.mode,o=r.column,s=t&&t.indexOf(a);s>-1?t.splice(s,1):t.push(a),n.setState({value:t},(function(){"row_expand"===i&&n.props.onCommit(n.getValue(),o)}))},n.removeDataset=function(e){var t=n.state.value,a=t.slice(0);a.splice(t.indexOf(e),1),n.setState({value:a})},n.renderMenuContent=function(){var e=n.props.t,t=n.state.value,a=n.getFilteredDatasets();return a.length>0?a.map((function(e,a){var r=t.findIndex((function(t){return t===e._id}));return h.a.createElement("div",{key:a,className:"dropdown-item collaborator-item"},h.a.createElement("div",{className:"collaborator-container"},h.a.createElement("div",{className:"collaborator",onClick:n.onSelect.bind(E(n),e)},h.a.createElement("span",{className:"collaborator-name"},e.Name)),h.a.createElement("div",{className:"collaborator-check-icon"},r>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},e("No_common_dataset_available"))},n.state={value:e.value||[],searchVal:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props.mode;if("row_expand"===e&&this.outerRef.getBoundingClientRect().top>330&&(this.datasetRef.style.top="-200px"),!e&&this.datasetRef){var t=this.datasetRef.getBoundingClientRect().bottom;t>window.innerHeight&&(this.datasetRef.style.top="".concat(window.innerHeight-t,"px"))}}},{key:"renderRemoveDataset",value:function(){var e=this,t=this.props.column.data.linked_common_dataset_id,n=window.app.state.linkedCommonDatasets[t];if(!n)return null;var a=n.rows,r=this.state.value,i=a.filter((function(e){return r.includes(e._id)}));if(0===i.length)return null;var o=i.map((function(t,n){return h.a.createElement("div",{key:"collaborator-".concat(n),className:"collaborator"},h.a.createElement("span",{className:"collaborator-name"},t.Name),h.a.createElement("span",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:e.removeDataset.bind(e,t._id)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))))}));return h.a.createElement("div",{className:"editor-list-delete"},o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.mode,r=t.t,i=!("row_expand"!==a),o=h.a.createElement("div",{className:"dropdown-menu collaborators-editor-list show m-0 p-0",ref:function(t){return e.datasetRef=t}},!i&&this.renderRemoveDataset(),h.a.createElement("div",{className:"search-collaborators"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:r("Find_a_common_dataset"),value:this.state.searchVal,onChange:this.onChangeSearch,onKeyDown:this.onKeyDown})),h.a.createElement("div",{className:"collaborators-container"},this.renderMenuContent()));return i?h.a.createElement("div",{ref:function(t){return e.outerRef=t}},h.a.createElement(wr,{placement:"bottom",isOpen:!0,target:"common-dataset-popover-".concat(n.key),fade:!1,hideArrow:!0},o)):o}}]),t}(p.Component),uf=Object(I.d)("dtable")(Pr(cf)),df=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.clickHandler,n=e.type,a=e.selectedItem,r=e.parent;return h.a.createElement("ul",{className:"geolocation-selector-list"},r.children.map((function(e,r){var i=a&&e.name===a.name;return h.a.createElement("li",{onClick:function(){return t(e)},key:n+"-item-"+r,className:"geolocation-selector-list-item ".concat("province"===n?"province-item":""," ").concat(i?"selected-list-item":"")},e.name)})))}}]),t}(h.a.Component),pf=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.clickHandler,a=e.selectedType,r=e.selectedItem,i=e.t;return h.a.createElement("div",{className:"geolocation-selector-header-item "+(a===t?"selected-geolocation-selector-header-item":""),onClick:function(){n(t)}},h.a.createElement("span",null,r?r.name?r.name:r:i("Please_select_location")),h.a.createElement("i",{className:"dtable-font dtable-icon-drop-down"}))}}]),t}(h.a.Component),hf=Object(I.d)("dtable")(pf),ff=(n(1016),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getLocationText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e+t+n},n.initLocationSelecting=function(e){var t=n.locations.children.find((function(t){return e.province&&e.province.length>0&&t.name.includes(e.province)}));if(!t)return{selectedProvince:null,selectedCity:null,selectedCounty:null,selectedItem:"province"};var a=t.children.find((function(t){return e.city&&e.city.length>0&&t.name.includes(e.city)}));if(!a)return{selectedProvince:t,selectedCity:null,selectedCounty:null,selectedItem:"city"};var r=a.children.find((function(t){return e.district&&e.district.length>0&&t.name.includes(e.district)}));return r?{selectedProvince:t,selectedCity:a,selectedCounty:r,selectedItem:"county"}:{selectedProvince:t,selectedCity:a,selectedCounty:null,selectedItem:"county"}},n.getLocationData=function(){var e=window.dtable.mediaUrl;return fetch("".concat(e,"geo-data/cn-location.json")).then((function(e){return e.json()})).catch((function(){return fetch("./geo-data/cn-location.json").then((function(e){return e.json()}))}))},n.getValue=function(){var e={};return e[n.props.column.key]=n.value,e},n.onSubmit=function(){n.props.onCommit(D({},n.props.column.key,n.value),n.props.column)},n.onCancle=function(){n.props.onCommitCancel()},n.onToggleSelector=function(){n.setState({isShowSelector:!n.state.isShowSelector})},n.selectProvince=function(e){n.setState({selectedProvince:e,selectedItem:"city",selectedCity:null,selectedCounty:null,location:n.getLocationText(e.name)}),n.value=Object.assign({},n.value,{province:e.name,city:"",district:""})},n.selectCity=function(e){n.setState({selectedCity:e,selectedItem:"county",selectedCounty:null,location:n.getLocationText(n.state.selectedProvince.name,e.name)}),n.value=Object.assign({},n.value,{city:e.name,district:""})},n.selectCounty=function(e){n.setState({selectedCounty:e,isShowSelector:!1,location:n.getLocationText(n.state.selectedProvince.name,n.state.selectedCity.name,e.name)}),n.value=Object.assign({},n.value,{district:e.name})},n.selectSelectorType=function(e){var t=n.state,a=t.selectedProvince,r=t.selectedCity;a&&("county"!==e||r)&&n.setState({selectedItem:e})},n.onChange=function(){n.value=Object.assign({},n.value,{detail:n.detailInfo.value})},n.value=e.value||{},n.locations={},n.state={isOpen:!0,isShowSelector:!1,location:n.getLocationText(n.value.province,n.value.city,n.value.district),selectedProvince:null,selectedCity:null,selectedCounty:null,selectedItem:"province",isLoadingData:!0},n}return S(t,e),_(t,[{key:"componentWillMount",value:function(){var e=this;if(window.app.location){this.locations=window.app.location;var t=this.initLocationSelecting(this.value),n=t.selectedProvince,a=t.selectedCity,r=t.selectedCounty,i=t.selectedItem;this.setState({isLoadingData:!1,selectedProvince:n,selectedCity:a,selectedCounty:r,selectedItem:i})}else this.getLocationData().then((function(t){e.locations=t,window.app.location=t;var n=e.initLocationSelecting(e.value),a=n.selectedProvince,r=n.selectedCity,i=n.selectedCounty,o=n.selectedItem;e.setState({isLoadingData:!1,selectedProvince:a,selectedCity:r,selectedCounty:i,selectedItem:o})}))}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state,a=n.selectedItem,r=n.selectedCity,i=n.selectedProvince,o=n.selectedCounty,s=n.isShowSelector,l=n.isLoadingData,c=n.location;return h.a.createElement("div",{className:"geolocation-editor-container"},l?h.a.createElement(p.Fragment,null,h.a.createElement(Dh,null),h.a.createElement("div",{style:{textAlign:"center"}},t("Loading_geolocation_data"))):h.a.createElement("div",{className:"geolocation-editor-content"},h.a.createElement("div",{className:"geolocation-editor-item geolocation-editor-selector-container"},h.a.createElement("div",{className:"geolocation-editor-item-left"},t("Address_info")+":"),h.a.createElement("div",{className:"geolocation-editor-item-right"},h.a.createElement("div",{onClick:this.onToggleSelector,className:"geolocation-editor-selector"},h.a.createElement("span",{className:"selected-option-show"},c||t("Please_set_location")),h.a.createElement("span",{className:"dtable-font dtable-icon-drop-down geolocation-editor-parameter-icon"}))),s&&h.a.createElement("div",{className:"geolocation-selector-container"},h.a.createElement("div",{className:"geolocation-selector-header"},h.a.createElement(hf,{type:"province",clickHandler:this.selectSelectorType,selectedType:a,selectedItem:i}),h.a.createElement(hf,{type:"city",clickHandler:this.selectSelectorType,selectedType:a,selectedItem:r}),h.a.createElement(hf,{type:"county",clickHandler:this.selectSelectorType,selectedType:a,selectedItem:o})),h.a.createElement("div",{className:"geolocation-selector-body"},"province"===a&&h.a.createElement(df,{type:"province",parent:this.locations,selectedItem:i,clickHandler:this.selectProvince}),"city"===a&&h.a.createElement(df,{type:"city",parent:i,selectedItem:r,clickHandler:this.selectCity}),"county"===a&&h.a.createElement(df,{type:"county",parent:r,selectedItem:o,clickHandler:this.selectCounty})))),h.a.createElement("div",{className:"geolocation-editor-item geolocation-editor-detail"},h.a.createElement("div",{className:"geolocation-editor-item-left"},t("Detail_address")+":"),h.a.createElement("div",{className:"geolocation-editor-item-right"},h.a.createElement("textarea",{ref:function(t){return e.detailInfo=t},placeholder:t("Detail_address_placehoder"),className:"geolocation-editor-detail-info",type:"text",onChange:this.onChange,defaultValue:this.value.detail})))),h.a.createElement(Nr,{className:"geolocation-editor-footer"},h.a.createElement(Ve,{onClick:this.onCancle,color:"secondary"},t("Cancel")),h.a.createElement(Ve,{onClick:this.onSubmit,color:"primary"},t("Submit"))))}}]),t}(h.a.Component)),mf=Object(I.d)("dtable")(Pr(ff)),gf=(D(Lh={},"default",h.a.createElement(or,null)),D(Lh,"text",h.a.createElement(or,null)),D(Lh,Wt,h.a.createElement(sr,null)),D(Lh,zt,h.a.createElement(cr,null)),D(Lh,qt,h.a.createElement(ko,null)),D(Lh,Kt,h.a.createElement(jr,null)),D(Lh,$t,h.a.createElement(Hr,null)),D(Lh,Xt,h.a.createElement(Xp,null)),D(Lh,Jt,h.a.createElement(bh,null)),D(Lh,Zt,h.a.createElement(af,null)),D(Lh,Qt,h.a.createElement(of,null)),D(Lh,en,h.a.createElement(lf,null)),D(Lh,"link-common-dataset",h.a.createElement(uf,null)),D(Lh,"geolocation",h.a.createElement(mf,null)),Lh),vf=new(function(){function e(){v(this,e)}return _(e,[{key:"createEditor",value:function(e){return gf[e]?gf[e]:gf.default}}]),e}()),yf=(n(573),function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value}},{key:"render",value:function(){var e=h.a.createElement("input",{className:"checkbox",type:"checkbox",readOnly:!0,checked:!0}),t=h.a.createElement("div",null,"");return window.isMobile?!0===this.props.value?h.a.createElement("div",{className:"checkbox-formatter-container"},e,h.a.createElement("div",{className:"show-box"})):t:!0===this.props.value?e:t}}]),t}(h.a.Component)),_f=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).isArrayEqual=function(e,t){return e.toString()===t.toString()},n.loadImageAsync=function(e,t,n){if(e){var a=new Image;a.src=e,a.onload=function(){t(a)},a.onerror=function(e){n(e)}}else n("img path is require")},n.onMouseDown=function(e){e.stopPropagation()},n.onImageClick=function(e,t){n.props.onImageClick(e,t)},n.state={images:e.images,imageList:[],loadedCount:0},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.images;Array.isArray(t)&&t.length>0&&t.forEach((function(t){var n=am(t);e.loadImageAsync(n,(function(t){var n=e.state,a=n.loadedCount,r=n.imageList;e.setState({loadedCount:a+1,imageList:r.concat(t)})}),(function(){var t=e.state.loadedCount;e.setState({loadedCount:t+1})}))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.images;this.isArrayEqual(n,this.props.images)||(this.setState({images:n,imageList:[],loadedCount:0}),Array.isArray(n)&&n.length>0&&n.forEach((function(e){var n=am(e);t.loadImageAsync(n,(function(e){var n=t.state,a=n.loadedCount,r=n.imageList;t.setState({loadedCount:a+1,imageList:r.concat(e)})}),(function(){var e=t.state.loadedCount;t.setState({loadedCount:e+1})}))})))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this,t=this.state,n=t.images,a=t.imageList,r=t.loadedCount;return Array.isArray(n)&&0!==n.length?n.length>r?h.a.createElement("div",{className:"mt-2"},h.a.createElement(Dh,null)):n.length===r?a.map((function(t,n){return h.a.createElement("img",{alt:"",key:"image-formatter-".concat(n),src:t.src,onMouseDown:e.onMouseDown,onClick:function(t){return e.onImageClick(t,n)}})})):void 0:""}}]),t}(h.a.Component);n(1017);var bf,wf="previewer",Ef=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onImageClick=function(e,t){n.state.canOpenImage&&n.setState({isShowLargeImage:!0,images:n.props.value,largeImageIndex:t})},n.hideLargeImage=function(){n.setState({isShowLargeImage:!1,largeImageIndex:""})},n.moveNext=function(e){var t=n.props.value;n.setState((function(e){return{largeImageIndex:(e.largeImageIndex+1)%t.length}}))},n.movePrev=function(e){e.preventDefault();var t=n.props.value;n.setState((function(e){return{largeImageIndex:(e.largeImageIndex+t.length-1)%t.length}}))},n.onFormatterDoubleClick=function(e){e.stopPropagation()},n.onImageMouseDown=function(e){e.stopPropagation()},n.downloadImage=function(e){var t=e.indexOf("?dl=1");rm(-1!==t?e:e+"?dl=1")},n.deleteImage=function(e,t){var a=n.props,r=a.column,i=a.onCommit,o=a.rowIdx,s=a.groupIdx;if(t===wf&&i){var l={},c=n.props.value.slice(0);c.splice(e,1),l[r.key]=c,i({cellKey:r.key,rowIdx:o,updated:l,groupIdx:s})}n.hideLargeImage()},n.generateTimeStamp=function(e){var t=e;return e.indexOf("?a=")>1&&(t=e.slice(0,e.indexOf("?a=")+1)),t+"?a="+Math.random()},n.onRotateImage=function(e,t){if(e>=0&&0!==t){var a=n.props.value[e],r=window.dtable,i=r.workspaceID,o=r.fileName,s=window.dtableWebAPI,l=a.slice(a.indexOf("images/"));s.rotateImage(i,o,l,360-t).then((function(t){if(t.data&&t.data.success){var r=n.props,i=r.column,o=r.onCommit,s=r.rowIdx,l=r.groupIdx,c={},u=u.slice(0);u.splice(e,1,n.generateTimeStamp(a)),c[i.key]=u,o({cellKey:i.key,rowIdx:s,updated:c,groupIdx:l})}})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a))}))}},n.state={isShowLargeImage:!1,canOpenImage:!1,largeImageIndex:"",images:[]},n.isReadOnly="r"===window.dtable.permission,n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;!this.props.isCellSelected&&e.isCellSelected&&(this.setState({canOpenImage:!1}),setTimeout((function(){t.setState({canOpenImage:!0})}),300)),this.props.isCellSelected&&!e.isCellSelected&&this.setState({canOpenImage:!1})}},{key:"render",value:function(){var e=this.props.value,t=this.state,n=t.images,a=t.largeImageIndex;return h.a.createElement("div",{className:"image-formatter",onDoubleClick:this.onFormatterDoubleClick},Array.isArray(e)&&e.length>0&&h.a.createElement(_f,{images:e,onImageClick:this.onImageClick}),this.state.isShowLargeImage&&h.a.createElement(Zp,{imageItems:n,imageIndex:a,closeImagePopup:this.hideLargeImage,moveToPrevImage:this.movePrev,moveToNextImage:this.moveNext,deleteImage:this.isReadOnly?null:this.deleteImage,downloadImage:this.isReadOnly?null:this.downloadImage,onRotateImage:this.isReadOnly?null:this.onRotateImage}))}}]),t}(h.a.Component),Tf=Object(I.d)("dtable")(Ef),xf=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getStyle=function(){return{maxWidth:n.props.column.width}},n.createContent=function(e){return e&&"object"===typeof e?h.a.createElement(h.a.Fragment,null,n.createLinkContent(e.links),n.createCheckListContent(e.checklist),n.createImagesContent(e.images),n.createTextContent(e.preview)):null},n}return S(t,e),_(t,[{key:"createTextContent",value:function(e){return h.a.createElement("span",{className:"longtext-formatter-preview-container"},e)}},{key:"createLinkContent",value:function(e){return e&&e.length>0?h.a.createElement("span",{className:"longtext-icon-container longtext-formatter-links-container"},h.a.createElement("i",{className:"dtable-font dtable-icon-url"}),e.length):null}},{key:"createCheckListContent",value:function(e){return e&&e.total>0?h.a.createElement("span",{className:"longtext-icon-container longtext-formatter-links-container"},h.a.createElement("i",{className:"dtable-font dtable-icon-check-square-solid ".concat(e.completed===e.total&&"longtext-formatter-checklist-completed")}),"".concat(e.completed,"/").concat(e.total)):null}},{key:"createImagesContent",value:function(e){return e&&e.length>0?h.a.createElement("span",{className:"longtext-icon-container longtext-formatter-image-container"},h.a.createElement("img",{src:e[0],alt:""}),h.a.createElement("i",{className:"image-number"},e.length>1?"+"+e.length:null)):null}},{key:"render",value:function(){var e=this.getStyle();return h.a.createElement("div",{className:"longtext-formatter",style:e},this.createContent(this.props.value))}}]),t}(h.a.Component),Cf=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getFormattedValue=function(e){var t=e;return"[object Boolean]"===Object.prototype.toString.call(e)&&(t+=""),t},n}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value}},{key:"render",value:function(){var e=this.props.value;if("object"===typeof e)return null;var t=this.props.type?"grid-cell-type-".concat(this.props.type):"grid-cell-type-default",n=this.getFormattedValue(e);return h.a.createElement("div",{className:t,title:n},n)}}]),t}(h.a.Component),Sf=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getCurrentOption=function(){var e=n.props,t=e.value;return e.column.data.options.find((function(e){return e.id===t}))},n.getClassName=function(){return"grid_cell_type_"+n.props.column.type},n.getStyle=function(){var e=n.getCurrentOption(),t={display:"inline-block",padding:"0px 10px",height:"20px",textAlign:"center",borderRadius:"10px",fontSize:"13px",backgroundColor:e.color,color:e.textColor||null};return e?t:null},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.column;if(!t||!n.data||!n.data.options)return h.a.createElement("div",null);var a=this.getCurrentOption();if(a){var r=this.getClassName(),i=this.getStyle();return h.a.createElement("div",{className:r,style:i},a.name)}return null}}]),t}(h.a.Component),kf=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.column;return h.a.createElement("div",null,h.a.createElement(Sf,{value:t,column:n}))}}]),t}(h.a.Component),Of=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getMultipleSelectList=function(){var e=n.props,t=e.value,a=e.column,r=a.data?a.data.options:[];return Array.isArray(t)&&t.map((function(e,t){var n=r.find((function(t){return t.id===e}));if(n)return h.a.createElement("div",{key:"multiple_"+t,className:"multiple-select",style:{backgroundColor:n.color,color:n.textColor||null}},n.name)}))},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.getMultipleSelectList();return e.length>0&&h.a.createElement("div",{className:"multiple-selects-formatter"},h.a.createElement("div",{className:"formatter-show"},e))}}]),t}(h.a.Component),Mf=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onFileClick=function(e){if(n.state.canOpenFile){var t,a=n.props.value[e],r=window.dtable,i=r.seafileUrl,o=r.repoApiToken,s=a.url;if(s.indexOf("/asset")>-1)t=s.replace("/asset","/asset-preview"),window.open(t,"_blank");else{var l=s.substring(s.lastIndexOf(o)+o.length);Ch.getSeafileRepoInfo().then((function(e){var n=e.data.repo_id,r=e.data.repo_name;t="file"===a.type?i+"/lib/"+n+"/file"+l:i+"/library/"+n+"/"+r+l,window.open(t,"_blank")}))}}},n.onFileMouseDown=function(e){e.stopPropagation()},n.state={canOpenFile:!1},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;!this.props.isCellSelected&&e.isCellSelected&&(this.setState({canOpenFile:!1}),setTimeout((function(){t.setState({canOpenFile:!0})}),300)),this.props.isCellSelected&&!e.isCellSelected&&this.setState({canOpenFile:!1})}},{key:"render",value:function(){var e=this,t=[];if(Array.isArray(this.props.value)){var n=this.props,a=n.column;t=n.value.map((function(t,n){var r=Zf(t.name,t.type);return h.a.createElement("img",{alt:"",key:"file-formatter-".concat(a.key,"-").concat(e.props.rowIdx,"-").concat(n),src:r,onClick:e.onFileClick.bind(e,n),title:t.name,onMouseDown:e.onFileMouseDown})}))}return h.a.createElement("div",{className:"file-formatter"},t)}}]),t}(h.a.Component),Lf=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).getCellValue=function(){return window.app.getLinkCellValue(n.tableID,n.otherTableID,n.props.row._id)},n.onInternalLinkClick=function(e,t){n.state.canOpenInternalLink&&window.app.openInternalLinkRowExpand(e,n.otherTableID)},n.getFilteredRows=function(){var e=n.props.column,t=n.state.value;if(!Array.isArray(t))return[];var a=window.app.getLinkedTable(n.otherTableID),r=window.app.getLinkedRows(n.otherTableID,t),i=[];return r.forEach((function(t,r){var o=pt.TableUtils.getTableColumnByKey(a,e.data.display_column_key),s=h.a.createElement("div",{key:r,className:"link",onClick:n.onInternalLinkClick.bind(E(n),t)},h.a.createElement("span",{className:"link-name"},n.getDisplayLinkName(t[e.data.display_column_key],o)));i.push(s)})),i},n.getDisplayLinkName=function(e,t){if(!e&&0!==e)return null;var n=t.type,a=(t.data||{}).format;return n===pt.CellType.NUMBER?Object(pt.getNumberDisplayString)(e,a):n===pt.CellType.DATE?Object(pt.getDateDisplayString)(e,a):e},n.state={value:n.getCellValue(),canOpenInternalLink:!1};var a=e.column.data,r=a?a.table_id:null,i=a?a.other_table_id:null;return n.tableID=window.app.getSelectedTableId(),n.otherTableID=n.tableID===r?i:r,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.setState({value:this.getCellValue()})}},{key:"componentWillReceiveProps",value:function(e){var t=this;!this.props.isCellSelected&&e.isCellSelected&&(this.setState({canOpenInternalLink:!1}),setTimeout((function(){t.setState({canOpenInternalLink:!0})}),300)),this.props.isCellSelected&&!e.isCellSelected&&this.setState({canOpenInternalLink:!1});var n=window.app.getLinkCellValue(this.tableID,this.otherTableID,e.row._id);this.setState({value:n})}},{key:"render",value:function(){var e=this.getFilteredRows();return e.length>0?h.a.createElement("div",{className:"links-formmatter"},h.a.createElement("div",{className:"formmatter-show"},e)):null}}]),t}(p.Component),Df=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getDatasetList=function(){var e=n.props,t=e.value,a=e.column;if(!Array.isArray(t))return[];var r=[];if(!a.data)return[];var i=a.data.linked_common_dataset_id,o=window.app.state.linkedCommonDatasets[i];if(!o)return[];var s=o.rows;return t.map((function(e,t){var n=s&&s.find((function(t){return t._id===e}));n&&r.push(h.a.createElement("div",{key:t,className:"collaborator"},h.a.createElement("span",{className:"collaborator-name"},n.Name)))})),r},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.getDatasetList();return e.length>0&&h.a.createElement("div",{className:"collaborators-formmatter"},h.a.createElement("div",{className:"formmatter-show"},e))}}]),t}(h.a.Component),Rf=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getCollaboratorsList=function(){var e=n.props.value,t=window.app.state.collaborators,a=[];return Array.isArray(e)&&e.map((function(e,n){var r=t&&t.find((function(t){return t.email===e}));r&&a.push(h.a.createElement("div",{key:n,className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:r.name,src:r.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},r.name)))})),a},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.getCollaboratorsList();return e.length>0&&h.a.createElement("div",{className:"collaborators-formmatter"},h.a.createElement("div",{className:"formmatter-show"},e))}}]),t}(p.Component),Nf=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.column;if("[object Number]"!==Object.prototype.toString.call(t))return h.a.createElement("div",null);var a=n.data&&n.data.format?n.data.format:"number";return h.a.createElement("div",{className:"grid-cell-type-number"},Object(pt.getNumberDisplayString)(t,a))}}]),t}(h.a.Component),If=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.column,a=n.data&&n.data.format?n.data.format:"YYYY-MM-DD";return t?h.a.createElement("div",{className:"grid-cell-type-number"},Object(pt.getDateDisplayString)(t,a)):h.a.createElement("div",null)}}]),t}(h.a.Component),Af=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getCollaborator=function(){var e=n.props.value,t=window.app.state.collaborators,a=t&&t.find((function(t){return t.email===e}));if(!a){var r=window.dtable.mediaUrl,i="".concat(r,"/avatars/default.png");return h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:e,src:i})),h.a.createElement("span",{className:"collaborator-name"},e))}return h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:a.name,src:a.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},a.name))},n}return S(t,e),_(t,[{key:"render",value:function(){if(!this.props.value)return"";var e=this.getCollaborator();return h.a.createElement("div",{className:"collaborators-formmatter"},h.a.createElement("div",{className:"formmatter-show"},e))}}]),t}(p.Component),Pf=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.type;if(!t)return"";var a=n?"grid-cell-type-".concat(n):"grid-cell-type-default",r=ft()(t).format("YYYY-MM-DD HH:mm:ss");return h.a.createElement("div",{className:a,title:r},r)}}]),t}(h.a.Component),Yf=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getCollaborator=function(){var e=n.props.value,t=window.app.state.collaborators,a=t&&t.find((function(t){return t.email===e}));if(!a){var r=window.dtable.mediaUrl,i="".concat(r,"/avatars/default.png");return h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:e,src:i})),h.a.createElement("span",{className:"collaborator-name"},e))}return h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:a.name,src:a.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},a.name))},n}return S(t,e),_(t,[{key:"render",value:function(){if(!this.props.value)return"";var e=this.getCollaborator();return h.a.createElement("div",{className:"collaborators-formmatter"},h.a.createElement("div",{className:"formmatter-show"},e))}}]),t}(p.Component),Ff=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.type;if(!t)return"";var a=n?"grid-cell-type-".concat(n):"grid-cell-type-default",r=ft()(t).format("YYYY-MM-DD HH:mm:ss");return h.a.createElement("div",{className:a,title:r},r)}}]),t}(h.a.Component),jf=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.value;return e||(e={}),h.a.createElement("div",null,"".concat(e.province||""," ").concat(e.city||""," ").concat(e.district||""," ").concat(e.detail||""))}}]),t}(h.a.Component),Uf=(D(bf={},"default",h.a.createElement(Cf,null)),D(bf,"text",h.a.createElement(Cf,null)),D(bf,zt,h.a.createElement(yf,null)),D(bf,Xt,h.a.createElement(xf,null)),D(bf,Kt,h.a.createElement(kf,null)),D(bf,Jt,h.a.createElement(Tf,null)),D(bf,Zt,h.a.createElement(Mf,null)),D(bf,$t,h.a.createElement(Of,null)),D(bf,Qt,h.a.createElement(Rf,null)),D(bf,Wt,h.a.createElement(Nf,null)),D(bf,qt,h.a.createElement(If,null)),D(bf,en,h.a.createElement(Lf,null)),D(bf,nn,h.a.createElement(Af,null)),D(bf,an,h.a.createElement(Pf,null)),D(bf,"link-common-dataset",h.a.createElement(Df,null)),D(bf,rn,h.a.createElement(Yf,null)),D(bf,on,h.a.createElement(Ff,null)),D(bf,"geolocation",h.a.createElement(jf,null)),D(bf,tn,h.a.createElement(Cf,null)),bf),Hf=new(function(){function e(){v(this,e)}return _(e,[{key:"createFormatter",value:function(e){return Uf[e]?Uf[e]:null}}]),e}()),Bf=function(){return"undefined"!==typeof Aa.a},Vf={md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",folder:"folder-192.png",default:"file.png"},Gf=function(e){return Bf()&&e instanceof Aa.a.List},Wf=function(e){return Array.isArray(e)&&0===e.length},zf=function(e){return e&&"[object Function]"==={}.toString.call(e)},qf=function(e){return 0===Object.keys(e).length&&e.constructor===Object},Kf=function(e){return Bf()&&Aa.a.Iterable.isIterable(e)},Xf=function(e){var t={};return t.getValue=e?function(e,t){return e.get(t)}:function(e,t){return e[t]},t},Jf=Bf()?Aa.a.Map.isMap:function(){return!1},Zf=function(e,t){var n="",a="";return-1==e.lastIndexOf(".")?n="img/file/192/"+Vf.default:a=e.substr(e.lastIndexOf(".")+1).toLowerCase(),n=Vf[a]?"img/file/192/"+Vf[a]:"dir"===t?"img/"+Vf.folder:"img/file/192/"+Vf.default,window.dtable.mediaUrl+n},$f=function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+t[n]},Qf=function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-1)).slice(e.lastIndexOf("/")+1)},em=function(e,t){return void 0===e?Array.isArray(t)?0!==t.length:!1!==t&&""!==t:e!==t},tm="undefined"!==typeof window&&null!=navigator.userAgent.toLowerCase().match(/(ipod|ipad|iphone|android|coolpad|mmp|smartphone|midp|wap|xoom|symbian|j2me|blackberry|wince)/i),nm=function(e,t){var n="";return e.response?403===e.response.status?(t&&Za.danger(h.a.createElement($a,null),{id:"permission_denied",duration:3600}),n="Permission_denied"):n=e.response.data&&e.response.data.error_msg?e.response.data.error_msg:"Error":n="Please_check_the_network",n},am=function(e){var t=window.dtable.server;return e.indexOf(t)>-1?e.replace("/workspace","/thumbnail/workspace")+"?size=256":e},rm=function(e){var t=document.getElementById("downloadFrame");null!=t&&document.body.removeChild(t);var n=document.createElement("iframe");n.setAttribute("id","downloadFrame"),n.style.display="none",n.src=e,document.body.appendChild(n)},im=function(e){return e.columns.map((function(e){return e.editor=vf.createEditor(e.type),e.formatter=Hf.createFormatter(e.type),e}))},om=function(e){var t=e.columns,n=e.rows,a=pt.Views.getAllFormulaColumns(t);return pt.Views.getTableFormulaResults(e,a,n)};function sm(e,t){var n=0,a=0,r=sn(e,t);if(!r)return null;for(var i=0;i<t;i++){var o=sn(e,i);o&&(o.width&&(n+=o.width),cn(o)&&(a+=o.width))}return window.isMobile?n-(window.innerWidth-r.width)/2:n-a}var lm=n(93),cm=n.n(lm),um=n(102),dm=n.n(um);function pm(e){return e>47&&e<58||32===e||13===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}function hm(e){return(!0===e.ctrlKey||!0===e.metaKey)&&"Control"!==e.key}var fm=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).isClickedInside=!1,n.handleDocumentClick=function(e){n.isClickedInside?n.isClickedInside=!1:n.props.onClickOutside(e)},n.handleMouseDown=function(){n.isClickedInside=!0},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"render",value:function(){return h.a.cloneElement(h.a.Children.only(this.props.children),{onMouseDownCapture:this.handleMouseDown})}}]),t}(h.a.Component);n(186);var mm=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={isInvalid:!1},n.changeCommitted=!1,n.changeCanceled=!1,n.isKeyExplicitlyHandled=function(e){return zf(n["onPress"+e])},n.checkAndCall=function(e,t){zf(n[e])&&n[e](t)},n.onKeyDown=function(e){if(hm(e))n.checkAndCall("onPressKeyWithCtrl",e);else if(n.isKeyExplicitlyHandled(e.key)){var t="onPress"+e.key;n.checkAndCall(t,e)}else pm(e.keyCode)&&(e.stopPropagation(),n.checkAndCall("onPressChar",e));n._keysDown=n._keysDown||{},n._keysDown[e.keyCode]=!0,zf(n.props.onGridKeyDown)&&n.props.onGridKeyDown(e)},n.setEditorRef=function(e){n.editor=e},n.createEditor=function(){var e={};[qt,Kt,$t,en].indexOf(n.props.column.type)>-1?e.getInstance=n.setEditorRef:e.ref=n.setEditorRef;var t=qe({column:n.props.column,value:n.getInitialValue(),onCommit:n.commit,onCommitCancel:n.commitCancel,onCommitData:n.commitData,rowMetaData:n.getRowMetaData(),rowData:n.props.rowData,height:n.props.height,onBlur:n.commit,onOverrideKeyDown:n.onKeyDown,onDragStart:n.props.onDragStart,onDragEnd:n.props.onDragEnd,onDoubleClick:n.props.onDoubleClick},e),a=n.props.column.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,Object.assign({ref:n.setEditorRef},t)):h.a.createElement(or,{ref:n.setEditorRef,column:n.props.column,value:n.getInitialValue(),onBlur:n.commit,rowMetaData:n.getRowMetaData()})},n.onPressEnter=function(){n.commit({key:"Enter"})},n.onPressTab=function(){n.commit({key:"Tab"})},n.onPressEscape=function(e){n.editorIsSelectOpen()?e.stopPropagation():n.commitCancel()},n.onPressArrowDown=function(e){n.editorHasResults()?e.stopPropagation():n.commit(e)},n.onPressArrowUp=function(e){n.editorHasResults()?e.stopPropagation():n.commit(e)},n.onPressArrowLeft=function(e){n.isCaretAtBeginningOfInput()?n.commit(e):e.stopPropagation()},n.onPressArrowRight=function(e){n.isCaretAtEndOfInput()?n.commit(e):e.stopPropagation()},n.editorHasResults=function(){return!!zf(n.getEditor().hasResults)&&n.getEditor().hasResults()},n.editorIsSelectOpen=function(){return!!zf(n.getEditor().isSelectOpen)&&n.getEditor().isSelectOpen()},n.getRowMetaData=function(){if("function"===typeof n.props.column.getRowMetaData)return n.props.column.getRowMetaData(n.props.rowData,n.props.column)},n.getEditor=function(){return n.editor},n.getInputNode=function(){return n.getEditor().getInputNode()},n.getInitialValue=function(){var e=n.props,t=e.firstEditorKeyPress,a=e.value;return"Delete"===t||"Backspace"===t?"":"Enter"===t?a:t||a},n.getContainerClass=function(){return ie()({"rdg-editor-container":!0,"has-error":!0===n.state.isInvalid})},n.commit=function(e){var t=n.props,a=t.onCommit,r=t.rowIdx,i=t.groupIdx,o=t.rowData,s=t.column,l=t.selectCell;if(s.type!==en){var c=n.getEditor();if(!c.hasEditorChange||c.hasEditorChange()){var u=e||{},d=s.key,p=n.getEditor().getValue();em(o[d],p[d])&&n.isNewValueValid(p)&&(n.changeCommitted=!0,a({cellKey:d,rowIdx:r,groupIdx:i,updated:p,key:u.key}),"single-select"===s.type&&setTimeout((function(){var e={rowIdx:r,idx:s.idx,groupIdx:i};l(e,!1)}),1))}else n.props.onCommitCancel()}},n.commitData=function(e){var t,a=n.props,r=a.onCommitData,i=a.rowIdx,o=a.groupIdx,s=e||{};(t=s.updated?s.updated:n.getEditor().getValue(),n.isNewValueValid(t))&&(n.changeCommitted=!0,r({cellKey:n.props.column.key,rowIdx:i,groupIdx:o,updated:t,key:s.key}))},n.commitCancel=function(){n.changeCanceled=!0,n.props.onCommitCancel()},n.isNewValueValid=function(e){if(zf(n.getEditor().validate)){var t=n.getEditor().validate(e);return n.setState({isInvalid:!t}),t}return!0},n.setCaretAtEndOfInput=function(){var e=n.getInputNode(),t=e.value.length;if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var a=e.createTextRange();a.moveStart("character",t),a.collapse(),a.select()}},n.isCaretAtBeginningOfInput=function(){var e=n.getInputNode();return e.selectionStart===e.selectionEnd&&0===e.selectionStart},n.isCaretAtEndOfInput=function(){var e=n.getInputNode();return e.selectionStart===e.value.length},n.handleRightClick=function(e){e.stopPropagation()},n.setTextInputFocus=function(){var e=n.props.firstEditorKeyPress,t=n.getInputNode();t.focus(),"INPUT"===t.tagName&&(pm(e)?t.select():(t.focus(),t.select()))},n.renderStatusIcon=function(){if(!0===n.state.isInvalid)return h.a.createElement("span",{className:"glyphicon glyphicon-remove form-control-feedback"})},n.onClickOutside=function(){n.commit(),n.props.eventBus&&n.props.eventBus.dispatch(i.SELECT_NONE)},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.getInputNode();void 0!==e&&(this.setTextInputFocus(),this.getEditor().disableContainerStyles||(e.className+=" editor-main",e.style.height=this.props.height-1+"px"))}},{key:"componentDidUpdate",value:function(e){e.scrollLeft===this.props.scrollLeft&&e.scrollTop===this.props.scrollTop||this.commitCancel()}},{key:"componentWillUnmount",value:function(){this.changeCommitted||this.changeCanceled||this.commit({key:"Enter"})}},{key:"render",value:function(){var e=this.props,t=e.width,n={position:"absolute",height:e.height,width:t,left:e.left,top:e.top,zIndex:Xn};return h.a.createElement(fm,{onClickOutside:this.onClickOutside},h.a.createElement("div",{style:n,ref:this.props.innerRef,className:this.getContainerClass(),onKeyDown:this.onKeyDown,onContextMenu:this.handleRightClick},this.createEditor(),this.renderStatusIcon()))}}]),t}(h.a.Component);mm.displayName="EditorContainer";var gm=mm;n(186),n(1018);var vm=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={isInvalid:!1,style:{position:"absolute",left:n.props.left,top:n.props.top,zIndex:Xn}},n.changeCommitted=!1,n.changeCanceled=!1,n.setEditorRef=function(e){n.editor=e},n.createEditor=function(){var e={getInstance:n.setEditorRef,column:n.props.column,value:n.getInitialValue(),onCommit:n.commit,style:n.state.style,onCommitCancel:n.commitCancel,rowMetaData:n.getRowMetaData(),rowData:n.props.rowData,height:n.props.height,onBlur:n.commit,onOverrideKeyDown:n.onKeyDown,openEditorMode:n.props.openEditorMode};Array.isArray(e.value)||"geolocation"===e.column.type||(e.value=[]);var t=n.props.column.editor;return h.a.isValidElement(t)?h.a.cloneElement(t,e):zf(t)?h.a.createElement(t,Object.assign({ref:n.setEditorRef},e)):h.a.createElement(or,{ref:n.setEditorRef,column:n.props.column,value:n.getInitialValue(),onBlur:n.commit,rowMetaData:n.getRowMetaData()})},n.editorHasResults=function(){return!!zf(n.getEditor().hasResults)&&n.getEditor().hasResults()},n.editorIsSelectOpen=function(){return!!zf(n.getEditor().isSelectOpen)&&n.getEditor().isSelectOpen()},n.getRowMetaData=function(){if("function"===typeof n.props.column.getRowMetaData)return n.props.column.getRowMetaData(n.props.rowData,n.props.column)},n.getEditor=function(){return n.editor},n.getInputNode=function(){return n.getEditor().getInputNode()},n.getInitialValue=function(){var e=n.props,t=e.firstEditorKeyPress,a=e.value;return"Delete"===t||"Backspace"===t?"":a},n.getContainerClass=function(){return ie()({"has-error":!0===n.state.isInvalid})},n.commit=function(e){var t=n.props,a=t.onCommit,r=t.rowIdx,i=t.groupIdx,o=t.rowData,s=t.column,l=e||{},c=n.getEditor().getValue(),u=s.key;em(o[u],c[u])&&n.isNewValueValid(c)&&(n.changeCommitted=!0,a({cellKey:u,rowIdx:r,groupIdx:i,updated:c,key:l.key}))},n.commitCancel=function(){n.changeCanceled=!0,n.props.onCommitCancel()},n.isNewValueValid=function(e){if(zf(n.getEditor().validate)){var t=n.getEditor().validate(e);return n.setState({isInvalid:!t}),t}return!0},n.handleRightClick=function(e){e.stopPropagation()},n.renderStatusIcon=function(){if(!0===n.state.isInvalid)return h.a.createElement("span",{className:"glyphicon glyphicon-remove form-control-feedback"})},n.onClickOutside=function(){n.commit(),n.props.eventBus&&n.props.eventBus.dispatch(i.SELECT_NONE)},n}return S(t,e),_(t,[{key:"componentDidUpdate",value:function(e){e.scrollLeft===this.props.scrollLeft&&e.scrollTop===this.props.scrollTop||this.commitCancel()}},{key:"componentWillUnmount",value:function(){this.changeCommitted||this.changeCanceled||this.commit({key:"Enter"})}},{key:"render",value:function(){return h.a.createElement(fm,{onClickOutside:this.onClickOutside},h.a.createElement("div",{style:this.state.style,className:this.getContainerClass(),onContextMenu:this.handleRightClick},this.createEditor(),this.renderStatusIcon()))}}]),t}(h.a.Component);vm.displayName="ImageEditorContainer";var ym=vm,_m=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={isMounted:!1},n.el=document.createElement("div"),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.props.target.appendChild(this.el),this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){this.props.target.removeChild(this.el)}},{key:"render",value:function(){return this.state.isMounted?m.a.createPortal(this.props.children,this.el):null}}]),t}(h.a.Component),bm={children:z.a.node,inline:z.a.bool,tag:ge,innerRef:z.a.oneOfType([z.a.object,z.a.func,z.a.string]),className:z.a.string,cssModule:z.a.object},wm=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(E(n)),n.submit=n.submit.bind(E(n)),n}V(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,a=e.inline,r=e.tag,i=e.innerRef,o=B(e,["className","cssModule","inline","tag","innerRef"]),s=ce(ie()(t,!!a&&"form-inline"),n);return h.a.createElement(r,H({},o,{ref:i,className:s}))},t}(p.Component);wm.propTypes=bm,wm.defaultProps={tag:"form"};var Em=wm,Tm={children:z.a.node,row:z.a.bool,check:z.a.bool,inline:z.a.bool,disabled:z.a.bool,tag:ge,className:z.a.string,cssModule:z.a.object},xm=function(e){var t=e.className,n=e.cssModule,a=e.row,r=e.disabled,i=e.check,o=e.inline,s=e.tag,l=B(e,["className","cssModule","row","disabled","check","inline","tag"]),c=ce(ie()(t,!!a&&"row",i?"form-check":"form-group",!(!i||!o)&&"form-check-inline",!(!i||!r)&&"disabled"),n);return"fieldset"===s&&(l.disabled=r),h.a.createElement(s,H({},l,{className:c}))};xm.propTypes=Tm,xm.defaultProps={tag:"div"};var Cm=xm,Sm=(n(1019),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onHidePasteExpandDialog()},n.handleSubmit=function(){n.props.onPasteExpand(n.state.isExpand),n.props.onHidePasteExpandDialog()},n.onChange=function(e){n.setState({isExpand:"expand"===e.target.value})},n.state={isExpand:!0},n}return S(t,e),_(t,[{key:"render",value:function(){var e,t=this.props,n=t.columns,a=t.selectedPosition,r=t.copiedData,i=t.t,o=t.isGroupView,s=a.idx;e=o?"group":"table";var l=r.copiedCols.length+s-n.length,c=" ".concat(i("1_new_column"));return l>1&&(c=" ".concat(l," ").concat(i("new_columns"))),h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"paste-expand-dialog"},h.a.createElement(xr,{toggle:this.toggle},i("Do_you_want_to_expand_this_".concat(e))),h.a.createElement(kr,null,h.a.createElement("div",{className:"expand-confirm-desc mb-4"},i("To_fit_your_pasted_data_into_the_".concat(e,"_we_need_to_add")),l>0?h.a.createElement("span",null,c):""),h.a.createElement(Em,null,h.a.createElement(Cm,{check:!0},h.a.createElement(ir,{check:!0},h.a.createElement(Lr,{type:"radio",name:"is_expand",value:"expand",onChange:this.onChange,checked:this.state.isExpand}),h.a.createElement("span",null,i("Expand_the_".concat(e))," "))),h.a.createElement(Cm,{check:!0},h.a.createElement(ir,{check:!0},h.a.createElement(Lr,{type:"radio",name:"is_expand",value:"no_expand",onChange:this.onChange,checked:!this.state.isExpand}),h.a.createElement("span",null,i("Don\u2019t_expand_the_".concat(e))," "))))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},i("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},i("Continue"))))}}]),t}(p.Component)),km=Object(I.d)("dtable")(Sm),Om=(n(1020),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onHideSmartPasteDialog()},n.onChange=function(e){n.setState({isSmartPaste:"true"===e.target.value})},n.handleSubmit=function(){n.props.onSmartPaste(n.state.isSmartPaste),n.props.onHideSmartPasteDialog()},n.state={isSmartPaste:!0},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"smart-paste-dialog"},h.a.createElement(xr,{toggle:this.toggle},e("Smart_Paste")),h.a.createElement(kr,null,h.a.createElement("div",{className:"confirm-desc mb-4"},e("You_are_copying_data_from_another_table")),h.a.createElement(Em,null,h.a.createElement(Cm,{check:!0},h.a.createElement(ir,{check:!0},h.a.createElement(Lr,{type:"radio",name:"is_smart",value:!0,onChange:this.onChange,checked:this.state.isSmartPaste}),h.a.createElement("span",null,e("Yes")," "))),h.a.createElement(Cm,{check:!0},h.a.createElement(ir,{check:!0},h.a.createElement(Lr,{type:"radio",name:"is_smart",value:!1,onChange:this.onChange,checked:!this.state.isSmartPaste}),h.a.createElement("span",null,e("No")," "))))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},e("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},e("Continue"))))}}]),t}(h.a.Component)),Mm=Object(I.d)("dtable")(Om),Lm=document.getElementById("modal-wrapper"),Dm=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).el=document.createElement("div"),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){Lm.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){Lm.removeChild(this.el)}},{key:"render",value:function(){return m.a.createPortal(this.props.children,this.el)}}]),t}(h.a.Component),Rm=function(e,t){return e*t},Nm=function(e){var t=e.selectedPosition,n=e.rowGetter,a=e.isGroupView,r=e.groupRowGetter,i=t.rowIdx,o=t.groupIdx;return a?r({rowIdx:i,groupIdx:o}):n(i)},Im=function(e){var t=e.selectedPosition,n=e.columns,a=e.isGroupView,r=e.groupOffsetLeft,i=e.rowHeight,o=e.scrollLeft,s=t.idx,l=t.rowIdx;if(s>=0){var c=sn(n,s),u=cn(c),d=c.width,p=u?c.left+o:c.left;return a&&(p+=r),{width:d,left:p,top:Rm(l,i),height:i,zIndex:u?3:1}}return{width:0,left:0,top:0,height:i,zIndex:1}},Am=function(e){var t=e.selectedRange,n=e.columns,a=e.rowHeight,r=e.isGroupView,i=e.groups,o=e.groupOffsetLeft,s=e.getRowTopFromCanvas,l=e.scrollLeft,c=t.topLeft,u=t.bottomRight,d=t.startCell,p=t.cursorCell;if(c.idx<0)return{width:0,left:0,top:0,height:a,zIndex:1};var h,f,m=function(e,t,n){for(var a=0,r=!1,i=e;i<=t;i++){var o=sn(n,i);o&&(a+=o.width,r=r||cn(o))}return{totalWidth:a,anyColFrozen:r,left:sn(n,e).left}}(c.idx,u.idx,n),g=m.totalWidth,v=m.anyColFrozen,y=m.left;if(r){var _=d.rowIdx,b=d.groupIdx,w=p.rowIdx,E=p.groupIdx,T=_;if(cn(n[1])&&1===c.idx&&(y+=l,u.idx>1&&(g-=l)),b===E)w-_<0&&(T=w),f=(Math.abs(w-_)+1)*a;else if(b<E){f=(i[b].row_ids.length-_)*a}else f=(_+1)*a;y+=o,h=s({rowIdx:T,groupIdx:b})}else h=Rm(c.rowIdx,a),f=(u.rowIdx-c.rowIdx+1)*a;return{width:g,left:y,top:h,height:f,zIndex:v?3:1}},Pm=function(e){var t=e.selectedPosition;return sn(e.columns,t.idx)},Ym=function(e){var t=e.selectedPosition,n=e.columns,a=e.rowGetter,r=e.isGroupView,i=e.groupRowGetter,o=Pm({selectedPosition:t,columns:n}),s=Nm({selectedPosition:t,rowGetter:a,isGroupView:r,groupRowGetter:i});return s&&o?lm.get(s,o.key):null},Fm=function(e){var t=e.enableCellSelect,n=e.selectedPosition,a=e.columns,r=e.rowGetter,i=e.onCheckCellIsEditable,o=e.isGroupView,s=e.groupRowGetter,l=Pm({selectedPosition:n,columns:a}),c=Nm({selectedPosition:n,rowGetter:r,isGroupView:o,groupRowGetter:s}),u=!zf(i)||i(qe({row:c,column:l},n));return function(e,t,n){return!!e&&(null!=e.editable&&"function"===typeof e.editable?!0===n&&e.editable(t):!0===n&&(!!e.editor||!!e.editable))}(l,c,t)&&u};var jm=function(e){var t=e.left,n=e.top,a=e.width;return{height:e.height+2,width:a,zIndex:e.zIndex,position:"absolute",pointerEvents:"none",transform:"translate(".concat(t,"px, ").concat(n-1,"px)"),outline:0}},Um=function(e){var t=e.width,n=e.height,a=e.top,r=e.left,i=e.zIndex,o=e.children,s=e.innerRef,l=pa(e,["width","height","top","left","zIndex","children","innerRef"]);return h.a.createElement("div",Object.assign({style:jm({left:r,top:a,width:t,height:n,zIndex:i}),"data-test":"cell-mask",ref:s},l),o)};var Hm=function(e){var t=e.selectedPosition,n=e.innerRef,a=e.getSelectedDimensions,r=e.children,i=a(t);return h.a.createElement(Um,Object.assign({},i,{className:"rdg-selected",innerRef:n,tabIndex:"0"}),r)};var Bm=function(e){var t=e.selectedRange,n=e.getSelectedRangeDimensions,a=e.children,r=n(t);return h.a.createElement(Um,Object.assign({},r,{className:"rdg-selected-range"}),a)};var Vm=function(e){var t=e.focusedPosition,n=e.innerRef,a=e.getFocusedDimensions,r=e.children,i=a(t);return h.a.createElement(Um,Object.assign({},i,{className:"rdg-focused",innerRef:n,tabIndex:"-1"}),r)};var Gm=function(e){var t=e.copiedPosition,n=e.copiedRange,a=e.innerRef,r=e.getSelectedDimensions,i=e.getSelectedRangeDimensions,o=n&&n,s=o.topLeft,l=o.bottomRight,c=l.idx-s.idx===0&&l.rowIdx-s.rowIdx===0?r(t):i(n);return h.a.createElement(Um,Object.assign({},c,{className:"react-grid-cell-copied",innerRef:a}))};var Wm=function(e){var t=e.draggedRange,n=e.getSelectedRangeDimensions,a=e.getSelectedDimensions,r=t.overRowIdx,i=t.bottomRight,o=i.idx,s=i.rowIdx;if(null!=r&&s!==r){for(var l=s<r?"react-grid-cell-dragged-over-down":"react-grid-cell-dragged-over-up",c=n(t),u=s+1;u<=r;u++){var d=a({idx:o,rowIdx:u}).height;c.height+=d}return h.a.createElement(Um,Object.assign({},c,{className:l}))}return null};var zm=o.TEXT,qm=o.FRAGMENT;function Km(e){var t,n,a,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.format;try{if(t=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}(),n=document.createRange(),a=document.getSelection(),(r=document.createElement("span")).textContent=e,r.addEventListener("copy",(function(t){if(t.stopPropagation(),t.preventDefault(),o){var n=t.dataTransfer||t.clipboardData;n.clearData(),n.setData(i.format,e)}})),document.body.appendChild(r),n.selectNodeContents(r),a.addRange(n),!document.execCommand("copy"))return!1}catch(s){return!1}finally{r&&document.body.removeChild(r),t()}}var Xm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=e.dataTransfer||e.clipboardData;if("dtable-fragment"===t){var r=n.dtableUuid,i=n.tableId,s=function(e){for(var t,n=e.tableBlock,a=e.selectedRange,r=a.topLeft,i=a.bottomRight,o=n.columns,s=n.rowGetter,l=n.isGroupView,c=n.groupRowGetter,u=r.rowIdx,d=r.idx,p=r.groupIdx,h=i.rowIdx,f=i.idx,m=[],g="",v=u;v<h+1;v++){var y=l?c({groupIdx:p,rowIdx:v}):s(v);m.push(y);for(var _=d;_<f+1;_++){var b=o[_].key;if("geolocation"===o[_].type){var w=y[b]||{};g+="".concat(w.province||"").concat(w.city||"").concat(w.district||"").concat(w.detail||"")}else g+=y[b]||"";_<f&&(g+="\t")}v<h&&(g+="\n")}return t=n.columns.slice(d,f+1),{copiedRows:m,copiedCols:t,copiedTableTxt:g}}({tableBlock:n.tableBlock,selectedRange:n.selectedRange}),l=s.copiedRows,c=s.copiedCols,u=s.copiedTableTxt,d={dtableUuid:r,tableId:i,copiedRows:l,copiedCols:c},p=JSON.stringify(d);a?(a.setData(zm,u),a.setData(qm,p)):(Km(u,{format:zm}),Km(p,{format:qm}))}else{var h=o[t.toUpperCase()];a?a.setData(h,n):Km(n,{format:h})}};n(1021);var Jm=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(o)))).editorScrollLeft=0,n.state={selectedPosition:{idx:-1,rowIdx:-1},selectedRange:{topLeft:{idx:-1,rowIdx:-1},bottomRight:{idx:-1,rowIdx:-1}},copiedPosition:null,copiedRange:null,cutPosition:null,cutRange:null,draggedRange:null,isEditorEnabled:!1,firstEditorKeyPress:null,isShowPasteExpandDialog:!1,isShowSmartPasteDialog:!1,openEditorMode:""},n.getEditorPosition=function(){if(n.selectionMask){var e=n.props.editorPortalTarget,t=n.selectionMask.getBoundingClientRect(),a=t.left,r=t.top;if(e===document.body){var i=document.scrollingElement||document.documentElement;return{left:a+i.scrollLeft,top:r+i.scrollTop}}var o=e.getBoundingClientRect(),s=o.left,l=o.top;return{left:a-s+e.scrollLeft,top:r-l+e.scrollTop}}},n.setMaskScollLeft=function(e,t,a){if(e){var r=n.props.groupOffsetLeft,i=t.idx,o=t.rowIdx,s=t.groupIdx;if(i>=0&&o>=0){var l=n.props,c=l.columns,u=l.getRowTop,d=l.isGroupView,p=sn(c,i);if(cn(p)){var h,f=a+p.left;d?(h=u({groupIdx:s,rowIdx:o}),f+=r):h=u(o);var m="translate(".concat(f,"px, ").concat(h-1,"px)");e.style.transform!==m&&(e.style.transform=m)}}}},n.setEditorContainerLeft=function(e){if(n.editorContainer&&n.editorContainer.firstChild){if("checkbox-editor-container"!==n.editorContainer.firstChild.className)return;0===n.editorScrollLeft&&(n.editorScrollLeft=parseInt(n.editorContainer.style.left)+e);var t=n.editorScrollLeft-e+"px";n.editorContainer.style.left=t,n.editorContainer.style.zIndex=1}},n.setScrollLeft=function(e){var t=E(n),a=t.selectionMask,r=t.copyMask,i=t.focusMask,o=t.state,s=o.selectedPosition,l=o.copiedPosition;n.setMaskScollLeft(a,s,e),n.setMaskScollLeft(r,l,e),n.setMaskScollLeft(i,s,e),n.scrollLeft!==e&&(n.setEditorContainerLeft(e),n.scrollLeft=e)},n.onKeyDown=function(e){if(!("r"===window.dtable.permission)){var t=e.keyCode;if(P()("mod+z",e)&&n.state.isEditorEnabled&&(e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),P()("mod+;",e))n.setNowTime();else if(P()("mod+'",e)){var a=n.state.selectedPosition;n.props.eventBus.dispatch(i.OPEN_COMMENT,a)}else if(hm(e))n.onPressKeyWithCtrl(e);else if(t===um.Escape)n.onPressEscape(e);else if(t===um.Tab)n.onPressTab(e);else if(n.isKeyboardNavigationEvent(e))n.changeCellFromEvent(e);else if(pm(t)||-1!==[um.Enter].indexOf(t)){if(t===um.Space||t===um.Enter&&!0===e.shiftKey)return;n.openEditor(e)}else t!==um.Backspace&&t!==um.Delete||"rdg-focused"===e.target.className&&(e.preventDefault(),n.handleSelectCellsDelete())}},n.setNowTime=function(){var e=n.state.selectedPosition,t=e.rowIdx,a=e.idx,r=e.groupIdx;if(-1!==a&&-1!==t){var i=n.props.columns[a];if("date"===i.type){var o={},s=i.data?i.data.format:"YYYY-MM-DD",l=i.data&&s.indexOf("HH:mm")>-1?"YYYY-MM-DD HH:mm":"YYYY-MM-DD";o[i.key]=ft()().format(l),n.props.onCommit({cellKey:i.key,groupIdx:r,rowIdx:t,updated:o})}}},n.isSelectedCellEditable=function(){var e=n.props,t=e.enableCellSelect,a=e.columns,r=e.rowGetter,i=e.onCheckCellIsEditable,o=e.isGroupView,s=e.groupRowGetter,l=n.state.selectedPosition;return Fm({enableCellSelect:t,columns:a,rowGetter:r,selectedPosition:l,onCheckCellIsEditable:i,isGroupView:o,groupRowGetter:s})},n.openEditor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key;if(window.isMobile)n.onEditCellClick();else{var a="r"===window.dtable.permission,r=n.props.columns,i=n.state.selectedPosition,o=Pm({selectedPosition:i,columns:r}),s=o.type;a?s!==Xt&&s!==Jt&&s!==Zt||n.isSelectedCellEditable()&&!n.state.isEditorEnabled&&n.setState({isEditorEnabled:!0,firstEditorKeyPress:t,editorPosition:n.getEditorPosition()}):s!==tn&&s!==nn&&s!==an&&s!==rn&&s!==on&&n.isSelectedCellEditable()&&!n.state.isEditorEnabled&&n.setState({isEditorEnabled:!0,firstEditorKeyPress:t,editorPosition:n.getEditorPosition()})}},n.closeEditor=function(){n.setState({isEditorEnabled:!1,firstEditorKeyPress:null,editorPosition:null,openEditorMode:""})},n.onPressKeyWithCtrl=function(e){e.keyCode;n.copyPasteEnabled()},n.onFocus=function(e){var t=!0===e.shiftKey,a=n.state.selectedPosition,r=a.idx,i=a.rowIdx;-1===r&&-1===i&&(t?n.selectLastCell():n.selectFirstCell())},n.onPressTab=function(e){var t=n.props,r=t.cellNavigationMode,i=t.columns,o=t.rowsCount,s=n.state,l=s.selectedPosition,c=s.isEditorEnabled,u=s.isRowExpandToggle,d=s.isShowPasteExpandDialog;if(!u&&!d&&0!==o)return function(e,t){var n=t.cellNavigationMode,r=t.columns,i=t.rowsCount,o=t.selectedPosition,s=o.rowIdx,l=o.idx;if(n===a.NONE||n===a.CHANGE_ROW){var c=l===r.length-1,u=0===l,d=s===i-1,p=0===s;return!0===e.shiftKey?u&&p:c&&d}return!1}(e,{cellNavigationMode:r,columns:i,rowsCount:o,selectedPosition:l})?c?void n.closeEditor():void n.setState({selectedPosition:{idx:-1,rowIdx:-1}}):void(n.state.selectedPosition.idx!==i.length-1?n.changeCellFromEvent(e):e.preventDefault())},n.onPressEscape=function(){n.copyPasteEnabled()&&n.closeEditor()},n.copyPasteEnabled=function(){return null!==n.props.onPasteGrid&&n.isSelectedCellEditable()},n.isCellMaskActive=function(){var e=document.activeElement;return e&&("cell-mask"===e.getAttribute("data-test")||"active-editor"===e.getAttribute("data-test"))},n.cutCells=function(e){if(e.preventDefault(),n.isCellMaskActive()){var t,a,r,i=n.state,o=i.selectedPosition,s=i.selectedRange,l=n.props,c=l.columns,u=l.rowGetter,d=l.t,p=l.isGroupView,h=l.groupRowGetter,f=o.rowIdx,m=o.idx,g=o.groupIdx,v=s.topLeft,y=s.bottomRight;if(!(-1===f||m<=0)){if(a={tableBlock:{columns:c,rowGetter:u,isGroupView:p,groupRowGetter:h},selectedRange:s},(r=(y.rowIdx-v.rowIdx+1)*(y.idx-v.idx+1))>0){var _=window.app.state,b=_.selectedTableIdx,w=_.selectedViewIdx,E="".concat(r," ").concat(d("cells_cuted"));t="dtable-fragment",n.setState({cutTableIdx:b,cutViewIdx:w,cutPosition:{rowIdx:f,idx:m,groupIdx:g},copiedRange:qe({},n.state.selectedRange),pasteFrom:Ut.CUT}),Za.success(E)}else t="text";Xm(e,t,a)}}},n.copyCells=function(e){e.preventDefault();var t=window.getSelection().toString();if(!t&&e.target.value){var a=e.target,r=a.selectionStart,i=a.selectionEnd;t=e.target.value.substring(r,i)}if(t)Xm(e,"text",t);else{if(!n.isCellMaskActive())return;n.onCopyDTableGrid(e)}},n.onCopySelected=function(){n.onCopyDTableGrid()},n.onCopyDTableGrid=function(e){var t=n.props,a=t.t,r=t.tableId,i=t.columns,o=t.rowGetter,s=t.isGroupView,l=t.groupRowGetter,c=n.state,u=c.selectedPosition,d=c.selectedRange,p=u.rowIdx,h=u.idx,f=d.topLeft,m=d.bottomRight,g=window.dtable.dtableUuid;if(!(-1===p||h<=0)){var v={dtableUuid:g,tableId:r,tableBlock:{columns:i,rowGetter:o,isGroupView:s,groupRowGetter:l},selectedRange:d},y=(m.rowIdx-f.rowIdx+1)*(m.idx-f.idx+1);n.setState({copiedPosition:{rowIdx:p,idx:h},copiedRange:qe({},d),pasteFrom:Ut.COPY});var _=a("1_cell_copied");y>1&&(_="".concat(y," ").concat(a("cells_copied"))),Za.success(_),Xm(e,"dtable-fragment",v)}},n.pasteCells=function(e){if(!("r"===window.dtable.permission)&&n.isCellMaskActive()){var t=n.state.selectedPosition,a=t.idx,r=t.rowIdx,i=uh(e),o=i.type,s=i["dtable-fragment"];-1!==a&&-1!==r&&(n.isNeedSmartPaste(s)?n.setState({cliperDataType:o,copiedData:s,isShowSmartPasteDialog:!0}):n.onGeneralPaste(o,s))}},n.isNeedSmartPaste=function(e){var t=n.props,a=t.tableId,r=t.columns,i=window.dtable.dtableUuid,o=e.dtableUuid,s=e.tableId,l=e.copiedCols;if(!o||!s)return!1;var c=0,u=!1;return Array.isArray(l)&&l.forEach((function(e,t){var n=e.name,a=r.findIndex((function(t){return t.name===e.name})),i=r[t+1];i&&n!==i.name&&(u=!0),a>-1&&c++})),(o!==i||o===i&&s!==a)&&u&&c>2},n.onPasteExpand=function(e){var t=n.props,a=t.columns,r=t.onPasteGrid,i=n.state,o=i.cliperDataType,s=i.copiedData,l=i.selectedPosition,c=i.selectedRange,u=i.cutTableIdx,d=i.cutViewIdx,p=i.cutPosition,h=i.pasteFrom,f=s.copiedCols;e||(s.copiedCols=f.slice(0,a.length-l.idx)),r({pastePosition:c.startCell,type:o,copied:s,cutTableIdx:u,cutViewIdx:d,cutPosition:p,pasteFrom:h}),setTimeout((function(){n.setPasteRange(c,s)}),0)},n.onGeneralPaste=function(e,t){var a=n.props,r=a.columns,i=a.onPasteGrid,o=n.state,s=o.selectedPosition,l=o.selectedRange,c=o.cutTableIdx,u=o.cutViewIdx,d=o.cutPosition,p=o.pasteFrom;s.idx+t.copiedCols.length>r.length?n.setState({cliperDataType:e,copiedData:t,isShowPasteExpandDialog:!0}):(i({pastePosition:l.startCell,type:e,copied:t,cutTableIdx:c,cutViewIdx:u,cutPosition:d,pasteFrom:p}),n.setPasteRange(l,t))},n.onSmartPaste=function(e){var t=n.props.onPasteGrid,a=n.state,r=a.cliperDataType,i=a.copiedData,o=a.selectedRange,s=a.cutTableIdx,l=a.cutViewIdx,c=a.cutPosition,u=a.pasteFrom;e?t({pastePosition:o.startCell,type:r,copied:i,cutTableIdx:s,cutViewIdx:l,cutPosition:c,pasteFrom:u,isSmartPaste:e}):n.onGeneralPaste(r,i)},n.setPasteRange=function(e,t){var a,r=n.state.selectedPosition,i=e.topLeft,o=t.copiedRows,s=t.copiedCols,l=i.idx,c=i.rowIdx,u=i.groupIdx,d=l+s.length-1,p=c+o.length-1;return a={topLeft:i,startCell:r,bottomRight:{idx:d,rowIdx:p,groupIdx:u},cursorCell:{idx:d,rowIdx:p,groupIdx:u}},n.setState({selectedRange:qe({},e,{},a)}),a},n.onHidePasteExpandDialog=function(){n.setState({isShowPasteExpandDialog:!1})},n.onHideSmartPasteDialog=function(){n.setState({isShowSmartPasteDialog:!1})},n.handleSelectCellsDelete=function(){for(var e=n.props,t=e.columns,a=e.onGridRowsUpdated,r=e.rowGetter,i=e.groupRowGetter,o=e.isGroupView,s=n.state.selectedRange,l=s.topLeft,c=s.bottomRight,u=l.idx,d=l.rowIdx,p=l.groupIdx,h=c.idx,f=c.rowIdx,m=u;m<=h;m++)for(var g=t[m],v=g.key,y=g.type,_=g.data,b=d;b<=f;b++){var w=o?i({groupIdx:p,rowIdx:b}):r(b),E=w[v];if((E||0===E)&&a({cellKey:v,fromRow:b,updated:D({},v,""),groupIdx:p}),y===en){var T=_.table_id,x=_.other_table_id;window.app.deleteRowLinks(T,x,w._id)}}},n.getLeftInterval=function(){var e=n.props,t=e.isGroupView,a=e.columns,r=!!a[1]&&a[1].frozen;return t?r?12+a[0].width+a[1].width:0:r?a[0].width+a[1].width:a[0].width},n.isCellWithinBounds=function(e){var t=e.idx,a=e.rowIdx,r=e.groupIdx,i=n.props,o=i.columns,s=i.rowsCount,l=i.isGroupView,c=i.groups;if(l){var u=c[r];if(r>-1&&u){var d=u.row_ids;return a>=0&&a<d.length&&t>=0&&t<ln(o)}return!1}return a>=0&&a<s&&t>=0&&t<ln(o)},n.isGridSelected=function(){return n.isCellWithinBounds(n.state.selectedPosition)},n.isFocused=function(){return document.activeElement===n.focusMask},n.isFocusedOnBody=function(){return document.activeElement===document.body},n.focus=function(){n.focusMask&&!n.isFocused()&&n.focusMask.focus()},n.selectFirstCell=function(){n.selectCell({rowIdx:0,idx:0})},n.selectLastCell=function(){var e=n.props,t=e.rowsCount,a=e.columns;n.selectCell({rowIdx:t-1,idx:ln(a)-1})},n.selectNone=function(){n.setState({selectedPosition:{idx:-1,rowIdx:-1},selectedRange:{topLeft:{idx:-1,rowIdx:-1},bottomRight:{idx:-1,rowIdx:-1}},copiedPosition:null})},n.selectMultiCell=function(e){n.setState({selectedRange:e})},n.selectCell=function(e,t){window.getSelection().removeAllRanges();var a=t?n.openEditor:function(){return null};n.state.isEditorEnabled&&n.closeEditor(),n.props.onCellSelected(e),n.setState((function(t){var a=qe({},t.selectedPosition,{},e);return n.isCellWithinBounds(a)?{selectedPosition:a,selectedRange:{topLeft:a,bottomRight:a,startCell:a,cursorCell:a,isDragging:!1}}:t}),a)},n.selectColumn=function(e){var t=n.props,a=t.columns;if(!t.isGroupView){for(var r=0,i=0;i<a.length;i++)if(e.column.key===a[i].key){r=i;break}var o=n.props.rowsCount;n.setState({selectedPosition:{idx:r,rowIdx:0},selectedRange:{startCell:{idx:r,rowIdx:0},topLeft:{idx:r,rowIdx:0},bottomRight:{idx:r,rowIdx:o-1},isDragging:!1}})}},n.onSelectCellRangeStarted=function(e){0!==e.idx&&n.setState({selectedRange:n.createSingleCellSelectedRange(e,!0)},(function(){zf(n.props.onCellRangeSelectionStarted)&&n.props.onCellRangeSelectionStarted(n.state.selectedRange)}))},n.onSelectCellRangeUpdated=function(e,t,a){if((n.state.selectedRange.isDragging||t)&&n.isCellWithinBounds(e)){var r=n.state.selectedRange.startCell||n.state.selectedPosition,i=[r.idx,e.idx].sort((function(e,t){return e-t}));i[0]=0===i[0]?1:i[0];var o=[r.rowIdx,e.rowIdx].sort((function(e,t){return e-t})),s={idx:i[0],rowIdx:o[0],groupIdx:r.groupIdx},l={idx:i[1],rowIdx:o[1],groupIdx:r.groupIdx},c=qe({startCell:n.state.selectedPosition},n.state.selectedRange,{topLeft:s,bottomRight:l,cursorCell:e});n.setState({selectedRange:c},(function(){zf(n.props.onCellRangeSelectionUpdated)&&n.props.onCellRangeSelectionUpdated(n.state.selectedRange),zf(a)&&a()}))}},n.onSelectCellRangeEnded=function(){var e=qe({},n.state.selectedRange,{isDragging:!1});n.setState({selectedRange:e},(function(){zf(n.props.onCellRangeSelectionCompleted)&&n.props.onCellRangeSelectionCompleted(n.state.selectedRange)}))},n.isDragEnabled=function(){var e=n.props,t=e.onGridRowsUpdated,a=e.onCellsDragged;return n.isSelectedCellEditable()&&(zf(t)||zf(a))},n.handleDragStart=function(e){var t=n.state.selectedRange,a=t.topLeft,r=t.bottomRight,i=t.startCell,o=t.cursorCell,s=e&&e.target&&e.target.className;if(a.idx>-1&&s){e.dataTransfer.effectAllowed="copy";var l=JSON.stringify({topLeft:a,bottomRight:r,startCell:i,cursorCell:o});try{e.dataTransfer.setData("text/plain",l)}catch(c){e.dataTransfer.setData("text",l)}n.setState({draggedRange:{topLeft:a,bottomRight:r,startCell:i,cursorCell:o}})}},n.handleDragEnter=function(e){var t=e.overRowIdx;null!=n.state.draggedRange&&n.setState((function(e){return{draggedRange:qe({},e.draggedRange,{overRowIdx:t})}}))},n.handleDragEnd=function(){var e=n.state,t=e.draggedRange,a=e.selectedRange,r=F()(a);if(null!=t){var i=t.overRowIdx;if(null!=i){var o=n.props.onFillingDragRows;o&&(o(t),r.bottomRight.rowIdx=i,r.cursorCell.rowIdx=i)}n.setState({draggedRange:null,selectedRange:r})}},n.onDragHandleDoubleClick=function(){var e=n.props,t=e.onDragHandleDoubleClick,a=e.rowGetter,r=e.isGroupView,i=e.groupRowGetter,o=n.state.selectedPosition;t({idx:o.idx,rowIdx:o.rowIdx,rowData:Nm({selectedPosition:o,rowGetter:a,isGroupView:r,groupRowGetter:i})})},n.onCommit=function(){var e;(e=n.props).onCommit.apply(e,arguments),n.closeEditor()},n.onCommitData=function(){var e;(e=n.props).onCommit.apply(e,arguments)},n.onCommitCancel=function(){n.closeEditor()},n.setSelectionMaskRef=function(e){n.selectionMask=e},n.setCopyMaskRef=function(e){n.copyMask=e},n.setFocusMaskRef=function(e){n.focusMask=e},n.setEditorContainerRef=function(e){n.editorContainer=e},n.getSelectedDimensions=function(e){var t=e.rowIdx,a=e.groupIdx,r=n.props,i=r.scrollLeft,o=r.getRowHeight,s=r.getRowTop,l=r.getRowColumns,c=r.isGroupView,u=r.groupOffsetLeft,d=l(t),p=s(c?{rowIdx:t,groupIdx:a}:t),h=o(t);return qe({},Im({selectedPosition:e,columns:d,isGroupView:c,groupOffsetLeft:u,scrollLeft:i,rowHeight:h}),{top:p})},n.getSelectedRangeDimensions=function(e){var t=e.topLeft.rowIdx,a=n.props,r=a.getRowColumns,i=a.rowHeight,o=a.getRowTop,s=a.isGroupView,l=a.groups,c=a.groupOffsetLeft,u=a.scrollLeft,d=r(t);return qe({},Am({selectedRange:e,columns:d,rowHeight:i,isGroupView:s,groups:l,groupOffsetLeft:c,getRowTopFromCanvas:o,scrollLeft:u}))},n.isSelecCells=function(){var e=n.state.selectedRange,t=e.topLeft,a=e.bottomRight;return a.idx-t.idx>0||n.isSelectRows(t.rowIdx,a.rowIdx)},n.isSelectRows=function(e,t){return t-e>0},n.onOpenEditorEvent=function(e,t){n.setState({openEditorMode:t}),n.openEditor()},n.renderSingleCellSelectView=function(){var e=n.state,t=e.selectedPosition,a=e.selectedRange,r=a.startCell,i=a.cursorCell,o="r"===window.dtable.permission;if(0!==t.idx)return!n.state.isEditorEnabled&&n.isGridSelected()&&[h.a.createElement(Hm,{key:"selection-mask",selectedPosition:t,innerRef:n.setSelectionMaskRef,getSelectedDimensions:n.getSelectedDimensions},n.isDragEnabled()&&!o&&h.a.createElement(lr,{onDragStart:n.handleDragStart,onDragEnd:n.handleDragEnd,onDoubleClick:n.onDragHandleDoubleClick})),h.a.createElement(Vm,{key:"focus-mask",focusedPosition:i||r,innerRef:n.setFocusMaskRef,getFocusedDimensions:n.getSelectedDimensions})]},n.renderCellRangeSelectView=function(){var e=n.state.selectedRange,t=e.startCell,a=e.cursorCell,r=n.props,i=r.columns,o=r.rowHeight,s="r"===window.dtable.permission;return[h.a.createElement(Bm,{key:"range-mask",selectedRange:n.state.selectedRange,columns:i,rowHeight:o,getSelectedRangeDimensions:n.getSelectedRangeDimensions},n.isDragEnabled()&&!s&&h.a.createElement(lr,{onDragStart:n.handleDragStart,onDragEnd:n.handleDragEnd,onDoubleClick:n.onDragHandleDoubleClick})),h.a.createElement(Hm,{key:"selection-mask",selectedPosition:t,innerRef:n.setSelectionMaskRef,getSelectedDimensions:n.getSelectedDimensions}),h.a.createElement(Vm,{key:"focus-mask",focusedPosition:a||t,innerRef:n.setFocusMaskRef,getFocusedDimensions:n.getSelectedDimensions})]},n.getEditorContainer=function(){var e,t=n.props,a=t.rowGetter,r=t.isGroupView,i=t.groupRowGetter,o=t.getRowColumns,s=t.scrollLeft,l=t.scrollTop,c=t.eventBus,u=n.state,d=u.firstEditorKeyPress,p=u.selectedPosition,f=u.openEditorMode,m=Nm({selectedPosition:p,rowGetter:a,isGroupView:r,groupRowGetter:i}),g=o(p.rowIdx),v=Pm({selectedPosition:p,columns:g});return v?(e="image"===v.type||"file"===v.type||"collaborator"===v.type||"link-common-dataset"===v.type||"geolocation"===v.type?ym:gm,h.a.createElement(e,Object.assign({onDragStart:n.handleDragStart,onDragEnd:n.handleDragEnd,onDoubleClick:n.onDragHandleDoubleClick,eventBus:c,firstEditorKeyPress:d,onCommit:n.onCommit,onCommitCancel:n.onCommitCancel,onCommitData:n.onCommitData,rowIdx:p.rowIdx,groupIdx:p.groupIdx,value:Ym({selectedPosition:p,columns:g,rowGetter:a,isGroupView:r,groupRowGetter:i}),rowData:m,column:Pm({selectedPosition:p,columns:g}),scrollLeft:s,innerRef:n.setEditorContainerRef,scrollTop:l,openEditorMode:f,editorPortalTarget:n.props.editorPortalTarget,selectCell:n.selectCell},qe({},n.getSelectedDimensions(p),{},n.state.editorPosition)))):null},n.onEditCellClick=function(){var e=n.props,t=e.rowGetter,a=e.isGroupView,r=e.groupRowGetter,i=e.rowSelection,o=n.state.selectedPosition,s=i.keys.values,l=!!(Array.isArray(s)&&s.length>0),c=Nm({selectedPosition:o,rowGetter:t,isGroupView:a,groupRowGetter:r});n.props.onEditCell(c,o,l)},n.renderRowExpandIcon=function(e,t){if(!window.isMobile||"r"===window.dtable.permission)return null;var a=Qn;return e?t?h.a.createElement("span",{className:"mobile-edit-cell-icon",style:{zIndex:a},onClick:n.onEditCellClick},h.a.createElement("i",{className:"dtable-font dtable-icon-rename"})):null:h.a.createElement("span",{className:"mobile-insert-row-icon",style:{zIndex:a},onClick:n.props.onInsertRow},h.a.createElement("i",{className:"dtable-font dtable-icon-add-table"}))},n}return S(t,e),_(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.selectedPosition,r=n.selectedRange,i=n.isEditorEnabled,o=t.selectedPosition,s=t.selectedRange,l=t.isEditorEnabled,c=a!==o&&(a.rowIdx!==o.rowIdx||a.idx!==o.idx),u=r!==s&&(r.topLeft!==s.topLeft||r.bottomRight!==s.bottomRight),d=i!==l&&!i;if(c){var p=this.props,h=p.onCellSelected,f=p.onCellDeSelected;zf(f)&&this.isCellWithinBounds(o)&&f(qe({},o)),zf(h)&&this.isCellWithinBounds(a)&&h(qe({},a))}(c&&this.isCellWithinBounds(a)||d||u)&&this.focus()}},{key:"componentDidMount",value:function(){var e=this.props.eventBus;this.unsubscribeSelectNone=e.subscribe(i.SELECT_NONE,this.selectNone),this.unsubscribeSelectCell=e.subscribe(i.SELECT_CELL,this.selectCell),this.unsubscribeSelectMultiCell=e.subscribe(i.SELECT_MULTI_CELLS,this.selectMultiCell),this.unsubscribeSelectColumn=e.subscribe(i.SELECT_COLUMN,this.selectColumn),this.unsubscribeSelectStart=e.subscribe(i.SELECT_START,this.onSelectCellRangeStarted),this.unsubscribeSelectUpdate=e.subscribe(i.SELECT_UPDATE,this.onSelectCellRangeUpdated),this.unsubscribeSelectEnd=e.subscribe(i.SELECT_END,this.onSelectCellRangeEnded),this.unsubscribeDragEnter=e.subscribe(i.DRAG_ENTER,this.handleDragEnter),this.unsubscribeCopyCells=e.subscribe(i.COPY_CELLS,this.copyCells),this.unsubscribeCutCells=e.subscribe(i.CUT_CELLS,this.cutCells),this.unsubscribePasteCells=e.subscribe(i.PASTE_CELLS,this.pasteCells),this.unsubscribeOpenEditorEvent=e.subscribe(i.OPEN_EDITOR,this.onOpenEditorEvent)}},{key:"componentWillUnmount",value:function(){this.unsubscribeSelectNone(),this.unsubscribeSelectCell(),this.unsubscribeSelectColumn(),this.unsubscribeSelectStart(),this.unsubscribeSelectUpdate(),this.unsubscribeSelectEnd(),this.unsubscribeDragEnter(),this.unsubscribeCopyCells(),this.unsubscribeCutCells(),this.unsubscribePasteCells(),this.unsubscribeOpenEditorEvent(),this.unsubscribeSelectMultiCell()}},{key:"isKeyboardNavigationEvent",value:function(e){return null!=this.getKeyNavActionFromEvent(e)}},{key:"isGroupedRowSelected",value:function(){var e=this.props,t=e.rowGetter,n=e.isGroupView,a=e.groupRowGetter,r=this.state.selectedPosition,i=Nm({selectedPosition:r,rowGetter:t,isGroupView:n,groupRowGetter:a});return!(!i||!i.__metaData)&&i.__metaData.isGroup}},{key:"getKeyNavActionFromEvent",value:function(e){var t=this,n=this.props,a=n.rowVisibleEndIdx,r=n.rowVisibleStartIdx,i=n.onHitBottomBoundary,o=n.onHitRightBoundary,s=n.onHitLeftBoundary,l=n.onHitTopBoundary,c=n.groups,u=n.isGroupView,d=n.rowHeight,p=n.columns;this.props.metricsUpdated();var h=function(e){return e.rowIdx>=a-1},f=function(e){return 0!==e.rowIdx&&e.rowIdx<=r-1},m={ArrowDown:{getNext:function(e){if(t.selectionMask){var n=t.selectionMask.getBoundingClientRect();if(u){var a=c.length,r=c[e.groupIdx].row_ids.length,i=e.rowIdx===r-1&&e.groupIdx<a;if(n.y<0||n.y>window.innerHeight)window.canvas.setScrollTop(window.canvas.groupViewCanvas.scrollTop+n.y-n.height);else{var o=window.canvas.groupViewCanvas.scrollTop+d;i&&(o+=86);var s=e.rowIdx===r-1?150:64;(e.groupIdx!==a-1||e.rowIdx!==r-1)&&window.innerHeight-(n.y+n.height)<s&&window.canvas.setScrollTop(o)}return qe({},e,{rowIdx:i?0:e.rowIdx+1,groupIdx:i?e.groupIdx+1:e.groupIdx})}return(n.y<0||n.y>window.innerHeight)&&window.canvas.jumpToRow(e.rowIdx),qe({},e,{rowIdx:e.rowIdx+1})}},isCellAtBoundary:h,onHitBoundary:i},ArrowUp:{getNext:function(e){if(t.selectionMask){var n=t.selectionMask.getBoundingClientRect();if(u){var a=window.canvas.groupViewCanvas.scrollTop-d,r=0===e.rowIdx&&e.groupIdx>0;return n.y<0||n.y>window.innerHeight?window.canvas.setScrollTop(window.canvas.groupViewCanvas.scrollTop+n.y-n.height):(r&&(a-=86),a>0&&n.y<168&&window.canvas.setScrollTop(a)),qe({},e,{rowIdx:r?c[e.groupIdx-1].row_ids.length-1:e.rowIdx-1,groupIdx:r?e.groupIdx-1:e.groupIdx})}return(n.y<0||n.y>window.innerHeight)&&window.canvas.jumpToRow(e.rowIdx),qe({},e,{rowIdx:e.rowIdx-1})}},isCellAtBoundary:f,onHitBoundary:l},ArrowRight:{getNext:function(e){if(t.selectionMask){var n=t.selectionMask.getBoundingClientRect(),a=e.idx,r=p[a];if(1===a&&!0===r.frozen)window.canvas.scrollToColumn(1);else{var i=p[a+1]?p[a+1].width:0;if(n.x<0||n.x>window.innerWidth)window.canvas.scrollToColumn(a+1);else if(n.x+n.width+i>window.innerWidth){var o=i-(window.innerWidth-n.x-n.width);window.grid.setScrollLeft(window.grid.getScrollLeft()+o)}}return qe({},e,{idx:e.idx+1})}},isCellAtBoundary:function(){return!1},onHitBoundary:function(e){o(e),h(e)&&i(e)}},ArrowLeft:{getNext:function(e){if(t.selectionMask){var n=t.getLeftInterval(),a=t.selectionMask.getBoundingClientRect(),r=p[e.idx-1].width;if(a.x<0||a.x>window.innerWidth)window.canvas.scrollToColumn(e.idx-1);else if(r>a.x-n){var i=r-(a.x-n);window.grid.setScrollLeft(window.grid.getScrollLeft()-i)}return qe({},e,{idx:1===e.idx?1:e.idx-1})}},isCellAtBoundary:function(){return!1},onHitBoundary:function(e){s(e),f(e)&&l(e)}}};return e.keyCode===um.Tab?!0===e.shiftKey?m.ArrowLeft:m.ArrowRight:m[e.key]}},{key:"changeCellFromEvent",value:function(e){e.preventDefault();var t=e.keyCode===um.Tab,n=e.shiftKey;if(t){var r=this.props.cellNavigationMode===a.NONE?a.CHANGE_ROW:this.props.cellNavigationMode;this.changeCellFromKeyAction(e,r)}else n?this.changeSelectedRangeFromArrowKeyAction(e):this.changeCellFromKeyAction(e,this.props.cellNavigationMode)}},{key:"changeCellFromKeyAction",value:function(e,t){if(229!==e.keyCode||!this.state.isEditorEnabled){var n=this.state.selectedPosition,a=this.getKeyNavActionFromEvent(e),r=this.getNextSelectedCellPositionForKeyNavAction(a,n,t);this.checkIsAtGridBoundary(a,r),this.selectCell(qe({},r))}}},{key:"changeSelectedRangeFromArrowKeyAction",value:function(e){var t=this,n=this.props.cellNavigationMode,a=this.state.selectedRange.cursorCell||this.state.selectedPosition,r=this.getKeyNavActionFromEvent(e),i=this.getNextSelectedCellPositionForKeyNavAction(r,a,n);this.checkIsAtGridBoundary(r,i),this.onSelectCellRangeUpdated(qe({},i),!0,(function(){t.onSelectCellRangeEnded()}))}},{key:"getNextSelectedCellPositionForKeyNavAction",value:function(e,t,n){var r=(0,e.getNext)(t),i=this.props;return function(e,t){var n=e.cellNavigationMode,r=e.columns,i=e.rowsCount;if(n!==a.NONE){var o=t.idx,s=t.rowIdx,l=-1===o;if(o===r.length){if(n===a.CHANGE_ROW){if(!(s===i-1))return{idx:0,rowIdx:s+1,changeRowOrColumn:!0}}else if(n===a.LOOP_OVER_ROW)return{rowIdx:s,idx:0,changeRowOrColumn:!0}}else if(l){if(n===a.CHANGE_ROW){if(!(0===s))return{rowIdx:s-1,idx:r.length-1,changeRowOrColumn:!0}}else if(n===a.LOOP_OVER_ROW)return{rowIdx:s,idx:r.length-1,changeRowOrColumn:!0}}}return qe({},t,{changeRowOrColumn:!1})}({columns:i.columns,rowsCount:i.rowsCount,cellNavigationMode:n},r)}},{key:"checkIsAtGridBoundary",value:function(e,t){var n=e.isCellAtBoundary,a=e.onHitBoundary,r=t.changeRowOrColumn,i=pa(t,["changeRowOrColumn"]);(n(i)||r)&&(this.props.metricsUpdated(),a(i))}},{key:"createSingleCellSelectedRange",value:function(e,t){return{topLeft:e,bottomRight:e,startCell:e,cursorCell:e,isDragging:t}}},{key:"render",value:function(){var e=this.props,t=e.rowGetter,n=e.isGroupView,a=e.groupRowGetter,r=e.contextMenu,i=this.state,o=i.isEditorEnabled,s=i.selectedPosition,l=i.selectedRange,c=i.draggedRange,u=i.copiedPosition,d=i.copiedRange,f=Nm({selectedPosition:s,rowGetter:t,isGroupView:n,groupRowGetter:a}),m=l.topLeft,g=l.bottomRight,v=!(-1===s.idx&&-1===s.rowIdx);return h.a.createElement("div",{onKeyDown:this.onKeyDown,onFocus:this.onFocus},u&&h.a.createElement(Gm,{copiedPosition:u,copiedRange:d,innerRef:this.setCopyMaskRef,getSelectedDimensions:this.getSelectedDimensions,getSelectedRangeDimensions:this.getSelectedRangeDimensions}),c&&h.a.createElement(Wm,{draggedRange:c,getSelectedDimensions:this.getSelectedDimensions,getSelectedRangeDimensions:this.getSelectedRangeDimensions}),function(e){return e.topLeft.idx===e.bottomRight.idx&&e.topLeft.rowIdx===e.bottomRight.rowIdx}(this.state.selectedRange)?this.renderSingleCellSelectView():this.renderCellRangeSelectView(),f&&o&&h.a.createElement(_m,{target:this.props.editorPortalTarget},this.getEditorContainer()),Object(p.isValidElement)(r)&&Object(p.cloneElement)(r,qe({},s,{isSelectRows:this.isSelectRows(m.rowIdx,g.rowIdx),selectedRange:this.isSelecCells()?l:null,onClearSelected:this.handleSelectCellsDelete,onCopySelected:this.onCopySelected})),this.state.isShowPasteExpandDialog&&h.a.createElement(Dm,null,h.a.createElement(km,{onHidePasteExpandDialog:this.onHidePasteExpandDialog,onPasteExpand:this.onPasteExpand,selectedPosition:this.state.selectedPosition,columns:this.props.columns,rowsCount:this.props.rowsCount,copiedData:this.state.copiedData,isGroupView:n,groups:this.props.groups})),this.state.isShowSmartPasteDialog&&h.a.createElement(Dm,null,h.a.createElement(Mm,{onHideSmartPasteDialog:this.onHideSmartPasteDialog,onSmartPaste:this.onSmartPaste})),this.renderRowExpandIcon(v,f))}}]),t}(h.a.Component);Jm.dispplayName="InteractionMasks";var Zm=Object(I.d)("dtable")(Pr(Jm));function $m(e,t){return t.columns!==e.columns||e.row!==t.row||e.formulaRow!==t.formulaRow||t.colOverscanStartIdx!==e.colOverscanStartIdx||t.colOverscanEndIdx!==e.colOverscanEndIdx||t.colVisibleStartIdx!==e.colVisibleStartIdx||t.colVisibleEndIdx!==e.colVisibleEndIdx||t.isSelected!==e.isSelected||e.height!==t.height||t.isOver!==e.isOver||t.expandedRows!==e.expandedRows||t.canDrop!==e.canDrop||!0===t.forceUpdate||t.extraClasses!==e.extraClasses||t.hasSelectedCell!==e.hasSelectedCell||e.hasSelectedCell&&t.selectedPosition.idx!==e.selectedPosition.idx||t.searchResult!==e.searchResult||t.commentRowList!==e.commentRowList}var Qm=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={isMenuOpen:!1},n.onToggleMenu=function(){n.setState((function(e){return{isMenuOpen:!e.isMenuOpen}}))},n.onHideMenu=function(){n.setState({isMenuOpen:!1})},n.onGetMenuOptions=function(){return n.props.action.actions.map((function(e,t){return h.a.createElement("span",{key:t,onClick:e.callback},e.text)}))},n.isActionMenu=function(){return!n.props.action.callback&&n.props.action.actions&&n.props.action.actions.length},n.onActionButtonBlur=function(){n.isActionMenu()&&n.onHideMenu()},n.onActionIconClick=function(){n.isActionMenu()?n.props.action.actions&&n.props.action.actions.length&&n.onToggleMenu():n.props.action.callback()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.isActionMenu(),t=ie()("rdg-cell-action",{"rdg-cell-action-last":this.props.isFirst}),n=ie()("rdg-cell-action-button",{"rdg-cell-action-button-toggled":this.state.isMenuOpen});return h.a.createElement("div",{className:t,onMouseLeave:this.onActionButtonBlur},h.a.createElement("div",{className:n,onClick:this.onActionIconClick},"string"===typeof this.props.action.icon?h.a.createElement("span",{className:this.props.action.icon}):this.props.action.icon),e&&this.state.isMenuOpen&&h.a.createElement("div",{className:"rdg-cell-action-menu"},this.onGetMenuOptions()))}}]),t}(h.a.Component);n(626);var eg=["height","value"],tg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={isCellValueChanging:!1,isLockChanging:!1,isFileTipShow:!1,uploadPercent:100,isIndexing:!1,isShowUploadRemindDialog:!1,uploadFileMessage:{}},n.onCellClick=function(e){e.persist();var t="rdg-row-expand-icon"===e.target.parentNode.className||"rdg-row-expand-icon"===e.target.className,a=n.props,r=a.idx,i=a.rowIdx,o=a.cellMetaData,s=a.rowData,l=a.groupIdx;t?zf(o.onRowExpand)&&o.onRowExpand(s):zf(o.onCellClick)&&o.onCellClick({idx:r,rowIdx:i,groupIdx:l})},n.onCellMouseDown=function(e){if(e.stopPropagation(),2!==e.button){var t=n.props,a=t.idx,r=t.rowIdx,i=t.cellMetaData,o=t.groupIdx;zf(i.onCellMouseDown)&&i.onCellMouseDown({idx:a,rowIdx:r,groupIdx:o})}},n.onCellMouseEnter=function(){var e=n.props,t=e.idx,a=e.rowIdx,r=e.cellMetaData,i=e.groupIdx;zf(r.onCellMouseEnter)&&r.onCellMouseEnter({idx:t,rowIdx:a,groupIdx:i})},n.onCellContextMenu=function(){var e=n.props,t=e.idx,a=e.rowIdx,r=e.cellMetaData,i=e.groupIdx;zf(r.onCellContextMenu)&&r.onCellContextMenu({idx:t,rowIdx:a,groupIdx:i})},n.onCellDoubleClick=function(e){if(e.stopPropagation(),window.isMobile)window.canvas.interactionMasks.onEditButtonClick();else{var t=n.props,a=t.idx,r=t.rowIdx,i=t.cellMetaData,o=t.groupIdx;zf(i.onCellDoubleClick)&&i.onCellDoubleClick({idx:a,rowIdx:r,groupIdx:o})}},n.onCellKeyDown=function(e){n.canExpand()&&"Enter"===e.key&&n.onCellExpand(e)},n.onDragOver=function(e){e.stopPropagation(),e.preventDefault()},n.getStyle=function(){return{position:"absolute",width:n.props.column.width,height:n.props.height,left:n.props.column.left}},n.getFormatter=function(){return n.props.column.formatter},n.getRowData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;return e.rowData.toJSON?e.rowData.toJSON():e.rowData},n.getFormatterDependencies=function(){if("function"===typeof n.props.column.getRowMetaData)return n.props.column.getRowMetaData(n.getRowData(),n.props.column)},n.getCellClass=function(e){var t=n.props,a=t.idx,r=t.lastFrozenColumnIndex,i=t.isLastCell,o=ie()(n.props.column.cellClass,"react-grid-Cell",n.props.className,cn(n.props.column)?"react-grid-Cell--frozen":null,r!==a||window.isMobile?null:"rdg-last--frozen",e.isCellSelected?"cell-selected":null,n.state.isFileTipShow?"draging-file-to-cell":null,e.isNameColumn?"row-comment-cell":null),s=ie()({"row-selected":n.props.isRowSelected,editing:n.isEditorEnabled(),"has-tooltip":!!n.props.tooltip,"last-column":n.props.column.isLastColumn,"last-cell":i});return ie()(o,s)},n.getUpdateCellClass=function(){return n.props.column.getUpdateCellClass?n.props.column.getUpdateCellClass(n.props.selectedColumn,n.props.column,n.state.isCellValueChanging):""},n.isEditorEnabled=function(){return!0===n.props.isEditorEnabled},n.setScrollLeft=function(e){if(!window.isMobile){var t=n.node;if(t){var a="translate3d(".concat(e,"px, 0px, 0px)");if(t.style.webkitTransform=a,t.style.transform=a,-1===t.className.indexOf("react-grid-Cell--frozen"))return;0===e?(t.style.borderRight="1px solid #eee",t.style.boxShadow="none"):(t.style.borderRight="1px solid #ddd",t.style.boxShadow="2px 0 5px -2px rgba(136, 136, 136, .3)")}}},n.removeScroll=function(){var e=n.node;e&&(e.style.webkitTransform=null,e.style.transform=null)},n.createColumEventCallBack=function(e,t){return function(n){e(n,t)}},n.createCellEventCallBack=function(e,t){return function(n){e(n),t(n)}},n.createEventDTO=function(e,t,a){var r=Object.assign({},e);for(var i in t)if(t.hasOwnProperty(i)){var o={idx:n.props.idx,rowIdx:n.props.rowIdx,rowId:n.props.rowData[n.props.cellMetaData.rowKey],name:i},s=n.createColumEventCallBack(a,o);if(r.hasOwnProperty(i)){var l=r[i];r[i]=n.createCellEventCallBack(l,s)}else r[i]=s}return r},n.onOpenAdditionEditor=function(e){e.stopPropagation();var t=n.props,a=t.idx,r=t.rowIdx;n.props.eventBus.dispatch(i.OPEN_EDITOR,{idx:a,rowIdx:r},"file_image_addition")},n.getEvents=function(){var e=n.props,t=e.column,a=e.cellMetaData,r=t?Object.assign({},t.events):void 0,i=a?a.onColumnEvent:void 0,o={onClick:n.onCellClick,onMouseDown:n.onCellMouseDown,onMouseEnter:n.onCellMouseEnter,onDoubleClick:n.onCellDoubleClick,onContextMenu:n.onCellContextMenu,onDragOver:n.onDragOver};return t.type!==Zt&&t.type!==Jt||(o.onDragEnter=n.fileDragEnter,o.onDragLeave=n.fileDragLeave,o.onDrop=function(e){return n.fileDrop(e,t.type)}),r&&i?n.createEventDTO(o,r,i):o},n.getKnownDivProps=function(){return gn(n.props,eg)},n.setCellRef=function(e){n.node=e},n.renderCellContent=function(e){var t,a=n.props,r=a.column,i=a.value,o=a.t,s=a.groupIdx,l=n.getFormatter(),c=e.isCellSelected;t=h.a.isValidElement(l)?h.a.cloneElement(l,qe({},e,{dependentValues:n.getFormatterDependencies(),row:n.getRowData(),isCellSelected:c,onCommit:n.props.cellMetaData.onCommit,groupIdx:s})):zf(l)?h.a.createElement(l,{value:n.props.value,dependentValues:n.getFormatterDependencies(),row:n.getRowData()}):h.a.createElement(Cf,{value:n.props.value,type:n.props.column.type});var u,d="r"===window.dtable.permission,p=n.props.tooltip&&h.a.createElement("span",{className:"cell-tooltip-text"},n.props.tooltip),f=ie()("react-grid-Cell__value",{"cell-tooltip":!!n.props.tooltip},{"default-text-row-cell":"0000"===r.key}),m=n.state,g=m.uploadPercent,v=m.isIndexing;return e.isCellSelected&&!d&&["image","file"].includes(r.type)&&(u=i&&i.length>0?h.a.createElement("span",{onClick:n.onOpenAdditionEditor,className:"dtable-font dtable-icon-add-table addition-image"}):h.a.createElement("span",null,h.a.createElement("span",{onClick:n.onOpenAdditionEditor,className:"dtable-font dtable-icon-add-table addition-image"}),h.a.createElement("span",{style:{marginLeft:"5px",verticalAlign:"middle",fontSize:"14px"}},o("".concat({image:"Add_Images",file:"Add_Files"}[r.type]))))),h.a.createElement("div",{className:f},h.a.createElement("div",{style:{marginLeft:0,position:"relative",top:"50%",transform:"translateY(-50%)"}},h.a.createElement("span",null,100===g&&!v&&t,100!==g&&h.a.createElement("div",{className:"cell-uploading-file"},h.a.createElement("div",{className:"cell-upload-percent"},h.a.createElement(rh,{uploadPercent:g,width:20,defaultColor:"#999999",activeColor:"#999999",successColor:"#999999"}))),100===g&&v&&h.a.createElement("div",{className:"cell-uploading-file"},h.a.createElement("div",{className:"cell-upload-percent"},h.a.createElement(rh,{uploadPercent:g,width:20,defaultColor:"#999999",activeColor:"#999999",successColor:"#999999",tipText:o("Indexing")}))),u),n.props.cellControls),p)},n.isCellSelected=function(){var e=n.props,t=e.hasSelectedCell,a=e.idx,r=e.selectedPosition;return t&&r.idx===a},n.fileDragEnter=function(e){e.preventDefault(),n.setState({isFileTipShow:!0})},n.fileDragLeave=function(e){n.setState({isFileTipShow:!1})},n.fileDrop=function(e,t){e.persist();var a=n.props.t,r=e.dataTransfer.files;if(n.setState({isFileTipShow:!1}),0!==r.length){var i=r[0]?r[0]:e.target.files[0];if(i){var o=new FileReader;o.onload=function(){t===Zt?n.uploadLocalFileContainer(n.setUploadFileMessage,i,t):/image/i.test(i.type)?n.uploadLocalFileContainer(n.setUploadFileMessage,i,t):Za.warning(a("The_file_is_not_an_image"))},t===Zt?o.readAsText(i):o.readAsDataURL(i)}}else Za.warning(a("No_support_dragging_files_from_cell_to_cell"))},n.uploadLocalFileContainer=function(e,t,n){e(t,n)},n.setUploadFileMessage=function(e,t){var a=window.dtableWebAPI,r=window.dtable,i=r.workspaceID,o=r.fileName;return a.getTableAssetUploadLink(i,o).then((function(r){var s=r.data;if(t!==Jt){var l=r.data.file_relative_path,c="".concat(l,"/")+encodeURIComponent(e.name);a.isDTableAssetExist(i,o,c).then((function(a){a.data.is_exist?n.setState({isShowUploadRemindDialog:!0,assetUploadLinkMessage:s,uploadFileMessage:e,columnType:t}):n.setState({assetUploadLinkMessage:s,uploadFileMessage:e,columnType:t},(function(){n.onUploadLocalFile(!1)}))}))}else n.setState({assetUploadLinkMessage:s,uploadFileMessage:e,columnType:t},(function(){n.onUploadLocalFile(!1)}))}))},n.onUploadLocalFile=function(e){var t,a,r=n.props,i=r.rowData,o=r.column,s=r.t,l=r.value,c=o.key,u=l||[],d=window.dtableWebAPI,p=window.dtable,f=p.server,m=p.workspaceID,g=n.state,v=g.assetUploadLinkMessage,y=g.uploadFileMessage,_=g.columnType,b="",w=v.upload_link+"?ret-json=1",E=new FormData;a=v.parent_path,b=_===Zt?v.file_relative_path:v.img_relative_path,E.append("parent_dir",a),E.append("relative_path",b),E.append("file",y),e&&E.append("replace",1),d.uploadImage(w,E,n.onUploadProgress).then((function(e){var t,r=f+"/workspace/"+m+a+"/".concat(b,"/")+encodeURIComponent(e.data[0].name);t=_===Zt?{name:e.data[0].name,size:e.data[0].size,type:"file",url:r}:r,u.push(t),n.setState({uploadPercent:100,isIndexing:!1},(function(){window.app.handleGridRowsUpdated(i._id,D({},c,u),D({},c,i[c]||[]))}))})).catch((function(e){e.response&&403===e.response.status?nm(e,!0):n.setState({uploadPercent:0},(function(){t=h.a.createElement("span",{className:"cell-toast"},h.a.createElement("span",null,s(_===Zt?"Failed_uploaded_file":"Failed_uploaded_image")),h.a.createElement("span",{className:"file-upload-again",onClick:function(){return n.setUploadFileMessage(y,_)}},s("Re_upload"))),Za.danger(t)}))}))},n.replaceRepetitionFile=function(){n.onUploadLocalFile(!0),n.onUploadRemindDialogToggle()},n.uploadRepetitionFile=function(){n.onUploadLocalFile(!1),n.onUploadRemindDialogToggle()},n.onUploadRemindDialogToggle=function(){n.setState({isShowUploadRemindDialog:!n.state.isShowUploadRemindDialog})},n.onCancelUploadRemindDialog=function(){n.setState({isShowUploadRemindDialog:!1,isIndexing:!1,uploadPercent:100})},n.onUploadProgress=function(e){var t=Math.floor(e.loaded/e.total*100);100!==t?n.setState({uploadPercent:t}):n.setState({uploadPercent:t,isIndexing:!0})},n.openRowComment=function(e){var t=n.props,a={};a=t.rowIdx?{rowIdx:t.rowIdx,groupIdx:null}:{rowIdx:null,groupIdx:t.groupIdx},n.props.onShowCommentList(e,a)},n.renderRowCount=function(){var e=n.props.commentRowList,t=n.getRowData(),a=0;return Array.isArray(e)&&e.length>0&&e.forEach((function(e){e.row_id===t._id&&a++})),h.a.createElement(p.Fragment,null,0!==a&&h.a.createElement("div",{className:"row-comment-content",onClick:n.openRowComment},h.a.createElement("span",{className:"dtable-font dtable-icon-comment row-comment-icon"}),h.a.createElement("span",{className:"row-comment-count"},a)))},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isCellValueChanging:this.props.isCellValueChanging(this.props.value,e.value),isLockChanging:cn(this.props.column)!==cn(e.column)})}},{key:"componentDidMount",value:function(){this.checkScroll()}},{key:"componentDidUpdate",value:function(){this.state.isLockChanging&&!cn(this.props.column)&&this.removeScroll()}},{key:"checkScroll",value:function(){var e=this.props,t=e.scrollLeft,n=e.column,a=this.node;cn(n)&&a&&null!=a.style.transform&&this.setScrollLeft(t)}},{key:"getCellActions",value:function(){var e=this.props,t=e.cellMetaData,n=e.column,a=e.rowData;if(t&&t.getCellActions){var r=t.getCellActions(n,a);return r&&r.length?r.map((function(e,t){return h.a.createElement(Qm,{key:t,action:e,isFirst:0===t})})):null}return null}},{key:"render",value:function(){if(this.props.column.hidden)return null;var e,t=this.isCellSelected(),n=this.getStyle(),a="0000"===this.props.column.key,r=this.getCellClass({isCellSelected:t,isNameColumn:a}),i=this.getCellActions(),o=this.renderRowCount(),s=this.props,l=s.value,c=s.column,u=s.rowIdx,d=s.isExpanded,f=s.t,m=this.props.children||this.renderCellContent({value:l,column:c,rowIdx:u,isExpanded:d,isCellSelected:t}),g=this.getEvents();if(this.state.isFileTipShow){var v=c.type===Zt?"Drag_and_drop_to_add_a_file":"Drag_and_drop_to_add_an_image";e=h.a.createElement("div",{className:"cell-file-add",style:{width:this.isCellSelected()?c.width-6:c.width-1}},f(v))}else e=h.a.createElement(p.Fragment,null,i,m,"0000"===c.key&&o);return h.a.createElement("div",Object.assign({},this.getKnownDivProps(),{className:r,style:n},g,{ref:this.setCellRef}),e,this.state.isShowUploadRemindDialog&&h.a.createElement(Qh,{cancelFileUpload:this.onCancelUploadRemindDialog,uploadRepetitionFile:this.uploadRepetitionFile,replaceRepetitionFile:this.replaceRepetitionFile,uploadFileMessage:this.state.uploadFileMessage}))}}]),t}(h.a.PureComponent);tg.defaultProps={isExpanded:!1,value:"",isCellValueChanging:function(e,t){return e!==t}};var ng=Object(I.d)("dtable")(Pr(tg));n(285);var ag=["height"],rg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).handleDragEnter=function(e){e.preventDefault();var t=n.props,a=t.idx;(0,t.cellMetaData.onDragEnter)({overRowIdx:a})},n.handleDragOver=function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},n.handleDrop=function(e){e.preventDefault()},n.isCellHighlight=function(e,t){var a=n.props.searchResult;if(a){var r=a.matchedRows[t];if(r&&r.includes(e))return!0}return!1},n.getCell=function(e){var t=n.props.cellRenderer,a=n.props,r=a.idx,i=a.cellMetaData,o=a.row,s=a.isSelected,l=a.hasSelectedCell,c=a.scrollLeft,u=a.lastFrozenColumnIndex,d=a.selectedPosition,p=a.eventBus,f=a.groupIdx,m=a.columns,g=a.commentRowList,v=a.onShowCommentList,y=e.key,_=e.formatter,b={key:"".concat(y,"-").concat(o._id),idx:e.idx,rowIdx:r,height:n.getRowHeight(),column:e,cellMetaData:i},w=n.isCellHighlight(e.key,o._id),E=n.isCurrentHighlightCell(e.key,o._id),T=n.isLastCell(m,y),x={getInstance:function(e){n[y]=e},value:n.getCellValue(e),rowData:o,isRowSelected:s,hasSelectedCell:l,formatter:_,scrollLeft:c,lastFrozenColumnIndex:u,selectedPosition:d,eventBus:p,className:E?"cell-current-highlight":w?"cell-highlight":null,groupIdx:f,isLastCell:T,commentRowList:g,onShowCommentList:v};return h.a.createElement(t,Object.assign({},b,x))},n.getCells=function(){var e=n.props,t=e.colOverscanStartIdx,a=e.colOverscanEndIdx,r=e.columns,i=r.filter((function(e){return cn(e)}));return r.slice(t,a+1).filter((function(e){return!cn(e)})).concat(i).map((function(e){return n.getCell(e)}))},n.getRowTop=function(){if(n.row)return n.row.offsetTop},n.getRowHeight=function(){var e=n.props.expandedRows||null;if(e&&n.props.idx){var t=e[n.props.idx]||null;if(t)return t.height}return n.props.height},n.getCellValue=function(e){var t=n.props.formulaRow,a=e.key,r=e.type;return"select-row"===a?n.props.isSelected:"function"===typeof n.props.row.get?n.props.row.get(a):r===tn?t?t[a]:"":n.props.row[a]},n.setScrollLeft=function(e){n.props.columns.forEach((function(t){if(cn(t)){if(!n[t.key])return;n[t.key].setScrollLeft(e)}}))},n.setRowRef=function(e){n.row=e},n.getKnownDivProps=function(){return gn(n.props,ag)},n}return S(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return $m(e,this.props)}},{key:"isCurrentHighlightCell",value:function(e,t){var n=this.props.searchResult;if(n){var a=n.currentSelectIndex;if("number"!==typeof a)return!1;var r=n.matchedCells[a];if(!r)return!1;if(r.row===t&&r.column===e)return!0}return!1}},{key:"isLastCell",value:function(e,t){return e[e.length-1].key===t}},{key:"render",value:function(){var e=this,t=this.props,n=t.hasSelectedCell,a=t.isLastRow,r=ie()("react-grid-Row","react-grid-Row--".concat(this.props.idx%2===0?"even":"odd"),{"row-selected":this.props.isSelected},this.props.extraClasses,{"row-cell-selected":n},{"last-row":a}),i={height:this.getRowHeight(this.props),overflow:"hidden"},o=this.props,s=o.animateRows,l=o.row;if(s&&Object.keys(s).length>0)for(var c in s)c===l._id&&(i.marginTop=s[c],r+=" delete-animation");return l.marginTop&&(this.row.style.marginTop=l.marginTop+"px",this.row.className=r+" delete-animation",setTimeout((function(){e.row&&(e.row.className=r.slice(0,r.indexOf("delete-animation")),e.row.style.marginTop="0px")}),300)),h.a.createElement("div",Object.assign({},this.getKnownDivProps(),{ref:this.setRowRef,className:r,style:i,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDrop:this.handleDrop}),l.isFiltered&&h.a.createElement("div",{className:"filtered-row-message",style:{top:this.getRowTop()}},this.props.t("Record_filtered")),this.getCells())}}]),t}(h.a.Component);rg.displayName="Row",rg.defaultProps={cellRenderer:ng,isSelected:!1,hasSelectedCell:!1,height:35};var ig=Object(I.d)("dtable")(Pr(rg));n(285);var og=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onInsertRow=function(){n.props.onInsertRow&&n.props.onInsertRow()},n.setScrollLeft=function(e){if(!window.isMobile){var t=n.node;if(t){var a="translate3d(".concat(e,"px, 0px, 0px)");t.style.webkitTransform=a,t.style.transform=a}}},n.setInsertRowRef=function(e){n.insertRowRef=e},n.setCellRef=function(e){n.node=e},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.checkScroll()}},{key:"checkScroll",value:function(){var e=this.props.scrollLeft,t=this.node;t&&null!=t.style.transform&&this.setScrollLeft(e)}},{key:"render",value:function(){var e=ie()("react-grid-Row","react-grid-row-add"),t={width:this.props.width,height:this.props.height,overflow:"hidden",display:"flex"},n={position:"absolute",width:this.props.iconWidth,height:this.props.height,fontSize:"24px",display:"flex",alignItems:"center",justifyContent:"start",paddingLeft:"16px",cursor:"pointer"};return h.a.createElement("div",{ref:this.setInsertRowRef,className:e,style:t},h.a.createElement("div",{className:"react-grid-add-row-icon",style:n,title:"Add Row",ref:this.setCellRef,onClick:this.onInsertRow},"+"),h.a.createElement("div",{className:"react-grid-add-row-item",style:{flex:"1"}}))}}]),t}(h.a.Component),sg=n(46);n(642);var lg=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{key:this.props.key,style:{height:31,width:"100%"}})}}]),t}(h.a.Component),cg=Object(sg.DropTarget)("Row",{drop:function(e,t,n){n.moveRow();var a=t.getItem(),r={idx:e.idx,groupIdx:e.groupIdx,data:e.row};e.onRowDrop({rowSource:a,rowTarget:r})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}}))(function(e){var t,n;return n=t=function(t){function n(){var e,t;v(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=T(this,(e=x(n)).call.apply(e,[this].concat(r)))).getStyle=function(e,t){return e?t?{position:"absolute",marginTop:-32,width:"100%",zIndex:Zn}:{position:"fixed",top:124,left:0,width:"100%",zIndex:Zn}:{position:"absolute",marginTop:-32,width:"100%",zIndex:Kn}},t}return S(n,t),_(n,[{key:"moveRow",value:function(){}},{key:"render",value:function(){var t=this.props,n=t.connectDropTarget,a=t.isOver,r=t.canDrop,i=t.isGroupView,o=t.scrollLeft,s=this.getStyle(r,i);return n(h.a.createElement("div",{style:s},h.a.createElement(e,null),a&&r&&h.a.createElement("div",{className:"rowDropTarget",style:{left:i&&o}})))}}]),n}(h.a.Component),t.displayName="rowDropTarget",n}(lg));n(186);var ug=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={scrollingTimeout:null,selectedPosition:{rowIdx:-1,idx:-1}},n.rows=[],n._currentRowsRange={start:0,end:0},n._scroll={scrollTop:0,scrollLeft:0},n.onInsertRowBelowCell=function(){var e=n.props.onInsertRow,t=n.state.selectedPosition,a=t.groupIdx,r=t.idx,i=t.rowIdx;e&&-1!==r&&-1!==i&&e(null,{groupIdx:a,rowIdx:i,idx:r},"insert_below")},n.onRows=function(){n._currentRowsRange!=={start:0,end:0}&&(n.props.onRows(n._currentRowsRange),n._currentRowsRange={start:0,end:0})},n.jumpToRow=function(e){var t=n.props,a=t.rowHeight,r=t.rowsCount,i=t.height,o=Math.min(e*a,r*a-i),s={scrollTop:o,scrollLeft:n._scroll.scrollLeft};n._scroll=s,n.canvas.scrollTop=o,n.props.onScroll(s)},n.setScrollTop=function(e){var t={scrollTop:e,scrollLeft:n._scroll.scrollLeft};n._scroll=t,n.canvas.scrollTop=e,n.props.onScroll(t)},n.stopScrollUp=function(){n.timer&&clearInterval(n.timer)},n.scrollUp=function(){clearInterval(n.timer),n.timer=setInterval((function(){n.canvas.scrollTop=n.canvas.scrollTop-3,n.canvas.scrollTop<=0&&clearInterval(n.timer)}),10)},n.onScroll=function(e){if(n.canvas===e.target){var t=e.target,a=t.scrollLeft,r={scrollTop:t.scrollTop,scrollLeft:a};n.props.onScroll(r)}},n.getClientScrollTopOffset=function(e){var t=n.props.rowHeight,a=e.scrollTop%t;return a>0?t-a:0},n.onHitBottomCanvas=function(){var e=n.props.rowHeight,t=n.canvas;t.scrollTop+=e+n.getClientScrollTopOffset(t)},n.onHitTopCanvas=function(){var e=n.props.rowHeight,t=n.canvas;t.scrollTop-=e-n.getClientScrollTopOffset(t)},n.scrollToColumn=function(e){var t=sm(n.props.columns,e);null!=t&&window.grid.setScrollLeft(t)},n.onHitLeftCanvas=function(e){var t=e.idx;n.scrollToColumn(t)},n.onHitRightCanvas=function(e){var t=e.idx;n.scrollToColumn(t)},n.getRows=function(e,t){var a=n.props.rowsCount,r=[],i=e;if(n._currentRowsRange={start:e,end:t},Array.isArray(n.props.rowGetter))return n.props.rowGetter.slice(e,t);if(e>=a||t>a)return[];for(;i<t;){var o=n.props.rowGetter(i);r.push(o),i++}return r},n.getScroll=function(){var e=n.canvas;return{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}},n.isRowSelected=function(e,t){if(null!==n.props.selectedRows){var a=n.props.selectedRows.filter((function(e){var a=t.get?t.get(n.props.rowKey):t[n.props.rowKey];return e[n.props.rowKey]===a}));return a.length>0&&a[0].isSelected}if(n.props.rowSelection){var r=n.props.rowSelection,i=r.keys,o=r.indexes,s=r.isSelectedKey;return lm.isRowSelected(i,o,s,t,e)}return!1},n.setScrollLeft=function(e){n._scroll.scrollLeft=e,n.interactionMasks&&n.interactionMasks.setScrollLeft&&n.interactionMasks.setScrollLeft(e),n.rows.forEach((function(t,a){if(t){var r=n.getRowByRef(a);r&&r.setScrollLeft&&r.setScrollLeft(e)}})),n.insertRowRef&&n.insertRowRef.setScrollLeft(e)},n.getRowByRef=function(e){var t=n.rows[e]&&n.rows[e].getDecoratedComponentInstance?n.rows[e].getDecoratedComponentInstance(e):null;return t?t.row:n.rows[e]},n.getRowTop=function(e){var t=n.getRowByRef(e);return t&&zf(t.getRowTop)?t.getRowTop():n.props.rowHeight*e},n.getRowHeight=function(e){var t=n.getRowByRef(e);return t&&zf(t.getRowHeight)?t.getRowHeight():n.props.rowHeight},n.getRowColumns=function(e){var t=n.getRowByRef(e);return t&&t.props?t.props.columns:n.props.columns},n.setCanvasRef=function(e){n.canvas=e},n.setRowRef=function(e){return function(t){n.rows[e]=t}},n.setInteractionMasksRef=function(e){n.interactionMasks=e},n.renderRow=function(e){var t=e.row;return t.__metaData&&t.__metaData.getRowRenderer?t.__metaData.getRowRenderer(n.props,e.idx):n.props.rowRenderer?n.renderCustomRowRenderer(e):h.a.createElement(ig,e)},n.onRowDrop=function(e){var t=e.rowSource,a=e.rowTarget;n.props.onRowDrop({rowSource:t,rowTarget:a})},n.renderPlaceholder=function(e,t){return h.a.createElement("div",{key:e,style:{height:t}},n.props.columns.map((function(e,t){return h.a.createElement("div",{style:{width:e.width},key:t})})))},n.renderDropTargetPlaceHolder=function(){return h.a.createElement(cg,{key:"placeholder",onRowDrop:n.onRowDrop})},n.onInsertRow=function(){n.props.onInsertRow&&n.props.onInsertRow()},n.onCellSelected=function(e){n.setState({selectedPosition:e}),"function"===typeof n.props.onCellSelected&&n.props.onCellSelected(e)},n.hasSelectedCell=function(e){return e===n.state.selectedPosition.rowIdx},n.setFilterAnimation=function(e){for(var t=n.props,a=t.filteredRowsNumber,r=t.rowHeight,o=function(t){var n=e[t].props.row,i=e[t-1]?e[t-1].props.row:null;i&&i.isFiltered&&n&&!n.idFiltered&&(n.marginTop=a*r,setTimeout((function(){n.marginTop=null}),300))},s=0;s<e.length;s++)o(s);setTimeout((function(){n.props.eventBus.dispatch(i.SELECT_NONE)}),300)},n.focusContainer=function(){n.canvas.focus()},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.unsubscribeScrollToColumn=this.props.eventBus.subscribe(i.SCROLL_TO_COLUMN,this.scrollToColumn),this.onRows(),window.canvas=this}},{key:"componentWillUnmount",value:function(){this._currentRowsRange={start:0,end:0},this._scroll={scrollTop:0,scrollLeft:0},this.rows=[],this.unsubscribeScrollToColumn(),window.canvas=null}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollToRowIndex;e.scrollToRowIndex!==t&&0!==t&&this.jumpToRow(t),this.onRows()}},{key:"renderCustomRowRenderer",value:function(e){var t=e.ref,n=pa(e,["ref"]),a=this.props.rowRenderer,r=qe({},n,{renderBaseRow:function(e){return h.a.createElement(ig,Object.assign({ref:t},e))}});return a.type===ig?h.a.createElement(ig,e):zf(a)?h.a.createElement(a,r):h.a.isValidElement(a)?h.a.cloneElement(a,e):void 0}},{key:"render",value:function(){var e=this,t=this.state.selectedPosition,n=this.props,a=n.rowOverscanStartIdx,r=n.rowOverscanEndIdx,i=n.cellMetaData,o=n.tableId,s=n.columns,l=n.lastFrozenColumnIndex,c=n.expandedRows,u=n.rowHeight,d=n.rowsCount,p=n.totalColumnWidth,f=n.totalWidth,m=n.height,g=n.rowGetter,v=n.RowsContainer,y=n.contextMenu,_=n.eventBus,b=n.isHeaderLocked,w=n.formulaRows,E=n.getVisibleIndex,T=n.metricsUpdated,x=n.commentRowList,C=n.onShowCommentList,S=E(),k=S.rowVisibleStartIdx,O=S.rowVisibleEndIdx,M=this.getRows(a,r).map((function(n,o){var d=a+o,p="row-".concat(d),h={};return n&&w&&(h=w[n._id]),n&&e.renderRow({key:p,getInstance:e.setRowRef(d),idx:d,row:n,height:u,onMouseOver:e.onMouseOver,onRowDrop:e.onRowDrop,columns:s,isHeaderLocked:b,isSelected:e.isRowSelected(d,n,a,r),hasSelectedCell:e.hasSelectedCell(d),expandedRows:c,cellMetaData:i,colVisibleStartIdx:0,colVisibleEndIdx:s.length,colOverscanStartIdx:0,colOverscanEndIdx:s.length,lastFrozenColumnIndex:l,isScrolling:e.props.isScrolling,scrollLeft:e._scroll.scrollLeft,eventBus:_,searchResult:e.props.searchResult,animateRows:e.props.animateRows,selectedPosition:t,formulaRow:h,commentRowList:x,onShowCommentList:C})}));M.unshift(this.renderDropTargetPlaceHolder()),a>0&&M.unshift(this.renderPlaceholder("top",a*u)),d-r>0&&M.push(this.renderPlaceholder("bottom",(d-r)*u)),this.props.filteredRowsNumber&&this.setFilterAnimation(M);var L={position:"absolute",top:0,left:0,overflowX:"hidden",overflowY:"scroll",width:p+240,minWidth:window.innerWidth,height:m},D="select-row"===this.props.columns[0].key?80:this.props.minColumnWidth,R="r"===window.dtable.permission;return h.a.createElement("div",{ref:this.setCanvasRef,style:L,onScroll:this.onScroll,id:"grid-canvas",tabIndex:"-1",className:"react-grid-Canvas"},h.a.createElement(Zm,{getInstance:this.setInteractionMasksRef,rowGetter:g,rowsCount:d,width:f,height:m,rowHeight:u,tableId:o,columns:s,rowOverscanStartIdx:this.props.rowOverscanStartIdx,colVisibleStartIdx:0,colVisibleEndIdx:s.length,rowVisibleStartIdx:k,rowVisibleEndIdx:O,metricsUpdated:T,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,contextMenu:this.props.contextMenu,onHitBottomBoundary:this.onHitBottomCanvas,onHitTopBoundary:this.onHitTopCanvas,onHitLeftBoundary:this.onHitLeftCanvas,onHitRightBoundary:this.onHitRightCanvas,onCommit:this.props.onCommit,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onPasteGrid:this.props.onPasteGrid,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,scrollLeft:this._scroll.scrollLeft,scrollTop:this._scroll.scrollTop,getRowHeight:this.getRowHeight,getRowTop:this.getRowTop,getRowColumns:this.getRowColumns,editorPortalTarget:this.props.editorPortalTarget,onEditCell:this.props.onEditCell,onInsertRow:this.props.onInsertRow,rowSelection:this.props.rowSelection,onFillingDragRows:this.props.onFillingDragRows}),h.a.createElement(v,{id:y?y.props.id:"rowsContainer",eventBus:_},h.a.createElement("div",{style:{width:p+240,marginBottom:"150px"},id:"canvas-rows-container"},h.a.createElement("div",{style:{width:p,position:"relative",backgroundColor:"#fff"}},M),this.props.enableInsertRow&&!R&&h.a.createElement(og,{ref:function(t){return e.insertRowRef=t},width:this.props.totalColumnWidth,iconWidth:D,height:this.props.rowHeight,onInsertRow:this.props.onInsertRow,scrollLeft:this._scroll.scrollLeft}))))}}]),t}(h.a.PureComponent);ug.displayName="Canvas",ug.defaultProps={onRows:function(){},selectedRows:[],scrollToRowIndex:0};var dg=ug,pg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state=Oa(n.props),n.onScroll=function(e){var t=e.scrollTop,a=e.scrollLeft,r=n.props,i=r.rowHeight,o=r.rowsCount;n.updateScroll({scrollTop:t,scrollLeft:a,height:n.state.height,rowHeight:i,rowsCount:o})},n.getScroll=function(){return n.canvas.getScroll()},n.setScrollLeft=function(e){n.canvas.setScrollLeft(e)},n.getDOMNodeOffsetWidth=function(){return n.viewport?n.viewport.offsetWidth:0},n.clearScrollTimer=function(){n.resetScrollStateTimeoutId&&clearTimeout(n.resetScrollStateTimeoutId)},n.resetScrollStateAfterDelay=function(){n.clearScrollTimer(),n.resetScrollStateTimeoutId=setTimeout(n.resetScrollStateAfterDelayCallback,500)},n.resetScrollStateAfterDelayCallback=function(){n.clearScrollTimer(),n.resetScrollStateTimeoutId=null,n.setState({isScrolling:!1})},n.updateScroll=function(e){var t=e.rowOverscanStartIdx,a=e.rowOverscanEndIdx,r=pa(e,["rowOverscanStartIdx","rowOverscanEndIdx"]);n.resetScrollStateAfterDelay();var i=n.getNextScrollState(r);return(t||a)&&(i=Object.assign({},i,{rowOverscanStartIdx:t,rowOverscanEndIdx:a})),n.setState(i),i},n.metricsUpdated=function(){var e=n.viewportHeight(),t=n.viewportWidth();if(e){var a=n.state,r=a.scrollTop,i=a.scrollLeft,o=a.rowOverscanStartIdx,s=a.rowOverscanEndIdx,l=n.props,c=l.rowHeight,u=l.rowsCount;n.updateScroll({scrollTop:r,scrollLeft:i,height:e,rowHeight:c,rowsCount:u,width:t,rowOverscanStartIdx:o,rowOverscanEndIdx:s})}},n.viewportHeight=function(){return n.viewport?n.viewport.offsetHeight:0},n.viewportWidth=function(){return n.viewport?n.viewport.offsetWidth:0},n.setViewportRef=function(e){n.viewport=e},n.setCanvasRef=function(e){n.canvas=e},n.getVisibleIndex=function(){var e=n.state;return{rowVisibleStartIdx:e.rowVisibleStartIdx,rowVisibleEndIdx:e.rowVisibleEndIdx,colVisibleStartIdx:e.colVisibleStartIdx,colVisibleEndIdx:e.colVisibleEndIdx}},n}return S(t,e),_(t,[{key:"getNextScrollState",value:function(e){var t=e.scrollTop,n=e.scrollLeft,a=e.height,r=e.rowHeight,i=e.rowsCount,o=e.columnMetrics,s=void 0===o?null:o,l=(s||this.props.columnMetrics).columns,c=Ra(this.state,t,n),u=function(e,t,n,a,r,i,o){var s=ka(e/t),l=Sa(0,Math.round(n/t));return{rowVisibleStartIdx:l,rowVisibleEndIdx:Ca(l+s,a),colVisibleStartIdx:La(r,i),colVisibleEndIdx:Da(r,o,i)}}(a,r,t,i,l,window.grid?window.grid.getScrollLeft():0,window.innerWidth),d=u.rowVisibleStartIdx,p=u.rowVisibleEndIdx,h=u.colVisibleStartIdx,f=u.colVisibleEndIdx;return{height:a,scrollTop:t,scrollLeft:n,rowVisibleStartIdx:d,rowVisibleEndIdx:p,rowOverscanStartIdx:function(e,t){return Sa(0,10*Math.floor(t/10)-10)}(0,d),rowOverscanEndIdx:function(e,t,n){return Ca(10*Math.ceil(t/10)+10,n)}(0,p,i),colVisibleStartIdx:h,colVisibleEndIdx:f,scrollDirection:c,lastFrozenColumnIndex:Ma(l)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.rowHeight,n=e.rowsCount,a=e.columnMetrics;if(this.props.rowHeight!==e.rowHeight||0===this.props.minHeight&&0!==e.minHeight){var r=Oa(e),i=r.scrollTop,o=r.scrollLeft,s=r.height;this.updateScroll({scrollTop:i,scrollLeft:o,height:s,rowHeight:t,rowsCount:n,columnMetrics:a})}else if(this.props.rowsCount!==e.rowsCount){var l=this.state,c=l.scrollTop,u=l.scrollLeft,d=l.height;this.updateScroll({scrollTop:c,scrollLeft:u,height:d,rowHeight:t,rowsCount:n,columnMetrics:a})}else if(ln(this.props.columnMetrics.columns)!==ln(e.columnMetrics.columns)){var p=Oa(e),h=p.scrollTop,f=p.scrollLeft,m=p.height,g=this.state,v=g.rowOverscanStartIdx,y=g.rowOverscanEndIdx;this.updateScroll({scrollTop:h,scrollLeft:f,height:m,rowHeight:t,rowsCount:n,rowOverscanStartIdx:v,rowOverscanEndIdx:y,columnMetrics:a})}else if(this.props.rowOffsetHeight!==e.rowOffsetHeight){var _=this.state,b=_.scrollTop,w=_.scrollLeft,E=this.state.height+this.props.rowOffsetHeight-e.rowOffsetHeight;this.updateScroll({scrollTop:b,scrollLeft:w,height:E,rowHeight:t,rowsCount:n,columnMetrics:a})}else if(this.props.minHeight!==e.minHeight){var T=e.minHeight,x=this.state,C=x.scrollTop,S=x.scrollLeft;this.updateScroll({scrollTop:C,scrollLeft:S,height:T,rowHeight:t,rowsCount:n,columnMetrics:a})}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.metricsUpdated),this.metricsUpdated(),window.viewport=this}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.metricsUpdated),this.clearScrollTimer(),window.viewport=null}},{key:"render",value:function(){var e={padding:0,bottom:0,left:0,right:0,width:this.props.columnMetrics.totalColumnWidth+240,minWidth:window.innerWidth,overflowY:"hidden",position:"absolute",top:this.props.rowOffsetHeight};return h.a.createElement("div",{className:"react-grid-Viewport",style:e,ref:this.setViewportRef},h.a.createElement(dg,{ref:this.setCanvasRef,isHeaderLocked:this.props.isHeaderLocked,rowKey:this.props.rowKey,totalWidth:this.props.totalWidth,searchResult:this.props.searchResult,width:this.props.columnMetrics.width,minColumnWidth:this.props.columnMetrics.minColumnWidth,totalColumnWidth:this.props.columnMetrics.totalColumnWidth,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,selectedRows:this.props.selectedRows,expandedRows:this.props.expandedRows,tableId:this.props.table._id,columns:this.props.columnMetrics.columns,rowRenderer:this.props.rowRenderer,onRowDrop:this.props.onRowDrop,rowOverscanStartIdx:this.state.rowOverscanStartIdx,rowOverscanEndIdx:this.state.rowOverscanEndIdx,metricsUpdated:this.metricsUpdated,getVisibleIndex:this.getVisibleIndex,lastFrozenColumnIndex:this.state.lastFrozenColumnIndex,cellMetaData:this.props.cellMetaData,height:this.state.height,rowHeight:this.props.rowHeight,onScroll:this.onScroll,onRows:this.props.onRows,scrollToRowIndex:this.props.scrollToRowIndex,contextMenu:this.props.contextMenu,rowSelection:this.props.rowSelection,rowGroupRenderer:this.props.rowGroupRenderer,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onPasteGrid:this.props.onPasteGrid,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,onCommit:this.props.onCommit,RowsContainer:this.props.RowsContainer,prevScrollLeft:this.state.prevScrollLeft,prevScrollTop:this.state.prevScrollTop,editorPortalTarget:this.props.editorPortalTarget,enableInsertRow:this.props.enableInsertRow,onInsertRow:this.props.onInsertRow,animateRows:this.props.animateRows,filteredRowsNumber:this.props.filteredRowsNumber,onEditCell:this.props.onEditCell,formulaRows:this.props.formulaRows,onFillingDragRows:this.props.onFillingDragRows,commentRowList:this.props.commentRowList,onShowCommentList:this.props.onShowCommentList}))}}]),t}(h.a.Component);pg.displayName="Viewport",pg.defaultProps={rowHeight:30};var hg=pg,fg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).renderCollaborator=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.a.createElement("div",{className:"collaborator",key:e.email},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{src:e.avatar_url,alt:e.name,className:"collaborator-avatar"})),h.a.createElement("span",{className:"collaborator-name"},e.name))},n.getGroupCellVal=function(e){var t,a=e.column,r=n.props,i=r.group,o=r.t,s=window.app.state.collaborators,l=window.dtable.mediaUrl,c=i.cell_value,u=a.type,d={display:"inline-block",padding:"0px 10px",height:"20px",textAlign:"center",borderRadius:"10px",fontSize:"13px",marginRight:"10px"},p="(".concat(o("Empty"),")");if(u===Qt){var f=[];return c&&c.forEach((function(e){var t=s&&s.find((function(t){return t.email===e}));t&&f.push(n.renderCollaborator(t))})),f&&f.length>0?h.a.createElement("div",{className:"collaborators-formmatter"},f):p}if(u===$t){var m=a.data,g=[];return c&&c.forEach((function(e,t){var n=m&&m.options&&m.options.find((function(t){return t.id===e}));n&&g.push(h.a.createElement("div",{style:qe({},d,{backgroundColor:n.color}),key:t},n.name))})),g&&g.length>0?g:p}if(u===Kt){var v=a.data,y=v&&v.options&&v.options.find((function(e){return e.id===c}));return y?h.a.createElement("div",{style:qe({},d,{backgroundColor:y.color})},y.name):p}return u===Wt?0===c||c?c:p:u===zt?h.a.createElement("input",{className:"checkbox",type:"checkbox",readOnly:!0,checked:c}):u===nn?(t="anonymous"===c?{name:"anonymous",email:"anonymous",avatar_url:"".concat(l,"/avatars/default.png")}:s.find((function(e){return e.email===c})),h.a.createElement("div",{className:"collaborators-formmatter"},n.renderCollaborator(t))):c||p},n.getGroupSummaries=function(){for(var e=n.props,t=e.columns,a=e.group,r=e.t,i=a.summaries,o=[],s=0,l=2;l<t.length;l++){var c,u=t[l],d=u.width,p=u.key,f=u.data,m=void 0;if(un(u)){var g=f?f.format:"number",v=dn(i[p],"sum",g);m=h.a.createElement("div",{className:"summary-content"},h.a.createElement("span",{className:"summary-item-title"},r("Sum")," "),h.a.createElement("span",null,v))}c=h.a.createElement("div",{className:"summary-item",style:{width:d,left:s},key:l},m),o.push(c),s+=d}return o},n.setScrollLeft=function(e){var t=n.groupHeaderLeft;if(t){var a="translate3d(".concat(e,"px, 0px, 0px)");t.style.webkitTransform=a,t.style.transform=a,t.style.boxShadow=e>0?"2px 0 5px -2px rgba(136, 136, 136, .3)":"none"}},n.setGroupHeaderRef=function(e){n.groupHeader=e},n.setGroupHeaderLeftRef=function(e){n.groupHeaderLeft=e},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.isFrozen,a=e.group,r=e.totalColumnWidth,i=e.leftPaneWidth,o=e.onExpandGroupToggle,s=e.groupIdx,l=e.allColumns,c=e.t,u=a.column_key,d=l.find((function(e){return e.key===u})),p=ie()("group-expand-icon","dtable-font",t?"dtable-icon-drop-down":"dtable-icon-right-slide"),f=ie()("header-left-pane",n?"header-left-pane-frozen":""),m={width:i,zIndex:n&&2};return h.a.createElement("div",{className:"group-header",ref:this.setGroupHeaderRef},h.a.createElement("div",{className:f,ref:this.setGroupHeaderLeftRef,style:m},h.a.createElement("div",{className:"group-expand",onClick:o.bind(this,s)},h.a.createElement("span",null,h.a.createElement("i",{className:p}))),h.a.createElement("div",{className:"group-title"},h.a.createElement("div",{className:"group-column-name"},d.name),h.a.createElement("div",{className:"group-cell-value"},this.getGroupCellVal({column:d}))),h.a.createElement("div",{className:"group-rows-count"},h.a.createElement("span",{className:"count-title"},c("Count")),h.a.createElement("span",{className:"count-num"},a.row_ids.length))),h.a.createElement("div",{className:"header-right-pane",style:{width:r-i}},this.getGroupSummaries()))}}]),t}(p.Component),mg=Object(I.d)("dtable")(Pr(fg)),gg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).setScrollLeft=function(e){n.groupHeader.setScrollLeft(e);var t=n.groupBackDrop;if(t){var a="translate3d(".concat(e-12,"px, 0px, 0px)");t.style.webkitTransform=a,t.style.transform=a}},n.setGroupRef=function(e){n.group=e},n.setGroupBackDrop=function(e){n.groupBackDrop=e},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.checkScroll()}},{key:"checkScroll",value:function(){var e=this.props.scrollLeft;this.setScrollLeft(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.groupIdx,a=t.group,r=t.leftPaneWidth,i=t.allColumns,o=t.columns,s=t.children,l=t.totalColumnWidth,c=t.isExpanded,u=t.onExpandGroupToggle,d=cn(o[1]),p="r"===window.dtable.permission,f=ie()("group-item",c?"expanded-group":"folded-group",d?"frozen":"",p?"read":""),m={width:r,zIndex:1};return h.a.createElement("div",{className:f,ref:this.setGroupRef},d&&h.a.createElement("div",{className:"group-backdrop",ref:this.setGroupBackDrop,style:m}),h.a.createElement("div",{className:"group-item-main"},h.a.createElement(mg,{getInstance:function(t){return e.groupHeader=t},groupIdx:n,leftPaneWidth:r,totalColumnWidth:l,isExpanded:c,group:a,allColumns:i,columns:o,onExpandGroupToggle:u,isFrozen:d}),s))}}]),t}(p.Component);n(186);var vg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={scrollingTimeout:null,selectedPosition:{rowIdx:-1,idx:-1}},n.groupsNode={},n.rows={},n.insertRows={},n._scroll={scrollTop:0,scrollLeft:0},n.onInsertRowBelowCell=function(){var e=n.props.onInsertRow,t=n.state.selectedPosition,a=t.groupIdx,r=t.idx,i=t.rowIdx;e&&-1!==r&&-1!==i&&e(null,{groupIdx:a,rowIdx:i,idx:r},"insert_below")},n.setScrollTop=function(e){var t={scrollTop:e,scrollLeft:0};n._scroll=t,n.groupViewCanvas.scrollTop=e,n.props.onScroll(t)},n.stopScrollUp=function(){n.timer&&clearInterval(n.timer)},n.scrollUp=function(){clearInterval(n.timer),n.timer=setInterval((function(){n.groupViewCanvas.scrollTop=n.groupViewCanvas.scrollTop-3,n.groupViewCanvas.scrollTop<=0&&clearInterval(n.timer)}),10)},n.onScroll=function(e){if(n.groupViewCanvas===e.target){var t=e.target,a=t.scrollLeft,r={scrollTop:t.scrollTop,scrollLeft:a};n.props.onScroll(r)}},n.getClientScrollTopOffset=function(e){var t=n.props.rowHeight,a=e.scrollTop%t;return a>0?t-a:0},n.onHitBottomCanvas=function(){var e=n.props.rowHeight,t=n.groupViewCanvas;t.scrollTop+=e+n.getClientScrollTopOffset(t)},n.onHitTopCanvas=function(){var e=n.props.rowHeight,t=n.groupViewCanvas;t.scrollTop-=e-n.getClientScrollTopOffset(t)},n.jumpToRow=function(e,t){var a=n.props,r=a.rowHeight,i=a.height,o=(t+e)*r+(fa+ha)*e-i/2,s={scrollTop:o,scrollLeft:n._scroll.scrollLeft};n.groupViewCanvas.scrollTop=o,n.props.onScroll(s)},n.scrollToColumn=function(e){var t=sm(n.props.columns,e);null!=t&&window.grid.setScrollLeft(t)},n.onHitLeftCanvas=function(e){var t=e.idx;n.scrollToColumn(t)},n.onHitRightCanvas=function(e){var t=e.idx;n.scrollToColumn(t)},n.getScroll=function(){var e=n.groupViewCanvas;return{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}},n.isRowSelected=function(e,t){if(null!==n.props.selectedRows){var a=n.props.selectedRows.filter((function(e){var a=t.get?t.get(n.props.rowKey):t[n.props.rowKey];return e[n.props.rowKey]===a}));return a.length>0&&a[0].isSelected}if(n.props.rowSelection){var r=n.props.rowSelection,i=r.keys,o=r.indexes,s=r.isSelectedKey;return lm.isRowSelected(i,o,s,t,e)}return!1},n.setScrollLeft=function(e){n._scroll.scrollLeft=e,n.interactionMasks&&n.interactionMasks.setScrollLeft&&n.interactionMasks.setScrollLeft(e),n.groupsNode&&Object.keys(n.groupsNode).forEach((function(t){var a=n.groupsNode[t];a&&a.setScrollLeft(e)})),n.rows&&Object.keys(n.rows).forEach((function(t){n.rows[t].forEach((function(t){t&&t.setScrollLeft(e)}))})),n.insertRows&&Object.keys(n.insertRows).forEach((function(t){var a=n.insertRows[t];a&&a.setScrollLeft(e)}))},n.getRowTop=function(e){var t=e.rowIdx,a=e.groupIdx,r=n.props,i=r.rowHeight,o=r.groups,s=r.foldedGroups,l=_a(0,a,o,i,s);return t*i+ha+fa+l},n.getRowHeight=function(){return n.props.rowHeight},n.getRowColumns=function(){return n.props.columns},n.setCanvasRef=function(e){n.groupViewCanvas=e},n.setInteractionMasksRef=function(e){n.interactionMasks=e},n.setGroupsRef=function(e){return function(t){n.groupsNode[e]=t}},n.setInsertRowRef=function(e){return function(t){n.insertRows[e]=t}},n.setRowRef=function(e,t){return function(a){n.rows[e]||(n.rows[e]=[]),n.rows[e][t]=a}},n.renderRow=function(e){if(n.props.rowRenderer)return n.renderCustomRowRenderer(e)},n.onRowDrop=function(e){var t=e.rowSource,a=e.rowTarget;n.props.onRowDrop({rowSource:t,rowTarget:a})},n.renderPlaceholder=function(e,t){return h.a.createElement("div",{key:e,style:{height:t}},n.props.columns.map((function(e,t){return h.a.createElement("div",{style:{width:e.width},key:t})})))},n.renderDropTargetPlaceHolder=function(e){var t=n._scroll.scrollLeft;return h.a.createElement(cg,{key:"placeholder",onRowDrop:n.onRowDrop,isGroupView:!0,groupIdx:e,scrollLeft:t})},n.onInsertRow=function(){n.props.onInsertRow&&n.props.onInsertRow()},n.onCellSelected=function(e){n.setState({selectedPosition:e}),"function"===typeof n.props.onCellSelected&&n.props.onCellSelected(e)},n.hasSelectedCell=function(e,t){var a=n.state.selectedPosition,r=a.groupIdx,i=a.rowIdx;return t===r&&e===i},n.getGroupRows=function(e,t,a,r){var i=n.props,o=i.cellMetaData,s=i.rowHeight,l=i.columns,c=i.totalColumnWidth,u=i.minColumnWidth,d=i.lastFrozenColumnIndex,f=i.eventBus,m=i.isGroupView,g=i.groupRowGetter,v=i.formulaRows,y=i.commentRowList,_=i.onShowCommentList,b=i.groupVisibleStartHiddenRows,w=i.groupVisibleEndHiddenRows,T=n.state.selectedPosition,x=e.row_ids,C=x.length,S=0,k=b;if(a&&r){S=k;var O=C-w;x=x.slice(k,O)}else if(a&&(x=0===(S=k)?x:x.slice(k)),r){var M=C-w;x=x.slice(0,M)}var L=l[1]?l[1].width:0,D="select-row"===l[0].key?80+L:u,R=x&&x.map((function(e,a){var r=S+a,i=x.length-1===a,c=g({groupIdx:t,rowIdx:r}),u=c&&v?v[c._id]:{};return c&&n.renderRow({key:"row-".concat(r),getInstance:n.setRowRef(t,r),groupIdx:t,idx:r,rowVisibleStartIdx:0,rowVisibleEndIdx:C,row:c,height:s,onMouseOver:n.onMouseOver,onRowDrop:n.onRowDrop,columns:l,isSelected:n.isRowSelected(r,c,0,C),hasSelectedCell:n.hasSelectedCell(r,t),cellMetaData:o,colVisibleStartIdx:0,colVisibleEndIdx:l.length,colOverscanStartIdx:0,colOverscanEndIdx:l.length,lastFrozenColumnIndex:d,scrollLeft:n._scroll.scrollLeft,eventBus:f,searchResult:n.props.searchResult,animateRows:n.props.animateRows,selectedPosition:T,isGroupView:m,isLastRow:i,formulaRow:u,commentRowList:y,onShowCommentList:_})}));a&&k>0&&R.unshift(n.renderPlaceholder("top",k*s)),R.unshift(n.renderDropTargetPlaceHolder(t)),r&&w>0&&R.push(n.renderPlaceholder("bottom",w*s));var N="r"===window.dtable.permission;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"rows"},R),!N&&h.a.createElement(og,{ref:n.setInsertRowRef(t),iconWidth:D,width:c,height:s,onInsertRow:n.props.onInsertRow.bind(E(n),null,{groupIdx:t,rowIdx:e.row_ids.length-1},"insert_below"),scrollLeft:n._scroll.scrollLeft}))},n.getGroups=function(e,t){for(var a=n.props.groups,r=[],i=e;i<=t;){var o=a[i];o&&r.push(o),i++}return r},n.renderGroupList=function(){var e=n.props,t=e.totalColumnWidth,a=e.allColumns,r=e.columns,i=e.rowHeight,o=e.groupVisibleStartIdx,s=e.groupVisibleEndIdx,l=e.groupOffsetLeft,c=e.groups,u=e.foldedGroups,d=t+l,p=r[1]?r[1].width:0,f=r[0].width+p,m=n.getGroups(o,s),g=m.map((function(e,i){var s=o+i,l=va(s,u),c=0===i,d=i===m.length-1,p=n.getGroupRows(e,s,c,d);return h.a.createElement(gg,{ref:n.setGroupsRef(s),key:"group-item".concat(s),groupIdx:s,leftPaneWidth:f,allColumns:a,columns:r,group:e,totalColumnWidth:t,onExpandGroupToggle:n.props.onExpandGroupToggle,isExpanded:l,scrollLeft:n._scroll.scrollLeft},l&&p)}));return o>0&&g.unshift(n.renderPlaceholder("top",_a(0,o,c,i,u))),s<c.length-1&&g.push(n.renderPlaceholder("bottom",_a(s,c.length-1,c,i,u))),h.a.createElement("div",{className:"group-list",style:{width:d}},g)},n.focusContainer=function(){n.groupViewCanvas.focus()},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.unsubscribeScrollToColumn=this.props.eventBus.subscribe(i.SCROLL_TO_COLUMN,this.scrollToColumn),window.canvas=this}},{key:"componentWillUnmount",value:function(){this._scroll={scrollTop:0,scrollLeft:0},this.rows=[],this.unsubscribeScrollToColumn(),window.canvas=null}},{key:"renderCustomRowRenderer",value:function(e){var t=this.props.rowRenderer;if(h.a.isValidElement(t))return h.a.cloneElement(t,e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.isGroupView,a=e.groups,r=e.groupRowGetter,i=e.rowsCount,o=e.rowHeight,s=e.tableId,l=e.columns,c=e.RowsContainer,u=e.contextMenu,d=e.totalColumnWidth,p=e.groupOffsetLeft,f=e.metricsUpdated,m={position:"absolute",top:0,left:0,overflowX:"hidden",overflowY:"scroll",width:d+240,minWidth:window.innerWidth,height:t};return h.a.createElement("div",{ref:this.setCanvasRef,style:m,onScroll:this.onScroll,tabIndex:"-1",id:"group-view-canvas",className:"react-grid-Canvas"},h.a.createElement(Zm,{getInstance:this.setInteractionMasksRef,groupRowGetter:r,rowsCount:i,width:this.props.totalWidth,height:t,rowHeight:o,tableId:s,columns:l,isGroupView:n,groups:a,groupOffsetLeft:p,rowOverscanStartIdx:0,rowVisibleStartIdx:0,rowVisibleEndIdx:i,colVisibleStartIdx:0,colVisibleEndIdx:l.length,metricsUpdated:f,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,contextMenu:this.props.contextMenu,onHitBottomBoundary:this.onHitBottomCanvas,onHitTopBoundary:this.onHitTopCanvas,onHitLeftBoundary:this.onHitLeftCanvas,onHitRightBoundary:this.onHitRightCanvas,onCommit:this.props.onCommit,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onPasteGrid:this.props.onPasteGrid,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,scrollLeft:this._scroll.scrollLeft,scrollTop:this._scroll.scrollTop,getRowHeight:this.getRowHeight,getRowTop:this.getRowTop,getRowColumns:this.getRowColumns,editorPortalTarget:this.props.editorPortalTarget,rowSelection:this.props.rowSelection,onEditCell:this.props.onEditCell,onFillingDragRows:this.props.onFillingDragRows}),h.a.createElement(c,{id:u?u.props.id:"rowsContainer",eventBus:this.props.eventBus},h.a.createElement("div",{style:{width:d+500,marginBottom:"150px"},id:"canvas-rows-container"},this.renderGroupList())))}}]),t}(h.a.PureComponent);vg.displayName="GroupViewCanvas",vg.defaultProps={selectedRows:[]};var yg=vg,_g=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state=Oa(n.props),n.onScroll=function(e){var t=e.scrollTop,a=e.scrollLeft,r=n.props,i=r.rowHeight,o=r.rowsCount,s=r.groups,l=r.foldedGroups;n.updateScroll({scrollTop:t,scrollLeft:a,height:n.state.height,rowHeight:i,rowsCount:o,groups:s,foldedGroups:l})},n.getScroll=function(){return n.canvas.getScroll()},n.setScrollLeft=function(e){if(!window.isMobile){var t=0;cn(n.props.columnMetrics.columns[1])&&(t=e),n.canvas.setScrollLeft(t)}},n.getDOMNodeOffsetWidth=function(){return n.groupViewport?n.groupViewport.offsetWidth:0},n.clearScrollTimer=function(){n.resetScrollStateTimeoutId&&clearTimeout(n.resetScrollStateTimeoutId)},n.resetScrollStateAfterDelay=function(){n.clearScrollTimer(),n.resetScrollStateTimeoutId=setTimeout(n.resetScrollStateAfterDelayCallback,500)},n.resetScrollStateAfterDelayCallback=function(){n.resetScrollStateTimeoutId=null},n.updateScroll=function(e){var t=e.groupVisibleStartIdx,a=e.groupVisibleEndIdx,r=pa(e,["groupVisibleStartIdx","groupVisibleEndIdx"]);n.resetScrollStateAfterDelay();var i=n.getNextScrollState(r);return t&&a&&Object.assign(i,{groupVisibleStartIdx:t,groupVisibleEndIdx:a}),n.setState(i),i},n.metricsUpdated=function(){var e=n.viewportHeight(),t=n.viewportWidth();if(e){var a=n.state,r=a.scrollTop,i=a.scrollLeft,o=a.groupVisibleStartIdx,s=a.groupVisibleEndIdx,l=n.props,c=l.groups,u=l.foldedGroups;n.updateScroll({scrollTop:r,scrollLeft:i,height:e,width:t,groups:c,foldedGroups:u,groupVisibleStartIdx:o,groupVisibleEndIdx:s})}},n.viewportHeight=function(){return n.groupViewport?n.groupViewport.offsetHeight:0},n.viewportWidth=function(){return n.groupViewport?n.groupViewport.offsetWidth:0},n.setGroupViewportRef=function(e){n.groupViewport=e},n.setCanvasRef=function(e){n.canvas=e},n}return S(t,e),_(t,[{key:"getNextScrollState",value:function(e){var t=e.scrollTop,n=e.scrollLeft,a=e.height,r=e.groups,i=e.foldedGroups,o=e.columnMetrics,s=void 0===o?null:o,l=(s||this.props.columnMetrics).columns,c=this.props.rowHeight,u=Ra(this.state,t,n),d=Na(a,t,r,c,i,l,window.grid.getScrollLeft(),window.innerWidth),p=d.groupVisibleStartIdx,h=d.groupVisibleEndIdx,f=d.groupVisibleStartHiddenRows,m=d.groupVisibleEndHiddenRows;return{height:a,scrollTop:t,scrollLeft:n,colVisibleStartIdx:d.colVisibleStartIdx,colVisibleEndIdx:d.colVisibleEndIdx,groupVisibleStartIdx:p,groupVisibleEndIdx:h,groupVisibleStartHiddenRows:f,groupVisibleEndHiddenRows:m,scrollDirection:u,foldedGroups:i}}},{key:"componentWillReceiveProps",value:function(e){var t=e.groups,n=e.foldedGroups;if(0===this.props.minHeight&&0!==e.minHeight){var a=Oa(e),r=a.scrollTop,i=a.scrollLeft,o=a.height;this.updateScroll({scrollTop:r,scrollLeft:i,height:o,groups:t,foldedGroups:n})}else if(this.props.minHeight!==e.minHeight){var s=e.minHeight,l=this.state,c=l.scrollTop,u=l.scrollLeft;this.updateScroll({scrollTop:c,scrollLeft:u,height:s,groups:t,foldedGroups:n})}else if(this.props.groups!==t||this.props.foldedGroups!==n){var d=this.state,p=d.scrollTop,h=d.scrollLeft,f=d.height;this.updateScroll({scrollTop:p,scrollLeft:h,height:f,groups:t,foldedGroups:n})}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.metricsUpdated),this.metricsUpdated(),window.viewport=this}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.metricsUpdated),this.clearScrollTimer(),window.viewport=null}},{key:"render",value:function(){var e={padding:0,bottom:0,left:0,right:0,width:this.props.columnMetrics.totalColumnWidth+240,minWidth:window.innerWidth,overflowY:"hidden",position:"absolute",top:this.props.rowOffsetHeight},t=this.props.table,n=t._id,a=t.columns;return h.a.createElement("div",{className:"react-grid-Viewport",style:e,ref:this.setGroupViewportRef},h.a.createElement(yg,{ref:this.setCanvasRef,rowKey:this.props.rowKey,totalWidth:this.props.totalWidth,searchResult:this.props.searchResult,width:this.props.columnMetrics.width,minColumnWidth:this.props.columnMetrics.minColumnWidth,totalColumnWidth:this.props.columnMetrics.totalColumnWidth,groupRowGetter:this.props.groupRowGetter,rowsCount:this.props.rowsCount,selectedRows:this.props.selectedRows,tableId:n,allColumns:a,columns:this.props.columnMetrics.columns,isGroupView:this.props.isGroupView,groups:this.props.groups,groupOffsetLeft:this.props.groupOffsetLeft,rowRenderer:this.props.rowRenderer,onRowDrop:this.props.onGroupRowDrop,groupVisibleStartIdx:this.state.groupVisibleStartIdx,groupVisibleEndIdx:this.state.groupVisibleEndIdx,groupVisibleStartHiddenRows:this.state.groupVisibleStartHiddenRows,groupVisibleEndHiddenRows:this.state.groupVisibleEndHiddenRows,lastFrozenColumnIndex:this.state.lastFrozenColumnIndex,cellMetaData:this.props.cellMetaData,height:this.state.height,rowHeight:this.props.rowHeight,onScroll:this.onScroll,contextMenu:this.props.contextMenu,rowSelection:this.props.rowSelection,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onPasteGrid:this.props.onPasteGrid,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,onCommit:this.props.onCommit,RowsContainer:this.props.RowsContainer,prevScrollLeft:this.state.prevScrollLeft,prevScrollTop:this.state.prevScrollTop,editorPortalTarget:this.props.editorPortalTarget,enableInsertRow:this.props.enableInsertRow,onInsertRow:this.props.onInsertRow,animateRows:this.props.animateRows,foldedGroups:this.props.foldedGroups,onExpandGroupToggle:this.props.onExpandGroupToggle,onEditCell:this.props.onEditCell,formulaRows:this.props.formulaRows,metricsUpdated:this.metricsUpdated,onFillingDragRows:this.props.onFillingDragRows,commentRowList:this.props.commentRowList,onShowCommentList:this.props.onShowCommentList}))}}]),t}(h.a.Component);_g.displayName="GroupViewport",_g.defaultProps={rowHeight:30};var bg=_g;n(186);var wg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r))))._scrollLeft=void 0,n.grid=null,n.timer=null,n.getStyle=function(){return{overflowX:"scroll",outline:0,zIndex:2,position:"relative",backgroundColor:"#f3f3f3",width:window.innerWidth,minHeight:n.props.minHeight}},n._onScroll=function(){void 0!==n._scrollLeft&&(n.header.setScrollLeft(n._scrollLeft),n.viewport&&n.viewport.setScrollLeft(n._scrollLeft))},n.onVerticalScroll=function(e){var t=e.scrollLeft;(n._scrollLeft!==t||n.areFrozenColumnsScrolledLeft(t))&&n._onScroll()},n.onHorizontalScroll=function(e){if(n.grid===e.target){var t=e.target,a=t.scrollLeft,r={scrollTop:t.scrollTop,scrollLeft:a};(n._scrollLeft!==a||n.areFrozenColumnsScrolledLeft(a))&&(n._scrollLeft=a,n._onScroll(),n.props.onScroll(r))}},n.scrollToRight=function(){n.timer||(n.timer=setInterval((function(){var e=n.getScrollLeft();e+document.body.clientWidth>n.props.columnMetrics.width?n.clearScroll():n.setScrollLeft(e+20)}),10))},n.scrollToLeft=function(){n.timer||(n.timer=setInterval((function(){var e=n.getScrollLeft();e<=0?n.clearScroll():n.setScrollLeft(e-20)}),10))},n.clearScroll=function(){n.timer&&(clearInterval(n.timer),n.timer=null)},n.setHeaderRef=function(e){n.header=e},n.setViewportRef=function(e){n.viewport=e},n.setViewportContainerRef=function(e){n.viewPortContainer=e},n.setEmptyViewRef=function(e){n.emptyView=e},n.getViewport=function(){var e=n.props,t=e.headerRows,a=e.isGroupView,r={rowKey:n.props.rowKey,width:n.props.columnMetrics.width,rowHeight:n.props.rowHeight,rowRenderer:n.props.rowRenderer,rowGetter:n.props.rowGetter,rowsCount:n.props.rowsCount,searchResult:n.props.searchResult,selectedRows:n.props.selectedRows,expandedRows:n.props.expandedRows,columnMetrics:n.props.columnMetrics,totalWidth:n.props.totalWidth,onScroll:n.onVerticalScroll,onRows:n.props.onRows,cellMetaData:n.props.cellMetaData,rowOffsetHeight:n.props.rowOffsetHeight||n.props.rowHeight*t.length,minHeight:n.props.minHeight,scrollToRowIndex:n.props.scrollToRowIndex,contextMenu:n.props.contextMenu,rowSelection:n.props.rowSelection,rowGroupRenderer:n.props.rowGroupRenderer,overScan:n.props.overScan,enableCellSelect:n.props.enableCellSelect,enableCellAutoFocus:n.props.enableCellAutoFocus,cellNavigationMode:n.props.cellNavigationMode,eventBus:n.props.eventBus,onCheckCellIsEditable:n.props.onCheckCellIsEditable,onPasteGrid:n.props.onPasteGrid,onGridRowsUpdated:n.props.onGridRowsUpdated,onDragHandleDoubleClick:n.props.onDragHandleDoubleClick,onCellSelected:n.props.onCellSelected,onCellDeSelected:n.props.onCellDeSelected,onCellRangeSelectionStarted:n.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:n.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:n.props.onCellRangeSelectionCompleted,onCommit:n.props.onCommit,RowsContainer:n.props.RowsContainer,editorPortalTarget:n.props.editorPortalTarget,enableInsertRow:n.props.enableInsertRow,onEditCell:n.props.onEditCell,onInsertRow:n.props.onInsertRow,isHeaderLocked:n.props.isHeaderLocked,onFillingDragRows:n.props.onFillingDragRows};return a?h.a.createElement(bg,Object.assign({},n.props,r,{groupRowGetter:n.props.groupRowGetter,groupOffsetLeft:n.props.groupOffsetLeft,foldedGroups:n.props.foldedGroups,onExpandGroupToggle:n.props.onExpandGroupToggle,onEditCell:n.props.onEditCell,ref:n.setViewportRef})):h.a.createElement(hg,Object.assign({},n.props,r,{ref:n.setViewportRef}))},n.setScrollLeft=function(e){n.grid.scrollLeft=e},n.getScrollLeft=function(){return n.grid?n.grid.scrollLeft:0},n.scrollLeftPage=function(){var e=n.getScrollLeft();n.setScrollLeft(e-window.innerWidth)},n.scrollRightPage=function(){var e=n.getScrollLeft();n.setScrollLeft(e+window.innerWidth)},n}return S(t,e),_(t,[{key:"areFrozenColumnsScrolledLeft",value:function(e){return e>0&&this.props.columns.some((function(e){return cn(e)}))}},{key:"componentDidMount",value:function(){this._scrollLeft=this.viewport?this.viewport.getScroll().scrollLeft:0,this._onScroll(),window.grid=this}},{key:"componentDidUpdate",value:function(){this._onScroll()}},{key:"componentWillUnmount",value:function(){this.clearScroll(),this._scrollLeft=void 0,window.grid=null}},{key:"render",value:function(){var e=this,t=this.props.headerRows,n=this.props.emptyRowsView;return h.a.createElement("div",{style:this.getStyle(),className:"react-grid-Grid",onScroll:this.onHorizontalScroll,ref:function(t){e.grid=t}},h.a.createElement(da,{ref:this.setHeaderRef,isHeaderLocked:this.props.isHeaderLocked,columnMetrics:this.props.columnMetrics,onColumnResize:this.props.onColumnResize,height:this.props.rowHeight,totalWidth:this.props.totalWidth,headerRows:t,sortColumn:this.props.sortColumn,sortDirection:this.props.sortDirection,draggableHeaderCell:this.props.draggableHeaderCell,isGroupView:this.props.isGroupView,groups:this.props.groups,groupOffsetLeft:this.props.groupOffsetLeft,onSort:this.props.onSort,onHeaderDrop:this.props.onHeaderDrop,cellMetaData:this.props.cellMetaData,enableInsertColumn:this.props.enableInsertColumn,onInsertColumn:this.props.onInsertColumn,eventBus:this.props.eventBus,headerDropdownMenu:this.props.headerDropdownMenu}),this.props.rowsCount>=1||0===this.props.rowsCount&&!this.props.emptyRowsView?h.a.createElement("div",{ref:this.setViewportContainerRef,onKeyDown:this.props.onViewportKeydown,onKeyUp:this.props.onViewportKeyup},this.getViewport()):h.a.createElement("div",{ref:this.setEmptyViewRef,className:"react-grid-Empty"},h.a.createElement(n,null)))}}]),t}(h.a.Component);wg.displayName="Grid",wg.defaultProps={rowHeight:35,minHeight:350};var Eg=wg;n(443);var Tg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.column.onCellChange(n.props.rowIdx,n.props.column.key,n.props.dependentValues,n.props.groupIdx,e)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=null!=this.props.value&&this.props.value,t="checkbox"+this.props.rowIdx;return h.a.createElement("div",{className:"react-grid-checkbox-container checkbox-align",onClick:this.handleChange},h.a.createElement("input",{className:"react-grid-checkbox",type:"checkbox",name:t,checked:e,readOnly:!0}))}}]),t}(h.a.Component),xg=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).headerLockTooltipToogle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={tooltipOpen:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.isHeaderLocked,n=e.t,a=e.inputRef,r=e.onChange,i=e.modifyHeaderLock,o=t?"dtable-icon-unlock":"dtable-icon-lock",s=t?"UnLock_the_table_header_so_that_the_width_and_order_of_columns_can_be_changed":"Lock_the_table_header_so_that_the_width_and_order_of_columns_can_not_be_changed",l="r"===window.dtable.permission;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"react-grid-checkbox-container checkbox-align",style:{position:"absolute",left:"8px"}},h.a.createElement("input",{className:"react-grid-checkbox",type:"checkbox",name:"select-all-checkbox",id:"select-all-checkbox",ref:a,onChange:r})),!l&&h.a.createElement("div",{className:"header-lock-box",id:"header-lock"},h.a.createElement("div",{className:"header-lock-container",onClick:i},h.a.createElement("i",{className:"dtable-font header-lock ".concat(o)})),h.a.createElement(Yn,{placement:"bottom",isOpen:this.state.tooltipOpen,toggle:this.headerLockTooltipToogle,target:"header-lock",delay:{show:0,hide:0},fade:!1},n(s))))}}]),t}(h.a.Component),Cg=Object(I.d)("dtable")(Pr(xg));n(186),n(443),Object.assign||(Object.assign=n(68));var Sg=function(e){function t(e,n){var a;v(this,t),(a=T(this,x(t).call(this,e,n))).selectCell=function(e,t){var n=e.idx,r=e.rowIdx,o=e.groupIdx;a.props.eventBus.dispatch(i.SELECT_CELL,{rowIdx:r,idx:n,groupIdx:o},t)},a.selectStart=function(e){a.props.eventBus.dispatch(i.SELECT_START,e)},a.selectUpdate=function(e){a.props.eventBus.dispatch(i.SELECT_UPDATE,e)},a.selectEnd=function(){a.props.eventBus.dispatch(i.SELECT_END)},a.onSelectNone=function(){a.props.eventBus.dispatch(i.SELECT_NONE)},a.handleDragEnter=function(e){var t=e.overRowIdx;a.props.eventBus.dispatch(i.DRAG_ENTER,{overRowIdx:t})},a.gridHeight=function(){return a.grid?a.grid.parentElement.offsetHeight:0},a.gridWidth=function(){return a.grid?a.grid.parentElement.offsetWidth:0},a.getTotalWidth=function(){return a._mounted?a.gridWidth():ln(a.props.columns)*a.props.minColumnWidth},a.getColumnMetricsType=function(e){var t=e.totalWidth||a.getTotalWidth(),n={columns:e.columns,totalWidth:t,minColumnWidth:e.minColumnWidth};return fn.recalculate(n)},a.getColumn=function(e){return sn(a.state.columnMetrics.columns,e)},a.getSize=function(){return ln(a.state.columnMetrics.columns)},a.metricsUpdated=function(){var e=a.createColumnMetrics();a.setState({columnMetrics:e})},a.createColumnMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props,t=a.setupGridColumns(e);return a.getColumnMetricsType({columns:t,minColumnWidth:a.props.minColumnWidth,totalWidth:e.minWidth})},a.onColumnResize=function(e,t){var n=fn.resizeColumn(a.state.columnMetrics,e,t);a.setState({columnMetrics:n}),a.props.onColumnResize&&a.props.onColumnResize(e,t)},a.onKeyDown=function(e){a._keysDown=a._keysDown||{},a._keysDown[e.keyCode]=!0;var t=a.props.onGridKeyDown;zf(t)&&t(e)},a.onKeyUp=function(e){a._keysDown=a._keysDown||{},delete a._keysDown[e.keyCode];var t=a.props.onGridKeyUp;zf(t)&&t(e)},a.isSingleKeyDown=function(e){return!!a._keysDown&&(e in a._keysDown&&1===Object.keys(a._keysDown).length)},a.onColumnEvent=function(e,t){var n=t.idx,r=t.name;if(r&&"undefined"!==typeof n){var i=a.getColumn(n);if(i&&i.events&&zf(i.events[r])){var o={idx:n,rowIdx:t.rowIdx,rowId:t.rowId,column:i};i.events[r](e,o)}}},a.onCellClick=function(e){var t=e.rowIdx,n=e.idx,r=e.groupIdx,i=a.props,o=i.onRowClick,s=i.rowGetter,l=i.columns,c=i.rowSelection,u=i.selectedRange,d=i.selectCell,p=!1;"checkbox"===(l[n-1]&&l[n-1].type)&&(p=!0),a.props.isShiftKeyDown&&a.props.cellRangeSelection&&a.props.cellRangeSelection.onComplete?a.selectMultiCells(u,{rowIdx:t,idx:n,groupIdx:r}):a.selectCell({rowIdx:t,idx:n,groupIdx:r},p),zf(o)&&o(t,s(t),a.getColumn(n)),zf(d)&&d({rowIdx:t,idx:n,groupIdx:r}),0===n&&c&&c.onRowFirstColumnClick({rowIdx:t,groupIdx:r})},a.selectMultiCells=function(e,t){var n=e.startCell,r=e.dragging,o={idx:Math.min(n.idx,t.idx),rowIdx:Math.min(n.rowIdx,t.rowIdx),groupIdx:n.groupIdx},s={idx:Math.max(n.idx,t.idx),rowIdx:Math.max(n.rowIdx,t.rowIdx),groupIdx:n.groupIdx};if(o.idx!==s.idx||o.rowIdx!==s.rowIdx||n.groupIdx!==t.groupIdx){var l={topLeft:o,bottomRight:s,startCell:n,cursorCell:t,dragging:r};a.props.eventBus.dispatch(i.SELECT_MULTI_CELLS,l),a.props.selectMultiCells(l)}},a.onCellMouseDown=function(e){a.selectCell(e),a.selectStart(e)},a.onCellMouseEnter=function(e){a.selectUpdate(e)},a.onWindowMouseUp=function(){a.selectEnd()},a.onCellContextMenu=function(e){var t=e.rowIdx,n=e.idx,r=e.groupIdx,i=a.props,o=i.isGroupView,s=i.rowGetter,l=i.groupRowGetter,c=(o?l({groupIdx:r,rowIdx:t}):s(t))._id,u=a.props.rowSelection.selectBy.keys.values;if(u.length>0&&!u.includes(c)){var d=[];u.map((function(e){var t={};t.row={_id:e},d.push(t)})),a.props.rowSelection.onRowsDeselected(d)}a.isOutSelectedRange({rowIdx:t,idx:n,groupIdx:r})&&a.selectCell({rowIdx:t,idx:n,groupIdx:r})},a.isOutSelectedRange=function(e){var t=e.rowIdx,n=e.idx,r=e.groupIdx,i=a.props,o=i.isGroupView,s=i.selectedRange,l=s.topLeft,c=s.bottomRight,u=s.startCell,d=u?u.groupIdx:-1,p=n<l.idx||n>c.idx||t<l.rowIdx||t>c.rowIdx;return o?p||d!==r:p},a.onCellDoubleClick=function(e){var t=e.rowIdx,n=e.idx,r=e.groupIdx,i=a.props,o=i.onRowDoubleClick,s=i.rowGetter;zf(o)&&o(t,s(t),a.getColumn(n)),a.openCellEditor(t,n,r)},a.onDragHandleDoubleClick=function(e){if(a.props.onDragHandleDoubleClick&&a.props.onDragHandleDoubleClick(e),a.props.onGridRowsUpdated){var t=a.getColumn(e.idx).key;a.onGridRowsUpdated(t,e.rowIdx,a.props.rowsCount-1,D({},t,e.rowData[t]),jt.COLUMN_FILL)}},a.onCellExpand=function(e){a.props.onCellExpand&&a.props.onCellExpand(e)},a.onCopyCells=function(e){a.props.eventBus.dispatch(i.COPY_CELLS,e)},a.onCutCells=function(e){a.props.eventBus.dispatch(i.CUT_CELLS,e)},a.onTouchStart=function(e){if(e.target&&["grid-canvas","group-view-canvas"].includes(e.target.id)){var t={startX:e.changedTouches[0].clientX,startY:e.changedTouches[0].clientY};a.setState({touchStartPosition:t})}},a.onTouchEnd=function(e){if(e.target&&["grid-canvas","group-view-canvas"].includes(e.target.id)){var t=e.changedTouches[0],n=t.clientX,r=t.clientY,o=a.state.touchStartPosition;Math.abs(o.startX-n)<5&&Math.abs(o.startY-r)<5&&a.props.eventBus.dispatch(i.SELECT_NONE,e)}},a.onClick=function(e){e.target&&["grid-canvas","group-view-canvas","canvas-rows-container"].includes(e.target.id)&&a.props.eventBus.dispatch(i.SELECT_NONE,e)},a.onPasteCells=function(e){a.props.eventBus.dispatch(i.PASTE_CELLS,e)},a.onGridRowsUpdated=function(e){var t,n=e.cellKey,r=e.fromRow,i=e.updated,o=e.groupIdx,s=a.props,l=s.rowGetter,c=s.groupRowGetter,u=s.onGridRowsUpdated,d=s.isGroupView;zf(u)&&((t=d?c({groupIdx:o,rowIdx:r}):l(r))&&u({cellKey:n,fromRow:r,updated:i,fromRowData:t}))},a.onCommit=function(e){var t=e.cellKey,n=e.rowIdx,r=e.updated,i=e.groupIdx;a.onGridRowsUpdated({cellKey:t,fromRow:n,updated:r,groupIdx:i})},a.onScroll=function(e){zf(a.props.onScroll)&&a.props.onScroll(e)},a.handleSort=function(e,t){a.setState({sortDirection:t,sortColumn:e},(function(){a.props.onGridSort(e,t)}))},a.getSelectedRow=function(e,t){var n=e.filter((function(e){return e[a.props.rowKey]===t}));if(n.length>0)return n[0]},a.useNewRowSelection=function(){return a.props.rowSelection&&a.props.rowSelection.selectBy},a.handleShiftSelect=function(e,t){var n=a.state.lastRowIdxUiSelected,r=a.props,i=r.rowSelection,o=r.isGroupView,s=r.rowGetter,l=r.groupRowGetter,c=n.rowIdx;if(c>-1&&a.isSingleKeyDown(dm.a.Shift)){var u=i.selectBy,d=u.keys,p=u.indexes,h=u.isSelectedKey,f=o?l({groupIdx:t,rowIdx:e}):s(e);if(cm.a.isRowSelected(d,p,h,f,e))return!1;var m=!1,g=[];if(o)g=a.getSelectedGroupRows(e,t,n);else if(e>c)for(var v=c+1;v<=e;v++)g.push({rowIdx:v,row:s(v)});else if(e<c)for(var y=e;y<=c-1;y++)g.push({rowIdx:y,row:s(y)});return g.length>0&&"function"===typeof i.onRowsSelected&&(i.onRowsSelected(g),m=!0),m&&a.setState({lastRowIdxUiSelected:{rowIdx:e,groupIdx:t}}),m}return!1},a.handleNewRowSelect=function(e,t,n){a.selectAllCheckbox&&!0===a.selectAllCheckbox.checked&&(a.selectAllCheckbox.checked=!1);var r=a.props.rowSelection.selectBy,i=r.keys,o=r.indexes,s=r.isSelectedKey,l=cm.a.isRowSelected(i,o,s,n,e);a.setState({lastRowIdxUiSelected:l?{rowIdx:-1,groupIdx:-1}:{rowIdx:e,groupIdx:t},selected:{rowIdx:e,idx:0,groupIdx:t}}),l&&"function"===typeof a.props.rowSelection.onRowsDeselected?a.props.rowSelection.onRowsDeselected([{rowIdx:e,row:n}]):l||"function"!==typeof a.props.rowSelection.onRowsSelected||a.props.rowSelection.onRowsSelected([{rowIdx:e,row:n}])},a.handleRowSelect=function(e,t,n,r,i){if(i.stopPropagation(),a.useNewRowSelection())!0===a.props.rowSelection.enableShiftSelect&&a.handleShiftSelect(e,r)||a.handleNewRowSelect(e,r,n);else{var o="single"===a.props.enableRowSelect?[]:a.state.selectedRows.slice(0),s=a.getSelectedRow(o,n[a.props.rowKey]);s?s.isSelected=!s.isSelected:(n.isSelected=!0,o.push(n)),a.setState({selectedRows:o,selected:{rowIdx:e,idx:0,groupIdx:r}}),a.props.onRowSelect&&a.props.onRowSelect(o.filter((function(e){return!0===e.isSelected})))}},a.getSelectedGroupRows=function(e,t,n){var r=a.props,i=r.groupRowGetter,o=r.groups,s=n.rowIdx,l=n.groupIdx,c=[];if(t>l)for(var u=l;u<=t;u++){var d=o[u].row_ids,p=void 0,h=void 0;u===l?(p=s+1,h=d.length):u===t?(p=0,h=e+1):(p=0,h=d.length);for(var f=p;f<h;f++)c.push({rowIdx:f,row:i({groupIdx:u,rowIdx:f})})}else if(t<l)for(var m=t;m<=l;m++){var g=o[m].row_ids,v=void 0,y=void 0;m===t?(v=e,y=g.length):m===l?(v=0,y=s):(v=0,y=g.length);for(var _=v;_<y;_++)c.push({rowIdx:_,row:i({groupIdx:m,rowIdx:_})})}else{var b,w;e>s?(b=s+1,w=e+1):e<s&&(b=e,w=s);for(var E=b;E<w;E++)c.push({rowIdx:E,row:i({groupIdx:t,rowIdx:E})})}return c},a.handleCheckboxChange=function(e){var t;if(t=e.currentTarget instanceof HTMLInputElement&&!0===e.currentTarget.checked,a.useNewRowSelection()){var n=a.props.rowSelection.selectBy,r=n.keys,i=n.indexes,o=n.isSelectedKey;if(a.props.isGroupView)a.handleGroupCheckboxChange({allRowsSelected:t,keys:r,indexes:i,isSelectedKey:o});else if(t&&"function"===typeof a.props.rowSelection.onRowsSelected){for(var s=[],l=0;l<a.props.rowsCount;l++){var c=a.props.rowGetter(l);cm.a.isRowSelected(r,i,o,c,l)||s.push({rowIdx:l,row:c})}s.length>0&&a.props.rowSelection.onRowsSelected(s)}else if(!t&&"function"===typeof a.props.rowSelection.onRowsDeselected){for(var u=[],d=0;d<a.props.rowsCount;d++){var p=a.props.rowGetter(d);cm.a.isRowSelected(r,i,o,p,d)&&u.push({rowIdx:d,row:p})}u.length>0&&a.props.rowSelection.onRowsDeselected(u)}}else{for(var h=[],f=0;f<a.props.rowsCount;f++){var m=Object.assign({},a.props.rowGetter(f),{isSelected:t});h.push(m)}a.setState({selectedRows:h}),"function"===typeof a.props.onRowSelect&&a.props.onRowSelect(h.filter((function(e){return!0===e.isSelected})))}},a.handleGroupCheckboxChange=function(e){var t=e.allRowsSelected,n=e.keys,r=e.indexes,i=e.isSelectedKey,o=a.props,s=o.groups,l=o.rowSelection,c=o.groupRowGetter;if(t&&"function"===typeof l.onRowsSelected){var u=[];s.forEach((function(e,t){e.row_ids.forEach((function(e,a){var o=c({groupIdx:t,rowIdx:a});cm.a.isRowSelected(n,r,i,o,a)||u.push({rowIdx:a,row:o})}))})),u.length>0&&l.onRowsSelected(u)}else if(!t&&"function"===typeof a.props.rowSelection.onRowsDeselected){var d=[];s.forEach((function(e,t){e.row_ids.forEach((function(e,a){var o=c({groupIdx:t,rowIdx:a});cm.a.isRowSelected(n,r,i,o,a)&&d.push({rowIdx:a,row:o})}))})),d.length>0&&l.onRowsDeselected(d)}},a.getRowOffsetHeight=function(){var e=0;return a.getHeaderRows().forEach((function(t){return e+=parseFloat(t.height,10)})),e},a.getHeaderRows=function(){return[{height:a.props.headerRowHeight||a.props.rowHeight,rowType:r.HEADER}]},a.getInitialSelectedRows=function(){for(var e=[],t=0;t<a.props.rowsCount;t++)e.push(!1);return e},a.getRowSelectionProps=function(){return a.props.rowSelection?a.props.rowSelection.selectBy:null},a.getSelectedRows=function(){return a.props.rowSelection?null:a.state.selectedRows.filter((function(e){return!0===e.isSelected}))},a.getDataGridDOMNode=function(){return a.grid},a.openCellEditor=function(e,t,n){a.selectCell({rowIdx:e,idx:t,groupIdx:n},!0)},a.scrollToColumn=function(e){a.props.eventBus.dispatch(i.SCROLL_TO_COLUMN,e)},a.modifyHeaderLock=function(){var e=a.props.isHeaderLocked;a.props.modifyHeaderLock(!e)},a.setupGridColumns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props,t=e.columns,n=e.isHeaderLocked;if(a._cachedColumns===t&&a._isHeaderLocked===n)return a._cachedComputedColumns;a._isHeaderLocked=n,a._cachedColumns=t;var r=t.slice(0);r=r.map((function(e){var t=vf.createEditor(e.type),n=Hf.createFormatter(e.type);return e.editor=t,e.formatter=n,e}));var i={};if(a.props.rowActionsCell||e.enableRowSelect&&!a.props.rowSelection||e.rowSelection&&!1!==e.rowSelection.showCheckbox){var o=a.props.selectAllRenderer||Cg,s=h.a.createElement(o,{onChange:a.handleCheckboxChange,inputRef:function(e){return a.selectAllCheckbox=e},isHeaderLocked:n,modifyHeaderLock:a.modifyHeaderLock}),l="single"===e.enableRowSelect?null:s,c=a.props.rowActionsCell?a.props.rowActionsCell:Tg,u={key:"select-row",name:"",formatter:h.a.createElement(c,{rowSelection:a.props.rowSelection}),onCellChange:a.handleRowSelect,filterable:!1,headerRenderer:l,width:80,frozen:!0,getRowMetaData:function(e){return e},cellClass:a.props.rowActionsCell?"rdg-row-actions-cell":""};i=r.unshift(u),r=i>0?r:i}return a._cachedComputedColumns=r,a._cachedComputedColumns},a.setGridRef=function(e){a.grid=e},a.setBaseGridRef=function(e){a.base=e},a.onDeselectAllRows=function(){a.selectAllCheckbox.checked=!1};var o={columnMetrics:a.createColumnMetrics(),selectedRows:[],expandedRows:[],sortDirection:null,sortColumn:null,scrollOffset:0,lastRowIdxUiSelected:{rowIdx:-1,groupIdx:-1},touchStartPosition:{}};return a.props.sortColumn&&a.props.sortDirection&&(o.sortColumn=a.props.sortColumn,o.sortDirection=a.props.sortDirection),a.state=o,a}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this._mounted=!0,window.addEventListener("resize",this.metricsUpdated),this.props.cellRangeSelection&&window.addEventListener("mouseup",this.onWindowMouseUp),this.metricsUpdated(),window.addEventListener("copy",this.onCopyCells),window.addEventListener("cut",this.onCutCells),window.addEventListener("paste",this.onPasteCells),window.isMobile?(window.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchend",this.onTouchEnd)):window.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){this._mounted=!1,window.removeEventListener("resize",this.metricsUpdated),window.removeEventListener("mouseup",this.onWindowMouseUp),window.removeEventListener("copy",this.onCopyCells),window.removeEventListener("cut",this.onCutCells),window.removeEventListener("paste",this.onPasteCells),window.isMobile?(window.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchend",this.onTouchEnd)):window.removeEventListener("click",this.onClick)}},{key:"componentWillReceiveProps",value:function(e){if(e.columns&&(!fn.sameColumns(this.props.columns,e.columns,this.props.columnEquality)||e.minWidth!==this.props.minWidth||e.isHeaderLocked!==this.props.isHeaderLocked)){var t=this.createColumnMetrics(e);this.setState({columnMetrics:t})}}},{key:"render",value:function(){var e={rowKey:this.props.rowKey,onCellClick:this.onCellClick,onCellContextMenu:this.onCellContextMenu,onCellDoubleClick:this.onCellDoubleClick,onColumnEvent:this.onColumnEvent,onCellExpand:this.onCellExpand,getCellActions:this.props.getCellActions,onDragEnter:this.handleDragEnter,onRowExpand:this.props.onRowExpand,onCommit:this.onCommit};this.props.cellRangeSelection&&(e.onCellMouseDown=this.onCellMouseDown,e.onCellMouseEnter=this.onCellMouseEnter);var t=this.props.minWidth||this.gridWidth(),n=t-this.state.scrollOffset,a=this.props.minHeight||this.gridHeight();return this.props.mobileShowHeader||(a+=76),("undefined"===typeof t||isNaN(t)||0===t)&&(t="100%"),("undefined"===typeof n||isNaN(n)||0===n)&&(n="100%"),h.a.createElement("div",{className:"react-grid-Container",style:{width:t},ref:this.setGridRef},h.a.createElement("div",{className:"react-grid-Main"},h.a.createElement(Eg,Object.assign({ref:this.setBaseGridRef},this.props,{rowKey:this.props.rowKey,isHeaderLocked:this.props.isHeaderLocked,headerRows:this.getHeaderRows(),columnMetrics:this.state.columnMetrics,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,rowHeight:this.props.rowHeight,cellMetaData:e,selectedRows:this.getSelectedRows(),rowSelection:this.getRowSelectionProps(),expandedRows:this.state.expandedRows,rowOffsetHeight:this.getRowOffsetHeight(),sortColumn:this.state.sortColumn,sortDirection:this.state.sortDirection,onSort:this.handleSort,minHeight:a,totalWidth:n,onViewportKeydown:this.onKeyDown,onViewportKeyup:this.onKeyUp,onColumnResize:this.onColumnResize,scrollToRowIndex:this.props.scrollToRowIndex,contextMenu:this.props.contextMenu,headerDropdownMenu:this.props.headerDropdownMenu,overScan:this.props.overScan,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onPasteGrid:this.props.onPasteGrid,onGridRowsUpdated:this.onGridRowsUpdated,onDragHandleDoubleClick:this.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.cellRangeSelection&&this.props.cellRangeSelection.onStart,onCellRangeSelectionUpdated:this.props.cellRangeSelection&&this.props.cellRangeSelection.onUpdate,onCellRangeSelectionCompleted:this.props.cellRangeSelection&&this.props.cellRangeSelection.onComplete,onCommit:this.onCommit,onScroll:this.onScroll,editorPortalTarget:this.props.editorPortalTarget,enableInsertColumn:this.props.enableInsertColumn,searchResult:this.props.searchResult,onInsertColumn:this.props.onInsertColumn,enableInsertRow:this.props.enableInsertRow,onInsertRow:this.props.onInsertRow,onEditCell:this.props.onEditCell,onFillingDragRows:this.props.onFillingDragRows,commentRowList:this.props.commentRowList,onShowCommentList:this.props.onShowCommentList}))))}}]),t}(h.a.Component);Sg.displayName="ReactDataGrid",Sg.defaultProps={enableCellSelect:!1,rowHeight:35,enableRowSelect:!1,rowKey:"id",scrollToRowIndex:0,cellNavigationMode:a.NONE,overScan:{colsStart:2,colsEnd:2,rowsStart:2,rowsEnd:2},enableCellAutoFocus:!0,onBeforeEdit:function(){},minColumnWidth:80,columnEquality:fn.sameColumn,editorPortalTarget:document.body};var kg=Sg;function Og(e,t){return e===t}function Mg(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var a=t.length,r=0;r<a;r++)if(!e(t[r],n[r]))return!1;return!0}function Lg(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var Dg=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];var i=0,o=a.pop(),s=Lg(a),l=e.apply(void 0,[function(){return i++,o.apply(null,arguments)}].concat(n)),c=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return l.apply(null,e)}));return c.resultFunc=o,c.dependencies=s,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Og,n=null,a=null;return function(){return Mg(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}));var Rg=n(716),Ng=n.n(Rg),Ig=function(){function e(t){v(this,e),this.isImmutable=t,this.getRowObj=Xf(t).getValue}return _(e,[{key:"initRowsCollection",value:function(){return this.isImmutable?new Ia.List:[]}},{key:"getGroupedRows",value:function(e,t){return this.isImmutable?e.groupBy((function(e){return Jf(e)?e.get(t):e[t]})):Ng()(e,t)}},{key:"getGroupKeys",value:function(e){var t=Object.keys;return this.isImmutable&&(t=function(e){for(var t=[],n=e.keys(),a=n.next();!a.done;)t.push(a.value),a=n.next();return t}),t(e)}},{key:"addHeaderRow",value:function(e,t){var n=t,a=n.push(e);return this.isImmutable?a:n}}]),e}(),Ag=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,e),this.columns=t.slice(0),this.expandedRows=n,this.resolver=new Ig(a)}return _(e,[{key:"isRowExpanded",value:function(e,t){var n=!0,a=this.expandedRows[e];return a&&a[t]&&(n=a[t].isExpanded),n}},{key:"groupRowsByColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,a=this.columns.length>0&&"string"===typeof this.columns[t]?this.columns[t]:this.columns[t].key,r=this.columns.length>0&&"string"===typeof this.columns[t]?this.columns[t]:this.columns[t].name,i=this.resolver.getGroupedRows(e,a),o=this.resolver.getGroupKeys(i),s=this.resolver.initRowsCollection(),l=0;l<o.length;l++){var c=o[l],u=this.isRowExpanded(a,c),d={name:c,__metaData:{isGroup:!0,treeDepth:t,isExpanded:u,columnGroupName:a,columnGroupDisplayName:r}};s=this.resolver.addHeaderRow(d,s),u&&(n=t+1,this.columns.length>n?(s=s.concat(this.groupRowsByColumn(this.resolver.getRowObj(i,c),n)),n=t-1):s=s.concat(this.resolver.getRowObj(i,c)))}return s}}]),e}(),Pg=function(e,t,n){return new Ag(t,n,Kf(e)).groupRowsByColumn(e,0)},Yg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){var n=Xf(Kf(t)),a=!0;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i.filterValues&&"function"===typeof i.filterValues)a&=i.filterValues(t,i,r);else if("string"===typeof i.filterTerm){var o=n.getValue(t,r);void 0!==o&&null!==o?-1===o.toString().toLowerCase().indexOf(i.filterTerm.toLowerCase())&&(a&=!1):a&=!1}}return Boolean(a)}))},Fg=function(e,t,n){var a=Xf(Kf(e)),r="ASC"===n?1:-1;return"NONE"===n?e:e.slice().sort((function(e,n){return r*function(e,t){return e>t?1:e<t?-1:0}(a.getValue(e,t),a.getValue(n,t))}))},jg=function(e){return e.rows},Ug=Dg([function(e){return e.filters},jg],(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!e||qf(e)?t:Yg(e,t)})),Hg=Dg([Ug,function(e){return e.sortColumn},function(e){return e.sortDirection}],(function(e,t,n){return n||t?Fg(e,t,n):e})),Bg={getRows:Dg([Hg,function(e){return e.groupBy},function(e){return e.expandedRows}],(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!t||qf(t)||Wf(t)?e:Pg(e,t,n)})),getSelectedRowsByKey:Dg([function(e){return e.rowKey},function(e){return e.selectedKeys},jg],(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.map((function(t){return n.filter((function(n){return n[e]===t}))[0]}))}))},Vg=n(68),Gg=n.n(Vg),Wg="REACT_CONTEXTMENU_SHOW",zg="REACT_CONTEXTMENU_HIDE";function qg(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),a&&(a.dispatchEvent(n),Gg()({},t))}function Kg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;qg(Wg,Gg()({},e,{type:Wg}),t)}function Xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;qg(zg,Gg()({},e,{type:zg}),t)}var Jg=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).touchHandled=!1,n.touchStartPosition={},n.callIfExists=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"===typeof e&&e.apply(void 0,n)},n.handleMouseDown=function(e){n.props.holdToDisplay>=0&&0===e.button&&(e.persist(),e.stopPropagation(),n.mouseDownTimeoutId=setTimeout((function(){return n.handleContextClick(e)}),n.props.holdToDisplay)),n.callIfExists(n.props.attributes.onMouseDown,e)},n.handleMouseUp=function(e){0===e.button&&clearTimeout(n.mouseDownTimeoutId),n.callIfExists(n.props.attributes.onMouseUp,e)},n.handleMouseOut=function(e){0===e.button&&clearTimeout(n.mouseDownTimeoutId),n.callIfExists(n.props.attributes.onMouseOut,e)},n.handleTouchstart=function(e){"canvas-rows-container"===e.target.id&&(n.touchStartPosition={startX:e.changedTouches[0].clientX,startY:e.changedTouches[0].clientY}),n.touchHandled=!1,n.props.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),n.touchstartTimeoutId=setTimeout((function(){n.handleContextClick(e),n.touchHandled=!0}),n.props.holdToDisplay)),n.callIfExists(n.props.attributes.onTouchStart,e)},n.handleTouchEnd=function(e){if("canvas-rows-container"===e.target.id){var t=e.changedTouches[0],a=t.clientX,r=t.clientY,o=n.touchStartPosition,s=o.startX,l=o.startY;Math.abs(s-a)<5&&Math.abs(l-r)<5&&n.props.eventBus.dispatch(i.SELECT_NONE,e)}n.touchHandled&&e.preventDefault(),clearTimeout(n.touchstartTimeoutId),n.callIfExists(n.props.attributes.onTouchEnd,e)},n.handleContextMenu=function(e){e.button===n.props.mouseButton&&n.handleContextClick(e),n.callIfExists(n.props.attributes.onContextMenu,e)},n.handleMouseClick=function(e){e.button===n.props.mouseButton&&n.handleContextClick(e),n.callIfExists(n.props.attributes.onClick,e)},n.handleContextClick=function(e){if(!n.props.disable&&(!n.props.disableIfShiftIsPressed||!e.shiftKey)){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,a=e.clientY||e.touches&&e.touches[0].pageY;n.props.posX&&(t-=n.props.posX),n.props.posY&&(a-=n.props.posY),Xg();var r=n.callIfExists(n.props.collect,n.props),i={position:{x:t,y:a},target:n.elem,id:n.props.id};r&&"function"===typeof r.then?r.then((function(t){i.data=Gg()({},t,{target:e.target}),Kg(i)})):(i.data=Gg()({},r,{target:e.target}),Kg(i))}},n.elemRef=function(e){n.elem=e},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,a=e.children,r=Gg()({},n,{className:ie()("react-contextmenu-wrapper",n.className),onContextMenu:this.handleContextMenu,onClick:this.handleMouseClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return h.a.createElement(t,r,a)}}]),t}(p.Component);Jg.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div",posX:0,posY:0,mouseButton:2,disableIfShiftIsPressed:!1};var Zg=n(717),$g=n.n(Zg),Qg=Object(sg.DragDropContext)($g.a),ev=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.connectDropTarget,a=e.isDragging,r=e.isOver,i=e.canDrop,o=1;return a&&(o=.2),t(n(h.a.createElement("div",{style:{width:0,cursor:"move",opacity:o},className:r&&i?"rdg-can-drop":""},this.props.children)))}}]),t}(h.a.Component);var tv={beginDrag:function(e){return{key:e.column.key}},endDrag:function(e,t){if(window.grid&&window.grid.clearScroll(),t.didDrop()){var n=t.getDropResult().source,a=t.getDropResult().target;if(n!==a)return e.onHeaderDrop(n,a)}}},nv={hover:function(e,t,n){if(window.grid){var a=t.getClientOffset(),r=document.body.clientWidth;a.x>r-200?window.grid.scrollToRight():a.x<300?window.grid.scrollToLeft():window.grid.clearScroll()}},drop:function(e,t){return{source:t.getItem().key,target:e.column.key}}};var av=Object(sg.DragSource)("Column",tv,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Object(sg.DropTarget)("Column",nv,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedHeader:t.getItem()}}))(ev));n(626),n(285),n(1083);function rv(e){var t=e.currentOffset;if(!t)return{display:"none"};var n=t.x,a=t.y,r="translate(".concat(n,"px, ").concat(a,"px)");return{width:"fit-content",backgroundColor:"#fff",transform:r,WebkitTransform:r}}var iv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).pageVerticalScroll=function(e){if(e>=220||0===window.canvas.props.rowOverscanStartIdx)window.canvas.stopScrollUp();else if(n.canScroll){var t=E(n);n.canScroll=!1,setTimeout((function(){t.canScroll=!0}),200),window.canvas.scrollUp()}},n.canScroll=!0,n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){if(e.isDragging||window.canvas.stopScrollUp(),"Row"===e.itemType){var t=this.props.currentOffset;e.currentOffset&&t&&e.currentOffset.y!==t.y&&this.pageVerticalScroll(e.currentOffset.y)}}},{key:"isDraggedRowSelected",value:function(e){var t=this.props,n=t.item,a=t.rowSelection;if(e&&e.length>0){var r=a.selectBy.keys.rowKey;return e.filter((function(e){return e[r]===n.data[r]})).length>0}return!1}},{key:"getDraggedRows",value:function(){var e,t,n=this.props,a=n.table,r=n.rowSelection,i=n.rowGetter,o=n.isGroupView,s=n.groupRowGetter,l=n.item;if(r&&r.selectBy.keys){var c=r.selectBy.keys.values;e=pt.TableUtils.getRowsByIds(a,c),t=this.isDraggedRowSelected(e)}return t?e:o?[s({groupIdx:l.groupIdx,rowIdx:l.idx})]:[i(l.idx)]}},{key:"renderDraggedRows",value:function(){var e=this,t=this.props.columns;return this.getDraggedRows().map((function(n,a){return h.a.createElement("tr",{key:"dragged-row-".concat(a)},e.renderDraggedCells(n,a,t))}))}},{key:"renderDraggedCells",value:function(e,t,n){var a=[];return null!=e&&n.forEach((function(n,r){if(!(r>3)&&e.hasOwnProperty(n.key))if(n.formatter){var i="function"===typeof n.getRowMetaData?n.getRowMetaData(e,n):{},o=n.formatter;h.a.isValidElement(o)?o=h.a.cloneElement(o,{dependentValues:i,rowIdx:t,column:n,value:e[n.key]}):zf(o)&&(o=h.a.createElement(o,{value:e[n.key],rowIdx:t,column:n,dependentValues:i})),a.push(h.a.createElement("td",{key:"dragged-cell-".concat(t,"-").concat(n.key),className:"react-grid-Cell",style:{padding:"5px"}},o))}else a.push(h.a.createElement("td",{key:"dragged-cell-".concat(t,"-").concat(n.key),className:"react-grid-Cell",style:{padding:"5px"}},e[n.key]))})),a}},{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.itemType;if(!t||"Row"!==n)return null;var a=this.renderDraggedRows();return h.a.createElement("div",{className:"rdg-dragging row-drag-layer"},h.a.createElement("div",{style:rv(this.props),className:"rdg-dragging"},h.a.createElement("table",{className:"row-drag-layer-table"},h.a.createElement("tbody",null,a))))}}]),t}(p.Component);var ov=Object(sg.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))(iv),sv=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"getRows",value:function(e,t){for(var n=[],a=0;a<e;a++)n.push(t(a));return n}},{key:"renderGrid",value:function(){return h.a.cloneElement(h.a.Children.only(this.props.children),qe({},this.props,{draggableHeaderCell:av}))}},{key:"render",value:function(){var e=this.renderGrid(),t=this.props.getDragPreviewRow||e.props.rowGetter,n=e.props.table,a=e.props.columns;return h.a.createElement("div",{className:"drag-drop-container"},e,h.a.createElement(ov,{rowSelection:e.props.rowSelection,table:n,columns:Gf(a)?a.toArray():a,isGroupView:e.props.isGroupView,rowGetter:t,groupRowGetter:e.props.groupRowGetter}))}}]),t}(p.Component),lv=Qg(sv),cv=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props.connectDragPreview,t=new Image;t.src="./assets/images/drag_column_full.png",t.onload=function(){return e(t)}}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource;return e.isDragging?null:t(h.a.createElement("div",{style:{cursor:"move"}},this.props.children))}}]),t}(p.Component);var uv=Object(sg.DragSource)("column",{beginDrag:function(e){return e.column},endDrag:function(e){return e.column}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging(),connectDragPreview:e.dragPreview()}}))(cv),dv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onMouseDown=function(){n.setState({isIconShow:!1})},n.onMouseLeave=function(){n.setState({isIconShow:!0})},n.state={isIconShow:!0},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.rowSelection,a=e.column,r=e.rowIdx,i=e.dependentValues,o=e.value,s=e.groupIdx,l=null!=n?{position:"absolute",marginTop:"-15px"}:{},c=this.props.value,u=c?"rdg-actions-checkbox selected":"rdg-actions-checkbox",d=this.props.isDragging||this.state.isIconShow,p="r"===window.dtable.permission;return t(h.a.createElement("div",null,d&&h.a.createElement("span",{className:"rdg-row-expand-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-open"})),!p&&h.a.createElement("div",{className:"rdg-drag-row-handle",style:l,onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave}),!c&&h.a.createElement("div",{className:"rdg-row-index"},r+1),d&&null!=n&&h.a.createElement("div",{className:u},h.a.createElement(Tg,{column:a,rowIdx:r,groupIdx:s,dependentValues:i,value:o}))))}}]),t}(h.a.Component);dv.defaultProps={rowIdx:0};var pv=Object(sg.DragSource)("Row",{beginDrag:function(e){return{groupIdx:e.groupIdx,idx:e.rowIdx,data:e.dependentValues}},endDrag:function(e){return{groupIdx:e.groupIdx,idx:e.rowIdx,data:e.dependentValues}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging(),connectDragPreview:e.dragPreview()}}))(dv),hv={drop:function(e,t,n){n.moveRow();var a=t.getItem(),r={idx:e.idx,groupIdx:e.groupIdx,data:e.row};e.onRowDrop({rowSource:a,rowTarget:r})}};function fv(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}}var mv={Container:lv,DraggableHeaderCell:uv,RowActionsCell:pv,DropTargetRowContainer:function(e){return Object(sg.DropTarget)("Row",hv,fv,{arePropsEqual:function(e,t){return!$m(e,t)}})(function(e){return function(t){function n(){return v(this,n),T(this,x(n).apply(this,arguments))}return S(n,t),_(n,[{key:"shouldComponentUpdate",value:function(e){return $m(e,this.props)}},{key:"moveRow",value:function(){}},{key:"render",value:function(){var t=this.props,n=t.connectDropTarget,a=t.isOver,r=t.canDrop,i=t.height,o=t.idx,s=t.row,l=t.isGroupView,c=t.scrollLeft,u=o*i,d=ie()({"row-filtered":!!s.isFiltered});return n(h.a.createElement("div",{className:d},h.a.createElement(e,this.props),a&&r&&h.a.createElement("div",{className:"rowDropTarget",style:{top:u,zIndex:Zn,height:i,left:l&&c}})))}}]),n}(h.a.Component)}(e))}},gv=n(56),vv=function(e){return gv.a.DropdownIndicator&&h.a.createElement(gv.a.DropdownIndicator,e,h.a.createElement("span",{className:"dtable-font dtable-icon-drop-down parameter-icon"}))},yv=function(e){return h.a.createElement("div",{style:e.data.style},h.a.createElement(gv.a.Option,e))},_v={control:function(e){return qe({},e,{fontSize:"14px",cursor:"pointer",lineHeight:"1.5"})},indicatorSeparator:function(){}},bv=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getMenuPortalTarget=function(){return document.querySelector(".modal")},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.onChange,a=e.value,r=e.isSearchable,i=e.placeholder;return h.a.createElement(gv.b,{value:a,onChange:n,options:t,styles:_v,components:{Option:yv,DropdownIndicator:vv},placeholder:i,isSearchable:r,menuPosition:"fixed",menuShouldBlockScroll:!0,menuShouldScrollIntoView:!0,menuPortalTarget:this.getMenuPortalTarget()})}}]),t}(h.a.Component);bv.defaultProps={options:[],value:{},isSearchable:!1,placeholder:""};var wv,Ev=bv,Tv=(n(1084),D(wv={},pt.FORMULA_TYPE.COLUMN,"isColumnsShow"),D(wv,pt.FORMULA_TYPE.CONSTANTS,"isConstantsShow"),D(wv,pt.FORMULA_TYPE.OPERATORS,"isOperatorsShow"),D(wv,pt.FORMULA_TYPE.MATH,"isMathFuncShow"),D(wv,pt.FORMULA_TYPE.TEXT,"isTextFuncShow"),D(wv,pt.FORMULA_TYPE.DATE,"isDateFuncShow"),D(wv,pt.FORMULA_TYPE.LOGICAL,"isLogicalFuncShow"),D(wv,pt.FORMULA_TYPE.STATISTIC,"isStatisticsFuncShow"),wv),xv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getUsedCloumnListForFormula=function(){var e=n.props.columns,t=[];return e.forEach((function(e){var n=e.type;pt.SUPPORT_FORMULA_COLUMN_TYPE.includes(n)&&t.push(e)})),t},n.getColumnFormula=function(e){var t=n.props.t,a=e.name;return{name:a,valueType:e.type,description:t("Returns_the_value_of_xxx_column_for_each_row",{column_name:a}),syntax:"{".concat(t("Column_name"),"}"),example:h.a.createElement("span",null,"{",h.a.createElement("span",{style:{color:"#479900"}},a),"}")}},n.getColumnList=function(){return n.ableUsedColumns.map((function(e,t){var a=e.type,r=e.name,i=n.getColumnFormula(e);return h.a.createElement("div",{className:"formula-tip-column",key:"formula-tip-column-".concat(t)},h.a.createElement("div",{className:"formula-name",onClick:function(){return n.onChangeFormulaTip(i)}},h.a.createElement("i",{className:"formula-name-icon ".concat(_n[a])}),h.a.createElement("span",null,r)),h.a.createElement("div",{className:"set-formula",onClick:function(){return n.onSetFormula(i,pt.FORMULA_TYPE.COLUMN)}},h.a.createElement("i",{className:"set-formula-icon dtable-font dtable-icon-add-line"})))}))},n.createtFormulaNode=function(e,t){return e.map((function(e,a){var r=e.name,i=e.valueType;return h.a.createElement("div",{className:"formula-tip-column",key:"formula-tip-column-".concat(a)},h.a.createElement("div",{className:"formula-name",onClick:function(){return n.onChangeFormulaTip(e)}},h.a.createElement("i",{className:"formula-name-icon ".concat(_n[i])}),h.a.createElement("span",null,r)),h.a.createElement("div",{className:"set-formula",onClick:function(){return n.onSetFormula(e,t)}},h.a.createElement("i",{className:"set-formula-icon dtable-font dtable-icon-add-line"})))}))},n.onChangeFormulaTip=function(e){n.setState({formula:e}),n.inputFormula.focus()},n.onSetFormula=function(e,t){var a=n.inputFormula,r=a.selectionStart,i=a.selectionEnd;n.props.onSetFormula(e,t,r,i,(function(e){var t=e,a=e;n.inputFormula.focus(),n.inputFormula.setSelectionRange(t,a)}))},n.getFormulaInfo=function(){var e=n.state.formula,t=e.syntax,a=e.example,r=e.name,i=e.description;return{syntax:Array.isArray(t)?t.map((function(e,t){return h.a.createElement("span",{key:"".concat(t)},e)})):t,example:Array.isArray(a)?a.map((function(e,t){return h.a.createElement("span",{key:"".concat(t)},e)})):a,name:r,description:i}},n.onFormulaChange=function(e){n.props.onFormulaChange(e)},n.onToggle=function(e){var t=Tv[e];n.setState(D({},t,!n.state[t]))},n.createtFormulaFunctions=function(){var e=n.props.t;return pt.FORMULA_TIP.map((function(t,a){var r=t.name,i=t.type,o=t.value,s=n.state[Tv[i]];return h.a.createElement("div",{className:"table-columns formula-constant",key:a},h.a.createElement("div",{className:"formula-column-title",onClick:function(){return n.onToggle(i)}},h.a.createElement("span",null,e(r)),h.a.createElement("i",{className:ie()("dtable-font dtable-icon-right",{"dtable-icon-spin":s})})),s&&n.createtFormulaNode(o,i))}))},n.ableUsedColumns=n.getUsedCloumnListForFormula(),n.state={formula:n.getColumnFormula(n.ableUsedColumns[0]),isColumnsShow:!0,isConstantsShow:!1,isOperatorsShow:!1,isMathFuncShow:!1,isTextFuncShow:!1,isDateFuncShow:!1,isLogicalFuncShow:!1,isStatisticsFuncShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.columnFormula,r=this.getFormulaInfo(),i=r.syntax,o=r.example,s=r.name,l=r.description,c=this.state.isColumnsShow;return h.a.createElement(Cm,{className:"formula-container"},h.a.createElement(ir,{className:"formula-label"},n("Formula")),h.a.createElement("div",{className:"formula-content"},h.a.createElement("input",{className:"form-control formula-input",value:a,placeholder:n("Please_input_formula"),onChange:this.onFormulaChange,autoFocus:!0,ref:function(t){return e.inputFormula=t}}),h.a.createElement("div",{className:"formula-tips"},h.a.createElement("div",{className:"formula-column-func"},h.a.createElement("div",{className:"table-columns"},h.a.createElement("div",{className:"formula-column-title",onClick:function(){return e.onToggle(pt.FORMULA_TYPE.COLUMN)}},h.a.createElement("span",null,n("Columns")),h.a.createElement("i",{className:ie()("dtable-font dtable-icon-right",{"dtable-icon-spin":c})})),c&&this.getColumnList()),this.createtFormulaFunctions()),h.a.createElement("div",{className:"formula-example-container"},h.a.createElement("div",{className:"formula-example-content"},h.a.createElement("div",{className:"formula-example-title"},s),h.a.createElement("div",{className:"formula-example-description"},n(l))),h.a.createElement("div",{className:"formula-example-content"},h.a.createElement("div",{className:"formula-example-title-tip"},n("Syntax")),h.a.createElement("div",{className:"formula-example-message"},i)),h.a.createElement("div",{className:"formula-example-content"},h.a.createElement("div",{className:"formula-example-title-tip"},n("Examples")),h.a.createElement("div",{className:"formula-example-message"},o))))))}}]),t}(h.a.Component),Cv=Object(I.d)("dtable")(xv),Sv=(n(1085),[pt.CellType.TEXT,pt.CellType.NUMBER,pt.CellType.DATE]),kv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getDatasetLinks=function(){var e=window.app.state.datasetList;return e&&Array.isArray(e)?e.map((function(e){return{value:e.id,label:h.a.createElement("span",{className:"select-module select-module-name"},e.dataset_name)}})):[]},n.checkHourAndMinuteShow=function(){var e=n.props.oldColumn;if(e&&e.type===pt.CellType.DATE){var t=e.data;return t&&t.format&&t.format.indexOf("HH:mm")>-1}return!1},n.getNumberColumnFormat=function(){var e=n.props.oldColumn;if(e&&e.type===pt.CellType.NUMBER){var t=e.data;if(t&&t.format)return n.numberFormats.filter((function(e){return e.value===t.format}))[0]}return n.numberFormats[0]},n.getDateColumnFormat=function(){var e=n.props.oldColumn;if(e&&e.type===pt.CellType.DATE){var t=e.data;if(t&&t.format)return n.dateFormats.filter((function(e){return e.value===t.format.split(" ")[0]}))[0]}return n.dateFormats[0]},n.getSelectedOption=function(){var e=n.props.oldColumn;return e&&n.options.find((function(t){return t.value===e.type}))||n.options[1]},n.createOptions=function(e){var t=n.props,a=t.t,r=t.oldColumn,i=t.editColumnMode;return e.filter((function(e){var t=e.type;return"customizeColumnType"===i?"0000"===r.key?Sv.includes(t):!t||pt.SUPPORT_CONVERSION_COLUMN_TYPES.includes(t):"link-common-dataset"!==t})).map((function(e){var t=e.type,n=e.isDisabled,r=e.iconClass,i=e.iconName;return{value:t,isDisabled:n||!1,label:h.a.createElement(p.Fragment,null,r&&h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:"dtable-font ".concat(r)})),h.a.createElement("span",{className:"select-module select-module-name"},a("".concat(i))))}}))},n.createFormat=function(e,t){var a=To();return e.map((function(e){var r=h.a.createElement("span",{className:"select-module select-module-name"},n.props.t("".concat(e.name)),t?" (".concat(Object(pt.getDateDisplayString)(a,e.type),")"):"");return{value:e.type,label:r}}))},n.createLinksOptions=function(e,t){return e.map((function(e){var t=e.name;return{value:e._id,label:h.a.createElement("span",{className:"select-module select-module-name"},n.props.t("".concat(t)))}}))},n.handleChange=function(e){var t=e.target.value;n.setState({columnName:t})},n.handleTypeChange=function(e){n.setState({selectedOption:e})},n.onNumberFormatChange=function(e){n.setState({selectedFormat:e})},n.onDateFormatChange=function(e){n.setState({selectedDateFormat:e})},n.onSelectedDatasetChange=function(e){n.setState({selectedDatasetLink:e})},n.toggle=function(){n.props.onEditColumnCancel()},n.onTimeAccurateChange=function(){n.setState({showHourAndMinute:!n.state.showHourAndMinute})},n.onFormulaChange=function(e){var t=e.target.value;n.setState({columnFormula:t})},n.handleSubmit=function(){var e=n.props.selectedTable,t=n.state,a=t.columnName,r=t.selectedOption,i=t.selectedTablelink,o=t.selectedDatasetLink,s=t.columnFormula,l=e.rows;a=a.trim();var c=r.value;if(a)if(c!==pt.CellType.LINK){if(c===pt.CellType.LINK_COMMON_DATASET){var u={linked_common_dataset_id:o.value};return n.props.onEditColumn(a,"link-common-dataset",u),void window.app.getCommonDataset(o.value)}var d=n.getFormat(c),p=null;if(d&&(p={format:d}),c===pt.CellType.FORMULA){var h,f={};if(s){var m=Array.isArray(l)?[l[0]]:[];(f=n.formulaCalculator.getCalcResults(s,m)).error&&(h="Formula_is_invalid")}else h="Formula_is_required";if(h)return void n.setState({errMessage:h});p={formula:s,operated_columns:f.operated_columns,result_type:f.result.result_type}}n.props.onEditColumn(a,c,p)}else{var g={display_column_key:"0000",is_internal_link:!0,table_id:n.props.selectedTable._id,other_table_id:i.value};n.props.onEditColumn(a,"link",g)}else n.setState({errMessage:"Name_is_required"})},n.getFormat=function(e){var t=n.state,a=t.showHourAndMinute,r=t.selectedFormat,i=t.selectedDateFormat;switch(e){case pt.CellType.DATE:return a?"".concat(i.value," HH:mm"):i.value;case pt.CellType.NUMBER:return r.value;default:return null}},n.onLinkSelectedTableChange=function(e){n.setState({selectedTablelink:e})},n.onSetFormula=function(e,t,a,r,i){var o,s=n.state.columnFormula,l=s.substring(0,a),c=s.substring(r),u=e.name,d=e.syntax,p=e.operator;switch(t){case pt.FORMULA_TYPE.COLUMN:o="{".concat(u,"}");break;case pt.FORMULA_TYPE.CONSTANTS:o=d;break;case pt.FORMULA_TYPE.OPERATORS:o=" ".concat(p," ");break;default:o="".concat(u,"(")}n.setState({columnFormula:l+o+c},(function(){var e=l.length+o.length;i(e)}))},n.options=n.createOptions(pt.COLUMN_OPTIONS),n.numberFormats=n.createFormat(pt.NUMBER_FORMATS,!1),n.dateFormats=n.createFormat(pt.DATE_FORMATS,!0),n.tableLinks=e.tables?n.createLinksOptions(e.tables,"tables"):[],n.datasetLinks=n.getDatasetLinks(),n.formulaCalculator=new pt.FormulaCalculator({table:e.selectedTable}),n.state={columnName:e.oldColumn?e.oldColumn.name:"",errMessage:"",selectedOption:n.getSelectedOption(),selectedFormat:n.getNumberColumnFormat(),selectedDateFormat:n.getDateColumnFormat(),selectedTablelink:n.tableLinks.find((function(t){return t.value===e.selectedTable._id})),selectedDatasetLink:n.datasetLinks[0]||null,showHourAndMinute:n.checkHourAndMinuteShow(),columnFormula:e.oldColumn&&e.oldColumn.data&&e.oldColumn.data.formula?e.oldColumn.data.formula:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.selectedTable.columns,r=this.state,i=r.columnName,o=r.selectedOption,s=r.columnFormula,l=r.showHourAndMinute,c=r.errMessage,u=r.selectedTablelink,d=r.selectedDatasetLink;return h.a.createElement(p.Fragment,null,h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"edit-column-dialog"},h.a.createElement(xr,{toggle:this.toggle},n(this.props.oldColumn?"Customize_column_type":"New_Column")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement(ir,{for:"columnName"},n("Name")),h.a.createElement(Lr,{id:"columnName",value:i,innerRef:function(t){e.newInput=t},onChange:this.handleChange})),h.a.createElement(Cm,null,h.a.createElement(ir,null,n("Type")),h.a.createElement(Ev,{value:o,onChange:this.handleTypeChange,options:this.options})),o.value===pt.CellType.DATE&&h.a.createElement(p.Fragment,null,h.a.createElement(Cm,{className:"date-format-container"},h.a.createElement(ir,null,n("Format")),h.a.createElement(Ev,{options:this.dateFormats,value:this.state.selectedDateFormat,onChange:this.onDateFormatChange})),h.a.createElement(Cm,{className:"date-format-container"},h.a.createElement("label",{className:"custom-switch",htmlFor:"time-accurate"},h.a.createElement("input",{type:"checkbox",name:"custom-switch-checkbox",className:"custom-switch-input",checked:l,onChange:this.onTimeAccurateChange,id:"time-accurate"}),h.a.createElement("span",{className:"custom-switch-indicator mr-4"}),h.a.createElement("span",null,n("Accurate_to_minute"))))),o.value===pt.CellType.NUMBER&&h.a.createElement(Cm,{className:"number-format-container"},h.a.createElement(ir,{className:"number-format-label"},n("Format")),h.a.createElement(Ev,{options:this.numberFormats,value:this.state.selectedFormat,onChange:this.onNumberFormatChange})),o.value===pt.CellType.LINK&&h.a.createElement(Cm,{className:"link-format-container"},h.a.createElement(ir,{className:"link-format-label"},n("Select_a_table_to_link_to")),h.a.createElement(Ev,{options:this.tableLinks,value:u,onChange:this.onLinkSelectedTableChange})),o.value===pt.CellType.LINK_COMMON_DATASET&&h.a.createElement(Cm,{className:"link-format-container"},h.a.createElement(ir,{className:"link-format-label"},n("Select_a_common_dataset_to_link_to")),h.a.createElement(Ev,{options:this.datasetLinks,value:d,onChange:this.onSelectedDatasetChange})),o.value===pt.CellType.FORMULA&&h.a.createElement(Cv,{columnFormula:s,columns:a,onFormulaChange:this.onFormulaChange,onSetFormula:this.onSetFormula})),c&&h.a.createElement(xh,{color:"danger",className:"mt-6"},n("".concat(c)))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},n("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},n("Submit")))))}}]),t}(h.a.Component),Ov=Object(I.d)("dtable")(kv),Mv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleChange=function(e){var t=e.target.value;t!==n.state.columnName&&n.setState({columnName:t})},n.toggle=function(){n.props.onRenameColumnCancel()},n.handleSubmit=function(){var e=n.state.columnName;(e=e.trim())?n.props.onRenameColumnConfirm(e):n.setState({errMessage:"Name_is_required"})},n.state={columnName:e.columnName,errMessage:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},t("Rename_Column")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement(ir,{for:"columnName"},t("Name")),h.a.createElement(Lr,{id:"columnName",value:this.state.columnName,innerRef:function(t){e.newInput=t},onChange:this.handleChange}))),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},t(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},t("Submit"))))}}]),t}(h.a.Component),Lv=Object(I.d)("dtable")(Mv),Dv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleChangeOption=function(){var e=n.props,t=e.optionIndex,a=e.option;n.props.onToggleChangeOption(a,t)},n.onDeleteOption=function(){var e=n.props.optionIndex;n.props.onDeleteOption(e)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t;return h.a.createElement("div",{className:"dropdown-menu option-operation-dropdownmenu show",style:this.props.option_operation_position,ref:function(t){return e.optionsDropdownmenu=t}},h.a.createElement("div",{className:"dropdown-item",onMouseDown:this.onToggleChangeOption},h.a.createElement("i",{className:"dtable-font dtable-icon-rename"}),h.a.createElement("span",null,t("Edit_option"))),h.a.createElement("div",{className:"dropdown-item",onMouseDown:this.onDeleteOption},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"}),h.a.createElement("span",null,t("Delete_option"))))}}]),t}(p.Component),Rv=Object(I.d)("dtable")(Dv),Nv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onMoreOperationToggle=function(e,t){t.nativeEvent.stopImmediatePropagation();var a=n.moreOperation.getBoundingClientRect().height;n.setState({option_operation_index:e,option_operation_position:{top:a}},(function(){n.props.onOptionOperationDropdownmenuShow()}))},n.state={option_operation_index:null,option_operation_position:null},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDragSource,a=t.connectDragPreview,r=t.connectDropTarget,i=t.option,o=t.optionIndex,s=t.currentIndex,l=t.isOver,c=t.canDrop,u=t.isOptionOperationDropdownmenuShow;return r(a(h.a.createElement("li",{className:ie()("option-item-container",{"option-can-drop":l&&c},{"option-container":o===s}),onMouseEnter:this.props.onMouseEnter.bind(this,o),onMouseLeave:this.props.onMouseLeave},n(h.a.createElement("div",{className:"rdg-drag-option-handle"},h.a.createElement("i",{className:"dtable-font dtable-icon-drag"}))),h.a.createElement("div",{className:"option-item"},h.a.createElement("span",{className:"option-name",style:{backgroundColor:i.color,color:i.textColor||null}},i.name)),o===s&&h.a.createElement("div",{className:"more-option-operation",onMouseDown:this.onMoreOperationToggle.bind(this,o),ref:function(t){return e.moreOperation=t}},h.a.createElement("i",{className:"dtable-font dtable-icon-more-level"}),u&&h.a.createElement(Rv,{optionIndex:o,option:i,option_operation_position:this.state.option_operation_position,onDeleteOption:this.props.deleteOption,onToggleChangeOption:this.props.toggleChangeOptionDialog})))))}}]),t}(h.a.Component),Iv=Object(sg.DragSource)("Option",{beginDrag:function(e){return{idx:e.optionIndex,data:e.option}},endDrag:function(e,t){var n=t.getItem();if(!t.didDrop())return{optionSource:n,optionTarget:{}}}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(Nv),Av=function(e){function t(e){return v(this,t),T(this,x(t).call(this,e))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.options;return e.length>0&&h.a.createElement("ul",{className:"select-options-list"},e)}}]),t}(h.a.Component),Pv=Object(sg.DropTarget)("Option",{},(function(e){return{connectDropTarget:e.dropTarget()}}))(Av),Yv=Qg(Pv),Fv={drop:function(e,t){var n=t.getItem(),a=e.optionIndex;if(a!==n.idx){var r={idx:a,data:e.option};e.moveOption(n,r)}}},jv=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}},Uv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).hideMoreOperationMenu=function(){n.setState({isOptionOperationDropdownmenuShow:!1})},n.toggle=function(){n.props.toggle()},n.editOption=function(e){var t=n.state.options.slice(0);e.id?(t.splice(n.state.currentIndex,1,e),window.app.updateColumnOptions(n.props.column,t)):(window.app.onAddColumnOption(n.props.column,t,e),t.push(e)),n.setState({options:t})},n.deleteOption=function(e){window.app.onDeleteColumnOption(n.props.column,n.state.options,e),n.state.options.splice(e,1),n.hideMoreOperationMenu()},n.moveOption=function(e,t){n.state.options.splice(e.idx,1),n.state.options.splice(t.idx,0,e.data),window.app.updateColumnOptions(n.props.column,n.state.options)},n.onMouseEnter=function(e){n.setState({currentIndex:e})},n.onMouseLeave=function(){n.setState({currentIndex:null}),n.hideMoreOperationMenu()},n.toggleChangeOptionDialog=function(e,t){t>-1?n.setState({currentOption:e,currentIndex:t}):n.setState({currentOption:null,currentIndex:null}),n.setState({isShowEditOptionDialog:!n.state.isShowEditOptionDialog,isOptionOperationDropdownmenuShow:!1})},n.onMoreOperationToggle=function(e,t){t.nativeEvent.stopImmediatePropagation();var a=n.moreOperation.getBoundingClientRect().height;n.setState({isOptionOperationDropdownmenuShow:!n.state.isOptionOperationDropdownmenuShow,option_operation_index:e,option_operation_position:{top:a}})},n.onOptionOperationDropdownmenuShow=function(){n.setState({isOptionOperationDropdownmenuShow:!n.state.isOptionOperationDropdownmenuShow})},n.getOptionItems=function(){var e=n.state,t=e.options,a=e.currentIndex,r=e.isOptionOperationDropdownmenuShow,i=Object(sg.DropTarget)("Option",Fv,jv)(Iv);return t.map((function(e,o){return h.a.createElement(i,{key:o,optionsLength:t.length,option:e,currentIndex:a,optionIndex:o,isOptionOperationDropdownmenuShow:r,moveOption:n.moveOption,editOption:n.editOption,deleteOption:n.deleteOption,onMoreOperationToggle:n.onMoreOperationToggle,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onOptionOperationDropdownmenuShow:n.onOptionOperationDropdownmenuShow,toggleChangeOptionDialog:n.toggleChangeOptionDialog})}))},n.state={options:n.props.options||[],isShowEditOptionDialog:!1,currentOption:null,currentIndex:null,isOptionOperationDropdownmenuShow:!1},n.newInput=h.a.createRef(),n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state,t=e.options,n=e.isShowEditOptionDialog,a=e.currentIndex,r=this.props.t,i=this.getOptionItems();return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"thead-single-select"},n?h.a.createElement(Ar,{toggle:this.toggleChangeOptionDialog,option:this.state.currentOption,editOption:this.editOption}):h.a.createElement(p.Fragment,null,h.a.createElement(xr,{toggle:this.toggle},r("Option")),h.a.createElement(kr,{className:"thead-select-option-body"},0===t.length&&h.a.createElement("div",{className:"mt-2"},r("No_option")),h.a.createElement(Yv,{options:i,currentIndex:a}),h.a.createElement("div",{className:"d-flex dialog-add-new-option add-item-btn",onClick:this.toggleChangeOptionDialog},h.a.createElement("i",{className:"dtable-font dtable-icon-add-table"}),h.a.createElement("span",{className:"border-bottom"},r("Add_an_option"))))))}}]),t}(h.a.Component),Hv=Object(I.d)("dtable")(Uv),Bv=n(33);var Vv=function(e){var t=e.title,n=e.titleClass,a=e.onLeftClick,r=e.leftName,i=e.onRightClick,o=e.rightName;return h.a.createElement("div",{className:"am-list-header mobile-am-list-header ".concat(n||"")},h.a.createElement("div",{className:"row-expand-view-header"},h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:a},r||""),h.a.createElement("h4",{className:"row-expand-view-header-title"},t),h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:i,style:{color:"#f09f3f"}},o||"")))},Gv=(n(1118),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.toggleFormatView()},n.setFormat=function(e){n.setState({value:e})},n.saveFormat=function(){n.props.updateColumnFormat(n.state.value),n.props.toggleFormatView()},n.state={value:e.column.data?e.column.data.format:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.columnFormat,a=t.toggleFormatView,r=t.t;return h.a.createElement("div",{className:"set-format-view"},h.a.createElement(Vv,{title:r("Format_Settings"),onLeftClick:a,leftName:r("Cancel"),onRightClick:this.saveFormat,rightName:r("Submit")}),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{className:"format-container"},n.map((function(t,n){return h.a.createElement("div",{className:"format-item",key:n,onMouseDown:function(){e.setFormat(t.type)}},h.a.createElement("span",{className:"format-name"},r(t.name)),e.state.value===t.type&&h.a.createElement("span",{className:"format-check-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"})))}))))}}]),t}(h.a.Component)),Wv=(n(1119),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleChange=function(e){var t=e.target.value;t!==n.state.formula&&n.setState({formula:t})},n.handleSubmit=function(){var e,t,a=n.props.table,r=n.state.formula,i=a.rows;if(r!==n.props.formula){if(r){var o=Array.isArray(i)?[i[0]]:[];(t=n.formulaCalculator.getCalcResults(r,o)).error&&(e="Formula_is_invalid")}else e="Formula_is_required";if(e)n.setState({errMessage:e});else{var s={formula:r,operated_columns:t.operated_columns,result_type:t.result.result_type};n.props.onEditFormulaConfirm(s)}}else n.props.onEditFormulaCancel()},n.toggle=function(){n.props.onEditFormulaCancel()},n.onSetFormula=function(e,t,a,r,i){var o,s=n.state.formula,l=s.substring(0,a),c=s.substring(r),u=e.name,d=e.syntax,p=e.operator;switch(t){case pt.FORMULA_TYPE.COLUMN:o="{".concat(u,"}");break;case pt.FORMULA_TYPE.CONSTANTS:o=d;break;case pt.FORMULA_TYPE.OPERATORS:o=" ".concat(p," ");break;default:o="".concat(u,"(")}n.setState({formula:l+o+c},(function(){var e=l.length+o.length;i(e)}))},n.formulaCalculator=new pt.FormulaCalculator({table:e.table}),n.state={formula:e.formula||"",errMessage:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.table;return h.a.createElement(_r,{isOpen:!0,autoFocus:!1,toggle:this.toggle,className:"edit-formula-dialog"},h.a.createElement(xr,{toggle:this.toggle},t("Edit_Formula")),h.a.createElement(kr,{className:"edit-formula-container"},h.a.createElement(Cv,{columnFormula:this.state.formula,columns:n.columns,onFormulaChange:this.handleChange,onSetFormula:this.onSetFormula}),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},t(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.props.onEditFormulaCancel},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},t("Submit"))))}}]),t}(p.Component)),zv=Object(I.d)("dtable")(Wv),qv=function(e){var t=e.info.display_name;if("object"===typeof t){var n=window.dtable.lang;t=t[n=n.toLowerCase()]||t.en}return t},Kv=function(){var e=navigator.platform;return"Mac68K"==e||"MacPPC"==e||"Macintosh"==e||"MacIntel"==e},Xv=Kv()?"\u2318":"CTRL",Jv=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).toggle=function(){n.props.onHideConfirmCustomizeColumnTypeDialog()},n.handleSubmit=function(){n.props.onConfirmConvertColumnType(),n.props.onHideConfirmCustomizeColumnTypeDialog()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},e("Are_you_sure_you_want_to_convert")),h.a.createElement(kr,null,h.a.createElement("p",null,e("Converting_to_this_column_type_may_clear_some_cell")),h.a.createElement("p",{className:"keyboard-shortcut"},h.a.createElement(I.b,{i18nKey:"conversion_short_cuts_tips"},"If the conversion causes a problem, you can press",h.a.createElement("kbd",null,{controlKey:Xv}),h.a.createElement("kbd",null,"Z"),"to undo."))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},e("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},e("Convert"))))}}]),t}(h.a.Component),Zv=Object(I.d)("dtable")(Jv),$v={LEFT:"Left",RIGHT:"Right"},Qv=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getCurrentView=function(e){var t=e.selectedTable,n=e.selectedViewIdx;return t.views[n]},n.toggle=function(e){e.preventDefault(),e.stopPropagation();var t=n.props,a=t.column,r=t.scrollLeft,i=a.left>r?a.left-r:e.clientX;n.props.onDropDownToggle(),window.isMobile&&!n.state.isMenuShow&&n.showActionSheet(),n.state.isMenuShow&&n.setState({isSubMenuShow:!1}),n.setState({isMenuShow:!n.state.isMenuShow,top:143,left:i})},n.onRenameToggle=function(){n.setState({isRenameDialogShow:!n.state.isRenameDialogShow})},n.onRenameColumnCancel=function(){n.setState({isRenameDialogShow:!n.state.isRenameDialogShow})},n.onRenameColumnConfirm=function(e){var t=n.props.column;n.props.onRenameColumn(t,e),n.onRenameColumnCancel()},n.onDeleteColumn=function(){n.props.onDeleteColumn({column:n.props.column})},n.onHideColumn=function(e){var t=n.view.is_locked;if(window.isMobile&&t)e.stopPropagation();else{var a=n.props.column;n.props.onHideColumn(a.key)}},n.toggleTheadSelectOptionDialog=function(){n.setState({isShowTheadSelectOptionDialog:!n.state.isShowTheadSelectOptionDialog})},n.getMenuStyle=function(){var e=n.props,t=e.isGroupView,a=e.groupOffsetLeft;if(n.props.column&&n.props.column.frozen)return{transform:"none"};var r=n.state,i=r.top,o=r.left;return t&&(o+=a),{top:i+10,left:o,transform:"none"}},n.toggleEditColumnDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({isShowEditColumnDialog:!n.state.isShowEditColumnDialog,editColumnMode:e})},n.hideSubmenu=function(){n.setState({isSubMenuShow:!1})},n.showSubmenu=function(){n.setState({isSubMenuShow:!0})},n.toggleColumnFreeze=function(){var e=n.props.column;n.props.toggleColumnFreeze(e,!e.frozen)},n.updateColumnFormat=function(e,t){t&&t.stopPropagation();var a=n.props.column,r=a.data?a.data.format:"";r.indexOf("HH:mm")>-1&&(e+=" HH:mm"),e!==r&&n.props.updateColumnFormat(a,e),n.setState({isMenuShow:!1,isSubMenuShow:!1})},n.showActionSheet=function(){var e=n.props,t=e.t,a=e.column,r=a.type,i="dtable-font dtable-icon-",o="0000"===a.key,s=n.view.is_locked,l=[];switch(r){case pt.CellType.SINGLE_SELECT:l.push(h.a.createElement("div",{className:"my-am-action",onClick:n.toggleTheadSelectOptionDialog},h.a.createElement("i",{className:"".concat(i,"single-election")}),t("Edit_Single_Select")));break;case pt.CellType.MULTIPLE_SELECT:l.push(h.a.createElement("div",{className:"my-am-action",onClick:n.toggleTheadSelectOptionDialog},h.a.createElement("i",{className:"".concat(i,"multiple-selection")}),t("Edit_Multiple_Select")));break;case pt.CellType.NUMBER:l.push(h.a.createElement("div",{className:"my-am-action",onClick:function(){return n.onFormatViewToggle(pt.NUMBER_FORMATS)}},h.a.createElement("i",{className:"".concat(i,"set-up")}),t("Format_Settings")));break;case pt.CellType.DATE:l.push(h.a.createElement("div",{className:"my-am-action",onClick:function(){return n.onFormatViewToggle(pt.DATE_FORMATS)}},h.a.createElement("i",{className:"".concat(i,"set-up")}),t("Format_Settings")));break;case pt.CellType.FORMULA:l.push(h.a.createElement("div",{className:"my-am-action",onClick:n.toggleEditFormulaDialog},h.a.createElement("i",{className:"".concat(i,"formula")}),t("Edit_Formula")))}pt.SORT_COLUMN_OPTIONS.includes(r)&&l.push(h.a.createElement("div",{className:ie()("my-am-action",{disabled:s}),onClick:function(e){return n.modifySort(pt.SORT_TYPE.UP,e)}},h.a.createElement("i",{className:"".concat(i,"ascending-order")}),t("Sort_Ascending")),h.a.createElement("div",{className:ie()("my-am-action",{disabled:s}),onClick:function(e){return n.modifySort(pt.SORT_TYPE.DOWN,e)}},h.a.createElement("i",{className:"".concat(i,"descending-order")}),t("Sort_Descending"))),l.push(h.a.createElement("div",{className:"my-am-action",onClick:n.toggleEditColumnDialog.bind(E(n),"customizeColumnType")},h.a.createElement("i",{className:"".concat(i,"modify-column-type")}),t("Customize_column_type")),h.a.createElement("div",{className:"my-am-action",onClick:n.onRenameToggle},h.a.createElement("i",{className:"".concat(i,"rename")}),t("Rename_Column"))),o||l.push(h.a.createElement("div",{className:ie()("my-am-action",{disabled:s}),onClick:function(e){return n.onHideColumn(e)}},h.a.createElement("i",{className:"".concat(i,"hide")}),t("Hide_Column"))),l.push(h.a.createElement("div",{className:ie()("my-am-action",{disabled:o}),onClick:function(e){return n.onInsertColumn($v.LEFT,e)}},h.a.createElement("i",{className:"".concat(i,"insert-left")}),t("Insert_Left")),h.a.createElement("div",{className:"my-am-action",onClick:function(){return n.onInsertColumn($v.RIGHT)}},h.a.createElement("i",{className:"".concat(i,"insert-right")}),t("Insert_Right"))),o||l.push(h.a.createElement("div",{className:"my-am-action",onClick:n.onDeleteColumn},h.a.createElement("i",{className:"".concat(i,"delete")}),t("Delete_Column"))),Bv.a.showActionSheetWithOptions({options:l,maskClosable:!0},(function(){n.setState({isMenuShow:!1})}))},n.onFormatViewToggle=function(e){n.toggleFormatView(),n.setState({columnFormat:e})},n.toggleFormatView=function(){n.setState({showSetFormatView:!n.state.showSetFormatView})},n.onEditColumn=function(e,t,a){var r=n.state.editColumnMode,i=n.props.column,o=i.key,s=i.name,l=i.type,c=i.data,u={type:t,data:a,name:e.trim()};if(t!==l||e!==s||n.isColumnDataChanged(l,c,a)){if("customizeColumnType"===r&&pt.CONVERSION_DATA_RETENTION_MAP[t][pt.CONVERSION_DATA_RETENTION_STATUS.ALL].indexOf(i.type)<0)return void n.setState({isShowConfirmCustomizeColumnTypeDialog:!0,newColumn:u},(function(){n.toggleEditColumnDialog()}));n.props.modifyColumnType(o,u)}n.toggleEditColumnDialog()},n.toggleEditFormulaDialog=function(){n.setState({isShowEditFormulaDialog:!0})},n.onEditFormulaConfirm=function(e){var t=n.props.column;n.props.onEditFormulaConfirm(t,e),n.setState({isShowEditFormulaDialog:!1})},n.onEditFormulaCancel=function(){n.setState({isShowEditFormulaDialog:!1})},n.isColumnDataChanged=function(e,t,n){return(e===pt.CellType.NUMBER||e===pt.CellType.DATE)&&t.format!==n.format},n.onConfirmConvertColumnType=function(){var e=n.state.newColumn;n.props.modifyColumnType(n.props.column.key,e)},n.onHideConfirmCustomizeColumnTypeDialog=function(){n.setState({isShowConfirmCustomizeColumnTypeDialog:!1,newColumn:null})},n.renderFormat=function(e,t){var a,r=n.state,i=r.isSubMenuShow,o=r.top,s=r.left,l=n.props,c=l.column,u=l.isGroupView,d=t&&c.data&&c.data.format.indexOf("HH:mm")>-1;u&&(s+=12);var p={top:o+12,left:s+189,transform:"none"};return h.a.createElement(De,{className:"header-dropdown w-100",isOpen:i,direction:"right"},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":n.state.isMenuShow,className:"dropdown-item grid-header-dropdown-item ".concat(i?"grid-header-dropdown-item-hightlight":""),onMouseOver:n.showSubmenu,disabled:!0,caret:!0},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-set-up"}),h.a.createElement("span",{className:"item-text"},n.props.t("Format_Settings"))),h.a.createElement(st,{style:p,className:"position-fixed o-auto"},e.map((function(e,r){return a=d?"".concat(e.type," HH:mm"):e.type,h.a.createElement(dt,{className:"grid-header-dropdown-item",toggle:!1,key:r,onClick:function(t){return n.updateColumnFormat(e.type,t)}},t?h.a.createElement("span",null,n.props.t("".concat(e.name))+" (".concat(Object(pt.getDateDisplayString)(n.todayDate,a),")")):h.a.createElement("span",null,n.props.t("".concat(e.name))))}))))},n.modifySort=function(e,t){if(n.view.is_locked&&window.isMobile)t.stopPropagation();else{var a=n.view.sorts,r=n.props,i=r.column,o=r.addSort,s=r.updateSort,l=r.onSortComponentToggle,c=i.key,u=a.find((function(e){return e.column_key===c})),d={column_key:c,sort_type:e};if(u){if(u.sort_type===e)return void l();s(d,a.indexOf(u),!0)}else o(d,!0)}},n.onInsertColumn=function(e,t){var a=n.props,r=a.selectedTable,i=a.column,o=a.onInsertColumn,s=r.columns,l=i.key;if(window.isMobile&&"0000"===l&&e===$v.LEFT)t.stopPropagation();else{var c=s.findIndex((function(e){return e.key===l}));e===$v.LEFT&&c--,o(c)}},n.state={isMenuShow:!1,isRenameDialogShow:!1,isShowTheadSelectOptionDialog:!1,isSubMenuShow:!1,isShowEditColumnDialog:!1,top:0,left:0,showSetFormatView:!1,columnFormat:null,isShowEditFormulaDialog:!1,editColumnMode:"",isShowConfirmCustomizeColumnTypeDialog:!1},n.todayDate=To(),n.view=n.getCurrentView(e),n}return S(t,e),_(t,[{key:"componentWillUpdate",value:function(e,t){!this.state.isSubMenuShow&&t.isSubMenuShow&&(this.todayDate=To()),this.props.selectedViewIdx===e.selectedViewIdx&&this.props.selectedTableIdx===e.selectedTableIdx||(this.view=this.getCurrentView(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.column,r=t.selectedTable,i=t.tables,o=this.getMenuStyle(),s="0000"===a.key,l=this.view.is_locked;return h.a.createElement(p.Fragment,null,h.a.createElement(De,{className:"dtable-dropdown-menu",isOpen:!window.isMobile&&this.state.isMenuShow,toggle:this.toggle},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isMenuShow},h.a.createElement("i",{className:"toggle-icon small dtable-font dtable-icon-drop-down"})),h.a.createElement(st,{style:o,className:"position-fixed"},a.type===pt.CellType.SINGLE_SELECT&&h.a.createElement(dt,{onClick:this.toggleTheadSelectOptionDialog},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-single-election"}),h.a.createElement("span",{className:"item-text"},n("Edit_Single_Select"))),a.type===pt.CellType.MULTIPLE_SELECT&&h.a.createElement(dt,{onClick:this.toggleTheadSelectOptionDialog},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-multiple-selection"}),h.a.createElement("span",{className:"item-text"},n("Edit_Multiple_Select"))),a.type===pt.CellType.FORMULA&&h.a.createElement(dt,{onClick:this.toggleEditFormulaDialog},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-formula"}),h.a.createElement("span",{className:"item-text"},n("Edit_Formula"))),a.type===pt.CellType.NUMBER&&this.renderFormat(pt.NUMBER_FORMATS,!1),a.type===pt.CellType.DATE&&this.renderFormat(pt.DATE_FORMATS,!0),pt.SORT_COLUMN_OPTIONS.includes(a.type)&&h.a.createElement(p.Fragment,null,h.a.createElement(dt,{disabled:l,onClick:function(){return e.modifySort(pt.SORT_TYPE.UP)},onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-ascending-order"}),h.a.createElement("span",{className:"item-text"},n("Sort_Ascending"))),h.a.createElement(dt,{disabled:l,onClick:function(){return e.modifySort(pt.SORT_TYPE.DOWN)},onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-descending-order"}),h.a.createElement("span",{className:"item-text"},n("Sort_Descending")))),pt.SUPPORT_CONVERSION_COLUMN_TYPES.includes(a.type)&&h.a.createElement(dt,{onClick:this.toggleEditColumnDialog.bind(this,"customizeColumnType"),onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-modify-column-type"}),h.a.createElement("span",{className:"item-text"},n("Customize_column_type"))),h.a.createElement(dt,{onClick:this.onRenameToggle,onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-rename"}),h.a.createElement("span",{className:"item-text"},n("Rename_Column"))),!s&&h.a.createElement(dt,{disabled:l,onClick:this.onHideColumn,onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-hide"}),h.a.createElement("span",{className:"item-text"},n("Hide_Column"))),h.a.createElement(dt,{disabled:s,onClick:function(){return e.onInsertColumn($v.LEFT)},onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-insert-left"}),h.a.createElement("span",{className:"item-text"},n("Insert_Left"))),h.a.createElement(dt,{onClick:function(){return e.onInsertColumn($v.RIGHT)},onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-insert-right"}),h.a.createElement("span",{className:"item-text"},n("Insert_Right"))),!s&&h.a.createElement(dt,{onClick:this.onDeleteColumn,onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete"}),h.a.createElement("span",{className:"item-text"},n("Delete_Column"))),s&&this.props.showFreezeColumn()&&!window.isMobile&&h.a.createElement(dt,{onClick:this.toggleColumnFreeze,onMouseEnter:this.hideSubmenu,className:"grid-header-dropdown-item",disabled:this.props.isHeaderLocked},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon".concat(a.frozen?"-cancel":"","-freeze")}),h.a.createElement("span",{className:"item-text"},a.frozen?n("Unfreeze_Column"):n("Freeze_Column"))))),this.state.isRenameDialogShow&&h.a.createElement(Dm,null,h.a.createElement(Lv,{columnName:a.name,onRenameColumnCancel:this.onRenameColumnCancel,onRenameColumnConfirm:this.onRenameColumnConfirm})),this.state.isShowTheadSelectOptionDialog&&h.a.createElement(Dm,null,h.a.createElement(Hv,{toggle:this.toggleTheadSelectOptionDialog,options:a.data&&a.data.options,column:a})),this.state.showSetFormatView&&h.a.createElement(Gv,{column:a,t:n,columnFormat:this.state.columnFormat,toggleFormatView:this.toggleFormatView,updateColumnFormat:this.updateColumnFormat}),this.state.isShowEditColumnDialog&&h.a.createElement(Dm,null,h.a.createElement(Ov,{oldColumn:a,editColumnMode:this.state.editColumnMode,onEditColumnCancel:this.toggleEditColumnDialog,onEditColumn:this.onEditColumn,selectedTable:this.props.selectedTable,tables:i})),this.state.isShowEditFormulaDialog&&h.a.createElement(Dm,null,h.a.createElement(zv,{table:r,formula:a.data&&a.data.formula,onEditFormulaConfirm:this.onEditFormulaConfirm,onEditFormulaCancel:this.onEditFormulaCancel})),this.state.isShowConfirmCustomizeColumnTypeDialog&&h.a.createElement(Zv,{onConfirmConvertColumnType:this.onConfirmConvertColumnType,onHideConfirmCustomizeColumnTypeDialog:this.onHideConfirmCustomizeColumnTypeDialog}))}}]),t}(h.a.Component),ey=Object(I.d)("dtable")(Qv),ty=new function e(){var t=this;v(this,e),this.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},this.uniqueId=function(){return Math.random().toString(36).substring(7)},this.handleShowEvent=function(e){for(var n in t.callbacks)t.hasOwnProp(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)t.hasOwnProp(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var a=t.uniqueId();return t.callbacks[a]={show:e,hide:n},a},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},Boolean("undefined"!==typeof window&&window.document&&window.document.createElement)&&(window.addEventListener(Wg,this.handleShowEvent),window.addEventListener(zg,this.handleHideEvent))},ny=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id&&!n.state.isVisible){var t=e.detail.position,a=t.x,r=t.y;n.setState({isVisible:!0,x:a,y:r}),n.registerHandlers(),n.callIfExists(n.props.onShowMenu,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1}),n.callIfExists(n.props.onHideMenu,e))},n.callIfExists=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"===typeof e&&e.apply(void 0,n)},n.handleOutsideClick=function(e){n.menu&&!n.menu.contains(e.target)&&Xg()},n.handleMouseLeave=function(e){e.preventDefault(),n.props.hideOnLeave&&Xg()},n.handleContextMenu=function(e){n.handleHide(e)},n.handleKeyNavigation=function(e){!1!==n.state.isVisible&&(e.preventDefault(),n.hideMenu(e))},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||Xg()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={top:t,left:e};if(!n.menu)return a;var r=window,i=r.innerWidth,o=r.innerHeight,s=n.menu.getBoundingClientRect();return t+s.height>o&&(a.top-=s.height),e+s.width>i&&(a.left-=s.width),a.top<0&&(a.top=s.height<o?(o-s.height)/2:0),a.left<0&&(a.left=s.width<i?(i-s.width)/2:0),a},n.onItemMouseDown=function(e,t){Xg(),e.stopPropagation(),n.props.onMenuItemClick(e,t.value)},n.state={x:0,y:0,isVisible:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.listenId=ty.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isVisible){var t=window.requestAnimationFrame||setTimeout;t((function(){var n=e.state,a=n.x,r=n.y,i=e.getMenuPosition(a,r),o=i.top,s=i.left;t((function(){e.menu&&(e.menu.style.top="".concat(o,"px"),e.menu.style.left="".concat(s,"px"),e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")}))}))}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&ty.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this;if(!this.state.isVisible)return null;var t=this.props,n=t.menuList,a=t.t;return h.a.createElement("div",{role:"menu",className:"dropdown-menu context-dropdown-menu",style:{position:"fixed",opacity:0,pointerEvents:"none",display:"block"},ref:function(t){e.menu=t}},n.map((function(t,n){return h.a.createElement("button",{key:n,className:"react-contextmenu-item dropdown-item",onMouseDown:function(n){return e.onItemMouseDown(n,t)}},a(t.value))})))}}]),t}(h.a.Component),ay=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onMultiRowsDelete=function(e,t){var a=n.props.selectedIds;a&&a.length>0?n.props.onSelectRowsDelete():n.props.onSelectCellsInRowsDelete(t)},n.onMenuItemClick=function(e,t){if(t){var a=n.props,r=a.idx,i=a.rowIdx,o=a.selectedRange,s={rowIdx:i,idx:r,groupIdx:a.groupIdx};switch(t){case"Insert_Row_Above":n.props.onRowInsert(e,s,"insert_above");break;case"Insert_Row_Below":case"Insert_Row":n.props.onRowInsert(e,s,"insert_below");break;case"Delete_Row":n.props.onRowDelete(e,s);break;case"Delete_Rows":n.onMultiRowsDelete(e,o);break;case"Duplicate_Row":n.props.onRowDuplicate(e,s);break;case"Unselect_Rows":n.props.onUnselectRows();break;case"Clear_Selected":n.props.onClearSelected();break;case"Copy_Selected":n.props.onCopySelected();break;case"Comment_Row":n.props.onShowCommentList(e,s);break;default:return}}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.selectedIds,a=e.selectedRange,r=e.haveSort,i=e.t,o=e.isSelectRows,s=[];return a?(o&&s.push({value:"Delete_Rows"}),s.push({value:"Clear_Selected"},{value:"Copy_Selected"})):n.length>1?s.push({value:"Delete_Rows"},{value:"Unselect_Rows"}):(r?s.push({value:"Insert_Row"}):s.push({value:"Insert_Row_Above"},{value:"Insert_Row_Below"},{value:"Comment_Row"}),s.push({value:"Delete_Row"},{value:"Duplicate_Row"})),h.a.createElement(ny,{id:t,onMenuItemClick:this.onMenuItemClick,menuList:s,t:i})}}]),t}(h.a.Component),ry=Object(I.d)("dtable")(ay),iy=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).setSummarysRef=function(e){n.summary=e},n.getNewSummaries=function(e,t){var a=[],r=n.props,i=r.table,o=r.isGroupView,s=r.rowGetter,l=r.groupRowGetter,c=r.formulaRows,u=n.getSelectedCellsCount(t);if(e&&e.length>0)a=e.map((function(e){return pt.TableUtils.getRowById(i,e)}));else if(u){var d=t.topLeft,p=t.bottomRight,h=d.groupIdx;if(o)for(var f=d.rowIdx;f<=p.rowIdx;f++)a.push(l({groupIdx:h,rowIdx:f}));else for(var m=d.rowIdx;m<=p.rowIdx;m++)a.push(s(m))}return pt.Views.getSummaries(i,a,c)},n.getSummaryItems=function(){var e=n.props,t=e.selectedViewIdx,a=e.selectedRow,r=e.selectedRange,i=e.table,o=e.columns,s=e.t,l=n.getSelectedCellsCount(r),c=i.views[t].summaries;(a.length>0||l>1)&&(c=n.getNewSummaries(a,r));var u=r.topLeft,d=r.bottomRight,p=80;return{summaryItems:o.map((function(e,t){var n,a=e.width,r=e.key,i=e.data?e.data.format:"number";if(p+=a,(t>=u.idx-1&&t<d.idx||0===l||1===l)&&un(e)){var o=dn(c[r],"sum",i);n=h.a.createElement("div",{className:"summary-content"},h.a.createElement("span",{className:"summary-item-title"},s("Sum")," "),h.a.createElement("span",null,o))}return h.a.createElement("div",{className:"summary-item",style:{width:a},key:t},n)})),totalWidth:p}},n.getSelectedCellsCount=function(e){var t=e.topLeft,n=e.bottomRight,a=(n.idx-t.idx+1)*(n.rowIdx-t.rowIdx+1);return-1===t.rowIdx?0:a},n.setSummaryScrollLeft=function(e){var t=n.refs.summaryScrollRef,a=e.scrollLeft;t.scrollLeft=a},n.getRecord=function(){var e=n.props,t=e.rowsCount,a=e.selectedRow,r=e.selectedRange,i=e.t,o=a.length,s=n.getSelectedCellsCount(r),l="".concat(t," ").concat(i(t>1?"records":"record"));return 0!==o?l="".concat(o," ").concat(i(o>1?"records_selected":"record_selected")):s>1&&(l="".concat(s," ").concat(i("cells_selected"))),l},n.state={totalWidth:0},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.isGroupView,n=e.groupOffsetLeft,a=this.getSummaryItems(),r=a.summaryItems,i=a.totalWidth,o=80;return t&&(o+=n),h.a.createElement("div",{ref:this.setSummarysRef,className:"summarys",onClick:this.onSummaryClick},h.a.createElement("div",{className:"rows-record",style:{width:o}},h.a.createElement("span",null,this.getRecord())),h.a.createElement("div",{className:"summarys-pane"},h.a.createElement("div",{className:"summarys-scroll",onScroll:this.onScroll,ref:"summaryScrollRef"},h.a.createElement("div",{style:{width:i+240}},r))))}}]),t}(p.Component),oy=Object(I.d)("dtable")(Pr(iy)),sy=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleAvatarTooltip=function(){n.setState({showAvatarTooltip:!n.state.showAvatarTooltip})},n.state={showAvatarTooltip:!1},n.participantID="participant-avatar-",n}return S(t,e),_(t,[{key:"componentWillMount",value:function(){this.participantID=this.participantID+this.props.index+Math.floor(1e3*Math.random())}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.index;return h.a.createElement("span",{className:"participant-avatar"},h.a.createElement("img",{src:t.avatar_url,className:"avatar",id:this.participantID,alt:"avatar",key:n}),h.a.createElement(Yn,{toggle:this.toggleAvatarTooltip,delay:{show:0,hide:0},target:this.participantID,placement:"bottom",isOpen:this.state.showAvatarTooltip},t.name))}}]),t}(h.a.Component),ly=(n(1120),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick)},n.handleOutsideClick=function(e){if(!n.participantsRef.contains(e.target)){if(n.unregisterHandlers(),"add-participants"===e.target.className||"add-participants"===e.target.parentNode.className)return;n.props.closeParticipantSelect()}},n.getFilteredParticipants=function(){var e=window.app.state.collaborators,t=n.state.searchVal;return t=t.toLowerCase(),e.filter((function(e){return e.name.toString().toLowerCase().indexOf(t)>-1}))},n.removeParticipant=function(e){var t=n.state.participantList,a=t.slice(0),r=t.findIndex((function(t){return t.email===e.email}));a.splice(r,1),n.props.updateParticipants(a),n.setState({participantList:a})},n.onChangeSearch=function(e){var t=n.state.searchVal;t!==e.target.value&&(t=e.target.value,n.setState({searchVal:t}))},n.onSelectParticipans=function(e){var t=n.state.participantList,a=(t=t.slice(0)).findIndex((function(t){return t.email===e.email}));a>-1?t.splice(a,1):t.push(e),n.props.updateParticipants(t),n.setState({participantList:t})},n.renderMenuContent=function(){var e=n.props.t,t=n.state.participantList,a=n.getFilteredParticipants();return a.length>0?a.map((function(e,a){var r=t.findIndex((function(t){return t.email===e.email}));return h.a.createElement("div",{key:a,className:"dropdown-item participant-item",onClick:n.onSelectParticipans.bind(E(n),e)},h.a.createElement("div",{className:"participant-container"},h.a.createElement("div",{className:"participant"},h.a.createElement("img",{className:"participant-avatar",alt:e.name,src:e.avatar_url}),h.a.createElement("span",{className:"participant-name"},e.name)),h.a.createElement("div",{className:"participant-check-icon"},r>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},e("No_collaborators_available"))},n.state={participantList:e.participantList||[],searchVal:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.participantsRef.offsetHeight;this.participantsRef.style.top="".concat(10-e,"px"),this.registerHandlers()}},{key:"componentDidUpdate",value:function(){var e=this.participantsRef.offsetHeight;this.participantsRef.style.top="".concat(10-e,"px")}},{key:"componentWillUnmount",value:function(){this.unregisterHandlers()}},{key:"renderParticipantList",value:function(){var e=this,t=window.app.state.collaborators.filter((function(t){return e.state.participantList.find((function(e){return e.email===t.email}))}));if(0===t.length)return null;var n=t.map((function(t,n){return h.a.createElement("div",{key:"participant-".concat(n),className:"participant"},h.a.createElement("span",{className:"participant-avatar-container"},h.a.createElement("img",{className:"participant-avatar m-0",alt:t.name,src:t.avatar_url})),h.a.createElement("span",{className:"participant-name"},t.name),h.a.createElement("span",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:e.removeParticipant.bind(e,t)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))))}));return h.a.createElement("div",{className:"editor-list-delete"},n)}},{key:"render",value:function(){var e=this,t=this.props.t,n=h.a.createElement("div",{className:"dropdown-menu participants-editor-list show m-0 p-0",ref:function(t){return e.participantsRef=t}},this.renderParticipantList(),h.a.createElement("div",{className:"search-participants"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:t("Find_a_collaborator"),value:this.state.searchVal,onChange:this.onChangeSearch})),h.a.createElement("div",{className:"participants-container"},this.renderMenuContent()));return h.a.createElement("div",{ref:function(t){return e.outerRef=t}},h.a.createElement(wr,{placement:"top",isOpen:!0,target:"participant-popover",fade:!1,hideArrow:!0},n))}}]),t}(p.Component)),cy=Object(I.d)("dtable")(ly),uy=(n(1121),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).closeParticipantSelect=function(){n.setState({showParticipantSelect:!1})},n.toggleParticipantSelect=function(){n.setState({showParticipantSelect:!n.state.showParticipantSelect})},n.tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={showParticipantSelect:!1,tooltipOpen:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.participants,n=e.showIconTip,a=e.t;return h.a.createElement("div",{className:"participants mb-2 position-relative",id:"participant-popover"},t.map((function(e,t){return h.a.createElement(sy,{item:e,index:t,key:t})})),h.a.createElement("span",{className:"add-participants",onClick:this.toggleParticipantSelect,id:"add-participant-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-add"})),n&&h.a.createElement(Yn,{toggle:this.tooltipToggle,delay:{show:0,hide:0},target:"add-participant-icon",placement:"bottom",isOpen:this.state.tooltipOpen},a("Add_participants")),this.state.showParticipantSelect&&h.a.createElement(cy,{participantList:t,updateParticipants:this.props.updateParticipants,closeParticipantSelect:this.closeParticipantSelect}))}}]),t}(h.a.Component)),dy=Object(I.d)("dtable")(uy),py=n(444),hy=n(284),fy=n(645),my=n(646),gy=n(647),vy=n(653),yy=n(656),_y=n(73),by=n(664),wy=n(672),Ey=n(475),Ty=n(673).default;var xy=py().use(hy,{commonmark:!0}).use(my).use(fy).use(gy,{allowDangerousHTML:!0}).use(yy).use(vy).use((function(e){var t=_y(e,this.data("settings")),n=Ty(Ey,{attributes:{input:["type"],li:["className"],code:["className"]},tagNames:["input","code"]});this.Compiler=function(e){var a=wy(e,n);return by(a,t)}})),Cy=(py().use(hy,{commonmark:!0}).use(fy),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleDropDownMenu=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.toggleEditComment=function(){n.setState({isEditCommentShow:!n.state.isEditCommentShow})},n.updateComment=function(e){var t=n.state.newComment;n.props.item.comment!==t&&n.props.editComment(e.target.id,t),n.toggleEditComment()},n.handleCommentChange=function(e){n.setState({newComment:e.target.value})},n.convertComment=function(e){xy.process(e).then((function(e){var t=String(e),a=n.props,r=a.isScrollBottom,i=a.onScrollBottom;n.setState({commentContent:t}),r&&i()}))},n.renderInfo=function(e){var t=n.props.collaboratorList,a=Array.isArray(t)&&t.find((function(t){return e.author===t.email}));return h.a.createElement(p.Fragment,null,h.a.createElement("img",{className:"avatar",src:a.avatar_url,alt:""}),h.a.createElement("div",{className:"reviewer-info"},h.a.createElement("div",{className:"reviewer-name ellipsis"},a.name),h.a.createElement("div",{className:"review-time"},n.props.time)))},n.onCommentClick=function(e){if("A"===e.target.nodeName){var t=e.target.previousSibling;t&&3===t.nodeType&&"@"===t.nodeValue.slice(-1)?e.preventDefault():e.target.setAttribute("target","_blank")}},n.state={dropdownOpen:!1,newComment:n.props.item.comment,isEditCommentShow:!1,commentContent:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.convertComment(this.props.item.comment)}},{key:"componentWillReceiveProps",value:function(e){e.item.comment!==this.props.item.comment&&this.convertComment(e.item.comment)}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.t,r=window.dtable.username;if(this.state.isEditCommentShow)return h.a.createElement("div",{className:"dtable-comment-item",id:n.id},h.a.createElement("div",{className:"dtable-comment-info"},this.renderInfo(n)),h.a.createElement("div",{className:"dtable-edit-comment"},h.a.createElement("textarea",{className:"edit-comment-input",value:this.state.newComment,onChange:this.handleCommentChange,clos:"100",rows:"3",warp:"virtual"}),h.a.createElement("div",{className:"d-flex justify-content-end"},h.a.createElement(Ve,{className:"comment-btn mr-2",color:"secondary",size:"sm",onClick:this.toggleEditComment}," ",a("Cancel"))," ",h.a.createElement(Ve,{className:"comment-btn",color:"primary",size:"sm",onClick:this.updateComment,id:n.id},a("Update")))));var i=n.author===r||!n.resolved;return h.a.createElement("div",{className:"dtable-comment-item ".concat(n.resolved?"dtable-comment-item-resolved":""),id:n.id},h.a.createElement("div",{className:"dtable-comment-info"},this.renderInfo(n),i&&h.a.createElement(De,{isOpen:this.state.dropdownOpen,size:"sm",className:"dtable-comment-dropdown",toggle:this.toggleDropDownMenu},h.a.createElement(ze,{className:"dtable-comment-dropdown-btn"},h.a.createElement("i",{className:"dtable-font dtable-icon-more-level"})),h.a.createElement(st,{className:"comment-dropdown-list"},n.author===r&&h.a.createElement(dt,{onClick:this.toggleEditComment,className:"edit-comment comment-dropdown-item",id:n.id},h.a.createElement("span",{className:"dtable-font dtable-icon-rename mr-2"}),h.a.createElement("span",null,a("Edit"))),!n.resolved&&h.a.createElement(dt,{onClick:function(t){e.props.resolveComment(t,n.id)},className:"dtable-comment-resolved comment-dropdown-item"},h.a.createElement("span",{className:"dtable-font dtable-icon-mark mr-2"}),h.a.createElement("span",null,a("Mark_as_resolved"))),n.author===r&&h.a.createElement(dt,{onClick:function(t){e.props.deleteComment(t,n.id)},className:"delete-comment comment-dropdown-item"},h.a.createElement("span",{className:"dtable-font dtable-icon-delete mr-2"}),h.a.createElement("span",null,a("Delete")))))),h.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.commentContent},className:"dtable-comment-content",onClick:function(t){return e.onCommentClick(t)}}))}}]),t}(p.PureComponent)),Sy=Object(I.d)("dtable")(Cy),ky=n(53),Oy=n.n(ky),My=n(173),Ly=n.n(My),Dy=n(116),Ry=n.n(Dy),Ny=n(514),Iy=n.n(Ny),Ay=n(515),Py=n.n(Ay),Yy=n(91),Fy=n.n(Yy),jy=n(721),Uy=n.n(jy),Hy=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},By="__id__",Vy="__display__",Gy=function(e,t){Oy()("id"===t||"display"===t,'Second arg must be either "id" or "display", got: "'.concat(t,'"'));var n=e.indexOf(Vy),a=e.indexOf(By);return n<0&&(n=null),a<0&&(a=null),Oy()(null!==n||null!==a,"The markup '".concat(e,"' does not contain either of the placeholders '__id__' or '__display__'")),null!==n&&null!==a?"id"===t&&a<=n||"display"===t&&n<=a?0:1:0},Wy=function(e){var t=/^\/(.+)\/(\w+)?$/;return new RegExp(e.map((function(e){var n=Qo(t.exec(e.toString()),3),a=n[1],r=n[2];return Oy()(!r,"RegExp flags are not supported. Change /".concat(a,"/").concat(r," into /").concat(a,"/")),"(".concat(a,")")})).join("|"),"g")},zy=function(e){var t=0;return e.indexOf("__id__")>=0&&t++,e.indexOf("__display__")>=0&&t++,t},qy=function(){},Ky=function(e,t,n){for(var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qy,i=Wy(t.map((function(e){return e.regex}))),o=2,s=t.map((function(e){var t=e.markup,n=o;return o+=zy(t)+1,n})),l=0,c=0;null!==(a=i.exec(e));){var u=s.find((function(e){return!!a[e]})),d=s.indexOf(u),p=t[d],h=p.markup,f=p.displayTransform,m=u+Gy(h,"id"),g=u+Gy(h,"display"),v=a[m],y=f(v,a[g]),_=e.substring(l,a.index);r(_,l,c),c+=_.length,n(a[0],a.index,c,v,y,d,l),c+=y.length,l=i.lastIndex}l<e.length&&r(e.substring(l),l,c)},Xy=function(e,t){var n="";return Ky(e,t,(function(e,t,a,r,i){n+=i}),(function(e){n+=e})),n},Jy=function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START";if("number"!==typeof n)return n;var i=function(e,t,r){void 0===a&&r+e.length>=n&&(a=t+n-r)},o=function(e,t,i,o,s,l,c){void 0===a&&i+s.length>n&&(a="NULL"===r?null:t+("END"===r?e.length:0))};return Ky(e,t,o,i),void 0===a?e.length:a},Zy=function(e,t,n,a){return e.substring(0,t)+a+e.substring(n)},$y=function(e,t,n,a){var r=n.selectionStartBefore,i=n.selectionEndBefore,o=n.selectionEndAfter,s=Xy(e,a),l=s.length-t.length;"undefined"===r&&(r=o+l),"undefined"===i&&(i=r),r===i&&i===o&&s.length===t.length&&(r-=1);var c=t.slice(r,o),u=Math.min(r,o),d=i;r===o&&(d=Math.max(i,r+l));var p=Jy(e,a,u,"START"),h=Jy(e,a,d,"END"),f=Jy(e,a,u,"NULL"),m=Jy(e,a,d,"NULL"),g=null===f||null===m,v=Zy(e,p,h,c);if(!g){var y=Xy(v,a);if(y!==t){for(u=0;t[u]===y[u];)u++;c=t.slice(u,o),d=s.lastIndexOf(t.substring(o)),p=Jy(e,a,u,"START"),h=Jy(e,a,d,"END"),v=Zy(e,p,h,c)}}return v},Qy=function(e,t,n){var a=n,r=!1;if(Ky(e,t,(function(e,t,i,o,s,l,c){i<=n&&i+s.length>n&&(a=i,r=!0)})),r)return a},e_=function(e,t){var n=[];return Ky(e,t,(function(e,t,a,r,i,o,s){n.push({id:r,display:i,childIndex:o,index:t,plainTextIndex:a})})),n},t_=function(e){return Object.values(e).reduce((function(e,t){return e+t.results.length}),0)},n_=function(e,t){var n=e_(e,t),a=n[n.length-1];return a?a.plainTextIndex+a.display.length:0},a_=function(e){var t=Hy(e),n=e[e.indexOf(Vy)+Vy.length],a=e[e.indexOf(Vy)+Vy.length];return new RegExp(t.replace(Vy,"([^".concat(Hy(n||""),"]+?)")).replace(By,"([^".concat(Hy(a||""),"]+?)")))},r_=function(e){return p.Children.toArray(e).map((function(e){var t=e.props,n=t.markup,a=t.regex,r=t.displayTransform;return{markup:n,regex:a?i_(a,n):a_(n),displayTransform:r||function(e,t){return t||e}}}))},i_=function(e,t){var n=new RegExp(e.toString()+"|").exec("").length-1,a=zy(t);return Oy()(n===a,"Number of capturing groups in RegExp ".concat(e.toString()," (").concat(n,") does not match the number of placeholders in the markup '").concat(t,"' (").concat(a,")")),e},o_=function(e,t,n){return e.replace(By,t).replace(Vy,n)},s_=[{base:"A",letters:/(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g},{base:"AA",letters:/(&#42802;|[\uA732])/g},{base:"AE",letters:/(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g},{base:"AO",letters:/(&#42804;|[\uA734])/g},{base:"AU",letters:/(&#42806;|[\uA736])/g},{base:"AV",letters:/(&#42808;|&#42810;|[\uA738\uA73A])/g},{base:"AY",letters:/(&#42812;|[\uA73C])/g},{base:"B",letters:/(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g},{base:"C",letters:/(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g},{base:"D",letters:/(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g},{base:"DZ",letters:/(&#497;|&#452;|[\u01F1\u01C4])/g},{base:"Dz",letters:/(&#498;|&#453;|[\u01F2\u01C5])/g},{base:"E",letters:/(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g},{base:"F",letters:/(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g},{base:"G",letters:/(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g},{base:"H",letters:/(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g},{base:"I",letters:/(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g},{base:"J",letters:/(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g},{base:"K",letters:/(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g},{base:"L",letters:/(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g},{base:"LJ",letters:/(&#455;|[\u01C7])/g},{base:"Lj",letters:/(&#456;|[\u01C8])/g},{base:"M",letters:/(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g},{base:"N",letters:/(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g},{base:"NJ",letters:/(&#458;|[\u01CA])/g},{base:"Nj",letters:/(&#459;|[\u01CB])/g},{base:"O",letters:/(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g},{base:"OE",letters:/(&#338;|[\u0152])/g},{base:"OI",letters:/(&#418;|[\u01A2])/g},{base:"OO",letters:/(&#42830;|[\uA74E])/g},{base:"OU",letters:/(&#546;|[\u0222])/g},{base:"P",letters:/(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g},{base:"Q",letters:/(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g},{base:"R",letters:/(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g},{base:"S",letters:/(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g},{base:"T",letters:/(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g},{base:"TH",letters:/(&#222;|[\u00DE])/g},{base:"TZ",letters:/(&#42792;|[\uA728])/g},{base:"U",letters:/(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g},{base:"V",letters:/(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g},{base:"VY",letters:/(&#42848;|[\uA760])/g},{base:"W",letters:/(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g},{base:"X",letters:/(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g},{base:"Y",letters:/(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g},{base:"Z",letters:/(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g},{base:"a",letters:/(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g},{base:"aa",letters:/(&#42803;|[\uA733])/g},{base:"ae",letters:/(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g},{base:"ao",letters:/(&#42805;|[\uA735])/g},{base:"au",letters:/(&#42807;|[\uA737])/g},{base:"av",letters:/(&#42809;|&#42811;|[\uA739\uA73B])/g},{base:"ay",letters:/(&#42813;|[\uA73D])/g},{base:"b",letters:/(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g},{base:"c",letters:/(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g},{base:"d",letters:/(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g},{base:"dz",letters:/(&#499;|&#454;|[\u01F3\u01C6])/g},{base:"e",letters:/(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g},{base:"f",letters:/(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g},{base:"g",letters:/(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g},{base:"h",letters:/(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g},{base:"hv",letters:/(&#405;|[\u0195])/g},{base:"i",letters:/(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g},{base:"ij",letters:/(&#307;|[\u0133])/g},{base:"j",letters:/(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g},{base:"k",letters:/(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g},{base:"l",letters:/(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g},{base:"lj",letters:/(&#457;|[\u01C9])/g},{base:"m",letters:/(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g},{base:"n",letters:/(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g},{base:"nj",letters:/(&#460;|[\u01CC])/g},{base:"o",letters:/(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g},{base:"oe",letters:/(&#339;|[\u0153])/g},{base:"oi",letters:/(&#419;|[\u01A3])/g},{base:"ou",letters:/(&#547;|[\u0223])/g},{base:"oo",letters:/(&#42831;|[\uA74F])/g},{base:"p",letters:/(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g},{base:"q",letters:/(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g},{base:"r",letters:/(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g},{base:"s",letters:/(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g},{base:"ss",letters:/(&#223;|[\u00DF])/g},{base:"t",letters:/(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g},{base:"th",letters:/(&#254;|[\u00FE])/g},{base:"tz",letters:/(&#42793;|[\uA729])/g},{base:"u",letters:/(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g},{base:"v",letters:/(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g},{base:"vy",letters:/(&#42849;|[\uA761])/g},{base:"w",letters:/(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g},{base:"x",letters:/(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g},{base:"y",letters:/(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g},{base:"z",letters:/(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g}],l_=function(e){return function(e){var t=e;return s_.forEach((function(e){t=t.replace(e.letters,e.base)})),t}(e).toLowerCase()},c_=function(e,t,n){return n?l_(e).indexOf(l_(t)):e.toLowerCase().indexOf(t.toLowerCase())};function u_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u_(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p_=function(e){function t(){var e;return v(this,t),(e=T(this,x(t).apply(this,arguments))).state={lastPosition:{}},e}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.notifyCaretPosition()}},{key:"componentDidUpdate",value:function(){this.notifyCaretPosition()}},{key:"notifyCaretPosition",value:function(){if(this.caretRef){var e={left:this.caretRef.offsetLeft,top:this.caretRef.offsetTop},t=this.state.lastPosition;Ry()(t,e)||(this.setState({lastPosition:e}),this.props.onCaretPositionChange(e))}}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.selection,r=n.value,i=n.style,o=n.inputStyle,s=n.children,l=r_(s);a.start===a.end&&(e=Jy(r,l,a.start,"START"));var c=[],u={},d=c,p=0;return Ky(r,l,(function(e,n,a,r,i,o,s){var l=function(e,t){return e.hasOwnProperty(t)?e[t]++:e[t]=0,t+"_"+e[t]}(u,r);d.push(t.getMentionComponentForMatch(r,i,o,l))}),(function(n,a,r){if(Iy()(e)&&e>=a&&e<=a+n.length){var i=e-a;d.push(t.renderSubstring(n.substring(0,i),p)),d=[t.renderSubstring(n.substring(i),p)]}else d.push(t.renderSubstring(n,p));p++})),d.push(" "),d!==c&&c.push(this.renderHighlighterCaret(d)),h.a.createElement("div",H({},i,{style:d_({},o,{},i.style)}),c)}},{key:"renderSubstring",value:function(e,t){return h.a.createElement("span",H({},this.props.style("substring"),{key:t}),e)}},{key:"getMentionComponentForMatch",value:function(e,t,n,a){var r={id:e,display:t,key:a},i=p.Children.toArray(this.props.children)[n];return h.a.cloneElement(i,r)}},{key:"renderHighlighterCaret",value:function(e){var t=this;return h.a.createElement("span",H({},this.props.style("caret"),{ref:function(e){t.caretRef=e},key:"caret"}),e)}}]),t}(p.Component);D(p_,"propTypes",{selection:z.a.shape({start:z.a.number,end:z.a.number}).isRequired,value:z.a.string.isRequired,onCaretPositionChange:z.a.func.isRequired,inputStyle:z.a.object,children:z.a.oneOfType([z.a.element,z.a.arrayOf(z.a.element)]).isRequired}),D(p_,"defaultProps",{value:"",inputStyle:{}});var h_=Object(My.defaultStyle)({position:"relative",width:"inherit",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},(function(e){return{"&singleLine":e.singleLine}}))(p_),f_=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=Py()(this.props,"style",Fy()(t.propTypes));return h.a.createElement("li",H({},e,this.props.style),this.renderContent())}},{key:"renderContent",value:function(){var e=this.props,t=e.query,n=e.renderSuggestion,a=e.suggestion,r=e.index,i=e.focused,o=this.getDisplay(),s=this.renderHighlightedDisplay(o,t);return n?n(a,t,s,r,i):s}},{key:"getDisplay",value:function(){var e=this.props.suggestion;if(e instanceof String)return e;var t=e.id,n=e.display;return void 0!==t&&n?n:t}},{key:"renderHighlightedDisplay",value:function(e){var t=this.props,n=t.ignoreAccents,a=t.query,r=t.style,i=c_(e,a,n);return-1===i?h.a.createElement("span",r("display"),e):h.a.createElement("span",r("display"),e.substring(0,i),h.a.createElement("b",r("highlight"),e.substring(i,i+a.length)),e.substring(i+a.length))}}]),t}(p.Component);D(f_,"propTypes",{id:z.a.oneOfType([z.a.string,z.a.number]).isRequired,query:z.a.string.isRequired,index:z.a.number.isRequired,ignoreAccents:z.a.bool,suggestion:z.a.oneOfType([z.a.string,z.a.shape({id:z.a.oneOfType([z.a.string,z.a.number]).isRequired,display:z.a.string})]).isRequired,renderSuggestion:z.a.func,focused:z.a.bool});var m_=Object(My.defaultStyle)({cursor:"pointer"},(function(e){return{"&focused":e.focused}}))(f_);var g_=Ly()((function(e){var t=e.style,n=t("spinner");return h.a.createElement("div",t,h.a.createElement("div",n,h.a.createElement("div",n(["element","element1"])),h.a.createElement("div",n(["element","element2"])),h.a.createElement("div",n(["element","element3"])),h.a.createElement("div",n(["element","element4"])),h.a.createElement("div",n(["element","element5"]))))}));function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var y_=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"componentDidUpdate",value:function(){if(this.suggestionsRef&&!(this.suggestionsRef.offsetHeight>=this.suggestionsRef.scrollHeight)&&this.props.scrollFocusedIntoView){var e=this.suggestionsRef.scrollTop,t=this.suggestionsRef.children[this.props.focusIndex].getBoundingClientRect(),n=t.top,a=t.bottom,r=this.suggestionsRef.getBoundingClientRect().top;a=a-r+e,(n=n-r+e)<e?this.suggestionsRef.scrollTop=n:a>this.suggestionsRef.offsetHeight&&(this.suggestionsRef.scrollTop=a-this.suggestionsRef.offsetHeight)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,a=t.isLoading,r=t.style,i=t.onMouseDown;return 0!==t_(n)||a?h.a.createElement("div",H({},r,{onMouseDown:i}),h.a.createElement("ul",H({ref:function(t){e.suggestionsRef=t}},r("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null}},{key:"renderSuggestions",value:function(){var e=this;return Object.values(this.props.suggestions).reduce((function(t,n){var a=n.results,r=n.queryInfo;return[].concat(N(t),N(a.map((function(n,a){return e.renderSuggestion(n,r,t.length+a)}))))}),[])}},{key:"renderSuggestion",value:function(e,t,n){var a=this,r=this.getID(e),i=n===this.props.focusIndex,o=t.childIndex,s=t.query,l=p.Children.toArray(this.props.children)[o].props.renderSuggestion,c=this.props.ignoreAccents;return h.a.createElement(m_,{style:this.props.style("item"),key:"".concat(o,"-").concat(r),id:r,query:s,index:n,ignoreAccents:c,renderSuggestion:l,suggestion:e,focused:i,onClick:function(){return a.select(e,t)},onMouseEnter:function(){return a.handleMouseEnter(n)}})}},{key:"getID",value:function(e){return e instanceof String?e:e.id}},{key:"renderLoadingIndicator",value:function(){if(this.props.isLoading)return h.a.createElement(g_,{style:this.props.style("loadingIndicator")})}},{key:"handleMouseEnter",value:function(e,t){this.props.onMouseEnter&&this.props.onMouseEnter(e)}},{key:"select",value:function(e,t){this.props.onSelect(e,t)}}]),t}(p.Component);D(y_,"propTypes",{suggestions:z.a.object.isRequired,focusIndex:z.a.number,scrollFocusedIntoView:z.a.bool,isLoading:z.a.bool,onSelect:z.a.func,ignoreAccents:z.a.bool,children:z.a.oneOfType([z.a.element,z.a.arrayOf(z.a.element)]).isRequired}),D(y_,"defaultProps",{suggestions:{},onSelect:function(){return null}});var __=Object(My.defaultStyle)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v_(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100},e.position,{list:{margin:0,padding:0,listStyleType:"none"}})}))(y_);function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b_(n,!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof RegExp)return e;var n=t.allowSpaceInQuery,a=Hy(e);return new RegExp("(?:^|\\s)(".concat(a,"([^").concat(n?"":"\\s").concat(a,"]*))$"))},T_=function(e,t){return e instanceof Array?function(n,a){for(var r=[],i=0,o=e.length;i<o;++i){var s=e[i].display||e[i].id;c_(s,n,t)>=0&&r.push(e[i])}return r}:e},x_={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},C_=!1,S_={singleLine:z.a.bool,allowSpaceInQuery:z.a.bool,EXPERIMENTAL_cutCopyPaste:z.a.bool,allowSuggestionsAboveCursor:z.a.bool,ignoreAccents:z.a.bool,value:z.a.string,onKeyDown:z.a.func,onSelect:z.a.func,onBlur:z.a.func,onChange:z.a.func,suggestionsPortalHost:"undefined"===typeof Element?z.a.any:z.a.PropTypes.instanceOf(Element),inputRef:z.a.oneOfType([z.a.func,z.a.shape({current:"undefined"===typeof Element?z.a.any:z.a.instanceOf(Element)})]),children:z.a.oneOfType([z.a.element,z.a.arrayOf(z.a.element)]).isRequired},k_=function(e){function t(e){var n;return v(this,t),D(E(n=T(this,x(t).call(this,e))),"getInputProps",(function(e){var t=n.props,a=t.readOnly,r=t.disabled,i=t.style;return w_({},Py()(n.props,"style",Fy()(S_)),{},i("input"),{value:n.getPlainText()},!a&&!r&&{onChange:n.handleChange,onSelect:n.handleSelect,onKeyDown:n.handleKeyDown,onBlur:n.handleBlur,onCompositionStart:n.handleCompositionStart,onCompositionEnd:n.handleCompositionEnd,onScroll:n.updateHighlighterScroll})})),D(E(n),"renderControl",(function(){var e=n.props,t=e.singleLine,a=e.style,r=n.getInputProps(!t);return h.a.createElement("div",a("control"),n.renderHighlighter(r.style),t?n.renderInput(r):n.renderTextarea(r))})),D(E(n),"renderInput",(function(e){return h.a.createElement("input",H({type:"text",ref:n.setInputRef},e))})),D(E(n),"renderTextarea",(function(e){return h.a.createElement("textarea",H({ref:n.setInputRef},e))})),D(E(n),"setInputRef",(function(e){n.inputRef=e;var t=n.props.inputRef;"function"===typeof t?t(e):t&&(t.current=e)})),D(E(n),"renderSuggestionsOverlay",(function(){if(!Iy()(n.state.selectionStart))return null;var e=h.a.createElement(__,{style:n.props.style("suggestions"),position:n.state.suggestionsPosition,focusIndex:n.state.focusIndex,scrollFocusedIntoView:n.state.scrollFocusedIntoView,ref:function(e){n.suggestionsRef=e},suggestions:n.state.suggestions,onSelect:n.addMention,onMouseDown:n.handleSuggestionsMouseDown,onMouseEnter:function(e){return n.setState({focusIndex:e,scrollFocusedIntoView:!1})},isLoading:n.isLoading(),ignoreAccents:n.props.ignoreAccents},n.props.children);return n.props.suggestionsPortalHost?m.a.createPortal(e,n.props.suggestionsPortalHost):e})),D(E(n),"renderHighlighter",(function(e){var t=n.state,a=t.selectionStart,r=t.selectionEnd,i=n.props,o=i.singleLine,s=i.children,l=i.value,c=i.style;return h.a.createElement(h_,{ref:function(e){n.highlighterRef=e},style:c("highlighter"),inputStyle:e,value:l,singleLine:o,selection:{start:a,end:r},onCaretPositionChange:function(e){return n.setState({caretPosition:e})}},s)})),D(E(n),"getPlainText",(function(){return Xy(n.props.value||"",r_(n.props.children))})),D(E(n),"executeOnChange",(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var i,o;return n.props.onChange?(i=n.props).onChange.apply(i,[e].concat(a)):n.props.valueLink?(o=n.props.valueLink).requestChange.apply(o,[e.target.value].concat(a)):void 0})),D(E(n),"handleChange",(function(e){if((document.activeElement&&document.activeElement.contentDocument||document).activeElement===e.target){var t=n.props.value||"",a=r_(n.props.children),r=e.target.value,i=$y(t,r,{selectionStartBefore:n.state.selectionStart,selectionEndBefore:n.state.selectionEnd,selectionEndAfter:e.target.selectionEnd},a);r=Xy(i,a);var o=e.target.selectionStart,s=e.target.selectionEnd,l=!1,c=Qy(t,a,o);void 0!==c&&n.state.selectionEnd>c&&(s=o=c,l=!0),n.setState({selectionStart:o,selectionEnd:s,setSelectionAfterMentionChange:l});var u=e_(i,a),d={target:{value:i}};n.executeOnChange(d,i,r,u)}})),D(E(n),"handleSelect",(function(e){if(n.setState({selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd}),!C_){var t=n.inputRef;e.target.selectionStart===e.target.selectionEnd?n.updateMentionsQueries(t.value,e.target.selectionStart):n.clearSuggestions(),n.updateHighlighterScroll(),n.props.onSelect(e)}})),D(E(n),"handleKeyDown",(function(e){var t=t_(n.state.suggestions),a=n.suggestionsRef;if(0!==t&&a)switch(Uy()(x_).indexOf(e.keyCode)>=0&&e.preventDefault(),e.keyCode){case x_.ESC:return void n.clearSuggestions();case x_.DOWN:return void n.shiftFocus(1);case x_.UP:return void n.shiftFocus(-1);case x_.RETURN:case x_.TAB:return void n.selectFocused();default:return}else n.props.onKeyDown(e)})),D(E(n),"shiftFocus",(function(e){var t=t_(n.state.suggestions);n.setState({focusIndex:(t+n.state.focusIndex+e)%t,scrollFocusedIntoView:!0})})),D(E(n),"selectFocused",(function(){var e=n.state,t=e.suggestions,a=e.focusIndex,r=Object.values(t).reduce((function(e,t){var n=t.results,a=t.queryInfo;return[].concat(N(e),N(n.map((function(e){return{result:e,queryInfo:a}}))))}),[])[a],i=r.result,o=r.queryInfo;n.addMention(i,o),n.setState({focusIndex:0})})),D(E(n),"handleBlur",(function(e){var t=n._suggestionsMouseDown;n._suggestionsMouseDown=!1,t||n.setState({selectionStart:null,selectionEnd:null}),window.setTimeout((function(){n.updateHighlighterScroll()}),1),n.props.onBlur(e,t)})),D(E(n),"handleSuggestionsMouseDown",(function(e){n._suggestionsMouseDown=!0})),D(E(n),"updateSuggestionsPosition",(function(){var e=n.state.caretPosition,t=n.props,a=t.suggestionsPortalHost,r=t.allowSuggestionsAboveCursor;if(e&&n.suggestionsRef){var i=m.a.findDOMNode(n.suggestionsRef),o=m.a.findDOMNode(n.highlighterRef),s=o.getBoundingClientRect(),l=O_(o,"font-size"),c={left:s.left+e.left,top:s.top+e.top+l},u=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(i){var d={};if(a){d.position="fixed";var p=c.left,h=c.top;p-=O_(i,"margin-left"),h-=O_(i,"margin-top"),p-=o.scrollLeft,h-=o.scrollTop;var f=Math.max(document.documentElement.clientWidth,window.innerWidth||0);p+i.offsetWidth>f?d.left=Math.max(0,f-i.offsetWidth):d.left=p,r&&h+i.offsetHeight>u&&i.offsetHeight<h-l?d.top=Math.max(0,h-i.offsetHeight-l):d.top=h}else{var g=e.left-o.scrollLeft,v=e.top-o.scrollTop;g+i.offsetWidth>n.containerRef.offsetWidth?d.right=0:d.left=g,r&&c.top-o.scrollTop+i.offsetHeight>u&&i.offsetHeight<s.top-l-o.scrollTop?d.top=v-i.offsetHeight-l:d.top=v}Ry()(d,n.state.suggestionsPosition)||n.setState({suggestionsPosition:d})}}})),D(E(n),"updateHighlighterScroll",(function(){if(n.inputRef&&n.highlighterRef){var e=n.inputRef,t=m.a.findDOMNode(n.highlighterRef);t.scrollLeft=e.scrollLeft,t.scrollTop=e.scrollTop,t.height=e.height}})),D(E(n),"handleCompositionStart",(function(){C_=!0})),D(E(n),"handleCompositionEnd",(function(){C_=!1})),D(E(n),"setSelection",(function(e,t){if(null!==e&&null!==t){var a=n.inputRef;if(a.setSelectionRange)a.setSelectionRange(e,t);else if(a.createTextRange){var r=a.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}}})),D(E(n),"updateMentionsQueries",(function(e,t){n._queryId++,n.suggestions={},n.setState({suggestions:{}});var a=n.props.value||"",r=n.props.children,i=r_(r),o=Jy(a,i,t,"NULL");if(null!==o){var s=n_(a.substring(0,o),i),l=e.substring(s,t);h.a.Children.forEach(r,(function(t,a){if(t){var r=E_(t.props.trigger,n.props),i=l.match(r);if(i){var o=s+l.indexOf(i[1],i.index);n.queryData(i[2],a,o,o+i[1].length,e)}}}))}})),D(E(n),"clearSuggestions",(function(){n._queryId++,n.suggestions={},n.setState({suggestions:{},focusIndex:0})})),D(E(n),"queryData",(function(e,t,a,r,i){var o=n.props,s=o.children,l=o.ignoreAccents,c=p.Children.toArray(s)[t],u=T_(c.props.data,l)(e,n.updateSuggestions.bind(null,n._queryId,t,e,a,r,i));u instanceof Array&&n.updateSuggestions(n._queryId,t,e,a,r,i,u)})),D(E(n),"updateSuggestions",(function(e,t,a,r,i,o,s){if(e===n._queryId){n.suggestions=w_({},n.suggestions,D({},t,{queryInfo:{childIndex:t,query:a,querySequenceStart:r,querySequenceEnd:i,plainTextValue:o},results:s}));var l=n.state.focusIndex,c=t_(n.suggestions);n.setState({suggestions:n.suggestions,focusIndex:l>=c?Math.max(c-1,0):l})}})),D(E(n),"addMention",(function(e,t){var a=e.id,r=e.display,i=t.childIndex,o=t.querySequenceStart,s=t.querySequenceEnd,l=t.plainTextValue,c=n.props.value||"",u=r_(n.props.children),d=p.Children.toArray(n.props.children)[i].props,h=d.markup,f=d.displayTransform,m=d.appendSpaceOnAdd,g=d.onAdd,v=Jy(c,u,o,"START"),y=v+s-o,_=o_(h,a,r);m&&(_+=" ");var b=Zy(c,v,y,_);n.inputRef.focus();var w=f(a,r);m&&(w+=" ");var E=o+w.length;n.setState({selectionStart:E,selectionEnd:E,setSelectionAfterMentionChange:!0});var T={target:{value:b}},x=e_(b,u),C=Zy(l,o,s,w);n.executeOnChange(T,b,C,x),g&&g(a,r),n.clearSuggestions()})),D(E(n),"isLoading",(function(){var e=!1;return h.a.Children.forEach(n.props.children,(function(t){e=e||t&&t.props.isLoading})),e})),D(E(n),"_queryId",0),n.suggestions={},n.handleCopy=n.handleCopy.bind(E(n)),n.handleCut=n.handleCut.bind(E(n)),n.handlePaste=n.handlePaste.bind(E(n)),n.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.props.EXPERIMENTAL_cutCopyPaste&&(document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste)),this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(e,t){t.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"componentWillUnmount",value:function(){this.props.EXPERIMENTAL_cutCopyPaste&&(document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste))}},{key:"render",value:function(){var e=this;return h.a.createElement("div",H({ref:function(t){e.containerRef=t}},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"handlePaste",value:function(e){if(e.target===this.inputRef&&this.supportsClipboardActions(e)){e.preventDefault();var t=this.state,n=t.selectionStart,a=t.selectionEnd,r=this.props,i=r.value,o=r.children,s=r_(o),l=Jy(i,s,n,"START"),c=Jy(i,s,a,"END"),u=e.clipboardData.getData("text/react-mentions"),d=e.clipboardData.getData("text/plain"),p=Zy(i,l,c,u||d).replace(/\r/g,""),h=Xy(p,s),f={target:w_({},e.target,{value:p})};this.executeOnChange(f,p,h,e_(p,s))}}},{key:"saveSelectionToClipboard",value:function(e){var t=this.state,n=t.selectionStart,a=t.selectionEnd,r=this.props,i=r.children,o=r.value,s=r_(i),l=Jy(o,s,n,"START"),c=Jy(o,s,a,"END");e.clipboardData.setData("text/plain",e.target.value.slice(n,a)),e.clipboardData.setData("text/react-mentions",o.slice(l,c))}},{key:"supportsClipboardActions",value:function(e){return!!e.clipboardData}},{key:"handleCopy",value:function(e){e.target===this.inputRef&&this.supportsClipboardActions(e)&&(e.preventDefault(),this.saveSelectionToClipboard(e))}},{key:"handleCut",value:function(e){if(e.target===this.inputRef&&this.supportsClipboardActions(e)){e.preventDefault(),this.saveSelectionToClipboard(e);var t=this.state,n=t.selectionStart,a=t.selectionEnd,r=this.props,i=r.children,o=r.value,s=r_(i),l=Jy(o,s,n,"START"),c=Jy(o,s,a,"END"),u=[o.slice(0,l),o.slice(c)].join(""),d=Xy(u,s),p={target:w_({},e.target,{value:d})};this.executeOnChange(p,u,d,e_(o,s))}}}]),t}(h.a.Component);D(k_,"propTypes",S_),D(k_,"defaultProps",{ignoreAccents:!1,singleLine:!1,allowSuggestionsAboveCursor:!1,onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}});var O_=function(e,t){var n=parseFloat(window.getComputedStyle(e,null).getPropertyValue(t));return isFinite(n)?n:0},M_="undefined"!==typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent),L_=Object(My.defaultStyle)({position:"relative",overflowY:"visible",input:{display:"block",position:"absolute",top:0,left:0,boxSizing:"border-box",backgroundColor:"transparent",width:"inherit",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit"},"&multiLine":{input:w_({width:"100%",height:"100%",bottom:0,overflow:"hidden",resize:"none"},M_?{marginTop:1,marginLeft:-3}:null)}},(function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}}))(k_),D_=Object(My.defaultStyle)({fontWeight:"inherit"})((function(e){var t=e.display,n=e.style;return h.a.createElement("strong",n,t)}));D_.propTypes={onAdd:z.a.func,onRemove:z.a.func,renderSuggestion:z.a.func,trigger:z.a.oneOfType([z.a.string,z.a.instanceOf(RegExp)]),markup:z.a.string,displayTransform:z.a.func,allowSpaceInQuery:z.a.bool,isLoading:z.a.bool},D_.defaultProps={trigger:"@",markup:"@[__display__](__id__)",displayTransform:function(e,t){return t||e},onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};var R_={control:{backgroundColor:"#fff",fontSize:14,fontWeight:"normal",borderRadius:"4px"},highlighter:{overflow:"hidden"},input:{margin:0},"&singleLine":{control:{display:"inline-block",width:130},highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset"}},"&multiLine":{control:{},highlighter:{padding:9},input:{padding:"8px 6px",minHeight:90,height:90,border:"1px solid #e6e6dd",borderBottom:"none",borderRadius:"5px 5px 0 0",overfflowY:"auto","&focused":{backgroundColor:"#cee4e5",outlineOffset:"-2px",outlineColor:"-webkit-focus-ring-color",outlineStyle:"auto",outlineWidth:"5px"}}},suggestions:{list:{backgroundColor:"white",border:"1px solid rgba(0,0,0,0.15)",fontSize:14,maxHeight:200,overflow:"auto",position:"absolute",bottom:14,width:"160px",padding:"5px",borderRadius:"4px",boxShadow:"0 0 5px #ccc"},item:{width:"auto",padding:"4px 10px",overflowX:"auto",height:"30px",borderRadius:"2px","&focused":{backgroundColor:"rgba(0,0,0,0.05)",color:"#000",fontWeight:"400"}}}},N_=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).hidePopover=function(e){n.commentPopoverRef&&e&&!n.commentPopoverRef.contains(e.target)&&n.onHideCollaboratorTip()},n.onHideCollaboratorTip=function(){n.setState({isShowPopover:!1})},n.onHandleCollaboratorTip=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isShowPopover:!n.state.isShowPopover})},n.onChangeInputValue=function(e){var t=" @[".concat(e.name,"](").concat(e.email,")");n.props.onChangeInputValue(t),n.onHideCollaboratorTip()},n.onSubmit=function(){n.props.onSubmit()},n.getCollaboratorContent=function(){var e=n.props.getCollaboratorsList();return h.a.createElement("div",{className:"comment-popover-list",ref:function(e){return n.commentPopoverRef=e}},e.map((function(e,t){return h.a.createElement("div",{key:t,className:"comment-participant-item",onClick:n.onChangeInputValue.bind(E(n),e)},h.a.createElement("div",{className:"comment-participant-container"},h.a.createElement("div",{className:"comment-participant"},h.a.createElement("img",{className:"comment-participant-avatar",alt:e.name,src:e.avatar_url}),h.a.createElement("span",{className:"comment-participant-name"},e.name))))})))},n.state={isShowPopover:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hidePopover)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePopover)}},{key:"render",value:function(){var e=this.props.t;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"comment-input-footer"},h.a.createElement("div",{className:"d-flex justify-content-between comment-footer-container"},h.a.createElement("div",{className:"d-flex align-items-center comment-collaborator-tip",id:"comment-participant-popover",onClick:this.onHandleCollaboratorTip},h.a.createElement("span",null,"@")),h.a.createElement(Ve,{className:"submit-comment",color:"primary",size:"sm",onClick:this.onSubmit},e("Submit")))),h.a.createElement(wr,{placement:"top",isOpen:this.state.isShowPopover,target:"comment-participant-popover",fade:!1,hideArrow:!0},this.getCollaboratorContent()))}}]),t}(h.a.Component),I_=Object(I.d)("dtable")(N_),A_=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleCommentChange=function(e){n.setState({comment:e.target.value})},n.listRowComments=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=e||n.props.rowID;window.app.dtableStore.dtableAPI.listRowComments(r,t,a).then((function(e){n.setState({commentsList:e.data,isLoading:!1})}))},n.addComment=function(){var e=n.props,t=e.rowID,a=e.tableID,r=e.setRowCommentsCount,i=window.app.dtableStore.dtableAPI;n.state.comment.trim()&&(i.createRowComment(a,t,n.state.comment.trim()).then((function(){i.getRowCommentsCount(t).then((function(e){var a=e.data.count;n.calculateListRowComments(t,a,!1),r(a),n.props.listCommentsByDays()}))})),n.setState({comment:"",isFirstLoading:!0}))},n.getCollaboratorsList=function(){var e=window.app.state.collaborators,t=n.props,a=t.table,r=t.expandedRow,i=a.columns,o=[];if(i.forEach((function(e){"collaborator"===e.type&&o.push(e.key)})),0===o.length)return e;var s=[];o.forEach((function(e){var t;r[e]&&r[e].length>0&&(t=s).push.apply(t,N(r[e]))})),s=Array.from(new Set(s));var l=[];return s.length>0?e.forEach((function(e){s.find((function(t){return t===e.email}))?l.unshift(e):l.push(e)})):l=e,l},n.getParticipants=function(e){var t=e||n.props.expandedRow;if(t._participants&&Array.isArray(t._participants)){var a=t._participants;n.setState({participants:a})}},n.resolveComment=function(e,t){e.persist();var a=n.props.rowID;window.app.dtableStore.dtableAPI.updateRowComments(t,null,1).then((function(){n.calculateListRowComments(a)}))},n.deleteComment=function(e,t){var a=n.props.rowID;window.app.dtableStore.dtableAPI.deleteRowComments(t).then((function(){n.calculateListRowComments(a),n.props.listCommentsByDays()}))},n.editComment=function(e,t){var a=n.props.rowID;window.app.dtableStore.dtableAPI.updateRowComments(e,t,null).then((function(){n.calculateListRowComments(a)}))},n.calculateListRowComments=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n.listRowComments(e,1,t),a&&n.props.getRowCommentsCount()},n.setParticipantList=function(e,t){n.setState({participants:e}),n.props.onChangeParticipants(e,t)},n.listRepoRelatedUsers=function(){var e=n.getCollaboratorsList(),t=e.map((function(e){return{id:e.email,display:e.name,avatar_url:e.avatar_url}}));n.setState({collaboratorList:e,relatedUsers:t})},n.updateParticipants=function(e){var t=n.props.expandedRow;n.setParticipantList(e,t)},n.addParticipant=function(e){var t=window.app.state.collaborators,a=n.state.participants,r=n.props.expandedRow,i=a.slice(0);if(!i.some((function(t){return t.email===e}))){var o=t.find((function(t){return t.email===e}));i.push(o),n.setParticipantList(i,r),n.setState({participants:i})}},n.onSubmit=function(){n.addComment(),n.onCommit()},n.onCommit=function(){var e=window.dtable.username,t=n.state,a=t.collaboratorList,r=t.participants,i=n.props.expandedRow,o=r.slice(0),s=a.find((function(t){return t.email===e}));i._participants&&Array.isArray(i._participants)?i._participants.some((function(t){return t.email===e}))||(o.push(s),n.setParticipantList(o,i)):(o.push(s),n.setParticipantList(o,i))},n.onScrollBottom=function(){n.commentList.scrollTop=n.commentListContainer.offsetHeight-n.commentList.offsetHeight,n.setState({isFirstLoading:!1})},n.onRowCommentScroll=function(){var e=n.props,t=e.rowID,a=e.rowCommentsCount,r=n.state.commentsList;if(n.commentList.offsetHeight+n.commentList.scrollTop+1>=n.commentListContainer.offsetHeight+32){var i=r.length;if(i<a){var o=i%10===0?Math.floor(i/10)+1:Math.floor(i/10);window.app.dtableStore.dtableAPI.listRowComments(t,o,10).then((function(e){var t=r.slice(0);t.push.apply(t,N(e.data)),n.setState({commentsList:t,isFirstLoading:!1})}))}}},n.onKeyDown=function(e){P()("enter",e)?(e.preventDefault(),n.onSubmit()):P()("mod+z",e)&&(e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.setState({comment:""}))},n.onChangeInputValue=function(e){var t=n.state.comment,a="".concat(t).concat(e);n.setState({comment:a})},n.renderUserSuggestion=function(e,t,n,a,r){return h.a.createElement("div",{className:"user ".concat(r?"focused":"")},h.a.createElement("span",{className:"mr-2 completion-participant-avatar"},h.a.createElement("img",{src:e.avatar_url,width:"16",alt:""})),h.a.createElement("span",null,e.display))},n.state={commentsList:[],comment:"",isLoading:!0,participants:[],relatedUsers:null,isFirstLoading:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.listRowComments(),this.getParticipants(),this.listRepoRelatedUsers(),this.setState({isFirstLoading:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.rowID!==e.rowID&&(this.listRowComments(e.rowID),this.getParticipants(e.expandedRow),this.setState({isFirstLoading:!0}))}},{key:"componentWillUnmount",value:function(){this.commentList=null,this.commentListContainer=null}},{key:"render",value:function(){var e=this,t=this.state,n=t.collaboratorList,a=t.commentsList,r=t.isLoading,i=t.participants,o=t.isFirstLoading,s=this.props.t;return r?h.a.createElement(Dh,null):h.a.createElement("div",{className:"dtable-comment detail-comments h-100 w-100"},h.a.createElement("div",{className:"dtable-comment-list",onScroll:this.onRowCommentScroll,ref:function(t){return e.commentList=t}},h.a.createElement("div",{ref:function(t){return e.commentListContainer=t}},a.length>0&&a.map((function(t,r){var i=new Date(t.created_at).getTime(),s=ft()(i).format("YYYY-MM-DD HH:mm");return h.a.createElement(Sy,{key:t.id,item:t,time:s,deleteComment:e.deleteComment,resolveComment:e.resolveComment,editComment:e.editComment,collaboratorList:n,onScrollBottom:e.onScrollBottom,isScrollBottom:r===a.length-1&&o})}))),0===a.length&&h.a.createElement("div",{className:"comment-vacant"},s("No_comment_yet"))),h.a.createElement("div",{className:"dtable-comment-footer"},i&&h.a.createElement(dy,{participants:i,showIconTip:!0,updateParticipants:this.updateParticipants}),h.a.createElement(L_,{value:this.state.comment,onChange:this.handleCommentChange,placeholder:s("Add_a_comment"),style:R_,onKeyDown:this.onKeyDown,inputRef:function(t){return e.commentInput=t}},h.a.createElement(D_,{trigger:"@",displayTransform:function(e,t){return"@".concat(t)},data:this.state.relatedUsers,renderSuggestion:this.renderUserSuggestion,onAdd:function(t,n){e.addParticipant(t)},appendSpaceOnAdd:!0})),h.a.createElement(I_,{onChangeInputValue:this.onChangeInputValue,onSubmit:this.onSubmit,getCollaboratorsList:this.getCollaboratorsList})))}}]),t}(h.a.Component),P_=Object(I.d)("dtable")(A_),Y_=(n(1228),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleToolItem=function(e){n.setState({activeItem:e})},n.getTableMessage=function(e){var t=n.props,a=t.table,r=t.isGroupView,i=t.operateRow,o=t.rowsCount;e&&(a=e.table,r=e.isGroupView,i=e.operateRow,o=e.rowsCount);var s,l,c=a._id;if(i){var u=i,d=u.rowIdx,p=u.groupIdx;if(-1===d)return;s=r?n.props.groupRowGetter({groupIdx:p,rowIdx:d})._id:n.props.rowGetter(d)._id}else s=o>0?n.props.rowGetter(o-1)._id:"";l=a.id_row_map[s],n.setState({rowID:s,tableID:c,expandedRow:l},(function(){n.getRowCommentsCount()}))},n.onChangeParticipants=function(e,t){var a=n.state.rowID,r={};r._participants=e,n.props.onCommit(a,r,t),t._participants=e},n.getRowCommentsCount=function(){var e=n.state.rowID;window.app.dtableStore.dtableAPI.getRowCommentsCount(e).then((function(e){n.setState({rowCommentsCount:e.data.count})}))},n.setRowCommentsCount=function(e){n.setState({rowCommentsCount:e})},n.state={activeItem:"comment",rowCommentsCount:0,tableID:null,rowID:null,expandedRow:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.getTableMessage()}},{key:"componentWillReceiveProps",value:function(e){if(this.props.table._id===e.table._id){var t=this.props.operateRow.groupIdx===e.operateRow.groupIdx;this.props.operateRow.rowIdx===e.operateRow.rowIdx&&t||this.getTableMessage(e)}else this.props.onHideCommentList()}},{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.activeItem,a=t.rowCommentsCount,r=t.tableID,i=t.rowID,o=t.expandedRow,s=o?o["0000"]:null;return h.a.createElement("div",{className:"comment-container"},h.a.createElement("div",{className:"comment-header"},h.a.createElement("div",{className:"comment-header-title"},h.a.createElement("div",{className:"text-truncate"},s),h.a.createElement("span",{onClick:this.props.onHideCommentList,className:"comment-close"},h.a.createElement("i",{className:"dtable-font dtable-icon-x"}))),h.a.createElement("div",{className:"comment-header-tool"},h.a.createElement("div",{className:"comment-tool-item ".concat("comment"===n?"comment-item-active":""),onClick:this.toggleToolItem.bind(this,"comment")},e("Comment"),"(",a,")"))),o&&h.a.createElement(P_,{tableID:r,rowID:i,expandedRow:o,rowCommentsCount:a,getRowCommentsCount:this.getRowCommentsCount,setRowCommentsCount:this.setRowCommentsCount,onChangeParticipants:this.onChangeParticipants,table:this.props.table,listCommentsByDays:this.props.listCommentsByDays}))}}]),t}(h.a.Component)),F_=Object(I.d)("dtable")(Y_),j_=mv.Container,U_=mv.RowActionsCell,H_=(0,mv.DropTargetRowContainer)(ig),B_=function(e){function t(e,n){var a;return v(this,t),(a=T(this,x(t).call(this,e,n))).setFilterRow=function(e){a.setState({filteredRowsNumber:e?a.state.filteredRowsNumber+1:0})},a.getRowAt=function(e){if(!(e<0||e>a.props.getRowsSize()))return a.props.table.rows[e]},a.getRowIndex=function(e){var t=a.props,n=t.table,r=t.selectedViewIdx,i=n.views,o=pt.Views.getViewByIndex(i,r);return pt.Views.getRowIndex(o,n,e)},a.onInsertRow=function(e,t,n){var r,i,o,s=a.props,l=s.table,c=s.selectedViewIdx,u=l.views,d=pt.Views.getViewByIndex(u,c);if(t){var p=t.rowIdx,h=t.groupIdx;if(-1===p)return;r=n,i=pt.Views.isGroupView(d)?a.props.groupRowGetter({groupIdx:h,rowIdx:p})._id:a.props.rowGetter(p)._id}else{var f=pt.Views.getRowsLength(d,l);i=f>0?a.props.rowGetter(f-1)._id:"",r="insert_below"}pt.Views.isDefaultView(d)||(o=pt.Views.getRowDataUsedInFilters(d,l,i)),a.props.onInsertRow({row_id:i,row_insert_position:r,row_data:o})},a.onRowDelete=function(e,t){var n,r,i,o=a.props.isGroupView,s=t.rowIdx,l=t.groupIdx;if(-1!==s){if(o?(n=a.props.groupRowGetter({groupIdx:l,rowIdx:s}),r=a.props.groupRowGetter({groupIdx:l,rowIdx:s+1}),i=0===s?null:a.props.groupRowGetter({groupIdx:l,rowIdx:s-1})._id):(n=a.props.rowGetter(s),r=a.props.rowGetter(s+1),i=0===s?null:a.props.rowGetter(s-1)._id),r){var c={};c[r._id]=32,a.setRowAnimation(c)}a.props.onRowDelete(e,qe({},t,{old_row:n,upper_row_id:i}))}},a.onSelectRowsDelete=function(){var e=a.props,t=e.table,n=e.selectedViewIdx,r=a.state.selectedIds,i=t.views[n],o=[],s=[],l=[];if(pt.Views.isGroupView(i)){var c=a.getGroupAdjacentRows(r),u=c.rows,d=c.upperRows,p=c.belowRows;s=d.map((function(e){return e?e._id:null})),l=p,o=N(u)}else for(var h=0;h<r.length;h++){var f=a.getAdjacentRows(r[h]),m=f.row,g=f.upperRow,v=f.belowRow;o.push(m),s.push(g?g._id:null),l.push(v||null)}a.onRowsDelete({selectedIds:r,old_rows:o,invert_above_row_ids:s,below_rows:l})},a.onUnselectRows=function(){a.setState({selectedIds:[]})},a.onSelectCellsInRowsDelete=function(e){for(var t=a.props,n=t.isGroupView,r=t.rowGetter,i=t.groupRowGetter,o=e.topLeft,s=e.bottomRight,l=o.rowIdx,c=o.groupIdx,u=s.rowIdx-l+1,d=[],p=[],h=[],f=[],m=0;m<u;m++){var g=void 0,v=void 0,y=void 0;n?(g=i({groupIdx:c,rowIdx:l+m}),v=i({groupIdx:c,rowIdx:l+m-1}),y=i({groupIdx:c,rowIdx:l+m+1})):(g=r(l+m),v=r(l+m-1),y=r(l+m+1)),d.push(g._id),p.push(g),h.push(v?v._id:null),f.push(y||null)}a.onRowsDelete({selectedIds:d,old_rows:p,invert_above_row_ids:h,below_rows:f})},a.onRowsDelete=function(e){var t=e.selectedIds,n=e.old_rows,r=e.invert_above_row_ids,i=e.below_rows,o=a.props.isGroupView,s=t.length,l={};if(o)for(var c=0;c<s;c++){for(var u=i[i.length-1-c];u&&t.includes(u._id);)u=a.getGroupAdjacentRows([u._id]).belowRows[0];u&&(l[u._id]=l[u._id]?l[u._id]+32:32)}else for(var d=0;d<s;d++){for(var p=i[d];p&&t.includes(p._id);)p=a.getAdjacentRows(p._id).belowRow;p&&(l[p._id]=l[p._id]?l[p._id]+32:32)}a.setRowAnimation(l),a.props.onRowsDelete({selectedIds:t,old_rows:n,invert_above_row_ids:r})},a.setRowAnimation=function(e){a.setState({animateRows:e}),setTimeout((function(){a.setState({animateRows:{}})}),1e3)},a.getAdjacentRows=function(e){var t=a.props,n=t.table,r=t.selectedViewIdx,i=n.views,o=pt.Views.getViewByIndex(i,r);return pt.Views.getAdjacentRows(o,n,e)},a.getGroupAdjacentRows=function(e){var t=a.props,n=t.table,r=t.selectedViewIdx,i=n.views,o=pt.Views.getViewByIndex(i,r);return pt.Views.getGroupAdjacentRows(o,n,e)},a.moveRows=function(e){var t,n,r,i,o=e.rowSource,s=e.rowTarget,l=a.props,c=l.rowKey,u=l.table,d=a.state.selectedIds,p=Bg.getSelectedRowsByKey({rowKey:c,selectedKeys:d,rows:u.rows});if(a.isDraggedRowSelected(p,o)){if(s.data&&d.includes(s.data._id))return;t=p,n=d.map((function(e){var t=a.getAdjacentRows(e).upperRow;return t?t._id:null}))}else{if(o.idx===s.idx)return;t=[o.data],n=0===o.idx?[null]:[a.props.rowGetter(o.idx-1)._id]}s&&!s.data?(r=a.props.rowGetter(0)._id,i="move_above"):(r=s.data._id,i="move_below"),a.handleMoveAnimation(r,t),a.props.moveRows(r,i,t,n)},a.moveGroupRows=function(e){var t,n,r,i,o=e.rowSource,s=e.rowTarget,l=a.props,c=l.table,u=l.selectedViewIdx,d=a.state.selectedIds,p=c.views,h=pt.TableUtils.getRowsByIds(c,d),f=pt.Views.getViewByIndex(p,u);if(a.isDraggedRowSelected(h,o)){if(s.data&&d.includes(s.data._id))return;t=h,n=a.getGroupAdjacentRows(d).upperRows.map((function(e){return e?e._id:null}))}else{if(o.idx===s.idx&&o.groupIdx===s.groupIdx)return;t=[o.data],n=0===o.idx?[null]:[a.props.groupRowGetter({groupIdx:o.groupIdx,rowIdx:o.idx-1})._id]}s&&!s.data?(r=a.props.groupRowGetter({groupIdx:s.groupIdx,rowIdx:0}),i="move_above"):(r=s.data,i="move_below");var m=r._id,g=pt.Views.getGroupModifyRows(f,s.groupIdx,r,t),v=g.oldRowDataList,y=g.updatedRowDataList;a.groupMoveAnimation(m,t),a.props.moveGroupRows(m,i,t,n,y,v)},a.handleMoveAnimation=function(e,t){for(var n={},r=t.map((function(e){return e._id})),i=0;i<t.length;i++){for(var o=a.getAdjacentRows(t[i]._id).belowRow;o&&r.includes(o._id);)o=a.getAdjacentRows(o._id).belowRow;o&&(n[o._id]=n[o._id]?n[o._id]+32:32)}n[t[0]._id]=-32*t.length,a.setRowAnimation(n)},a.groupMoveAnimation=function(e,t){for(var n={},r=t.map((function(e){return e._id})),i=a.getGroupAdjacentRows(r).belowRows,o=0;o<t.length;o++){for(var s=i[i.length-1-1];s&&r.includes(s._id);)s=a.getGroupAdjacentRows([s._id]).belowRows[0];s&&(n[s._id]=n[s._id]?n[s._id]+32:32)}n[t[0]._id]=-32*t.length,a.setRowAnimation(n)},a.selectCell=function(e){a.setState({operateRow:e})},a.onRowsSelected=function(e){a.setState({selectedIds:e.map((function(e){return e.row[a.props.rowKey]})).concat(a.state.selectedIds)})},a.onRowsDeselected=function(e){var t=e.map((function(e){return e.row[a.props.rowKey]}));a.setState({selectedIds:a.state.selectedIds.filter((function(e){return-1===t.indexOf(e)}))})},a.onRowFirstColumnClick=function(e){var t=e.rowIdx,n=e.groupIdx,r=a.props.isGroupView,i=(r?a.props.groupRowGetter({groupIdx:n,rowIdx:t}):a.props.rowGetter(t))._id,o=a.state.selectedIds;if(o.length>0)for(var s=a.getRowIndex(o[0]),l=Math.min(t,s);l<Math.max(t,s)+1;l++){var c=(r?a.props.groupRowGetter({groupIdx:n,rowIdx:t}):a.props.rowGetter(t))._id;o.includes(c)||o.unshift(c)}else 0===o.length&&(o=[i]);a.setState({selectedIds:o})},a.onInsertColumn=function(e){a.newColumnIndex=e,a.setState({isEditColumnDialogShow:!0})},a.scrollToColumn=function(){var e=a.props.table.columns,t=window.grid.getScrollLeft(),n=La(e,t),r=Da(e,window.innerWidth,t);window.isMobile?window.canvas.scrollToColumn(a.newColumnIndex+2):(n>=a.newColumnIndex||a.newColumnIndex+1>r)&&window.canvas.scrollToColumn(a.newColumnIndex)},a.onNewColumn=function(e,t,n){a.props.onNewColumn(e,t,n,a.newColumnIndex),a.setState({isEditColumnDialogShow:!1},(function(){a.scrollToColumn()}))},a.onNewColumnCancel=function(){var e=a.props.table;a.newColumnIndex=e&&e.columns?e.columns.length-1:0,a.setState({isEditColumnDialogShow:!1})},a.onRowDuplicate=function(e,t){var n=a.props.isGroupView,r=t.rowIdx,i=t.groupIdx;if(-1!==r){var o=n?a.props.groupRowGetter({groupIdx:i,rowIdx:r})._id:a.props.rowGetter(r)._id;a.props.onRowDuplicate(o)}},a.handleGridRowsUpdated=function(e){var t=e.cellKey,n=e.fromRow,r=e.toRow,i=(e.fromRowId,e.toRowId,e.rowIds,e.updated),o=e.action,s=e.fromRowData;if("CELL_UPDATE"!==o||i[t]!==s[t]||n!==r){var l={};for(var c in i)l[c]=s[c];var u=s._id;a.props.handleGridRowsUpdated(u,i,l)}},a.isDraggedRowSelected=function(e,t){if(e&&e.length>0){var n=a.props.rowKey;return e.filter((function(e){return e[n]===t.data[n]})).length>0}return!1},a.onScroll=function(e){a.summarys.setSummaryScrollLeft(e)},a.onRangeSelectComplete=function(e){a.state.isShiftKeyDown||a.setState({selectedRange:e})},a.selectMultiCells=function(e){a.setState({selectedRange:e})},a.getColumns=function(){var e=a.props,t=e.table,n=e.selectedViewIdx,r=t.views,i=pt.Views.getViewByIndex(r,n);return pt.Views.getColumns(i,t)},a.haveSort=function(){var e=a.props,t=e.table,n=e.selectedViewIdx;return pt.Views.haveSort(t.views[n])},a.onGridKeyDown=function(e){e.keyCode!==Object(A.toKeyCode)("mod+shift")&&(e.keyCode===Object(A.toKeyCode)("mod")&&(a.state.isShiftKeyDown?a.setState({isShiftKeyDown:!1}):a.setState({isModKeyDown:!0})),e.keyCode===Object(A.toKeyCode)("shift")&&(a.state.isModKeyDown?a.setState({isModKeyDown:!1}):a.setState({isShiftKeyDown:!0})),a.props.onGridKeyDown&&a.props.onGridKeyDown(e))},a.onGridKeyUp=function(e){e.keyCode===Object(A.toKeyCode)("shift")&&a.setState({isShiftKeyDown:!1}),e.keyCode===Object(A.toKeyCode)("mod")&&a.setState({isModKeyDown:!1}),a.props.onGridKeyUp&&a.props.onGridKeyUp(e)},a.onShowCommentList=function(e,t){a.setState({isShowCommentList:!0,operateRow:t})},a.onOpenCommentList=function(e){a.setState({isShowCommentList:!0,operateRow:e})},a.onHideCommentList=function(){a.setState({isShowCommentList:!1,operateRow:{}})},a.showFreezeColumn=function(){if(a.grid)return a.grid.state.columnMetrics.totalColumnWidth>window.innerWidth},a.state={isEditColumnDialogShow:!1,selectedIds:[],selectedTableIdx:0,animateRows:{},filteredRowsNumber:0,selectedRange:{topLeft:{idx:-1,rowIdx:-1},bottomRight:{idx:-1,rowIdx:-1}},isShiftKeyDown:!1,isModKeyDown:!1,isShowCommentList:!1,operateRow:{}},a.newColumnIndex=e.table&&e.table.columns?e.table.columns.length-1:0,a}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.unsubscribeAnimateRow=this.props.eventBus.subscribe("set_filter_row",this.setFilterRow),this.unsubscribeComment=this.props.eventBus.subscribe(i.OPEN_COMMENT,this.onOpenCommentList)}},{key:"componentWillUnmount",value:function(){this.unsubscribeAnimateRow(),this.unsubscribeComment()}},{key:"render",value:function(){var e=this,t=this.props,n=t.tables,a=t.table,r=t.selectedViewIdx,i=t.isGroupView,o=t.formulaRows,s=t.selectedTableIdx,l=this.state,c=l.selectedRange,u=l.isShiftKeyDown;if(!a)return"";var d,f,m=this.getColumns(),g=this.props.searchResult,v=i?ha:0,y=a.is_header_locked;return"r"===window.dtable.permission||(d=h.a.createElement(ey,{id:"grid-header-dropdownmenu",tables:n,selectedTable:a,isGroupView:i,isHeaderLocked:y,showFreezeColumn:this.showFreezeColumn,groupOffsetLeft:v,onDeleteColumn:this.props.onDeleteColumn,onRenameColumn:this.props.onRenameColumn,onHideColumn:this.props.onHideColumn,updateColumnFormat:this.props.updateColumnFormat,toggleColumnFreeze:this.props.toggleColumnFreeze,modifyColumnType:this.props.modifyColumnType,onEditFormulaConfirm:this.props.onUpdateFormula,addSort:this.props.addSort,updateSort:this.props.updateSort,selectedTableIdx:s,selectedViewIdx:r,onSortComponentToggle:this.props.onSortComponentToggle,onInsertColumn:this.onInsertColumn}),f=h.a.createElement(ry,{id:"grid-content-contxtmenu",onRowDelete:this.onRowDelete,onRowDuplicate:this.onRowDuplicate,onRowInsert:this.onInsertRow,onSelectRowsDelete:this.onSelectRowsDelete,onSelectCellsInRowsDelete:this.onSelectCellsInRowsDelete,onUnselectRows:this.onUnselectRows,onShowCommentList:this.onShowCommentList,selectedIds:this.state.selectedIds,haveSort:this.haveSort()})),h.a.createElement(p.Fragment,null,h.a.createElement("div",{id:"main"},h.a.createElement(j_,{className:"drag-drop-container",onHeaderDrop:this.props.onHeaderDrop},h.a.createElement(kg,{ref:function(t){return e.grid=t},enableCellSelect:!0,columns:m,isHeaderLocked:y,searchResult:g,rowsCount:this.props.rowsCount,rowGetter:this.props.rowGetter,groupRowGetter:this.props.groupRowGetter,onGridRowsUpdated:this.handleGridRowsUpdated,onPasteGrid:this.props.onPasteGrid,enableRowSelect:!0,rowHeight:32,rowScrollTimeout:200,enableInsertColumn:!0,enableInsertRow:!0,onInsertRow:this.onInsertRow,onInsertColumn:this.onInsertColumn,RowsContainer:Jg,headerDropdownMenu:d,contextMenu:f,onColumnResize:this.props.onColumnResize,rowRenderer:h.a.createElement(H_,null),onRowDrop:this.moveRows,onGroupRowDrop:this.moveGroupRows,rowActionsCell:U_,selectedRange:c,isShiftKeyDown:u,onGridKeyDown:this.onGridKeyDown,onGridKeyUp:this.onGridKeyUp,selectMultiCells:this.selectMultiCells,animateRows:this.state.animateRows,filteredRowsNumber:this.state.filteredRowsNumber,cellRangeSelection:{onStart:this.onRangeSelectStart,onUpdate:this.onRangeSelectUpdate,onComplete:this.onRangeSelectComplete},rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:this.onRowsSelected,onRowsDeselected:this.onRowsDeselected,onRowFirstColumnClick:this.onRowFirstColumnClick,selectBy:{keys:{rowKey:this.props.rowKey,values:this.state.selectedIds}}},onScroll:this.onScroll,table:this.props.table,onRowExpand:this.props.onRowExpand,onEditCell:this.props.onEditCell,isGroupView:i,groups:this.props.groups,foldedGroups:this.props.foldedGroups,groupOffsetLeft:v,modifyHeaderLock:this.props.modifyHeaderLock,onExpandGroupToggle:this.props.onExpandGroupToggle,mobileShowHeader:this.props.mobileShowHeader,formulaRows:o,selectCell:this.selectCell,onFillingDragRows:this.props.onFillingDragRows,commentRowList:this.props.commentRowList,onShowCommentList:this.onShowCommentList,eventBus:this.props.eventBus}))),h.a.createElement("div",{id:"footer"},h.a.createElement(oy,{getInstance:function(t){return e.summarys=t},rowsCount:this.props.rowsCount,selectedRow:this.state.selectedIds,selectedRange:c,columns:m,table:a,rowGetter:this.props.rowGetter,groupRowGetter:this.props.groupRowGetter,selectedViewIdx:r,isGroupView:i,groups:this.props.groups,groupOffsetLeft:v,formulaRows:o})),this.state.isEditColumnDialogShow&&h.a.createElement(Dm,null,h.a.createElement(Ov,{onEditColumnCancel:this.onNewColumnCancel,onEditColumn:this.onNewColumn,selectedTable:a,tables:n})),this.state.isShowCommentList&&h.a.createElement(F_,{table:a,toggleCommentList:this.onShowCommentList,onHideCommentList:this.onHideCommentList,operateRow:this.state.operateRow,isGroupView:i,rowGetter:this.props.rowGetter,groupRowGetter:this.props.groupRowGetter,rowsCount:this.props.rowsCount,selectedViewIdx:this.props.selectedViewIdx,onCommit:this.props.handleGridRowsUpdated,listCommentsByDays:this.props.listCommentsByDays}))}}]),t}(h.a.Component);B_.defaultProps={rowKey:"_id"};var V_=B_,G_=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleChange=function(e){var t=e.target.value;t!==n.state.tableName&&n.setState({tableName:t})},n.toggle=function(){n.props.onNewTableCancel()},n.handleSubmit=function(){var e=n.state.tableName;(e=e.trim())?n.props.onNewTableConfirm(e):n.setState({errMessage:"Name_is_required"})},n.state={tableName:e.tableName,errMessage:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,autoFocus:!1},h.a.createElement(xr,{toggle:this.toggle},t("New_Table")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement(ir,{for:"columnName"},t("Name")),h.a.createElement(Lr,{id:"columnName",value:this.state.tableName,innerRef:function(t){e.newInput=t},onChange:this.handleChange,autoFocus:!0}),h.a.createElement(Lr,{style:{display:"none"}}))),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},t(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},t("Submit"))))}}]),t}(h.a.Component),W_=Object(I.d)("dtable")(G_),z_=function(e){function t(e){return v(this,t),T(this,x(t).call(this,e))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.tabPanes;return h.a.createElement("ul",{className:"tables-nav-tabs"},e)}}]),t}(h.a.Component),q_=Object(sg.DropTarget)("Table",{},(function(e){return{connectDropTarget:e.dropTarget()}}))(z_),K_=Qg(q_),X_=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onRenameTable=function(e){n.props.onTabDropDownHide(),n.props.onRenameTable()},n.onDeleteTable=function(e){n.props.onDeleteTable()},n.onExportTableAsExcel=function(){var e=n.props,t=e.table,a=e.t,r=t.name,i=window.dtable,o=i.server,s=i.workspaceID,l=i.fileName;try{var c="".concat(o,"/api/v2.1/workspace/").concat(s,"/dtable/").concat(encodeURIComponent(l),"/export-excel/?table_name=").concat(encodeURIComponent(r));rm(c)}catch(u){Za.danger(a("Failed_export_table_to_Excel"))}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement("div",{className:"dtable-dropdown-menu dropdown-menu large show",style:this.props.dropdownMenuPosition},h.a.createElement("button",{className:"dropdown-item",onClick:this.onRenameTable},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-rename"}),h.a.createElement("span",{className:"item-text"},e("Rename_Table"))),h.a.createElement("button",{className:"dropdown-item",onClick:this.props.onDuplicateTableDialogToggle},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-copy"}),h.a.createElement("span",{className:"item-text"},e("Duplicate_Table"))),h.a.createElement("button",{className:"dropdown-item",onClick:this.onExportTableAsExcel},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-export"}),h.a.createElement("span",{className:"item-text"},e("Export_Table_to_Excel"))),this.props.tablesCount>1&&h.a.createElement("button",{className:"dropdown-item",onClick:this.onDeleteTable},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete"}),h.a.createElement("span",{className:"item-text"},e("Delete_Table"))))}}]),t}(h.a.Component),J_=Object(I.d)("dtable")(X_),Z_=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleChange=function(e){e.stopPropagation();var t=e.target.value;t!==n.state.tableName&&n.setState({tableName:t})},n.handleKeyDown=function(e){if(13===e.keyCode)return e.preventDefault(),n.handleSubmit(),!1},n.toggle=function(e){n.props.onRenameTableCancel()},n.handleSubmit=function(){var e=n.state.tableName;(e=e.trim())?n.props.onRenameTableConfirm(e):n.setState({errMessage:"Name_is_required"})},n.state={tableName:e.tableName,errMessage:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,autoFocus:!1},h.a.createElement(xr,{toggle:this.toggle},t("Rename_Table")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement(ir,{for:"tableName"},t("Name")),h.a.createElement(Lr,{id:"tableName",autoFocus:!0,value:this.state.tableName,innerRef:function(t){e.newInput=t},onChange:this.handleChange,onKeyDown:this.handleKeyDown}))),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},t(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},t("Submit"))))}}]),t}(h.a.Component),$_=Object(I.d)("dtable")(Z_);n(1229);var Q_=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(e){n.props.onDuplicateTableCancel()},n.handleSubmit=function(){n.props.onDuplicateTableConfirm(n.props.tableId,n.state.isDuplicateRecords)},n.onDuplicateRecordsChange=function(){n.setState({isDuplicateRecords:!n.state.isDuplicateRecords})},n.state={isDuplicateRecords:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,autoFocus:!1},h.a.createElement(xr,{toggle:this.toggle},h.a.createElement("div",{className:"duplicate-table-info"},h.a.createElement("span",{className:"duplicate-table"},e("Duplicate")),h.a.createElement("span",{className:"duplicate-table-name",title:this.props.tableName},this.props.tableName))),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{className:"duplicate-table-container"},h.a.createElement(Cm,null,h.a.createElement("label",{className:"custom-switch",htmlFor:"duplicate-records"},h.a.createElement("input",{type:"checkbox",name:"custom-switch-checkbox",className:"custom-switch-input",checked:this.state.isDuplicateRecords,onChange:this.onDuplicateRecordsChange,id:"duplicate-records"}),h.a.createElement("span",{className:"custom-switch-indicator mr-4"}),h.a.createElement("span",{className:"duplicate-records-name"},e("Duplicate_Records")))))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},e("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},e("Submit"))))}}]),t}(h.a.Component),eb=Object(I.d)("dtable")(Q_),tb={beginDrag:function(e){return{idx:e.tabIndex,data:e.table}},canDrag:function(e,t){return!("r"===window.dtable.permission)},endDrag:function(e,t){var n=t.getItem();if(!t.didDrop())return{tableSource:n,tableTarget:{}}}},nb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onChangeTabActive=function(e,t){"function"===typeof n.props.onChangeTabActive&&n.props.onChangeTabActive(e)},n.onToggleTabDropDown=function(e){var t=n.tabDropDownRef.parentNode.getBoundingClientRect(),a=t.top,r=t.left,i=t.height;n.setState({isTabDropdownShow:!n.state.isTabDropdownShow,tabDropdownMenuStyle:{top:a+i,left:r}})},n.onTabDropDownHide=function(e){n.tabDropDownRef&&e&&!n.tabDropDownRef.contains(e.target)&&n.setState({isTabDropdownShow:!1})},n.onRenameTable=function(){n.setState({isRenameTableDialogShow:!0})},n.onRenameTableCancel=function(){n.setState({isRenameTableDialogShow:!1})},n.onRenameTableConfirm=function(e){n.onRenameTableCancel(),"function"===typeof n.props.onRenameTableConfirm&&n.props.onRenameTableConfirm(e)},n.onDeleteTab=function(){"function"===typeof n.props.onDeleteTab&&n.props.onDeleteTab(),n.setState({isTabDropdownShow:!1})},n.onDuplicateTableDialogToggle=function(){n.setState({isDuplicateTableDialogShow:!0})},n.onDuplicateTableCancel=function(){n.setState({isDuplicateTableDialogShow:!1})},n.onDuplicateTableConfirm=function(e,t){n.onDuplicateTableCancel(),"function"===typeof n.props.onDuplicateTable&&n.props.onDuplicateTable(e,t)},n.state={tabIndex:e.tabIndex,isTabDropdownMenuShow:!1,isRenameTableDialogShow:!1,tabDropdownMenuStyle:{},isDuplicateTableDialogShow:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onTabDropDownHide)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onTabDropDownHide)}},{key:"render",value:function(){var e=this,t=this.props,n=t.connectDragSource,a=t.connectDragPreview,r=t.connectDropTarget,i=t.isDragging,o=t.isOver,s=t.canDrop,l=t.table.name,c="r"===window.dtable.permission;return h.a.createElement("li",{className:ie()("tabs-tab",{"tabs-tab-avtive":this.props.isActiveTab}),onClick:this.onChangeTabActive.bind(this,this.props.tabIndex)},r(a(n(h.a.createElement("div",{className:"tab-content"},h.a.createElement("div",{className:ie()("tab-link",{"tab-can-drop":o&&s},{"tab-link-dragging":i})},h.a.createElement("span",{className:"tab-title"},l),this.props.isActiveTab&&!c?h.a.createElement("span",{className:"tab-dropdown",ref:function(t){return e.tabDropDownRef=t},onClick:this.onToggleTabDropDown},h.a.createElement("i",{className:"dtable-font dtable-icon-drop-down"})):""),this.state.isTabDropdownShow&&!c&&h.a.createElement(Dm,null,h.a.createElement(J_,{dropdownMenuPosition:{top:this.state.tabDropdownMenuStyle.top,left:this.state.tabDropdownMenuStyle.left},table:this.props.table,tablesCount:this.props.tablesCount,onRenameTable:this.onRenameTable,onDeleteTable:this.onDeleteTab,onTabDropDownHide:this.onTabDropDownHide,onDuplicateTableDialogToggle:this.onDuplicateTableDialogToggle})),this.state.isRenameTableDialogShow&&h.a.createElement(Dm,null,h.a.createElement($_,{tableName:this.props.table.name,onRenameTableConfirm:this.onRenameTableConfirm,onRenameTableCancel:this.onRenameTableCancel})),this.state.isDuplicateTableDialogShow&&h.a.createElement(Dm,null,h.a.createElement(eb,{tableName:this.props.table.name,tableId:this.props.table._id,onDuplicateTableConfirm:this.onDuplicateTableConfirm,onDuplicateTableCancel:this.onDuplicateTableCancel})))))))}}]),t}(h.a.Component),ab=Object(sg.DragSource)("Table",tb,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(nb),rb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onRenameView=function(){n.props.onRenameViewDialogToggle()},n.onDeleteView=function(){var e=n.props.view_index;n.props.onDeleteView(e)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement("div",{className:"dtable-dropdown-menu dropdown-menu large show",style:this.props.view_operation_position},h.a.createElement("div",{className:"dropdown-item",onClick:this.onRenameView},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-rename"}),h.a.createElement("span",{className:"item-text"},e("Rename_View"))),1===this.props.tableGridLength&&"table"===this.props.view_type?"":h.a.createElement("div",{className:"dropdown-item",onClick:this.onDeleteView},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete"}),h.a.createElement("span",{className:"item-text"},e("Delete_View"))))}}]),t}(p.Component),ib=Object(I.d)("dtable")(rb),ob=(n(1230),{table:{iconClass:"dtable-icon-main-view"}}),sb={beginDrag:function(e){return{idx:e.view_index,data:e.item}},endDrag:function(e,t){var n=t.getItem();if(!t.didDrop())return{viewSource:n,viewTarget:{}}}},lb={drop:function(e,t){var n=t.getItem(),a=e.view_index;if(a!==n.idx){var r={idx:a,data:e.item};e.moveView(n,r)}}},cb=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}},ub=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}},db=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onSelectView=function(e){n.props.onSelectView(e),window.isMobile&&n.props.hideViewsDropdownmenu()},n.hideViewsDropdownmenu=function(e){n.viewsDropdownmenu&&e&&!n.viewsDropdownmenu.contains(e.target)&&n.props.hideViewsDropdownmenu()},n.moveView=function(e,t){n.props.moveView(e,t)},n.onMoreOperationToggle=function(e,t){t.nativeEvent.stopImmediatePropagation();var a=n.moreOperation.getBoundingClientRect().height;n.setState({isViewOperationDropdownmenuShow:!n.state.isViewOperationDropdownmenuShow,view_operation_index:e,view_operation_position:{top:a}})},n.hideMoreOperationMenu=function(){n.setState({isViewOperationDropdownmenuShow:!1})},n.onDeleteView=function(e){n.props.onDeleteView(e),n.hideMoreOperationMenu()},n.onNewViewDialogToggle=function(){n.props.onNewViewDialogToggle()},n.onRenameViewDialogToggle=function(){n.props.onRenameViewDialogToggle(n.state.view_operation_index),n.hideMoreOperationMenu()},n.showActionSheet=function(e){var t=n.props.t,a=e.item,r=e.view_index,i=e.tableGridLength,o=a.type?a.type:"table",s=[h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"dtable-font dtable-icon-rename"}),t("Rename_View"))];1===i&&"table"===o||s.push(h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"}),t("Delete_View"))),Bv.a.showActionSheetWithOptions({options:s,maskClosable:!0},(function(e){0===e&&n.onRenameViewDialogToggle(),1===e&&(n.onDeleteView(r),n.props.hideViewsDropdownmenu())}))},n.getViewItem=function(e){var t=n.state,a=t.isViewOperationDropdownmenuShow,r=t.view_operation_index,i=e.connectDragSource,o=e.connectDragPreview,s=e.connectDropTarget,l=e.isOver,c=e.canDrop,u=e.selectedViewIdx,d=e.item,p=e.view_index,f=e.tableGridLength,m=d.type?d.type:"table",g=ob[m]?ob[m].iconClass:"",v=d.name,y="r"===window.dtable.permission;return window.isMobile&&a&&p===r&&!y&&n.showActionSheet(e),s(o(h.a.createElement("div",{className:ie()("dropdown-item","view-item","view",{"seleted-view":p===u},{"view-can-drop":l&&c})},h.a.createElement("div",{className:"view-item-main",onClick:e.onSelectView.bind(E(n),p)},!y&&!window.isMobile&&i(h.a.createElement("div",{className:"rdg-drag-view-handle"},h.a.createElement("i",{className:"dtable-font dtable-icon-drag"}))),h.a.createElement("div",{className:"view-content"},h.a.createElement("i",{className:"dtable-font ".concat(g," mr-2")}),h.a.createElement("span",{className:"view-title"},v),p===u&&window.isMobile&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark ml-4"}))),h.a.createElement("div",{className:"more-view-operation",onClick:e.onMoreOperationToggle.bind(E(n),p),ref:function(e){return n.moreOperation=e}},!y&&h.a.createElement("i",{className:"dtable-font dtable-icon-more-level"}),n.state.isViewOperationDropdownmenuShow&&p===n.state.view_operation_index&&!y&&!window.isMobile&&h.a.createElement(ib,{tableGridLength:f,view_index:p,view_type:m,view_operation_position:n.state.view_operation_position,hideMoreOperationMenu:n.hideMoreOperationMenu,onRenameViewDialogToggle:n.onRenameViewDialogToggle,onDeleteView:n.onDeleteView})))))},n.getViewsList=function(e){var t=e.views,a=e.connectDropTarget,r=e.selectedViewIdx,i=t.filter((function(e){return"table"===e.type||!e.type})),o=n.getViewItem,s=Object(sg.DropTarget)("View",lb,ub)(Object(sg.DragSource)("View",sb,cb)(o));return a(h.a.createElement("div",{className:"dropdown-list views-list"},t.map((function(e,t){return h.a.createElement(s,{key:t,tableGridLength:i.length,item:e,view_index:t,selectedViewIdx:r,moveView:n.moveView,onSelectView:n.onSelectView,onMoreOperationToggle:n.onMoreOperationToggle})}))))},n.getDragDropViewList=function(){var e=n.getViewsList,t=Object(sg.DropTarget)("View",{},(function(e){return{connectDropTarget:e.dropTarget()}}))(e);return Qg(t)},n.onOpenChange=function(){n.props.hideViewsDropdownmenu()},n.state={isViewOperationDropdownmenuShow:!1,view_operation_position:{},isRenameViewDialogShow:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideViewsDropdownmenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideViewsDropdownmenu)}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.getDragDropViewList(),a="r"===window.dtable.permission,r=h.a.createElement(p.Fragment,null,h.a.createElement(n,{views:this.props.views,selectedViewIdx:this.props.selectedViewIdx}),!a&&h.a.createElement(Yr,{className:"add-view-btn",callBack:this.onNewViewDialogToggle,footerName:t("Add_a_View")})),i=window.app.state.mobileShowHeader?124:48;return window.isMobile?h.a.createElement(Bv.d,{className:"views-drawer-mobile",style:{minHeight:document.documentElement.clientHeight-i,top:"".concat(i,"px")},enableDragHandle:!0,transitions:!0,contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:42},sidebar:r,open:!0,onOpenChange:this.onOpenChange,position:"top"},h.a.createElement("span",null)):h.a.createElement(Dm,null,h.a.createElement("div",{className:"dropdown-menu views-dropdown-menu show",style:this.props.dropdownMenuPosition,ref:function(t){return e.viewsDropdownmenu=t}},h.a.createElement(n,{views:this.props.views,selectedViewIdx:this.props.selectedViewIdx}),!a&&h.a.createElement(Yr,{className:"add-view-btn",callBack:this.onNewViewDialogToggle,footerName:t("Add_a_View")})))}}]),t}(p.Component),pb=Object(I.d)("dtable")(db),hb=(n(1231),[{name:"Table",iconClass:"dtable-icon-main-view",type:"table"}]),fb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleChange=function(e){var t=n.state.viewName,a=e.target.value;a!==t&&n.setState({viewName:a})},n.onSelectView=function(e){e!==n.state.selectedOptionIdx&&n.setState({selectedOptionIdx:e})},n.handleSubmit=function(){var e=n.state,t=e.viewName,a=e.selectedOptionIdx;if(t=t.trim()){var r={name:t,type:hb[a].type};n.props.addView(r),n.props.hideNewViewDialog()}else n.setState({errMessage:"Name_is_required"})},n.toggle=function(){n.props.hideNewViewDialog()},n.createViewsOptions=function(){return hb.map((function(e,t){return h.a.createElement("div",{key:t,className:ie()("view-item",{"selected-view-item":t===n.state.selectedOptionIdx}),onClick:n.onSelectView.bind(E(n),t)},h.a.createElement("div",{className:"is-selected"},t===n.state.selectedOptionIdx&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"})),h.a.createElement("div",{className:"view-item-content"},h.a.createElement("i",{className:"dtable-font ".concat(e.iconClass)}),h.a.createElement("span",{className:"view-title"},e.name)))}))},n.state={viewName:"",errMessage:"",selectedOptionIdx:0},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},t("New_View")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement(ir,{for:"viewName"},t("Name")),h.a.createElement(Lr,{id:"viewName",value:this.state.viewName,innerRef:function(t){e.newInput=t},onChange:this.handleChange}),h.a.createElement(Lr,{style:{display:"none"}})),h.a.createElement("div",{className:"view-options-list"},this.createViewsOptions())),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},t(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},t("Submit"))))}}]),t}(p.Component),mb=Object(I.d)("dtable")(fb),gb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleChange=function(e){var t=n.state.viewName,a=e.target.value;a!==t&&n.setState({viewName:a})},n.handleKeyDown=function(e){if(13===e.keyCode)return e.preventDefault(),n.handleSubmit(),!1},n.onMobileChange=function(e){e!==n.state.viewName&&n.setState({viewName:e})},n.handleSubmit=function(){var e=n.props.view_index,t=n.state.viewName;(t=t.trim())?(n.props.onRenameView(e,t),n.props.hideRenameViewDialog()):window.isMobile?Bv.k.fail(n.props.t("Name_is_required"),2):n.setState({errMessage:"Name_is_required"})},n.toggle=function(){n.props.hideRenameViewDialog()},n.state={viewName:e.viewName||"",errMessage:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t;return window.isMobile?h.a.createElement("div",{className:"row-expand-view",style:{zIndex:100,top:0,backgroundColor:"#f5f5f5"}},h.a.createElement(Vv,{title:t("Rename_View"),leftName:t("Cancel"),onLeftClick:this.toggle,rightName:t("Submit"),onRightClick:this.handleSubmit}),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{style:{borderBottom:"1px solid #e9e9e9",borderTop:"1px solid #e9e9e9"}},h.a.createElement(Bv.f,{type:"text",value:this.state.viewName,onChange:this.onMobileChange}))):h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,ref:function(t){return e.renameViewDialog=t}},h.a.createElement(xr,{toggle:this.toggle},t("Rename_View")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement(ir,null,t("Name")),h.a.createElement(Lr,{id:"viewName",value:this.state.viewName,innerRef:function(t){e.newInput=t},onChange:this.handleChange,onKeyDown:this.handleKeyDown}))),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},t(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit},t("Submit"))))}}]),t}(p.Component),vb=Object(I.d)("dtable")(gb),yb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onSelectOption=function(e){n.props.onSelectOption(e)},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"option",onClick:this.onSelectOption.bind(this,this.props.value)},this.props.children)}}]),t}(p.Component),_b=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).renderOptGroup=function(){var e=n.props.options;return e&&e.map((function(e,t){return h.a.createElement(yb,{key:t,value:e.value,onSelectOption:n.props.onSelectOption},e.label)}))},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"option-group"},this.renderOptGroup())}}]),t}(p.Component),bb=(n(1232),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onSelectToggle=function(){n.props.isLocked||n.setState({isShowSelectOptions:!n.state.isShowSelectOptions})},n.hideSelect=function(e){n.selector.contains(e.target)||n.setState({isShowSelectOptions:!1})},n.state={isShowSelectOptions:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideSelect)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideSelect)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.value,r=t.options,i=t.placeholder;return h.a.createElement("div",{ref:function(t){return e.selector=t},className:ie()("dtable-select","custom-select",{focus:this.state.isShowSelectOptions},n),onClick:this.onSelectToggle},h.a.createElement("div",{className:"selected-option"},a.label?h.a.createElement("span",{className:"selected-option-show"},a.label):h.a.createElement("span",{className:"select-placeholder"},i),!this.props.isLocked&&h.a.createElement("i",{className:"dtable-font dtable-icon-drop-down"})),this.state.isShowSelectOptions&&h.a.createElement(_b,{options:r,onSelectOption:this.props.onSelectOption}))}}]),t}(p.Component)),wb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).createCollaboratorOptions=function(e,t,n){return t.map((function(t){var a=n.findIndex((function(e){return e===t.email}));return{value:{filterIndex:e,collaborator:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"select-option-name option-collaborator"},h.a.createElement("div",{className:"collaborator-container"},h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:t.name,src:t.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},t.name))),h.a.createElement("div",{className:"collaborator-check-icon"},a>-1&&h.a.createElement("i",{className:"option-edit dtable-font dtable-icon-check-mark"}))))}}))},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.filterIndex,n=e.filterTerm,a=e.collaborators,r=e.placeholder,i=Array.isArray(n)&&n.length>0&&n.map((function(e,t){var n=a.find((function(t){return t.email===e}));return h.a.createElement("div",{key:t,className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:n.name,src:n.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},n.name))})),o=i?{label:h.a.createElement(p.Fragment,null,i)}:{},s=Array.isArray(n)?this.createCollaboratorOptions(t,a,n):[];return h.a.createElement(bb,{className:"selector-collaborator",value:o,onSelectOption:this.props.onSelectCollaborator,options:s,placeholder:r,isLocked:this.props.isLocked})}}]),t}(p.Component),Eb=Object(I.d)("dtable")(wb),Tb=(n(1233),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onPaste=function(e){e.stopPropagation()},n.addFilter=function(){var e=n.props.columns,t=e[0].type,a=pt.FILTER_COLUMN_OPTIONS[t].filterPredicateList[0],r={column_key:e[0].key,filter_predicate:a,filter_term:"",filter_term_modifier:""};if(t===pt.CellType.CHECKBOX)r.filter_term=!1;else if(t===pt.CellType.MULTIPLE_SELECT||t===pt.CellType.COLLABORATOR||t===pt.CellType.CREATOR)r.filter_term=[];else if(pt.DATE_COLUMN_OPTIONS.includes(t)){var i=a===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin[0]:pt.filterTermModifierNotWithin[0];r.filter_term_modifier=i}n.props.addFilter(r)},n.updateFilter=function(e,t){n.props.updateFilter(e,t)},n.deleteFilter=function(e){n.props.deleteFilter(e)},n.onSelectConjunction=function(e){n.props.updateFilterConjunction(e.filterConjunction)},n.onSelectColumn=function(e){var t=e.filterIndex,a=e.column,r=n.props.filters[t];if(r.column_key!==a.key){var i=a.type,o=pt.FILTER_COLUMN_OPTIONS[i].filterPredicateList[0],s=Object.assign({},qe({},r),{column_key:a.key,filter_predicate:o});if(i===pt.CellType.CHECKBOX)s.filter_term=!1;else if(i===pt.CellType.MULTIPLE_SELECT||i===pt.CellType.COLLABORATOR||i===pt.CellType.CREATOR)s.filter_term=[];else if(pt.DATE_COLUMN_OPTIONS.includes(i)){var l=o===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin[0]:pt.filterTermModifierNotWithin[0];s.filter_term_modifier=l,s.filter_term=""}else s.filter_term="";n.props.updateFilter(t,s)}},n.onSelectPredicate=function(e){var t=e.filterIndex,a=e.filterPredicate,r=n.props,i=r.filters,o=r.columns,s=i[t];if(s.filter_predicate!==a){var l=Object.assign({},qe({},s),{filter_predicate:a}),c=o.find((function(e){return e.key===s.column_key})).type;if(c===pt.CellType.CHECKBOX)l.filter_term=!1;else if(c===pt.CellType.MULTIPLE_SELECT||c===pt.CellType.COLLABORATOR||c===pt.CellType.CREATOR)l.filter_term=[];else if(pt.DATE_COLUMN_OPTIONS.includes(c)){var u=a===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin[0]:pt.filterTermModifierNotWithin[0];l.filter_term_modifier=u}n.props.updateFilter(t,l)}},n.onSelectTermModifier=function(e){var t=e.filterIndex,a=e.filterTermModifier,r=n.props.filters[t];if(r.filter_term_modifier!==a){var i=Object.assign({},qe({},r),{filter_term_modifier:a});n.props.updateFilter(t,i)}},n.onFilterValueChange=function(e,t,a){var r,i=n.props,o=i.columns,s=i.filters,l=o[t],c=s[e];if(r=l.type===pt.CellType.CHECKBOX?a.target.checked:a.target.value,c.filter_term!==r){var u=Object.assign({},qe({},c),{filter_term:r});n.props.updateFilter(e,u)}},n.onSelectCreator=function(e){var t=[pt.FILTER_PREDICATE_TYPE.CONTAINS,pt.FILTER_PREDICATE_TYPE.NOT_CONTAIN],a=n.props.filters,r=e.filterIndex,i=e.collaborator,o=a[r],s=o.filter_predicate,l=o.filter_term;if(t.includes(s)){l=l?o.filter_term.slice(0):[];var c=i.email,u=l.indexOf(c);u>-1?l.splice(u,1):l.push(c)}else{if(l[0]===i.email)return;l=[i.email]}var d=Object.assign({},o,{filter_term:l});n.props.updateFilter(r,d)},n.onSelectSingle=function(e){var t=n.props.filters,a=e.filterIndex,r=e.columnOption,i=t[a];if(i.filter_term!==r.id){var o=Object.assign({},qe({},i),{filter_term:r.id});n.props.updateFilter(a,o)}},n.onSelectMultiple=function(e){var t=n.props.filters,a=e.filterIndex,r=e.columnOption,i=t[a],o=i.filter_term?i.filter_term:[],s=o.indexOf(r.id);s>-1?o.splice(s,1):o.push(r.id);var l=Object.assign({},qe({},i),{filter_term:o});n.props.updateFilter(a,l)},n.onSelectCollaborator=function(e){var t=n.props.filters,a=e.filterIndex,r=e.collaborator,i=t[a],o=i.filter_term?i.filter_term.slice(0):[],s=r.email,l=o.indexOf(s);l>-1?o.splice(l,1):o.push(s);var c=Object.assign({},qe({},i),{filter_term:o});n.props.updateFilter(a,c)},n.toggle=function(){n.props.hideFilterDialog()},n.renderFiltersList=function(){var e=n.props,t=e.filters,a=e.columns,r=e.t,i=window.app.state.collaborators,o=window.dtable.mediaUrl,s=i.concat([{name:"anonymous",email:"anonymous",avatar_url:"".concat(o,"/avatars/default.png")}]);return t.map((function(e,t){var o,l=e.column_key,c=e.filter_predicate,u=e.filter_term,d=e.filter_term_modifier,f=a.findIndex((function(e){return e.key===l})),m=a[f],g=m.type,v=pt.FILTER_COLUMN_OPTIONS[g].filterPredicateList,y=[pt.CellType.SINGLE_SELECT,pt.CellType.MULTIPLE_SELECT,pt.CellType.COLLABORATOR];switch(g){case pt.CellType.TEXT:case pt.CellType.LONG_TEXT:case pt.CellType.GEOLOCATION:o=h.a.createElement("input",{type:"text",value:u,onChange:n.onFilterValueChange.bind(E(n),t,f)});break;case pt.CellType.NUMBER:o=h.a.createElement("input",{type:"text",value:u,onChange:n.onFilterValueChange.bind(E(n),t,f),onPaste:n.onPaste});break;case pt.CellType.CHECKBOX:o=h.a.createElement("input",{type:"checkbox",checked:u,onChange:n.onFilterValueChange.bind(E(n),t,f)});break;case pt.CellType.SINGLE_SELECT:var _=m.data&&m.data.options.find((function(e){return e.id===u})),b=_?{label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name single-select-option",style:{background:_.color,color:_.textColor||null}},_.name))}:{};o=h.a.createElement(bb,{className:"selector-single-select",value:b,onSelectOption:n.onSelectSingle,options:n.createSingleSelectOptions(t,m),placeholder:r("Select_an_option"),isLocked:n.props.isLocked});break;case pt.CellType.MULTIPLE_SELECT:var w,T=[];u.forEach((function(e){var t=m.data&&m.data.options.find((function(t){return t.id===e}));if(t){var n={background:t.color,color:t.textColor||null,margin:"0 10px 0 0"};T.push(h.a.createElement("span",{className:"select-option-name multiple-select-option",style:n,key:"option_"+e},t.name))}})),w={label:h.a.createElement(p.Fragment,null,T)},o=h.a.createElement(bb,{className:"selector-multiple-select",value:w,onSelectOption:n.onSelectMultiple,options:n.createMultipleSelectOptions(t,m,u),placeholder:r("Select_option(s)"),isLocked:n.props.isLocked});break;case pt.CellType.DATE:case pt.CellType.CTIME:case pt.CellType.MTIME:var x=pt.FILTER_COLUMN_OPTIONS[g].filterTermModifierList;x&&(x=c!==pt.FILTER_PREDICATE_TYPE.IS_WITHIN?x:pt.filterTermModifierIsWithin,d=d||x[0]);var C=[pt.FILTER_TERM_MODIFIER_TYPE.EXACT_DATE,pt.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,pt.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,pt.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,pt.FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS],S="";return[pt.FILTER_PREDICATE_TYPE.EMPTY,pt.FILTER_PREDICATE_TYPE.NOT_EMPTY].indexOf(c)>=0?(S="",n.renderFilterItem(t,m,c,v,S,x,d)):(S=C.indexOf(d)>=0?h.a.createElement("input",{type:"text",value:u,onChange:n.onFilterValueChange.bind(E(n),t,f)}):"",n.renderFilterItem(t,m,c,v,S,x,d));case pt.CellType.COLLABORATOR:o=c===pt.FILTER_PREDICATE_TYPE.INCLUDE_ME?"":h.a.createElement(Eb,{filterIndex:t,filterTerm:u||[],collaborators:i,onSelectCollaborator:n.onSelectCollaborator,t:n.props.t,isLocked:n.props.isLocked,placeholder:r("Add_a_collaborator")});break;case pt.CellType.CREATOR:o=h.a.createElement(Eb,{filterIndex:t,filterTerm:u||[],collaborators:s,onSelectCollaborator:n.onSelectCreator,t:n.props.t,isLocked:n.props.isLocked,placeholder:r("Add_a_creator")})}return n.props.isLocked&&-1===y.indexOf(g)&&(o=h.a.createElement("input",{type:"text",value:u,disabled:!0})),o=c===pt.FILTER_PREDICATE_TYPE.EMPTY||c===pt.FILTER_PREDICATE_TYPE.NOT_EMPTY?"":o,n.renderFilterItem(t,m,c,v,o)}))},n.renderFilterItem=function(e,t,a,r,i,o,s){var l,c=[pt.FILTER_PREDICATE_TYPE.EMPTY,pt.FILTER_PREDICATE_TYPE.NOT_EMPTY],u=n.props.t,d=t.name,f=t.type,m=n.props.filterConjunction;if(f=f||pt.CellType.TEXT,0===e)l="";else if(1===e){var g={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},u(m)))};l=h.a.createElement(bb,{value:g,onSelectOption:n.onSelectConjunction,options:n.createConjunction(),isLocked:n.props.isLocked})}else l=h.a.createElement("span",{className:"selected-conjunction-show"},u(m));var v={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[f]})),h.a.createElement("span",{className:"select-option-name"},d))},y={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},u(a)))},_={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},u(s)))};return h.a.createElement("div",{className:"filter-item",key:e},h.a.createElement("div",{className:"condition"},h.a.createElement("div",{className:"filter-conjunction"},l),h.a.createElement("div",{className:"filter-container"},h.a.createElement("div",{className:"filter-column"},h.a.createElement(bb,{value:v,onSelectOption:n.onSelectColumn,options:n.createColumnsOptions(e),isLocked:n.props.isLocked})),h.a.createElement("div",{className:"filter-predicate ml-2"},h.a.createElement(bb,{value:y,onSelectOption:n.onSelectPredicate,options:n.createPredicateOptions(e,r),isLocked:n.props.isLocked})),pt.DATE_COLUMN_OPTIONS.includes(f)&&c.indexOf(a)<0&&h.a.createElement("div",{className:"filter-term-modifier ml-2"},h.a.createElement(bb,{value:_,onSelectOption:n.onSelectTermModifier,options:n.createTermModifierOptions(e,o),isLocked:n.props.isLocked})),h.a.createElement("div",{className:"filter-term ml-2"},i))),!n.props.isLocked&&h.a.createElement("div",{className:"delete-filter",onClick:n.deleteFilter.bind(E(n),e)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"})))},n.createColumnsOptions=function(e){var t=n.props.columns,a=[];return t.map((function(t){var n=t.type,r=t.name;n=n||pt.CellType.TEXT,pt.FILTER_COLUMN_OPTIONS[n]&&a.push({value:{filterIndex:e,column:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[n]})),h.a.createElement("span",{className:"select-option-name"},r))})})),a},n.createPredicateOptions=function(e,t){var a=n.props.t;return t.map((function(t){return{value:{filterIndex:e,filterPredicate:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},a(t)))}}))},n.createTermModifierOptions=function(e,t){var a=n.props.t;return t.map((function(t){return{value:{filterIndex:e,filterTermModifier:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},a(t)))}}))},n.createSingleSelectOptions=function(e,t){return t.data?t.data.options.map((function(t){return{value:{filterIndex:e,columnOption:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"select-option-name"},h.a.createElement("div",{className:"single-select-option",style:{background:t.color,color:t.textColor||null}},t.name)))}})):[]},n.createMultipleSelectOptions=function(e,t,n){return t.data?t.data.options.map((function(t){return{value:{filterIndex:e,columnOption:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"select-option-name multiple-option-name"},h.a.createElement("div",{className:"multiple-check-icon"},n.indexOf(t.id)>-1&&h.a.createElement("i",{className:"option-edit dtable-font dtable-icon-check-mark"})),h.a.createElement("div",{className:"multiple-select-option",style:{background:t.color}},t.name)))}})):[]},n.createConjunction=function(){var e=n.props.t;return[{value:{filterConjunction:"And"},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},e("And")))},{value:{filterConjunction:"Or"},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},e("Or")))}]},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.isLocked;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"filters-dialog",style:{maxWidth:this.props.filtersLength>0?"max-content":500}},h.a.createElement(xr,{toggle:this.toggle},t("Filter")),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{className:"filters-list"},this.props.filtersLength>0?this.renderFiltersList():h.a.createElement("div",{className:"empty-filters-list"},t("No_filters_applied_to_this_view"))),!n&&h.a.createElement(Yr,{callBack:this.addFilter,footerName:t("Add_Filter")})))}}]),t}(p.Component)),xb=Object(I.d)("dtable")(Tb),Cb=(n(1234),{beginDrag:function(e){return{key:e.column.key}},endDrag:function(e,t){var n=t.getItem();if(!t.didDrop())return{source:n,target:{}}}}),Sb={drop:function(e,t){var n=t.getItem(),a={key:e.column.key};n.key!==a.key&&e.moveColumn(n.key,a.key)}},kb=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}},Ob=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}},Mb={text:{iconClass:"dtable-icon-single-line-text"},number:{iconClass:"dtable-icon-number"},checkbox:{iconClass:"dtable-icon-check-square-solid"},date:{iconClass:"dtable-icon-calendar-alt-solid"},"single-select":{iconClass:"dtable-icon-single-election"},"long-text":{iconClass:"dtable-icon-long-text"},image:{iconClass:"dtable-icon-picture"},file:{iconClass:"dtable-icon-file-alt-solid"},"multiple-select":{iconClass:"dtable-icon-multiple-selection"},collaborator:{iconClass:"dtable-icon-collaborator"},link:{iconClass:"dtable-icon-link-other-record"},"link-common-dataset":{iconClass:"dtable-icon-link-common-dataset"},formula:{iconClass:"dtable-icon-formula"},creator:{iconClass:"dtable-icon-creator"},ctime:{iconClass:"dtable-icon-creation-time"},geolocation:{iconClass:"dtable-icon-location"}},Lb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onChange=function(e){e.nativeEvent.stopImmediatePropagation();var t=n.props,a=t.column;if(!t.isLocked){var r=e.target.checked;r!==n.state.value&&n.setState({value:r},(function(){r?n.props.onShowColumn(a.key):n.props.onHideColumn(a.key)}))}},n.state={value:!e.isHidedColumn},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.connectDragPreview,a=e.connectDropTarget,r=e.isOver,i=e.canDrop,o=e.isDragging,s=e.column,l=e.isLocked,c="r"===window.dtable.permission,u=s.type,d=Mb[u]?Mb[u].iconClass:"";return a(n(h.a.createElement("div",{className:ie()("dropdown-item","column-item",{"column-can-drop":r&&i},{"column-dragging":o})},!this.state.searchVal&&!l&&!c&&!window.isMobile&&t(h.a.createElement("div",{className:"drag-column-handle"},h.a.createElement("i",{className:"dtable-font dtable-icon-drag"}))),h.a.createElement("div",{className:"is-hide-column"},h.a.createElement("label",{className:"custom-switch"},h.a.createElement("input",{type:"checkbox",name:"custom-switch-checkbox",className:"custom-switch-input",checked:this.state.value,onChange:this.onChange}),h.a.createElement("span",{className:"custom-switch-description text-truncate"},h.a.createElement("i",{className:"dtable-font ".concat(d)}),h.a.createElement("span",null,s.name)),h.a.createElement("span",{className:"custom-switch-indicator"}))))))}}]),t}(p.Component),Db=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.hideHideColumnsDropdownmenu()},n.hideHideColumnsDropdownmenu=function(e){n.dropdownmenuRef&&e&&!n.dropdownmenuRef.contains(e.target)&&n.props.hideHideColumnsDropdownmenu()},n.onChangeSearch=function(e){var t=n.state.searchVal;t!==e.target.value&&(t=e.target.value,n.setState({searchVal:t}))},n.getFilteredColumns=function(){var e=n.props.columns,t=n.state.searchVal;return t=t.toLowerCase(),e&&e.filter((function(e,n){return n>0&&(!t||e.name.toString().toLowerCase().indexOf(t)>-1)}))},n.getColumnsList=function(e){var t=e.columns,a=e.hiddenColumns,r=e.connectDropTarget,i=e.moveColumn,o=e.isLocked,s=Object(sg.DropTarget)("HideColumns",Sb,Ob)(Object(sg.DragSource)("HideColumns",Cb,kb)(Lb));return r(h.a.createElement("div",{className:"dropdown-list columns-list"},t.map((function(e,t){var r=a&&a.includes(e.key);return h.a.createElement(s,{key:t,column:e,columnIndex:t,isHidedColumn:r,moveColumn:i,onHideColumn:n.props.onHideColumn,onShowColumn:n.props.onShowColumn,isLocked:o})}))))},n.getDragDropColumnsList=function(){var e=n.getColumnsList,t=Object(sg.DropTarget)("HideFields",{},(function(e){return{connectDropTarget:e.dropTarget()}}))(e);return Qg(t)},n.renderMenuContent=function(){var e=n.props,t=e.columns,a=e.t,r=e.isLocked,i=n.getFilteredColumns(),o=n.getDragDropColumnsList();return 1===t.length?h.a.createElement("span",{className:"none-columns"},a("No_columns_available_to_be_hidden")):i.length>0?h.a.createElement(o,{columns:i,hiddenColumns:n.props.hiddenColumns,moveColumn:n.props.moveColumn,onHideColumn:n.props.onHideColumn,onShowColumn:n.props.onShowColumn,isLocked:r}):h.a.createElement("span",{className:"none-search-result"},a("No_results"))},n.state={searchVal:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){window.isMobile?(history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)):document.addEventListener("click",this.hideHideColumnsDropdownmenu)}},{key:"componentWillUnmount",value:function(){window.isMobile?window.removeEventListener("popstate",this.handleHistaryBack,!1):document.removeEventListener("click",this.hideHideColumnsDropdownmenu)}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.isLocked,r=t.columns,i=t.hiddenColumns,o=this.state.searchVal;return window.isMobile?h.a.createElement("div",{className:"hidden-column-view",style:{zIndex:ea}},h.a.createElement("div",{className:"am-list-header"},h.a.createElement("div",{className:"row-expand-view-header"},h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:this.props.hideHideColumnsDropdownmenu},h.a.createElement("i",{className:"dtable-font dtable-icon-return"})),h.a.createElement("h4",{className:"row-expand-view-header-title"},n("Hidden_Columns")),h.a.createElement("span",{className:"row-expand-view-header-btn"}))),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{className:"dropdown-menu hide-columns-dropdown-menu show",ref:function(t){return e.dropdownmenuRef=t}},h.a.createElement("div",{className:"search-column"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:n("Find_a_column"),value:o,onChange:this.onChangeSearch})),h.a.createElement("div",{className:"sub-title d-flex"},h.a.createElement("span",null,n("All_Columns")),r.length===i.length+1?h.a.createElement("span",{style:{color:"#e5a252"},onClick:this.props.showAllColumns},n("Show_all")):h.a.createElement("span",{style:{color:"#e5a252"},onClick:this.props.hideAllColumns},n("Hide_all"))),this.renderMenuContent())):h.a.createElement("div",{className:"dropdown-menu hide-columns-dropdown-menu show",style:this.props.dropdownMenuPosition,ref:function(t){return e.dropdownmenuRef=t}},h.a.createElement("div",{className:"search-column"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:n("Find_a_column"),value:o,onChange:this.onChangeSearch})),this.renderMenuContent(),!o&&!a&&h.a.createElement("div",{className:"operation-all"},h.a.createElement("div",{className:"hide-all",onClick:this.props.hideAllColumns},n("Hide_all")),h.a.createElement("div",{className:"show-all",onClick:this.props.showAllColumns},n("Show_all"))))}}]),t}(p.Component),Rb=Object(I.d)("dtable")(Db),Nb=(n(1235),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onSortComponentToggle()},n.isSortsEmpty=function(){var e=n.props.sorts;return!e||0===e.length},n.hasColumnSort=function(e){var t=n.props.sorts;return t&&t.some((function(t){return t.column_key===e.key}))},n.addSort=function(){var e,t=n.props.columns;if(t.some((function(t,a){var r=t.type||pt.CellType.TEXT;if(pt.SORT_COLUMN_OPTIONS.includes(r))return e=a,!n.hasColumnSort(t)}))){var a={column_key:t[e].key,sort_type:pt.SORT_TYPE.UP};n.props.addSort(a)}},n.updateSort=function(e){n.props.updateSort(e)},n.deleteSort=function(e){n.props.deleteSort(e)},n.onSelectColumn=function(e,t){var a=n.props.sorts,r=e.column;if(a[0].column_key!==r.key){var i={column_key:r.key,sort_type:pt.SORT_TYPE.UP};n.props.updateSort(i,t)}},n.onSelectSortType=function(e,t){var a=n.props.sorts[t];a.sort_type=e.sortType,n.props.updateSort(a,t)},n.createSortTypeOptions=function(){var e=n.props.t;return[{value:{sortType:pt.SORT_TYPE.UP},label:h.a.createElement("span",{className:"select-option-name"},e(pt.SORT_TYPE.UP))},{value:{sortType:pt.SORT_TYPE.DOWN},label:h.a.createElement("span",{className:"select-option-name"},e(pt.SORT_TYPE.DOWN))}]},n.createColumnsOptions=function(){var e=n.props.columns,t=[];return e.map((function(e){var a=e.type,r=e.name;if(pt.SORT_COLUMN_OPTIONS.includes(a)){if(n.hasColumnSort(e))return;t.push({value:{column:e},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[a]})),h.a.createElement("span",{className:"select-option-name"},r))})}})),t},n.renderSortItem=function(e,t,a){var r=n.props,i=r.t,o=r.isLocked,s=e.name,l=e.type||pt.CellType.TEXT,c={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[l]})),h.a.createElement("span",{className:"select-option-name"},s))},u=t.sort_type,d=u&&{label:h.a.createElement(h.a.Fragment,null,h.a.createElement("span",{className:"select-option-name"},i(u)))};return h.a.createElement("div",{key:"sort-item-"+a,className:"sort-item"},h.a.createElement("div",{className:"condition"},h.a.createElement("div",{className:"sort-column"},h.a.createElement(bb,{value:c,onSelectOption:function(e){return n.onSelectColumn(e,a)},options:n.createColumnsOptions(),isLocked:o})),h.a.createElement("div",{className:"sort-predicate"},h.a.createElement(bb,{value:d,onSelectOption:function(e){return n.onSelectSortType(e,a)},options:n.createSortTypeOptions(),isLocked:o}))),!o&&h.a.createElement("div",{className:"delete-sort",onClick:function(){return n.deleteSort(a)}},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"})))},n.renderSortsList=function(){if(!n.isSortsEmpty()){var e=n.props,t=e.sorts,a=e.columns;return t.map((function(e,r){var i=a.findIndex((function(e){return e.key===t[r].column_key})),o=a[i];return n.renderSortItem(o,e,r)}))}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.isLocked;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"filters-dialog"},h.a.createElement(xr,{toggle:this.toggle},t("Sort")),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{className:"sorts-list"},this.isSortsEmpty()?h.a.createElement("div",{className:"empty-sorts-list"},t("No_sorts_applied_to_this_view")):this.renderSortsList()),!n&&h.a.createElement(Yr,{callBack:this.addSort,footerName:t("Add_Sort")})))}}]),t}(p.Component)),Ib=Object(I.d)("dtable")(Nb),Ab=(n(1236),[pt.GROUP_DATE_GRANULARITY.DAY,pt.GROUP_DATE_GRANULARITY.WEEK,pt.GROUP_DATE_GRANULARITY.MONTH,pt.GROUP_DATE_GRANULARITY.QUARTAR,pt.GROUP_DATE_GRANULARITY.YEAR]),Pb=[pt.GROUP_GEOLOCATION_GRANULARITY.PROVINCE,pt.GROUP_GEOLOCATION_GRANULARITY.CITY,pt.GROUP_GEOLOCATION_GRANULARITY.DISTRICT],Yb=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).toggle=function(){n.props.hideGroupbysDialog()},n.renderGroupsList=function(){var e=n.props,t=e.groupbys,a=e.columns;return t&&t.map((function(e,t){var r=a.find((function(t){return t.key===e.column_key}));return n.renderGroupItem(r,e,t)}))},n.renderGroupItem=function(e,t,a){var r=n.props,i=r.t,o=r.isLocked,s=t.sort_type,l=t.count_type,c=e.name,u=e.type,d={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[u]})),h.a.createElement("span",{className:"select-option-name"},c))},f={label:h.a.createElement("span",{className:"select-option-name"},i(s))},m=n.getSelectedCountType(u,l),g=u===pt.CellType.GEOLOCATION||pt.DATE_COLUMN_OPTIONS.includes(u);return h.a.createElement("div",{key:a,className:"group-item"},h.a.createElement("div",{className:"condition"},h.a.createElement("div",{className:"group-column"},h.a.createElement(bb,{value:d,onSelectOption:function(e){return n.onSelectColumn(e,a)},options:n.createColumnsOptions(a),isLocked:o})),g&&h.a.createElement("div",{className:"group-count-type"},h.a.createElement(bb,{value:m,onSelectOption:function(e){return n.onSelectCountType(e,a)},options:n.createCountTypeOptions(a,u),isLocked:o})),h.a.createElement("div",{className:"group-predicate"},pt.SORT_COLUMN_OPTIONS.includes(u)&&h.a.createElement(bb,{value:f,onSelectOption:function(e){return n.onSelectSortType(e,a)},options:n.createSortTypeOptions(a),isLocked:o}))),!o&&h.a.createElement("div",{className:"delete-group",onClick:function(){return n.deleteGroup(a)}},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"})))},n.createColumnsOptions=function(e){var t=n.getGroupColumns(),a=[];return t.forEach((function(t){var n=t.name,r=t.type;a.push({value:{groupIndex:e,column:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[r]})),h.a.createElement("span",{className:"select-option-name"},n))})})),a},n.createSortTypeOptions=function(e){var t=n.props.t;return[{value:{groupIndex:e,sortType:pt.SORT_TYPE.UP},label:h.a.createElement("span",{className:"select-option-name"},t(pt.SORT_TYPE.UP))},{value:{groupIndex:e,sortType:pt.SORT_TYPE.DOWN},label:h.a.createElement("span",{className:"select-option-name"},t(pt.SORT_TYPE.DOWN))}]},n.createCountTypeOptions=function(e,t){var a=n.props.t,r=[],i={};return t===pt.CellType.GEOLOCATION?(r=Pb,i=pt.DISPLAY_GROUP_GEOLOCATION_GRANULARITY):pt.DATE_COLUMN_OPTIONS.includes(t)&&(r=Ab,i=pt.DISPLAY_GROUP_DATE_GRANULARITY),0===r.length?null:r.map((function(t){return{value:{groupIndex:e,countType:t},label:h.a.createElement("span",{className:"select-option-name"},a(i[t]))}}))},n.getSelectedCountType=function(e,t){var a=n.props.t,r=t||n.getDefaultCountType(e),i={};return e===pt.CellType.GEOLOCATION?i=pt.DISPLAY_GROUP_GEOLOCATION_GRANULARITY:pt.DATE_COLUMN_OPTIONS.includes(e)&&(i=pt.DISPLAY_GROUP_DATE_GRANULARITY),r?{label:h.a.createElement("span",{className:"select-option-name"},a(i[r]))}:""},n.getGroupColumns=function(){var e=n.props,t=e.groupbys;return e.columns.filter((function(e){var n=e.type,a=e.key;return!(!pt.SUPPORT_GROUP_COLUMN_TYPES.includes(n)||t&&t.findIndex((function(e){return e.column_key===a}))>-1)}))},n.getDefaultCountType=function(e){return e===pt.CellType.GEOLOCATION?Pb[0]:pt.DATE_COLUMN_OPTIONS.includes(e)?Ab[0]:""},n.addGroup=function(){var e=n.getGroupColumns()[0].key,t=pt.SORT_TYPE.UP;n.props.addGroup({column_key:e,sort_type:t})},n.onSelectColumn=function(e){var t=n.props.groupbys,a=e.groupIndex,r=e.column,i=r.key,o=r.type;if(t[a].column_key!==i){var s={column_key:i,sort_type:pt.SORT_TYPE.UP,count_type:n.getDefaultCountType(o)};n.props.updateGroup(a,s)}},n.onSelectSortType=function(e){var t=n.props.groupbys,a=e.groupIndex,r=e.sortType;if(t[a].sort_type!==r){var i={sort_type:r};n.props.updateGroup(a,i)}},n.onSelectCountType=function(e){var t=n.props.groupbys,a=e.groupIndex,r=e.countType;if(t[a].count_type!==r){var i={count_type:r};n.props.updateGroup(a,i)}},n.deleteGroup=function(e){n.props.deleteGroup(e)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.groupbys,n=e.t,a=e.isLocked,r=t?t.length:0;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"groupbys-dialog"},h.a.createElement(xr,{toggle:this.toggle},n("Group")),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{className:"groupbys-list"},r>0?this.renderGroupsList():h.a.createElement("div",{className:"empty-groupbys-list"},n("No_groupings_applied_to_this_view"))),r<1&&!a&&h.a.createElement(Yr,{callBack:this.addGroup,footerName:n("Add_a_column_to_group_by")})))}}]),t}(p.Component),Fb=Object(I.d)("dtable")(Yb);n(1237);var jb=Bv.g.Item,Ub=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.toggle("")},n.onChange=function(e){var t=e.target.value;t!==n.state.searchVal&&n.setState({searchVal:t})},n.getFilterOptions=function(){var e=n.props.options,t=n.state.searchVal;return e.filter((function(e){var n=e.value.name;return!n||n.toString().toLowerCase().indexOf(t)>-1}))},n.state={searchVal:""},n.clientHeight=document.body.clientHeight,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.toggle,n=e.t,a=e.title,r=e.zIndex,i=e.listName,o=e.selectFunc,s=e.search,l=e.placeholder,c=e.childrenClassName,u=this.getFilterOptions();return h.a.createElement("div",{className:"mobile-options-box",style:{zIndex:r}},h.a.createElement("div",{className:"am-list-header mobile-am-list-header"},h.a.createElement("div",{className:"row-expand-view-header mobile-filter-header"},h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:function(){return t("")}},h.a.createElement("i",{className:"dtable-font dtable-icon-return"})),h.a.createElement("h4",{className:"row-expand-view-header-title"},n(a)),h.a.createElement("span",{className:"row-expand-view-header-btn"}))),h.a.createElement("div",{className:"mobile-options-list"},s&&h.a.createElement("div",{className:"search-column mobile-search-column"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:n(l),value:this.state.searchVal,onChange:this.onChange})),h.a.createElement(Bv.g,{renderHeader:function(){return n(i)},className:ie()("my-list mobile-list-header mobile-list",{"mobile-filter-dialog-input":c}),style:{height:s?this.clientHeight-50-70:this.clientHeight-50}},u&&u.map((function(e,t){return h.a.createElement(jb,{key:"".concat(a,"_").concat(t),onClick:function(){return o(e.value)}},e.label)})),this.state.searchVal&&0===u.length&&h.a.createElement("div",{className:"empty-placeholder none-search-result",style:{height:this.clientHeight-50-70-44}},n("No_results")))))}}]),t}(p.Component);n(1238);var Hb=Bv.g.Item,Bb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){var t=n.state,a=t.currentFilterIdx,r=t.currentSingleSelect,i=t.currentMultipleSelect,o=t.currentCollaborator;""===a&&r===pt.CellType.SINGLE_SELECT&&i===pt.CellType.MULTIPLE_SELECT&&o===pt.CellType.COLLABORATOR&&(e.preventDefault(),n.toggle())},n.getCreators=function(){var e=window.app.state.collaborators,t=window.dtable.mediaUrl;return e.concat([{name:"anonymous",email:"anonymous",avatar_url:"".concat(t,"/avatars/default.png")}])},n.onPaste=function(e){e.stopPropagation()},n.addFilter=function(){var e=n.props.columns,t=e[0].type,a=pt.FILTER_COLUMN_OPTIONS[t].filterPredicateList[0],r={column_key:e[0].key,filter_predicate:a,filter_term:"",filter_term_modifier:""};if(t===pt.CellType.CHECKBOX)r.filter_term=!1;else if(t===pt.CellType.MULTIPLE_SELECT||t===pt.CellType.COLLABORATOR||t===pt.CellType.CREATOR)r.filter_term=[];else if(pt.DATE_COLUMN_OPTIONS.includes(t)){var i=a===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin[0]:pt.filterTermModifierNotWithin[0];r.filter_term_modifier=i}n.props.addFilter(r)},n.updateFilter=function(e,t){n.props.updateFilter(e,t)},n.deleteFilter=function(e){n.props.deleteFilter(e)},n.onSelectConjunction=function(e){n.props.updateFilterConjunction(e.filterConjunction)},n.onSelectColumn=function(e){var t=e.filterIndex,a=e.column,r=n.props.filters[t];if(r.column_key!==a.key){var i=a.type,o=pt.FILTER_COLUMN_OPTIONS[i].filterPredicateList[0],s=Object.assign({},qe({},r),{column_key:a.key,filter_predicate:o});if(i===pt.CellType.CHECKBOX)s.filter_term=!1;else if(i===pt.CellType.MULTIPLE_SELECT||i===pt.CellType.COLLABORATOR||i===pt.CellType.CREATOR)s.filter_term=[];else if(pt.DATE_COLUMN_OPTIONS.includes(i)){var l=o===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin[0]:pt.filterTermModifierNotWithin[0];s.filter_term_modifier=l,s.filter_term=""}else s.filter_term="";n.props.updateFilter(t,s),n.setCurrentFilterIdx(null)}else n.setCurrentFilterIdx(null)},n.onSelectPredicate=function(e){var t=e.filterIndex,a=e.filterPredicate,r=n.props,i=r.filters,o=r.columns,s=i[t];if(s.filter_predicate!==a){var l=Object.assign({},qe({},s),{filter_predicate:a}),c=o.find((function(e){return e.key===s.column_key})).type;if(c===pt.CellType.CHECKBOX)l.filter_term=!1;else if(c===pt.CellType.MULTIPLE_SELECT||c===pt.CellType.COLLABORATOR||c===pt.CellType.CREATOR)l.filter_term=[];else if(pt.DATE_COLUMN_OPTIONS.includes(c)){var u=a===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin[0]:pt.filterTermModifierNotWithin[0];l.filter_term_modifier=u}n.props.updateFilter(t,l)}},n.onSelectTermModifier=function(e){var t=e.filterIndex,a=e.filterTermModifier,r=n.props.filters[t];if(r.filter_term_modifier!==a){var i=Object.assign({},qe({},r),{filter_term_modifier:a});n.props.updateFilter(t,i)}},n.onFilterValueChange=function(e,t,a){var r,i=n.props,o=i.columns,s=i.filters,l=o[t],c=s[e];if(r=l.type===pt.CellType.CHECKBOX?a.target.checked:a.target.value,c.filter_term!==r){var u=Object.assign({},qe({},c),{filter_term:r});n.props.updateFilter(e,u)}},n.onSelectCreator=function(e){var t=[pt.FILTER_PREDICATE_TYPE.CONTAINS,pt.FILTER_PREDICATE_TYPE.NOT_CONTAIN],a=n.props.filters,r=e.filterIndex,i=e.collaborator,o=a[r],s=o.filter_predicate,l=o.filter_term;if(t.includes(s)){l=l?o.filter_term.slice(0):[];var c=i.email,u=l.indexOf(c);u>-1?l.splice(u,1):l.push(c)}else{if(l[0]===i.email)return;l=[i.email]}var d=Object.assign({},o,{filter_term:l});n.props.updateFilter(r,d)},n.onSelectSingle=function(e){var t=n.props.filters,a=e.filterIndex,r=e.columnOption,i=t[a];if(n.setCurrentSingleSelect(null),i.filter_term!==r.id){var o=Object.assign({},qe({},i),{filter_term:r.id});n.props.updateFilter(a,o)}},n.onSelectMultiple=function(e){var t=n.props.filters,a=e.filterIndex,r=e.columnOption,i=t[a],o=i.filter_term?i.filter_term:[],s=o.indexOf(r.id);s>-1?o.splice(s,1):o.push(r.id);var l=Object.assign({},qe({},i),{filter_term:o});n.props.updateFilter(a,l)},n.onSelectCollaborator=function(e){var t=n.props.filters,a=e.filterIndex,r=e.collaborator,i=t[a],o=i.filter_term?i.filter_term.slice(0):[],s=r.email,l=o.indexOf(s);l>-1?o.splice(l,1):o.push(s);var c=Object.assign({},qe({},i),{filter_term:o});n.props.updateFilter(a,c)},n.toggle=function(){n.props.hideFilterView()},n.setCurrentFilterIdx=function(e){n.props.isLocked||n.setState({currentFilterIdx:e})},n.setCurrentSingleSelect=function(e){n.props.isLocked||n.setState({currentSingleSelect:pt.CellType.SINGLE_SELECT+e})},n.setCurrentMultipleSelect=function(e){n.props.isLocked||n.setState({currentMultipleSelect:pt.CellType.MULTIPLE_SELECT+e})},n.setCurrentCollaborator=function(e){n.props.isLocked||n.setState({currentCollaborator:pt.CellType.COLLABORATOR+e})},n.setCurrentCreator=function(e){n.props.isLocked||n.setState({currentCreator:pt.CellType.CREATOR+e})},n.renderFiltersList=function(){var e=n.props,t=e.filters,a=e.columns,r=e.t,i=e.isLocked,o=window.app.state.collaborators;return t.map((function(e,t){var s,l=e.column_key,c=e.filter_predicate,u=e.filter_term,d=e.filter_term_modifier,f=a.findIndex((function(e){return e.key===l})),m=a[f],g=m.type,v=[pt.CellType.SINGLE_SELECT,pt.CellType.MULTIPLE_SELECT,pt.CellType.COLLABORATOR];switch(g){case pt.CellType.TEXT:case pt.CellType.LONG_TEXT:case pt.CellType.GEOLOCATION:s=h.a.createElement(Hb,{className:"mobile-filter-dialog-input",value:u},h.a.createElement("input",{type:"text",value:u,onChange:n.onFilterValueChange.bind(E(n),t,f),className:"form-control",placeholder:r("Please_Input")}));break;case pt.CellType.NUMBER:s=h.a.createElement(Hb,{className:"mobile-filter-dialog-input",value:u},h.a.createElement("input",{type:"text",value:u,onChange:n.onFilterValueChange.bind(E(n),t,f),onPaste:n.onPaste,className:"form-control",placeholder:r("Please_Input")}));break;case pt.CellType.CHECKBOX:s=h.a.createElement(Hb,{className:"mobile-filter-dialog-input",value:u},h.a.createElement("input",{type:"checkbox",checked:u,onChange:n.onFilterValueChange.bind(E(n),t,f)}));break;case pt.CellType.SINGLE_SELECT:var y=m.data&&m.data.options.find((function(e){return e.id===u}));s=h.a.createElement(Hb,{className:"mobile-filter-not-input",value:u,onClick:function(){return n.setCurrentSingleSelect(t)}},h.a.createElement(p.Fragment,null,y?h.a.createElement("span",{className:"select-option-name single-select-option",style:{background:y.color}},y.name):h.a.createElement("span",{className:"empty-placeholder"},r("Select_an_option")),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!i})})));break;case pt.CellType.MULTIPLE_SELECT:var _=[];u.forEach((function(e){var t=m.data&&m.data.options.find((function(t){return t.id===e}));if(t){var n={background:t.color,margin:"0 10px 0 0"};_.push(h.a.createElement("span",{className:"select-option-name multiple-select-option",style:n,key:"option_"+e},t.name))}})),s=h.a.createElement(Hb,{className:"mobile-filter-not-input",onClick:function(){return n.setCurrentMultipleSelect(t)},value:u},h.a.createElement(p.Fragment,null,h.a.createElement("div",null,_.length>0?_:h.a.createElement("span",{className:"empty-placeholder"},r("Select_option(s)"))),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!i})})));break;case pt.CellType.DATE:case pt.CellType.CTIME:case pt.CellType.MTIME:var b=pt.FILTER_COLUMN_OPTIONS[g].filterTermModifierList;b&&(b=c!==pt.FILTER_PREDICATE_TYPE.IS_WITHIN?b:pt.filterTermModifierIsWithin,d=d||b[0]);var w=[pt.FILTER_TERM_MODIFIER_TYPE.EXACT_DATE,pt.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,pt.FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,pt.FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,pt.FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS],T="";return[pt.FILTER_PREDICATE_TYPE.EMPTY,pt.FILTER_PREDICATE_TYPE.NOT_EMPTY].indexOf(c)>=0?(T="",n.renderFilterItem(t,m,c,T,d)):(T=w.indexOf(d)>=0?h.a.createElement(Hb,{className:"mobile-filter-dialog-input",value:u},h.a.createElement("input",{type:"text",value:u,onChange:n.onFilterValueChange.bind(E(n),t,f),className:"form-control",placeholder:r("please_input_date")})):"",n.renderFilterItem(t,m,c,T,d));case pt.CellType.COLLABORATOR:if(c===pt.FILTER_PREDICATE_TYPE.INCLUDE_ME)s="";else{var x=Array.isArray(u)&&u.length>0&&u.map((function(e,t){var n=o.find((function(t){return t.email===e}));return h.a.createElement("div",{key:t,className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:n.name,src:n.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},n.name))}));s=h.a.createElement(Hb,{value:u,onClick:function(){return n.setCurrentCollaborator(t)}},h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"selector-collaborator"},x.length>0?x:h.a.createElement("span",{className:"empty-placeholder"},r("Add_a_collaborator"))),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!i})})))}break;case pt.CellType.CREATOR:var C=Array.isArray(u)&&u.length>0&&u.map((function(e,t){var a=n.creators.find((function(t){return t.email===e}));return h.a.createElement("div",{key:t,className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:a.name,src:a.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},a.name))}));s=h.a.createElement(Hb,{value:u,onClick:function(){return n.setCurrentCreator(t)}},h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"selector-collaborator"},C.length>0?C:h.a.createElement("span",{className:"empty-placeholder"},r("Add_a_creator"))),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!i})})))}return n.props.isLocked&&-1===v.indexOf(g)&&(s=h.a.createElement(Hb,{className:"mobile-filter-dialog-input",value:u},h.a.createElement("input",{type:"text",value:u,disabled:!0,className:"form-control"}))),s=c===pt.FILTER_PREDICATE_TYPE.EMPTY||c===pt.FILTER_PREDICATE_TYPE.NOT_EMPTY?"":s,n.renderFilterItem(t,m,c,s)}))},n.showTermModifierActionSheet=function(e,t,a){var r=n.props,i=r.t;if(!r.isLocked){var o=e===pt.FILTER_PREDICATE_TYPE.IS_WITHIN?pt.filterTermModifierIsWithin:pt.filterTermModifierNotWithin,s=o.map((function(e){return h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":e===a})},i(e))}));Bv.a.showActionSheetWithOptions({options:s,maskClosable:!0},(function(e){-1!==e&&n.onSelectTermModifier({filterIndex:t,filterTermModifier:o[e]})}))}},n.showPredicateActionSheet=function(e,t,a){var r=n.props,i=r.t;if(!r.isLocked){var o=pt.FILTER_COLUMN_OPTIONS[e].filterPredicateList,s=o.map((function(e){return h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":a===e})},i(e))}));Bv.a.showActionSheetWithOptions({options:s,maskClosable:!0},(function(e){-1!==e&&n.onSelectPredicate({filterIndex:t,filterPredicate:o[e]})}))}},n.showMobileFilterConjunction=function(){var e=n.props,t=e.t;if(!e.isLocked){var a=[h.a.createElement("div",{className:"my-am-action"},h.a.createElement("span",{className:"select-option-name"},t("And"))),h.a.createElement("div",{className:"my-am-action"},h.a.createElement("span",{className:"select-option-name"},t("Or")))];Bv.a.showActionSheetWithOptions({options:a,maskClosable:!0},(function(e){-1!==e&&(0===e?n.props.updateFilterConjunction("And"):n.props.updateFilterConjunction("Or"))}))}},n.renderFilterItem=function(e,t,a,r,i){var o=n.props,s=o.t,l=o.isLocked,c=t.name,u=t.type,d=n.props.filterConjunction;u=u||pt.CellType.TEXT;var f={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[u]})),h.a.createElement("span",{className:"select-option-name"},c))},m={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},s(a)))},g={label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},s(i)))},v=window.app.state.collaborators;return h.a.createElement(p.Fragment,{key:"mobile-filter-".concat(e)},1===e&&h.a.createElement(Hb,{className:"filter-conjunction",onClick:function(){return n.showMobileFilterConjunction(e)}},h.a.createElement("span",{className:"select-option-name"},s(d)),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!l})})),h.a.createElement(Bv.g,{renderHeader:function(){return s("Filter")+(e+1)},className:"my-list mobile-list-header"},h.a.createElement(Hb,{onClick:function(){return n.setCurrentFilterIdx(e)}},h.a.createElement("div",null,f.label),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!l})})),h.a.createElement(Hb,{onClick:function(){return n.showPredicateActionSheet(u,e,a)}},h.a.createElement("div",null,m.label),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!l})})),pt.DATE_COLUMN_OPTIONS.includes(u)&&h.a.createElement(Hb,{onClick:function(){return n.showTermModifierActionSheet(a,e,i)}},h.a.createElement("div",null,g.label),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!l})})),r),!l&&h.a.createElement("div",{className:"delete-filter",onClick:n.deleteFilter.bind(E(n),e)},s("Delete")),n.state.currentFilterIdx===e&&h.a.createElement(Ub,{toggle:n.setCurrentFilterIdx,t:s,title:"Column",zIndex:ea+1,listName:"Choose_A_Column",options:n.createColumnsOptions(e,t.key),selectFunc:n.onSelectColumn,search:!0,placeholder:"Find_a_column"}),n.state.currentMultipleSelect===pt.CellType.MULTIPLE_SELECT+e&&h.a.createElement(Ub,{toggle:n.setCurrentMultipleSelect,t:s,title:"Option",zIndex:ea+1,listName:"Choose_options",options:n.createMultipleSelectOptions(e,t,r.props.value),selectFunc:n.onSelectMultiple,search:!1,childrenClassName:"mobile-filter-not-input"}),n.state.currentSingleSelect===pt.CellType.SINGLE_SELECT+e&&h.a.createElement(Ub,{toggle:n.setCurrentSingleSelect,t:s,title:"Option",zIndex:ea+1,listName:"Choose_an_option",options:n.createSingleSelectOptions(e,t,r.props.value),selectFunc:n.onSelectSingle,search:!1,childrenClassName:"mobile-filter-not-input"}),n.state.currentCollaborator===pt.CellType.COLLABORATOR+e&&h.a.createElement(Ub,{toggle:n.setCurrentCollaborator,t:s,title:"Collaborator",zIndex:ea+1,listName:"Choose_Collaborators",options:n.createCollaboratorOptions(e,v,r.props.value),selectFunc:n.onSelectCollaborator,search:!1}),n.state.currentCreator===pt.CellType.CREATOR+e&&h.a.createElement(Ub,{toggle:n.setCurrentCreator,t:s,title:"Creator",zIndex:ea+1,listName:"Add_a_creator",options:n.createCollaboratorOptions(e,n.creators,r.props.value),selectFunc:n.onSelectCreator,search:!1}))},n.createColumnsOptions=function(e,t){var a=n.props.columns,r=[];return a.map((function(n){var a=n.type,i=n.name,o=n.key;a=a||pt.CellType.TEXT,pt.FILTER_COLUMN_OPTIONS[a]&&r.push({value:{filterIndex:e,column:n,name:i},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[a]})),h.a.createElement("span",{className:"select-option-name"},i)),t===o&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})})),r},n.createPredicateOptions=function(e,t){var a=n.props.t;return t.map((function(t){return{value:{filterIndex:e,filterPredicate:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},a(t)))}}))},n.createTermModifierOptions=function(e,t){var a=n.props.t;return t.map((function(t){return{value:{filterIndex:e,filterTermModifier:t},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"select-option-name"},a(t)))}}))},n.createSingleSelectOptions=function(e,t,n){return t.data?t.data.options.map((function(t){return{value:{filterIndex:e,columnOption:t,name:t.name},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("div",{className:"single-select-option",style:{background:t.color}},t.name),n.indexOf(t.id)>-1&&h.a.createElement("i",{className:"option-edit dtable-font dtable-icon-check-mark"})))}})):[]},n.createMultipleSelectOptions=function(e,t,n){return t.data?t.data.options.map((function(t){return{value:{filterIndex:e,columnOption:t,name:t.name},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"select-option-name multiple-option-name"},h.a.createElement("div",{className:"multiple-select-option",style:{background:t.color}},t.name),h.a.createElement("div",{className:"multiple-check-icon"},n.indexOf(t.id)>-1&&h.a.createElement("i",{className:"option-edit dtable-font dtable-icon-check-mark"}))))}})):[]},n.createCollaboratorOptions=function(e,t,n){return t.map((function(t){var a=n.findIndex((function(e){return e===t.email}));return{value:{filterIndex:e,collaborator:t,name:t.name},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"select-option-name option-collaborator mobile-option-collaborator"},h.a.createElement("div",{className:"collaborator-container"},h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:t.name,src:t.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},t.name))),h.a.createElement("div",{className:"collaborator-check-icon"},a>-1&&h.a.createElement("i",{className:"option-edit dtable-font dtable-icon-check-mark"}))))}}))},n.state={currentFilterIdx:"",currentSingleSelect:pt.CellType.SINGLE_SELECT,currentMultipleSelect:pt.CellType.MULTIPLE_SELECT,currentCollaborator:pt.CellType.COLLABORATOR,currentCreator:pt.CellType.CREATOR},n.creators=n.getCreators(),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.isLocked;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"mobile-filters-view",style:{zIndex:ea}},h.a.createElement("div",{className:"am-list-header mobile-filter-header mobile-am-list-header"},h.a.createElement("div",{className:"row-expand-view-header"},h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:this.toggle},h.a.createElement("i",{className:"dtable-font dtable-icon-return"})),h.a.createElement("h4",{className:"row-expand-view-header-title"},t("Filter")),h.a.createElement("span",{className:"row-expand-view-header-btn"}))),h.a.createElement("div",{className:"mobile-filters-list",style:{height:document.body.clientHeight-50}},this.props.filtersLength>0&&this.renderFiltersList(),!n&&h.a.createElement(Yr,{callBack:this.addFilter,footerName:t("Add_Filter"),className:"mobile-add-btn"}))))}}]),t}(p.Component),Vb=Object(I.d)("dtable")(Bb);n(1239);var Gb=Bv.g.Item,Wb=[pt.GROUP_DATE_GRANULARITY.DAY,pt.GROUP_DATE_GRANULARITY.WEEK,pt.GROUP_DATE_GRANULARITY.MONTH,pt.GROUP_DATE_GRANULARITY.QUARTAR,pt.GROUP_DATE_GRANULARITY.YEAR],zb=[pt.GROUP_GEOLOCATION_GRANULARITY.PROVINCE,pt.GROUP_GEOLOCATION_GRANULARITY.CITY,pt.GROUP_GEOLOCATION_GRANULARITY.DISTRICT],qb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){""===n.state.currentGroupbysIdx&&(e.preventDefault(),n.toggle())},n.toggle=function(){n.props.hideGroupbysView()},n.setCurrentGroupbysIdx=function(e){n.props.isLocked||n.setState({currentGroupbysIdx:e})},n.renderGroupsList=function(){var e=n.props,t=e.groupbys,a=e.columns;return t&&t.map((function(e,t){var r=a.find((function(t){return t.key===e.column_key}));return n.renderGroupItem(r,e,t)}))},n.renderGroupItem=function(e,t,a){var r=n.props,i=r.t,o=r.isLocked,s=t.sort_type,l=t.count_type,c=e.name,u=e.type,d=n.getSelectedCountType(u,l),f=u===pt.CellType.GEOLOCATION||pt.DATE_COLUMN_OPTIONS.includes(u);return h.a.createElement(p.Fragment,{key:"mobile-groupbys-".concat(a)},h.a.createElement(Bv.g,{renderHeader:function(){return i("Row_Grouping")},className:"my-list mobile-list-header"},h.a.createElement(Gb,{onClick:function(){return n.setCurrentGroupbysIdx(a)}},h.a.createElement("div",null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[u]})),h.a.createElement("span",{className:"select-option-name"},c)),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!o})})),f&&h.a.createElement(Gb,{onClick:function(){return n.showSelectGroupbysCountType(a,l,u)}},h.a.createElement("span",{className:"select-option-name"},i(d)),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!o})})),pt.SORT_COLUMN_OPTIONS.includes(u)&&h.a.createElement(Gb,{onClick:function(){return n.showSelectGroupbysSortType(a,s)},className:"group-sort"},h.a.createElement("span",{className:"select-option-name"},i(s)),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!o})}))),!o&&h.a.createElement("div",{className:"delete-groupbys",onClick:function(){return n.deleteGroup(a)}},i("Delete")),n.state.currentGroupbysIdx===a&&h.a.createElement(Ub,{toggle:n.setCurrentGroupbysIdx,t:i,title:"Column",zIndex:ea+1,listName:"Choose_A_Column",options:n.createColumnsOptions(a),selectFunc:function(e){return n.onSelectColumn(e,a)},search:!0,placeholder:"Find_a_column"}))},n.createColumnsOptions=function(e){var t=n.getGroupColumns(),a=[];return t.forEach((function(t){var n=t.name,r=t.type;a.push({value:{groupIndex:e,column:t,name:n},label:h.a.createElement("div",null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[r]})),h.a.createElement("span",{className:"select-option-name"},n))})})),a},n.getSelectedCountType=function(e,t){var a=t||n.getDefaultCountType(e);return e===pt.CellType.GEOLOCATION?pt.DISPLAY_GROUP_GEOLOCATION_GRANULARITY[a]:pt.DATE_COLUMN_OPTIONS.includes(e)?pt.DISPLAY_GROUP_DATE_GRANULARITY[a]:""},n.getGroupColumns=function(){var e=n.props,t=e.groupbys;return e.columns.filter((function(e){var n=e.type,a=e.key;return!(!pt.SUPPORT_GROUP_COLUMN_TYPES.includes(n)||t&&t.findIndex((function(e){return e.column_key===a}))>-1)}))},n.getDefaultCountType=function(e){return e===pt.CellType.GEOLOCATION?zb[0]:pt.DATE_COLUMN_OPTIONS.includes(e)?Wb[0]:""},n.addGroup=function(){var e=n.getGroupColumns()[0].key,t=pt.SORT_TYPE.UP;n.props.addGroup({column_key:e,sort_type:t})},n.onSelectColumn=function(e){var t=n.props.groupbys,a=e.groupIndex,r=e.column,i=r.key,o=r.type;if(t[a].column_key!==i){var s={column_key:i,sort_type:pt.SORT_TYPE.UP,count_type:n.getDefaultCountType(o)};n.props.updateGroup(a,s),n.setCurrentGroupbysIdx("")}},n.onSelectSortType=function(e){var t=n.props.groupbys,a=e.groupIndex,r=e.sortType;if(t[a].sort_type!==r){var i={sort_type:r};n.props.updateGroup(a,i)}},n.onSelectCountType=function(e){var t=n.props.groupbys,a=e.groupIndex,r=e.countType;if(t[a].count_type!==r){var i={count_type:r};n.props.updateGroup(a,i)}},n.deleteGroup=function(e){n.props.deleteGroup(e)},n.showSelectGroupbysCountType=function(e,t,a){var r=n.props,i=r.t;if(!r.isLocked){var o=[],s={};a===pt.CellType.GEOLOCATION?(o=zb,s=pt.DISPLAY_GROUP_GEOLOCATION_GRANULARITY):pt.DATE_COLUMN_OPTIONS.includes(a)&&(o=Wb,s=pt.DISPLAY_GROUP_DATE_GRANULARITY);var l=o.map((function(e){return h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":t===e})},i(s[e]))}));Bv.a.showActionSheetWithOptions({options:l,maskClosable:!0},(function(t){-1!==t&&n.onSelectCountType({groupIndex:e,countType:o[t]})}))}},n.showSelectGroupbysSortType=function(e,t){var a=n.props,r=a.t;if(!a.isLocked){var i=[h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":t===pt.SORT_TYPE.UP})},r(pt.SORT_TYPE.UP)),h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":t===pt.SORT_TYPE.DOWN})},r(pt.SORT_TYPE.DOWN))];Bv.a.showActionSheetWithOptions({options:i,maskClosable:!0},(function(t){-1!==t&&(0===t?n.onSelectSortType({groupIndex:e,sortType:pt.SORT_TYPE.UP}):n.onSelectSortType({groupIndex:e,sortType:pt.SORT_TYPE.DOWN}))}))}},n.state={currentGroupbysIdx:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.groupbys,n=e.t,a=e.isLocked,r=t?t.length:0;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"mobile-groupbys-view",style:{zIndex:ea}},h.a.createElement("div",{className:"am-list-header mobile-groupbys-header mobile-am-list-header"},h.a.createElement("div",{className:"row-expand-view-header"},h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:this.toggle},h.a.createElement("i",{className:"dtable-font dtable-icon-return"})),h.a.createElement("h4",{className:"row-expand-view-header-title"},n("Row_Grouping")),h.a.createElement("span",{className:"row-expand-view-header-btn"}))),h.a.createElement("div",{className:"mobile-groupbys-list",style:{height:document.body.clientHeight-50}},r>0&&this.renderGroupsList(),!a&&r<1&&h.a.createElement(Yr,{callBack:this.addGroup,footerName:n("Add_a_column_to_group_by"),className:"mobile-add-btn"}))))}}]),t}(p.Component),Kb=Object(I.d)("dtable")(qb);n(1240);var Xb=Bv.g.Item,Jb=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){""===n.state.currentSortIdx&&(e.preventDefault(),n.toggle())},n.toggle=function(){n.props.onSortComponentToggle()},n.isSortsEmpty=function(){var e=n.props.sorts;return!e||0===e.length},n.hasColumnSort=function(e){var t=n.props.sorts;return t&&t.some((function(t){return t.column_key===e.key}))},n.addSort=function(){var e,t=n.props.columns;if(t.some((function(t,a){var r=t.type||pt.CellType.TEXT;if(pt.SORT_COLUMN_OPTIONS.includes(r))return e=a,!n.hasColumnSort(t)}))){var a={column_key:t[e].key,sort_type:pt.SORT_TYPE.UP};n.props.addSort(a)}},n.updateSort=function(e){n.props.updateSort(e)},n.deleteSort=function(e){n.props.deleteSort(e)},n.onSelectColumn=function(e,t){var a=n.props.sorts,r=e.column;if(a[0].column_key!==r.key){var i={column_key:r.key,sort_type:pt.SORT_TYPE.UP};n.props.updateSort(i,t),n.setCurrentSortIdx(null)}},n.setCurrentSortIdx=function(e){n.props.isLocked||n.setState({currentSortIdx:e})},n.onSelectSortType=function(e,t){var a=n.props.sorts[t];a.sort_type=e.sortType,n.props.updateSort(a,t)},n.showMobileSortType=function(e,t){var a=n.props,r=a.t;if(!a.isLocked){var i=[h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":t===pt.SORT_TYPE.UP})},r(pt.SORT_TYPE.UP)),h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":t===pt.SORT_TYPE.DOWN})},r(pt.SORT_TYPE.DOWN))];Bv.a.showActionSheetWithOptions({options:i,maskClosable:!0},(function(t){-1!==t&&(0===t?n.onSelectSortType({sortType:pt.SORT_TYPE.UP},e):n.onSelectSortType({sortType:pt.SORT_TYPE.DOWN},e))}))}},n.createColumnsOptions=function(){var e=n.props.columns,t=[];return e.map((function(e){var a=e.type,r=e.name;if(pt.SORT_COLUMN_OPTIONS.includes(a)){if(n.hasColumnSort(e))return;t.push({value:{column:e,name:r},label:h.a.createElement(p.Fragment,null,h.a.createElement("div",null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[a]})),h.a.createElement("span",{className:"select-option-name"},r)))})}})),t},n.renderSortItem=function(e,t,a){var r=n.props,i=r.t,o=r.isLocked,s=e.name,l=e.type;return l=l||pt.CellType.TEXT,h.a.createElement(p.Fragment,{key:"mobile-sort-".concat(a)},h.a.createElement(Bv.g,{renderHeader:function(){return i("Sort")+(a+1)},className:"my-list mobile-list-header"},h.a.createElement(Xb,{onClick:function(){return n.setCurrentSortIdx(a)}},h.a.createElement("div",null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[l]})),h.a.createElement("span",{className:"select-option-name"},s)),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!o})})),h.a.createElement(Xb,{onClick:function(){return n.showMobileSortType(a,t.sort_type)}},h.a.createElement("span",{className:"select-option-name"},i(t.sort_type)),h.a.createElement("i",{className:ie()({"dtable-font dtable-icon-right":!o})}))),!o&&h.a.createElement("div",{className:"delete-sort",onClick:n.deleteSort.bind(E(n),a)},i("Delete")),n.state.currentSortIdx===a&&h.a.createElement(Ub,{toggle:n.setCurrentSortIdx,t:i,title:"Column",zIndex:ea+1,listName:"Choose_A_Column",options:n.createColumnsOptions(),selectFunc:function(e){return n.onSelectColumn(e,a)},search:!0,placeholder:"Find_a_column"}))},n.renderSortsList=function(){if(!n.isSortsEmpty()){var e=n.props,t=e.sorts,a=e.columns;return t.map((function(e,r){var i=a.findIndex((function(e){return e.key===t[r].column_key})),o=a[i];return n.renderSortItem(o,e,r)}))}},n.state={currentSortIdx:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.isLocked,a=this.createColumnsOptions();return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"mobile-sorts-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:t("Sort"),onLeftClick:this.toggle,leftName:h.a.createElement("i",{className:"dtable-font dtable-icon-return"})}),h.a.createElement("div",{className:"mobile-sorts-list",style:{height:document.body.clientHeight-50}},!this.isSortsEmpty()&&this.renderSortsList(),!n&&a.length>0&&h.a.createElement(Yr,{callBack:this.addSort,footerName:t("Add_Sort"),className:"mobile-add-btn"}))))}}]),t}(p.Component),Zb=Object(I.d)("dtable")(Jb);function $b(e){var t,n,a="";if(e)if("object"===typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=$b(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(n=$b(t))&&(a&&(a+=" "),a+=n);else"boolean"===typeof e||e.call||(a&&(a+=" "),a+=e);return a}var Qb,ew,tw=function(){for(var e,t=0,n="";t<arguments.length;)(e=$b(arguments[t++]))&&(n&&(n+=" "),n+=e);return n},nw={MILI:"milliseconds",SECONDS:"seconds",MINUTES:"minutes",HOURS:"hours",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century",DATE:"date"},aw=(D(Qb={},nw.MILI,1),D(Qb,nw.SECONDS,1e3),D(Qb,nw.MINUTES,6e4),D(Qb,nw.HOURS,36e5),D(Qb,nw.DAY,864e5),D(Qb,nw.WEEK,6048e5),Qb),rw=(D(ew={},nw.MONTH,1),D(ew,nw.YEAR,12),D(ew,nw.DECADE,120),D(ew,nw.CENTURY,1200),["01","02","03","04","05","06","07","08","09","10","11","12"]),iw={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ow={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda",YEAR:"year"},sw=Object.keys(ow).map((function(e){return ow[e]}));z.a.oneOfType([z.a.string,z.a.func]),z.a.any,z.a.func,z.a.oneOfType([z.a.arrayOf(z.a.oneOf(sw)),z.a.objectOf((function(e,t){var n=-1!==sw.indexOf(t)&&"boolean"===typeof e[t];if(n)return null;for(var a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i];return z.a.elementType.apply(z.a,[e,t].concat(r))}))]),z.a.oneOfType([z.a.oneOf(["overlap","no-overlap"]),z.a.func]);function lw(e,t){e&&e.apply(null,[].concat(t))}var cw={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",year:"Year",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function uw(e,t){var n={};if(!function(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}(e))return n;for(var a in e)(Array.isArray(t)&&!t.includes(a)||t!==a)&&e[a];return n}function dw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],a=null==e?0:e.length;if(!a||t<1)return[];var r=0,i=0;for(n=new Array(Math.ceil(a/t));r<a;)n[i++]=mw(e,r,r+=t);return n}function pw(e){e=Object(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.forEach((function(t){if(null!=t)for(var n in t=Object(t)){var a=e[n];(void 0===a||gw(a,Object.prototype[n])&&!Object.prototype.hasOwnProperty.call(e,n))&&(e[n]=t[n])}})),e}var hw,fw=function(e,t,n){return void 0===t&&(t=e,e=0),function(e,t,n,a){for(var r=-1,i=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(i);i--;)o[a?i:++r]=e,e+=n;return o}(e,t,n=void 0===n?e<t?1:-1:n,hw)};function mw(e,t,n){var a=null==e?0:e.length;if(!a)return[];(t=null==t?0:t)<0&&(t=-t>a?0:a+t),(n=(n=void 0===n?a:n)>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var r=-1,i=new Array(a);++r<a;)i[r]=e[r+t];return i}function gw(e,t){return e===t||e!==e&&t!==t}function vw(e,t){var n=Sw(e,nw.MONTH);return Sw(n,nw.WEEK,t.startOfWeek())}function yw(e,t){var n=kw(e,nw.MONTH);return kw(n,nw.WEEK,t.startOfWeek())}function _w(e,t){var n=Sw(e,t);return Ow(n,e)?n:xw(n,1,t)}function bw(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nw.DAY,a=e,r=[];Rw(a,t,n);)r.push(a),a=xw(a,1,n);return r}function ww(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=Sw(e,nw.DAY),e=jw(e,jw(t)),e=Fw(e,Fw(t)),e=Yw(e,Yw(t)),Pw(e,Pw(t)))}function Ew(e){if(!e)return!1;var t=ft()(e);return 0===t.hours()&&0===t.minutes()&&0===t.seconds()&&0===t.milliseconds()}function Tw(e,t,n){return n&&n!==nw.MILI?Math.round(Math.abs(+Sw(e,n)/aw[n]-+Sw(t,n)/aw[n])):Math.abs(+e-+t)}function xw(e,t,n){if(n)return ft()(e).add(t,n).toDate();throw new TypeError('Invalid units: "'+n+'"')}function Cw(e,t,n){return xw(e,-t,n)}function Sw(e,t,n){switch(e=new Date(e),t){case nw.CENTURY:case nw.DECADE:case nw.YEAR:e=Bw(e,0);case nw.MONTH:e=Hw(e,1);case nw.WEEK:case nw.DAY:e=jw(e,0);case nw.HOURS:e=Fw(e,0);case nw.MINUTES:e=Yw(e,0);case nw.SECONDS:e=Pw(e,0)}return t===nw.DECADE&&(e=Cw(e,Vw(e)%10,"year")),t===nw.CENTURY&&(e=Cw(e,Vw(e)%100,"year")),t===nw.WEEK&&(e=function(e,t,n){var a=(Uw(e)+7-(n||0))%7;return void 0===t?a:xw(e,t-a,nw.DAY)}(e,0,n)),e}function kw(e,t,n){switch(e=Sw(e=new Date(e),t,n),t){case nw.CENTURY:case nw.DECADE:case nw.YEAR:case nw.MONTH:case nw.WEEK:(e=Cw(e=xw(e,1,t),1,nw.DAY)).setHours(23,59,59,999);break;case nw.DAY:e.setHours(23,59,59,999);break;case nw.HOURS:case nw.MINUTES:case nw.SECONDS:e=Cw(e=xw(e,1,t),1,nw.MILI)}return e}var Ow=Ww((function(e,t){return e===t})),Mw=(Ww((function(e,t){return e!==t})),Ww((function(e,t){return e>t}))),Lw=Ww((function(e,t){return e>=t})),Dw=Ww((function(e,t){return e<t})),Rw=Ww((function(e,t){return e<=t}));function Nw(){return ft()(Math.min.apply(Math,arguments)).toDate()}function Iw(){return ft()(Math.max.apply(Math,arguments)).toDate()}function Aw(e,t,n,a){return a=a||"day",(!t||Lw(e,t,a))&&(!n||Rw(e,n,a))}var Pw=Gw("Milliseconds"),Yw=Gw("Seconds"),Fw=Gw("Minutes"),jw=Gw("Hours"),Uw=Gw("Day"),Hw=Gw("Date"),Bw=Gw("Month"),Vw=Gw("FullYear");function Gw(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,a){if(void 0===a)return n["get"+e]();var r=new Date(n);return r["set"+e](a),t&&r["get"+e]()!=a&&("Hours"===e||a>=t&&r.getHours()-n.getHours()<Math.floor(a/t))&&r["set"+e](a+t),r}}function Ww(e){return function(t,n,a){return e(+Sw(t,a),+Sw(n,a))}}function zw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";return{first:e[0],last:xw(e[e.length-1],1,t)}}function qw(e){var t,n,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=[],o=[];for(t=0;t<e.length;t++){for(a=e[t],n=0;n<i.length&&Xw(a,i[n]);n++);n>=r?o.push(a):(i[n]||(i[n]=[])).push(a)}for(t=0;t<i.length;t++)i[t].sort((function(e,t){return e.left-t.left}));return{levels:i,extra:o}}function Kw(e,t,n,a){var r=Sw(a.start(e),"day"),i=a.end(e),o=Rw(r,n,"day"),s=Ow(r,i,"minutes")?Lw(i,t,"minutes"):Mw(i,t,"minutes");return o&&s}function Xw(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function Jw(e,t,n){var a=+Sw(n.start(e),"day")-+Sw(n.start(t),"day"),r=Tw(n.start(e),_w(n.end(e),"day"),"day"),i=Tw(n.start(t),_w(n.end(t),"day"),"day");return a||Math.max(i,1)-Math.max(r,1)||!!n.allDay(t)-!!n.allDay(e)||+n.start(e)-+n.start(t)}function Zw(){return(Zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $w(e){return e&&e.ownerDocument||document}function Qw(e,t){return function(e){var t=$w(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var eE=/([A-Z])/g;var tE=/^ms-/;function nE(e){return function(e){return e.replace(eE,"-$1").toLowerCase()}(e).replace(tE,"-ms-")}var aE=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var rE=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(nE(t))||Qw(e).getPropertyValue(nE(t));Object.keys(t).forEach((function(r){var i=t[r];i||0===i?!function(e){return!(!e||!aE.test(e))}(r)?n+=nE(r)+": "+i+";":a+=r+"("+i+") ":e.style.removeProperty(nE(r))})),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n};function iE(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function oE(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function sE(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,a){var r=oE(n);if(void 0===a)return r?r[e]:n[t];r?r.scrollTo(r[e],a):n[t]=a}}var lE=sE("pageXOffset"),cE=sE("pageYOffset");function uE(e){var t=$w(e),n={top:0,left:0,height:0,width:0},a=t&&t.documentElement;return a&&iE(a,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+cE(a)-(a.clientTop||0),left:n.left+lE(a)-(a.clientLeft||0),width:n.width,height:n.height}):n}var dE=function(e){return!!e&&"offsetParent"in e};var pE=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function hE(e,t){var n,a={top:0,left:0};if("fixed"===rE(e,"position"))n=e.getBoundingClientRect();else{var r=t||function(e){for(var t=$w(e),n=e&&e.offsetParent;dE(n)&&"HTML"!==n.nodeName&&"static"===rE(n,"position");)n=n.offsetParent;return n||t.documentElement}(e);n=uE(e),"html"!==pE(r)&&(a=uE(r));var i=String(rE(r,"borderTopWidth")||0);a.top+=parseInt(i,10)-cE(r)||0;var o=String(rE(r,"borderLeftWidth")||0);a.left+=parseInt(o,10)-lE(r)||0}var s=String(rE(e,"marginTop")||0),l=String(rE(e,"marginLeft")||0);return Zw({},n,{top:n.top-a.top-(parseInt(s,10)||0),left:n.left-a.left-(parseInt(l,10)||0)})}var fE=!("undefined"===typeof window||!window.document||!window.document.createElement),mE=(new Date).getTime();var gE="clearTimeout",vE=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-mE)),a=setTimeout(e,n);return mE=t,a},yE=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};fE&&["","webkit","moz","o","ms"].some((function(e){var t=yE(e,"request");return t in window&&(gE=yE(e,"cancel"),vE=function(e){return window[t](e)}),!!vE}));var _E=function(e){"function"===typeof window[gE]&&window[gE](e)},bE=vE,wE=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getRbcEventStyle=function(){var e=n.props.event,t=e.bgColor,a=e.highlightColor,r=pt.SELECT_OPTION_COLORS.find((function(e){return e.COLOR===t})),i=r?r.TEXT_COLOR:null;return{background:t,borderLeft:"3px solid ".concat(a),color:i}},n.onRowExpand=function(e){n.props.onRowExpand(e.row)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.className,r=t.event,i=t.selected,o=t.isAllDay,s=(t.onRowExpand,t.onDoubleClick),l=t.localizer,c=t.continuesPrior,u=t.continuesAfter,d=t.accessors,p=t.getters,f=t.children,m=t.components,g=m.event,v=m.eventWrapper,y=t.slotStart,_=t.slotEnd,b=pa(t,["style","className","event","selected","isAllDay","onRowExpand","onDoubleClick","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"]),w=d.title(r),E=d.tooltip(r),T=d.end(r),x=d.start(r),C=d.allDay(r),S=o||C||Tw(x,_w(T,"day"),"day")>1,k=p.eventProp(r,x,T,i),O=h.a.createElement("div",{className:"rbc-event-content",title:E||void 0},g?h.a.createElement(g,{event:r,continuesPrior:c,continuesAfter:u,title:w,isAllDay:C,localizer:l,slotStart:y,slotEnd:_}):w);return h.a.createElement(v,Object.assign({},this.props,{type:"date"}),h.a.createElement("div",Object.assign({},b,{tabIndex:0,style:qe({},k.style,{},n,{},this.getRbcEventStyle()),className:tw("rbc-event",a,k.className,{"rbc-selected":i,"rbc-event-allday":S,"rbc-event-continues-prior":c,"rbc-event-continues-after":u}),onClick:function(t){return e.onRowExpand(r,t)},onDoubleClick:function(e){return s&&s(r,e)}}),"function"===typeof f?f(O):O))}}]),t}(h.a.Component),EE=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onHidePopup=function(e){(n.popperRef&&e&&!n.popperRef.contains(e.target)||n.closeBtn===e.target)&&n.props.onHidePopup()},n.setPopperRef=function(e){n.popperRef=e},n.getHeaderFormat=function(){var e=n.props,t=e.slotStart,a=e.localizer,r=e.t,i=a.format(t,"monthFormat"),o=Number(a.format(t,"dateFormat")),s=a.format(t,"weekdayFormat");return r("xxx_Month_xxx_Date_xxx_Week",{month:r(i),date:o,week_day:r(s)})},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e,t,n=this.props.popupOffset,a=void 0===n?5:n,r=this.popperRef.getBoundingClientRect(),i=r.top,o=r.left,s=r.width,l=r.height,c=window.innerHeight+cE(window),u=window.innerWidth+lE(window),d=i+l,p=o+s;(d>c||p>u)&&(d>c&&(e=d-c+(a.y||+a||0)),p>u&&(t=p-u+(a.x||+a||0)),this.setState({topOffset:e,leftOffset:t}));document.addEventListener("click",this.onHidePopup)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHidePopup)}},{key:"render",value:function(){var e=this,t=this.props,n=t.events,a=t.onRowExpand,r=t.getters,i=t.accessors,o=t.components,s=t.slotStart,l=t.slotEnd,c=t.scrolled,u=t.t,d=this.props.position,p=d.top,f=d.left,m=(this.state||{}).topOffset||0,g=(this.state||{}).leftOffset||0,v={top:p-m+(c?c.scrollTop:0),left:f-g};return h.a.createElement("div",{style:qe({},this.props.style,{},v),className:"rbc-overlay",ref:this.setPopperRef},h.a.createElement("div",{className:"rbc-overlay-header"},this.getHeaderFormat(),h.a.createElement("button",{className:"close"},h.a.createElement("span",{"aria-hidden":"true",ref:function(t){return e.closeBtn=t}},"\xd7"))),h.a.createElement("div",{className:"rbc-overlay-body"},0===n.length?h.a.createElement("span",null,u("There_are_no_records")):n.map((function(e,t){return h.a.createElement(wE,{key:t,type:"popup",event:e,getters:r,onRowExpand:a,accessors:i,components:o,continuesPrior:Dw(i.end(e),s,"day"),continuesAfter:Lw(i.start(e),l,"day"),slotStart:s,slotEnd:l})}))))}}]),t}(h.a.Component),TE=Object(I.d)("dtable")(EE);function xE(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function CE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xE,a=[],r=!1;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&n(o,a)?t:(t=e.apply(null,o),r=!0,a=o,t)}}var SE=function(e,t){return e.left<=t&&e.right>=t};function kE(){return CE((function(e){for(var t=e.range,n=e.events,a=e.maxRows,r=e.minRows,i=e.accessors,o=zw(t),s=o.first,l=o.last,c=n.map((function(e){return function(e,t,n){var a=zw(t),r=a.first,i=a.last,o=Tw(r,i,"day"),s=Iw(Sw(n.start(e),"day"),r),l=Nw(_w(n.end(e),"day"),i),c=t.findIndex((function(e){return Ow(e,s,"day")})),u=Tw(s,l,"day");return u=Math.min(u,o),{event:e,span:u=Math.max(u,1),left:c+1,right:Math.max(c+u,1)}}(e,t,i)})),u=qw(c,Math.max(a-1,1)),d=u.levels,p=u.extra;d.length<r;)d.push([]);return{first:s,last:l,levels:d,extra:p,range:t,slots:t.length,clone:function(t){return kE()(qe({},e,{},t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return Ow(t,e,"day")}))},getEventsForSlot:function(e){return c.filter((function(t){return SE(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return Dw(i.start(e),s,"day")},continuesAfter:function(e){var t=i.end(e);return Ow(i.start(e),t,"minutes")?Lw(t,l,"minutes"):Mw(t,l,"minutes")}}}))}function OE(e,t){var n=oE(e);return n?n.innerHeight:t?e.clientHeight:uE(e).height}var ME=Function.prototype.bind.call(Function.prototype.call,[].slice);function LE(e,t){return!(!e||null==t)&&-1!==[].concat(t).indexOf(e)}function DE(e,t){return(e.right-e.left)/t}function RE(e,t,n,a){var r=DE(e,a);return n?a-1-Math.floor((t-e.left)/r):Math.floor((t-e.left)/r)}z.a.object.isRequired,z.a.object,z.a.bool,z.a.object.isRequired,z.a.object.isRequired,z.a.object.isRequired,z.a.object.isRequired,z.a.func,z.a.func;var NE={segments:[],selected:{}},IE=function(e,t){var n=e.selected,a=e.accessors,r=e.getters,i=e.onRowExpand,o=e.onDoubleClick,s=e.localizer,l=e.slotMetrics,c=e.components,u=l.continuesPrior(t),d=l.continuesAfter(t);return h.a.createElement(wE,{event:t,getters:r,localizer:s,accessors:a,components:c,onRowExpand:i,onDoubleClick:o,continuesPrior:u,continuesAfter:d,slotStart:l.first,slotEnd:l.last,selected:LE(t,n)})},AE=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",r=Math.abs(t)/e*100+"%";return h.a.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:r,flexBasis:r,maxWidth:r}},a)},PE=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.segments,a=t.slotMetrics.slots,r=t.className,i=1;return h.a.createElement("div",{className:tw(r,"rbc-row")},n.reduce((function(t,n,r){var o=n.event,s=n.left,l=n.right,c=n.span,u="_lvl_"+r,d=s-i,p=IE(e.props,o);return d&&t.push(AE(a,d,"".concat(u,"_gap"))),t.push(AE(a,c,u,p)),i=l+1,t}),[]))}}]),t}(h.a.Component);PE.defaultProps=qe({},NE);var YE=PE,FE=function(e,t){return e.left<=t&&e.right>=t},jE=function(e,t){return e.filter((function(e){return FE(e,t)})).length},UE=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){for(var e=this.props,t=e.segments,n=e.slotMetrics.slots,a=qw(t).levels[0],r=1,i=1,o=[];r<=n;){var s="_lvl_"+r,l=a.filter((function(e){return FE(e,r)}))[0]||{},c=l.event,u=l.left,d=l.right,p=l.span;if(c){var f=Math.max(0,u-i);if(this.canRenderSlotEvent(u,p)){var m=IE(this.props,c);f&&o.push(AE(n,f,s+"_gap")),o.push(AE(n,p,s,m)),i=r=d+1}else f&&o.push(AE(n,f,s+"_gap")),o.push(AE(n,1,s,this.renderShowMore(t,r))),i=r+=1}else r++}return h.a.createElement("div",{className:"rbc-row"},o)}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return fw(e,e+t).every((function(e){return 1===jE(n,e)}))}},{key:"renderShowMore",value:function(e,t){var n=this,a=this.props.t,r=jE(e,t);return!!r&&h.a.createElement("button",{key:"sm_"+t,className:"rbc-link-button rbc-show-more",onClick:function(e){return n.showMore(t,e)}},"+".concat(r," ").concat(a("more")))}},{key:"showMore",value:function(e,t){t.preventDefault(),this.props.onShowMore(e,t.target)}}]),t}(h.a.Component);UE.defaultProps=qe({},NE);var HE,BE=Object(I.d)("dtable")(UE);function VE(e,t){if(!HE){var n=document.body,a=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;HE=function(e,t){return a.call(e,t)}}return HE(e,t)}var GE=!1,WE=!1;try{var zE={get passive(){return GE=!0},get once(){return WE=GE=!0}};fE&&(window.addEventListener("test",zE,zE),window.removeEventListener("test",zE,!0))}catch(uL){}var qE=function(e,t,n,a){if(a&&"boolean"!==typeof a&&!WE){var r=a.once,i=a.capture,o=n;!WE&&r&&(o=n.__once||function e(a){this.removeEventListener(t,e,i),n.call(this,a)},n.__once=o),e.addEventListener(t,o,GE?a:i)}e.addEventListener(t,n,a)};var KE=function(e,t,n,a){var r=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};var XE=function(e,t,n,a){return qE(e,t,n,a),function(){KE(e,t,n,a)}};function JE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return XE(n,e,t,{passive:!1})}function ZE(e,t){var n=t.clientX,a=t.clientY;return function(e,t,n){e.closest&&!n&&e.closest(t);var a=e;do{if(VE(a,t))return a;a=a.parentElement}while(a&&a!==n&&a.nodeType===document.ELEMENT_NODE);return null}(document.elementFromPoint(n,a),".rbc-event",e)}function $E(e,t){return!!ZE(e,t)}function QE(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}function eT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=tT(e),r=a.top,i=a.left,o=a.right,s=void 0===o?i:o,l=a.bottom,c=void 0===l?r:l,u=tT(t),d=u.top,p=u.left,h=u.right,f=void 0===h?p:h,m=u.bottom;return!(c-n<d||r+n>(void 0===m?d:m)||s-n<p||i+n>f)}function tT(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+nT("left"),a=t.top+nT("top");return{top:a,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+a}}function nT(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var aT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.global,r=void 0!==a&&a,i=n.longPressThreshold,o=void 0===i?250:i;v(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||r,this.longPressThreshold=o,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=JE("touchmove",(function(){}),window),this._removeKeyDownListener=JE("keydown",this._keyListener),this._removeKeyUpListener=JE("keyup",this._keyListener),this._removeDropFromOutsideListener=JE("drop",this._dropFromOutsideListener),this._onDragOverfromOutisde=JE("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return _(e,[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r,i=this._listeners[e]||[];return i.forEach((function(e){void 0===r&&(r=e.apply(void 0,n))})),r}},{key:"teardown",value:function(){this.isDetached=!0,this.listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&eT(t,tT(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,a=null,r=null,i=null,o=function(t){a=setTimeout((function(){l(),e(t)}),n.longPressThreshold),r=JE("touchmove",(function(){return l()})),i=JE("touchend",(function(){return l()}))},s=JE("touchstart",o),l=function(){a&&clearTimeout(a),r&&r(),i&&i(),a=null,r=null,i=null};return t&&o(t),function(){l(),s()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=JE("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=JE("mousedown",e._handleInitialEvent)})),n=JE("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=QE(e),n=t.pageX,a=t.pageY,r=t.clientX,i=t.clientY;this.emit("dropFromOutside",{x:n,y:a,clientX:r,clientY:i}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=QE(e),n=t.pageX,a=t.pageY,r=t.clientX,i=t.clientY;this.emit("dragOverFromOutside",{x:n,y:a,clientX:r,clientY:i}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(!this.isDetached){var t,n=QE(e),a=n.clientX,r=n.clientY,i=n.pageX,o=n.pageY,s=this.container();if(3!==e.which&&2!==e.button&&(c=a,u=r,!(l=s)||iE(l,document.elementFromPoint(c,u)))){var l,c,u;if(!this.globalMouse&&s&&!iE(s,e.target)){var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==typeof e&&(e={top:e,left:e,right:e,bottom:e});return e}(0),p=d.top,h=d.left,f=d.bottom,m=d.right;if(!eT({top:(t=tT(s)).top-p,left:t.left-h,bottom:t.bottom+f,right:t.right+m},{top:o,left:i}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:i,y:o,clientX:a,clientY:r}))switch(e.type){case"mousedown":this._removeEndListener=JE("mouseup",this._handleTerminatingEvent),this._onEscListener=JE("keydown",this._handleTerminatingEvent),this._removeMoveListener=JE("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=JE("touchend",this._handleTerminatingEvent),this._removeMoveListener=JE("touchmove",this._handleMoveEvent)}}}}},{key:"_handleTerminatingEvent",value:function(e){var t=QE(e),n=t.pageX,a=t.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var r=!this.container||iE(this.container(),e.target),i=this._selectRect,o=this.isClick(n,a);return this._initialEventData=null,"Escape"===e.key?this.emit("reset"):r?o&&r?this._handleClickEvent(e):o?void 0:this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=QE(e),n=t.pageX,a=t.pageY,r=t.clientX,i=t.clientY,o=(new Date).getTime();return this._lastClickData&&o-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:a,clientX:r,clientY:i})):(this._lastClickData={timestamp:o},this.emit("click",{x:n,y:a,clientX:r,clientY:i}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,a=t.y,r=QE(e),i=r.pageX,o=r.pageY,s=Math.abs(n-i),l=Math.abs(a-o),c=Math.min(i,n),u=Math.min(o,a),d=this.selecting;(!this.isClick(i,o)||d||s||l)&&(this.selecting=!0,this._selectRect={top:u,left:c,x:i,y:o,right:c+s,bottom:u+l},d||this.emit("selectStart",this._initialEventData),this.isClick(i,o)||this.emit("selecting",this._selectRect),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,a=n.x,r=n.y;return!n.isTouch&&Math.abs(e-a)<=5&&Math.abs(t-r)<=5}}]),e}(),rT=function(e){function t(e,n){var a;return v(this,t),(a=T(this,x(t).call(this,e,n))).state={selecting:!1},a}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentWillReceiveProps",value:function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,n=e.getNow,a=e.getters,r=e.date,i=e.components.dateCellWrapper,o=this.state,s=o.selecting,l=o.startIdx,c=o.endIdx,u=n();return h.a.createElement("div",{className:"rbc-row-bg"},t.map((function(e,n){var o=s&&n>=l&&n<=c,d=a.dayProp(e),p=d.className,f=d.style;return h.a.createElement(i,{key:n,value:e,range:t},h.a.createElement("div",{style:f,className:tw("rbc-day-bg",p,o&&"rbc-selected-cell",Ow(e,u,"day")&&"rbc-today",r&&Bw(r)!==Bw(e)&&"rbc-off-range-bg")}))})))}},{key:"_selectable",value:function(){var e=this,t=Object(f.findDOMNode)(this),n=this._selector=new aT(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(n,a){if(!$E(Object(f.findDOMNode)(e),n)){var r=tT(t),i=e.props,o=i.range,s=i.rtl;if(function(e,t){var n=t.x,a=t.y;return a>=e.top&&a<=e.bottom&&n>=e.left&&n<=e.right}(r,n)){var l=RE(r,n.x,s,o.length);e._selectSlot({startIdx:l,endIdx:l,action:a,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("click",(function(e){return a(e,"click")})),n.on("doubleClick",(function(e){return a(e,"doubleClick")}))}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,a=e.action,r=e.bounds,i=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:a,bounds:r,box:i})}}]),t}(h.a.Component),iT=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).handleSelectSlot=function(e){var t=n.props,a=t.range;(0,t.onSelectSlot)(a.slice(e.start,e.end+1),e)},n.handleShowMore=function(e,t){var a,r,i,o=n.props,s=o.range,l=o.onShowMore,c=n.slotMetrics(n.props),u=(a=Object(f.findDOMNode)(E(n)),r=".rbc-row-bg",ME(a.querySelectorAll(r)))[0];u&&(i=u.children[e-1]),l(c.getEventsForSlot(e),s[e-1],i,e,t)},n.createHeadingRef=function(e){n.headingRow=e},n.createEventRef=function(e){n.eventRow=e},n.getContainer=function(){var e=n.props.container;return e?e():Object(f.findDOMNode)(E(n))},n.renderHeadingCell=function(e,t){var a=n.props,r=a.renderHeader,i=a.getNow;return r({date:e,key:"header_".concat(t),className:tw("rbc-date-cell",Ow(e,i(),"day")&&"rbc-now")})},n.renderDummy=function(){var e=n.props,t=e.className,a=e.range,r=e.renderHeader;return h.a.createElement("div",{className:t},h.a.createElement("div",{className:"rbc-row-content"},r&&h.a.createElement("div",{className:"rbc-row",ref:n.createHeadingRef},a.map(n.renderHeadingCell)),h.a.createElement("div",{className:"rbc-row",ref:n.createEventRef},h.a.createElement("div",{className:"rbc-row-segment"},h.a.createElement("div",{className:"rbc-event"},h.a.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},n.slotMetrics=kE(),n}return S(t,e),_(t,[{key:"getRowLimit",value:function(){var e=OE(this.eventRow),t=this.headingRow?OE(this.headingRow):0,n=OE(Object(f.findDOMNode)(this))-t;return Math.max(Math.floor(n/e),1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.rtl,a=e.range,r=e.className,i=e.selected,o=e.selectable,s=e.renderForMeasure,l=e.accessors,c=e.getters,u=e.components,d=e.getNow,p=e.renderHeader,f=e.onRowExpand,m=e.localizer,g=e.onSelectStart,v=e.onSelectEnd,y=e.onDoubleClick,_=e.resourceId,b=e.longPressThreshold,w=e.isAllDay;if(s)return this.renderDummy();var E=this.slotMetrics(this.props),T=E.levels,x=E.extra,C=u.weekWrapper,S={selected:i,accessors:l,getters:c,localizer:m,components:u,onRowExpand:f,onDoubleClick:y,resourceId:_,slotMetrics:E};return h.a.createElement("div",{className:r},h.a.createElement(rT,{date:t,getNow:d,rtl:n,range:a,selectable:o,container:this.getContainer,getters:c,onSelectStart:g,onSelectEnd:v,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:b}),h.a.createElement("div",{className:"rbc-row-content"},p&&h.a.createElement("div",{className:"rbc-row rbc-header-row",ref:this.createHeadingRef},a.map(this.renderHeadingCell)),h.a.createElement(C,Object.assign({isAllDay:w},S),T.map((function(e,t){return h.a.createElement(YE,Object.assign({key:t,segments:e},S))})),!!x.length&&h.a.createElement(BE,Object.assign({segments:x,onShowMore:this.handleShowMore},S)))))}}]),t}(h.a.Component);iT.defaultProps={minRows:0,maxRows:1/0};var oT=iT,sT=Object(I.d)("dtable")((function(e){var t=e.label,n=e.t,a=e.isShowWeek;return h.a.createElement("span",null,a?n("Week_xxx",{week_day:n(t)}):n(t))})),lT=function(e){var t=e.label,n=e.drilldownView,a=e.onDrillDown;return n?h.a.createElement("span",{onClick:a},t):h.a.createElement("span",null,t)},cT=function(e,t,n,a){return e.filter((function(e){return Kw(e,t,n,a)}))},uT=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getContainer=function(){return Object(f.findDOMNode)(E(n))},n.onMonthViewScroll=function(e){var t=e.target,a=t.scrollLeft,r=t.scrollTop;n._scroll={scrollLeft:a,scrollTop:r}},n.handleShowMore=function(e,t,a,r,i){var o=n.props,s=o.containerPaddingTop,l=o.calendarHeaderHeight;if(!o.popup){n.clearSelection();var c=hE(a,Object(f.findDOMNode)(E(n))),u=c.top;u=u+s+l,c.top=u,n.setState({overlay:{date:t,events:e,position:c,target:i},popup:!0})}},n.onRowExpand=function(e){n.props.onRowExpand(e)},n.onHidePopup=function(){n.setState({popup:!1,overlay:{}})},n.onInsertRow=function(e){var t,a;n.props.onInsertRow((t=e,a="YYYY-MM-DD",ft()(t).format(a)))},n.renderWeek=function(e,t){var a=n.props,r=a.events,i=a.components,o=a.selectable,s=a.getNow,l=a.selected,c=a.date,u=a.localizer,d=a.longPressThreshold,p=a.accessors,f=a.getters,m=n.state,g=m.needLimitMeasure,v=m.rowLimit;return r=(r=(r=cT(r,e[0],e[e.length-1],p)).sort((function(e,t){return Jw(e,t,p)}))).slice(),h.a.createElement(oT,{key:t,ref:0===t?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:s,date:c,range:e,events:r,maxRows:v,selected:l,selectable:o,components:i,accessors:p,getters:f,localizer:u,renderHeader:n.readerDateHeading,renderForMeasure:g,onShowMore:n.handleShowMore,onRowExpand:n.onRowExpand,onDoubleClick:n.handleDoubleClickEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:d,rtl:n.props.rtl})},n.readerDateHeading=function(e){var t=e.date,a=e.className,r=pa(e,["date","className"]),i=n.props,o=i.date,s=i.getDrilldownView,l=i.localizer,c=Bw(t)!==Bw(o),u=Ow(t,o,"day"),d=s(t),p=l.format(t,"dateFormat"),f=n.props.components.dateHeader||lT;return h.a.createElement("div",Object.assign({},r,{className:tw(a,c&&"rbc-off-range",u&&"rbc-current")}),h.a.createElement(f,{label:p,date:t,drilldownView:d,isOffRange:c,onDrillDown:function(e){return n.handleHeadingClick(t,d,e)}}),n.renderInsertRowButton(t))},n.renderInsertRowButton=function(e){return h.a.createElement("div",{className:"calendar-insert-row-btn",onClick:n.onInsertRow.bind(E(n),e)},h.a.createElement("i",{className:"dtable-font dtable-icon-add-table"}))},n.handleSelectSlot=function(e,t){n._pendingSelection=n._pendingSelection.concat(e),clearTimeout(n._selectTimer),n._selectTimer=setTimeout((function(){return n.selectDates(t)}))},n.handleHeadingClick=function(e,t,a){a.preventDefault(),n.clearSelection(),lw(n.props.onDrillDown,[e,t])},n.handleDoubleClickEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];lw(n.props.onDoubleClickEvent,t)},n._bgRows=[],n._pendingSelection=[],n.slotRowRef=h.a.createRef(),n.state={rowLimit:5,needLimitMeasure:!0,popup:!1},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.date;this.setState({needLimitMeasure:!Ow(t,this.props.date,"month")})}},{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||bE((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,a=e.className,r=dw(function(e,t){for(var n=vw(e,t),a=yw(e,t),r=[];Rw(n,a,nw.DAY);)r.push(n),n=xw(n,1,nw.DAY);return r}(t,n),7);return this._weekCount=r.length,h.a.createElement("div",{className:tw("rbc-month-view",a),onScroll:this.onMonthViewScroll},h.a.createElement("div",{className:"rbc-row rbc-month-header"},this.renderHeaders(r[0])),r.map(this.renderWeek),this.state.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,n=t.localizer,a=t.components,r=e[0],i=e[e.length-1],o=a.header||sT;return bw(r,i,"day").map((function(e,t){return h.a.createElement("div",{key:"header_"+t,className:"rbc-header"},h.a.createElement(o,{date:e,localizer:n,label:n.format(e,"weekdayFormat"),isShowWeek:!0}))}))}},{key:"renderOverlay",value:function(){var e=this.state&&this.state.overlay||{},t=this.props,n=t.accessors,a=t.localizer,r=t.components,i=t.getters,o=t.selected,s=t.popupOffset;return h.a.createElement(TE,Object.assign({},this.props,{scrolled:this._scroll||null,popupOffset:s,accessors:n,getters:i,selected:o,components:r,localizer:a,position:e.position,events:e.events,slotStart:e.date,slotEnd:e.end,onSelect:this.onRowExpand,onDoubleClick:this.handleDoubleClickEvent,onHidePopup:this.onHidePopup}))}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t})),lw(this.props.onSelectSlot,{slots:t,start:t[0],end:t[t.length-1],action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}]),t}(h.a.Component);uT.range=function(e,t){var n=t.localizer;return{start:vw(e,n),end:yw(e,n)}},uT.navigate=function(e,t){switch(t){case iw.PREVIOUS:return xw(e,-1,"month");case iw.NEXT:return xw(e,1,"month");default:return e}},uT.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var dT=uT,pT={};var hT=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},fT=function(e,t,n,a){return"".concat(+Sw(e,"minutes"))+"".concat(+Sw(t,"minutes"))+"".concat(n,"-").concat(a)};function mT(e){for(var t=e.min,n=e.max,a=e.step,r=e.timeslots,i=fT(t,n,a,r),o=Sw(t,"day"),s=hT(o,t),l=1+Tw(t,n,"minutes")+hT(t,n),c=Tw(o,t,"minutes")+s,u=Math.ceil(l/(a*r)),d=u*r,p=new Array(u),h=new Array(d),f=0;f<u;f++){p[f]=new Array(r);for(var m=0;m<r;m++){var g=f*r+m,v=g*a;h[g]=p[f][m]=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,c+v,0,0)}}var y=h.length*a;function _(e){var n=Tw(t,e,"minutes")+hT(t,e);return Math.min(n,l)}return h.push(new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,c+y,0,0)),{groups:p,update:function(e){return fT(e)!==i?mT(e):this},dateIsInGroup:function(e,t){var a=p[t+1];return Aw(e,p[t][0],a?a[0]:n,"minutes")},nextSlot:function(e){var t=h[Math.min(h.indexOf(e)+1,h.length-1)];return t===e&&(t=xw(e,a,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*d)));return h[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Dw(e,t,"minutes"))return h[0];var r=Tw(t,e,"minutes");return h[(r-r%a)/a+n]},startsBeforeDay:function(e){return Dw(e,t,"day")},startsAfterDay:function(e){return Mw(e,n,"day")},startsBefore:function(e){return Dw(ww(t,e),t,"minutes")},startsAfter:function(e){return Mw(ww(n,e),n,"minutes")},getRange:function(e,r,i,o){i||(e=Nw(n,Iw(t,e))),o||(r=Nw(n,Iw(t,r)));var s=_(e),l=_(r),c=l-s<a&&!Ow(n,r)?(s-a)/(a*d)*100:s/(a*d)*100;return{top:c,height:l/(a*d)*100-c,start:_(e),startDate:e,end:_(r),endDate:r}},getCurrentTimePosition:function(e){return _(e)/(a*d)*100}}}var gT=function(){function e(t,n){var a=n.accessors,r=n.slotMetrics;v(this,e);var i=r.getRange(a.start(t),a.end(t)),o=i.start,s=i.startDate,l=i.end,c=i.endDate,u=i.top,d=i.height;this.start=o,this.end=l,this.startMs=+s,this.endMs=+c,this.top=u,this.height=d,this.data=t}return _(e,[{key:"_width",get:function(){if(this.rows)return 100/(this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1);var e=100-this.container._width;return this.leaves?e/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,a=e._width;return n+(t.indexOf(this)+1)*a}}]),e}();function vT(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function yT(e){for(var t=e.events,n=e.minimumStartDifference,a=e.slotMetrics,r=e.accessors,i=function(e){return e.sort((function(e,t){var n=0;return["startMs","endMs"].forEach((function(a){n=n||Object(pt.sortDate)(e[a],t[a],"up")})),n}))}(t.map((function(e){return new gT(e,{slotMetrics:a,accessors:r})}))),o=[],s=function(e){var t=i[e],a=o.find((function(e){return e.end>t.start||Math.abs(t.start-e.start)<n}));if(!a)return t.rows=[],o.push(t),"continue";t.container=a;for(var r=null,s=a.rows.length-1;!r&&s>=0;s--)vT(a.rows[s],t,n)&&(r=a.rows[s]);r?(r.leaves.push(t),t.row=r):(t.leaves=[],a.rows.push(t))},l=0;l<i.length;l++)s(l);return i.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function _T(e,t,n){for(var a=0;a<e.friends.length;++a)if(!(n.indexOf(e.friends[a])>-1)){t=t>e.friends[a].idx?t:e.friends[a].idx,n.push(e.friends[a]);var r=_T(e.friends[a],t,n);t=t>r?t:r}return t}var bT={overlap:yT,"no-overlap":function(e){var t=yT({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.top+e.height<t.top+t.height?1:-1}));for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var a=0;a<t.length-1;++a)for(var r=t[a],i=r.style.top,o=r.style.top+r.style.height,s=a+1;s<t.length;++s){var l=t[s],c=l.style.top,u=l.style.top+l.style.height;(c<=i&&i<u||i<=c&&c<o)&&(r.friends.push(l),l.friends.push(r))}for(var d=0;d<t.length;++d){for(var p=t[d],h=[],f=0;f<100;++f)h.push(1);for(var m=0;m<p.friends.length;++m)void 0!==p.friends[m].idx&&(h[p.friends[m].idx]=0);p.idx=h.indexOf(1)}for(var g=0;g<t.length;++g){var v;if(!t[g].size){var y=[];v=100/(_T(t[g],0,y)+1),t[g].size=v;for(var _=0;_<y.length;++_)y[_].size=v}}for(var b=0;b<t.length;++b){var w=t[b];w.style.left=w.idx*w.size;for(var E=0,T=0;T<w.friends.length;++T){var x=w.friends[T];E=E>x?E:x}E<=w.idx&&(w.size=100-w.idx*w.size);var C=0===w.idx?0:3;w.style.width="calc(".concat(w.size,"% - ").concat(C,"px)"),w.style.height="calc(".concat(w.style.height,"% - 2px)"),w.style.xOffset="calc(".concat(w.style.left,"% + ").concat(C,"px)")}return t}};var wT=function(e){return e.children},ET=wT,TT=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,n=e.resource,a=e.group,r=e.getters,i=e.components,o=(i=void 0===i?{}:i).timeSlotWrapper,s=void 0===o?ET:o;return h.a.createElement("div",{className:"rbc-timeslot-group"},a.map((function(e,a){var i=r?r.slotProp(e,n):{};return h.a.createElement(s,{key:a,value:e,resource:n},h.a.createElement("div",Object.assign({},i,{className:tw("rbc-time-slot",i.className)}),t&&t(e,a)))})))}}]),t}(p.Component);function xT(e){return"string"===typeof e?e:e+"%"}var CT=function(e){var t,n=e.style,a=e.className,r=e.event,i=e.accessors,o=e.rtl,s=e.selected,l=e.label,c=e.continuesEarlier,u=e.continuesLater,d=e.getters,p=e.onClick,f=e.onDoubleClick,m=e.components,g=m.event,v=m.eventWrapper,y=i.title(r),_=i.tooltip(r),b=i.end(r),w=i.start(r),E=d.eventProp(r,w,b,s),T=n.height,x=n.top,C=n.width,S=n.xOffset,k=[h.a.createElement("div",{key:"1",className:"rbc-event-label"},l),h.a.createElement("div",{key:"2",className:"rbc-event-content"},g?h.a.createElement(g,{event:r,title:y}):y)];return h.a.createElement(v,Object.assign({type:"time"},e),h.a.createElement("div",{onClick:p,onDoubleClick:f,style:qe({},E.style,(t={top:xT(x)},D(t,o?"right":"left",xT(S)),D(t,"width",xT(C)),D(t,"height",xT(T)),t)),title:_?("string"===typeof l?l+": ":"")+_:void 0,className:tw("rbc-event",a,E.className,{"rbc-selected":s,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},k))},ST=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(){var e=n.props,t=e.events,a=e.rtl,r=e.selected,i=e.accessors,o=e.localizer,s=e.getters,l=e.components,c=e.step,u=e.timeslots,d=e.dayLayoutAlgorithm,p=E(n).slotMetrics,f=o.messages;return function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,n=e.dayLayoutAlgorithm,a=null;return n in bT&&(a=bT[n]),(t=a)&&t.constructor&&t.call&&t.apply?a.apply(this,arguments):[]}({events:t,accessors:i,slotMetrics:p,minimumStartDifference:Math.ceil(c*u/2),dayLayoutAlgorithm:d}).map((function(e,t){var c,u=e.event,d=e.style,m=i.end(u),g=i.start(u),v="eventTimeRangeFormat",y=p.startsBeforeDay(g),_=p.startsAfterDay(m);y?v="eventTimeRangeEndFormat":_&&(v="eventTimeRangeStartFormat"),c=y&&_?f.allDay:o.format({start:g,end:m},v);var b=y||p.startsBefore(g),w=_||p.startsAfter(m);return h.a.createElement(CT,{style:d,event:u,label:c,key:"evt_"+t,getters:s,rtl:a,components:l,continuesEarlier:b,continuesLater:w,accessors:i,selected:LE(u,r),onClick:function(e){return n._select(u,e)},onDoubleClick:function(e){return n._doubleClick(u,e)}})}))},n._selectable=function(){var e=Object(f.findDOMNode)(E(n)),t=n._selector=new aT((function(){return Object(f.findDOMNode)(E(n))}),{longPressThreshold:n.props.longPressThreshold}),a=function(e){var t=n.props.onSelecting,a=n.state||{},i=r(e),o=i.startDate,s=i.endDate;t&&(Ow(a.startDate,o,"minutes")&&Ow(a.endDate,s,"minutes")||!1===t({start:o,end:s,resourceId:n.props.resource}))||n.state.start===i.start&&n.state.end===i.end&&n.state.selecting===i.selecting||n.setState(i)},r=function(t){var a=n.slotMetrics.closestSlotFromPoint(t,tT(e));n.state.selecting||(n._initialSlot=a);var r=n._initialSlot;Rw(r,a)?a=n.slotMetrics.nextSlot(a):Mw(r,a)&&(r=n.slotMetrics.nextSlot(r));var i=n.slotMetrics.getRange(Nw(r,a),Iw(r,a));return qe({},i,{selecting:!0,top:"".concat(i.top,"%"),height:"".concat(i.height,"%")})},i=function(e,t){if(!$E(Object(f.findDOMNode)(E(n)),e)){var a=r(e),i=a.startDate,o=a.endDate;n._selectSlot({startDate:i,endDate:o,action:t,box:e})}n.setState({selecting:!1})};t.on("selecting",a),t.on("selectStart",a),t.on("beforeSelect",(function(e){if("ignoreEvents"===n.props.selectable)return!$E(Object(f.findDOMNode)(E(n)),e)})),t.on("click",(function(e){return i(e,"click")})),t.on("doubleClick",(function(e){return i(e,"doubleClick")})),t.on("select",(function(e){n.state.selecting&&(n._selectSlot(qe({},n.state,{action:"select",bounds:e})),n.setState({selecting:!1}))})),t.on("reset",(function(){n.state.selecting&&n.setState({selecting:!1})}))},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(e){for(var t=e.startDate,a=e.endDate,r=e.action,i=e.bounds,o=e.box,s=t,l=[];Rw(s,a);)l.push(s),s=xw(s,n.props.step,"minutes");lw(n.props.onSelectSlot,{slots:l,start:t,end:a,resourceId:n.props.resource,action:r,bounds:i,box:o})},n._select=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];lw(n.props.onSelectEvent,t)},n._doubleClick=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];lw(n.props.onDoubleClickEvent,t)},n.slotMetrics=mT(n.props),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentWillReceiveProps",value:function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(e)}},{key:"componentDidUpdate",value:function(e,t){var n=!Ow(e.getNow(),this.props.getNow(),"minutes");if(e.isNow!==this.props.isNow||n){if(this.clearTimeIndicatorInterval(),this.props.isNow){var a=!n&&Ow(e.date,this.props.date,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(a)}}else!this.props.isNow||Ow(e.min,this.props.min,"minutes")&&Ow(e.max,this.props.max,"minutes")||this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()}),6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,a=(0,e.getNow)();if(a>=t&&a<=n){var r=this.slotMetrics.getCurrentTimePosition(a);this.setState({timeIndicatorPosition:r})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.max,n=e.rtl,a=e.isNow,r=e.resource,i=e.accessors,o=e.localizer,s=e.getters,l=s.dayProp,c=pa(s,["dayProp"]),u=e.components,d=u.eventContainerWrapper,p=pa(u,["eventContainerWrapper"]),f=this.slotMetrics,m=this.state,g=m.selecting,v=m.top,y=m.height,_={start:m.startDate,end:m.endDate},b=l(t),w=b.className,E=b.style;return h.a.createElement("div",{style:E,className:tw(w,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",g&&"rbc-slot-selecting")},f.groups.map((function(e,t){return h.a.createElement(TT,{key:t,group:e,resource:r,getters:c,components:p})})),h.a.createElement(d,{localizer:o,resource:r,accessors:i,getters:c,components:p,slotMetrics:f},h.a.createElement("div",{className:tw("rbc-events-container",n&&"rtl")},this.renderEvents())),g&&h.a.createElement("div",{className:"rbc-slot-selection",style:{top:v,height:y}},h.a.createElement("span",null,o.format(_,"selectRangeFormat"))),a&&h.a.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(h.a.Component);ST.defaultProps={dragThroughEvents:!0,timeslots:2};var kT,OT=ST;function MT(e,t){var n=oE(e);return n?n.innerWidth:t?e.clientWidth:uE(e).width}function LT(e){if((!kT&&0!==kT||e)&&fE){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),kT=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return kT}var DT=function(e){var t=e.label;return h.a.createElement(h.a.Fragment,null,t)},RT=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).handleHeaderClick=function(e,t,a){a.preventDefault(),lw(n.props.onDrillDown,[e,t])},n.renderRow=function(e){var t=n.props,a=t.events,r=t.rtl,i=t.selectable,o=t.getNow,s=t.range,l=t.getters,c=t.localizer,u=t.accessors,d=t.components,p=u.resourceId(e),f=e?a.filter((function(e){return u.resource(e)===p})):a;return h.a.createElement(oT,{isAllDay:!0,rtl:r,getNow:o,minRows:2,range:s,events:f,resourceId:p,className:"rbc-allday-cell",selectable:i,selected:n.props.selected,components:d,accessors:u,getters:l,localizer:c,onRowExpand:n.props.onRowExpand,onDoubleClick:n.props.onDoubleClickEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold})},n}return S(t,e),_(t,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,a=n.localizer,r=n.getDrilldownView,i=n.getNow,o=n.getters.dayProp,s=n.components.header,l=void 0===s?sT:s,c=i();return e.map((function(e,n){var i=r(e),s=a.format(e,"dayFormat"),u=o(e),d=u.className,p=u.style,f=h.a.createElement(l,{date:e,label:s,localizer:a});return h.a.createElement("div",{key:n,style:p,className:tw("rbc-header",d,Ow(e,c,"day")&&"rbc-today")},i?h.a.createElement("button",{onClick:function(n){return t.handleHeaderClick(e,i,n)}},f):h.a.createElement("span",null,f))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,a=t.rtl,r=t.resources,i=t.range,o=t.events,s=t.getNow,l=t.accessors,c=t.selectable,u=t.components,d=t.getters,p=t.scrollRef,f=t.localizer,m=t.isOverflowing,g=t.components,v=g.timeGutterHeader,y=g.resourceHeader,_=void 0===y?DT:y,b={};m&&(b[a?"marginLeft":"marginRight"]="".concat(LT(),"px"));var w=r.groupEvents(o);return h.a.createElement("div",{style:b,ref:p,className:tw("rbc-time-header",m&&"rbc-overflowing")},h.a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},v&&h.a.createElement(v,null)),r.map((function(t,n){var r=Qo(t,2),o=r[0],p=r[1];return h.a.createElement("div",{className:"rbc-time-header-content",key:o||n},p&&h.a.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(n)},h.a.createElement("div",{className:"rbc-header"},h.a.createElement(_,{index:n,label:l.resourceTitle(p),resource:p}))),h.a.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(i.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(i)),h.a.createElement(oT,{isAllDay:!0,rtl:a,getNow:s,minRows:2,range:i,events:w.get(o)||[],resourceId:p&&o,className:"rbc-allday-cell",selectable:c,selected:e.props.selected,components:u,accessors:l,getters:d,localizer:f,onRowExpand:e.props.onRowExpand,onDoubleClick:e.props.onDoubleClickEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold}))})))}}]),t}(h.a.Component),NT=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).renderSlot=function(e,t){if(0!==t)return null;var a=n.props,r=a.localizer,i=a.getNow,o=n.slotMetrics.dateIsInGroup(i(),t);return h.a.createElement("span",{className:tw("rbc-label",o&&"rbc-now")},r.format(e,"timeGutterFormat"))};var o=n.props,s=o.min,l=o.max,c=o.timeslots,u=o.step;return n.slotMetrics=mT({min:s,max:l,timeslots:c,step:u}),n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.min,n=e.max,a=e.timeslots,r=e.step;this.slotMetrics=this.slotMetrics.update({min:t,max:n,timeslots:a,step:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.resource,a=t.components;return h.a.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map((function(t,r){return h.a.createElement(TT,{key:r,group:t,resource:n,components:a,renderSlot:e.renderSlot})})))}}]),t}(p.Component),IT=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleScroll=function(e){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=e.target.scrollLeft)},n.handleResize=function(){_E(n.rafHandle),n.rafHandle=bE(n.checkOverflow)},n.gutterRef=function(e){n.gutter=e&&Object(f.findDOMNode)(e)},n.onRowExpand=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];lw(n.props.onRowExpand,t)},n.handleSelectAllDaySlot=function(e,t){lw(n.props.onSelectSlot,{slots:e,start:e[0],end:e[e.length-1],action:t.action})},n.checkOverflow=function(){if(!n._updatingOverflow){var e=n.contentRef.current,t=e.scrollHeight>e.clientHeight;n.state.isOverflowing!==t&&(n._updatingOverflow=!0,n.setState({isOverflowing:t},(function(){n._updatingOverflow=!1})))}},n.memoizedResources=CE((function(e,t){return function(e,t){return{map:function(n){return e?e.map((function(e,a){return n([t.resourceId(e),e],a)})):[n([pT,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach((function(e){var n=t.resource(e)||pT,r=a.get(n)||[];r.push(e),a.set(n,r)})),a):(a.set(pT,n),a)}}}(e,t)})),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=h.a.createRef(),n.contentRef=h.a.createRef(),n._scrollRatio=null,n}return S(t,e),_(t,[{key:"componentWillMount",value:function(){this.calculateScroll()}},{key:"componentDidMount",value:function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),_E(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){null==this.props.width&&this.measureGutter(),this.applyScroll()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.range,a=t.scrollToTime;Ow(e.range[0],n[0],"minute")&&Ow(e.scrollToTime,a,"minute")||this.calculateScroll(e)}},{key:"renderEvents",value:function(e,t,n){var a=this,r=this.props,i=r.min,o=r.max,s=r.components,l=r.accessors,c=r.localizer,u=r.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,l),p=d.groupEvents(t);return d.map((function(t,r){var d=Qo(t,2),f=d[0],m=d[1];return e.map((function(e,t){var d=(p.get(f)||[]).filter((function(t){return Aw(e,l.start(t),l.end(t),"day")}));return h.a.createElement(OT,Object.assign({},a.props,{localizer:c,min:ww(e,i),max:ww(e,o),resource:m&&f,components:s,isNow:Ow(e,n,"day"),key:r+"-"+t,date:e,events:d,dayLayoutAlgorithm:u}))}))}))}},{key:"render",value:function(){var e=this.props,t=e.events,n=e.range,a=e.width,r=e.rtl,i=e.selected,o=e.getNow,s=e.resources,l=e.components,c=e.accessors,u=e.getters,d=e.localizer,p=e.min,f=e.max,m=e.showMultiDayTimes,g=e.longPressThreshold;a=a||this.state.gutterWidth;var v=n[0],y=n[n.length-1];this.slots=n.length;var _=[],b=[];return t.forEach((function(e){if(Kw(e,v,y,c)){var t=c.start(e),n=c.end(e);c.allDay(e)||Ew(t)&&Ew(n)||!m&&!Ow(t,n,"day")?_.push(e):b.push(e)}})),_.sort((function(e,t){return Jw(e,t,c)})),h.a.createElement("div",{className:tw("rbc-time-view",s&&"rbc-time-view-resources")},h.a.createElement(RT,{range:n,events:_,width:a,rtl:r,getNow:o,localizer:d,selected:i,resources:this.memoizedResources(s,c),selectable:this.props.selectable,accessors:c,getters:u,components:l,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:g,onSelectSlot:this.handleSelectAllDaySlot,onRowExpand:this.onRowExpand,onDoubleClickEvent:this.props.onDoubleClickEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView}),h.a.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},h.a.createElement(NT,{date:v,ref:this.gutterRef,localizer:d,min:ww(v,p),max:ww(v,f),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:l,className:"rbc-time-gutter"}),this.renderEvents(n,b,o())))}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t=MT(e.gutter);t&&e.state.gutterWidth!==t&&e.setState({gutterWidth:t})}))}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,a=e.scrollToTime,r=a-Sw(a,"day"),i=Tw(n,t);this._scrollRatio=r/i}}]),t}(p.Component);IT.defaultProps={step:30,timeslots:2,min:Sw(new Date,"day"),max:kw(new Date,"day"),scrollToTime:Sw(new Date,"day")};var AT=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,n=e.date,a=pa(e,["date"]),r=t.range(n);return h.a.createElement(IT,Object.assign({},a,{range:r,eventOffset:10}))}}]),t}(h.a.Component);AT.range=function(e){return[Sw(e,"day")]},AT.navigate=function(e,t){switch(t){case iw.PREVIOUS:return xw(e,-1,"day");case iw.NEXT:return xw(e,1,"day");default:return e}},AT.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var PT=AT;function YT(e){return Zo(e)||R(e)||$o()}var FT=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,n=e.date,a=pa(e,["date"]),r=t.range(n,this.props);return h.a.createElement(IT,Object.assign({},a,{range:r,eventOffset:15}))}}]),t}(h.a.Component);FT.defaultProps=IT.defaultProps,FT.navigate=function(e,t){switch(t){case iw.PREVIOUS:return xw(e,-1,"week");case iw.NEXT:return xw(e,1,"week");default:return e}},FT.range=function(e,t){var n=t.localizer.startOfWeek();return bw(Sw(e,"week",n),kw(e,"week",n))},FT.title=function(e,t){var n=t.localizer,a=YT(FT.range(e,{localizer:n})),r=a[0],i=a.slice(1);return n.format({start:r,end:i.pop()},"dayRangeHeaderFormat")};var jT=FT;function UT(e,t){return jT.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}var HT=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=pa(e,["date"]),a=UT(t,this.props);return h.a.createElement(IT,Object.assign({},n,{range:a,eventOffset:15}))}}]),t}(h.a.Component);HT.defaultProps=IT.defaultProps,HT.range=UT,HT.navigate=jT.navigate,HT.title=function(e,t){var n=t.localizer,a=YT(UT(e,{localizer:n})),r=a[0],i=a.slice(1);return n.format({start:r,end:i.pop()},"dayRangeHeaderFormat")};var BT=HT;function VT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var GT=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).renderDay=function(e,t,a){var r=n.props,i=r.selected,o=r.getters,s=r.accessors,l=r.localizer,c=r.components,u=c.event,d=c.date;return(t=t.filter((function(t){return Kw(t,Sw(e,"day"),kw(e,"day"),s)}))).map((function(r,c){var p=s.title(r),f=s.end(r),m=s.start(r),g=o.eventProp(r,m,f,LE(r,i)),v=0===c&&l.format(e,"agendaDateFormat"),y=0===c&&h.a.createElement("td",{rowSpan:t.length,className:"rbc-agenda-date-cell"},d?h.a.createElement(d,{day:e,label:v}):v);return h.a.createElement("tr",{key:a+"_"+c,className:g.className,style:g.style},y,h.a.createElement("td",{className:"rbc-agenda-time-cell"},n.timeRangeLabel(e,r)),h.a.createElement("td",{className:"rbc-agenda-event-cell"},u?h.a.createElement(u,{event:r,title:p}):p))}),[])},n.timeRangeLabel=function(e,t){var a=n.props,r=a.accessors,i=a.localizer,o="",s=a.components.time,l=i.messages.allDay,c=r.end(t),u=r.start(t);return r.allDay(t)||(Ow(u,c)?l=i.format(u,"agendaTimeFormat"):Ow(u,c,"day")?l=i.format({start:u,end:c},"agendaTimeRangeFormat"):Ow(e,u,"day")?l=i.format(u,"agendaTimeFormat"):Ow(e,c,"day")&&(l=i.format(c,"agendaTimeFormat"))),Mw(e,u,"day")&&(o="rbc-continues-prior"),Dw(e,c,"day")&&(o+=" rbc-continues-after"),h.a.createElement("span",{className:o.trim()},s?h.a.createElement(s,{event:t,day:e,label:l}):l)},n._adjustHeader=function(){if(n.tbodyRef.current){var e=n.headerRef.current,t=n.tbodyRef.current.firstChild;if(t){var a,r,i=n.contentRef.current.scrollHeight>n.contentRef.current.clientHeight,o=n._widths||[];n._widths=[MT(t.children[0]),MT(t.children[1])],o[0]===n._widths[0]&&o[1]===n._widths[1]||(n.dateColRef.current.style.width=n._widths[0]+"px",n.timeColRef.current.style.width=n._widths[1]+"px"),i?(r="rbc-header-overflowing",(a=e).classList?a.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,r)||("string"===typeof a.className?a.className=a.className+" "+r:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+r)),e.style.marginRight=LT()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=VT(e.className,t):e.setAttribute("class",VT(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},n.headerRef=h.a.createRef(),n.dateColRef=h.a.createRef(),n.timeColRef=h.a.createRef(),n.contentRef=h.a.createRef(),n.tbodyRef=h.a.createRef(),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this._adjustHeader()}},{key:"componentDidUpdate",value:function(){this._adjustHeader()}},{key:"render",value:function(){var e=this,t=this.props,n=t.length,a=t.date,r=t.events,i=t.accessors,o=t.localizer.messages,s=xw(a,n,"day"),l=bw(a,s,"day");return(r=r.filter((function(e){return Kw(e,a,s,i)}))).sort((function(e,t){return+i.start(e)-+i.start(t)})),h.a.createElement("div",{className:"rbc-agenda-view"},0!==r.length?h.a.createElement(h.a.Fragment,null,h.a.createElement("table",{ref:this.headerRef,className:"rbc-agenda-table"},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{className:"rbc-header",ref:this.dateColRef},o.date),h.a.createElement("th",{className:"rbc-header",ref:this.timeColRef},o.time),h.a.createElement("th",{className:"rbc-header"},o.event)))),h.a.createElement("div",{className:"rbc-agenda-content",ref:this.contentRef},h.a.createElement("table",{className:"rbc-agenda-table"},h.a.createElement("tbody",{ref:this.tbodyRef},l.map((function(t,n){return e.renderDay(t,r,n)})))))):h.a.createElement("span",{className:"rbc-agenda-empty"},o.noEventsInRange))}}]),t}(h.a.Component);GT.defaultProps={length:30},GT.range=function(e,t){var n=t.length;return{start:e,end:xw(e,void 0===n?GT.defaultProps.length:n,"day")}},GT.navigate=function(e,t,n){var a=n.length,r=void 0===a?GT.defaultProps.length:a;switch(t){case iw.PREVIOUS:return xw(e,-r,"day");case iw.NEXT:return xw(e,r,"day");default:return e}},GT.title=function(e,t){var n=t.length,a=void 0===n?GT.defaultProps.length:n,r=t.localizer,i=xw(e,a,"day");return r.format({start:e,end:i},"agendaHeaderFormat")};var WT=GT,zT=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getDayEvents=function(){var e=n.props,t=e.day,a=e.events,r=e.accessors;return a.filter((function(e){return e.start&&Aw(t,r.start(e),r.end(e),nw.DAY)}))},n.onEventsToggle=function(){n.setState({isShowEvents:!n.state.isShowEvents})},n.hideDayEvents=function(){n.setState({isShowEvents:!1})},n.state={isShowEvents:!1},n.position={},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.rbcYearDayItem,t=e.offsetParent,n=e.offsetLeft,a=t.offsetTop,r=t.offsetParent,i=r.offsetTop,o=r.offsetLeft;this.position={left:o+n+34,top:i+a}}},{key:"render",value:function(){var e=this,t=this.props,n=t.day,a=t.monthDate,r=t.localizer,i=t.accessors,o=t.selected,s=t.getters,l=t.components,c=t.popupOffset,u=t.onRowExpand,d=this.state.isShowEvents,p=Bw(n)!==Bw(a),f=Ow(n,new Date,"day"),m=r.format(n,"dateFormat"),g=this.getDayEvents();return h.a.createElement("div",{className:"rbc-year-day-item",ref:function(t){return e.rbcYearDayItem=t}},h.a.createElement("div",{className:"rbc-year-day-content",onClick:this.onEventsToggle},h.a.createElement("div",{className:tw("rbc-year-day",p&&"rbc-off-range",f&&"rbc-current")},Number(m))),g.length>0&&h.a.createElement("span",{className:"day-events"}),d&&h.a.createElement(TE,Object.assign({},this.props,{popupOffset:c,accessors:i,getters:s,selected:o,components:l,localizer:r,position:this.position,events:g,slotStart:n,onSelect:u,onHidePopup:this.hideDayEvents})))}}]),t}(h.a.Component),qT=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).renderDay=function(e,t){var a=n.props,r=a.events,i=a.monthDate;return h.a.createElement("div",{className:"rbc-year-day-container",key:"rbc-year-day-container-".concat(t)},e.map((function(a,o){return h.a.createElement(zT,Object.assign({key:"rbc-year-day-".concat(t,"-").concat(o),day:a,events:r,monthDate:i,range:e},n.props))})))},n.getContainer=function(){return Object(f.findDOMNode)(E(n))},n}return S(t,e),_(t,[{key:"renderMonthHeaders",value:function(){var e=this.props,t=e.localizer,n=e.components,a=e.monthDate,r=n.header||sT;return h.a.createElement("div",{className:"rbc-year-month-header"},h.a.createElement(r,{date:a,localizer:t,label:t.format(a,"monthFormat")}))}},{key:"renderWeekDayHeaders",value:function(e){var t=this.props,n=t.localizer,a=t.components,r=e[0],i=e[e.length-1],o=a.header||sT;return bw(r,i,"day").map((function(e,t){return h.a.createElement("div",{key:"header_"+t,className:"rbc-header"},h.a.createElement(o,{date:e,localizer:n,label:n.format(e,"weekdayFormat")}))}))}},{key:"render",value:function(){var e=this.props.weeks;return h.a.createElement(p.Fragment,null,this.renderMonthHeaders(),h.a.createElement("div",{className:"rbc-row rbc-month-header"},this.renderWeekDayHeaders(e[0])),e.map(this.renderDay))}}]),t}(h.a.Component),KT=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onYearViewScroll=function(e){var t=e.target,a=t.scrollLeft,r=t.scrollTop;n.setState({scroll:{scrollLeft:a,scrollTop:r}})},n.state={scroll:{scrollLeft:0,scrollTop:0}},n.rbcYearViewSize={},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.rbcYearView,t=e.offsetWidth,n=e.offsetHeight;this.rbcYearViewSize={height:n,width:t}}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,a=t.localizer,r=t.className;return h.a.createElement("div",{className:tw("rbc-year-view",r),onScroll:this.onYearViewScroll,ref:function(t){return e.rbcYearView=t}},rw.map((function(t){var r=Vw(n),i=new Date("".concat(r,"-").concat(t)),o=dw(function(e,t){for(var n=vw(e,t),a=[];a.length<42;)a.push(n),n=xw(n,1,nw.DAY);return a}(i,a),7);return h.a.createElement("div",{className:"rbc-year-month-view",key:"rbc-year-month-".concat(t)},h.a.createElement(qT,Object.assign({},e.props,{rbcYearViewSize:e.rbcYearViewSize,rbcYearViewScroll:e.state.scroll,weeks:o,monthDate:i})))})))}}]),t}(h.a.Component);KT.range=function(e,t){var n=t.localizer;return{start:vw(e,n),end:yw(e,n)}},KT.navigate=function(e,t){switch(t){case iw.PREVIOUS:return xw(e,-1,"year");case iw.NEXT:return xw(e,1,"year");default:return e}},KT.title=function(e,t){var n=t.localizer;return(0,t.t)("xxx_Year",{year:n.format(e,"yearHeaderFormat")})};var XT,JT=KT,ZT=(D(XT={},ow.MONTH,dT),D(XT,ow.WEEK,jT),D(XT,ow.WORK_WEEK,BT),D(XT,ow.DAY,PT),D(XT,ow.AGENDA,WT),D(XT,ow.YEAR,JT),XT);var $T=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===typeof e&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},QT=z.a.oneOfType([z.a.string,z.a.func]);function ex(e,t,n,a,r){return"function"===typeof a?a(n,r,e):t.call(e,n,a,r)}var tx=function e(t){var n=this;v(this,e),this.propType=t.propType||QT,this.startOfWeek=t.firstOfWeek,this.formats=t.formats,this.format=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return ex.apply(void 0,[n,t.format].concat(a))}};function nx(e,t,n,a){var r=qe({},e.formats,{},n);return qe({},e,{messages:a,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,a){return e.format(n,r[a]||a,t)}})}var ax=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).navigate=function(e){n.props.onNavigate(e)},n.view=function(e){n.props.onView(e)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,n=e.label,a=e.t,r=e.onToggleSelectColumn,i=e.startDateColumn,o=e.isToday,s=i?a("Using_xxx_field",{column_name:i.name}):a("Select_Field");return h.a.createElement("div",{className:"rbc-toolbar"},h.a.createElement("div",{className:"rbc-btn-group"},h.a.createElement("div",{className:"rbc-tool-icon-group"},h.a.createElement("span",{onClick:this.navigate.bind(null,iw.PREVIOUS),className:"rbc-tool-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-left"})),h.a.createElement("span",{className:"rbc-split-line"}),h.a.createElement("span",{onClick:this.navigate.bind(null,iw.NEXT),className:"rbc-tool-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),h.a.createElement("span",{className:tw("rbc-tool-btn",{"today-btn-disabled":o}),onClick:o?void 0:this.navigate.bind(null,iw.TODAY)},a(t.today)),h.a.createElement("span",{onClick:r,className:"selected-column"},h.a.createElement("i",{className:"dtable-font dtable-icon-calendar-alt-solid"}),h.a.createElement("span",null,s))),h.a.createElement("span",{className:"rbc-toolbar-label"},n),h.a.createElement("div",{className:"rbc-btn-group view-type"},h.a.createElement("div",{className:"view-type-list"},this.viewNamesGroup(t))))}},{key:"viewNamesGroup",value:function(e){var t=this,n=this.props,a=n.views,r=n.view,i=n.t;if(a.length>0)return a.map((function(n){return h.a.createElement("div",{key:n,className:tw({"rbc-view-type":!0,"rbc-active":r===n}),onClick:t.view.bind(null,n)},i(e[n]))}))}}]),t}(h.a.Component),rx=Object(I.d)("dtable")(ax);function ix(e){return Array.isArray(e)?e:Object.keys(e)}var ox=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getViews=function(){var e=n.props.views,t={};return Array.isArray(e)&&e.forEach((function(e){t[e]=ZT[e]})),t},n.getView=function(){return n.getViews()[n.props.view]},n.getDrilldownView=function(e){var t=n.props,a=t.view,r=t.drilldownView,i=t.getDrilldownView;return i?i(e,a,Object.keys(n.getViews())):r},n.onRowExpand=function(e){n.props.onRowExpand(e)},n.onCalendarInsertRow=function(e){var t=n.props,a=t.startDateColumn;(0,t.onCalendarInsertRow)(D({},a.key,e))},n.handleRangeChange=function(e,t,a){var r=n.props,i=r.onRangeChange,o=r.localizer;i&&t.range&&i(t.range(e,{localizer:o}),a)},n.handleNavigate=function(e,t){var a=n.props,r=(a.view,a.getNow),i=pa(a,["view","getNow"]),o=n.state.date,s=n.getView(),l=r(),c=!1;o=function(e,t){var n=t.action,a=t.date,r=t.today,i=pa(t,["action","date","today"]);switch(e="string"===typeof e?ZT[e]:e,n){case iw.TODAY:a=r||new Date;break;case iw.DATE:break;default:a=e.navigate(a,n,i)}return a}(s,qe({},i,{action:e,date:t||o||l,today:l})),c=e===iw.TODAY||Ow(o,l,"day"),n.handleRangeChange(o,s),n.setState({isToday:c,date:o})},n.handleViewChange=function(e){e!==n.props.view&&function(e,t){return-1!==ix(t.views).indexOf(e)}(e,n.props)&&n.props.onView(e);var t=n.getViews();n.handleRangeChange(n.state.date||n.props.getNow(),t[e],e)},n.handleDoubleClickEvent=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];lw(n.props.onDoubleClickEvent,t)},n.handleSelectSlot=function(e){lw(n.props.onSelectSlot,e)},n.handleDrillDown=function(e,t){var a=n.props.onDrillDown;a?a(e,t,n.drilldownView):(t&&n.handleViewChange(t),n.handleNavigate(iw.DATE,e))},n.state={context:n.getContext(n.props),isToday:!0,date:n.props.defaultDate||""},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({context:this.getContext(e)})}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,a=e.allDayAccessor,r=e.tooltipAccessor,i=e.titleAccessor,o=e.resourceAccessor,s=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventPropGetter,u=e.slotPropGetter,d=e.dayPropGetter,p=e.view,h=e.views,f=e.localizer,m=e.culture,g=e.messages,v=void 0===g?{}:g,y=e.components,_=void 0===y?{}:y,b=e.formats,w=void 0===b?{}:b,E=ix(h);return{viewNames:E,localizer:nx(f,m,w,function(e){return qe({},cw,{},e)}(v)),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},slotProp:function(){return u&&u.apply(void 0,arguments)||{}},dayProp:function(){return d&&d.apply(void 0,arguments)||{}}},components:pw(_[p]||{},uw(_,E),{eventWrapper:wT,eventContainerWrapper:wT,dateCellWrapper:wT,weekWrapper:wT,timeSlotWrapper:wT}),accessors:{start:$T(t),end:$T(n),allDay:$T(a),tooltip:$T(r),title:$T(i),resource:$T(o),resourceId:$T(s),resourceTitle:$T(l)}}}},{key:"render",value:function(){var e=this.props,t=e.view,n=e.toolbar,a=e.events,r=e.style,i=e.className,o=e.elementProps,s=e.getNow,l=e.length,c=e.showMultiDayTimes,u=(e.components,e.formats,e.messages,e.culture,e.startDateColumn),d=e.t,p=pa(e,["view","toolbar","events","style","className","elementProps","getNow","length","showMultiDayTimes","components","formats","messages","culture","startDateColumn","t"]),f=this.state,m=f.date,g=f.context,v=f.isToday,y=m||s(),_=this.getView(),b=g.accessors,w=g.components,E=g.getters,T=g.localizer,x=g.viewNames,C=w.toolbar||rx,S=_.title(y,{localizer:T,length:l,t:d});return h.a.createElement("div",Object.assign({},o,{className:tw(i,"rbc-calendar",p.rtl&&"rbc-rtl"),style:r}),n&&h.a.createElement(C,{date:y,view:t,views:x,label:S,startDateColumn:u,onToggleSelectColumn:this.props.onToggleSelectColumn,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T,isToday:v}),u?h.a.createElement(_,Object.assign({},p,{events:a,date:y,getNow:s,length:l,localizer:T,getters:E,components:w,accessors:b,showMultiDayTimes:c,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onRowExpand:this.onRowExpand,onDoubleClickEvent:this.handleDoubleClickEvent,onSelectSlot:this.handleSelectSlot,containerPaddingTop:this.props.containerPaddingTop,calendarHeaderHeight:46,onInsertRow:this.onCalendarInsertRow})):h.a.createElement("div",{className:"empty-date-tips"},d("No_date_field_to_place_records_on_the_calendar")))}}]),t}(h.a.Component);ox.defaultProps={elementProps:{},toolbar:!0,view:ow.MONTH,views:[ow.MONTH],step:30,length:30,drilldownView:ow.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var sx,lx=Object(I.d)("dtable")(ox),cx=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.row=t.row||{},this.title=t.title||null,this.start=t.date&&new Date(t.date),this.end=t.endDate?new Date(t.endDate):this.start,this.bgColor=t.bgColor||null,this.highlightColor=t.highlightColor||null},ux=function(e,t,n){var a=e.start,r=e.end;return n.format(a,"LT",t)+" \u2013 "+n.format(r,"LT",t)},dx={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",monthFormat:"MMM",selectRangeFormat:ux,eventTimeRangeFormat:ux,eventTimeRangeStartFormat:function(e,t,n){var a=e.start;return n.format(a,"LT",t)+" \u2013 "},eventTimeRangeEndFormat:function(e,t,n){var a=e.end;return" \u2013 "+n.format(a,"LT",t)},timeGutterFormat:"LT",yearHeaderFormat:"YYYY",monthHeaderFormat:"YYYY-MM",dayHeaderFormat:"MM-dd-DD",dayRangeHeaderFormat:function(e,t,n){var a=e.start,r=e.end;return n.format(a,"MMMM DD",t)+" \u2013 "+n.format(r,Ow(a,r,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,n){var a=e.start,r=e.end;return n.format(a,"L",t)+" \u2013 "+n.format(r,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:ux},px=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onToggleSelectColumn()},n.getSelectorColumns=function(){var e=n.props.columns,t=[],a=[];return e&&e.map((function(e){var n=e.type;n===qt?t.push(e):n===Kt&&a.push(e)})),{dateColumns:t,colorColumns:a}},n.onSelectDateColumn=function(e){n.setState({startDateColumn:e.column})},n.onSelectEndDateColumn=function(e){n.setState({endDateColumn:e.column})},n.onSelectColorColumn=function(e){n.setState({labelColumn:e.column})},n.createLabel=function(e){if(!e||0===Object.keys(e).length)return{};var t=_n[e.type];return{label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:t})),h.a.createElement("span",{className:"select-option-name"},e.name))}},n.renderDateSelector=function(){var e=n.props.t,t=n.createLabel(n.state.startDateColumn);return h.a.createElement(bb,{value:t,onSelectOption:n.onSelectDateColumn,placeholder:e("Select_date_column"),options:n.createDateOptions()})},n.renderEndDateSelector=function(){var e=n.props.t,t=n.createLabel(n.state.endDateColumn);return h.a.createElement(bb,{value:t,onSelectOption:n.onSelectEndDateColumn,placeholder:e("Select_an_end_date_column"),options:n.createDateOptions()})},n.renderColorSelector=function(){var e=n.props.t,t=n.createLabel(n.state.labelColumn);return h.a.createElement(bb,{value:t,onSelectOption:n.onSelectColorColumn,placeholder:e("Select_color_column"),options:n.createColorOptions()})},n.onSubmit=function(){var e=n.state,t=e.startDateColumn,a=e.endDateColumn,r=e.labelColumn;n.props.modifySelectedColumn({startDateColumn:t,endDateColumn:a,labelColumn:r})},n.selectorColumns=n.getSelectorColumns(),n.state={startDateColumn:n.props.startDateColumn||null,labelColumn:n.props.labelColumn||null,endDateColumn:n.props.endDateColumn||null},n}return S(t,e),_(t,[{key:"createDateOptions",value:function(){var e=this.selectorColumns.dateColumns;return e&&e.map((function(e){return{value:{column:e},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[e.type]})),h.a.createElement("span",{className:"select-option-name"},e.name))}}))}},{key:"createColorOptions",value:function(){var e=this.selectorColumns.colorColumns;return e&&e.map((function(e){return{value:{column:e},label:h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[e.type]})),h.a.createElement("span",{className:"select-option-name"},e.name))}}))}},{key:"render",value:function(){var e=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},e("Select_Field")),h.a.createElement(kr,{style:{padding:0}},h.a.createElement("div",{className:"calendar-selection-title"},e("Start_Date")),h.a.createElement("div",{className:"calendar-select-options-container"},this.renderDateSelector()),h.a.createElement("div",{className:"calendar-selection-title"},e("End_Date_Optional")),h.a.createElement("div",{className:"calendar-select-options-container"},this.renderEndDateSelector()),h.a.createElement("div",{className:"calendar-selection-title"},e("Color_From")),h.a.createElement("div",{className:"calendar-select-options-container"},this.renderColorSelector()),h.a.createElement("div",{className:"calendar-column-select-description"},e("Calendar_Select_Description"))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.props.onToggleSelectColumn},e("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.onSubmit},e("Submit"))))}}]),t}(p.Component),hx=Object(I.d)("dtable")(px),fx=(n(1241),sx=ft.a,new tx({formats:dx,firstOfWeek:function(e){return 0},format:function(e,t,n){return(a=sx(e),r=n,r?a.locale(r):a).format(t);var a,r}})),mx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleSelectColumn=function(){n.setState({isShowSelectColumnDialog:!n.state.isShowSelectColumnDialog})},n.getEvent=function(e,t,a,r){var i,o=t.key,s=a.key,l=n.getRecordName(e),c=e[o],u=e[s];if(r){var d=r.key,p=r.data,h=p&&p.options,f=e[d],m=h&&h.find((function(e){return e.id===f}));i=m?m.color:pt.SELECT_OPTION_COLORS[2].COLOR}else i=pt.SELECT_OPTION_COLORS[2].COLOR;var g=pt.HIGHLIGHT_COLORS[i];return new cx({row:e,date:c,endDate:u,title:l,bgColor:i,highlightColor:g})},n.getRecordName=function(e){return e["0000"]||"Unnamed record"},n.modifySelectedColumn=function(e){var t=e.startDateColumn,a=e.endDateColumn,r=e.labelColumn,i=t.key,o=a.key,s=r.key;n.props.updateTableSetting(pt.SETTING_KEY.CALENDAR_VIEW,{start_date_column_key:i,label_column_key:s,end_date_column_key:o}),n.setState({isShowSelectColumnDialog:!1})},n.getDateColumn=function(e){var t=n.props.table.columns;if(!Array.isArray(t))return{};if(!e)return t.find((function(e){return e.type===qt}))||{};var a=t.find((function(t){return t.key===e&&t.type===qt}));return a||(t.find((function(e){return e.type===qt}))||{})},n.getLabelColumn=function(){var e=n.props,t=e.settings,a=e.table.columns,r=(t||{}).label_column_key;if(!Array.isArray(a))return null;if(r){var i=a.find((function(e){return e.key===r}));if(i)return i}return a.find((function(e){return e.type===Kt}))},n.onCalendarInsertRow=function(e){var t,a=n.props,r=a.table,i=a.selectedViewIdx,o=a.rowGetter,s=a.onCalendarInsertRow,l=a.onRowExpand,c=r.views[i],u=pt.Views.getRowsLength(c,r),d=u>0?o(u-1)._id:"";pt.Views.isDefaultView(c)||(t=pt.Views.getRowDataUsedInFilters(c,r,d)),s({row_id:d,row_insert_position:"insert_below",row_data:t=Object.assign(e,t)});var p=o(u);p&&l(p)},n.onView=function(e){var t=JSON.parse(localStorage.getItem("selectedCalendarView"))||{},a=n.props.table;t[window.dtable.dtableUuid+"_"+a._id]=e,localStorage.setItem("selectedCalendarView",JSON.stringify(t)),n.setState({selectedView:e})},n.state={isShowSelectColumnDialog:!1,selectedView:ow.MONTH},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("selectedCalendarView"))||{},t=this.props.table,n=e[window.dtable.dtableUuid+"_"+t._id]||ow.MONTH;this.setState({selectedView:n})}},{key:"getEvents",value:function(e,t,n){var a=this,r=this.props,i=r.rowsCount,o=r.rowGetter,s=r.groupRowGetter,l=r.groups,c=r.isGroupView,u=[];if(!e)return[];if(c)l&&l.forEach((function(r,i){r.row_ids.forEach((function(r,o){var l=s({groupIdx:i,rowIdx:o}),c=a.getEvent(l,e,t,n);u.push(c)}))}));else for(var d=0;d<i;d++){var p=o(d),h=this.getEvent(p,e,t,n);u.push(h)}return u}},{key:"render",value:function(){var e=this.props,t=e.table,n=e.settings,a=t.columns,r=n||{},i=r.start_date_column_key,o=r.end_date_column_key,s=this.getDateColumn(i),l=o?this.getDateColumn(o):{},c=this.getLabelColumn(),u=this.getEvents(s,l,c),d=[ow.YEAR,ow.MONTH];return h.a.createElement(h.a.Fragment,null,h.a.createElement(lx,{columns:a,startDateColumn:s,labelColumn:c,onToggleSelectColumn:this.onToggleSelectColumn,localizer:fx,events:u,views:d,view:this.state.selectedView,onView:this.onView,defaultDate:new Date,onRowExpand:this.props.onRowExpand,containerPaddingTop:this.props.containerPaddingTop||0,onCalendarInsertRow:this.onCalendarInsertRow}),this.state.isShowSelectColumnDialog&&h.a.createElement(hx,{onToggleSelectColumn:this.onToggleSelectColumn,modifySelectedColumn:this.modifySelectedColumn,columns:a,startDateColumn:s,endDateColumn:l,labelColumn:c}))}}]),t}(h.a.Component),gx=(n(1242),function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.toggleCalendarDialog,n=e.settings,a=e.table,r=e.selectedViewIdx,i=e.rowsCount,o=e.groups,s=e.isGroupView;return h.a.createElement(_r,{isOpen:!0,toggle:t,className:"calendar-dialog",zIndex:1048},h.a.createElement(kr,null,h.a.createElement("div",{className:"calendar-veiw-container"},h.a.createElement(mx,{settings:n,table:a,selectedViewIdx:r,rowsCount:i,groups:o,isGroupView:s,containerPaddingTop:18,rowGetter:this.props.rowGetter,groupRowGetter:this.props.groupRowGetter,onRowExpand:this.props.onRowExpand,updateTableSetting:this.props.updateTableSetting,onCalendarInsertRow:this.props.onCalendarInsertRow}))))}}]),t}(h.a.Component)),vx=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).handleNameChange=function(e){n.setState({dbName:e.target.value})},n.createDataset=function(e){var t=window.dtable.fileName;window.dtableWebAPI.createCommonDataset(e,t,n.table.name,n.view.name).then((function(e){Za.success(n.props.t("Create_common_dataset_success")),n.toggle()})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))}))},n.handleSubmit=function(){var e,t=n.props.t,a=n.state.dbName.trim();a.length?a.indexOf("/")>-1&&(e=t("Global_table_name_should_not_include")):e=t("Global_table_name_is_required"),e?n.setState({errMessage:e}):n.createDataset(a)},n.handleKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),n.handleSubmit())},n.toggle=function(){n.props.toggle()},n.state={dbName:"",errMessage:""};var a=window.app.state,r=a.selectedTableIdx,i=a.selectedViewIdx,o=a.value.tables[r],s=o.views[i];return n.table=o,n.view=s,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){for(var e=window.app.state.datasetList,t=0;t<e.length;t++){var n=e[t];if(n.table_id===this.table._id&&n.view_id===this.view._id){this.setState({errMessage:this.props.t("Common_dataset_already_exists")});break}}}},{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.dbName,a=t.errMessage,r=""!==n;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},e("New_common_dataset")),h.a.createElement(kr,null,h.a.createElement(Em,null,h.a.createElement(Cm,null,h.a.createElement("p",null,e("Create_a_dataset_from_xxx",{view_name:this.view.name})),h.a.createElement(ir,{for:"dbName"},e("Common_dataset_name")),h.a.createElement(Lr,{id:"dbName",onKeyPress:this.handleKeyPress,value:n,onChange:this.handleNameChange}))),a&&h.a.createElement(xh,{color:"danger",className:"mt-2"},a)),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},e("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit,disabled:!r},e("Submit"))))}}]),t}(h.a.Component),yx=Object(I.d)("dtable")(vx),_x=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).hideViewMenu=function(e){n.viewMenuRef&&e&&!n.viewMenuRef.contains(e.target)&&n.props.hideViewMenu()},n.onExportViewAsExcel=function(){n.props.onExportViewAsExcel(),n.props.hideViewMenu()},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideViewMenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideViewMenu)}},{key:"render",value:function(){var e=this,t=window.dtable,n=t.canCreateCommonDataset,a=t.cloudMode,r=t.isOrgContext,i=t.isAdmin,o=n&&i&&(!a||r),s=this.props,l=s.t,c=s.viewMenuPosition||{},u=c.top,d=c.left;return h.a.createElement("div",{className:"dtable-dropdown-menu dropdown-menu large show",style:{top:u,left:d},ref:function(t){return e.viewMenuRef=t}},h.a.createElement("button",{className:"dropdown-item",onClick:this.onExportViewAsExcel},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-export"}),h.a.createElement("span",{className:"item-text"},l("Export_View_to_Excel"))),o&&h.a.createElement("button",{className:"dropdown-item",onClick:this.props.toggleCreateDatasetDialog},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-common-dataset"}),h.a.createElement("span",{className:"item-text"},l("Publish_as_Common_Dataset"))))}}]),t}(h.a.Component),bx=Object(I.d)("dtable")(_x),wx=[pt.CellType.DATE,pt.CellType.TEXT,pt.CellType.LONG_TEXT,pt.CellType.NUMBER],Ex=function(e,t){return pt.Views.isDefaultView(t)?Tx(e.rows):pt.Views.isGroupView(t)?xx(e,t):(n=e,t.rows.map((function(e,t){return{rowData:pt.TableUtils.getRowById(n,e),groupIdx:0,rowIdx:t}})));var n},Tx=function(e){return e.map((function(e,t){return{rowData:e,groupIdx:0,rowIdx:t}}))};var xx=function(e,t){var n=[],a=t.groups,r=0;return a.forEach((function(t,a){t.row_ids.forEach((function(t){var i=pt.TableUtils.getRowById(e,t);n.push({rowData:i,groupIdx:a,rowIdx:r}),r++}))})),n},Cx=function(e,t,n){var a={matchedCells:[]},r={};return a.matchedRows=r,t.forEach((function(t){var i=t.type,o=t.key;wx.includes(i)&&e.forEach((function(e){var t=e.rowData,s=e.groupIdx,l=e.rowIdx,c=t._id,u=t[o];if(u){var d;if(!(d=i===pt.CellType.LONG_TEXT?u.text:i===pt.CellType.NUMBER?u.toString():u)||"string"!==typeof d)return;if(d.toLowerCase().indexOf(n.toLowerCase())<0)return;r[c]?r[c].push(o):r[c]=[o],a.matchedCells.push({row:c,column:o,groupIdx:s,rowIdx:l})}}))})),a.currentSelectIndex=0,a},Sx=function(){return null},kx=function(e,t,n,a){var r=[];return e.forEach((function(e){t.find((function(t){var a=t.type,r=t.key;if(!wx.includes(a))return!1;var i=e[r];if(i){var o;if(!(o=a===pt.CellType.LONG_TEXT?i.text:a===pt.CellType.NUMBER?i.toString():i)||"string"!==typeof o)return!1;if(o.toLowerCase().indexOf(n.toLowerCase())>-1)return!0}return!1}))&&r.push(a(e))})),r},Ox=(n(1243),[pt.CellType.LONG_TEXT,pt.CellType.LINK_COMMON_DATASET,pt.CellType.FORMULA]),Mx=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onRowExpandOpen=function(){var e=n.props,t=e.row,a=e.table;(0,e.onRowExpandOpen)({row:t,table:a})},n.getRowName=function(){var e=n.props,t=e.row,a=e.rowIdx,r=t["0000"]||"";return"".concat(a?a+". ":"").concat(r)},n.getRowCellValueWidth=function(e){var t=e.type,n=e.data;switch(t){case pt.CellType.DATE:return n&&n.format&&n.format.indexOf("HH:mm")>-1?160:100;case pt.CellType.CTIME:case pt.CellType.MTIME:case pt.CellType.LINK:return 160;case pt.CellType.COLLABORATOR:return 100;case pt.CellType.CHECKBOX:return 40;case pt.CellType.NUMBER:return 120;default:return 100}},n.getCellShowValue=function(e,t,a){var r=a.key,i=n.getRowCellValueWidth(a);return h.a.createElement("div",{className:"row-cell-value",key:t+"_"+r,style:{width:i}},e||h.a.createElement("span",{className:"row-cell-value-empty"}))},n.isNonEmptyAarray=function(e){return Array.isArray(e)&&e.length>0},n.getRowShowValue=function(){var e=n.props,t=e.row,a=e.table,r=e.unShowColumnKeyList,i=a.columns,o=[],s=t._id;return i.forEach((function(e){var a,i=e.key,l=e.name,c=e.type,u=e.data,d=t[i],p=n.isNonEmptyAarray(d);if(!r.includes(i)&&!Ox.includes(c)){switch(c){case pt.CellType.TEXT:d&&"string"===typeof d&&(a=h.a.createElement("span",{className:"cell-value-ellipsis"},d));break;case pt.CellType.DATE:d&&"string"===typeof d&&(a=d);break;case pt.CellType.CTIME:case pt.CellType.MTIME:d&&"string"===typeof d&&(a=ft()(d).format("YYYY-MM-DD HH:mm:ss"));break;case pt.CellType.NUMBER:"number"===typeof d&&(a=h.a.createElement("div",{className:"number-formatter"},h.a.createElement("span",{className:"column-name"},l),d));break;case pt.CellType.LINK:d&&p&&(a=h.a.createElement(Lf,{column:e,row:t,isCellSelected:!1}));break;case pt.CellType.COLLABORATOR:if(d&&p){var f=window.app.state.collaborators,m=d.filter((function(e){return f.find((function(t){return t.email===e}))}));a=m.length>0?h.a.createElement(Rf,{value:m}):""}break;case pt.CellType.SINGLE_SELECT:if(d&&"string"===typeof d)a=(u&&u.options?u.options:[]).find((function(e){return e.id===d}))?h.a.createElement(Sf,{column:e,value:d}):"";break;case pt.CellType.MULTIPLE_SELECT:if(d&&p){var g=u&&u.options?u.options:[],v=d.filter((function(e){return g.find((function(t){return t.id===e}))}));a=v.length>0?h.a.createElement("span",{className:"multiple-select-formmatter"},v.map((function(t,n){return h.a.createElement(Sf,{column:e,value:t,key:"row-operation-multiple-select-".concat(n)})}))):""}break;case pt.CellType.FILE:if(d&&p){var y=d[0],_=y.name,b=y.type,w=Zf(_,b),E=d.length;a=h.a.createElement("div",{className:"image-cell-value"},h.a.createElement("img",{alt:"",src:w}),E>1&&h.a.createElement("span",{className:"cell-value-size"},"+"+E))}break;case pt.CellType.IMAGE:if(d&&p){var T=d[0],x=d.length;a=h.a.createElement("div",{className:"image-cell-value"},h.a.createElement("img",{alt:"",src:T}),x>1&&h.a.createElement("span",{className:"cell-value-size"},"+"+x))}break;case pt.CellType.CHECKBOX:a=h.a.createElement("input",{className:"checkbox",type:"checkbox",readOnly:!0,checked:!!d});break;case pt.CellType.GEOLOCATION:d&&"object"===typeof value&&(a=h.a.createElement(jf,{value:d,column:e,isCellSelected:!1,row:t}));break;case pt.CellType.CREATOR:case pt.CellType.LAST_MODIFIER:d&&(a=h.a.createElement(Yf,{value:d}))}o.push(n.getCellShowValue(a,s,e))}})),o},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"search-row",onClick:this.onRowExpandOpen},h.a.createElement("div",{className:"search-row-name"},this.getRowName()),h.a.createElement("div",{className:"search-row-value"},this.getRowShowValue()))}}]),t}(p.PureComponent);Mx.defaultProps={unShowColumnKeyList:["0000"]};var Lx=Object(I.d)("dtable")(Mx),Dx=function(e){function t(e){return v(this,t),T(this,x(t).call(this,e))}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.table,a=t.tableResult.matchedRows,r=Object.keys(a);return h.a.createElement("div",{className:"search-rows-list"},r.map((function(t,a){return h.a.createElement(Lx,{table:n,row:pt.TableUtils.getRowById(n,t),key:"search-views-item-".concat(a),onRowExpandOpen:e.props.onRowExpandOpen})})))}}]),t}(p.Component),Rx=Object(I.d)("dtable")(Dx),Nx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onRowsResultToggle=function(){n.setState({isRowsResultShow:!n.state.isRowsResultShow})},n.state={isRowsResultShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.result,n=e.onSearchTablesToggle,a=e.onRowExpandOpen,r=this.state.isRowsResultShow,i=t.name,o=t.tableResult,s=t.table,l=o.matchedCells.length;return h.a.createElement("div",{className:"search-table-result"},h.a.createElement("div",{className:"search-table-content",onClick:this.onRowsResultToggle},h.a.createElement("div",{className:"search-table-name"},h.a.createElement("i",{className:ie()("table-views-dropdown dtable-font dtable-icon-drop-down",{"table-views-dropdown-right":r})}),i),h.a.createElement("div",{className:"search-table-amount"},l)),r&&h.a.createElement(Rx,{table:s,tableResult:o,onSearchTablesToggle:n,onRowExpandOpen:a}))}}]),t}(p.PureComponent),Ix=Object(I.d)("dtable")(Nx),Ax=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.searchResult,n=e.onSearchTablesToggle,a=e.onRowExpandOpen;return t.map((function(e,t){return h.a.createElement(Ix,{result:e,key:"search-tables-item-".concat(t),onSearchTablesToggle:n,onRowExpandOpen:a})}))}}]),t}(p.Component),Px=Object(I.d)("dtable")(Ax),Yx=n(77),Fx=n.n(Yx),jx=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getEmpty=function(){return h.a.createElement("span",null,n.props.t("Empty"))},n.isNonEmptyAarray=function(e){return Array.isArray(e)&&e.length>0},n.getDisplayValue=function(e,t){var a=n.props,r=a.row,i=a.rowIdx,o=e.type,s=e.data,l=n.isNonEmptyAarray(t),c=n.getEmpty();switch(o){case pt.CellType.TEXT:case pt.CellType.DATE:return t&&"string"===typeof t?t:c;case pt.CellType.NUMBER:return"number"===typeof t?t:c;case pt.CellType.LONG_TEXT:return t&&"object"===typeof t?h.a.createElement(xf,{value:t,column:e}):c;case pt.CellType.COLLABORATOR:if(!l)return c;var u=window.app.state.collaborators;return t.filter((function(e){return u.find((function(t){return t.email===e}))})).length>0?h.a.createElement(Rf,{value:t}):c;case pt.CellType.SINGLE_SELECT:return t&&"string"===typeof t&&(s&&s.options?s.options:[]).find((function(e){return e.id===t}))?h.a.createElement(Sf,{column:e,value:t}):c;case pt.CellType.MULTIPLE_SELECT:if(!l)return c;var d=s&&s.options?s.options:[],p=t.filter((function(e){return d.find((function(t){return t.id===e}))}));return 0===p.length?c:p.map((function(t,n){return h.a.createElement(Sf,{column:e,value:t,key:"row-operation-multiple-select-".concat(n)})}));case pt.CellType.IMAGE:return l?h.a.createElement("span",{className:"row-opearion-image-container"},h.a.createElement(Tf,{value:t,column:e,isCellSelected:!1,rowIdx:i})):c;case pt.CellType.FILE:return l?h.a.createElement("span",{className:"row-opearion-file-container"},h.a.createElement(Mf,{value:t,column:e,isCellSelected:!1,rowIdx:i})):c;case pt.CellType.CHECKBOX:return h.a.createElement("input",{className:"checkbox",type:"checkbox",readOnly:!0,checked:!!t});case pt.CellType.LINK:return l?h.a.createElement(Lf,{column:e,isCellSelected:!1,row:r}):c;case pt.CellType.GEOLOCATION:return t&&"object"===typeof t?h.a.createElement(jf,{value:t,column:e,isCellSelected:!1,row:r}):c}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.operation,n=e.operationTime,a=e.isShowOldValue,r=e.operator,i=t.column_name,o=t.column_type,s=t.column_data,l=t.value,c=t.old_value,u={key:t.column_key,name:i,type:o,data:s||{}},d=this.isNonEmptyAarray(c);return h.a.createElement("div",{className:"operation-log-item"},h.a.createElement("div",{className:"operation-log-item-title"},h.a.createElement("img",{className:"operation-log-item-avartar",src:r.avatar_url,alt:""})),h.a.createElement("div",{className:"operation-log-item-body"},h.a.createElement("div",{className:"operation-log-item-head"},h.a.createElement("span",{className:"operation-operator"},r.name),h.a.createElement("span",{className:"row-opearion-item-op-time"},ft()(n).format("YYYY-MM-DD HH:mm"))),h.a.createElement("div",{className:"operation-log-item-content"},h.a.createElement("div",{className:"operation-log-item-content-title"},h.a.createElement("i",{className:"row-opearion-item-column-icon dtable-font ".concat(_n[o])}),h.a.createElement("span",{className:"row-opearion-item-column-name"},i)),h.a.createElement("div",{className:"operation-log-item-content-body"},a&&h.a.createElement(p.Fragment,null,this.getDisplayValue(u,c),h.a.createElement("span",{className:"left-to-right ".concat(d?"array-left-to-right":"")}," -> ")),this.getDisplayValue(u,l)))))}}]),t}(h.a.Component),Ux=Object(I.d)("dtable")(jx),Hx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).transformOperatorsMap=function(){var e={};return window.app.state.collaborators.forEach((function(t){e[t.email]=t})),e.form={avatar_url:window.dtable.mediaUrl+"avatars/default.png",name:"form"},e},n.onScroll=function(){n.state.hasMore&&!n.state.isLoadingMore&&n.wrapper.offsetHeight+n.wrapper.scrollTop>=n.container.offsetHeight&&n.setState({isLoadingMore:!0},(function(){n.getMore()}))},n.getRowOperationLists=function(){var e=n.props,t=e.expandedRow,a=e.rowIdx,r=[];return n.state.operationsList.forEach((function(e,i){var o=e.op_user,s=e.detail,l=e.op_time,c=e.op_type,u=n.operatorsMap[o],d=s.row_data,p="modify_row"===c;d.forEach((function(e,n){r.push(h.a.createElement(Ux,{operation:e,operator:u,operationTime:l,row:t,key:"row-operation-".concat(i,"-").concat(n),isShowOldValue:p,rowIdx:a}))}))})),r},n.operatorsMap=n.transformOperatorsMap(),n.state={operationsList:[],currentPage:1,isLoadingMore:!0,hasMore:!0},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.rowID,n=this.state.currentPage;window.app.dtableStore.dtableAPI.listRowActivities(t,n).then((function(t){var a=t.data.activities;e.setState({operationsList:a,isLoadingMore:!1,hasMore:!(a<10),currentPage:n+1})}))}},{key:"componentWillUnmount",value:function(){this.container=null,this.wrapper=null}},{key:"getMore",value:function(){var e=this,t=this.props.rowID,n=this.state,a=n.operationsList,r=n.currentPage;window.app.dtableStore.dtableAPI.listRowActivities(t,r).then((function(t){e.setState({isLoadingMore:!1,operationsList:[].concat(N(a),N(t.data.activities)),currentPage:r+1,hasMore:!(t.data.activities.length<10)})})).catch((function(t){e.setState({isLoadingMore:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.isLoadingMore;return h.a.createElement("div",{className:"row-operation-body",onScroll:this.onScroll,ref:function(t){return e.wrapper=t}},h.a.createElement("div",{className:"row-opearion-list",ref:function(t){return e.container=t}},this.getRowOperationLists(),t&&h.a.createElement(Dh,null)))}}]),t}(h.a.Component),Bx=Object(I.d)("dtable")(Hx),Vx=(n(1244),"comment"),Gx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.toggle=function(){n.props.onRowExpandCancel()},n.renderLabel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return h.a.createElement(ir,{for:e,className:e},t)},n.createEditor=function(e){var t=n.props,a=t.expandedRow,r=t.formulaRows,i=t.t,o=e.type,s=e.name;if("single-select"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("single-select",s),h.a.createElement(qx,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("long-text"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("long-text",s),h.a.createElement(Xx,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("image"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("image",s),h.a.createElement($x,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("file"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("file",s),h.a.createElement(Qx,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("multiple-select"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("multiple-select",s),h.a.createElement(Kx,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("collaborator"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("collaborator",s),h.a.createElement(eC,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("link-common-dataset"===o)return h.a.createElement(p.Fragment,null,h.a.createElement(ir,{for:"link-common-dataset",className:"collaborator"},s),h.a.createElement(tC,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("number"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("number",s),h.a.createElement(Wx,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("date"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("date",s),h.a.createElement(zx,{column:e,expandedRow:a,onCommit:n.onCommit,t:i}));if("link"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("link",s),h.a.createElement(nC,{column:e,expandedRow:a,t:i}));if("formula"===o){var l=a._id,c=r?r[l][e.key]:"";return h.a.createElement(p.Fragment,null,n.renderLabel("formula",s),h.a.createElement("div",{className:"row-expand-container-formula",id:"formula"},c))}if("creator"===o||"last-modifier"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("creator",s),h.a.createElement(aC,{column:e,expandedRow:a}));if("ctime"===o||"mtime"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("ctime",s),h.a.createElement(rC,{column:e,expandedRow:a}));if("geolocation"===o)return h.a.createElement(p.Fragment,null,n.renderLabel("geolocation",s),h.a.createElement(Jx,{column:e,expandedRow:a,t:i,onCommit:n.onCommit}));var u={onCommit:n.onCommit,column:e,expandedRow:a,mode:"row_expand",value:a[e.key]},d=e.editor;return h.a.isValidElement(d)?h.a.cloneElement(d,u):zf(d)?h.a.createElement(d,Object.assign({ref:n.setEditorRef},u)):h.a.createElement(or,Object.assign({ref:n.setEditorRef,column:e},u))},n.onCommit=function(e,t){var a=t.key,r=n.modifyData,i={},o=n.props.expandedRow;if(em(o[a],e[a])){i[a]=e[t.key],r[t.key]=e[t.key],n.setState({value:r});var s=n.props.expandedRow._id;n.props.onCommit(s,i,n.props.expandedRow)}},n.writeURLToClipboard=function(){var e=n.props.t,t=window.location.href;Fx()(t);var a=e("The_record_link_has_been_copied");Za.success(a)},n.openLinkedTable=function(){n.props.onSelectTable(),n.props.onRowExpandCancel()},n.getRowCommentsCount=function(){var e=n.props.expandedRow._id;window.app.dtableStore.dtableAPI.getRowCommentsCount(e).then((function(e){n.setState({rowCommentsCount:e.data.count})}))},n.setRowCommentsCount=function(e){n.setState({rowCommentsCount:e})},n.onRowMoreInfoToggle=function(){n.state.isRowMoreInfoShow?localStorage.setItem("isRowMoreInfoShow",!1):localStorage.setItem("isRowMoreInfoShow",!0),n.setState({isRowMoreInfoShow:!n.state.isRowMoreInfoShow})},n.onChangeParticipants=function(e,t){var a={};a._participants=e;var r=n.props.expandedRow._id;n.props.onCommit(r,a,t),n.modifyData._participants=e},n.renderHeaderRowBtn=function(){var e=n.state.isRowMoreInfoShow,t=window.dtable.externalLinkToken;return h.a.createElement("div",{className:"header-close-list"},!t&&h.a.createElement("span",{className:"comment-close-icon mr-0",onClick:n.onRowMoreInfoToggle},h.a.createElement("i",{className:"dtable-font ".concat(e?"dtable-icon-retract-com":"dtable-icon-open-com")})),h.a.createElement("span",{className:"dtable-font dtable-icon-x comment-close-icon",onClick:n.toggle}))},n.onChangeMoreInfoType=function(e){n.setState({rowMoreInfoType:e},(function(){localStorage.setItem("rowMoreInfoType",e)}))},n.state={value:"",tooltipOpen:!1,rowCommentsCount:0,isRowMoreInfoShow:!1,rowMoreInfoType:Vx},n.modifyData=F()(e.expandedRow),n.tooltipToggle=n.tooltipToggle.bind(E(n)),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("isRowMoreInfoShow"),t=localStorage.getItem("rowMoreInfoType")||Vx;"true"===e&&this.setState({isRowMoreInfoShow:!0,rowMoreInfoType:t}),t===Vx&&this.getRowCommentsCount()}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.isInternalLinkTable,r=t.rowIdx,i=t.expandedTable,o=this.props.columns.filter((function(e){return"select-row"!==e.key})),s=this.state,l=s.isRowMoreInfoShow,c=s.rowCommentsCount,u=s.rowMoreInfoType,d=this.renderHeaderRowBtn(),p={width:l?"1020px":"720px",maxWidth:l?"1020px":"720px"};return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"row-expand-dialog",style:p,zIndex:1048,contentClassName:"row-expand-content-container"},h.a.createElement("div",{className:"row-expand-details"},h.a.createElement(xr,{close:l?null:d},h.a.createElement("span",{className:"mr-1"},n(a?"Record_details":"Row_Details")),h.a.createElement("span",{className:"details-header-url-btn"},h.a.createElement(Ve,{id:"url-btn",onClick:this.writeURLToClipboard,className:"btn-icon btn-active modal-header-btn","data-placement":"bottom"},h.a.createElement("i",{className:"dtable-font dtable-icon-url"})),h.a.createElement(Yn,{placement:"bottom",isOpen:this.state.tooltipOpen,toggle:this.tooltipToggle,target:"url-btn"},n("Get_URL")))),h.a.createElement(kr,{className:"expand-row-container"},c>0&&h.a.createElement("span",{className:"row-comment-count",onClick:this.onRowMoreInfoToggle},"".concat(n("Comment"),"(").concat(c,")")),a&&h.a.createElement("div",{className:"mb-4 header-name",onClick:this.openLinkedTable},h.a.createElement("span",{className:"mr-2"},n("Record_from")),h.a.createElement("span",{className:"btn-link"},i.name)),o.map((function(t,n){return h.a.createElement("div",{className:"row-expand-item",key:n},e.createEditor(t))})))),l&&h.a.createElement("div",{className:"row-expand-comments"},h.a.createElement(xr,{close:d,className:"row-comment-header"},h.a.createElement("span",{onClick:this.onChangeMoreInfoType.bind(this,Vx),className:"row-comment-operation ".concat(u===Vx?"row-comment":"")},n("Comment")),h.a.createElement("span",{onClick:this.onChangeMoreInfoType.bind(this,"operation"),className:"row-comment-operation ".concat("operation"===u?"row-operation":"")},n("Operation_Log"))),u===Vx&&h.a.createElement(kr,{className:"row-comment-body"},h.a.createElement(P_,{tableID:this.props.expandedTable._id,rowID:this.props.expandedRow._id,expandedRow:this.modifyData,onChangeParticipants:this.onChangeParticipants,rowCommentsCount:c,getRowCommentsCount:this.getRowCommentsCount,setRowCommentsCount:this.setRowCommentsCount,table:this.props.expandedTable,listCommentsByDays:this.props.listCommentsByDays})),"operation"===u&&h.a.createElement(Bx,{rowID:this.props.expandedRow._id,expandedRow:this.modifyData,rowIdx:r})))}}]),t}(h.a.Component),Wx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleEditor=function(){"r"===window.dtable.permission||n.setState({isShowEditor:!n.state.isShowEditor})},n.onCommit=function(e,t){n.props.onCommit(e,t),n.setState({value:e[t.key]},(function(){n.setState({isShowEditor:!1})}))},n.renderEditor=function(e){var t={mode:"row_expand",column:e,toggleEditor:n.toggleEditor,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.state={isShowEditor:!1,value:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.column,n=e.expandedRow[t.key];this.setState({value:n})}},{key:"render",value:function(){var e=this.props.column,t=this.state,n=t.value,a=t.isShowEditor,r="";if(n||0===n){var i=e.data&&e.data.format?e.data.format:"number";r=Object(pt.getNumberDisplayString)(n,i)}return h.a.createElement(p.Fragment,null,a?this.renderEditor(e):h.a.createElement("div",{onClick:this.toggleEditor,className:"form-control",style:{width:320}},r))}}]),t}(h.a.Component),zx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).hideCalendar=function(){n.setState({isShowEditor:!1})},n.toggleEditor=function(){"r"===window.dtable.permission||n.setState({isShowEditor:!n.state.isShowEditor})},n.onCommit=function(e,t){n.props.onCommit(e,t),n.setState({value:e[t.key]},(function(){n.setState({isShowEditor:!0})}))},n.renderEditor=function(e){var t={mode:"row_expand",column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value,hideCalendar:n.hideCalendar},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.state={isShowEditor:!1,value:null},n.defaultFormat="YYYY-MM-DD",n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.column,n=e.expandedRow[t.key];this.setState({value:n})}},{key:"render",value:function(){var e=this,t=this.props.column,n=this.state,a=n.value,r=n.isShowEditor,i=t.data&&t.data.format?t.data.format:this.defaultFormat,o="";return a&&(o=Object(pt.getDateDisplayString)(a,i)),h.a.createElement("div",{ref:function(t){return e.dateSelectRef=t}},r?this.renderEditor(t):h.a.createElement("div",{onClick:this.toggleEditor,className:"form-control",style:{width:320}},o))}}]),t}(h.a.Component),qx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleSingleSelect=function(e){n.setState({showSingleSelect:e})},n.hideDropDownMenu=function(e){e.target&&"INPUT"!==e.target.tagName.toUpperCase()&&(n.singleSelectContainer.contains(e.target)||n.toggleSingleSelect(!1))},n.onToggleSelect=function(e){e.preventDefault(),e.stopPropagation(),"r"===window.dtable.permission||n.toggleSingleSelect(!0)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.toggleSingleSelect(!1),n.setState({currentOptionID:e[a]}),n.props.onCommit(e,t)},n.renderEditor=function(e){var t=n.state.currentOptionID,a={mode:"row_expand",column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==t?t:n.props.expandedRow[e.key]},r=e.editor;return h.a.isValidElement(r)?h.a.cloneElement(r,a):zf(r)?h.a.createElement(r,a):void 0},n.state={currentOptionID:e.expandedRow[e.column.key]||"",showSingleSelect:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideDropDownMenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropDownMenu)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.expandedRow,r=t.t,i=this.state.showSingleSelect,o=this.state.currentOptionID,s=null!==o?o:a[n.key],l=(n.data?n.data.options:[]).find((function(e){if(e.id===s)return e})),c=h.a.createElement("span",{id:"single-select-popover-".concat(n.key)});if(s&&l){var u={backgroundColor:l.color,color:l.textColor||null};return h.a.createElement("div",{className:"position-relative",ref:function(t){return e.singleSelectContainer=t}},h.a.createElement("div",{className:"option-item-container",id:"single-select",onClick:this.onToggleSelect},h.a.createElement("div",{className:"option-item-name",style:u},l.name)),c,i&&this.renderEditor(n))}return h.a.createElement("div",{className:"position-relative",ref:function(t){return e.singleSelectContainer=t}},h.a.createElement("div",{className:"row-expand-btn",onClick:this.onToggleSelect},r("Choose_an_option")),c,i&&this.renderEditor(n))}}]),t}(h.a.Component),Kx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleMultipleSelect=function(e){n.setState({showMultipleSelect:e})},n.hideDropDownMenu=function(e){e.target&&"INPUT"!==e.target.tagName.toUpperCase()&&"multiple-select"!==e.target.className&&(n.multipleSelectContainer.contains(e.target)||n.toggleMultipleSelect(!1))},n.onToggleSelect=function(e){e.preventDefault(),e.stopPropagation(),"r"===window.dtable.permission||n.toggleMultipleSelect(!0)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({currentOptionID:e[a]}),n.props.onCommit(e,t)},n.renderEditor=function(e){var t=n.state.currentOptionID,a={mode:"row_expand",column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==t?t:n.props.expandedRow[e.key]},r=e.editor;return h.a.isValidElement(r)?h.a.cloneElement(r,a):zf(r)?h.a.createElement(r,a):void 0},n.removeOption=function(e,t){t.stopPropagation();var a=n.props,r=a.column,i=a.expandedRow,o=n.state.currentOptionID,s=(null!==o?o:i[r.key]).slice(0);s.splice(e,1);var l={};l[r.key]=s,n.onCommit(l,r)},n.getMultipleSelectList=function(){var e=n.state.currentOptionID,t=n.props,a=t.column,r=t.expandedRow,i=null!==e?e:r[a.key],o="r"===window.dtable.permission,s=a.data?a.data.options:[],l=[];return i=i||[],Array.isArray(i)&&i.forEach((function(e,t){var a=s.find((function(t){return t.id===e}));if(a){var r=a.textColor||null;l.push(h.a.createElement("div",{className:"multiple-select-item",key:"multiple_select_"+t},h.a.createElement("div",{className:"option-item-name multiple-select-option",style:{backgroundColor:a.color,color:r},title:a.name},h.a.createElement("span",{className:"option-item-name-container"},a.name),!o&&h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:n.removeOption.bind(E(n),t)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number",style:{color:"#FFFFFF"===r?r:null}}))))))}})),l},n.state={currentOptionID:null,showMultipleSelect:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideDropDownMenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideDropDownMenu)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t,r=this.state.showMultipleSelect,i=h.a.createElement("span",{id:"multiple-select-popover-".concat(n.key)}),o=this.getMultipleSelectList(),s=o.length>0?h.a.createElement("div",{className:"options-list",id:"multiple-select",onClick:this.onToggleSelect},o):h.a.createElement("div",{className:"row-expand-btn",onClick:this.onToggleSelect},a("Choose_an_option"));return h.a.createElement("div",{className:"position-relative",ref:function(t){return e.multipleSelectContainer=t}},s,i,r&&this.renderEditor(n))}}]),t}(h.a.Component),Xx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleEditor=function(){n.setState({isShowEditor:!n.state.isShowEditor})},n.onEdit=function(e){"A"!==e.target.nodeName&&n.setState({isShowEditor:!n.state.isShowEditor})},n.onCommit=function(e,t){var a=t.key;n.setState({longText:e}),n.convertMarkdown(e.text);var r={};r[a]=e,n.props.onCommit(r,t)},n.renderEditor=function(e){var t={mode:"row_expand",column:e,toggleEditor:n.toggleEditor,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==n.state.longText?n.state.longText:n.props.expandedRow[e.key]},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.convertMarkdown=function(e){xy.process(e).then((function(e){var t=String(e).replace(/<a /gi,'<a target="_blank" ');n.setState({innerHtml:t})}))},n.state={isShowEditor:!1,innerHtml:null,longText:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.column,n=e.expandedRow,a=null!==this.state.longText?this.state.longText:n[t.key];a&&a.text&&this.convertMarkdown(a.text)}},{key:"render",value:function(){var e=this.props.t;return h.a.createElement(p.Fragment,null,this.state.innerHtml?h.a.createElement("div",{className:"long-text-container article mb-2",onClick:this.onEdit,dangerouslySetInnerHTML:{__html:this.state.innerHtml}}):h.a.createElement("div",{className:"row-expand-btn",onClick:this.onEdit},e("Edit_text")),this.state.isShowEditor&&this.renderEditor(this.props.column))}}]),t}(h.a.Component),Jx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleEditor=function(){n.setState({isShowEditor:!n.state.isShowEditor})},n.renderEditor=function(e){var t={mode:"row_expand",column:e,toggleEditor:n.toggleEditor,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value,onCommitCancel:n.toggleEditor},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.onCommit=function(e,t){n.props.onCommit(e,t),n.setState({value:e[t.key]}),n.toggleEditor()},n.isEmpty=function(e){return 0===Object.keys(e).length},n.getLocationInfo=function(e){return(e.province||"")+(e.city||"")+(e.district||"")+(e.detail||"")},n.state={isShowEditor:!1,value:e.expandedRow[e.column.key]||{}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.t,a=this.state.value;return this.state.isShowEditor?this.renderEditor(t):this.isEmpty(this.state.value)?h.a.createElement("div",{className:"row-expand-btn",onClick:this.toggleEditor},n("Edit_Location")):h.a.createElement("div",{className:"row-expand-btn",onClick:this.toggleEditor},this.getLocationInfo(a))}}]),t}(h.a.Component),Zx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.setState({open:!n.state.open})},n.state={open:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,a=e.src,r=am(a);return h.a.createElement(p.Fragment,null,h.a.createElement("img",{alt:"",src:r,id:"thumbnail-".concat(n)}),h.a.createElement(Yn,{placement:"bottom",isOpen:this.state.open,toggle:this.toggle,target:"thumbnail-".concat(n)},t))}}]),t}(h.a.Component),$x=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).renderImageEditorToggle=function(){n.isReadOnly||n.setState({isShowImageEditor:!n.state.isShowImageEditor})},n.renderImageEditor=function(e){var t={mode:"row_expand",column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.getValue(),renderImageEditorToggle:n.renderImageEditorToggle},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({imageContainer:e[a],isShowImageEditor:!n.state.isShowImageEditor}),n.props.onCommit(e,t)},n.downloadImage=function(e){var t=e.indexOf("?dl=1")>-1?e:e+"?dl=1",n=document.createElement("iframe");n.style.display="none",n.src=t,document.body.appendChild(n)},n.getValue=function(){var e=n.props,t=e.column,a=e.expandedRow,r=n.state.imageContainer;return r||a[t.key]},n.deleteImage=function(e){var t=n.props,a=t.column,r=t.onCommit,i=n.getValue().slice(0);i.splice(e,1),r(D({},a.key,i),a),n.setState({imageContainer:i})},n.getImageArray=function(e){return e.map((function(e,t){var a=decodeURI(e.slice(e.lastIndexOf("/")+1)),r=am(e);return h.a.createElement("div",{key:"image-".concat(t),className:"row-expand-item-img",onClick:function(){return n.setLargeImageIndex(t)}},h.a.createElement("img",{src:r,id:"item-image-".concat(t),alt:""}),h.a.createElement("div",{className:"image-item-info",key:"image-item-info-".concat(t),onClick:function(e){return e.stopPropagation()}},h.a.createElement("span",{className:"image-item-name",style:{width:n.isReadOnly?"154px":"130px"},title:a,onClick:function(){return n.setLargeImageIndex(t)}},a),h.a.createElement("span",{className:"image-item-icon"},h.a.createElement("span",{className:"image-item-operation",onClick:function(){return n.downloadImage(e)}},h.a.createElement("i",{className:"dtable-font dtable-icon-download"})),!n.isReadOnly&&h.a.createElement("span",{className:"image-item-operation",onClick:function(){return n.deleteImage(t)}},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"})))))}))},n.setLargeImageIndex=function(e){n.setState({largeImageIndex:e})},n.moveToNextImage=function(){var e=n.getValue();n.setState((function(t){return{largeImageIndex:(t.largeImageIndex+1)%e.length}}))},n.moveToPrevImage=function(){var e=n.getValue();n.setState((function(t){return{largeImageIndex:(t.largeImageIndex+e.length-1)%e.length}}))},n.hideLargeImage=function(){n.setLargeImageIndex(-1)},n.generateTimeStamp=function(e){var t=e;return e.indexOf("?a=")>1&&(t=e.slice(0,e.indexOf("?a=")+1)),t+"?a="+Math.random()},n.onRotateImage=function(e,t){if(e>=0&&0!==t){var a=n.getValue(),r=a[e],i=window.dtable,o=i.workspaceID,s=i.fileName,l=window.dtableWebAPI,c=r.slice(r.indexOf("images/"));l.rotateImage(o,s,c,360-t).then((function(t){if(t.data&&t.data.success){var i=n.props,o=i.column,s=i.onCommit,l=a.slice(0);l.splice(e,1,n.generateTimeStamp(r)),s(D({},o.key,l),o)}})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a))}))}},n.state={isShowImageEditor:!1,imageContainer:null,largeImageIndex:-1},n.isReadOnly="r"===window.dtable.permission,n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t,r=this.state,i=r.isShowImageEditor,o=r.largeImageIndex,s=this.getValue();return h.a.createElement(p.Fragment,null,h.a.createElement("div",{key:"image-addition",onClick:this.renderImageEditorToggle,className:"row-expand-btn"},a("Add_images")),Array.isArray(s)&&s.length>0&&h.a.createElement("div",{className:"row-expand-img-content"},this.getImageArray(s)),i&&this.renderImageEditor(n),o>-1&&h.a.createElement(Zp,{imageItems:s,imageIndex:o,closeImagePopup:this.hideLargeImage,moveToPrevImage:this.moveToPrevImage,moveToNextImage:this.moveToNextImage,downloadImage:this.isReadOnly?null:this.downloadImage,deleteImage:this.isReadOnly?null:function(t){e.deleteImage(t),e.hideLargeImage()},onRotateImage:this.isReadOnly?null:this.onRotateImage}))}}]),t}(h.a.Component),Qx=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).renderFileEditorToggle=function(){"r"!==window.dtable.permission&&n.setState({isShowFileEditor:!n.state.isShowFileEditor})},n.renderFileEditor=function(e){var t={mode:"row_expand",column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==n.state.fileContainer?n.state.fileContainer:n.props.expandedRow[e.key]},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({fileContainer:e[a],isShowFileEditor:!n.state.isShowFileEditor}),n.props.onCommit(e,t)},n.state={isShowFileEditor:!1,fileContainer:null},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=[],n=this.props,a=n.column,r=n.expandedRow,i=n.t,o=null!==this.state.fileContainer?this.state.fileContainer:r[a.key];return o&&o.length>0&&o.forEach((function(n,a){var r=Zf(n.name,n.type);t.push(h.a.createElement("div",{key:"file-"+a,className:"row-expand-item-file",onClick:e.renderFileEditorToggle},h.a.createElement(Zx,{src:r,id:"item-file-".concat(a),name:n.name})))})),h.a.createElement(p.Fragment,null,h.a.createElement("div",{key:"file-addition",onClick:this.renderFileEditorToggle,className:"row-expand-btn"},i("Add_files")),h.a.createElement("div",{className:"row-expand-container-file mt-2"},t),this.state.isShowFileEditor&&this.renderFileEditor(a))}}]),t}(h.a.Component),eC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).hideSelect=function(e){e.target&&"INPUT"!==e.target.tagName.toUpperCase()&&(n.collaboratorSelectRef.contains(e.target)||n.toggleCollaboratorSelect(!1))},n.toggleCollaboratorSelect=function(e){n.setState({showCollaboratorSelect:e})},n.onToggleSelect=function(e){e.stopPropagation(),n.setState({menuPosition:{}}),"r"===window.dtable.permission||n.toggleCollaboratorSelect(!0)},n.closeSelect=function(){n.toggleCollaboratorSelect(!1)},n.handleClick=function(e){e.stopPropagation&&e.stopPropagation()},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({value:e[a]}),n.props.onCommit(e,t),n.closeSelect()},n.renderEditor=function(e){var t=n.state,a=t.menuPosition,r=t.value,i={mode:"row_expand",menuPosition:a,column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:r},o=e.editor;return h.a.isValidElement(o)?h.a.cloneElement(o,i):zf(o)?h.a.createElement(o,i):void 0},n.renderCollaborators=function(e){var t=window.app.state.collaborators,a="r"===window.dtable.permission;return Array.isArray(e)&&e.map((function(e,r){var i=t.find((function(t){return t.email===e}));if(i)return h.a.createElement("div",{key:r,className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:i.name,src:i.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},i.name),!a&&h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:n.removeCollaborator.bind(E(n),r)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))))}))},n.removeCollaborator=function(e){var t=n.props,a=t.column,r=t.expandedRow,i=n.state.value,o=(i=i.length>0?i:r[a.key]).slice(0);o.splice(e,1);var s={};s[a.key]=o,n.onCommit(s,a)},n.state={menuPosition:null,value:e.expandedRow[e.column.key]||[],showCollaboratorSelect:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideSelect)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideSelect)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t,r=this.state.showCollaboratorSelect,i=this.state.value;return h.a.createElement("div",{ref:function(t){return e.collaboratorSelectRef=t}},h.a.createElement("div",{className:"row-expand-container-collaborator",onClick:function(t){return e.handleClick(t)}},r&&this.renderEditor(n)),h.a.createElement("div",{className:"row-expand-btn",onClick:this.onToggleSelect},a("Add_a_collaborator")),h.a.createElement("div",{className:"row-expand-collaborators mt-2"},h.a.createElement("span",{id:"collaborator-popover-".concat(n.key)}),this.renderCollaborators(i)))}}]),t}(h.a.Component),tC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).hideSelect=function(e){e.target&&"INPUT"!==e.target.tagName.toUpperCase()&&(n.datasetSelectRef.contains(e.target)||n.toggleDatasetSelect(!1))},n.toggleDatasetSelect=function(e){n.setState({showSelect:e})},n.onToggleSelect=function(e){e.stopPropagation(),n.setState({menuPosition:{}}),"r"!==window.dtable.permission&&n.toggleDatasetSelect(!0)},n.closeSelect=function(){n.toggleDatasetSelect(!1)},n.handleClick=function(e){e.stopPropagation&&e.stopPropagation()},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({value:e[a]}),n.props.onCommit(e,t),n.closeSelect()},n.renderEditor=function(e){var t=n.state,a={mode:"row_expand",menuPosition:t.menuPosition,column:e,value:t.value,expandedRow:n.props.expandedRow,onCommit:n.onCommit},r=e.editor;return h.a.isValidElement(r)?h.a.cloneElement(r,a):zf(r)?h.a.createElement(r,a):void 0},n.renderDataset=function(e){var t=n.props.column.data.linked_common_dataset_id,a=window.app.state.linkedCommonDatasets[t];if(!a)return[];var r=a.rows;return Array.isArray(e)&&e.map((function(e,t){var a=r.find((function(t){return t._id===e}));if(a)return h.a.createElement("div",{key:t,className:"collaborator"},h.a.createElement("span",{className:"collaborator-name"},a.Name),"r"!==window.dtable.permission&&h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:n.removeDataset.bind(E(n),t)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))))}))},n.removeDataset=function(e){var t=n.props,a=t.column,r=t.expandedRow,i=n.state.value,o=(i=i.length>0?i:r[a.key]).slice(0);o.splice(e,1);var s={};s[a.key]=o,n.onCommit(s,a)},n.state={menuPosition:null,value:e.expandedRow[e.column.key]||[],showSelect:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideSelect)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideSelect)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t;return h.a.createElement("div",{ref:function(t){return e.datasetSelectRef=t}},h.a.createElement("div",{className:"row-expand-container-collaborator",onClick:function(t){return e.handleClick(t)}},this.state.showSelect&&this.renderEditor(n)),h.a.createElement("div",{className:"row-expand-btn",onClick:this.onToggleSelect},a("Find_a_common_dataset")),h.a.createElement("div",{className:"row-expand-collaborators mt-2"},h.a.createElement("span",{id:"common-dataset-popover-".concat(n.key)}),this.renderDataset(this.state.value)))}}]),t}(h.a.Component),nC=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).hideSelect=function(e){e.target&&"INPUT"!==e.target.tagName.toUpperCase()&&(n.LinkSelectRef.contains(e.target)||n.setState({showLinkSelect:!1}))},n.openSelect=function(e){e.stopPropagation(),"r"!==window.dtable.permission&&n.setState({showLinkSelect:!0})},n.closeSelect=function(){n.setState({showLinkSelect:!1})},n.renderEditor=function(e){var t={mode:"row_expand",column:e,rowData:n.props.expandedRow,onCommit:n.closeSelect,value:n.state.value},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.getCellValue=function(){return window.app.getLinkCellValue(n.tableID,n.otherTableID,n.props.expandedRow._id)},n.removelink=function(e,t){t.stopPropagation();var a=n.props.expandedRow;window.app.removeLink(n.tableID,n.otherTableID,a._id,n.state.value[e]),n.setState({value:n.getCellValue()})},n.renderLinks=function(){var e=n.props.column,t=n.state.value;if(!Array.isArray(t))return[];var a="r"===window.dtable.permission,r=window.app.getLinkedRows(n.otherTableID,t),i=[];return r.forEach((function(t,r){var o=h.a.createElement("div",{key:r,className:"link"},h.a.createElement("span",{className:"link-name"},t[e.data.display_column_key]),!a&&h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:n.removelink.bind(E(n),r)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))));i.push(o)})),i};var a=e.column.data,r=a?a.table_id:null,i=a?a.other_table_id:null;return n.tableID=window.app.getSelectedTableId(),n.otherTableID=n.tableID===r?i:r,n.state={value:n.getCellValue(),showLinkSelect:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hideSelect)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideSelect)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t;return h.a.createElement("div",{ref:function(t){return e.LinkSelectRef=t}},this.state.showLinkSelect&&this.renderEditor(n),h.a.createElement("div",{className:"row-expand-btn",onClick:this.openSelect},a("Select_a_record_to_link")),h.a.createElement("div",{className:"d-flex mt-2"},h.a.createElement("span",{id:"link-popover-".concat(n.key)}),h.a.createElement("div",{className:"links-formmatter"},h.a.createElement("div",{className:"formmatter-show"},this.renderLinks()))))}}]),t}(h.a.Component),aC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).renderCollaborator=function(e){var t=window.app.state.collaborators,n=t&&t.find((function(t){return t.email===e}));return n?h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:n.name,src:n.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},n.name)):null},n.state={value:e.expandedRow[e.column.key]?e.expandedRow[e.column.key]:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.value;return e?h.a.createElement("div",{className:"row-expand-collaborators"},this.renderCollaborator(e)):""}}]),t}(h.a.Component),rC=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.expandedRow,n=e.column,a=t[n.key]?t[n.key]:"",r=a?ft()(a).format("YYYY-MM-DD HH:mm:ss"):null;return h.a.createElement("div",{className:"form-control",style:{width:320}},r)}}]),t}(h.a.Component),iC=Object(I.d)("dtable")(Gx),oC=(n(1245),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onSearchTablesToggle(),n.setState({searchResult:[]})},n.onChange=function(e){var t=e.target.value,a=n.props.tables,r=[],i=0;t&&a.forEach((function(e){var n=e.columns,a=e.rows,o=e.name,s=Cx(Tx(a),n,t);r.push({table:e,name:o,tableResult:s}),i+=s.matchedCells.length})),n.setState({searchResult:r,searchResultSize:i,searchValue:t})},n.clearSearch=function(){n.setState({searchValue:"",searchResult:[],searchResultSize:0})},n.onCommit=function(e,t,a){var r=n.props.tables,i=n.state.expandRow;if(i){var o=i.table,s=r.findIndex((function(e){return e._id===o._id}));window.app.dtableStore.modifyRow(s,e,t,a)}},n.onRowExpandOpen=function(e){n.setState({expandRow:e})},n.onRowExpandCancel=function(){n.setState({expandRow:null})},n.state={searchResult:[],searchResultSize:0,searchValue:"",expandRow:null},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.tables,n=[],a=0,r=this.state.searchValue;r&&t.forEach((function(e){var t=e.columns,i=e.rows,o=e.name,s=Cx(Tx(i),t,r);n.push({table:e,name:o,tableResult:s}),a+=s.matchedCells.length})),this.setState({searchResult:n,searchResultSize:a})}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.debounce,r=this.state,i=r.searchResult,o=r.searchResultSize,s=r.searchValue,l=r.expandRow;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"search-tables-dialog",autoFocus:!1,zIndex:1e3},h.a.createElement(xr,{toggle:this.toggle,className:"search-container"},h.a.createElement("div",{className:"search-input-container"},h.a.createElement("i",{className:"search-icon dtable-font dtable-icon-search"}),h.a.createElement("input",{className:"form-control search-tables-input",value:s,onChange:function(t){return a(e.onChange(t))},autoFocus:!0,type:"text",placeholder:n("Search_all_tables")}),s&&h.a.createElement("span",{className:"clear-search-text",onClick:this.clearSearch,title:n("Clear_search_text")},h.a.createElement("i",{className:"dtable-font dtable-icon-x-"}))),h.a.createElement("div",{className:"search-result-abstract"},o?n("There_are_xxx_result".concat(o>1?"s":"","_for_xxx"),{amount:o,search_val:'"'.concat(s,'"')}):n("No_search_results"))),h.a.createElement(kr,{className:"search-tables-container"},o?h.a.createElement(Px,{searchResult:i,searchValue:s,onSearchTablesToggle:this.toggle,onRowExpandOpen:this.onRowExpandOpen}):h.a.createElement("div",{className:"no-search-result"},n("No_search_results")),l&&h.a.createElement(iC,{columns:im(l.table),expandedRow:l.row,expandedTable:l.table,onCommit:this.onCommit,onRowExpandCancel:this.onRowExpandCancel,formulaRows:om(l.table)})))}}]),t}(p.Component)),sC=Object(I.d)("dtable")(oC),lC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.hideFilterView=function(){n.setState({isFiltersViewShow:!1})},n.onViewsDropdownmenuToggle=function(e){e.stopPropagation();var t=n.viewRef.getBoundingClientRect(),a=t.top,r=t.left,i=t.height;n.setState({isViewsDropdownmenuShow:!n.state.isViewsDropdownmenuShow,viewsDropdownMenuPosition:{top:a+i,left:r}})},n.hideViewsDropdownmenu=function(){n.setState({isViewsDropdownmenuShow:!1})},n.hideGroupbysView=function(){n.setState({isGroupbysViewShow:!1})},n.onNewViewDialogToggle=function(){n.setState({isNewViewDialogShow:!n.state.isNewViewDialogShow}),n.hideViewsDropdownmenu()},n.onRenameViewDialogToggle=function(e){var t=n.props.table.views[e].name;n.setState({needRenamedViewName:t,operationViewIndex:e,isRenameViewDialogShow:!n.state.isRenameViewDialogShow}),n.hideViewsDropdownmenu()},n.hideNewViewDialog=function(){n.setState({isNewViewDialogShow:!1})},n.hideRenameViewDialog=function(){n.setState({isRenameViewDialogShow:!1})},n.onFilterToggle=function(){window.isMobile?n.setState({isFiltersViewShow:!0}):n.setState({isFiltersDialogShow:!n.state.isFiltersDialogShow})},n.hideFilterDialog=function(){n.setState({isFiltersDialogShow:!1})},n.onHideColumnsToggle=function(){if(window.isMobile)n.setState({isHideColumnsDropdownmenuShow:!0});else{var e=n.hideColumnsRef.getBoundingClientRect(),t=e.top,a=e.left,r=e.height;n.setState({isHideColumnsDropdownmenuShow:!n.state.isHideColumnsDropdownmenuShow,hideColumnsDropdownMenuPosition:{top:t+r,left:a}})}},n.hideHideColumnsDropdownmenu=function(){n.setState({isHideColumnsDropdownmenuShow:!1})},n.onGroupsToggle=function(){window.isMobile?n.setState({isGroupbysViewShow:!0}):n.setState({isGroupbysDialogShow:!n.state.isGroupbysDialogShow})},n.hideGroupbysDialog=function(){n.setState({isGroupbysDialogShow:!1})},n.onChange=function(){var e=n.refs.search_text.value;n.setState({searchVal:e}),0===e.length?n.props.clearSearchResult():n.props.searchCells(e)},n.onSearchKeyDown=function(e){P()("esc",e)&&(e.preventDefault(),n.props.clearSearchResult(),n.props.onSearchActiveToggle())},n.debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];a&&clearTimeout(a),a=setTimeout((function(){clearTimeout(a),a=null,e.apply.apply(e,[E(n)].concat(i))}),t)}},n.clearSearch=function(){n.props.clearSearchResult(),n.refs.search_text.value="",n.props.onSearchActiveToggle()},n.modifyViewLock=function(){var e=n.props,t=e.table,a=e.selectedViewIdx;(0,e.modifyViewLock)(!t.views[a].is_locked)},n.showActionSheet=function(e){var t=n.props.t,a="dtable-font dtable-icon-",r=[h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(a).concat(e?"un":"","lock")}),t(e?"Unlock":"Lock")),h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(a,"hide")}),t("Hide_Columns")),h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(a,"export")}),t("Export_View_to_Excel"))],i=window.dtable,o=i.canCreateCommonDataset,s=i.cloudMode,l=i.isOrgContext;o&&(!s||l)&&r.push(h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(a,"common-dataset")}),t("Publish_as_Common_Dataset"))),Bv.a.showActionSheetWithOptions({options:r,maskClosable:!0},(function(e){0===e&&n.modifyViewLock(),1===e&&n.onHideColumnsToggle(),2===e&&n.onExportViewAsExcel(),3===e&&n.toggleCreateDatasetDialog()}))},n.onExportViewAsExcel=function(){var e=n.props,t=e.table,a=e.t,r=e.selectedViewIdx,i=window.dtable,o=i.server,s=i.workspaceID,l=i.fileName,c=t.views[r];try{var u="".concat(o,"/api/v2.1/workspace/").concat(s,"/dtable/").concat(l,"/export-excel/?table_name=").concat(t.name,"&view_name=").concat(c.name);rm(u)}catch(d){Za.danger(a("Failed_export_view_to_Excel"))}},n.toggleCalendarDialog=function(){n.setState({isShowCalendar:!n.state.isShowCalendar})},n.toggleCreateDatasetDialog=function(){n.setState({isCreateDatasetDialogShow:!n.state.isCreateDatasetDialogShow})},n.getTableSettings=function(e){var t=n.props.table.settings;return t?t[e]:null},n.onSearchTablesToggle=function(){n.setState({isSearchTablesDialogShow:!n.state.isSearchTablesDialogShow}),n.props.searchActive&&n.props.onSearchActiveToggle()},n.renderRight=function(){var e=n.props,t=e.searchResult,a=e.searchActive,r=e.t,i=e.onSearchActiveToggle,o=e.toggleShowHeader,s=e.mobileShowHeader;return a?h.a.createElement("div",{className:"table-toolbar-right ".concat(window.isMobile?"table-toolbar-right-mobile":"")},h.a.createElement("div",{className:"search-container"},h.a.createElement("div",{className:"input-icon"},h.a.createElement("i",{className:"search-icon-left search-icon input-icon-addon dtable-font dtable-icon-search"}),h.a.createElement("input",{className:"form-control search-input",onChange:n.debounce(n.onChange),autoFocus:!0,ref:"search_text",type:"text",placeholder:r("Search"),onKeyDown:n.onSearchKeyDown}),h.a.createElement("span",{className:"input-icon-addon search-poll-button"},h.a.createElement("span",{className:"search-description"},t&&t.matchedCells.length>0?t.currentSelectIndex+1+" of "+t.matchedCells.length:""),t&&t.matchedCells.length>0&&h.a.createElement(p.Fragment,null,h.a.createElement("i",{className:"dtable-font dtable-icon-upward search-exchange-btn search-upward",onClick:n.props.focusPreviousMatchedCell}),h.a.createElement("i",{className:"dtable-font dtable-icon-drop-down search-exchange-btn search-backward",onClick:n.props.focusNextMatchedCell}))),h.a.createElement("i",{className:"search-icon-right search-text-clear search-icon input-icon-addon",onClick:n.clearSearch},"\xd7")),!n.state.searchVal&&h.a.createElement("div",{className:"Search-all-Tables",onClick:n.onSearchTablesToggle},r("Search_all_tables")),window.isMobile&&h.a.createElement("span",{className:"search-button-cancel",onClick:n.clearSearch},r("Cancel")))):h.a.createElement("div",{className:"table-toolbar-right"},window.isMobile&&h.a.createElement("span",{className:"toolbar-btn px-1",onClick:o},h.a.createElement("i",{className:"active-search m-0 dtable-font dtable-icon-".concat(s?"retract":"display")})),h.a.createElement("span",{className:"toolbar-btn px-1",onClick:i},h.a.createElement("i",{className:"active-search m-0 dtable-font dtable-icon-search"})))},n.onViewMenuToggle=function(){var e=n.viewMenuBtnRef.getBoundingClientRect(),t=e.top,a=e.left,r=e.height;n.setState({isViewMenuShow:!n.state.isViewMenuShow,viewMenuPosition:{top:t+r+2,left:a}})},n.hideViewMenu=function(){n.setState({isViewMenuShow:!1,viewMenuPosition:{}})},n.renderToolbarPlugins=function(){var e=window.dtable,t=e.server,a=e.workspaceID,r=e.fileName,i=e.mediaUrl,o=e.externalLinkToken;return n.props.toolbarPlugins.map((function(e,s){var l=e.info.has_icon,c=qv(e),u=i+"plugins/default.png";return l&&(u="".concat(t,"/workspace/").concat(a,"/dtable/").concat(r,"/plugins/").concat(e.id,"/media/icon.png"),o&&(u="".concat(t,"/dtable/external-links/").concat(o,"/workspace/").concat(a,"/dtable/").concat(r,"/plugins/").concat(e.id,"/media/icon.png"))),h.a.createElement("div",{className:"toolbar-item ml-2 plugin-toolbar-item",key:s,onClick:function(){return n.props.executePluginItemCallback(e)}},h.a.createElement("span",{className:"toolbar-btn"},h.a.createElement("img",{className:"item-icon mr-2",src:u,width:"14",alt:"plugin-icon"}),h.a.createElement("span",{className:"item-name"},c)))}))},n.deleteInvalidColumn=function(e,t){return Array.isArray(e)&&Array.isArray(t)?e&&e.filter((function(e){return t.findIndex((function(t){return t.key===e.column_key}))>-1})):[]},n.renderLeftToolbar=function(){var e=window.isMobile,t=n.props,a=t.table,r=t.selectedViewIdx,i=t.searchActive,o=t.toolbarPlugins,s=t.t,l=a.columns,c=n.state.tooltipOpen,u=e?"toolbar-item ml-1":"toolbar-item ml-2",d=a.views[r],p=d.hidden_columns,f=d.is_locked,m=d.name,g=s(f?"Unlock_the_view_so_that_filters_sorts_hiddens_groups_can_be_changed":"Lock_the_view_so_that_filters_sorts_hiddens_groups_can_not_be_changed"),v=n.deleteInvalidColumn(d.filters,l),y=v?v.length:0,_=s("Filter");1===y?_=s("1_Filter"):y>1&&(_=y+" "+s("Filters"));var b=p?p.length:0,w=s("Hide_Columns");1===b?w=s("1_Hidden_Column"):b>1&&(w=b+" "+s("Hidden_Columns"));var E=n.deleteInvalidColumn(d.groupbys,l),T=E?E.length:0,x=s(1===T?"Grouped_by_1_column":"Group"),C=n.deleteInvalidColumn(d.sorts,l),S=C?C.length:0,k=window.dtable.externalLinkToken;return e?i?null:h.a.createElement("div",{className:"table-toolbar-left"},h.a.createElement("div",{className:"toolbar-item view-item ml-3",onClick:n.onViewsDropdownmenuToggle,ref:function(e){return n.viewRef=e}},h.a.createElement("i",{className:"dtable-font dtable-icon-drop-down"}),h.a.createElement("span",{className:"toolbar-btn view-btn"},h.a.createElement("i",{className:"dtable-font dtable-icon-main-view"}),h.a.createElement("span",null,m))),h.a.createElement("div",{className:"toolbar-item ml-1",onClick:n.onFilterToggle},h.a.createElement("span",{className:ie()("toolbar-btn",{"toolbar-actived-filter":y>0})},h.a.createElement("i",{className:"dtable-font dtable-icon-filter mr-0"}))),h.a.createElement("div",{className:u,onClick:n.props.onSortComponentToggle},h.a.createElement("span",{className:ie()("toolbar-btn",{"toolbar-actived-sort":S>0})},h.a.createElement("i",{className:"dtable-font dtable-icon-sort mr-0"}))),h.a.createElement("div",{className:"".concat(u," view-group")},h.a.createElement("span",{className:ie()("toolbar-btn","group-title",{grouped:T>0}),onClick:n.onGroupsToggle},h.a.createElement("i",{className:"dtable-font dtable-icon-group mr-0"}))),h.a.createElement("div",{className:"".concat(u," view-more")},h.a.createElement(Bv.e,{type:"ellipsis",size:"xs",onClick:function(){n.showActionSheet(f)}}))):h.a.createElement("div",{className:"table-toolbar-left"},h.a.createElement("div",{className:"".concat(u," view-item"),onClick:n.onViewsDropdownmenuToggle,ref:function(e){return n.viewRef=e}},h.a.createElement("i",{className:"dtable-font dtable-icon-drop-down"}),h.a.createElement("span",{className:"toolbar-btn view-btn"},h.a.createElement("i",{className:"dtable-font dtable-icon-main-view"}),h.a.createElement("span",null,m))),"r"!==window.dtable.permission&&h.a.createElement("div",{className:"toolbar-item view-lock",id:"view-lock"},h.a.createElement("span",{className:ie()("toolbar-btn","lock-view-btn",{lock:f}),ref:function(e){return n.lockViewRef=e},onClick:n.modifyViewLock},h.a.createElement("i",{className:ie()("dtable-font",{"dtable-icon-lock":!f,"dtable-icon-unlock":f})})),h.a.createElement(Yn,{placement:"bottom",isOpen:c,toggle:n.tooltipToggle,target:"view-lock",fade:!1},g)),h.a.createElement("div",{className:"toolbar-item ml-2",onClick:n.onFilterToggle},h.a.createElement("span",{className:ie()("toolbar-btn",{"toolbar-actived-filter":y>0})},h.a.createElement("i",{className:"dtable-font dtable-icon-filter"}),h.a.createElement("span",null,_))),h.a.createElement("div",{className:u,onClick:n.props.onSortComponentToggle},h.a.createElement("span",{className:ie()("toolbar-btn",{"toolbar-actived-sort":S>0})},h.a.createElement("i",{className:"dtable-font dtable-icon-sort"}),h.a.createElement("span",null,s("Sort")))),h.a.createElement("div",{className:"".concat(u," view-group")},h.a.createElement("span",{className:ie()("toolbar-btn","group-title",{grouped:T>0}),onClick:n.onGroupsToggle},h.a.createElement("i",{className:"dtable-font dtable-icon-group"}),h.a.createElement("span",null,x))),h.a.createElement("div",{className:"".concat(u," view-hide")},h.a.createElement("span",{className:ie()("toolbar-btn","hide-columns-title",{hidden:b>0}),onClick:n.onHideColumnsToggle,ref:function(e){return n.hideColumnsRef=e}},h.a.createElement("i",{className:"dtable-font dtable-icon-hide"}),h.a.createElement("span",null,w))),h.a.createElement("div",{className:u},h.a.createElement("span",{className:ie()("toolbar-btn"),onClick:n.toggleCalendarDialog},h.a.createElement("i",{className:"dtable-font dtable-icon-calendar"}),h.a.createElement("span",null,s("Calendar")))),o&&o.length>0&&n.renderToolbarPlugins(),!k&&h.a.createElement("div",{className:"".concat(u," view-menu-btn")},h.a.createElement("span",{className:ie()("toolbar-btn"),onClick:n.onViewMenuToggle,ref:function(e){return n.viewMenuBtnRef=e}},h.a.createElement("i",{className:"dtable-font dtable-icon-more-level"}))))},n.state={isViewsDropdownmenuShow:!1,viewsDropdownMenuPosition:{},isFiltersDialogShow:!1,isNewViewDialogShow:!1,needRenamedViewName:"",isRenameViewDialogShow:!1,isHideColumnsDropdownmenuShow:!1,isGroupbysDialogShow:!1,tooltipOpen:!1,isFiltersDialogViewShow:!1,isGroupbysViewShow:!1,isFiltersViewShow:!1,isShowCalendar:!1,isViewMenuShow:!1,isCreateDatasetDialogShow:!1,viewMenuPosition:{},isSearchTablesDialogShow:!1,searchVal:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.table,n=e.selectedViewIdx,a=t.views[n],r=a.filter_conjunction,i=a.hidden_columns,o=a.is_locked,s=t.columns,l=this.deleteInvalidColumn(a.filters,s),c=this.deleteInvalidColumn(a.sorts,s),u=this.deleteInvalidColumn(a.groupbys,s),d=l?l.length:0,p=window.isMobile?Zb:Ib;return h.a.createElement("div",{className:"table-toolbar"},this.renderLeftToolbar(),this.renderRight(),this.state.isViewsDropdownmenuShow&&h.a.createElement(pb,{views:t.views,selectedViewIdx:n,dropdownMenuPosition:this.state.viewsDropdownMenuPosition,hideViewsDropdownmenu:this.hideViewsDropdownmenu,onNewViewDialogToggle:this.onNewViewDialogToggle,onRenameViewDialogToggle:this.onRenameViewDialogToggle,moveView:this.props.moveView,onSelectView:this.props.onSelectView,onRenameView:this.props.onRenameView,onDeleteView:this.props.onDeleteView}),this.state.isNewViewDialogShow&&h.a.createElement(mb,{table:t,views:t.views,selectedViewIdx:n,hideNewViewDialog:this.hideNewViewDialog,addView:this.props.addView}),this.state.isRenameViewDialogShow&&h.a.createElement(vb,{view_index:this.state.operationViewIndex,viewName:this.state.needRenamedViewName,onRenameView:this.props.onRenameView,hideRenameViewDialog:this.hideRenameViewDialog}),this.state.isHideColumnsDropdownmenuShow&&h.a.createElement(Rb,{dropdownMenuPosition:this.state.hideColumnsDropdownMenuPosition,columns:s,hiddenColumns:i||[],hideHideColumnsDropdownmenu:this.hideHideColumnsDropdownmenu,moveColumn:this.props.moveColumn,onHideColumn:this.props.onHideColumn,onShowColumn:this.props.onShowColumn,hideAllColumns:this.props.hideAllColumns,showAllColumns:this.props.showAllColumns,isLocked:o}),this.state.isGroupbysDialogShow&&h.a.createElement(Fb,{groupbys:u,columns:s,hideGroupbysDialog:this.hideGroupbysDialog,addGroup:this.props.addGroup,updateGroup:this.props.updateGroup,deleteGroup:this.props.deleteGroup,isLocked:o}),this.state.isGroupbysViewShow&&h.a.createElement(Kb,{groupbys:u,columns:s,hideGroupbysView:this.hideGroupbysView,addGroup:this.props.addGroup,updateGroup:this.props.updateGroup,deleteGroup:this.props.deleteGroup,isLocked:o}),this.state.isFiltersDialogShow&&h.a.createElement(xb,{columns:s,filterConjunction:r,filters:l,filtersLength:d,hideFilterDialog:this.hideFilterDialog,addFilter:this.props.addFilter,updateFilter:this.props.updateFilter,deleteFilter:this.props.deleteFilter,updateFilterConjunction:this.props.updateFilterConjunction,isLocked:o}),this.state.isFiltersViewShow&&h.a.createElement(Vb,{columns:s,filterConjunction:r,filters:l,filtersLength:d,hideFilterView:this.hideFilterView,addFilter:this.props.addFilter,updateFilter:this.props.updateFilter,deleteFilter:this.props.deleteFilter,updateFilterConjunction:this.props.updateFilterConjunction,isLocked:o}),this.props.isSortComponentShow&&h.a.createElement(p,{sorts:c,columns:s,addSort:this.props.addSort,updateSort:this.props.updateSort,deleteSort:this.props.deleteSort,onSortComponentToggle:this.props.onSortComponentToggle,isLocked:o}),this.state.isShowCalendar&&h.a.createElement(gx,{settings:this.getTableSettings(pt.SETTING_KEY.CALENDAR_VIEW),table:t,rowsCount:this.props.rowsCount,groups:this.props.groups,rowGetter:this.props.rowGetter,groupRowGetter:this.props.groupRowGetter,isGroupView:this.props.isGroupView,selectedViewIdx:n,toggleCalendarDialog:this.toggleCalendarDialog,onRowExpand:this.props.onRowExpand,updateTableSetting:this.props.updateTableSetting,onCalendarInsertRow:this.props.onCalendarInsertRow}),this.state.isCreateDatasetDialogShow&&h.a.createElement(yx,{toggle:this.toggleCreateDatasetDialog}),this.state.isViewMenuShow&&h.a.createElement(bx,{hideViewMenu:this.hideViewMenu,viewMenuPosition:this.state.viewMenuPosition,onExportViewAsExcel:this.onExportViewAsExcel,toggleCreateDatasetDialog:this.toggleCreateDatasetDialog}),this.state.isSearchTablesDialogShow&&h.a.createElement(sC,{onSearchTablesToggle:this.onSearchTablesToggle,debounce:this.debounce,tables:this.props.tables}))}}]),t}(p.Component),cC=Object(I.d)("dtable")(lC),uC={OPERATIONS:"operations",SNAPSHOTS:"snapshots",DELETED_ROWS:"deleted_rows"},dC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onNewTableToggle=function(e){e.preventDefault(),n.props.onNewTableToggle(),n.props.closeAddTableDropdown()},n.onImportCommonDataset=function(e){n.props.closeAddTableDropdown(),n.props.onImportCommonDataset(e)},n.hideSubmenu=function(){n.setState({isSubMenuShow:!1})},n.showSubmenu=function(){n.setState({isSubMenuShow:!0})},n.toggle=function(){n.props.closeAddTableDropdown()},n.onImportCSV=function(e){e.stopPropagation(),n.props.onImportCSV()},n.state={isSubMenuShow:!1,dropdownMenuWidth:null},n.datasetList=window.app.state.datasetList,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.setState({dropdownMenuWidth:this.dropdownRef.offsetWidth-3})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isSubMenuShow,a=t.dropdownMenuWidth,r=this.props,i=r.t,o=r.dropdownMenuPosition,s=o||{top:0,left:0},l={top:o?o.top+34:34,left:o?o.left+a:a,transform:"none"},c=window.dtable,u=c.canCreateCommonDataset,d=c.cloudMode,p=c.isOrgContext,f=u&&(!d||p);return h.a.createElement("div",{className:"dtable-dropdown-menu dropdown-menu large show",style:s,ref:function(t){return e.dropdownRef=t}},h.a.createElement("button",{className:"dropdown-item",onClick:this.onNewTableToggle,onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-add-files"}),h.a.createElement("span",{className:"item-text"},i("Create_empty_table"))),h.a.createElement("button",{className:"dropdown-item",onClick:this.onImportCSV,onMouseEnter:this.hideSubmenu},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-import"}),h.a.createElement("span",{className:"item-text"},i("Import_a_CSV"))),f&&this.datasetList&&this.datasetList.length>0&&h.a.createElement(De,{className:"header-dropdown w-100",isOpen:n,direction:"right",toggle:this.toggle},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isMenuShow,className:"dropdown-item grid-header-dropdown-item ".concat(n?"grid-header-dropdown-item-hightlight":""),onMouseEnter:this.showSubmenu,disabled:!0,caret:!0},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-import"}),h.a.createElement("span",{className:"item-text"},i("Import_common_dataset"))),h.a.createElement(st,{style:l,className:"position-fixed o-auto"},this.datasetList.map((function(t,n){return h.a.createElement(dt,{className:"grid-header-dropdown-item",toggle:!1,key:n,onClick:function(n){return e.onImportCommonDataset(t.id)}},h.a.createElement("span",null,t.dataset_name))})))))}}]),t}(h.a.Component),pC=Object(I.d)("dtable")(dC),hC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).hideHistoryDropdownMenu=function(){n.props.onHistoryDropdownToggle()},n.getMenuStyle=function(){var e,t=n.props.dropdownMenuPosition;if(t){var a=(n.historyDropdownMenuRef||{}).clientWidth,r=t.left-a+24;e=Object.assign({},t,{left:r})}else e={top:0,left:0};n.setState({menuStyle:e})},n.onOperationsToggle=function(){n.props.toggleHistoryDialog(uC.OPERATIONS)},n.onSnapshotsToggle=function(){n.props.toggleHistoryDialog(uC.SNAPSHOTS)},n.onDeleteRowsToggle=function(){n.props.toggleHistoryDialog(uC.DELETED_ROWS)},n.state={menuStyle:{}},n.historyDropdownMenuRef=null,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.getMenuStyle(),document.addEventListener("click",this.hideHistoryDropdownMenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideHistoryDropdownMenu)}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.menuStyle;return h.a.createElement("div",{className:"dtable-dropdown-menu dropdown-menu large show",style:n,ref:function(t){return e.historyDropdownMenuRef=t}},h.a.createElement("button",{className:"dropdown-item",onClick:this.onOperationsToggle},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-journal"}),h.a.createElement("span",{className:"item-text"},t("Operation_Log"))),h.a.createElement("button",{className:"dropdown-item",onClick:this.onSnapshotsToggle},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-history-mirror-image"}),h.a.createElement("span",{className:"item-text"},t("Snapshots"))),h.a.createElement("button",{className:"dropdown-item",onClick:this.onDeleteRowsToggle},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete"}),h.a.createElement("span",{className:"item-text"},t("Deleted_Rows"))))}}]),t}(h.a.Component),fC=Object(I.d)("dtable")(hC),mC=(n(1246),[{name:"Table1"}]),gC={drop:function(e,t){var n=t.getItem(),a=e.tabIndex;if(a!==n.idx){var r={idx:a,data:e.table};e.moveTable(n,r)}}},vC=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedRow:t.getItem()}},yC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleClick=function(e){n.state.isAddTableDropdownOpen&&n.addTableRef&&e&&!n.addTableRef.contains(e.target)&&n.closeAddTableDropdown()},n.calculateScroll=function(){var e=n.refs.tablesNavScrollRef,t=e.offsetWidth,a=e.scrollWidth,r=e.scrollLeft;n.setState({tablesNavWidth:t,tablesNavScrollWidth:a,tablesScrollLeft:r})},n.onChangeTabActive=function(e){if(e!==n.props.selectedTab){var t=n.refs.tablesNavScrollRef,a=t.offsetWidth,r=t.scrollWidth;0===e?t.scrollLeft=0:e===n.props.tables.length-1&&(n.refs.tablesNavScrollRef.scrollLeft=r-a),"function"===typeof n.props.onChangeTabActive&&n.props.onChangeTabActive(e)}},n.onNewTableToggle=function(){n.setState({isNewTableDialogShow:!n.state.isNewTableDialogShow})},n.openAddTableDropdown=function(){n.state.isAddTableDropdownOpen||(window.isMobile?n.showAddTableActionSheet():n.setState({isAddTableDropdownOpen:!0}))},n.closeAddTableDropdown=function(){n.setState({isAddTableDropdownOpen:!1})},n.showAddTableActionSheet=function(){var e=n.props.t,t="dtable-font dtable-icon-",a=[h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(t,"add-files")}),e("Create_empty_table"))],r=window.dtable,i=r.canCreateCommonDataset,o=r.cloudMode,s=r.isOrgContext;i&&(!o||s)&&n.datasetList&&n.datasetList.length>0&&a.push(h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(t,"import")}),e("Import_common_dataset"))),Bv.a.showActionSheetWithOptions({options:a,maskClosable:!0},(function(e){n.closeAddTableDropdown(),0===e?n.onNewTableToggle():1===e&&n.showImportCommonDatasetActionSheet()}))},n.showImportCommonDatasetActionSheet=function(){for(var e=[],t=0,a=n.datasetList.length;t<a;t++)e.push(h.a.createElement("div",{className:"my-am-action"},n.datasetList[t].dataset_name));Bv.a.showActionSheetWithOptions({options:e,maskClosable:!0},(function(e){-1!==e&&n.onImportCommonDataset(n.datasetList[e].id)}))},n.onImportCommonDataset=function(e){Za.notify(n.props.t("It_may_take_some_time_please_wait")),window.dtableWebAPI.getCommonDataset(e).then((function(t){var a=t.data,r=a.rows,i=a.columns,o=n.datasetList.filter((function(t){return t.id===e}))[0].dataset_name;window.app.dtableStore.insertTableFromCommonDataset(o,r,i),window.app.selectLatestTable()})).catch((function(e){if(!e.response||403!==e.response.status){var t=nm(e,!0);Za.danger(n.props.t(t))}}))},n.onNewTableConfirm=function(e){"function"===typeof n.props.onNewTableConfirm&&n.props.onNewTableConfirm(e),n.onNewTableToggle()},n.onDeleteTab=function(){"function"===typeof n.props.onDeleteTab&&n.props.onDeleteTab()},n.onDuplicateTable=function(e,t){"function"===typeof n.props.onDuplicateTable&&n.props.onDuplicateTable(e,t)},n.onNewTableCancel=function(){n.setState({isNewTableDialogShow:!1})},n.getTabPanes=function(){var e=n.props,t=e.tables,a=e.selectedTab,r=t||mC,i=Object(sg.DropTarget)("Table",gC,vC)(ab);return r.map((function(e,t){return h.a.createElement(i,{key:t,table:e,tablesCount:n.getTablesLength(),isActiveTab:a===t,tabIndex:t,onChangeTabActive:n.onChangeTabActive,onDeleteTab:n.onDeleteTab,onRenameTableConfirm:n.props.onRenameTableConfirm,moveTable:n.props.moveTable,onDuplicateTable:n.onDuplicateTable})}))},n.onScrollControlClick=function(e){var t,a=n.refs.tablesNavScrollRef,r=a.offsetWidth,i=a.scrollWidth,o=a.scrollLeft;if("prev"===e){if(0===o)return;t=(t=o-r)>0?t:0}if("next"===e){if(o+r===i)return;t=(t=o+r)>i-r?i-r:t}if(n.state.canTablesTabsScroll){n.setState({canTablesTabsScroll:!1});var s=null;s=setInterval((function(){var e=(t-o)/10;e=e>0?Math.ceil(e):Math.floor(e),a.scrollLeft=a.scrollLeft+e,Math.abs(t-a.scrollLeft)<=Math.abs(e)&&(a.scrollLeft=t,clearInterval(s),n.setState({canTablesTabsScroll:!0}))}),15)}},n.onTableNavScroll=function(e){n.setState({tablesScrollLeft:e.target.scrollLeft})},n.shareToolTipToggle=function(){n.setState({isShareToolTip:!n.state.isShareToolTip})},n.logsToolTipToggle=function(){n.setState({isLogsToolTip:!n.state.isLogsToolTip})},n.getTablesLength=function(){return(n.props.tables||mC).length},n.isSameTables=function(e,t){var n,a=e.length;if(e.length!==t.length)return!1;for(n=0;n<a;n++)if(e[n]!==t[n])return!1;return!0},n.getTablesName=function(e){return e.map((function(e){return e.name}))},n.onImportCSV=function(){n.uploadInput.click()},n.uploadTableFile=function(){if(n.uploadInput.files.length){var e=n.uploadInput.files[0],t=e.name;window.app.onImportCSV(e,t.slice(0,t.length-4)),n.uploadInput.value=""}},n.isShowScrollControl=function(){var e=n.state,t=e.tablesNavWidth;return e.tablesNavScrollWidth>t},n.renderTablesScrollControl=function(){var e=n.state,t=e.tablesNavWidth,a=e.tablesNavScrollWidth,r=e.tablesScrollLeft;return h.a.createElement("div",null,h.a.createElement("span",{className:ie()("scroll-control-btn","scroll-prev",{"scroll-active":r>0}),onClick:n.onScrollControlClick.bind(E(n),"prev")},h.a.createElement("i",{className:"dtable-font dtable-icon-left-slide"})),h.a.createElement("span",{className:ie()("scroll-control-btn","scroll-next",{"scroll-active":r+t<a}),onClick:n.onScrollControlClick.bind(E(n),"next")},h.a.createElement("i",{className:"dtable-font dtable-icon-right-slide"})))},n.onHistoryDropdownToggle=function(){n.setState({isHistoryDropdownOpen:!n.state.isHistoryDropdownOpen})},n.state={isNewTableDialogShow:!1,tablesNavWidth:0,tablesNavScrollWidth:0,tablesScrollLeft:0,canTablesTabsScroll:!0,isLogsToolTip:!1,isShareToolTip:!1,isAddTableDropdownOpen:!1,isHistoryDropdownOpen:!1},n.datasetList=window.app.state.datasetList,n.addTableButtonPosition=null,n.historyButtonPosition=null,n.isTableReadOnly="r"===window.dtable.permission,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.refs.tablesNavScrollRef,t=e.offsetWidth,n=e.scrollWidth,a=e.scrollLeft;if(this.setState({tablesNavWidth:t,tablesNavScrollWidth:n,tablesScrollLeft:a,prevTables:this.getTablesName(this.props.tables)}),!this.isTableReadOnly){var r=this.addTableRef.parentNode.getBoundingClientRect(),i=r.top,o=r.left;if(this.addTableButtonPosition={top:i+20,left:o},!window.isMobile){var s=this.historyRef.parentNode.getBoundingClientRect(),l=s.top,c=s.left;this.historyButtonPosition={top:l+22,left:c}}}document.addEventListener("click",this.handleClick),window.addEventListener("resize",function(e,t){var n=null,a=Date.now();return function(){var r=Date.now(),i=t-(r-a),o=this,s=arguments;clearTimeout(n),i<=0?(e.apply(o,s),a=Date.now()):n=setTimeout(e,i)}}(this.calculateScroll,1e3))}},{key:"componentDidUpdate",value:function(){var e=this.state.prevTables,t=this.getTablesName(this.props.tables);if(t&&e&&!this.isSameTables(e,t)){var n=this.refs.tablesNavScrollRef,a=n.scrollWidth,r=n.offsetWidth,i=n.scrollLeft,o=this.props.selectedTab===t.length-1?a-r:i;this.refs.tablesNavScrollRef.scrollLeft=o,this.setState({tablesNavWidth:r,tablesNavScrollWidth:a,tablesScrollLeft:o,prevTables:t})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick),window.removeEventListener("resize",this.calculateScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tables,a=t.selectedTab,r=t.selectedViewIdx,i=t.toggleShowHeader,o=t.mobileShowHeader,s=t.t,l=this.state,c=l.tablesScrollLeft,u=l.tablesNavWidth,d=l.tablesNavScrollWidth,f=n[a],m=this.getTabPanes(),g=window.dtable,v=g.externalLinkToken,y=g.isAdmin;return h.a.createElement(h.a.Fragment,null,o&&h.a.createElement("div",{className:"tables-tabs-container"},h.a.createElement("div",{className:"tables-tabs-content"},h.a.createElement("div",{className:"tables-tabs"},c>0&&h.a.createElement("div",{className:"tabs-nav-scroll-before"}),h.a.createElement("div",{className:"tabs-nav-scroll",ref:"tablesNavScrollRef",onScroll:this.onTableNavScroll},h.a.createElement(K_,{tabPanes:m})),c+u<d&&h.a.createElement("div",{className:"tabs-nav-scroll-after"})),this.isShowScrollControl()&&h.a.createElement("div",{className:"tables-scroll-control"},this.renderTablesScrollControl()),!this.isTableReadOnly&&h.a.createElement("div",{className:"add-table"},h.a.createElement("span",{className:"add-table-button",onClick:this.openAddTableDropdown,ref:function(t){return e.addTableRef=t}},h.a.createElement("i",{className:"dtable-font dtable-icon-add-table"})),h.a.createElement("input",{id:"importFile",className:"d-none",type:"file",accept:".csv",ref:function(t){return e.uploadInput=t},onChange:this.uploadTableFile,autoFocus:!0}))),!window.isMobile&&h.a.createElement("div",{className:"tables-tabs-operations"},!v&&h.a.createElement(p.Fragment,null,y&&h.a.createElement("div",{className:"tables-share",onClick:this.props.toggleShareDialog},h.a.createElement("span",{className:"dtable-font dtable-icon-share tables-share-icon",id:"tables-share-icon"},h.a.createElement(Yn,{placement:"bottom",isOpen:this.state.isShareToolTip,toggle:this.shareToolTipToggle,target:"tables-share-icon",fade:!1},s("Share")))),h.a.createElement("div",{className:"tables-logs",onClick:this.onHistoryDropdownToggle},h.a.createElement("span",{className:"dtable-font dtable-icon-journal tables-logs-icon",id:"tables-logs-icon",ref:function(t){return e.historyRef=t}},h.a.createElement(Yn,{placement:"bottom",isOpen:this.state.isLogsToolTip,toggle:this.logsToolTipToggle,target:"tables-logs-icon",fade:!1},s("History"))))),h.a.createElement("div",{className:"tables-plugins",onClick:this.props.togglePluginsPanel},h.a.createElement("i",{className:"dtable-font dtable-icon-assembly tables-plugins-icon"}),h.a.createElement("span",{className:"tables-plugins-comment"},s("Plugins")))),this.state.isNewTableDialogShow&&h.a.createElement(Dm,null,h.a.createElement(W_,{onNewTableConfirm:this.onNewTableConfirm,onNewTableCancel:this.onNewTableCancel,tableName:"Table".concat(this.getTablesLength()+1)})),this.state.isAddTableDropdownOpen&&h.a.createElement(pC,{onNewTableToggle:this.onNewTableToggle,closeAddTableDropdown:this.closeAddTableDropdown,dropdownMenuPosition:this.addTableButtonPosition,onImportCommonDataset:this.onImportCommonDataset,onImportCSV:this.onImportCSV}),this.state.isHistoryDropdownOpen&&h.a.createElement(fC,{tables:n,onHistoryDropdownToggle:this.onHistoryDropdownToggle,dropdownMenuPosition:this.historyButtonPosition,toggleHistoryDialog:this.props.toggleHistoryDialog})),h.a.createElement(cC,{table:f,rowsCount:this.props.rowsCount,groups:this.props.groups,rowGetter:this.props.rowGetter,groupRowGetter:this.props.groupRowGetter,isGroupView:this.props.isGroupView,selectedViewIdx:r,addView:this.props.addView,moveView:this.props.moveView,modifyCanlendarViewColumn:this.props.modifyCanlendarViewColumn,onSelectView:this.props.onSelectView,onRenameView:this.props.onRenameView,onDeleteView:this.props.onDeleteView,addFilter:this.props.addFilter,addSort:this.props.addSort,updateSort:this.props.updateSort,deleteSort:this.props.deleteSort,isSortComponentShow:this.props.isSortComponentShow,onSortComponentToggle:this.props.onSortComponentToggle,updateFilter:this.props.updateFilter,deleteFilter:this.props.deleteFilter,updateFilterConjunction:this.props.updateFilterConjunction,searchCells:this.props.searchCells,clearSearchResult:this.props.clearSearchResult,searchResult:this.props.searchResult,focusNextMatchedCell:this.props.focusNextMatchedCell,focusPreviousMatchedCell:this.props.focusPreviousMatchedCell,moveColumn:this.props.moveColumn,onHideColumn:this.props.onHideColumn,onShowColumn:this.props.onShowColumn,hideAllColumns:this.props.hideAllColumns,showAllColumns:this.props.showAllColumns,addGroup:this.props.addGroup,updateGroup:this.props.updateGroup,deleteGroup:this.props.deleteGroup,searchActive:this.props.searchActive,onSearchActiveToggle:this.props.onSearchActiveToggle,modifyViewLock:this.props.modifyViewLock,toggleShowHeader:i,mobileShowHeader:o,onRowExpand:this.props.onRowExpand,updateTableSetting:this.props.updateTableSetting,onCalendarInsertRow:this.props.onCalendarInsertRow,toolbarPlugins:this.props.toolbarPlugins,executePluginItemCallback:this.props.executePluginItemCallback,tables:this.props.tables}))}}]),t}(h.a.Component),_C=Object(I.d)("dtable")(yC),bC=function e(t){v(this,e),this.avatar_url=t.avatar_url||"",this.contact_email=t.contact_email||"",this.email=t.email||"",this.name=t.name||""},wC=function e(t){v(this,e),this.id=t.id||null,this.username=t.username||null,this.msg_type=t.msg_type||null,this.created_at=t.created_at||null,this.detail=t.detail||null,this.seen=t.seen||0},EC=function e(t){v(this,e),this.id=t.id||null,this.author=t.author||null,this.comment=t.comment||null,this.dtable_uuid=t.dtable_uuid||null,this.row_id=t.row_id||null,this.created_at=t.created_at||null,this.updated_at=t.updated_at||null,this.resolved=t.resolved||0},TC=[pt.CellType.CREATOR,pt.CellType.CTIME,pt.CellType.LAST_MODIFIER,pt.CellType.MTIME],xC=function(){function e(t){var n=this;v(this,e),this.expandColumnForPaste=function(e,t,a,r,i){var o=e[t],s=n.dtableStore.view_index,l=o.views,c=pt.Views.getViewByIndex(l,s),u=n.dtableStore.getNumberOfColumns(t);if(n.dtableStore.insertColumn(t,a,r,u),[pt.CellType.DATE,pt.CellType.NUMBER,pt.CellType.FORMULA].includes(r)&&Object.getOwnPropertyNames(i).length>0){var d=pt.Views.getColumns(c,o),p=d[d.length-1].key;n.dtableStore.setColumnData(t,p,i)}},this.getSelectValueMatrix=function(e,t,a,r){for(var i=[],o=r.topLeft,s=r.bottomRight,l=o.idx,c=o.rowIdx,u=o.groupIdx,d=s.idx,p=s.rowIdx,h=l;h<=d;h++){i[h-l]=[];for(var f=a[h-1].key,m=c;m<=p;m++){var g=n.getRow(e,t,m,u);i[h-l][m-c]=g[f]}}return i},this.getSelectValueRules=function(e,t,a){var r={};return e.forEach((function(e,i){var o=e.length>2&&n.isSameType(e),s=t[i+a-1],l=s.type,c=s.data,u=s.key,d=function(e){return e.value};if(o){var p=e[0],h=e[1];switch(l){case pt.CellType.DATE:c&&c.format&&c.format.indexOf("HH:mm");var f=new Date(p),m=new Date(h);n.isYearArithmeticSequence(e)?d=function(e){var t=e.n*(m.getFullYear()-f.getFullYear());return ft()(f).add(t,"years").format("YYYY-MM-DD HH:mm")}:n.isMonthArithmeticSequence(e)?d=function(e){var t=e.n*(m.getMonth()-f.getMonth()+12*(m.getFullYear()-f.getFullYear()));return ft()(f).add(t,"months").format("YYYY-MM-DD HH:mm")}:n.isDayArithmeticSequence(e)&&(d=function(e){var t=e.n,a=new Date(t*(m-f)+n.getDateStringValue(p));return ft()(a).format("YYYY-MM-DD HH:mm")});break;case pt.CellType.NUMBER:if(n.isArithmeticSequence(e)){d=function(e){return e.n*(h-p)+p};break}d=n.getLeastSquares(e);break;default:d=function(e){return e.value}}}r[u]=d})),r},this.dtableStore=t}return _(e,[{key:"pasteGrid",value:function(e){var t=e.tables,n=e.selectedTableIdx,a=e.pastePosition,r=e.copied,i=e.cutTableIdx,o=e.cutViewIdx,s=e.cutPosition,l=e.type,c=e.pasteFrom,u=e.collaborators,d=e.isSmartPaste,p=this.getModifyRows(t,n,r,a,u,d),h=p.rowIds,f=p.updatedRows,m=p.oldRows;c===Ut.CUT&&"dtable-fragment"===l&&this.clearCutRows(i,o,s,r),Object.keys(f).length<1||this.dtableStore.modifyRows(n,h,f,m)}},{key:"getModifyRows",value:function(e,t,n,a,r,i){var o=this,s=n.copiedRows,l=n.copiedCols,c=a.idx,u=a.rowIdx,d=a.groupIdx,p=[],h={},f={};return c-=1,s.forEach((function(n,a){var s=u+a,m=o.getRow(e,t,s,d),g=m._id;p.push(g),l.forEach((function(a,s){var l=c+s,u=o.getPasteColumn(e,t,l,a,i);if(u&&!(TC.indexOf(u.type)>-1)&&u){var d=u.key,p=m[d],v=o.getCopiedCellVal(t,u,m,a,n,r);h[g]=Object.assign({},h[g],D({},d,v)),f[g]=Object.assign({},f[g],D({},d,p))}}))})),{rowIds:p,updatedRows:h,oldRows:f}}},{key:"getRow",value:function(e,t,n,a){var r,i=e[t],o=this.dtableStore.view_index,s=i.views,l=pt.Views.getViewByIndex(s,o);if(n>(r=pt.Views.isGroupView(l)?pt.Views.getGroupRowsLength(l,a):pt.Views.getRowsLength(l,i))-1){var c,u=this.dtableStore.getRow(t,r-1,a)._id;pt.Views.isDefaultView(l)||(c=pt.Views.getRowDataUsedInFilters(l,i,u)),this.dtableStore.insertRow(t,u,"insert_below",c)}return this.dtableStore.getRow(t,n,a)}},{key:"getPasteColumn",value:function(e,t,n,a,r){var i=e[t];if(r)return pt.TableUtils.getTableColumnByName(i,a.name);var o=this.dtableStore.view_index,s=i.views,l=pt.Views.getViewByIndex(s,o);if(n>pt.Views.getColumns(l,i).length-1){var c=a.name,u=a.type,d=a.data,p=c||"Field".concat(n),h=d||{};this.expandColumnForPaste(e,t,p,u,h)}return this.dtableStore.getColumn(t,n)}},{key:"getCopiedCellVal",value:function(e,t,n,a,r,i){var o=this,s=t.type,l=t.key,c=t.data,u=a.type,d=a.key,p=a.data,h=n[l],f=r[d];c=c||{},p=p||{};var m=h;switch(s){case pt.CellType.CHECKBOX:u!==pt.CellType.CHECKBOX&&""!==u&&u!==pt.CellType.TEXT&&u!==pt.CellType.NUMBER||(m="string"===typeof f&&"true"===f.toLocaleLowerCase()||f>0);break;case pt.CellType.NUMBER:""!==u&&u!==pt.CellType.TEXT&&u!==pt.CellType.NUMBER||(m=f&&Object(pt.getFloatNumber)(f.toString()));break;case pt.CellType.DATE:var g=c.format,v=p.format;if(g=g||"YYYY-MM-DD",v=v||"YYYY-MM-DD",u===pt.CellType.DATE){var y=v.indexOf("HH:mm"),_=g.indexOf("HH:mm");m=y>-1&&_>-1||y==_?f:Object(pt.formatTextToDate)(f,g)}else u!==pt.CellType.TEXT&&u!==pt.CellType.CTIME&&u!==pt.CellType.MTIME||(m=Object(pt.formatTextToDate)(f,g));break;case pt.CellType.SINGLE_SELECT:if(u===pt.CellType.SINGLE_SELECT&&(m="",f)){for(var b,w,E,T=!1,x=[],C=a.data.options,S=0,k=C.length;S<k;S++){var O=C[S],M=O.id,L=O.name,D=O.color,R=O.textColor;M===f&&(b=L,w=D,E=R)}if(t.data&&t.data.options){x=F()(t.data.options);for(var N=0;N<t.data.options.length;N++)if(t.data.options[N].name===b){m=t.data.options[N].id,T=!0;break}}if(!T){var I=t.data&&t.data.options?t.data.options:[],A=Object(pt.generateOptionID)(I);m=A,x.push({name:b,color:w,textColor:E,id:A}),this.dtableStore.setColumnData(e,l,{options:x})}}break;case pt.CellType.MULTIPLE_SELECT:if(u===pt.CellType.MULTIPLE_SELECT&&(m=[],f&&f.length>0)){for(var P=[],Y=[],j=a.data.options,U=0,H=j.length;U<H;U++){var B=j[U],V=B.id,G=B.name,W=B.color,z=B.textColor;f.includes(V)&&P.push({name:G,textColor:z,color:W})}t.data&&t.data.options?(Y=F()(t.data.options),P.forEach((function(n){var a=t.data.options.find((function(e){return e.name===n.name}));if(a)m.push(a.id);else{var r=Object(pt.generateOptionID)(Y),i=qe({id:r},n);m.push(r),Y.push(i),o.dtableStore.setColumnData(e,l,{options:Y})}}))):P.forEach((function(t){var n=Object(pt.generateOptionID)(Y),a=qe({id:n},t);m.push(n),Y.push(a),o.dtableStore.setColumnData(e,l,{options:Y})}))}break;case pt.CellType.IMAGE:u===pt.CellType.IMAGE&&(m=f||[]);break;case pt.CellType.FILE:u===pt.CellType.FILE&&(m=f||[]);break;case pt.CellType.LONG_TEXT:if(u===pt.CellType.LONG_TEXT)m=f;else if(""===u||u===pt.CellType.TEXT)m={preview:f,text:f};else if(u===pt.CellType.NUMBER){var q=p.format||"number";m={preview:Object(pt.getNumberDisplayString)(f,q),text:Object(pt.getNumberDisplayString)(f,q)}}else if(u===pt.CellType.DATE){var K=p.format||"YYYY-MM-DD";m={preview:Object(pt.getDateDisplayString)(f,K),text:Object(pt.getDateDisplayString)(f,K)}}break;case pt.CellType.TEXT:if(""===u||u===pt.CellType.TEXT)m=f;else if(u===pt.CellType.NUMBER){var X=p.format||"number";m=Object(pt.getNumberDisplayString)(f,X)}else if(u===pt.CellType.DATE){var J=p.format||"YYYY-MM-DD";m=Object(pt.getDateDisplayString)(f,J)}else u===pt.CellType.GEOLOCATION&&(m=Object(pt.getGeolocationDisplayString)(f));break;case pt.CellType.COLLABORATOR:u!==pt.CellType.COLLABORATOR&&u!==pt.CellType.CREATOR&&u!==pt.CellType.LAST_MODIFIER||(m=Array.isArray(f)?f.filter((function(e){return i.find((function(t){return t.email===e}))})):[f]);break;case pt.CellType.LINK_COMMON_DATASET:u===pt.CellType.LINK_COMMON_DATASET&&(m=f);break;case pt.CellType.LINK:if(u===pt.CellType.LINK){var Z=a.data,$=Z.table_id,Q=Z.other_table_id;t.data.table_id===$&&t.data.other_table_id===Q&&window.app.pasteRowLinks($,Q,r._id,n._id)}break;case pt.CellType.GEOLOCATION:u===pt.CellType.GEOLOCATION?m=f:u===pt.CellType.TEXT&&(m=Object(pt.formatTextToGeolocation)(f));break;case pt.CellType.CREATOR:case pt.CellType.CTIME:case pt.CellType.MTIME:case pt.CellType.LAST_MODIFIER:m=""}return m}},{key:"clearCutRows",value:function(e,t,n,a){var r=this,i=a.copiedRows,o=a.copiedCols,s=[],l={},c={},u=n.rowIdx,d=n.groupIdx;i.forEach((function(n,a){var i=u+a,p=r.dtableStore.getRow(e,i,d,t),h=p._id;s.push(h),o.forEach((function(e){var t=e.key,n=p[t];if(l[h]=Object.assign({},l[h],D({},t,"")),c[h]=Object.assign({},c[h],D({},t,n)),e.type===pt.CellType.LINK){var a=e.data,r=a.table_id,i=a.other_table_id;window.app.deleteRowLinks(r,i,h)}}))})),this.dtableStore.modifyRows(e,s,l,c)}},{key:"isSameType",value:function(e){if(!Array.isArray(e))return!1;var t=typeof e[0];return e.every((function(e){return typeof e===t}))}},{key:"isArithmeticSequence",value:function(e){var t=e[0],n=e[1]-t;return e.every((function(e,a){return e===a*n+t}))}},{key:"getLeastSquares",value:function(e){var t,n,a,r,i=0,o=0,s=0,l=0,c=e.length;return e.forEach((function(e,t){i+=t+1,o+=e,l+=e*(t+1),s+=Math.pow(t+1,2)})),t=(l-c*(a=i/c)*(r=o/c))/(s-c*Math.pow(a,2)),n=r-t*a,function(e){var a=e.n;return Number(parseFloat((a+1)*t+n).toFixed(8))}}},{key:"getDateStringValue",value:function(e){if(e instanceof Date)return e.valueOf();var t=new Date(e);return isNaN(t)?0:t.valueOf()}},{key:"isDayArithmeticSequence",value:function(e){var t=this,n=this.getDateStringValue(e[0]),a=this.getDateStringValue(e[1])-n;return e.every((function(e,r){return!isNaN(new Date(e))&&t.getDateStringValue(e)===r*a+n}))}},{key:"isMonthArithmeticSequence",value:function(e){var t=new Date(e[0]),n=new Date(e[1]);if(isNaN(t)||isNaN(n))return!1;if(t.getDate()!==n.getDate()||t.getHours()!==n.getHours()||t.getMinutes()!==n.getMinutes())return!1;var a=n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear());return e.every((function(e,n){var r=n*a,i=new Date(e);return!isNaN(i)&&ft()(i).format("YYYY-MM-DD HH:mm")===ft()(t).add(r,"months").format("YYYY-MM-DD HH:mm")}))}},{key:"isYearArithmeticSequence",value:function(e){var t=new Date(e[0]),n=new Date(e[1]);if(isNaN(t)||isNaN(n))return!1;if(t.getMonth()!==n.getMonth()||t.getDate()!==n.getDate()||t.getHours()!==n.getHours()||t.getMinutes()!==n.getMinutes())return!1;var a=t.getFullYear(),r=n.getFullYear()-a;return e.every((function(e,t){var n=new Date(e);return!isNaN(n)&&n.getFullYear()===t*r+a}))}},{key:"getDragRows",value:function(e,t,n){for(var a=e[t],r=this.dtableStore.view_index,i=a.views,o=pt.Views.getViewByIndex(i,r),s=pt.Views.getColumns(o,a),l=[],c={},u={},d=n.overRowIdx,p=n.topLeft,h=n.bottomRight,f=p.idx,m=p.rowIdx,g=p.groupIdx,v=h.idx,y=h.rowIdx,_=this.getSelectValueMatrix(e,t,s,n),b=this.getSelectValueRules(_,s,f),w=TC.concat([pt.CellType.FORMULA]),E=_[0].length,T=_[0].length,x=y+1;x<=d;x++){var C=this.getRow(e,t,x,g),S=C._id;l.push(S);for(var k=(x-y-1)%E,O=f;O<=v;O++){var M=s[O-1],L=M.key,R=M.type,N=M.data;if(!w.includes(R)){var I=_[O-f][k],A=(0,b[L])({n:T,value:I});if(c[S]=Object.assign({},c[S],D({},L,A)),u[S]=Object.assign({},u[S],D({},L,C[L])),R===pt.CellType.LINK){var P=N.table_id,Y=N.other_table_id,F=this.getRow(e,t,k+m,g);window.app.pasteRowLinks(P,Y,F._id,C._id)}}}T++}return{rowIds:l,updatedRows:c,oldRows:u}}},{key:"fillingDragRows",value:function(e){var t=e.tables,n=e.selectedTableIdx,a=e.draggedRange,r=this.getDragRows(t,n,a),i=r.rowIds,o=r.updatedRows,s=r.oldRows;Object.keys(o).length<1||this.dtableStore.modifyRows(n,i,o,s)}}]),e}();var CC=Object(I.d)("dtable")((function(e){var t=e.onUndoOperation,n=e.t;return h.a.createElement("span",{onClick:function(e){e.stopPropagation(),t(e)},style:{color:"rgb(71, 184, 129)",marginLeft:"8px",paddingBottom:"1px",borderBottom:"1px solid rgb(71, 184, 129)",cursor:"pointer"}},n("Undo"))})),SC=(n(1247),Bv.i.Item),kC=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={visible:!1},n.onSelect=function(e){n.setState({visible:!1});var t=e.props.value;"forms"===t?n.props.showFormDialog():"statistics"===t?n.props.showStatisticsView():"plugins"===t?n.props.togglePluginsPanel():"history"===t&&n.showMobileHistoryType()},n.showMobileHistoryType=function(){var e=n.props,t=e.t,a=e.toggleHistoryDialog,r=[uC.OPERATIONS,uC.SNAPSHOTS,uC.DELETED_ROWS],i=[h.a.createElement("span",{className:"select-option-name mobile-filterPredicate"},h.a.createElement("i",{className:"mobile-item-icon dtable-font dtable-icon-journal"}),t("Operation_Log")),h.a.createElement("span",{className:"select-option-name mobile-filterPredicate"},h.a.createElement("i",{className:"mobile-item-icon dtable-font dtable-icon-history-mirror-image"}),t("Snapshots")),h.a.createElement("span",{className:"select-option-name mobile-filterPredicate"},h.a.createElement("i",{className:"mobile-item-icon dtable-font dtable-icon-delete"}),t("Deleted_Rows"))];Bv.a.showActionSheetWithOptions({options:i,maskClosable:!0},(function(e){-1!==e&&a(r[e])}))},n.toggleVisible=function(e){n.setState({visible:e})},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t,t=null;return t=window.dtable.externalLinkToken?[h.a.createElement(SC,{key:"5",value:"statistics",icon:h.a.createElement("i",{className:"dtable-font dtable-icon-statistics"})},e("Statistics"))]:[h.a.createElement(SC,{key:"4",value:"forms",icon:h.a.createElement("i",{className:"dtable-font dtable-icon-form"})},e("Forms")),h.a.createElement(SC,{key:"5",value:"statistics",icon:h.a.createElement("i",{className:"dtable-font dtable-icon-statistics"})},e("Statistics")),h.a.createElement(SC,{key:"6",value:"plugins",icon:h.a.createElement("i",{className:"dtable-font dtable-icon-assembly"})},e("Plugins")),h.a.createElement(SC,{key:"7",value:"history",icon:h.a.createElement("i",{className:"dtable-font dtable-icon-journal"})},e("History"))],h.a.createElement("div",{className:"tools"},h.a.createElement(Bv.i,{mask:!0,overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:t,align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.togggleVisible,onSelect:this.onSelect},h.a.createElement("div",{className:"mobile-header-tools-icon"},h.a.createElement(Bv.e,{type:"ellipsis"}))))}}]),t}(h.a.Component),OC=n(305),MC=n.n(OC),LC=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getOptionStyle=function(e){return{display:"inline-block",padding:"0px 10px",height:"20px",textAlign:"center",borderRadius:"10px",fontSize:"13px",backgroundColor:e,verticalAlign:"middle"}},n.getDisplayName=function(e,t){var a,r=t.type,i=t.data,o=window.app.state.collaborators;switch(r){case Kt:case $t:var s=i&&i.options&&Object(pt.getOption)(i.options,e)||{},l=s.color,c=s.name;a=h.a.createElement("div",{style:n.getOptionStyle(l),title:c},c);break;case Qt:var u=Object(pt.getCollaborator)(o,e)||{},d=u.avatar_url,p=u.name;a=h.a.createElement("div",{className:"collaborators-formmatter"},h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{src:d,alt:p,className:"collaborator-avatar"})),h.a.createElement("span",{className:"collaborator-name",title:p},p)));break;default:a=h.a.createElement("div",{title:e},e)}return a},n.getCells=function(e){var t=n.props.pivotResult.pivot_columns,a=e.cells;return Array.isArray(t)?t.map((function(e){return a[e.key]})):[]},n.renderHeader=function(){var e=n.props,t=e.t,a=e.pivotResult,r=e.groupByColumn,i=e.columnGroupByColumn,o=e.selectedCell,s=r.name,l=(i||{}).name,c=a.pivot_columns,u=o||{},d=u.rowIdx,p=u.cellIdx,f=0===d&&p===(Array.isArray(c)?c.length:0);return h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{className:"pivot-table-header"},!l&&s),Array.isArray(c)&&c.map((function(e,a){var r=e.key,o=0===d&&p===a,s=r?n.getDisplayName(r,i):h.a.createElement("div",null,"(".concat(t("Empty"),")"));return h.a.createElement("th",{className:ie()("pivot-table-header",{"selected-pivot-cell-top":o}),key:"pivot-column-".concat(a)},s)})),h.a.createElement("th",{className:ie()("pivot-table-header",{"selected-pivot-cell-top":f})},h.a.createElement("div",null,t("Total")))))},n.toggleRecords=function(e,t){window.isMobile||n.props.toggleRecords(e,t)},n.onClickTotals=function(e,t){if(!window.isMobile){var a=e.flat(),r=a.length;n.toggleRecords({rows:a,total:r},t)}},n.renderRows=function(){var e=n.props,t=e.pivotResult,a=e.groupByColumn,r=e.t,i=e.selectedCell,o=t.pivot_rows,s=t.pivot_columns,l=t.pivot_columns_total,c=t.pivot_table_total,u=i||{},d=u.rowIdx,p=u.cellIdx,f=[],m=d===o.length&&0===p,g=d===o.length&&p===(Array.isArray(s)?s.length:0);return h.a.createElement("tbody",null,o.map((function(e,t){var i=e.name,o=e.total,l=n.getCells(e),c=i?n.getDisplayName(i,a):h.a.createElement("div",null,"(".concat(r("Empty"),")")),u=d===t&&0===p,m=[],g=d===t&&p===l.length,v=d-1===t&&p===l.length,y=d===t&&p-1===l.length-1;return Array.isArray(s)||(f[t]=e.rows||[]),h.a.createElement("tr",{key:"table-row"+t},h.a.createElement("td",{className:ie()("pivot-row-name",{"selected-pivot-cell-left":u})},c),Array.isArray(l)&&l.map((function(e,a){var r=d===t&&p===a,i=d-1===t&&p===a,o=d===t&&p-1===a;if(e&&e.total){var s;if(m.push.apply(m,N(e.rows)),f[a])(s=f[a]).push.apply(s,N(e.rows));else f[a]=N(e.rows);return h.a.createElement("td",{className:ie()("pivot-cell",{"selected-pivot-cell":r,"selected-pivot-cell-top":i,"selected-pivot-cell-left":o}),key:"table-cell-".concat(a),onClick:function(){return n.toggleRecords(e,{rowIdx:t,cellIdx:a})}},e.total,h.a.createElement("span",{className:ie()({"selected-pivot-cell-border":r})}))}return h.a.createElement("td",{key:"table-cell-".concat(a),className:ie()("pivot-empty-cell",{"selected-pivot-cell-top":i,"selected-pivot-cell-left":o})},h.a.createElement("i",null))})),h.a.createElement("td",{className:ie()("pivot-cell",{"selected-pivot-cell":g,"selected-pivot-cell-top":v,"selected-pivot-cell-left":y}),onClick:function(){return n.toggleRecords({rows:Array.isArray(l)&&l.length>0?m:e.rows,total:o},{rowIdx:t,cellIdx:l.length})}},o,h.a.createElement("span",{className:ie()({"selected-pivot-cell-border":g})})))})),h.a.createElement("tr",null,h.a.createElement("td",{className:ie()("pivot-column-total",{"selected-pivot-cell-left":m})},h.a.createElement("div",null,r("Total"))),Array.isArray(s)&&s.map((function(e,t){if(l[e.key]){var a=d===o.length&&p===t,r=d===o.length&&p-1===t;return h.a.createElement("td",{className:ie()("pivot-cell",{"selected-pivot-cell":a,"selected-pivot-cell-left":r}),key:"total-cell-".concat(t),onClick:function(){return n.toggleRecords({rows:f[t],total:l[e.key]},{rowIdx:o.length,cellIdx:t})}},l[e.key],h.a.createElement("span",{className:ie()({"selected-pivot-cell-border":a})}))}return h.a.createElement("td",{key:"total-cell-".concat(t),className:"pivot-empty-cell"},h.a.createElement("i",null))})),h.a.createElement("td",{className:ie()("pivot-cell pivot-table-total",{"selected-pivot-cell":g}),onClick:function(){return n.onClickTotals(f,{rowIdx:o.length,cellIdx:Array.isArray(s)?s.length:0})}},c,h.a.createElement("span",{className:ie()({"selected-pivot-cell-border":g})}))))},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.groupByColumn,n=e.columnGroupByColumn;return t?h.a.createElement("table",{className:"pivot-table"},n&&h.a.createElement(h.a.Fragment,null,h.a.createElement("caption",{className:"column-title"},n.name),h.a.createElement("caption",{className:"row-title"},t.name)),this.renderHeader(),this.renderRows()):""}}]),t}(h.a.Component),DC=Object(I.d)("dtable")(LC),RC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).scrollToMore=function(){var e=n.state.displayRows,t=n.props.rows,a=e.length;if(!(a>=t.length)&&n.recordsLsit.offsetHeight+n.recordsLsit.scrollTop+10>=n.recordsContainer.offsetHeight){var r=t.slice(a,a+10);n.setState({displayRows:e.concat.apply(e,N(r))})}},n.state={displayRows:e.rows.slice(0,10)},n}return S(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.recordsLsit=null,this.recordsContainer=null}},{key:"componentWillUpdate",value:function(e,t){this.props.rows!==e.rows&&(this.recordsLsit&&(this.recordsLsit.scrollTop=0),this.setState({displayRows:e.rows.slice(0,10)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.table,a=t.t,r=t.isShowOrder,i=t.onRowExpandOpen,o=t.unShowColumnKeyList,s=this.state.displayRows;return 0===s.length?h.a.createElement("div",{className:"no-search-result"},a("No_search_results")):h.a.createElement("div",{className:"records-list",ref:function(t){return e.recordsLsit=t},onScroll:this.scrollToMore},h.a.createElement("div",{className:"records-container",ref:function(t){return e.recordsContainer=t}},s.map((function(e,t){return h.a.createElement(Lx,{table:n,row:e,key:"statistic-record-".concat(t),rowIdx:r?t+1:0,onRowExpandOpen:i,unShowColumnKeyList:o})}))))}}]),t}(p.Component),NC=Object(I.d)("dtable")(RC),IC=(n(1248),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.toggleStatisticRecordsDialog()},n.getStatisticTable=function(){var e=n.props,t=e.tables,a=e.statistic.table_id;return t.find((function(e){return e._id===a}))},n.getStatisticView=function(e){var t=n.props.statistic.view_id,a=e.views;return pt.Views.getViewById(a,t)},n.getStatisticColumns=function(){var e=n.getStatisticTable(),t=n.getStatisticView(e);return pt.Views.getColumns(t,e)},n.onChange=function(e){var t=n.state.statisticRecords.rows,a=e.target.value,r=n.getSearchRows(t,a);n.setState({searchRows:r,searchVal:a})},n.getSearchRows=function(e,t){return t?kx(e,n.getStatisticColumns(),t,(function(e){return e})):e},n.clearSearch=function(){var e=n.state.statisticRecords.rows;n.setState({searchRows:n.getSearchRows(e),searchVal:""})},n.state={statisticRecords:e.statisticRecords,searchRows:n.getSearchRows(e.statisticRecords.rows),searchVal:""},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.statisticRecords.name;if(e.tableViewList!==this.props.tableViewList){var n=e.tableViewList.find((function(e){return e.name===t}));n?this.setState({statisticRecords:n,searchRows:this.getSearchRows(n.rows,this.state.searchVal)}):this.setState({searchRows:[]})}}},{key:"render",value:function(){var e=this.state,t=e.searchRows,n=e.searchVal,a=this.props,r=a.t,i=a.onRowExpandOpen;return h.a.createElement(_r,{autoFocus:!1,toggle:this.toggle,isOpen:!0,className:"statistic-records-dialog",zIndex:1e3},h.a.createElement(xr,{toggle:this.toggle,className:"search-container"},h.a.createElement("div",{className:"search-input-container"},h.a.createElement("i",{className:"search-icon dtable-font dtable-icon-search"}),h.a.createElement("input",{className:"form-control search-tables-input",value:n,onChange:this.onChange,autoFocus:!0,type:"text",placeholder:r("Search_records")}),n&&h.a.createElement("span",{className:"clear-search-text",onClick:this.clearSearch,title:r("Clear_search_text")},h.a.createElement("i",{className:"dtable-font dtable-icon-x-"})))),h.a.createElement(kr,{className:"statistic-records-container"},h.a.createElement(NC,{rows:t,table:this.getStatisticTable(),onRowExpandOpen:i})))}}]),t}(p.Component)),AC=Object(I.d)("dtable")(IC),PC=(n(1249),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.toggleStatisticRecordsDialog()},n.getStatisticTable=function(){var e=n.props,t=e.tables,a=e.statistic.table_id;return pt.TableUtils.getTableById(t,a)},n.getStatisticView=function(e){var t=n.props.statistic.view_id,a=e.views;return pt.Views.getViewById(a,t)},n.getStatisticColumns=function(){var e=n.getStatisticTable(),t=n.getStatisticView(e);return pt.Views.getColumns(t,e)},n.toggleRecords=function(e,t){n.setState({statisticRecords:e,selectedCell:t,isRecordsShow:!0})},n.hideRecords=function(){n.setState({isRecordsShow:!1,selectedCell:{}})},n.getAllRows=function(e,t){var n=[];return 1===t?e.forEach((function(e){var t=e.rows?e.rows:[];n.push.apply(n,N(t))})):2===t&&e.forEach((function(e){var t=e.cells;Object.keys(t).forEach((function(e){var a=(t[e]||{rows:[]}).rows;n.push.apply(n,N(a))}))})),n},n.getRowsInTotalColumn=function(e,t){var n=[],a=e[t].cells;return Object.keys(a).forEach((function(e){var t=(a[e]||{rows:[]}).rows;n.push.apply(n,N(t))})),n},n.getSelectedCellRows=function(e,t,n){var a=[],r=(e[t].cells[n]||{rows:[]}).rows;return a.push.apply(a,N(r)),a},n.getRowsInTotalRow=function(e,t){var n=[];return e.forEach((function(e){var a=(e.cells[t]||{rows:[]}).rows;n.push.apply(n,N(a))})),n},n.state={statisticRecords:e.statisticRecords,selectedCell:e.selectedCell,isRecordsShow:!0},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.pivotResult;if(t!=this.props.pivotResult){var n=this.state,a=n.selectedCell,r=n.statisticRecords,i=a.rowIdx,o=a.cellIdx,s=t.pivot_rows,l={rows:[]},c=!1;if(Object.prototype.hasOwnProperty.call(t,"pivot_columns"))if(o<t.pivot_columns.length){if(i<s.length){var u=t.pivot_columns[o].key;l.rows=this.getSelectedCellRows(s,i,u)}else if(i===s.length){var d=t.pivot_columns[o].key;c=!0,l.rows=this.getRowsInTotalRow(s,d)}}else o===t.pivot_columns.length&&(i<s.length?(c=!0,l.rows=this.getRowsInTotalColumn(s,i)):i===s.length&&(c=!0,l.rows=this.getAllRows(s,2)));else i<s.length?l.rows=s[i].rows:i===s.length&&(l.rows=this.getAllRows(s,1));this.setState({statisticRecords:Object.assign({},r,l),selectedCell:c||0!==l.rows.length?a:{}})}}},{key:"render",value:function(){var e=this.state,t=e.statisticRecords,n=e.selectedCell,a=e.isRecordsShow,r=t.rows,i=this.props,o=i.t,s=i.statistic,l=i.pivotResult,c=i.groupByColumn,u=i.columnGroupByColumn,d=i.onRowExpandOpen,p=["0000",c.key,u?u.key:""];return h.a.createElement(_r,{autoFocus:!1,toggle:this.toggle,isOpen:!0,className:"statistic-table-records-dialog",zIndex:1e3},h.a.createElement(xr,{toggle:this.toggle},s.name),h.a.createElement(kr,{className:"statistic-table-records-container"},h.a.createElement("div",{className:"statistic-table-view",style:{width:a?"70%":"100%"}},h.a.createElement(DC,{pivotResult:l,groupByColumn:c,columnGroupByColumn:u,toggleRecords:this.toggleRecords,selectedCell:n})),a&&h.a.createElement("div",{className:"statistic-table-rows"},h.a.createElement("div",{className:"rows-abstract"},h.a.createElement("span",{className:"rows-count"},o("xxx_record".concat(r.length>1?"s":""),{count:r.length})),h.a.createElement("span",{className:"rows-hide",onClick:this.hideRecords},o("Hide"))),h.a.createElement("div",{className:"search-rows"},h.a.createElement(NC,{rows:r,table:this.getStatisticTable(),isShowOrder:!0,onRowExpandOpen:d,unShowColumnKeyList:p})))))}}]),t}(p.Component)),YC=Object(I.d)("dtable")(PC),FC=function(){function e(){v(this,e)}return _(e,null,[{key:"formatGroupsLabel",value:function(e,t,n){var a,r,i=this;if(e){a="pivot_table"===t.type||"chart_pie"===t.type?t.groupby_column_key:t.x_axis_column_key,"chart_bar"!==t.type&&"chart_line"!==t.type||(r=t.column_groupby_column_key);var o=pt.TableUtils.getTableById(n,t.table_id),s=pt.TableUtils.getTableColumnByKey(o,a),l=pt.TableUtils.getTableColumnByKey(o,r);e.forEach((function(e){var t=e.name,n=e.group_name;s&&i.convertResultName(e,s,t,"name","color"),l&&i.convertResultName(e,l,n,"group_name","group_color")}))}}},{key:"convertResultName",value:function(e,t,n,a,r){var i=window.app.state.collaborators,o=t.type,s=t.data;if(o===pt.CellType.SINGLE_SELECT||o===pt.CellType.MULTIPLE_SELECT){var l=s?s.options:[],c=Object(pt.getOption)(l,n),u=c||{},d=u.name,p=u.color;c&&(e[a]=d,e[r]=p)}else if(o===pt.CellType.COLLABORATOR){var h=Object(pt.getCollaborator)(i,n);h&&(e[a]=h.name)}}}]),e}();FC.sortByDate=function(e,t){return"undefined"===e.name?-1:"undefined"===t.name?1:e.name>t.name?1:e.name<t.name?-1:0},FC.moveNullDataToEnd=function(e){var t,n=e.findIndex((function(e){return"undefined"===e.name}));return n>-1&&(t=e.splice(n,1),e.push.apply(e,N(t))),e},FC.getGroupColumn=function(e,t){var n="";n="pivot_table"===t.type||"chart_pie"===t.type?t.groupby_column_key:t.x_axis_column_key;var a=pt.TableUtils.getTableById(e,t.table_id);return t.column_key&&!n&&(n=t.column_key),pt.TableUtils.getTableColumnByKey(a,n)},FC.getColumnGroupColumn=function(e,t){var n=t.table_id,a=t.column_groupby_column_key,r=pt.TableUtils.getTableById(e,n);return pt.TableUtils.getTableColumnByKey(r,a)},FC.getGroupName=function(e,t){var n="";n="pivot_table"===t.type||"chart_pie"===t.type?t.groupby_column_key:t.x_axis_column_key;var a=pt.TableUtils.getTableById(e,t.table_id);return t.column_key&&!n&&(n=t.column_key),pt.TableUtils.getTableColumnByKey(a,n).name},FC.getChartGroups=function(e){var t=[];return Array.isArray(e)&&e.forEach((function(e){t.find((function(t){return t.name===e.name}))||t.push(e)})),t},FC.getChartDisplayLabels=function(e,t,n){var a=[],r=Math.floor(e/t);r=r%2?r+1:r;var i=Math.round(n.length/r);return i=i>2?i:2,Array.isArray(n)&&n.forEach((function(e,t){t%i===0&&a.push(e.name)})),a};var jC=FC,UC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getColumn=function(e,t,n){return pt.TableUtils.getTableById(e,t).columns.find((function(e){return e.key==n}))},n.getPieColor=function(){var e=n.props,t=e.statItem,a=e.tableViewList,r=t.table_id,i=t.groupby_column_key,o=window.app.dtableStore.value.tables,s=n.getColumn(o,r,i).type,l=pt.PIE_CHART_COLORS.length-1,c=[];return Array.isArray(a)&&a.forEach((function(e,t){var n=e.color;if(s===pt.CellType.SINGLE_SELECT||s===pt.CellType.MULTIPLE_SELECT)c.push(n);else{var a=t;a>l&&(a%=l),c.push(pt.PIE_CHART_COLORS[a])}})),c},n.addClick=function(e,t,n){switch(t){case pt.CHART_MAP.chart_bar:case pt.CHART_MAP.chart_pie:e.on("interval:click",n);break;case pt.CHART_MAP.chart_line:e.on("point:click",n)}},n.createChart=function(){var e=n.props,t=e.isCreating,a=700,r=t?400:200;if(e.isEnlarged){var i=n.container;a=.9*i.clientWidth,r=.9*i.clientHeight}n.chart=new MC.a.Chart({container:n.container,forceFit:!t,width:a,height:r,padding:"auto"}),n.addClick(n.chart,pt.CHART_MAP[n.props.type],(function(e){n.toggleStatisticRecordsDialog(e.data._origin)}))},n.clearChart=function(){n.chart.clear()},n.formatEmptyName=function(e,t){var a=n.props.t,r=[];return Array.isArray(e)&&e.forEach((function(e){var n={};e.name||(n.name=a("Empty")),t&&!e.group_name&&(n.group_name=a("Empty")),r.push(Object.assign({},e,n))})),r},n.drawChart=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.props,i=r.isCreating,o=r.statItem,s=r.tableViewList,l=o.summary_type,c=o.y_axis_summary_type,u=o.summary_method,d=o.y_axis_summary_method,p=o.y_axis_label_color,h=o.column_groupby_column_key,f=o.y_axis_use_stack;if(s=n.formatEmptyName(s,h),!l&&c&&(l=c),!u&&d&&(u=d),t=h?"group_name":p||"#2a67d1",n.chart.source(s,{name:{type:"cat",nice:!1}}),"bar"===e)n.drawBarChart(s,l,u,h,t,f);else if("line"===e)n.drawLineChart(s,l,u,h,t);else if("pie"===e){var m=o.show_legend,g=o.show_percent;n.drawPieChart(s,m,g,i)}if(a)return n.chart.changeData(s,{name:{type:"cat",nice:!1}}),void n.chart.repaint();n.chart.render()},n.drawBarChart=function(e,t,a,r,i,o){var s,l,c=n.props.t,u=(n.chart._attrs.coord||n.chart._attrs).width;r?(s=jC.getChartGroups(e),l=o?11:9):(s=e,l=11);var d=s.length;if(Math.floor(u/d)<=20){var p=jC.getChartDisplayLabels(u,20,s);d=p.length,n.chart.scale("name",{type:"cat",ticks:p})}n.chart.coord("rect"),r?n.chart.interval().position("name*value").color(i).adjust([{type:o?"stack":"dodge"}]):(n.chart.interval().position("name*value").color(i).tooltip("name*value",(function(e,n){return{name:c("count"===t?"Amount":a),value:n}})),n.chart.tooltip({showTitle:!0,htmlContent:function(e,t){var n="undefined"===e?c("Empty"):e;return'<div class="g2-tooltip"><div class="g2-toolip-title">'.concat(n,'</div><div class="g2-tooltip-content"><span>').concat(t[0].name,":</span><span class='tooltip-value'>").concat(t[0].value,"</span></div></div>")}})),n.chart.axis("name",{label:{textStyle:{fill:"#000",fontSize:12},autoRotate:!0,rotate:d>l&&30,formatter:function(e){var t=e;return e.length>10&&(t="".concat(e.slice(0,10),"...")),"undefined"===e&&(t=c("Empty")),t}}})},n.drawLineChart=function(e,t,a,r,i){var o,s=n.props.t,l=(n.chart._attrs.coord||n.chart._attrs).width,c=(o=r?jC.getChartGroups(e):e).length;if(Math.floor(l/c)<=20){var u=jC.getChartDisplayLabels(l,20,o);c=u.length,n.chart.scale("name",{type:"cat",ticks:u})}n.chart.coord("rect"),r?(n.chart.line().position("name*value").color(i),n.chart.point().position("name*value").size(3).color(i).shape("circle").style({lineWidth:1,stroke:"#fff"})):(n.chart.line().position("name*value").color(i).tooltip("name*value",(function(e,n){return{name:s("count"===t?"Amount":a),value:n}})),n.chart.point().position("name*value").size(3).color(i).shape("circle").style({lineWidth:1,stroke:"#fff"}).tooltip("name*value",(function(e,n){return{name:s("count"===t?"Amount":a),value:n}})),n.chart.tooltip({showTitle:!0,htmlContent:function(e,t){var n="undefined"===e?s("Empty"):e;return'<div class="g2-tooltip"><div class="g2-toolip-title">'.concat(n,'</div><div class="g2-tooltip-content"><span>').concat(t[0].name,":</span><span class='tooltip-value'>").concat(t[0].value,"</span></div></div>")}})),n.chart.axis("name",{label:{textStyle:{fill:"#000",fontSize:12},autoRotate:!0,rotate:c>11&&30,formatter:function(e){var t=e;return e.length>10&&(t="".concat(e.slice(0,10),"...")),"undefined"===e&&(t=s("Empty")),t}}})},n.drawPieChart=function(e,t,a,r){var i=n.props.t;n.chart.coord("theta",{radius:r?.75:.95,innerRadius:r?.6:.7}),n.sum=e.reduce((function(e,t){return e+t.value}),0),r&&t?n.chart.legend({position:"right-center",offsetX:-100,formatter:function(e){return e.length>10?"".concat(e.slice(0,10),"..."):"undefined"===e?i("Empty"):e}}):n.chart.legend(!1),n.chart.intervalStack().position("value").color("name",n.getPieColor()).label("name",{offset:r?-10:-2,textStyle:{fill:"black",fontSize:r?12:9,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},autoRotate:!0,formatter:function(e,t){return a?"".concat(String(t.point.value/n.sum*100).slice(0,4),"%"):""}}).tooltip("name*value",(function(e,t){var r;return r="undeifned"===e?i("Empty"):e,a?{name:r,value:t}:{name:r,value:"".concat(t," (").concat(String(t/n.sum*100).slice(0,4),"%)")}})),n.chart.tooltip({htmlContent:function(e,t){var n="undefined"===t[0].name?i("Empty"):t[0].name;return'<div><span style="background-color:'.concat(t[0].color,';" class="g2-tooltip-marker"></span>').concat(n,": ").concat(t[0].value,"</div>")}}),n.chart.guide().html({position:["50%","50%"],html:'<div class="g2-guide-html"><p class="title">'.concat(i("Total"),'</p><p class="value">').concat(String(n.sum).slice(0,4),"</p></div>")}),n.chart.on("interval:mouseenter",n.onEnterPieChart),n.chart.on("interval:mouseleave",n.onLeavePieChart)},n.onEnterPieChart=function(e){var t=e.data._origin,a=(t||{}).name;a=a&&a.length>4?"".concat(a.slice(0,4),"..."):a,n.container.querySelector(".title").innerHTML=a,n.container.querySelector(".value").innerHTML=t.value},n.onLeavePieChart=function(e){n.container.querySelector(".title").innerHTML=n.props.t("Total"),n.container.querySelector(".value").innerHTML=n.sum},n.toggleStatisticRecordsDialog=function(e,t){n.setState({isStatisticRecordsDialogShow:!n.state.isStatisticRecordsDialogShow,statisticRecords:e,selectedCell:t})},n.getStatisticTableIdx=function(){var e=n.props,t=e.tables,a=e.statItem.table_id;return t.findIndex((function(e){return e._id===a}))},n.onCommit=function(e,t,a){"r"!==window.dtable.permission&&window.app.dtableStore.modifyRow(n.getStatisticTableIdx(),e,t,a)},n.onRowExpandOpen=function(e){n.setState({expandRow:e})},n.onRowExpandCancel=function(){n.setState({expandRow:null})},n.chart=null,n.sum=0,n.state={statisticRecords:{},isStatisticRecordsDialogShow:!1,selectedCell:{},expandRow:null},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){e.type===pt.STATISTICS_TYPE_TABLE&&1==e.isCreating&&this.chart&&(this.chart.destroy(),this.chart=null,this.sum=0)}},{key:"componentDidMount",value:function(){if(this.props.type!==pt.STATISTICS_TYPE_TABLE){var e=pt.CHART_MAP[this.props.type];this.createChart(),this.drawChart(e)}}},{key:"updateChart",value:function(e){this.chart.changeData(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.statItem.column_groupby_column_key;if(this.props.type!==pt.STATISTICS_TYPE_TABLE){var n=pt.CHART_MAP[this.props.type];if(this.chart)return t?(this.chart.destroy(),this.createChart()):this.clearChart(),this.chart.off("interval:mouseenter",this.onEnterPieChart),this.chart.off("interval:mouseleave",this.onLeavePieChart),void this.drawChart(n,!0);this.createChart(),this.drawChart(n)}else this.chart&&(this.chart.destroy(),this.chart=null,this.sum=0)}},{key:"renderTableView",value:function(){var e=this.props,t=e.pivotResult,n=e.groupByColumn,a=e.columnGroupByColumn;return h.a.createElement("div",{className:"statistic-table-wrapper"},t&&h.a.createElement(DC,{pivotResult:t,groupByColumn:n,columnGroupByColumn:a,toggleRecords:this.toggleStatisticRecordsDialog}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.statItem,a=t.type,r=t.pivotResult,i=t.groupByColumn,o=t.columnGroupByColumn,s=t.tables,l=t.tableViewList,c=this.state,u=c.isStatisticRecordsDialogShow,d=c.statisticRecords,f=c.selectedCell,m=c.expandRow;return h.a.createElement(p.Fragment,null,a===pt.STATISTICS_TYPE_TABLE?this.renderTableView():h.a.createElement("div",{className:"chart-container",ref:function(t){return e.container=t}}),u&&(a===pt.STATISTICS_TYPE_TABLE?h.a.createElement(YC,{pivotResult:r,groupByColumn:i,columnGroupByColumn:o,statistic:n,tables:s,statisticRecords:d,toggleStatisticRecordsDialog:this.toggleStatisticRecordsDialog,onRowExpandOpen:this.onRowExpandOpen,selectedCell:f}):h.a.createElement(AC,{statistic:n,tables:s,statisticRecords:d,toggleStatisticRecordsDialog:this.toggleStatisticRecordsDialog,onRowExpandOpen:this.onRowExpandOpen,tableViewList:l})),m&&h.a.createElement(iC,{columns:im(m.table),expandedRow:m.row,expandedTable:m.table,onCommit:this.onCommit,onRowExpandCancel:this.onRowExpandCancel,formulaRows:om(m.table)}))}}]),t}(p.Component),HC=Object(I.d)("dtable")(UC);var BC=Object(I.d)("dtable")((function(e){return h.a.createElement("div",{className:"statistic-toggle-parameter-container"},h.a.createElement("div",{className:"statistic-toggle-parameter"},h.a.createElement("label",{className:"custom-switch"},h.a.createElement("input",{type:"checkbox",className:"custom-switch-input",checked:e.selectedOption,onChange:e.handleToggleChange,name:"custom-switch-checkbox"}),h.a.createElement("span",{className:"custom-switch-indicator"}),h.a.createElement("span",{className:"custom-switch-description text-truncate"},h.a.createElement("span",null,e.t(e.setting_key))))))})),VC={chart_bar:{title:"Chart_Bar",icon:"dtable-font dtable-icon-statistics"},chart_line:{title:"Chart_Line",icon:"dtable-font dtable-icon-broken-line"},chart_pie:{title:"Chart_Pie",icon:"dtable-font dtable-icon-pie"}},GC=["Divider","Date","Geolocation","Type","Show_Legend","Include_Empty","Show_Percent","Show_Label","Summarize_Method","Column_Grouping_Date","Column_Grouping_Geolocation","Chart_Grouping_Date","Chart_Grouping_Geolocation","Stack"],WC=["Show_Legend","Type","Include_Empty","Show_Percent","Show_Label","Summarize_Method","Stack"],zC=["Show_Legend","Include_Empty","Show_Percent","Show_Label","Stack"],qC=["#2a67d1","#4ecccb","#59cb74","#fbd44a","#f4667c","#9860e5","#9f8cf1","#dc82d2","#eaa775","#addf84","#85e0be","#89d2ea"],KC=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).createOptions=function(e){return e.map((function(e){var t=e.optionKey,n=e.optionClass,a=e.optionName,r=e.isNullOption,i=pa(e,["optionKey","optionClass","optionName","isNullOption"]);return qe({value:t,label:h.a.createElement(p.Fragment,null,n&&h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:"dtable-font ".concat(n)})),h.a.createElement("span",{className:"select-module select-module-name "+(r?"null-option-name":"")},a))},i)}))},n.handleTypeChange=function(e){n.setState({selectedOption:e});var t=n.options.findIndex((function(t){return t===e})),a=n.props.settingItem;n.props.onSettingsSelect(a,t)},n.handleChartTypeChange=function(e,t){n.setState({selectedOption:e});var a=n.props.settingItem;n.props.onSettingsSelect(a,t)},n.handleToggleChange=function(){n.setState({selectedOption:!n.state.selectedOption},(function(){var e=n.props.settingItem,t=1==n.state.selectedOption?1:0;n.props.onSettingsSelect(e,t)}))},n.setOptionColor=function(e,t){var a=n.props.settingItem;n.setState({newOptionColor:t}),n.props.setChartBarColor(t,a)};var a=e.settingItem;if(n.options=[],n.state={},"Divider"!==a.setting_key){var r=a.setting_key,i=a.setting_index,o=a.setting_value;WC.includes(r)?n.options=o:n.options=n.createOptions(o),n.state={selectedOption:n.options[i],newOptionColor:e.settingItem.label_color?e.settingItem.label_color:"#2a67d1"}}return n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props.settingItem;if("Divider"!==e.setting_key){var t=e.setting_key,n=e.setting_index,a=e.setting_value;WC.includes(t)?this.options=a:this.options=this.createOptions(a),this.setState({selectedOption:this.options[n]})}}},{key:"componentWillReceiveProps",value:function(e){var t=e.settingItem;"Divider"!==t.setting_key&&(WC.includes(t.setting_key)?(this.options=t.setting_value,this.setState({selectedOption:this.options[t.setting_index],newOptionColor:t.label_color?t.label_color:"#2a67d1"})):"Table"!==t.setting_key&&(this.options=this.createOptions(t.setting_value),this.options&&this.setState({selectedOption:this.options[t.setting_index],newOptionColor:t.label_color?t.label_color:"#2a67d1"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.settingItem,a=t.t,r=this.state.newOptionColor,i=this.state.selectedOption;i||(i={});var o=a(n.setting_key),s=this.props.statisticType;return"Summarize_Method"===n.setting_key&&(o=a("pivot_table"===s||"chart_pie"===s?"Summarize_Method":"Y_Axis")),"Row_Grouping"===n.setting_key&&(o=a("pivot_table"===s?"Row_Grouping":"chart_pie"===s?"Group_by":"X_Axis")),"Chart_Grouping"===n.setting_key&&(o=a("Group_by")),h.a.createElement(p.Fragment,null,this.props.statisticType.includes("chart")&&"Type"===n.setting_key&&h.a.createElement("div",{className:"statistics-parameter-item"},h.a.createElement("label",null,a("Chart_Type")),h.a.createElement("div",{className:"chart-type-container"},this.options.map((function(t,n){return h.a.createElement("div",{onClick:function(){return e.handleChartTypeChange(t,n)},tooltip_content:a(VC[t].title),key:"chartType-item"+n,id:"chartType-item"+t,className:"chart-type-item "+(e.state.selectedOption===t?"selected-chart-type-item":"")},h.a.createElement("i",{className:VC[t].icon}))})))),"Summarize_Method"===n.setting_key&&h.a.createElement("div",{className:"statistics-parameter-item"},h.a.createElement("label",null,o),h.a.createElement("div",{className:"chart-type-container"},this.options.map((function(t,n){return h.a.createElement("div",{onClick:function(){return e.handleChartTypeChange(t,n)},key:"methodType-item"+n,className:"chart-type-item summarize-method-type-item "+(e.state.selectedOption===t?"selected-chart-type-item":"")},h.a.createElement("span",null,t.optionName))})))),zC.includes(n.setting_key)&&h.a.createElement(BC,{selectedOption:this.state.selectedOption,handleToggleChange:this.handleToggleChange,setting_key:n.setting_key}),!GC.includes(n.setting_key)&&h.a.createElement("div",{className:"statistics-parameter-item"},h.a.createElement("label",null,o),h.a.createElement(Ev,{value:this.state.selectedOption,onChange:this.handleTypeChange,options:this.options})),"Show_Label"===n.setting_key&&n.setting_value[n.setting_index]&&h.a.createElement("div",{className:"row gutters-xs ml-0"},qC.map((function(t,n){return h.a.createElement("div",{key:n,className:"col-auto pl-0"},h.a.createElement("label",{className:"colorinput"},h.a.createElement("span",{className:"colorinput-color ststistic-colorinput",onClick:function(n){return e.setOptionColor(n,t)},style:{backgroundColor:t,borderColor:t}},t===r&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark statistic-check-mark"}))))}))),("Date"===n.setting_key||"Column_Grouping_Date"===n.setting_key||"Column_Grouping_Geolocation"===n.setting_key||"Chart_Grouping_Date"===n.setting_key||"Chart_Grouping_Geolocation"===n.setting_key||"Geolocation"===n.setting_key)&&h.a.createElement("div",{className:"statistics-parameter-item"},h.a.createElement(Ev,{value:this.state.selectedOption,onChange:this.handleTypeChange,options:this.options})),"Divider"===n.setting_key&&h.a.createElement("div",{className:"statistic-divider"}))}}]),t}(h.a.Component),XC=Object(I.d)("dtable")(KC),JC=["date","single-select","multiple-select","collaborator","text","number","formula","geolocation"],ZC={name:"name",table_id:"table_id",view_id:"view_id",groupby_column_key:"x_axis_column_key",groupby_date_granularity:"x_axis_date_granularity",groupby_geolocation_granularity:"x_axis_geolocation_granularity",summary_type:"y_axis_summary_type",summary_column_key:"y_axis_column_key",summary_method:"y_axis_summary_method",groupby_include_empty_cells:"x_axis_include_empty",column_groupby_column_key:"y_axis_column_grouping",column_groupby_date_granularity:"column_groupby_date_granularity",column_groupby_geolocation_granularity:"column_groupby_geolocation_granularity"},$C={TABLE:"Table",VIEWS:"Views",TYPE:"Type",ROW_GROUPING:"Row_Grouping",COLUMN_GROUPING:"Column_Grouping",CHART_GROUPING:"Chart_Grouping",SHOW_LEGEND:"Show_Legend",SHOW_PERCENT:"Show_Percent",SHOW_LABEL:"Show_Label",INCLUDE_EMPTY:"Include_Empty",COLUMN_GROUPING_DATE:"Column_Grouping_Date",CHART_GROUPING_DATE:"Chart_Grouping_Date",COLUMN_GROUPING_GEOLOCATION:"Column_Grouping_Geolocation",CHART_GROUPING_GEOLOCATION:"Chart_Grouping_Geolocation",COLUMN_GROUPING_NULL:"Column_Grouping_Null",ROW_GROUPING_NULL:"Row_Grouping_Null",DATE:"Date",GEOLOCATION:"Geolocation",SUMMARIZED_FIELD:"Summarized_Field",SUMMARIZE_METHOD:"Summarize_Method",CALCULATION_METHOD:"Calculation_Method",DIVIDER:"Divider",STACK:"Stack"},QC=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).transformStatItem=function(e,t){var n={},a=e.type;if(a===t)return e;var r=["pivot_table","chart_pie"],i=["chart_line","chart_bar"];return r.includes(a)&&r.includes(t)||i.includes(a)&&i.includes(t)?(e.type=t,e):"pivot_table"===a||"chart_pie"===a?(Object.keys(ZC).forEach((function(t){n[ZC[t]]=e[t]})),n.type=t,n.y_axis_show_label=!0,"chart_pie"===t&&(n.show_legend=!0,n.show_percent=!1),n):(Object.keys(ZC).forEach((function(t){n[t]=e[ZC[t]]})),"chart_pie"===t&&(n.show_legend=!0,n.show_percent=!1),n.type=t,n)},n.calculateTypeList=function(){return["chart_bar","chart_line","chart_pie"]},n.editSettings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=n.props,s=o.tables,l=o.t,c=[],u=n.calculateTableIndex(e),d=n.calculateTableList(),p=s[u],h=n.calculateViewList(p),f=n.calculateTypeList(),m=p.views.find((function(e){return e._id===h[a].optionKey})),g=n.calculateColumnList(p),v=n.calculateSummarizeMethodList(),y=null,_=!r,b=n.getStatType(n.statisticType);_?y=i:g.length>0&&(y="pivot_table"===b||"chart_pie"===b?{name:m.name,type:b,table_id:p._id,view_id:m._id,groupby_column_key:null,groupby_date_granularity:null,summary_type:v[0].optionKey,summary_column_key:null,summary_method:null,groupby_include_empty_cells:!1,column_groupby_column_key:null,groupby_geolcoation_granularity:null}:{name:m.name,type:b,table_id:p._id,view_id:m._id,x_axis_column_key:null,x_axis_date_granularity:null,x_axis_geolocation_granularity:null,y_axis_summary_type:v[0].optionKey,y_axis_column_key:null,y_axis_summary_method:null,x_axis_include_empty:!1,y_axis_show_label:!0,y_axis_label_color:null,y_axis_column_grouping:null,column_groupby_column_key:null,column_groupby_date_granularity:null,column_groupby_geolocation_granularity:null});var w=[],E=[];if(_&&(y.x_axis_date_granularity||y.groupby_date_granularity)){var T=n.calculateDateList(),x=y.x_axis_date_granularity||y.groupby_date_granularity,C=T.findIndex((function(e){return x===e.optionKey}));w=[{setting_key:$C.DATE,setting_index:C,setting_value:T}]}else if(_&&(y.x_axis_geolocation_granularity||y.groupby_geolocation_granularity)){var S=n.calculateGeolocationList(),k=y.x_axis_geolocation_granularity||y.groupby_geolocation_granularity,O=S.findIndex((function(e){return k===e.optionKey}));E=[{setting_key:$C.GEOLOCATION,setting_index:O,setting_value:S}]}else{if(g.length>0&&"date"===g[0].optionType){var M=n.calculateDateList();w=[{setting_key:$C.DATE,setting_index:2,setting_value:M}],"pivot_table"==b?y.groupby_date_granularity=M[2].optionKey:y.x_axis_date_granularity=M[2].optionKey}if(g.length>0&&"geolocation"===g[0].optionType){var L=n.calculateGeolocationList();E=[{setting_key:$C.GEOLOCATION,setting_index:0,setting_value:L}],"pivot_table"==b?y.groupby_geolocation_granularity=L[0].optionKey:y.x_axis_geolocation_granularity=L[0].optionKey}}var D=[],R=[];if(_&&(y.x_axis_column_date_granularity||y.column_groupby_date_granularity)){var I=n.calculateDateList(),A=y.x_axis_column_date_granularity||y.column_groupby_date_granularity,P=I.findIndex((function(e){return A===e.optionKey}));D=[{setting_key:$C.COLUMN_GROUPING_DATE,setting_index:P,setting_value:I}]}if(_&&(y.x_axis_column_geolocation_granularity||y.column_groupby_geolocation_granularity)){var Y=n.calculateGeolocationList(),F=y.x_axis_column_geolocation_granularity||y.column_groupby_geolocation_granularity,j=Y.findIndex((function(e){return F===e.optionKey}));R=[{setting_key:$C.COLUMN_GROUPING_GEOLOCATION,setting_index:j,setting_value:Y}]}var U,H,B,V=[{setting_key:$C.TABLE,setting_index:t,setting_value:d},{setting_key:$C.VIEWS,setting_index:a,setting_value:h},{setting_key:$C.DIVIDER}],G=g.slice(0);G.unshift({optionKey:$C.ROW_GROUPING_NULL,optionName:l("Select_a_column"),style:{color:"rgba(0, 0, 0, .25)"},isNullOption:!0});var W=l("Not_used");if(_){var z=y.x_axis_column_key||y.groupby_column_key,q=y.column_groupby_column_key||y.y_asis_column_grouping,K=z?G.findIndex((function(e){return e.optionKey===z})):0,X=q?g.findIndex((function(e){return e.optionKey===q}))+1:0,J=y.x_axis_include_empty||y.groupby_include_empty_cells,Z=y.y_axis_show_label;if(U=[{setting_key:$C.ROW_GROUPING,setting_index:K,setting_value:G}].concat(N(w),N(E),[{setting_key:$C.INCLUDE_EMPTY,setting_index:J?1:0,setting_value:[!1,!0]}]),("chart_bar"===y.type||"chart_line"===y.type)&&!y.column_groupby_column_key){var $={setting_key:$C.SHOW_LABEL,setting_index:Z?1:0,setting_value:[!1,!0],label_color:y.y_axis_label_color};U.push($)}var Q=y.y_axis_summary_type||y.summary_type,ee=0;if(Q&&(ee=v.findIndex((function(e){return e.optionKey===Q}))),"advanced"===Q){var te=n.calculateSummarizedFieldList(p),ne=n.calculateCalculationMethodList(),ae=y.y_axis_column_key||y.summary_column_key,re=y.y_axis_summary_method||y.summary_method,ie=ne.findIndex((function(e){return re===e.optionKey})),oe=te.findIndex((function(e){return ae===e.optionKey})),se=[{setting_key:$C.SUMMARIZED_FIELD,setting_index:oe,setting_value:te},{setting_key:$C.CALCULATION_METHOD,setting_index:ie,setting_value:ne}];H=[{setting_key:$C.DIVIDER},{setting_key:$C.SUMMARIZE_METHOD,setting_index:ee,setting_value:v}].concat(se)}else H=[{setting_key:$C.DIVIDER},{setting_key:$C.SUMMARIZE_METHOD,setting_index:ee,setting_value:v}];var le=f.findIndex((function(e){return e===y.type}));if("chart"===n.statisticType){if(B=[{setting_key:$C.TYPE,setting_index:le,setting_value:f},{setting_key:$C.DIVIDER}],"chart_bar"===y.type||"chart_line"===y.type){var ce=n.getChartGroupColumns(p,[y.x_axis_column_key,y.y_axis_column_key]),ue=y.column_groupby_column_key?ce.findIndex((function(e){return e.optionKey===y.column_groupby_column_key})):0,de={setting_key:$C.CHART_GROUPING,setting_index:ue,setting_value:ce};if(c=[].concat(V,N(B),N(U),N(H),[de]),y.column_groupby_date_granularity){var pe=n.calculateDateList(),he=pe.findIndex((function(e){return y.column_groupby_date_granularity===e.optionKey})),fe=D={setting_key:$C.CHART_GROUPING_DATE,setting_index:he,setting_value:pe};c.push(fe)}if(y.column_groupby_geolocation_granularity){var me=n.calculateGeolocationList(),ge=me.findIndex((function(e){return y.column_groupby_geolocation_granularity===e.optionKey})),ve=R={setting_key:$C.CHART_GROUPING_GEOLOCATION,setting_index:ge,setting_value:me};c.push(ve)}"chart_bar"===y.type&&y.column_groupby_column_key&&c.push({setting_key:$C.STACK,setting_index:y.y_axis_use_stack?1:0,setting_value:[!1,!0]})}if("chart_pie"===y.type){var ye=[{setting_key:$C.SHOW_LEGEND,setting_index:y.show_legend?1:0,setting_value:[!1,!0]},{setting_key:$C.SHOW_PERCENT,setting_index:y.show_percent?1:0,setting_value:[!1,!0]}];U=U.concat(ye),c=[].concat(V,N(B),N(U),N(H))}}else{var _e,be,we=[{optionKey:$C.COLUMN_GROUPING_NULL,optionName:W,style:{color:"rgba(0, 0, 0, .25)"},isNullOption:!0}].concat(N(g)),Ee={setting_key:$C.COLUMN_GROUPING,setting_index:X,setting_value:we};U.push(Ee),(_e=U).push.apply(_e,N(D)),(be=U).push.apply(be,N(R)),c=[].concat(V,N(U),N(H))}}else if(U=[{setting_key:$C.ROW_GROUPING,setting_index:0,setting_value:G},{setting_key:$C.INCLUDE_EMPTY,setting_index:0,setting_value:[!1,!0]}],H=[{setting_key:$C.DIVIDER},{setting_key:$C.SUMMARIZE_METHOD,setting_index:0,setting_value:v}],"chart"===n.statisticType){if(B=[{setting_key:$C.TYPE,setting_index:0,setting_value:f},{setting_key:$C.DIVIDER}],"chart_bar"===y.type||"chart_line"===y.type){if(!y.column_groupby_column_key){var Te={setting_key:$C.SHOW_LABEL,setting_index:y.y_axis_show_label?1:0,setting_value:[!1,!0],label_color:null};U.push(Te)}var xe=n.getChartGroupColumns(p),Ce={setting_key:$C.CHART_GROUPING,setting_index:0,setting_value:xe};c=[].concat(V,N(B),N(U),N(w),N(E),N(H),[Ce]),"chart_bar"===y.type&&y.column_groupby_column_key&&c.push({setting_key:$C.STACK,setting_index:0,setting_value:[!1,!0]})}"chart_pie"===y.type&&(c=[].concat(V,N(B),N(U),N(w),N(E),N(H)))}else{var Se=[{optionKey:$C.COLUMN_GROUPING_NULL,optionName:W,style:{color:"rgba(0, 0, 0, .25)"},isNullOption:!0}].concat(N(g)),ke={setting_key:$C.COLUMN_GROUPING,setting_index:0,setting_value:Se};U.push(ke),c=[].concat(V,N(U),N(w),N(E),N(H))}n.props.updateStatisticsSettings(y),n.setState({settings:c,statItem:y,table:p,initSettings:c})},n.calculateTableIndex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.props.tables,a=window.app.state.selectedTableIdx;return e?t.findIndex((function(t){return t._id===e})):a},n.calculateTableList=function(){return n.props.tables.map((function(e){return{optionKey:e._id,optionName:e.name}}))},n.calculateViewList=function(e){return e.views.map((function(e){var t=e.name;return{optionKey:e._id,optionName:t}}))},n.calculateColumnList=function(e){return e.columns.filter((function(e){var t=!1;return e.type&&JC.includes(e.type)&&(t=!0),e.name&&t})).map((function(e){var t=pt.COLUMN_OPTIONS.findIndex((function(t){return e.type===t.type}));return{optionKey:e.key,optionName:e.name,optionClass:pt.COLUMN_OPTIONS[t].iconClass,optionType:e.type}}))},n.getChartGroupColumns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=n.props.t,r=e||{},i=r.columns,o=a("Not_used"),s=[{optionKey:$C.COLUMN_GROUPING_NULL,optionName:o,style:{color:"rgba(0, 0, 0, .25)"},isNullOption:!0}];return Array.isArray(i)&&i.forEach((function(e){var n=e.key,a=e.name,r=e.type,i=pt.COLUMN_OPTIONS.find((function(t){return t.type===e.type}))||{};JC.includes(r)&&a&&!t.includes(n)&&s.push({optionKey:n,optionName:a,optionClass:i.iconClass,optionType:r})})),s},n.calculateSummarizeMethodList=function(){var e=n.props.t;return[pt.STATISTICS_COUNT_TYPE.COUNT,pt.STATISTICS_COUNT_TYPE.ADVANCED].map((function(t){return{optionKey:t,optionName:e(pt.STATISTICS_COUNT_SHOW[t])}}))},n.calculateDateList=function(){var e=n.props.t;return[pt.STATISTICS_COUNT_TYPE.DAY,pt.STATISTICS_COUNT_TYPE.WEEK,pt.STATISTICS_COUNT_TYPE.MONTH,pt.STATISTICS_COUNT_TYPE.QUARTAR,pt.STATISTICS_COUNT_TYPE.YEAR].map((function(t){return{optionKey:t,optionName:e(pt.STATISTICS_COUNT_SHOW[t])}}))},n.calculateGeolocationList=function(){var e=n.props.t;return[pt.STATISTICS_COUNT_TYPE.PROVINCE,pt.STATISTICS_COUNT_TYPE.CITY,pt.STATISTICS_COUNT_TYPE.DISTRICT].map((function(t){return{optionKey:t,optionName:e(pt.STATISTICS_COUNT_SHOW[t])}}))},n.calculateSummarizedFieldList=function(e){var t=n.state.statItem.x_axis_column_key||n.state.statItem.groupby_column_key,a=[];return e.columns.forEach((function(e){var n=e.key,r=e.type,i=e.name,o=e.data;if(i&&r&&n!==t&&(r===pt.CellType.NUMBER||r===pt.CellType.FORMULA&&o&&o.result_type===pt.FORMULA_RESULT_TYPE.NUMBER)){var s=pt.COLUMN_OPTIONS.find((function(e){return e.type===r}))||{};a.push({optionKey:n,optionType:r,optionName:i,optionClass:s.iconClass})}})),a},n.calculateCalculationMethodList=function(){var e=n.props.t;return[pt.STATISTICS_COUNT_TYPE.SUM,pt.STATISTICS_COUNT_TYPE.MAX,pt.STATISTICS_COUNT_TYPE.MIN,pt.STATISTICS_COUNT_TYPE.MEAN].map((function(t){return{optionKey:t,optionName:e(pt.STATISTICS_COUNT_SHOW[t])}}))},n.calculateAdvancedList=function(){var e=n.state,t=e.statItem,a=e.table,r=n.calculateSummarizedFieldList(a),i=n.calculateCalculationMethodList(),o=t.type;return r.length>0&&("pivot_table"===o||"chart_pie"===o?t.summary_column_key=r[0].optionKey:t.y_axis_column_key=r[0].optionKey),"pivot_table"===o||"chart_pie"===o?t.summary_method=i[0].optionKey:t.y_axis_summary_method=i[0].optionKey,[{setting_key:"Summarized_Field",setting_index:0,setting_value:r},{setting_key:"Calculation_Method",setting_index:0,setting_value:i}]},n.onSettingsSelect=function(e,t){var a=n.state.settings;if("Table"!==e.setting_key){var r=a.findIndex((function(t){return t===e}));a[r].setting_index=t;var i=n.calculateStatItem(a[r]),o=i.statItem,s=i.newSettings;o&&(n.props.updateStatisticsSettings(o),n.setState({settings:s,statItem:o}))}else{var l=e.setting_value[t].optionKey;n.editSettings(l,t)}},n.setChartBarColor=function(e,t){var a=n.state,r=a.statItem,i=a.settings;r.y_axis_label_color=e,t.label_color=e;var o=i.findIndex((function(e){return e.setting_key===t.setting_key}));i.splice(o,1,t),n.props.updateStatisticsSettings(r),n.setState({settings:i,statItem:r})},n.calculateStatItem=function(e){var t=n.state,a=t.table,r=t.statItem,i=t.initSettings,o=t.settings,s=i;if(!r)return{statItem:"",newSettings:s};switch(e.setting_key){case $C.VIEWS:var l=a.views.find((function(t){return t._id===e.setting_value[e.setting_index].optionKey}));r.view_id=l._id,r.name=l.name,s=o;break;case $C.TYPE:var c=e.setting_value[e.setting_index];if(r=n.transformStatItem(r,c),"chart_pie"===c){var u=(o=o.filter((function(e){return e.setting_key!==$C.CHART_GROUPING&&e.setting_key!==$C.SHOW_LABEL&&e.setting_key!==$C.STACK&&e.setting_key!==$C.CHART_GROUPING_GEOLOCATION&&e.setting_key!==$C.CHART_GROUPING_DATE}))).findIndex((function(e){return e.setting_key===$C.SHOW_LEGEND})),d=o.findIndex((function(e){return e.setting_key===$C.SHOW_PERCENT}));if(u<0&&d<0){var p=o.findIndex((function(e){return e.setting_key===$C.INCLUDE_EMPTY}));o.splice(p+1,0,{setting_key:$C.SHOW_LEGEND,setting_index:1,setting_value:[!1,!0]},{setting_key:$C.SHOW_PERCENT,setting_index:0,setting_value:[!1,!0]})}}else{if((o=o.filter((function(e){return e.setting_key!==$C.SHOW_LEGEND&&e.setting_key!==$C.SHOW_PERCENT&&e.setting_key!==$C.STACK}))).findIndex((function(e){return e.setting_key===$C.CHART_GROUPING}))<0){var h=o.findIndex((function(e){return e.setting_key===$C.SHOW_LABEL})),f=n.getChartGroupColumns(a,[r.x_axis_column_key,r.y_axis_column_key]);if(o.push({setting_key:$C.CHART_GROUPING,setting_index:0,setting_value:f}),h<0){var m=o.findIndex((function(e){return e.setting_key===$C.INCLUDE_EMPTY}));o.splice(m+1,0,{setting_key:$C.SHOW_LABEL,setting_index:1,setting_value:[!1,!0],label_color:null})}}if("chart_bar"===c&&r.column_groupby_column_key)o.findIndex((function(e){return e.setting_key===$C.STACK}))<0&&o.push({setting_key:$C.STACK,setting_index:0,setting_value:[!1,!0]})}s=o;break;case $C.SHOW_LEGEND:var g=e.setting_value[e.setting_index];r=Object.assign({},r,{show_legend:g}),s=o;break;case $C.SHOW_PERCENT:var v=e.setting_value[e.setting_index];r=Object.assign({},r,{show_percent:v}),s=o;break;case $C.SHOW_LABEL:var y=e.setting_value[e.setting_index];r=Object.assign({},r,{y_axis_show_label:y}),s=o;break;case $C.INCLUDE_EMPTY:var _=e.setting_value[e.setting_index];"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_include_empty_cells=_:r.x_axis_include_empty=_,s=o;break;case $C.ROW_GROUPING:var b=a.columns.find((function(t){return t.key===e.setting_value[e.setting_index].optionKey})),w=!1,E=!1;if(b){var T=b.type,x=b.key;if(T===pt.CellType.DATE&&(w=!0),T===pt.CellType.GEOLOCATION&&(E=!0),"pivot_table"===r.type||"chart_pie"===r.type)r.groupby_column_key=x;else{r.x_axis_column_key=x;var C=n.getChartGroupColumns(a,[x,r.y_axis_column_key]),S=r.column_groupby_column_key?C.findIndex((function(e){return e.optionKey===r.column_groupby_column_key})):0,k={setting_key:$C.CHART_GROUPING,setting_index:S,setting_value:C},O=o.findIndex((function(e){return e.setting_key===k.setting_key}));O>-1&&(o[O]=k)}}else r.groupby_column_key=null,r.x_axis_column_key=null,r.groupby_date_granularity=null,r.x_axis_date_granularity=null;var M=o.findIndex((function(e){return e.setting_key===$C.ROW_GROUPING})),L=o.findIndex((function(e){return e.setting_key===$C.DATE}));if(w&&L<0){var D=n.calculateDateList(),R={setting_key:$C.DATE,setting_index:2,setting_value:D};o.splice(M+1,0,R),"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_date_granularity=D[2].optionKey:r.x_axis_date_granularity=D[2].optionKey}else!w&&L>-1&&(o.splice(L,1),"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_date_granularity=null:r.x_axis_date_granularity=null);var I=o.findIndex((function(e){return e.setting_key===$C.GEOLOCATION}));if(E&&I<0){var A=n.calculateGeolocationList(),P={setting_key:$C.GEOLOCATION,setting_index:0,setting_value:A};o.splice(M+1,0,P),"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_geolocation_granularity=A[0].optionKey:r.x_axis_geolocation_granularity=A[0].optionKey}else!E&&I>-1&&(o.splice(I,1),"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_geolocation_granularity=null:r.x_axis_geolocation_granularity=null);s=o;break;case $C.COLUMN_GROUPING:var Y=a.columns.find((function(t){return t.key===e.setting_value[e.setting_index].optionKey})),F=!1,j=!1;if(Y){var U=Y.type,H=Y.key;U===pt.CellType.DATE&&(F=!0),U===pt.CellType.GEOLOCATION&&(j=!0),r.column_groupby_column_key=H}else r.column_groupby_column_key=null,r.column_groupby_date_granularity=null;var B=o.findIndex((function(e){return e.setting_key===$C.COLUMN_GROUPING})),V=o.findIndex((function(e){return e.setting_key===$C.COLUMN_GROUPING_DATE}));if(F&&V<0){var G=n.calculateDateList(),W={setting_key:$C.COLUMN_GROUPING_DATE,setting_index:2,setting_value:G};V<0&&(o.splice(B+1,0,W),r.column_groupby_date_granularity=G[2].optionKey)}else!F&&V>-1&&(o.splice(V,1),r.column_groupby_date_granularity=null);var z=o.findIndex((function(e){return e.setting_key===$C.COLUMN_GROUPING_GEOLOCATION}));if(j&&z<0){var q=n.calculateGeolocationList(),K={setting_key:$C.COLUMN_GROUPING_GEOLOCATION,setting_index:0,setting_value:q};z<0&&(o.splice(B+1,0,K),r.column_groupby_geolocation_granularity=q[0].optionKey)}else!j&&z>-1&&(o.splice(z,1),r.column_groupby_geolocation_granularity=null);s=o;break;case $C.CHART_GROUPING:var X=a.columns.find((function(t){return t.key===e.setting_value[e.setting_index].optionKey})),J=!1,Z=!1;if(X){var $=X.type,Q=X.key,ee=o.findIndex((function(e){return e.setting_key===$C.STACK}));$===pt.CellType.DATE&&(J=!0),$===pt.CellType.GEOLOCATION&&(Z=!0),ee<0&&"chart_bar"===r.type&&o.push({setting_key:$C.STACK,setting_index:0,setting_value:[!1,!0]}),r.column_groupby_column_key=Q,o=o.filter((function(e){return e.setting_key!==$C.SHOW_LABEL}))}else{var te={setting_key:$C.SHOW_LABEL,setting_index:1,setting_value:[!1,!0],label_color:null},ne=o.findIndex((function(e){return e.setting_key===$C.INCLUDE_EMPTY}));ne>-1&&o.splice(ne+1,0,te),o=o.filter((function(e){return e.setting_key!==$C.STACK})),r.column_groupby_column_key=null,r.column_groupby_date_granularity=null}var ae=o.findIndex((function(e){return e.setting_key===$C.CHART_GROUPING})),re=o.findIndex((function(e){return e.setting_key===$C.CHART_GROUPING_DATE}));if(J&&re<0){var ie=n.calculateDateList(),oe={setting_key:$C.CHART_GROUPING_DATE,setting_index:0,setting_value:ie};o.splice(ae+1,0,oe),r.column_groupby_date_granularity=ie[0].optionKey}else!J&&re>-1&&(o.splice(re,1),r.column_groupby_date_granularity=null);var se=o.findIndex((function(e){return e.setting_key===$C.CHART_GROUPING_GEOLOCATION}));if(Z&&se<0){var le=n.calculateGeolocationList(),ce={setting_key:$C.CHART_GROUPING_GEOLOCATION,setting_index:0,setting_value:le};o.splice(ae+1,0,ce),r.column_groupby_geolocation_granularity=le[0].optionKey}else!Z&&se>-1&&(o.splice(se,1),r.column_groupby_geolocation_granularity=null);s=o;break;case $C.SUMMARIZE_METHOD:var ue=e.setting_value[e.setting_index].optionKey;if("advanced"===ue){var de,pe,he=n.calculateAdvancedList(),fe=-1;if("chart_bar"!==r.type&&"chart_line"!==r.type||(fe=o.findIndex((function(e){return e.setting_key===$C.CHART_GROUPING_DATE||e.setting_key===$C.CHART_GROUPING}))),fe>-1)(de=o).splice.apply(de,[fe,0].concat(N(he)));else(pe=o).push.apply(pe,N(he));s=o}else{var me=[];o.map((function(e){e.setting_key!=$C.SUMMARIZED_FIELD&&e.setting_key!=$C.CALCULATION_METHOD&&me.push(e)})),s=me,"pivot_table"===r.type||"chart_pie"===r.type?(r.summary_column_key=null,r.summary_method=null):(r.y_axis_summary_method=null,r.y_axis_column_key=null)}"pivot_table"===r.type||"chart_pie"===r.type?r.summary_type=ue:r.y_axis_summary_type=ue;break;case $C.SUMMARIZED_FIELD:var ge=e.setting_value[e.setting_index].optionKey;if("pivot_table"===r.type||"chart_pie"===r.type)r.summary_column_key=ge;else{r.y_axis_column_key=ge;var ve=n.getChartGroupColumns(a,[r.x_axis_column_key,ge]),ye=r.column_groupby_column_key?ve.findIndex((function(e){return e.optionKey===r.column_groupby_column_key})):0,_e={setting_key:$C.CHART_GROUPING,setting_index:ye,setting_value:ve},be=o.findIndex((function(e){return e.setting_key===_e.setting_key}));be>-1&&(o[be]=_e)}s=o;break;case $C.CALCULATION_METHOD:var we=e.setting_value[e.setting_index];r.summary_method=we.optionKey,"pivot_table"===r.type||"chart_pie"===r.type?r.summary_method=we.optionKey:r.y_axis_summary_method=we.optionKey,s=o;break;case $C.DATE:var Ee=e.setting_value[e.setting_index];"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_date_granularity=Ee.optionKey:r.x_axis_date_granularity=Ee.optionKey,s=o;break;case $C.GEOLOCATION:var Te=e.setting_value[e.setting_index];"pivot_table"===r.type||"chart_pie"===r.type?r.groupby_geolocation_granularity=Te.optionKey:r.x_axis_geolocation_granularity=Te.optionKey,s=o;break;case $C.COLUMN_GROUPING_DATE:var xe=e.setting_value[e.setting_index];r.column_groupby_date_granularity=xe.optionKey,s=o;break;case $C.COLUMN_GROUPING_GEOLOCATION:var Ce=e.setting_value[e.setting_index];r.column_groupby_geolocation_granularity=Ce.optionKey,s=o;break;case $C.CHART_GROUPING_DATE:var Se=e.setting_value[e.setting_index];r.column_groupby_date_granularity=Se.optionKey,s=o;break;case $C.CHART_GROUPING_GEOLOCATION:var ke=e.setting_value[e.setting_index];r.column_groupby_geolocation_granularity=ke.optionKey,s=o;break;case $C.STACK:var Oe=e.setting_value[e.setting_index];r=Object.assign({},r,{y_axis_use_stack:Oe}),s=o}return{statItem:r,newSettings:s}},n.state={settings:[],initSettings:[],statItem:e.statItem,table:null},n.statisticType=e.statisticType,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e,t,n;this.statisticType=this.props.statisticType;var a=this.props,r=a.statItem,i=a.tables;this.props.statItem?(e=i[t=this.calculateTableIndex(r.table_id)].views.findIndex((function(e){return e._id===r.view_id})),n=r.table_id,this.editSettings(n,t,e,!1,r)):(e=window.app.state.selectedViewIdx,t=window.app.state.selectedTableIdx,n=null,this.editSettings(n,t,e))}},{key:"componentWillReceiveProps",value:function(e){if(e.statisticType!==this.props.statisticType){var t=this.state.statItem,n=t.table_id,a=(t.view_id,this.calculateTableIndex(n)),r=this.props.tables[a],i=this.calculateViewList(r);this.statisticType=e.statisticType;var o=i.find((function(e){e._id})),s="table"===e.statisticType?"pivot_table":"chart_bar",l=this.transformStatItem(this.state.statItem,s);l.type=s,this.editSettings(n,a,o,!1,l)}}},{key:"getStatType",value:function(e){return"table"===e?"pivot_table":"chart_bar"}},{key:"render",value:function(){var e=this,t=this.state.settings;return h.a.createElement(p.Fragment,null,t.length>0&&t.map((function(t,n){return h.a.createElement(XC,{statisticType:e.state.statItem.type,key:n,settingItem:t,onSettingsSelect:e.onSettingsSelect,setChartBarColor:e.setChartBarColor})})))}}]),t}(h.a.Component),eS=Object(I.d)("dtable")(QC),tS=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).updateStatisticsSettings=function(e){var t=n.props,a=t.tables,r=t.updateStatisticsItem;if(e)if("advanced"!==e.summary_type||e.summary_column_key||e.y_axis_column_key){var i,o,s;if("pivot_table"===e.type?s=!(i=pt.PivotTable.calculatePivotTable(e,a)):(o=pt.Chart.calculateChart(e,a),jC.formatGroupsLabel(o,e,a),s=!o),s){n.setState({errMessage:"There_are_no_statistic_results_yet"})}else{var l;e.summary_method&&(l=e.summary_method),e.y_axis_summary_method&&(l=e.y_axis_summary_method);var c=jC.getGroupColumn(a,e),u=jC.getColumnGroupColumn(a,e);n.setState({tableViewList:o,isShowTable:!0,errMessage:"",statItem:e,calculationMethodName:l,groupByColumn:c,columnGroupByColumn:u,pivotResult:i},(function(){r(e)}))}}else{n.setState({errMessage:"No_fields_that_can_be_returned"})}else{n.setState({errMessage:"There_are_no_columns_that_can_be_counted_under_this_table"})}},n.onRenameStatisticToggle=function(){n.setState({renameToggle:!n.state.renameToggle})},n.handleChange=function(e){var t=e.target.value,a=n.state.statItem,r=t.trim()?t.trim():a.name;a.name=r,n.setState({statItem:a})},n.onSelectStatisticType=function(e){n.setState({statisticType:e})},n.renderStatisticsResult=function(){var e=n.state,t=e.tableViewList,a=e.groupByColumn,r=e.columnGroupByColumn,i=e.isShowTable,o=e.errMessage,s=e.calculationMethodName,l=n.props,c=l.t,u=l.tables,d=c(s||"Amount");return o?h.a.createElement("div",{className:"statistic-table"},h.a.createElement("div",{className:"statistic-errmessage"},c(o))):h.a.createElement("div",{className:"statistic-table"},h.a.createElement("div",{className:"statistic-table-title"},n.renderStatisticName()),h.a.createElement("div",{className:"statistic-table-container"},i&&h.a.createElement(HC,{isCreating:!0,statItem:n.state.statItem,type:n.state.statItem.type,groupByColumn:a,columnGroupByColumn:r,statisticResultName:d,tableViewList:t,pivotResult:n.state.pivotResult,tables:u})))},n.onKeyDown=function(e){P()("enter",e)&&(e.preventDefault(),n.onRenameStatisticToggle())},n.renderStatisticName=function(){var e=n.state,t=e.renameToggle,a=(e.statItem||{}).name;return t?h.a.createElement(Lr,{defaultValue:a,className:"statistic-rename",onBlur:n.onRenameStatisticToggle,autoFocus:!0,onChange:n.handleChange,onKeyDown:n.onKeyDown}):h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"statistic-table-title-name"},a),h.a.createElement("span",{className:"dtable-font dtable-icon-rename",onClick:n.onRenameStatisticToggle}))};var a=e.editingStatItem,r=a&&"pivot_table"===a.type?"table":"chart";return n.state={tableViewList:[],groupColumn:null,isShowTable:!!a,errMessage:"",statItem:a||{},renameToggle:!1,calculationMethodName:a?a.y_axis_summary_method||a.summary_method:"",statisticType:r,pivotResult:null},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.statisticType;return h.a.createElement("div",{className:"statistic-container"},this.renderStatisticsResult(),h.a.createElement("div",{className:"statistic-parameter"},h.a.createElement("div",{className:"statistic-parameter-container"},h.a.createElement("div",{className:"stastics-mode-selector"},h.a.createElement("div",{onClick:function(t){return e.onSelectStatisticType("chart")},className:"stastics-mode-item "+("chart"===n?"selected-stastics-mode-item":"")},t("Chart")),h.a.createElement("div",{onClick:function(t){return e.onSelectStatisticType("table")},className:"stastics-mode-item "+("table"===n?"selected-stastics-mode-item":"")},t("Table"))),h.a.createElement("div",{className:"statistic-parameter-body"},h.a.createElement("div",{className:"statistic-parameter-header"},h.a.createElement("h5",{className:"statistic-parameter-title"},t("Chart_settings"))),h.a.createElement("div",{className:"statistic-parameter-list"},h.a.createElement(eS,{statItem:this.state.statItem.type?this.state.statItem:null,statisticType:n,tables:this.props.tables,updateStatisticsSettings:this.updateStatisticsSettings}))))))}}]),t}(h.a.Component),nS=Object(I.d)("dtable")(tS),aS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onDropdownToggleClick=function(e){e.preventDefault(),e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow})},n.deleteStatistics=function(){n.props.deleteStatistics()},n.editStatistics=function(){n.props.editStatistics()},n.onNewTableDialogToggle=function(){n.props.onNewTableDialogToggle()},n.state={isItemMenuShow:!1,isRenameDialogShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.statisticType;return h.a.createElement(p.Fragment,null,h.a.createElement(De,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,className:"dtable-dropdown-menu"},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow},h.a.createElement("i",{className:"toggle-icon dtable-font dtable-icon-more-level"})),h.a.createElement(st,null,h.a.createElement(dt,{onClick:this.editStatistics},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-rename"}),h.a.createElement("span",{className:"item-text"},t("Edit"))),"pivot_table"===n&&h.a.createElement(dt,{onClick:this.onNewTableDialogToggle},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-export"}),h.a.createElement("span",{className:"item-text"},t("Export"))),h.a.createElement(dt,{onClick:this.deleteStatistics},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete"}),h.a.createElement("span",{className:"item-text"},t("Delete"))))))}}]),t}(h.a.Component),rS=Object(I.d)("dtable")(aS),iS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onEnlargeToggle()},n.renderStatisticView=function(){var e=n.props,t=e.statistic,a=e.groupByColumn,r=e.columnGroupByColumn,i=e.tableViewList,o=e.pivotResult,s=e.tables,l=e.statisticResultName;return h.a.createElement("div",{className:"statistic-table-container"},h.a.createElement(HC,{isEnlarged:!0,isCreating:!0,statItem:t,type:t.type,groupByColumn:a,columnGroupByColumn:r,statisticResultName:l,tableViewList:i,pivotResult:o,tables:s}))},n.state={statisticRecords:{},selectedCell:{},isRecordsShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.statistic;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"statistic-modal",modalClassName:"statistic-dialog",zIndex:900},h.a.createElement(xr,{toggle:this.toggle},h.a.createElement("span",null,e.name)),h.a.createElement(kr,{className:"statistic-body-container statistic-microscope-content ".concat(e.type===pt.STATISTICS_TYPE_TABLE?"microscope-table":"")},this.renderStatisticView()))}}]),t}(p.Component),oS=Object(I.d)("dtable")(iS),sS=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).calculateStatTable=function(e){var t,a=n.props.tables,r=[];"pivot_table"===e.type?t=pt.PivotTable.calculatePivotTable(e,a):(r=pt.Chart.calculateChart(e,a),jC.formatGroupsLabel(r,e,a));var i,o,s=jC.getGroupColumn(a,e),l=jC.getColumnGroupColumn(a,e);return i=e.statName?e.statName:e.viewName?e.viewName:e.name,e.summary_method&&(o=e.summary_method),{tableViewList:r,groupByColumn:s,columnGroupByColumn:l,calculationMethodName:o,statName:i,newPivotResult:t}},n.deleteStatistics=function(){var e=n.props.statistic,t=e._id,a=e.name;n.props.deleteStatistics(t,a)},n.editStatistics=function(e){n.props.editStatistics(e)},n.onEnlargeToggle=function(){n.setState({isEnlarged:!n.state.isEnlarged})},n.onNewTableDialogToggle=function(){n.setState({isNewTableDialogShow:!n.state.isNewTableDialogShow})},n.onExportStatisticToTable=function(e){var t=n.props,a=t.hideStatisticsDialog,r=t.onExportStatisticToTable,i=t.statistic,o=t.t;if("pivot_table"===i.type){var s=n.state,l=s.groupByColumn,c=s.columnGroupByColumn;r(e,{pivot_result:s.pivotResult,groupby_column:l,row_groupby_column:c}),n.onNewTableDialogToggle(),a()}else Za.danger(o("Failed_export_statistic_to_Table")),n.onNewTableDialogToggle()};var a=n.calculateStatTable(e.statistic),r=a.tableViewList,i=a.groupByColumn,o=a.columnGroupByColumn,s=a.calculationMethodName,l=a.statName,c=a.newPivotResult;return n.state={tableViewList:r,statName:l,groupByColumn:i,columnGroupByColumn:o,calculationMethodName:s,pivotResult:c,isEnlarged:!1,isNewTableDialogShow:!1},n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.calculateStatTable(e.statistic),n=t.tableViewList,a=t.newPivotResult,r=t.statName;this.setState({tableViewList:n,pivotResult:a,statName:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.statistic,r=t.tables,i=this.state,o=i.tableViewList,s=i.groupByColumn,l=i.columnGroupByColumn,c=i.statName,u=i.calculationMethodName,d=i.isEnlarged,f=i.isNewTableDialogShow,m=i.pivotResult,g="r"===window.dtable.permission,v=n(u||"Amount");return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"statistic-item"},h.a.createElement("div",{className:"statistic-item-header"},h.a.createElement("span",null,c),h.a.createElement("span",{className:"statistic-item-operations"},h.a.createElement("span",{className:"statistic-item-microscope",onClick:this.onEnlargeToggle},h.a.createElement("i",{className:"dtable-font dtable-icon-open"})),!g&&h.a.createElement(rS,{deleteStatistics:this.deleteStatistics,editStatistics:function(){return e.editStatistics(a._id)},onNewTableDialogToggle:this.onNewTableDialogToggle,statisticType:a.type}))),h.a.createElement("div",{className:"statistic-item-table"},h.a.createElement("div",{className:"statistic-table-view"},h.a.createElement(HC,{isCreating:this.props.isCreating,statItem:a,type:a.type,groupByColumn:s,columnGroupByColumn:l,statisticResultName:v,tableViewList:o,pivotResult:m,tables:r})))),d&&h.a.createElement(oS,{statistic:a,groupByColumn:s,columnGroupByColumn:l,statisticResultName:v,tableViewList:o,pivotResult:this.state.pivotResult,tables:r,onEnlargeToggle:this.onEnlargeToggle}),f&&h.a.createElement(W_,{tableName:a.name,onNewTableConfirm:this.onExportStatisticToTable,onNewTableCancel:this.onNewTableDialogToggle}))}}]),t}(h.a.Component),lS=Object(I.d)("dtable")(sS),cS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).isVailidStat=function(e){var t=pt.TableUtils.getTableById(n.props.tables,e.table_id);if(!t)return!1;var a=e.view_id;if(!t.views.find((function(e){return e._id===a})))return!1;var r=e.groupby_column_key||e.x_axis_column_key,i=e.summary_column_key||e.y_axis_column_key;return!!t.columns.some((function(e){return e.key===r}))&&(!i||t.columns.some((function(e){return e.key===i})))},n.state={statistics:e.statistics},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tables,a=t.hideStatisticsDialog,r=t.onExportStatisticToTable,i=this.state.statistics;return h.a.createElement("div",{className:"statistics-list-container"},i&&i.length>0&&i.map((function(t,i){if(e.isVailidStat(t))return h.a.createElement(lS,{key:i,statistic:t,tables:n,deleteStatistics:e.props.deleteStatistics,editStatistics:e.props.editStatistics,stat_index:i,onExportStatisticToTable:r,hideStatisticsDialog:a})})))}}]),t}(h.a.Component),uS=Object(I.d)("dtable")(cS),dS=(n(1250),"statistic_list"),pS="statistic_editor",hS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).addStatisticsItem=function(e){window.app.addStatistics(e)},n.editStatistics=function(e){window.app.editStatistics(n.editingStatItemId,e)},n.updateStatisticsItem=function(e){n.editingStatItem=e},n.deleteStatistics=function(e,t){window.app.deleteStatistics(e,t)},n.openStatisticEditor=function(e){n.setState({statisticShowType:pS}),n.editingStatItemId=e,n.editingStatItem=F()(n.state.statistics.find((function(e){return n.editingStatItemId===e._id})))},n.toggle=function(){n.state.statisticShowType===pS&&n.onSaveStatistics(),n.props.hideStatisticsDialog()},n.onSaveStatistics=function(){var e=n.editingStatItem||{},t=e.groupby_column_key,a=e.x_axis_column_key,r=e.summary_type,i=e.summary_column_key,o=e.y_axis_column_key;!n.editingStatItem||!(t||a)||"advanced"===r&&!(i||o)||(n.editingStatItemId?n.editStatistics(n.editingStatItem):n.addStatisticsItem(n.editingStatItem))},n.onCommit=function(e,t,n,a){window.app.dtableStore.modifyRow(e,t,n,a)},n.renderHeaderTitle=function(){var e=n.state.statisticShowType,t=n.props.t;switch(e){case dS:return h.a.createElement("span",null,t("All_Statistics"));case pS:return h.a.createElement("span",{onClick:function(){return n.statisticShowTypeToggle(dS)}},h.a.createElement("i",{className:"dtable-font dtable-icon-return mr-2"}),h.a.createElement("span",{className:"file-editor-title"},t("Add_Statistic")))}},n.renderBodyContent=function(){var e=n.state,t=e.statisticShowType,a=e.tables,r=e.statistics,i=n.props.t,o="r"===window.dtable.permission;switch(t){case dS:return h.a.createElement(p.Fragment,null,h.a.createElement(uS,{tables:a,statistics:r,deleteStatistics:n.deleteStatistics,editStatistics:n.openStatisticEditor,onExportStatisticToTable:n.props.onExportStatisticToTable,hideStatisticsDialog:n.props.hideStatisticsDialog}),!o&&h.a.createElement(Yr,{callBack:n.onCreateStatistic,footerName:i("Create_a_new_statistic")}));case pS:return h.a.createElement(nS,{tables:a,editingStatItem:n.editingStatItem,updateStatisticsItem:n.updateStatisticsItem})}},n.statisticShowTypeToggle=function(e){var t=n.state.statisticShowType;t===pS&&e===dS&&n.onSaveStatistics(),n.setState({statisticShowType:e},(function(){t===pS&&(n.editingStatItemId="",n.editingStatItem=null)}))},n.onCreateStatistic=function(){n.setState({statisticShowType:pS})},n.state={tables:e.value.tables,statistics:e.value.statistics,statisticShowType:e.value.statistics.length>0?dS:pS},n.editingStatItemId="",n.editingStatItem=null,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){"r"===window.dtable.permission&&this.setState({statisticShowType:dS})}},{key:"render",value:function(){return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"statistic-modal",modalClassName:"statistic-dialog",zIndex:800},h.a.createElement(xr,{toggle:this.toggle},this.renderHeaderTitle()),h.a.createElement(kr,{className:"statistic-body-container"},this.renderBodyContent()))}}]),t}(h.a.Component),fS=Object(I.d)("dtable")(hS),mS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onCreateForm=function(){if(n.validFormName()){var e=n.state.formName.trim();n.props.onCreateForm(e),n.toggle()}},n.validFormName=function(){return""!==n.state.formName.trim()||(n.setState({errMessage:"Name_is_required"}),!1)},n.onNameChanged=function(e){var t=e.target.value;t!==n.state.formName&&n.setState({formName:t})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.onCreateForm(),e.preventDefault())},n.toggle=function(){n.props.onCreateFormToggle()},n.state={formName:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},e("Create_a_new_form")),h.a.createElement(kr,null,h.a.createElement(Cm,null,h.a.createElement(ir,null,e("Form_Name")),h.a.createElement(Lr,{type:"text",value:this.state.formName,onChange:this.onNameChanged})),this.state.errMessage&&h.a.createElement(xh,{color:"danger",className:"mt-2"},e(this.state.errMessage))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},e("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.onCreateForm},e("Submit"))))}}]),t}(h.a.Component),gS=Object(I.d)("dtable")(mS),vS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onDropdownToggleClick=function(e){e.preventDefault(),e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow})},n.onShareForm=function(){n.props.onShareForm()},n.onDeleteForm=function(){n.props.onDeleteForm()},n.onEditForm=function(){n.props.onEditForm()},n.state={isItemMenuShow:!1,isRenameDialogShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(p.Fragment,null,h.a.createElement(De,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,className:"dtable-dropdown-menu"},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow},h.a.createElement("span",{className:"toggle-icon dtable-font dtable-icon-more-level",style:{fontSize:"14px"}})),h.a.createElement(st,{right:!0},h.a.createElement(dt,{onClick:this.onEditForm},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-rename"}),h.a.createElement("span",{className:"item-text"},e("Edit"))),h.a.createElement(dt,{onClick:this.onShareForm},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-share"}),h.a.createElement("span",{className:"item-text"},e("Share"))),h.a.createElement(dt,{onClick:this.onDeleteForm},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete"}),h.a.createElement("span",{className:"item-text"},e("Delete"))))))}}]),t}(h.a.Component),yS=Object(I.d)("dtable")(vS),_S=n(254),bS=n.n(_S),wS=(n(1251),function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).toggle=function(){n.props.shareCancel()},n.onCopy=function(){var e=n.props,t=e.t,a=e.formItem;Fx()(a.form_link);var r=t("The_share_link_has_been_copied");Za.success(r)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.formItem,a=n.form_config,r=n.form_link,i=JSON.parse(a).form_name;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"share-form-dialog"},h.a.createElement(xr,{toggle:this.toggle},t("Share")),h.a.createElement(kr,{className:"share-form-container d-flex flex-row"},h.a.createElement("div",{className:"form-share-item"},h.a.createElement("div",{className:"form-item"},h.a.createElement("i",{className:"dtable-font dtable-icon-form form-item-icon"}),h.a.createElement("span",{className:"form-item-text"},i)),h.a.createElement("div",{className:"form-share-copy-link"},h.a.createElement("span",{className:"form-share-link"},r),h.a.createElement(Ve,{color:"primary",onClick:this.onCopy,className:"form-share-link-btn",title:t("Copy")},t("Copy")))),h.a.createElement("div",{className:"form-share-qrcode text-center"},h.a.createElement("div",{className:"form-share-qrcode-content"},h.a.createElement(bS.a,{value:r,size:80})),h.a.createElement("div",{className:"form-share-qrcode-tip"},h.a.createElement("span",{className:"qrcode-tip-content"},t("Scan_QR_code")),h.a.createElement("span",{className:"qrcode-tip-content"},t("Open_form_directly"))))))}}]),t}(h.a.Component)),ES=Object(I.d)("dtable")(wS),TS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleShareDialog=function(){n.setState({isShareDialogOpen:!n.state.isShareDialogOpen})},n.onShareForm=function(){n.toggleShareDialog()},n.onDeleteForm=function(){var e=n.props.formItem;n.props.onDeleteForm(e)},n.onEditForm=function(){var e=n.props.formItem,t=window.dtable.server;window.open(t+"/dtable/form-edit/"+e.token+"/")},n.state={isShareDialogOpen:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.formItem,t=JSON.parse(e.form_config),n=e.form_link;return h.a.createElement("div",{className:"list-form-item"},h.a.createElement("i",{className:"dtable-font dtable-icon-form form-item-icon "}),h.a.createElement("a",{className:"form-item-text",href:n,target:"_blank",rel:"noreferrer noopener"},t.form_name),h.a.createElement(yS,{onShareForm:this.onShareForm,onDeleteForm:this.onDeleteForm,onEditForm:this.onEditForm}),this.state.isShareDialogOpen&&h.a.createElement(ES,{formItem:e,shareCancel:this.toggleShareDialog}))}}]),t}(h.a.Component),xS=Object(I.d)("dtable")(TS),CS=(n(1252),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onCreateForm=function(e){var t=window.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName,o=n.state.formList,s=Object(pt.generatorFormId)(o),l={form_name:e};t.createDTableForm(r,i,s,JSON.stringify(l)).then((function(e){var t=e.data.form;n.state.formList.push(t),n.setState({formList:n.state.formList},(function(){window.open(window.dtable.server+"/dtable/form-edit/"+t.token+"/")}))})).catch((function(e){if(e.response&&403===e.response.status)nm(e,!0);else{var t=(0,n.props.t)("Form_creation_failed");Za.danger(t)}}))},n.onDeleteForm=function(e){window.dtableWebAPI.deleteDTableForm(e.token).then((function(t){var a=n.state.formList.filter((function(t){return t.form_id!==e.form_id}));n.setState({formList:a})})).catch((function(e){if(e.response&&403===e.response.status)nm(e,!0);else{var t=(0,n.props.t)("Form_deletion_failed");Za.danger(t)}}))},n.toggle=function(){n.props.onListFormDialogToggle()},n.onCreateFormToggle=function(){n.setState({isCreateFormDialogShow:!n.state.isCreateFormDialogShow})},n.state={isFormLoading:!0,formList:[],isCreateFormDialogShow:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=window.dtableWebAPI,n=window.dtable,a=n.workspaceID,r=n.fileName,i=this.props.t;t.listDTableForms(a,r).then((function(t){var n=t.data.form_list;e.setState({isFormLoading:!1,formList:n})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(i(t))}))}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state,a=n.isFormLoading,r=n.formList;return h.a.createElement(p.Fragment,null,h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},t("Forms")),h.a.createElement(kr,{className:"list-form-container"},a&&h.a.createElement(Dh,null),!a&&r.map((function(t){return h.a.createElement(xS,{key:t.id,formItem:t,onDeleteForm:e.onDeleteForm})}))),h.a.createElement(Yr,{callBack:this.onCreateFormToggle,footerName:t("Create_a_new_form")})),this.state.isCreateFormDialogShow&&h.a.createElement(gS,{onCreateForm:this.onCreateForm,onCreateFormToggle:this.onCreateFormToggle}))}}]),t}(h.a.Component)),SS=Object(I.d)("dtable")(CS),kS=(n(477),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){var t=n.state.searchVal;t!==e.target.value&&(t=e.target.value,n.setState({searchVal:t}))},n.getFilteredOptions=function(){var e=n.state,t=e.searchVal,a=e.options;return t?a.filter((function(e){return e.name.indexOf(t)>-1})):a},n.onRemoveOption=function(){n.setState({value:""},(function(){n.props.onCommit(n.getValue(),n.props.column),n.props.closeEditor()}))},n.onSelectOption=function(e){n.setState({value:e},(function(){n.props.onCommit(n.getValue(),n.props.column),n.props.closeEditor()}))},n.editOption=function(e){var t=n.state.options;window.app.onAddColumnOption(n.props.column,t,e),t.push(e),n.setState({options:t}),n.onSelectOption(e.id)},n.onCreateOption=function(e){e.nativeEvent.stopImmediatePropagation();var t={option:{name:n.state.searchVal.trim(),color:"#FFE8E6"},editOption:n.editOption};n.props.openEditor("edit-option-view",t)},n.renderMenuContent=function(e){var t=n.state.value,a=n.props.t;return 0===e.length?h.a.createElement("div",{className:"none-search-result"},a("No_options_available")):e.map((function(e,a){var r=t===e.id;return h.a.createElement("div",{className:"single-select-item",key:a},h.a.createElement("div",{className:"single-select-container",onMouseDown:n.onSelectOption.bind(E(n),r?null:e.id)},h.a.createElement("span",{className:"single-select"},h.a.createElement("span",{className:"single-select-name",style:{backgroundColor:e.color,maxWidth:n.clientWidth-16-10-20-10,color:e.textColor||null}},e.name)),r&&h.a.createElement("span",{className:"single-select-check-icon"},h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))}))},n.state={value:e.value||"",searchVal:"",options:e.column.data?e.column.data.options:[]},n.clientHeight=document.body.clientHeight,n.clientWidth=document.body.clientWidth,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.column,a=e.value,r=this.state.searchVal,i=this.getFilteredOptions(),o=!!r&&-1===i.findIndex((function(e){return e.name===r})),s=n.data&&n.data.options.find((function(e){return e.id===a})),l="r"===window.dtable.permission,c=s?s.textColor:null;return h.a.createElement("div",{className:"row-expand-view single-select-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:n.name,onLeftClick:this.props.closeEditor,leftName:t("Cancel")}),h.a.createElement("div",{className:"select-options-body",style:{maxHeight:this.clientHeight-50}},h.a.createElement("div",{className:"current-cell-value-container"},h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,t("Current_option"))),h.a.createElement("div",{className:"current-cell-value"},s?h.a.createElement("div",{className:"current-option-container",style:{backgroundColor:s.color,color:c}},h.a.createElement("span",{className:"current-option-name"},s.name),!l&&h.a.createElement("div",{className:"remove-container",onClick:this.onRemoveOption},h.a.createElement("i",{className:"remove-option dtable-font dtable-icon-fork-number",style:{color:"#FFFFFF"===c?c:null}}))):h.a.createElement("span",{className:"empty-placeholder"},t("No_option")))),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{className:"single-selects-editor-list"},h.a.createElement("div",{className:"search-single-selects"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:t("Find_an_option"),value:this.state.searchVal,onChange:this.onChangeSearch,onClick:function(e){e.stopPropagation()}})),h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,t(o?"Add_an_option":"Choose_an_option"))),h.a.createElement("div",{className:"single-selects-container",style:o?{height:"auto"}:{}},this.renderMenuContent(i)),o&&h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"view-partition view-partition-border-top"}),h.a.createElement(Yr,{className:"add-search-result",callBack:this.onCreateOption,footerName:"".concat(t("Add_an_option")," ").concat(r)})))))}}]),t}(h.a.Component)),OS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){n.state.searchVal!==e.target.value&&n.setState({searchVal:e.target.value})},n.onSelectOption=function(e){var t=n.state.value,a=t.indexOf(e),r=t.slice(0);a>-1?r.splice(a,1):r.push(e),n.setState({value:r},(function(){n.props.onCommit(n.getValue(),n.props.column)}))},n.onCreateOption=function(){var e={option:{name:n.state.searchVal.trim(),color:"#FFE8E6"},editOption:n.editOption};n.props.openEditor("edit-option-view",e)},n.editOption=function(e){var t=n.state.options;window.app.onAddColumnOption(n.props.column,t,e),t.push(e),n.setState({options:t}),n.onSelectOption(e.id)},n.getFilteredOptions=function(){var e=n.state,t=e.searchVal,a=e.options;return t?a.filter((function(e){return e.name.indexOf(t)>-1})):a},n.onRemoveOption=function(e){var t=n.state.value.slice(0);t.splice(e,1),n.setState({value:t},(function(){n.props.onCommit(n.getValue(),n.props.column)}))},n.getMultipleSelectList=function(){var e=n.state.value,t=n.props.column,a="r"===window.dtable.permission,r=t.data?t.data.options:[],i=[];return Array.isArray(e)&&e.forEach((function(e,t){var o=r.find((function(t){return t.id===e}));if(o){var s=o.textColor||null;i.push(h.a.createElement("div",{className:"multiple-select-item current-multiple-select-item",key:"multiple_select_"+t},h.a.createElement("div",{className:"current-option-container",style:{backgroundColor:o.color,color:s},title:o.name},h.a.createElement("span",{className:"current-option-name"},o.name),!a&&h.a.createElement("div",{className:"remove-container",onClick:n.onRemoveOption.bind(E(n),t)},h.a.createElement("i",{className:"remove-option dtable-font dtable-icon-fork-number",style:{color:"#FFFFFF"===s?s:null}})))))}})),i},n.renderMenuContent=function(e){var t=n.state.value,a=n.props.t;return 0===e.length?h.a.createElement("span",{className:"none-search-result"},a("No_options_available")):e.map((function(e,a){var r=t.find((function(t){return t===e.id}));return h.a.createElement("div",{key:a,className:"dropdown-item multiple-select-item"},h.a.createElement("div",{className:"multiple-select-container",onMouseDown:n.onSelectOption.bind(E(n),e.id)},h.a.createElement("div",{className:"multiple-select"},h.a.createElement("span",{className:"multiple-select-name",style:{backgroundColor:e.color,maxWidth:n.clientWidth-16-10-20-10,color:e.textColor||null}},e.name)),h.a.createElement("div",{className:"multiple-select-check-icon"},r&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))}))},n.state={value:e.value||[],searchVal:"",options:e.column&&e.column.data?e.column.data.options:[]},n.clientHeight=document.body.clientHeight,n.clientWidth=document.body.clientWidth,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.t,a=this.state.searchVal,r=this.getFilteredOptions(),i=!1;this.state.searchVal&&(i=-1===r.findIndex((function(e){return e.name===a})));var o=this.getMultipleSelectList();return h.a.createElement("div",{className:"row-expand-view multiple-select-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:t.name,onLeftClick:this.props.closeEditor,leftName:n("Cancel"),onRightClick:this.props.closeEditor,rightName:n("Done")}),h.a.createElement("div",{className:"select-options-body",style:{maxHeight:this.clientHeight-50}},h.a.createElement("div",{className:"current-cell-value-container"},h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,n("Current_option"))),h.a.createElement("div",{className:"current-cell-value",style:0===o.length?{height:50}:{}},o.length>0?o:h.a.createElement("span",{className:"empty-placeholder"},n("No_option")))),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{className:"multiple-selects-editor-list"},h.a.createElement("div",{className:"search-multiple-selects"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:n("Find_an_option"),value:this.state.searchVal,onChange:this.onChangeSearch,onClick:function(e){e.stopPropagation()}})),h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,n(i?"Add_an_option":"Choose_options"))),h.a.createElement("div",{className:"multiple-selects-container",style:i?{height:"auto"}:{}},this.renderMenuContent(r)),i&&h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"view-partition view-partition-border-top"}),h.a.createElement(Yr,{className:"add-search-result",callBack:this.onCreateOption,footerName:"".concat(n("Add_an_option")," ").concat(a)})))))}}]),t}(h.a.Component),MS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){var t=n.state.searchVal;t!==e.target.value&&(t=e.target.value,n.setState({searchVal:t}))},n.getFilteredCollaborators=function(){var e=window.app.state.collaborators,t=n.state.searchVal;return t=t.toLowerCase(),e.filter((function(e){return e.name.toString().toLowerCase().indexOf(t)>-1}))},n.onSelectCollaborator=function(e){var t=n.state.value,a=e.email;t=t.slice(0);var r=n.props.column,i=t&&t.indexOf(a);i>-1?t.splice(i,1):t.push(a),n.setState({value:t},(function(){n.props.onCommit(n.getValue(),r)}))},n.renderMenuContent=function(){var e=n.props.t,t=n.state.value,a=n.getFilteredCollaborators();return a.length>0?a.map((function(e,a){var r=t.findIndex((function(t){return t===e.email}));return h.a.createElement("div",{key:a,className:"dropdown-item collaborator-item"},h.a.createElement("div",{className:"collaborator-container"},h.a.createElement("div",{className:"collaborator",onClick:function(){n.onSelectCollaborator(e)}},h.a.createElement("img",{className:"collaborator-avatar",alt:e.name,src:e.avatar_url}),h.a.createElement("span",{className:"collaborator-name"},e.name)),h.a.createElement("div",{className:"collaborator-check-icon"},r>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},e("No_collaborators_available"))},n.state={value:e.value||[],searchVal:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t,r=t.closeEditor;return h.a.createElement("div",{className:"row-expand-view collaborator-editor-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:n.name,onLeftClick:r,leftName:a("Cancel"),onRightClick:r,rightName:a("Done")}),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{className:"collaborators-editor-list show",ref:function(t){return e.collaboratorsRef=t}},h.a.createElement("div",{className:"search-collaborators"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:a("Find_a_collaborator"),value:this.state.searchVal,onChange:this.onChangeSearch})),h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,a("Choose_Collaborators"))),h.a.createElement("div",{className:"collaborators-container"},this.renderMenuContent())))}}]),t}(h.a.Component),LS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){n.setState({searchVal:e.target.value})},n.getFiltered=function(){var e=n.props.column.data.linked_common_dataset_id,t=window.app.state.linkedCommonDatasets[e];if(!t)return[];var a=t.rows,r=n.state.searchVal.toLowerCase();return a.filter((function(e){var t=e.Name;return!!t&&t.toString().toLowerCase().indexOf(r)>-1}))},n.onSelect=function(e){var t=n.state.value,a=e._id;t=t.slice(0);var r=n.props.column,i=t&&t.indexOf(a);i>-1?t.splice(i,1):t.push(a),n.setState({value:t},(function(){n.props.onCommit(n.getValue(),r)}))},n.renderMenuContent=function(){var e=n.props.t,t=n.state.value,a=n.getFiltered();return a.length>0?a.map((function(e,a){var r=t.findIndex((function(t){return t===e._id}));return h.a.createElement("div",{key:a,className:"dropdown-item collaborator-item"},h.a.createElement("div",{className:"collaborator-container"},h.a.createElement("div",{className:"collaborator",onClick:function(){n.onSelect(e)}},h.a.createElement("span",{className:"collaborator-name"},e.Name)),h.a.createElement("div",{className:"collaborator-check-icon"},r>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},e("No_common_dataset_available"))},n.state={value:e.value||[],searchVal:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.t,a=e.closeEditor;return h.a.createElement("div",{className:"row-expand-view collaborator-editor-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:t.name,onLeftClick:a,leftName:n("Cancel"),onRightClick:a,rightName:n("Done")}),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{className:"collaborators-editor-list show"},h.a.createElement("div",{className:"search-collaborators"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:n("Find_a_common_dataset"),value:this.state.searchVal,onChange:this.onChangeSearch})),h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,n("Choose_Common_Dataset"))),h.a.createElement("div",{className:"collaborators-container"},this.renderMenuContent())))}}]),t}(h.a.Component),DS=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).getCellValue=function(){return window.app.getLinkCellValue(n.tableID,n.otherTableID,n.props.expandedRow._id)},n.handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onChangeSearch=function(e){var t=n.state.searchVal;t!==e.target.value&&(t=e.target.value,n.setState({searchVal:t}))},n.searchRows=function(){var e=n.state.searchVal.trim().toLowerCase();return window.app.searchRowsInTableByName(n.otherTableID,e,10)},n.onSelectRow=function(e){var t=n.props.expandedRow,a=e._id,r=n.state.value.slice(0),i=r&&r.indexOf(a);if(i>-1){var o=r[i];window.app.removeLink(n.tableID,n.otherTableID,t._id,o),r.splice(i,1)}else r.push(a),window.app.addLink(n.tableID,n.otherTableID,t._id,a);n.setState({value:r})},n.renderMenuContent=function(){var e=n.props,t=e.t,a=e.column.data.display_column_key,r=n.state.value;if(!r)return null;var i=n.searchRows();return i.length>0?i.map((function(e,t){var i=r.findIndex((function(t){return t===e._id}));return h.a.createElement("div",{key:t,className:"dropdown-item link-item"},h.a.createElement("div",{className:"link-container"},h.a.createElement("div",{className:"link",onClick:n.onSelectRow.bind(E(n),e)},h.a.createElement("span",{className:"link-name"},e[a])),h.a.createElement("div",{className:"link-check-icon"},i>-1&&h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"}))))})):h.a.createElement("span",{className:"none-search-result"},t("No_records_available"))},n.state={value:[],searchVal:""};var a=e.column.data,r=a.table_id,i=a.other_table_id;return n.tableID=window.app.getSelectedTableId(),n.otherTableID=n.tableID===r?i:r,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1),this.setState({value:this.getCellValue()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.t;return h.a.createElement("div",{className:"row-expand-view links-editor-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:t.name,onLeftClick:this.props.closeEditor,leftName:n("Cancel"),onRightClick:this.props.closeEditor,rightName:n("Done")}),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("div",{className:"links-editor-list show"},h.a.createElement("div",{className:"search-links"},h.a.createElement("input",{className:"form-control",type:"text",placeholder:n("Find_a_record"),value:this.state.searchVal,onChange:this.onChangeSearch})),h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,n("Choose_a_record"))),h.a.createElement("div",{className:"links-container"},this.renderMenuContent())))}}]),t}(h.a.Component),RS=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.saveValue=function(){var e=n.state.value,t=qo(e),a=zp(t),r=a.previewText,i=a.images,o=a.links,s=a.checklist,l=Object.assign({},{text:e,preview:r,images:i,links:o,checklist:s});n.props.onCommit(l,n.props.column)},n.closeDialog=function(){n.saveValue(),n.props.closeEditor()},n.handleChange=function(e){n.setState({value:e})},n.state={value:e.value&&e.value.text?e.value.text:""};var a=document.body.offsetWidth;return n.rowCounts=a<767.8?10:20,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1),this.timer=setInterval((function(){e.saveValue()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.column;return h.a.createElement("div",{className:"row-expand-view long-text-view",style:{zIndex:ea,backgroundColor:"#f5f5f5"}},h.a.createElement(Vv,{title:n.name,onLeftClick:this.props.closeEditor,leftName:t("Cancel"),onRightClick:this.closeDialog,rightName:t("Done")}),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{className:"long-text-container"},h.a.createElement(Bv.j,{rows:this.rowCounts,value:this.state.value,onChange:this.handleChange})))}}]),t}(h.a.PureComponent),NS=ft()(),IS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.handleDateChange=function(e){if(n.showTime){var t=ft()(n.state.time).format("HH:mm"),a=ft()(e).format("YYYY-MM-DD")+" "+t;n.setState({time:new Date(a)})}else n.setState({time:e})},n.handleTimeChange=function(e){var t=ft()(n.state.time).format("YYYY-MM-DD")+" "+ft()(e).format("HH:mm");n.setState({time:new Date(t)})},n.onSave=function(){var e=n.props,t=e.expandedRow,a=e.column,r=ft()(n.state.time).format(n.getFormat(n.showTime));t[a.key]=r,n.props.onCommit(t,a),n.props.closeEditor()},n.deleteDate=function(){var e=n.props,t=e.expandedRow,a=e.column;t[a.key]=null,n.props.onCommit(t,a),n.props.closeEditor()},n.getCalendarContainer=function(){return n.calendarContainerRef.current},n.getFormat=function(e){return e?"YYYY-MM-DD HH:mm":"YYYY-MM-DD"},n.onChange=function(e){if(e){var t=e.format(n.getFormat(n.showTime));n.setState({time:t})}},n.showTime=!!e.column.data&&"YYYY-MM-DD HH:mm"===e.column.data.format,n.state={time:null,defaultCalendarValue:null},n.calendarContainerRef=h.a.createRef(),n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1);var e=this.props.value,t=window.dtable&&"zh-cn"===window.dtable.lang;t?NS.locale("zh-cn"):NS.locale("en-gb"),e||(e=new Date(Date.now())),this.setState({defaultCalendarValue:NS.clone(),time:t?ft()(e).locale("zh-cn"):ft()(e).locale("en-gb")})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"renderCalendar",value:function(){var e=this,t=this.state.time,n=this.props.t,a=h.a.createElement(uo,{locale:Eo(),dateInputPlaceholder:n("please_input_date"),format:this.getFormat(this.showTime),defaultValue:this.state.defaultCalendarValue,showDateInput:!1,focusablePanel:!1,showToday:!1,showTime:!1,style:{width:"100%",fontSize:"14px"}});return h.a.createElement("div",{className:"date-picker-container"},h.a.createElement(po,{calendar:a,value:t,onChange:this.onChange,getCalendarContainer:this.getCalendarContainer,open:!0,style:{width:"100%"}},(function(t){var a=t.time;return h.a.createElement("div",{tabIndex:"0",onFocus:e.onReadOnlyFocus},h.a.createElement("input",{placeholder:n("please_select"),readOnly:!0,tabIndex:"-1",className:"ant-calendar-picker-input ant-input form-control",value:a?ft()(a).format(e.getFormat(e.showTime)):""}),h.a.createElement("div",{ref:e.calendarContainerRef,style:{height:"22rem"}}))})))}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.column;return h.a.createElement("div",{className:"row-expand-view date-editor-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:n.name,onLeftClick:this.props.closeEditor,leftName:t("Cancel"),onRightClick:this.onSave,rightName:t("Done")}),h.a.createElement("div",{className:"date-input",style:this.showTime?{width:"50%"}:{width:"100%"}},h.a.createElement(Bv.c,{mode:"date",value:this.state.value,onChange:this.handleDateChange},h.a.createElement("div",{className:"date-input-day"},ft()(this.state.time).format("YYYY-MM-DD")))),this.showTime&&h.a.createElement("div",{className:"date-input",style:{width:"50%"}},h.a.createElement(Bv.c,{mode:"time",value:this.state.value,onChange:this.handleTimeChange},h.a.createElement("div",{className:"date-input-day"},ft()(this.state.time).format("HH:mm")))),h.a.createElement("div",{className:"view-partition view-partition-border-top view-partition-border-bottom"}),this.renderCalendar(),h.a.createElement("div",{className:"row-expand-view-footer"},h.a.createElement("div",{onClick:this.deleteDate,className:"clear-date"},t("Clear"))))}}]),t}(h.a.PureComponent),AS="previewer",PS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleFileChange=function(e){e.persist(),n.props.handleFileChange(e),n.props.togglePreviewer(AS)},n.onInputFile=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},n.showActionSheet=function(){var e=n.props,t=e.t,a=e.mode,r={lineHeight:"56px"};if("upload-file"===a){var i=[h.a.createElement("div",{className:"my-am-action d-flex justify-content-between"},h.a.createElement("span",null,t("Browse_documents")),h.a.createElement("i",{className:"dtable-font dtable-icon-more-level",style:r})),h.a.createElement("div",{className:"my-am-action d-flex justify-content-center"},t("Cancel"))];n.ActionSheet.showActionSheetWithOptions({options:i,cancelButtonIndex:2,maskClosable:!0},(function(e){0===e?n.refs.upload_file.click():n.props.togglePreviewer(AS)}))}else if("upload-image"===a){var o=[h.a.createElement("div",{className:"my-am-action d-flex justify-content-between"},h.a.createElement("span",null,t("Take_a_photo")),h.a.createElement("i",{className:"dtable-font dtable-icon-camera",style:r})),h.a.createElement("div",{className:"my-am-action d-flex justify-content-between"},h.a.createElement("span",null,t("Browse_documents")),h.a.createElement("i",{className:"dtable-font dtable-icon-more-level",style:r})),h.a.createElement("div",{className:"my-am-action d-flex justify-content-center"},t("Cancel"))];n.ActionSheet.showActionSheetWithOptions({options:o,cancelButtonIndex:3,maskClosable:!0},(function(e){0===e?n.refs.camera_upload_image.click():1===e?n.refs.upload_image.click():n.props.togglePreviewer(AS)}))}},n.ActionSheet=Bv.a,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.showActionSheet()}},{key:"componentWillUnmount",value:function(){this.ActionSheet.close(),this.ActionSheet=null}},{key:"render",value:function(){var e=this.props.mode;return"upload-file"===e?h.a.createElement("div",{className:"h-0 o-hidden"},h.a.createElement("input",{type:"file",ref:"upload_file",onClick:this.onInputFile,onChange:this.handleFileChange})):"upload-image"===e?h.a.createElement("div",{className:"h-0 o-hidden"},h.a.createElement("input",{type:"file",accept:"image/*",ref:"upload_image",onClick:this.onInputFile,onChange:this.handleFileChange}),h.a.createElement("input",{type:"file",capture:"camera",accept:"image/*",ref:"camera_upload_image",onClick:this.onInputFile,onChange:this.handleFileChange})):void 0}}]),t}(h.a.Component),YS=Object(I.d)("dtable")(PS),FS="previewer",jS="addition",US=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.onCommit=function(){n.props.onCommit(n.getValue(),n.props.column)},n.deleteImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.state.uploadLocalImageValue.slice(0),r=n.state.value.slice(0);n.state.editorView===FS?r.splice(e,1):"localPicture"===t&&a.splice(e,1),n.setState({uploadLocalImageValue:a,value:r},(function(){n.onCommit()}))},n.generateTimeStamp=function(e){var t=e;return e.indexOf("?a=")>1&&(t=e.slice(0,e.indexOf("?a=")+1)),t+"?a="+Math.random()},n.onRotateImage=function(e,t){if(e>=0&&0!==t){var a=n.state.value[e],r=window.dtable,i=r.workspaceID,o=r.fileName,s=window.dtableWebAPI,l=a.slice(a.indexOf("images/"));s.rotateImage(i,o,l,360-t).then((function(t){t.data&&t.data.success&&n.state.value.splice(e,1,n.generateTimeStamp(a))})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isErrorTip:!0,event:event})}))}},n.resetAdditionImage=function(){n.setState({uploadLocalImageValue:[]})},n.toggle=function(){n.state.editorView===jS?n.togglePreviewer(FS):n.props.closeEditor()},n.togglePreviewer=function(e){n.setState({editorView:e})},n.handleFileChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.persist();var a=t||e.target.files[0];if(a){n.setState({isUploading:!0});var r=new FileReader;r.readAsDataURL(a),n.uploadLocalImage(a).then((function(e){var t=n.state.uploadLocalImageValue.slice(0);t.push(e),n.setState({isUploading:!1,uploadLocalImageValue:t}),n.showImageListPreviewer()}))}},n.uploadLocalImage=function(e){var t="",a=window.dtableWebAPI,r=window.dtable,i=r.workspaceID,o=r.fileName;return a.getTableAssetUploadLink(i,o).then((function(n){var r=n.data.upload_link+"?ret-json=1",i=new File([e],e.name,{type:e.type}),o=new FormData;return t=n.data.parent_path,o.append("parent_dir",t),o.append("relative_path","images"),o.append("file",i),a.uploadImage(r,o)})).then((function(e){return n.getImageURL(e.data[0].name,t)}))},n.getImageURL=function(e,t){var n=window.dtable;return n.server+"/workspace/"+n.workspaceID+t+"/images/"+encodeURIComponent(e)},n.showImageListPreviewer=function(){var e=n.state,t=e.value,a=e.uploadLocalImageValue,r=t.concat(a);n.setState({value:r},(function(){n.onCommit()})),n.togglePreviewer(FS)},n.state={value:e.value||[],editorView:"file_image_addition"!==e.openEditorMode&&e.value&&0!==e.value.length?FS:jS,isUploading:!1,uploadLocalImageValue:[]},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){"r"===window.dtable.permission&&this.setState({editorView:FS})}},{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.value,a=t.editorView,r=t.isUploading;return h.a.createElement("div",{className:"row-expand-view image-editor-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:e("All_Images"),onLeftClick:this.toggle,leftName:h.a.createElement("i",{className:"dtable-font dtable-icon-return"})}),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{ref:"ImageEditorContainer",className:"image-editor-container"},h.a.createElement(nh,{value:n,togglePreviewer:this.togglePreviewer,deleteImage:this.deleteImage,resetAdditionImage:this.resetAdditionImage,onRotateImage:this.onRotateImage,closeEditor:this.toggle}),a===jS&&h.a.createElement(YS,{handleFileChange:this.handleFileChange,togglePreviewer:this.togglePreviewer,mode:"upload-image"}),r&&h.a.createElement(Bv.b,{toast:!0,text:e("Image_is_uploading"),animating:r})))}}]),t}(h.a.Component),HS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).togglePreviewer=function(){n.props.togglePreviewer("addition"),n.props.resetFileValue()},n.state={value:e.value},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.deleteFile,a=e.t;return h.a.createElement("div",{className:"file-previewer-container"},t.length>0&&h.a.createElement("div",{className:"file-previewer-wrapper"},t.map((function(e,t){return h.a.createElement(BS,{key:t,fileItem:e,deleteFile:n,itemIndex:t,t:a})}))),"r"!==window.dtable.permission&&t.length>0&&h.a.createElement("div",{className:"view-partition view-partition-border-top"}),"r"!==window.dtable.permission&&h.a.createElement(Yr,{className:"mobile-add-btn",callBack:this.togglePreviewer,footerName:this.props.t("Add_Files")}))}}]),t}(h.a.Component),BS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).openFile=function(){var e,t=n.props.fileItem,a=t.url,r=window.dtable,i=r.seafileUrl,o=r.repoApiToken;if(a.indexOf("/asset")>-1)e=a.replace("/asset","/asset-preview"),window.open(e,"_blank");else{var s=a.substring(a.lastIndexOf(o)+o.length);Ch.getSeafileRepoInfo().then((function(n){var a=n.data.repo_id,r=n.data.repo_name;e="file"===t.type?i+"/lib/"+a+"/file"+s:i+"/library/"+a+"/"+r+s,window.open(e,"_blank")}))}},n.downloadFile=function(){var e=n.props.fileItem.url,t=e.indexOf("?dl=1");e=-1!==t?e:e+"?dl=1";var a=document.createElement("iframe");a.style.display="none",a.src=e,document.body.appendChild(a)},n.showActionSheet=function(){var e=n.props.t,t="dtable-font dtable-icon-",a=[h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(t,"download")}),e("Download")),h.a.createElement("div",{className:"my-am-action"},h.a.createElement("i",{className:"".concat(t,"delete")}),e("Delete"))];Bv.a.showActionSheetWithOptions({options:a,maskClosable:!0},(function(e){0===e?n.downloadFile():1===e&&n.props.deleteFile(n.props.itemIndex)}))},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.fileItem,t=Zf(e.name,e.type);return h.a.createElement("div",{className:"file-previewer-box"},h.a.createElement("div",{className:"file-previewer-item"},h.a.createElement("div",{className:"file-previewer-icon"},h.a.createElement("img",{src:t,alt:""})),h.a.createElement("div",{className:"file-previewer-info"},h.a.createElement("div",{className:"file-previewer-item-name ".concat("dir"===e.type?"file-previewer-item-name-height":"")},h.a.createElement("span",{onClick:this.openFile},e.name)),e.size&&h.a.createElement("div",{className:"file-previewer-item-size"},$f(e.size)))),h.a.createElement("div",{className:"file-previewer-operation",onClick:this.showActionSheet},h.a.createElement(Bv.e,{type:"ellipsis",size:"xs"})))}}]),t}(h.a.Component),VS=HS,GS="previewer",WS="addition",zS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getValue=function(){var e={};return e[n.props.column.key]=n.state.value,e},n.deleteFile=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=n.state.uploadLocalFileValue.slice(0),a=n.state.value.slice(0);n.state.editorView===GS&&a.splice(e,1),n.setState({uploadLocalFileValue:t,isUpdated:!0,value:a})},n.resetFileValue=function(){n.setState({uploadLocalFileValue:[]})},n.toggle=function(){n.state.isUpdated&&n.props.onCommit(n.getValue(),n.props.column),n.props.closeEditor()},n.togglePreviewer=function(e){n.setState({editorView:e})},n.handleFileChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.persist();var a=t||e.target.files[0];if(a){n.setState({isUploading:!0,isUpdated:!0});var r=new FileReader;r.readAsDataURL(a),n.uploadLocalFile(a).then((function(e){n.setState({isUploading:!1});var t=n.state.uploadLocalFileValue.slice(0);t.push(e),n.setState({uploadLocalFileValue:t}),n.showFileListPreviewer()}))}},n.uploadLocalFile=function(e){var t="",n=window.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName,o=a.server;return n.getTableAssetUploadLink(r,i).then((function(a){var r=a.data.upload_link+"?ret-json=1",i=new File([e],e.name,{type:e.type}),o=new FormData;return t=a.data.parent_path,o.append("parent_dir",t),o.append("relative_path","files"),o.append("file",i),n.uploadImage(r,o)})).then((function(e){var n=e.data[0],a=n.name;return{name:a,size:n.size,url:o+"/workspace/"+r+t+"/files/"+encodeURIComponent(a),type:"file"}}))},n.showFileListPreviewer=function(){var e=n.state,t=e.value,a=e.uploadLocalFileValue,r=t.concat(a);n.setState({value:r}),n.togglePreviewer(GS)},n.state={value:e.value||[],editorView:e.value&&0!==e.value.length?GS:WS,isUploading:!1,uploadLocalFileValue:[],isUpdated:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1),"r"===window.dtable.permission&&this.setState({editorView:GS})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.value,a=t.editorView,r=t.isUploading;return h.a.createElement("div",{className:"row-expand-view image-editor-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:e("All_Files"),onLeftClick:this.toggle,leftName:h.a.createElement("i",{className:"dtable-font dtable-icon-return"})}),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{ref:"ImageEditorContainer",className:"image-editor-container"},h.a.createElement(VS,{value:n,togglePreviewer:this.togglePreviewer,deleteFile:this.deleteFile,resetFileValue:this.resetFileValue,t:e}),a===WS&&h.a.createElement(YS,{handleFileChange:this.handleFileChange,togglePreviewer:this.togglePreviewer,mode:"upload-file"}),r&&h.a.createElement(Bv.b,{toast:!0,text:e("File_is_uploading"),animating:r})))}}]),t}(h.a.Component),qS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleNameChanged=function(e){n.setState({newName:e.target.value})},n.setOptionColor=function(e,t){n.setState({newColor:t})},n.editOption=function(){var e=n.state.newName.trim(),t=n.state.newColor,a=pt.SELECT_OPTION_COLORS.find((function(e){return e.COLOR===t})),r=a?a.TEXT_COLOR:null,i={name:e,color:t,textColor:r};n.props.option&&(i.id=n.props.option.id),n.props.editOption(i),n.setState({newName:"",newColor:""}),n.props.closeEditOption()},n.state={newName:e.option?e.option.name:"",newColor:e.option?e.option.color:"#FFDED5"},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.option,a=t.t,r=this.state,i=r.newName,o=r.newColor;return h.a.createElement("div",{className:"row-expand-view edit-option-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:n&&n.id?a("Edit_option"):a("Add_an_option"),onLeftClick:this.props.closeEditOption,leftName:a("Cancel"),onRightClick:this.editOption,rightName:a("Done")}),h.a.createElement("div",{className:"view-partition"}),h.a.createElement("input",{className:"form-control",type:"text",value:i,onChange:this.handleNameChanged}),h.a.createElement("div",{className:"view-subtitle"},h.a.createElement("span",null,a("Select_a_color"))),h.a.createElement("div",{className:"options-container"},pt.SELECT_OPTION_COLORS.map((function(t,a){var r=t.COLOR,i=t.BORDER_COLOR,s=t.TEXT_COLOR;return h.a.createElement("div",{key:a,className:"option-item",onClick:function(t){e.setOptionColor(t,r)}},h.a.createElement("div",{className:"colorinput"},h.a.createElement("input",{name:"color",type:"radio",value:r,className:"colorinput-input"}),h.a.createElement("span",{className:"colorinput-color",style:{backgroundColor:r,borderColor:i,color:s}})),(0===a&&!n||n&&n.color===r&&!o||o&&o===r)&&h.a.createElement("span",{className:"single-select-check-icon",style:{color:s}},h.a.createElement("i",{className:"dtable-font dtable-icon-check-mark"})))}))))}}]),t}(h.a.Component),KS=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){var t=n.state,a=t.showSingleSelectEditor,r=t.showMultiSelectEditor,i=t.showEditOption,o=t.showCollaboratorEditor,s=t.showLongTextEditor,l=t.showDateEditor,c=t.showImageEditor,u=t.showFileEditor,d=t.showLinkEditor,p=t.showCommonDatasetView;a||r||i||o||s||l||c||u||p||d||(e.preventDefault(),n.props.onRowExpandCancel())},n.openEditor=function(e,t){"r"!==window.dtable.permission&&("edit-option-view"===e?n.setState({showEditOption:!0,editOptionProps:t}):("single-select-option"===e?n.setState({showSingleSelectEditor:!0}):"multiple-select-option"===e?n.setState({showMultiSelectEditor:!0}):"collaborator-select-option"===e?n.setState({showCollaboratorEditor:!0}):"internal-link-option"===e?n.setState({showLinkEditor:!0}):"long-text-view"===e?n.setState({showLongTextEditor:!0}):"date-editor-view"===e?n.setState({showDateEditor:!0}):"image-editor-view"===e?n.setState({showImageEditor:!0}):"file-editor-view"===e?n.setState({showFileEditor:!0}):"common-dataset-view"===e&&n.setState({showCommonDatasetView:!0}),n.setState({editorProps:t})))},n.closeEditor=function(){n.setState({showSingleSelectEditor:!1,showMultiSelectEditor:!1,showCollaboratorEditor:!1,showLinkEditor:!1,showLongTextEditor:!1,showDateEditor:!1,showImageEditor:!1,showFileEditor:!1,showCommonDatasetView:!1})},n.closeEditOption=function(){n.setState({showEditOption:!1})},n.renderHeader=function(){var e=n.props.t;return h.a.createElement("div",{className:"row-expand-view-header"},h.a.createElement("span",{className:"row-expand-view-header-btn",onClick:n.props.onRowExpandCancel},h.a.createElement("i",{className:"dtable-font dtable-icon-return"})),h.a.createElement("h4",{className:"row-expand-view-header-title"},e("Row_Details")),h.a.createElement("span",{className:"row-expand-view-header-btn"}))};var a=new Bv.h.DataSource({rowHasChanged:function(e,t){return e!==t}});return n.state={dataSource:a,editorProps:null,showSingleSelectEditor:!1,showMultiSelectEditor:!1,showEditOption:!1,showCollaboratorEditor:!1,showLinkEditor:!1,showLongTextEditor:!1,showDateEditor:!1,showImageEditor:!1,showFileEditor:!1,showCommonDatasetView:!1,editOptionProps:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.showSingleSelectEditor,a=t.showMultiSelectEditor,r=t.showEditOption,i=t.showCollaboratorEditor,o=t.showLongTextEditor,s=t.showDateEditor,l=t.showImageEditor,c=t.showFileEditor,u=t.showLinkEditor,d=t.showCommonDatasetView,f=t.editorProps,m=this.props.t;return h.a.createElement(p.Fragment,null,h.a.createElement(Bv.h,{className:"am-list row-expand-view",style:{zIndex:ea},dataSource:this.state.dataSource,renderHeader:this.renderHeader,renderBodyComponent:function(){return h.a.createElement(XS,Object.assign({},e.props,{closeEditor:e.closeEditor,openEditor:e.openEditor}))},renderRow:function(){return h.a.createElement("span",null)},pageSize:4,useBodyScroll:!0,onEndReachedThreshold:10,scrollRenderAheadDistance:500}),n&&h.a.createElement(kS,Object.assign({},f,{closeEditor:this.closeEditor,openEditor:this.openEditor,t:m})),a&&h.a.createElement(OS,Object.assign({},f,{closeEditor:this.closeEditor,openEditor:this.openEditor,t:m})),r&&h.a.createElement(qS,Object.assign({},this.state.editOptionProps,{closeEditOption:this.closeEditOption,t:m})),i&&h.a.createElement(MS,Object.assign({},f,{closeEditor:this.closeEditor,t:m})),d&&h.a.createElement(LS,Object.assign({},f,{closeEditor:this.closeEditor,t:m})),u&&h.a.createElement(DS,Object.assign({},f,{closeEditor:this.closeEditor,t:m})),o&&h.a.createElement(RS,Object.assign({},f,{closeEditor:this.closeEditor,t:m})),s&&h.a.createElement(IS,Object.assign({},f,{closeEditor:this.closeEditor,t:m})),l&&h.a.createElement(US,Object.assign({},f,{closeEditor:this.closeEditor,t:m})),c&&h.a.createElement(zS,Object.assign({},f,{closeEditor:this.closeEditor,t:m})))}}]),t}(h.a.Component),XS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onRowExpandCancel()},n.renderHeader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return h.a.createElement("div",{className:"row-expand-item-title"},h.a.createElement(ir,{for:e,className:t},n))},n.createEditor=function(e){var t=n.props,a=t.expandedRow,r=t.formulaRows,i=t.openEditor,o=t.closeEditor,s=t.t,l=e.type,c=e.name;if("single-select"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("single-select","single-select",c),h.a.createElement(QS,{column:e,expandedRow:a,onCommit:n.onCommit,openEditor:i,t:s}));if("long-text"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("long-text","",c),h.a.createElement(tk,{column:e,expandedRow:a,onCommit:n.onCommit,t:s,openEditor:i}));if("image"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("image","",c),h.a.createElement(nk,{column:e,expandedRow:a,onCommit:n.onCommit,t:s,openEditor:i}));if("file"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("file","",c),h.a.createElement(ak,{column:e,expandedRow:a,onCommit:n.onCommit,t:s,openEditor:i}));if("multiple-select"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("multiple-select","multiple-select",c),h.a.createElement(ek,{column:e,expandedRow:a,onCommit:n.onCommit,openEditor:i,t:s}));if("collaborator"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("collaborator","collaborator",c),h.a.createElement(rk,{column:e,expandedRow:a,onCommit:n.onCommit,openEditor:i,closeEditor:o}));if("link-common-dataset"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("link-common-dataset","link-common-dataset",c),h.a.createElement(ik,{column:e,expandedRow:a,onCommit:n.onCommit,openEditor:i,closeEditor:o}));if("number"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("number","",c),h.a.createElement(ZS,{column:e,expandedRow:a,onCommit:n.onCommit,t:s}));if("link"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("link","",c),h.a.createElement(ok,{column:e,expandedRow:a,onCommit:n.onCommit,openEditor:i,closeEditor:o}));if("date"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("date","",c),h.a.createElement($S,{column:e,expandedRow:a,onCommit:n.onCommit,t:s,openEditor:i,closeEditor:o}));if("formula"===l){var u=a._id,d=r?r[u][e.key]:"";return h.a.createElement(p.Fragment,null,n.renderHeader("formula","",c),h.a.createElement("div",{className:"row-expand-item-formula"},d))}if("checkbox"===l){var f,m={onCommit:n.onCommit,column:e,expandedRow:a,mode:"row_expand",value:a[e.key]},g=e.editor;return h.a.isValidElement(g)&&(f=h.a.cloneElement(g,m)),zf(g)&&(f=h.a.createElement(g,m)),h.a.createElement(p.Fragment,null,n.renderHeader("checkbox","",c),h.a.createElement("div",{className:"simple-line-text"},f||""))}if("text"===l){var v,y={onCommit:n.onCommit,column:e,expandedRow:a,mode:"row_expand",value:a[e.key]},_=e.editor;return h.a.isValidElement(_)&&(v=h.a.cloneElement(_,y)),zf(_)&&(v=h.a.createElement(_,y)),h.a.createElement(p.Fragment,null,n.renderHeader("text","simple-text",c),h.a.createElement("div",{className:"simple-line-text"},v||""))}if("creator"===l||"last-modifier"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("Creator","creator",c),h.a.createElement(sk,{column:e,expandedRow:a}));if("ctime"===l||"mtime"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("CTime","",c),h.a.createElement(lk,{column:e,expandedRow:a}));if("geolocation"===l)return h.a.createElement(p.Fragment,null,n.renderHeader("geolocation","",c),h.a.createElement(ck,{column:e,expandedRow:a,t:s,onCommit:n.onCommit}));var b={onCommit:n.onCommit,column:e,expandedRow:a,mode:"row_expand",value:a[e.key]},w=e.editor;return h.a.isValidElement(w)?h.a.cloneElement(w,b):zf(w)?h.a.createElement(w,Object.assign({ref:n.setEditorRef},b)):void 0},n.onCommit=function(e,t){var a=t.key,r=n.modifyData,i={};i[a]=e[t.key],r[t.key]=e[t.key],n.setState({value:r});var o=n.props.expandedRow._id;n.props.onCommit(o,i,n.props.expandedRow)},n.state={value:""},n.modifyData=F()(e.expandedRow),n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.columns.filter((function(e){return"select-row"!==e.key}));return h.a.createElement("div",{className:"am-list-body expand-row-container"},t.map((function(t,n){return h.a.createElement("div",{className:"row-expand-item",key:n,onClick:e.closeEditor},e.createEditor(t))})),h.a.createElement("div",{className:"row-expand-item-title",style:{height:"1rem"}}))}}]),t}(h.a.Component),JS=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("span",{className:"row-expand-item-angle-right"},h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))}}]),t}(h.a.Component),ZS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleEditor=function(){n.setState({isShowEditor:!n.state.isShowEditor})},n.onCommit=function(e,t){n.props.onCommit(e,t),n.setState({value:e[t.key]},(function(){n.setState({isShowEditor:!1})}))},n.renderEditor=function(e){var t={mode:"row_expand",column:e,toggleEditor:n.toggleEditor,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.state={isShowEditor:!1,value:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.column,n=e.expandedRow[t.key];this.setState({value:n})}},{key:"render",value:function(){var e=this.props.column,t=this.state,n=t.value,a=t.isShowEditor,r="";if(n||0===n){var i=e.data&&e.data.format?e.data.format:"number";r=Object(pt.getNumberDisplayString)(n,i)}return h.a.createElement("div",{className:"number-container",onClick:this.toggleEditor},a?this.renderEditor(e):h.a.createElement("div",null,r))}}]),t}(h.a.Component),$S=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).toggleEditor=function(){var e={column:n.props.column,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value};n.props.openEditor("date-editor-view",e)},n.onCommit=function(e,t){n.props.onCommit(e,t),n.setState({value:e[t.key]})};var a=e.column,r=e.expandedRow;return n.state={value:r[a.key]},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.column,n=this.state.value,a=t.data&&t.data.format?t.data.format:"YYYY-MM-DD",r=n?Object(pt.getDateDisplayString)(n,a):"";return h.a.createElement("div",{className:"position-relative",ref:function(t){return e.dateSelectRef=t}},h.a.createElement("div",{onClick:this.toggleEditor,style:{height:"50px",lineHeight:"50px"}},r),h.a.createElement(JS,null))}}]),t}(h.a.Component),QS=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleSelect=function(e){e.preventDefault(),e.stopPropagation();var t=n.state.currentOptionID,a={mode:"mobile",column:n.props.column,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==t?t:n.props.expandedRow[n.props.column.key]};n.props.openEditor("single-select-option",a)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({currentOptionID:e[a]}),n.props.onCommit(e,t)},n.state={currentOptionID:e.expandedRow[e.column.key]||""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.expandedRow,r=t.t,i=this.state.currentOptionID,o=null!==i?i:a[n.key],s=(n.data?n.data.options:[]).find((function(e){if(e.id===o)return e}));return h.a.createElement("div",{className:"position-relative",ref:function(t){return e.singleSelectContainer=t}},h.a.createElement("div",{className:"options-list",id:"single-select",onClick:this.onToggleSelect},o&&s?h.a.createElement("span",{className:"option-item-name single-select-option",style:{backgroundColor:s.color,color:s.textColor||null}},s.name):h.a.createElement("div",{className:"row-expand-btn"},r("Choose_an_option"))),h.a.createElement(JS,null))}}]),t}(h.a.Component),ek=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleSelect=function(e){e.preventDefault(),e.stopPropagation();var t=n.state.currentOptionID,a={mode:"mobile",column:n.props.column,expandedRow:n.props.expandedRow,onCommit:n.onCommit,t:n.props.t,value:null!==t?t:n.props.expandedRow[n.props.column.key]};n.props.openEditor("multiple-select-option",a)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({currentOptionID:e[a]}),n.props.onCommit(e,t)},n.removeOption=function(e,t){t.stopPropagation();var a=n.props,r=a.column,i=a.expandedRow,o=n.state.currentOptionID,s=(null!==o?o:i[r.key]).slice(0);s.splice(e,1);var l={};l[r.key]=s,n.onCommit(l,r)},n.getMultipleSelectList=function(){var e=n.state.currentOptionID,t=n.props,a=t.column,r=t.expandedRow,i=null!==e?e:r[a.key],o="r"===window.dtable.permission,s=a.data?a.data.options:[],l=[];return i=i||[],Array.isArray(i)&&i.forEach((function(e,t){var a=s.find((function(t){return t.id===e}));if(a){var r=a.textColor||null;l.push(h.a.createElement("div",{className:"multiple-select-item",key:"multiple_select_"+t},h.a.createElement("div",{className:"option-item-name multiple-select-option",style:{backgroundColor:a.color,color:r},title:a.name},h.a.createElement("span",{className:"option-item-name-container"},a.name),!o&&h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:n.removeOption.bind(E(n),t)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number",style:{color:"#FFFFFF"===r?r:null}}))))))}})),l},n.state={currentOptionID:null},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.t,r=h.a.createElement("span",{id:"multiple-select-popover-".concat(n.key)}),i=this.getMultipleSelectList(),o=i.length>0?h.a.createElement("div",{className:"options-list mobile-multiple-select",id:"multiple-select",onClick:this.onToggleSelect},i):h.a.createElement("div",{className:"row-expand-btn mobile-multiple-select",onClick:this.onToggleSelect},a("Choose_an_option"));return h.a.createElement("div",{className:"position-relative",ref:function(t){return e.multipleSelectContainer=t}},o,r,h.a.createElement(JS,null))}}]),t}(h.a.Component),tk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onEdit=function(e){if("A"!==e.target.nodeName){var t={column:n.props.column,toggleEditor:n.toggleEditor,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==n.state.longText?n.state.longText:n.props.expandedRow[n.props.column.key]};n.props.openEditor("long-text-view",t)}},n.onCommit=function(e,t){var a=t.key;n.setState({longText:e}),n.convertMarkdown(e.text);var r={};r[a]=e,n.props.onCommit(r,t)},n.convertMarkdown=function(e){xy.process(e).then((function(e){var t=String(e).replace(/<a /gi,'<a target="_blank" ');n.setState({innerHtml:t})}))},n.state={innerHtml:null,longText:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.column,n=e.expandedRow,a=null!==this.state.longText?this.state.longText:n[t.key];a&&a.text&&this.convertMarkdown(a.text)}},{key:"render",value:function(){return this.state.innerHtml?h.a.createElement("div",{className:"long-text-container article my-2",onClick:this.onEdit.bind(this),dangerouslySetInnerHTML:{__html:this.state.innerHtml}}):h.a.createElement("div",{className:"row-expand-btn my-4",onClick:this.onEdit},this.props.t("Edit_text"))}}]),t}(h.a.Component),nk=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).openEditor=function(){var e=n.props.column,t={column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==n.state.imageContainer?n.state.imageContainer:n.props.expandedRow[e.key]};n.props.openEditor("image-editor-view",t)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({imageContainer:e[a]}),n.props.onCommit(e,t)},n.state={imageContainer:null};var a=document.body.offsetWidth;return n.containerSize=a<767.8?(a-52)/2+"px":(a-72)/3+"px",n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.column,a=t.expandedRow,r=t.t,i=null!==this.state.imageContainer?this.state.imageContainer:a[n.key];if(i&&i.length>0){var o=[];return i.forEach((function(t,n){o.push(h.a.createElement("div",{key:"image-"+n,className:"row-expand-item-img",onClick:e.openEditor,style:{height:e.containerSize,width:e.containerSize}},h.a.createElement("img",{alt:"",src:t})))})),h.a.createElement("div",{className:"row-expand-container-img"},o)}return h.a.createElement("div",{className:"row-expand-container-img"},h.a.createElement("div",{onClick:this.openEditor,className:"row-expand-addition-image"},r("Add_images")))}}]),t}(h.a.Component),ak=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).openEditor=function(){var e=n.props.column,t={column:e,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:null!==n.state.fileContainer?n.state.fileContainer:n.props.expandedRow[e.key]};n.props.openEditor("file-editor-view",t)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({fileContainer:e[a]}),n.props.onCommit(e,t)},n.state={fileContainer:null},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=[],n=this.props,a=n.column,r=n.expandedRow,i=n.t,o=null!==this.state.fileContainer?this.state.fileContainer:r[a.key];return o&&o.length>0?o.forEach((function(n,a){var r=Zf(n.name,n.type);t.push(h.a.createElement("div",{key:"file-"+a,className:"row-expand-item-file",onClick:e.openEditor},h.a.createElement("img",{src:r,name:n.name,alt:""})))})):t.push(h.a.createElement("div",{key:"image-addition",onClick:this.openEditor,className:"row-expand-addition-image"},i("Add_files"))),h.a.createElement("div",{className:"row-expand-container-file"},t)}}]),t}(h.a.Component),rk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleSelect=function(e){e.stopPropagation();var t={column:n.props.column,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value};n.props.openEditor("collaborator-select-option",t)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({value:e[a]}),n.props.onCommit(e,t),n.props.closeEditor()},n.renderCollaborators=function(e){var t=window.app.state.collaborators;return Array.isArray(e)&&e.map((function(e,n){var a=t.find((function(t){return t.email===e}));if(a)return h.a.createElement("div",{key:n,className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:a.name,src:a.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},a.name))}))},n.state={value:e.expandedRow[e.column.key]||[]},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"row-expand-collaborators position-relative",onClick:this.onToggleSelect},this.renderCollaborators(this.state.value),h.a.createElement(JS,null))}}]),t}(h.a.Component),ik=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onToggleSelect=function(e){e.stopPropagation();var t={column:n.props.column,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value};n.props.openEditor("common-dataset-view",t)},n.onCommit=function(e,t){var a=Object.keys(e)[0];n.setState({value:e[a]}),n.props.onCommit(e,t),n.props.closeEditor()},n.renderCommonDataset=function(e){var t=n.props.column.data.linked_common_dataset_id,a=window.app.state.linkedCommonDatasets[t];if(!a)return[];var r=a.rows;return Array.isArray(e)&&e.map((function(e,t){var n=r.find((function(t){return t._id===e}));if(n)return h.a.createElement("div",{key:t,className:"collaborator"},h.a.createElement("span",{className:"collaborator-name"},n.Name))}))},n.state={value:e.expandedRow[e.column.key]||[]},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"row-expand-collaborators position-relative",onClick:this.onToggleSelect},this.renderCommonDataset(this.state.value),h.a.createElement(JS,null))}}]),t}(h.a.Component),ok=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).onToggleSelect=function(e){e.stopPropagation();var t={column:n.props.column,expandedRow:n.props.expandedRow,onCommit:n.props.closeEditor,value:n.state.value};n.props.openEditor("internal-link-option",t)},n.getCellValue=function(){return window.app.getLinkCellValue(n.tableID,n.otherTableID,n.props.expandedRow._id)},n.removelink=function(e,t){t.stopPropagation();var a=n.props.expandedRow;window.app.removeLink(n.tableID,n.otherTableID,a._id,n.state.value[e]),n.setState({value:n.getCellValue()})},n.renderLinks=function(){var e=n.props.column,t=n.state.value;if(!Array.isArray(t))return[];var a="r"===window.dtable.permission,r=window.app.getLinkedRows(n.otherTableID,t),i=[];return r.forEach((function(t,r){var o=h.a.createElement("div",{key:r,className:"link"},h.a.createElement("span",{className:"link-name"},t[e.data.display_column_key]),!a&&h.a.createElement("div",{className:"remove-container"},h.a.createElement("span",{className:"remove-icon",onClick:n.removelink.bind(E(n),r)},h.a.createElement("i",{className:"dtable-font dtable-icon-fork-number"}))));i.push(o)})),i};var a=e.column.data,r=a?a.table_id:null,i=a?a.other_table_id:null;return n.tableID=window.app.getSelectedTableId(),n.otherTableID=n.tableID===r?i:r,n.state={value:n.getCellValue(),showLinkSelect:!1},n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"row-expand-links position-relative",onClick:this.onToggleSelect},h.a.createElement("div",{className:"links-formmatter d-block"},this.renderLinks(this.state.value)),h.a.createElement(JS,null))}}]),t}(h.a.Component),sk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).renderCollaborator=function(e){var t=window.app.state.collaborators,n=t&&t.find((function(t){return t.email===e}));return h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:n.name,src:n.avatar_url})),h.a.createElement("span",{className:"collaborator-name"},n.name))},n.state={value:e.expandedRow[e.column.key]?e.expandedRow[e.column.key]:""},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.state.value;return e?h.a.createElement("div",{className:"row-expand-collaborators"},this.renderCollaborator(e)):h.a.createElement("div",{className:"row-expand-collaborators"})}}]),t}(h.a.Component),lk=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.expandedRow,n=e.column,a=t[n.key]?t[n.key]:"",r=a?ft()(a).format("YYYY-MM-DD HH:mm:ss"):null;return h.a.createElement("div",{className:"simple-line-text"},r)}}]),t}(h.a.Component),ck=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleEditor=function(){n.setState({isShowEditor:!n.state.isShowEditor})},n.renderEditor=function(e){var t={mode:"row_expand",column:e,toggleEditor:n.toggleEditor,expandedRow:n.props.expandedRow,onCommit:n.onCommit,value:n.state.value,onCommitCancel:n.toggleEditor},a=e.editor;return h.a.isValidElement(a)?h.a.cloneElement(a,t):zf(a)?h.a.createElement(a,t):void 0},n.onCommit=function(e,t){n.props.onCommit(e,t),n.setState({value:e[t.key]}),n.toggleEditor()},n.isEmpty=function(e){return 0===Object.keys(e).length},n.getLocationInfo=function(e){return(e.province||"")+(e.city||"")+(e.district||"")+(e.detail||"")},n.state={isShowEditor:!1,value:e.expandedRow[e.column.key]||{}},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.t,a=this.state.value;return this.state.isShowEditor?this.renderEditor(t):this.isEmpty(this.state.value)?h.a.createElement("div",{className:"row-expand-btn my-4",onClick:this.toggleEditor},n("Edit_Location")):h.a.createElement("div",{className:"row-expand-btn my-4",onClick:this.toggleEditor},this.getLocationInfo(a))}}]),t}(h.a.Component),uk=Object(I.d)("dtable")(KS),dk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=n.state.value.trim(),e},n.closeDialog=function(){n.props.onCommit(n.getValue(),n.props.column),n.props.closeEditor()},n.onChange=function(e){n.setState({value:e})},n.state={value:e.value||""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props.t;return h.a.createElement("div",{className:"row-expand-view long-text-view",style:{zIndex:ea,backgroundColor:"#f5f5f5"}},h.a.createElement(Vv,{title:this.props.column.name,onLeftClick:this.props.closeEditor,leftName:e("Cancel"),onRightClick:this.closeDialog,rightName:e("Done")}),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{className:"long-text-container"},h.a.createElement(Bv.f,{type:"text",placeholder:this.state.value?"":this.props.t("Please_Input"),value:this.state.value,onChange:this.onChange}),h.a.createElement("div",{style:{borderBottom:"1px solid #e9e9e9"}})))}}]),t}(h.a.PureComponent),pk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault(),n.props.closeEditor()},n.getValue=function(){var e={};return e[n.props.column.key]=Number(n.state.value),e},n.closeDialog=function(){n.props.onCommit(n.getValue(),n.props.column),n.props.closeEditor()},n.onChange=function(e){n.setState({value:e})},n.state={value:e.value||""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props.t;return h.a.createElement("div",{className:"row-expand-view long-text-view",style:{zIndex:ea,backgroundColor:"#f5f5f5"}},h.a.createElement(Vv,{title:this.props.column.name,onLeftClick:this.props.closeEditor,leftName:e("Cancel"),onRightClick:this.closeDialog,rightName:e("Done")}),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{className:"long-text-container"},h.a.createElement(Bv.f,{type:"money",placeholder:this.state.value?"":this.props.t("Please_Input"),value:this.state.value,onChange:this.onChange,moneyKeyboardAlign:"left"}),h.a.createElement("div",{style:{borderBottom:"1px solid #e9e9e9"}})))}}]),t}(h.a.PureComponent),hk=function(e){function t(e){var n;if(v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){e.preventDefault();var t=n.column.type;n.state.showEditOption||"image"===t||n.props.onCellEditorCancel()},n.onCommit=function(e,t){if(n.column&&n.column.type===Xt){var a={};a[n.column.key]=e,e=a}var r=n.modifyData,i={};i[t.key]=e[t.key],r[t.key]=e[t.key];var o=n.props.expandedRow._id;n.props.onCommit(o,i,n.props.expandedRow)},n.openEditor=function(e,t){"edit-option-view"===e&&n.setState({showEditOption:!0,editOptionProps:t})},n.closeEditor=function(){n.props.onCellEditorCancel()},n.closeEditOption=function(){n.setState({showEditOption:!1})},n.state={showEditOption:!1,editOptionProps:null},n.modifyData=F()(e.expandedRow),n.column=null,e.hiddenColumns&&e.hiddenColumns.length>0){var a=e.columns.filter((function(t){return!e.hiddenColumns.includes(t.key)}));n.column=a[e.columnIdx-1]}else n.column=e.columns[e.columnIdx-1];return n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){if(!this.column)return null;var e=this.props,t=e.t,n=e.expandedRow,a={column:this.column,toggleEditor:this.toggleEditor,expandedRow:n,onCommit:this.onCommit,value:n[this.column.key],closeEditor:this.closeEditor,openEditor:this.openEditor,t:t},r=null;switch(this.column.type){case Kt:r=h.a.createElement(kS,a);break;case $t:r=h.a.createElement(OS,a);break;case"text":r=h.a.createElement(dk,a);break;case Xt:r=h.a.createElement(RS,a);break;case Jt:r=h.a.createElement(US,a);break;case Zt:r=h.a.createElement(zS,a);break;case Qt:r=h.a.createElement(MS,a);break;case en:r=h.a.createElement(DS,a);break;case"link-common-dataset":r=h.a.createElement(LS,a);break;case Wt:r=h.a.createElement(pk,a);break;case qt:r=h.a.createElement(IS,a);break;case"geolocation":return null;case tn:case zt:case nn:case an:case rn:case on:default:return null}return h.a.createElement("div",{className:"am-list row-expand-view am-list-view-scrollview",style:{zIndex:ea}},r,this.state.showEditOption&&h.a.createElement(qS,Object.assign({},this.state.editOptionProps,{closeEditOption:this.closeEditOption,t:t})))}}]),t}(h.a.Component),fk=Object(I.d)("dtable")(hk);var mk=Object(I.d)("dtable")((function(e){var t=h.a.createElement("span",{className:"custom-switch-indicator"}),n=h.a.createElement("span",{className:"custom-switch-description text-truncate"},e.t(e.settingKey));return h.a.createElement("label",{className:"custom-switch"},h.a.createElement("input",{type:"checkbox",className:"custom-switch-input",checked:e.selectedValue,onChange:e.handleToggleChange,name:"custom-switch-checkbox"}),"left"===e.switchPosition&&h.a.createElement(p.Fragment,null,t,n),"right"===e.switchPosition&&h.a.createElement(p.Fragment,null,n,t))}));n(1253);var gk=Bv.g.Item,vk={pivot_table:{show:"Table",icon:"dtable-font dtable-icon-dtable-logo",value:"pivot_table",xAxisName:"Row_Grouping",xAxisColumnKey:"groupby_column_key",xAxisDateGranularity:"groupby_date_granularity",xAxisIncludeEmpty:"groupby_include_empty_cells",yAxisName:"Summarize_Method",yAxisSummaryType:"summary_type",yAxisColumnKey:"summary_column_key",yAxisSummaryMethod:"summary_method"},chart_bar:{show:"Chart_Bar",icon:"dtable-font dtable-icon-statistics",value:"chart_bar",xAxisName:"X_Axis",xAxisColumnKey:"x_axis_column_key",xAxisDateGranularity:"x_axis_date_granularity",xAxisIncludeEmpty:"x_axis_include_empty",yAxisName:"Y_Axis",yAxisSummaryType:"y_axis_summary_type",yAxisColumnKey:"y_axis_column_key",yAxisSummaryMethod:"y_axis_summary_method"},chart_line:{show:"Chart_Line",icon:"dtable-font dtable-icon-broken-line",value:"chart_line",xAxisName:"X_Axis",xAxisColumnKey:"x_axis_column_key",xAxisDateGranularity:"x_axis_date_granularity",xAxisIncludeEmpty:"x_axis_include_empty",yAxisName:"Y_Axis",yAxisSummaryType:"y_axis_summary_type",yAxisColumnKey:"y_axis_column_key",yAxisSummaryMethod:"y_axis_summary_method"},chart_pie:{show:"Chart_Pie",icon:"dtable-font dtable-icon-pie",value:"chart_pie",xAxisName:"Row_Grouping",xAxisColumnKey:"groupby_column_key",xAxisDateGranularity:"groupby_date_granularity",xAxisIncludeEmpty:"groupby_include_empty_cells",yAxisName:"Summarize_Method",yAxisSummaryType:"summary_type",yAxisColumnKey:"summary_column_key",yAxisSummaryMethod:"summary_method",show_legend:"show_legend",show_percent:"show_percent"}},yk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){n.state.isMobileCommonSelectToolShow||(e.preventDefault(),n.toggle())},n.onSaveStatistic=function(){var e=n.state.statItem;e.name=n.statItemName.value.trim(),e._id?n.props.editStatistics(e):n.props.addStatisticsItem(e)},n.toggle=function(){n.props.hideEditStatisticView()},n.onChange=function(e){var t=n.state.statItem;t.name=e.target.value,n.setState({statItem:t})},n.setChartTypeData=function(){var e=n.props.t,t=n.state.statItem,a=[];for(var r in vk){var i=vk[r];a.push({value:{chartType:i.value,name:e(i.show)},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("div",null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:i.icon})),h.a.createElement("span",{className:"select-option-name"},e(i.show))),t.type===i.value&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})}n.setState({selectedOptions:a,isMobileCommonSelectToolShow:!0,selectedTitle:e("Chart_Type"),listName:e("Choose_xxx",{select_type:e("Chart_Type")}),selectFunc:n.onSelectChartType,search:!1,placeholder:""})},n.onSelectChartType=function(e){var t=e.chartType,a=n.state.statItem,r=["pivot_table","chart_pie"],i=["chart_bar","chart_line"];if(!(r.findIndex((function(e){return t===e}))>-1&&r.findIndex((function(e){return a.type===e}))>-1||i.findIndex((function(e){return t===e}))>-1&&i.findIndex((function(e){return a.type===e}))>-1)){var o=vk[t].xAxisColumnKey,s=vk[a.type].xAxisColumnKey,l=vk[t].yAxisSummaryType,c=vk[a.type].yAxisSummaryType,u=vk[t].yAxisColumnKey,d=vk[a.type].yAxisColumnKey,p=vk[t].yAxisSummaryMethod,h=vk[a.type].yAxisSummaryMethod,f=vk[t].xAxisDateGranularity,m=vk[a.type].xAxisDateGranularity,g=vk[t].xAxisIncludeEmpty,v=vk[a.type].xAxisIncludeEmpty;a[o]=a[s],a[l]=a[c],a[u]=a[d],a[p]=a[h],a[f]=a[m],a[g]=a[v],delete a[s],delete a[c],delete a[d],delete a[h],delete a[m],delete a[v]}t===vk.chart_pie.value?(a.show_legend=!1,a.show_percent=!1):(Object.prototype.hasOwnProperty.call(a,"show_legend")&&delete a.show_legend,Object.prototype.hasOwnProperty.call(a,"show_percent")&&delete a.show_percent),a.type=t,n.setState({statItem:a}),n.hideMobileCommonSelectTool()},n.setTableData=function(){var e=n.props,t=e.tables,a=e.t,r=n.state.statItem,i=[];t.map((function(e){e&&i.push({value:{tableID:e._id,name:e.name},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("span",{className:"select-option-name"},e.name),r.table_id===e._id&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})})),n.setState({selectedOptions:i,isMobileCommonSelectToolShow:!0,selectedTitle:a("Table"),listName:a("Choose_xxx",{select_type:a("Table")}),selectFunc:n.onSelectTable,search:!1,placeholder:""})},n.onSelectTable=function(e){var t=e.tableID,a=n.props.tables,r=n.state.statItem,i=a.find((function(e){return e._id===t})),o=i.views[0],s=r[vk[r.type].yAxisSummaryType],l=vk[r.type].yAxisColumnKey,c=n.getStatisticsColumns(i),u=vk[r.type].xAxisColumnKey;if(r.table_id=t,r.view_id=o._id,r[u]=c.length>0?c[0].key:"","advanced"===s){var d=n.getSummarizedColumns(i);r[l]=d.length>0?d[0].key:""}n.setState({statItem:r}),n.hideMobileCommonSelectTool()},n.setViewData=function(){var e=n.props,t=e.tables,a=e.t,r=n.state.statItem,i=t.find((function(e){return e._id===r.table_id})).views,o=[];i.forEach((function(e){e&&o.push({value:{viewID:e._id,name:a(e.name)},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("span",{className:"select-option-name"},a(e.name)),r.view_id===e._id&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})})),n.setState({selectedOptions:o,isMobileCommonSelectToolShow:!0,selectedTitle:a("Views"),listName:a("Choose_xxx",{select_type:a("Views")}),selectFunc:n.onSelectView,search:!1,placeholder:""})},n.onSelectView=function(e){var t=e.viewID,a=n.state.statItem;a.view_id=t,n.setState({statItem:a}),n.hideMobileCommonSelectTool()},n.getStatisticsColumns=function(e){var t=e.columns,n=[Xt,Jt,Zt,zt];return t.filter((function(e){return-1===n.indexOf(e.type)}))},n.setGroupbyData=function(){var e=n.props,t=e.tables,a=e.t,r=n.state.statItem,i=t.find((function(e){return e._id===r.table_id})),o=n.getStatisticsColumns(i),s=vk[r.type].xAxisColumnKey,l=[];o.forEach((function(e){l.push({value:{columnKey:e.key,name:e.name,columnType:e.type},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("div",null,n.showColumn(e)),r[s]===e.key&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})})),n.setState({selectedOptions:l,isMobileCommonSelectToolShow:!0,selectedTitle:a(vk[r.type].xAxisName),listName:a("Choose_xxx",{select_type:a(vk[r.type].xAxisName)}),selectFunc:n.onSelectGroupby,search:!0,placeholder:"Find_a_column"})},n.onSelectGroupby=function(e){var t=e.columnKey,a=e.columnType,r=n.state.statItem;r[vk[r.type].xAxisColumnKey]=t,r[vk[r.type].xAxisDateGranularity]=a===qt?pt.STATISTICS_COUNT_TYPE.DAY:null,n.setState({statItem:r}),n.hideMobileCommonSelectTool()},n.setDateGranularityData=function(){var e=n.props.t,t=n.state.statItem,a=[];for(var r in pt.STATISTICS_COUNT_TYPE)a.push({value:{granularity:pt.STATISTICS_COUNT_TYPE[r]},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("span",{className:"select-option-name"},e(pt.STATISTICS_COUNT_SHOW[pt.STATISTICS_COUNT_TYPE[r]])),t[vk[t.type].xAxisDateGranularity]===pt.STATISTICS_COUNT_TYPE[r]&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))});n.setState({selectedOptions:a,isMobileCommonSelectToolShow:!0,selectedTitle:e("Date_Granularity"),listName:e("Choose_xxx",{select_type:e("Date_Granularity")}),selectFunc:n.onSelectGranularity,search:!1})},n.onSelectGranularity=function(e){var t=e.granularity,a=n.state.statItem;a[vk[a.type].xAxisDateGranularity]=t,n.setState({statItem:a}),n.hideMobileCommonSelectTool()},n.getSummarizedColumns=function(e){var t=e.columns,a=n.state.statItem,r=vk[a.type].xAxisColumnKey;return t.filter((function(e){return e.type===Wt&&r!==e.key}))},n.showSummaryTypeActionSheet=function(e){var t=n.props,a=t.t,r=t.tables,i=n.state.statItem,o=vk[i.type],s=o.yAxisSummaryType,l=o.yAxisSummaryMethod,c=o.yAxisColumnKey,u=r.find((function(e){return e._id===i.table_id})),d=[h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":"count"===e})},a(pt.STATISTICS_COUNT_SHOW.count)),h.a.createElement("span",{className:ie()("select-option-name mobile-filterPredicate",{"current-option":"advanced"===e})},a(pt.STATISTICS_COUNT_SHOW.advanced))];Bv.a.showActionSheetWithOptions({options:d,maskClosable:!0},(function(t){if(-1!==t)if(0===t){if("count"===e)return;i[s]="count",delete i[c],delete i[l],n.setState({statItem:i})}else if(1===t){if("advanced"===e)return;i[s]="advanced";var a=n.getSummarizedColumns(u);i[c]=a.length>0?a[0].key:"",i[l]=pt.CALCULATION_METHOD[0],n.setState({statItem:i})}}))},n.setSummarizedColumnData=function(){var e=n.props,t=e.t,a=e.tables,r=n.state.statItem,i=a.find((function(e){return e._id===r.table_id})),o=n.getSummarizedColumns(i),s=[],l=vk[r.type].yAxisColumnKey;o.forEach((function(e){s.push({value:{columnKey:e.key,name:e.name},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("div",null,n.showColumn(e)),r[l]===e.key&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})})),n.setState({selectedOptions:s,isMobileCommonSelectToolShow:!0,selectedTitle:t("Summarized_Field"),listName:t("Choose_xxx",{select_type:t("Summarized_Field")}),selectFunc:n.onSelectSummarizedColumn,search:!0,placeholder:"Find_a_column"})},n.onSelectSummarizedColumn=function(e){var t=e.columnKey,a=n.state.statItem;a[vk[a.type].yAxisColumnKey]=t,n.setState({statItem:a}),n.hideMobileCommonSelectTool()},n.setCalculationMethodData=function(){var e=n.props.t,t=n.state.statItem,a=[],r=vk[t.type].yAxisSummaryMethod;pt.CALCULATION_METHOD.forEach((function(n){a.push({value:{method:n,name:e(pt.STATISTICS_COUNT_SHOW[n])},label:h.a.createElement("div",{className:"select-option-name mobile-single-option"},h.a.createElement("span",{className:"select-option-name"},e(pt.STATISTICS_COUNT_SHOW[n])),t[r]===n&&h.a.createElement("i",{className:"mobile-check-icon dtable-font dtable-icon-check-mark"}))})})),n.setState({selectedOptions:a,isMobileCommonSelectToolShow:!0,selectedTitle:e("Calculation_Method"),listName:e("Choose_xxx",{select_type:e("Calculation_Method")}),selectFunc:n.onSelectCalculationMethod,search:!1,placeholder:""})},n.onSelectCalculationMethod=function(e){var t=e.method,a=n.state.statItem;a[vk[a.type].yAxisSummaryMethod]=t,n.setState({statItem:a}),n.hideMobileCommonSelectTool()},n.hideMobileCommonSelectTool=function(){n.setState({selectedOptions:[],isMobileCommonSelectToolShow:!1,selectedTitle:"",listName:"",selectFunc:""})},n.showColumn=function(e){return h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"header-icon"},h.a.createElement("i",{className:_n[e.type]})),h.a.createElement("span",{className:"select-option-name"},e.name))},n.includeEmptyRowToggle=function(){var e=n.state.statItem;e[vk[e.type].xAxisIncludeEmpty]=!e[vk[e.type].xAxisIncludeEmpty],n.setState({statItem:e})},n.showPercentToggle=function(){var e=n.state.statItem;e[vk[e.type].show_percent]=!e[vk[e.type].show_percent],n.setState({statItem:e})},n.showLegendToggle=function(){var e=n.state.statItem;e[vk[e.type].show_legend]=!e[vk[e.type].show_legend],n.setState({statItem:e})},n.getSettingsFormat=function(e){return e.slice(0,1)+e.slice(1).toLowerCase()},n.state={statItem:F()(e.editingStatItem),selectedOptions:[],isMobileCommonSelectToolShow:!1,selectedTitle:"",listName:"",selectFunc:"",placeholder:"",search:!1},n.clientHeight=document.body.clientHeight,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state,a=n.statItem,r=n.isMobileCommonSelectToolShow,i=n.selectedOptions,o=n.selectedTitle,s=n.listName,l=n.selectFunc,c=n.placeholder,u=n.search,d=this.props.tables.find((function(e){return e._id===a.table_id})),f=d.views,m=d.columns,g=f.find((function(e){return e._id===a.view_id})),v=a[vk[a.type].yAxisSummaryType],y=a[vk[a.type].xAxisColumnKey],_=a[vk[a.type].yAxisColumnKey],b=a[vk[a.type].yAxisSummaryMethod],w=m.find((function(e){return e.key===y})),E=m.find((function(e){return e.key===_})),T=a[vk[a.type].xAxisDateGranularity];return h.a.createElement("div",{className:"mobile-edit-statistic-view",style:{zIndex:ea+1}},h.a.createElement(Vv,{title:t("Chart_settings"),titleClass:"mobile-edit-statistic-header",onLeftClick:this.toggle,leftName:t("Cancel"),onRightClick:this.onSaveStatistic,rightName:t("Save")}),h.a.createElement("div",{className:"mobile-edit-statistic-container",style:{maxHeight:this.clientHeight-50}},h.a.createElement(Bv.g,{renderHeader:function(){return t("Name")},className:"my-list mobile-list-header"},h.a.createElement("div",{className:"mobile-statistic-name"},h.a.createElement("input",{className:"form-control",type:"text",value:t(a.name),ref:function(t){return e.statItemName=t},onChange:this.onChange}))),h.a.createElement(Bv.g,{renderHeader:function(){return e.getSettingsFormat(t("xxx_settings",{setting_type:t("Basic")}))},className:"my-list mobile-list-header"},h.a.createElement(gk,{onClick:this.setChartTypeData},h.a.createElement("span",{className:"edit-statistic-type"},t("Chart_Type")),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("span",{className:"current-value"},t(vk[a.type].show)),h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),h.a.createElement(gk,{onClick:this.setTableData},h.a.createElement("span",{className:"edit-statistic-type"},t("Table")),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("span",{className:"current-value"},d.name),h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),h.a.createElement(gk,{onClick:this.setViewData},h.a.createElement("span",{className:"edit-statistic-type"},t("Views")),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("span",{className:"current-value"},t(g.name)),h.a.createElement("i",{className:"dtable-font dtable-icon-right"})))),h.a.createElement(Bv.g,{renderHeader:function(){return e.getSettingsFormat(t("xxx_settings",{setting_type:t(vk[a.type].xAxisName)}))},className:"my-list mobile-list-header x-axis-settings"},h.a.createElement(gk,{onClick:this.setGroupbyData},h.a.createElement("span",{className:"edit-statistic-type"},t(vk[a.type].xAxisName)),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("div",{className:"edit-axis-column"},w?this.showColumn(w):""),h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),w.type===qt&&h.a.createElement(gk,{onClick:this.setDateGranularityData},h.a.createElement("span",{className:"edit-statistic-type"},t("Date_Granularity")),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("div",{className:"edit-axis-column"},t(pt.STATISTICS_COUNT_SHOW[T])),h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),h.a.createElement(gk,{className:"mobile-custom-switch-container"},h.a.createElement(mk,{selectedValue:a[vk[a.type].xAxisIncludeEmpty]||!1,handleToggleChange:this.includeEmptyRowToggle,settingKey:"Include_Empty",switchPosition:"right"})),"chart_pie"===a.type&&h.a.createElement(p.Fragment,null,h.a.createElement(gk,{className:"mobile-custom-switch-container"},h.a.createElement(mk,{selectedValue:a[vk[a.type].show_legend]||!1,handleToggleChange:this.showLegendToggle,settingKey:"Show_Legend",switchPosition:"right"})),h.a.createElement(gk,{className:"mobile-custom-switch-container"},h.a.createElement(mk,{selectedValue:a[vk[a.type].show_percent]||!1,handleToggleChange:this.showPercentToggle,settingKey:"Show_Percent",switchPosition:"right"})))),h.a.createElement(Bv.g,{renderHeader:function(){return e.getSettingsFormat(t("xxx_settings",{setting_type:t(vk[a.type].yAxisName)}))},className:"my-list mobile-list-header"},h.a.createElement(gk,{onClick:function(){return e.showSummaryTypeActionSheet(v)}},h.a.createElement("span",{className:"edit-statistic-type"},t(vk[a.type].yAxisName)),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("span",{className:"current-value"},t(pt.STATISTICS_COUNT_SHOW[v])),h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),"advanced"===v&&h.a.createElement(p.Fragment,null,h.a.createElement(gk,{onClick:this.setSummarizedColumnData},h.a.createElement("span",{className:"edit-statistic-type"},t("Summarized_Field")),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("div",{className:"edit-axis-column"},E?this.showColumn(E):""),h.a.createElement("i",{className:"dtable-font dtable-icon-right"}))),h.a.createElement(gk,{onClick:this.setCalculationMethodData},h.a.createElement("span",{className:"edit-statistic-type"},t("Calculation_Method")),h.a.createElement("div",{className:"current-value-container"},h.a.createElement("span",{className:"current-value"},t(pt.STATISTICS_COUNT_SHOW[b])),h.a.createElement("i",{className:"dtable-font dtable-icon-right"})))))),r&&h.a.createElement(Ub,{toggle:this.hideMobileCommonSelectTool,t:t,title:o,zIndex:ea+2,listName:this.getSettingsFormat(s),options:i,selectFunc:function(e){return l(e)},search:u,placeholder:c}))}}]),t}(p.Component),_k=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getColumn=function(e,t,n){return pt.TableUtils.getTableById(e,t).columns.find((function(e){return e.key==n}))},n.getScientificNumber=function(e){var t=Math.floor(Math.log(e)/Math.LN10),n=e*Math.pow(10,-t);return t>0&&(t="+"+t),parseFloat(n).toFixed(2)+"e"+t},n.getPieColor=function(){var e=n.props,t=e.statItem,a=e.tableViewList,r=t.table_id,i=t.groupby_column_key,o=window.app.dtableStore.value.tables,s=n.getColumn(o,r,i).type,l=pt.PIE_CHART_COLORS.length-1,c=[];Array.isArray(a)&&a.forEach((function(e,t){var n=e.color;if(s===pt.CellType.SINGLE_SELECT||s===pt.CellType.MULTIPLE_SELECT)c.push(n);else{var a=t;a>l&&(a%=l),c.push(pt.PIE_CHART_COLORS[a])}}))},n.createChart=function(){n.chart=new MC.a.Chart({container:n.mobileContainer,forceFit:!0,width:337,height:220,padding:"auto"})},n.clearChart=function(){n.chart.clear()},n.formatEmptyName=function(e,t){var a=n.props.t,r=[];return Array.isArray(e)&&e.forEach((function(e){var n={};e.name||(n.name=a("Empty")),t&&!e.group_name&&(n.group_name=a("Empty")),r.push(Object.assign({},e,n))})),r},n.drawChart=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.props,i=r.statItem,o=r.tableViewList,s=i.summary_type,l=i.y_axis_summary_type,c=i.summary_method,u=i.y_axis_summary_method,d=i.column_groupby_column_key,p=i.y_axis_use_stack;if(o=n.formatEmptyName(o,d),!s&&l&&(s=l),!c&&u&&(c=u),t=d?"group_name":"#2a67d1",n.chart.source(o,{name:{type:"cat",nice:!1}}),"bar"===e)n.drawBarChart(o,s,c,d,t,p);else if("line"===e)n.drawLineChart(o,s,c,d,t);else if("pie"===e){var h=i.show_legend,f=i.show_percent;n.drawPieChart(o,h,f)}if(a)return n.chart.changeData(o,{name:{type:"cat",nice:!1}}),void n.chart.repaint();n.chart.render()},n.drawBarChart=function(e,t,a,r,i,o){var s,l,c=n.props.t,u=(n.chart._attrs.coord||n.chart._attrs).width;r?(s=jC.getChartGroups(e),l=o?6:9):(s=e,l=6);var d=s.length;if(Math.floor(u/d)<=20){var p=jC.getChartDisplayLabels(u,20,s);d=p.length,n.chart.scale("name",{type:"cat",ticks:p})}n.chart.coord("rect"),r?n.chart.interval().position("name*value").color(i).adjust([{type:o?"stack":"dodge"}]):(n.chart.interval().position("name*value").color(i).tooltip("name*value",(function(e,n){return{name:c("count"===t?"Amount":a),value:n}})),n.chart.tooltip({showTitle:!0,htmlContent:function(e,t){var n="undefined"===e?c("Empty"):e;return'<div class="g2-tooltip">\n                    <div class="g2-toolip-title">'.concat(n,'</div>\n                    <div class="g2-tooltip-content">\n                      <span>').concat(t[0].name,"</span>\n                      <span>").concat(t[0].value,"</span>\n                    </div>\n                  </div>")}})),n.chart.axis("name",{label:{textStyle:{fill:"#000",fontSize:12},autoRotate:!0,rotate:d<l?30:50,formatter:function(e){var t=e;return e.length>10&&(t="".concat(e.slice(0,10),"...")),"undefined"===e&&(t=c("Empty")),t}}})},n.drawLineChart=function(e,t,a,r,i){var o,s=n.props.t,l=(n.chart._attrs.coord||n.chart._attrs).width,c=(o=r?jC.getChartGroups(e):e).length;if(Math.floor(l/c)<21){var u=jC.getChartDisplayLabels(l,20,o);c=u.length,n.chart.scale("name",{type:"cat",ticks:u})}n.chart.coord("rect"),r?(n.chart.line().position("name*value").color(i),n.chart.point().position("name*value").size(3).color(i).shape("circle").style({lineWidth:1,stroke:"#fff"})):(n.chart.line().position("name*value").color(i).tooltip("name*value",(function(e,n){return{name:s("count"===t?"Amount":a),value:n}})),n.chart.point().position("name*value").size(3).color(i).shape("circle").style({lineWidth:1,stroke:"#fff"}).tooltip("name*value",(function(e,n){return{name:s("count"===t?"Amount":a),value:n}})),n.chart.tooltip({showTitle:!0,htmlContent:function(e,t){var n="undefined"===e?s("Empty"):e;return'<div class="g2-tooltip">\n                    <div class="g2-toolip-title">'.concat(n,'</div>\n                    <div class="g2-tooltip-content">\n                      <span>').concat(t[0].name,"</span>\n                      <span>").concat(t[0].value,"</span>\n                    </div>\n                  </div>")}})),n.chart.axis("name",{label:{textStyle:{fill:"#000",fontSize:12},autoRotate:!0,rotate:c<6?30:69,formatter:function(e){var t=e;return e.length>10&&(t="".concat(e.slice(0,10),"...")),"undefined"===e&&(t=s("Empty")),t}}})},n.drawPieChart=function(e,t,a){var r=n.props.t;n.chart.coord("theta",{radius:.75,innerRadius:.7}),n.sum=e.reduce((function(e,t){return e+t.value}),0),t?n.chart.legend({position:"right-bottom",offsetX:-60,formatter:function(e){return e.length>10?"".concat(e.slice(0,6),"..."):"undefined"===e?r("Empty"):e}}):n.chart.legend(!1),n.chart.intervalStack().position("value").color("name",n.getPieColor()).label("name",{offset:-8,textStyle:{fill:"black",fontSize:10,shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},autoRotate:!1,formatter:function(e,t){return a?"".concat(String(t.point.value/n.sum*100).slice(0,4),"%"):""}}).tooltip("name*value",(function(e,t){var i;return i="undeifned"===e?r("Empty"):e,a?{name:i,value:t}:{name:i,value:"".concat(t,"(").concat(String(t/n.sum*100).slice(0,4),"%)")}})),n.chart.tooltip({htmlContent:function(e,t){var n="undefined"===t[0].name?r("Empty"):t[0].name;return'<div>\n                  <span style="background-color:'.concat(t[0].color,';" class="g2-tooltip-marker"></span>\n                  ').concat(n,": ").concat(t[0].value,"\n                </div>")}});var i=parseFloat(n.sum).toFixed(2);n.chart.guide().html({position:["50%","50%"],html:'<div class="g2-guide-html">\n              <span class="title">'.concat(r("Total"),'</span>\n              <span class="value sum-value">').concat(i.length>7?n.getScientificNumber(n.sum):i,"</span>\n            </div>")})},n.chart=null,n.sum=0,n}return S(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){e.type===pt.STATISTICS_TYPE_TABLE&&this.chart&&(this.chart.destroy(),this.chart=null,this.sum=0)}},{key:"componentDidMount",value:function(){if(this.props.type!==pt.STATISTICS_TYPE_TABLE){var e=pt.CHART_MAP[this.props.type];this.createChart(),this.drawChart(e)}}},{key:"updateChart",value:function(e){this.chart.changeData(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.type!==pt.STATISTICS_TYPE_TABLE){var t=pt.CHART_MAP[this.props.type];if(this.chart)return this.clearChart(),void this.drawChart(t,!0);this.createChart(),this.drawChart(t)}else this.chart&&(this.chart.destroy(),this.chart=null,this.sum=0)}},{key:"renderTableView",value:function(){var e=this.props,t=e.pivotResult,n=e.groupByColumn,a=e.columnGroupByColumn;return h.a.createElement("div",{className:"mobile-statistic-table-wrapper"},t&&h.a.createElement(DC,{pivotResult:t,groupByColumn:n,columnGroupByColumn:a}))}},{key:"render",value:function(){var e=this;return this.props.type===pt.STATISTICS_TYPE_TABLE?this.renderTableView():h.a.createElement("div",{className:"mobile-chart-container",ref:function(t){return e.mobileContainer=t}})}}]),t}(p.Component),bk=Object(I.d)("dtable")(_k);n(1254);var wk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleHistaryBack=function(e){n.state.isEditStatisticsViewShow||(e.preventDefault(),n.toggle())},n.addStatisticsItem=function(e){window.app.addStatistics(e),n.hideEditStatisticView()},n.editStatistics=function(e){window.app.editStatistics(n.editingStatItemId,e),n.hideEditStatisticView()},n.deleteStatistics=function(e){window.app.deleteStatistics(e)},n.isVailidStat=function(e){var t=pt.TableUtils.getTableById(n.props.value.tables,e.table_id);if(!t)return!1;var a=e.view_id;if(!t.views.find((function(e){return e._id===a})))return!1;var r=e.groupby_column_key||e.x_axis_column_key,i=e.summary_column_key||e.y_axis_column_key;return!!t.columns.some((function(e){return e.key===r}))&&(!i||t.columns.some((function(e){return e.key===i})))},n.renderStatisticsList=function(){return n.props.value.statistics.map((function(e,t){if(n.isVailidStat(e))return n.renderStatisticItem(e,t)}))},n.renderStatisticItem=function(e,t){var a=n.props.t,r=n.calculateStatTable(e),i=r.tableViewList,o=r.groupByColumn,s=r.columnGroupByColumn,l=r.calculationMethodName,c=r.statName,u=r.newPivotResult,d=a(l||"Amount");return h.a.createElement("div",{className:"mobile-statistic",style:{width:n.clientWidth-10-10},key:t},h.a.createElement("div",{className:"mobile-statistic-header"},h.a.createElement("div",{className:"mobile-statistic-title"},a(c)),h.a.createElement("div",{className:"mobile-statistic-toolbar",onClick:function(){return n.showMobileStatisticToolbar(e)}},h.a.createElement("i",{className:"dtable-font dtable-icon-more-level statistic-dropdown-more"}))),h.a.createElement("div",{className:"mobile-statistic-container"},h.a.createElement(bk,{statItem:e,type:e.type,statisticResultName:d,tableViewList:i,groupByColumn:o,columnGroupByColumn:s,pivotResult:u})))},n.calculateStatTable=function(e){var t,a=e.type,r=e.summary_method,i=n.state.tables,o=[];return"pivot_table"===a?t=pt.PivotTable.calculatePivotTable(e,i):(o=pt.Chart.calculateChart(e,i),jC.formatGroupsLabel(o,e,i)),{tableViewList:o,groupByColumn:jC.getGroupColumn(i,e),columnGroupByColumn:jC.getColumnGroupColumn(i,e),summary_method:r,statName:e.statName?e.statName:e.viewName?e.viewName:e.name,newPivotResult:t}},n.showMobileStatisticToolbar=function(e){var t=n.props.t,a=[h.a.createElement("span",{className:"select-option-name mobile-filterPredicate"},h.a.createElement("i",{className:"dtable-font dtable-icon-rename"}),t("Edit")),h.a.createElement("span",{className:"select-option-name mobile-filterPredicate"},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"}),t("Delete"))];Bv.a.showActionSheetWithOptions({options:a,maskClosable:!0},(function(t){-1!==t&&(0===t?(n.editingStatItemId=e._id,n.setState({isEditStatisticsViewShow:!0,currentStatistic:e})):n.deleteStatistics(e._id))}))},n.toggle=function(){n.props.hideStatisticsView()},n.hideEditStatisticView=function(){n.setState({isEditStatisticsViewShow:!1,currentStatistic:{}})},n.getStatisticsColumns=function(){var e=n.state.tables[n.props.selectedTableIdx].columns,t=[Xt,Jt,Zt,zt];return e.filter((function(e){return-1===t.indexOf(e.type)}))},n.onCreateStatistic=function(){var e=n.state.tables,t=n.props,a=t.selectedTableIdx,r=t.selectedViewIdx,i=e[a],o=n.getStatisticsColumns()[0],s=i.views[r]?i.views[r]:i.views[0],l={name:s.name,table_id:i._id,view_id:s._id,type:"chart_bar",x_axis_column_key:o.key?o.key:"0000",x_axis_date_granularity:null,x_axis_include_empty:!1,x_axis_show_label:!1,y_axis_summary_type:"count"};n.setState({isEditStatisticsViewShow:!0,currentStatistic:l})},n.state={tables:e.value.tables,statisticView:e.value.statistics.length>0,statistics:e.value.statistics,isEditStatisticsViewShow:!1,currentStatistic:{}},n.editingStatItemId="",n.editingStatItem=null,n.clientHeight=document.body.clientHeight,n.clientWidth=document.body.clientWidth,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){history.pushState(null,null,"#"),window.addEventListener("popstate",this.handleHistaryBack,!1),"r"===window.dtable.permission&&this.setState({statisticView:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleHistaryBack,!1)}},{key:"render",value:function(){var e=this.props.t,t="r"===window.dtable.permission,n=this.state,a=n.isEditStatisticsViewShow,r=n.currentStatistic,i=n.tables;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"mobile-statistics-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:e("Statistics"),titleClass:"mobile-statistics-header",onLeftClick:this.toggle,leftName:h.a.createElement("i",{className:"dtable-font dtable-icon-return"})}),h.a.createElement("div",{className:"mobile-statistics-container",style:{height:this.clientHeight-50}},h.a.createElement("div",{className:"mobile-statistics-list"},this.renderStatisticsList()),!t&&h.a.createElement(Yr,{callBack:this.onCreateStatistic,footerName:e("Create_a_new_statistic"),className:"mobile-add-btn"}))),a&&h.a.createElement(yk,{editingStatItem:r,t:e,tables:i,editStatistics:this.editStatistics,hideEditStatisticView:this.hideEditStatisticView,addStatisticsItem:this.addStatisticsItem}))}}]),t}(p.Component),Ek=Object(I.d)("dtable")(wk);var Tk=function(e){return e.content.map((function(t,n){if(e.collaborators[t])return h.a.createElement("div",{key:"new-collaborator-"+n,className:"collaborators-formmatter"},h.a.createElement("div",{className:"formmatter-show"},h.a.createElement("div",{className:"collaborator"},h.a.createElement("span",{className:"collaborator-avatar-container"},h.a.createElement("img",{className:"collaborator-avatar",alt:e.collaborators[t].name,src:e.collaborators[t].avatar_url})),h.a.createElement("span",{className:"collaborator-name"},e.collaborators[t].name))))}))},xk=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onHideDropdownmenu=function(){n.props.onHideOperationLogDropdownmenu()},n.renderItems=function(){var e=n.props,t=e.t,a=[];return e.isSupportRestore&&a.push(h.a.createElement("button",{key:"btn-operation-log-restore",className:"dropdown-item",onClick:n.props.onRestore},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-revoke"}),h.a.createElement("span",{className:"item-text"},t("Restore")))),a},n.renderNone=function(){var e=n.props.t;return h.a.createElement("div",{className:"no-options dropdown-item disabled d-flex justify-content-center align-items-center"},e("No_Options"))},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onHideDropdownmenu)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHideDropdownmenu)}},{key:"render",value:function(){var e=this,t=this.props.style,n={width:150,top:t.top,left:t.left-150},a=this.renderItems();return h.a.createElement("div",{className:"dtable-dropdown-menu dropdown-menu large show",style:n,ref:function(t){return e.dropdownmenuRef=t}},a.length>0?a:this.renderNone())}}]),t}(h.a.Component),Ck=Object(I.d)("dtable")(xk),Sk=[pt.OPERATION_TYPE.DELETE_TABLE,pt.OPERATION_TYPE.DELETE_COLUMN,pt.OPERATION_TYPE.MODIFY_COLUMN_TYPE,pt.OPERATION_TYPE.DELETE_ROW,pt.OPERATION_TYPE.DELETE_ROWS,pt.OPERATION_TYPE.MODIFY_ROW,pt.OPERATION_TYPE.MODIFY_ROWS],kk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getDescriptionOfModifiedRow=function(e,t,a,r,i){var o=(0,n.props.t)("Empty");if(e===pt.CellType.TEXT||e===pt.CellType.DATE||e===pt.CellType.NUMBER)return"".concat(r||0===r?r:o,"  ->  ").concat(a||o);if(e===pt.CellType.LONG_TEXT){var s=a&&a.text&&a.text.length>0?h.a.createElement(xf,{column:t,value:a}):o,l=r&&r.text&&r.text.length>0?h.a.createElement(xf,{column:t,value:r}):o;return h.a.createElement("div",{key:"operate-long-text-descrption-"+i,className:"operate-longtext-descriptoin"},l,h.a.createElement("span",null," -> "),s)}if(e===pt.CellType.COLLABORATOR){var c=n.props.collaborators,u=r?Tk({content:r,collaborators:c}):[],d=a?Tk({content:a,collaborators:c}):[];return h.a.createElement("div",{key:"operation-collaborator-container",className:"operation-collaborator-container"},u.length>0?u:o,h.a.createElement("span",null," -> "),d.length>0?d:o)}if(e===pt.CellType.SINGLE_SELECT){var f=r?h.a.createElement(Sf,{column:t,value:r}):o,m=a?h.a.createElement(Sf,{column:t,value:a}):o;return h.a.createElement(p.Fragment,{key:"operation-collaborate-signle-select-"+i},f,h.a.createElement("span",{className:"left-to-right"},"->"),m)}if(e===pt.CellType.MULTIPLE_SELECT){var g=r&&r.length>0?r.map((function(e,n){return h.a.createElement(Sf,{key:"operate-old-select-option-"+n,column:t,value:e})})):[],v=a&&a.length>0?a.map((function(e,n){return h.a.createElement(Sf,{key:"operate-old-select-option-"+n,column:t,value:e})})):[];return h.a.createElement(p.Fragment,{key:"operate-multiple-select-option-"+i},g.length>0?g:o,h.a.createElement("span",{className:"left-to-right"},"->"),v.length>0?v:o)}return e===pt.CellType.IMAGE?0===a.length?null:h.a.createElement(p.Fragment,{key:"operation-collaborate-image-"+i},a.map((function(e,t){return h.a.createElement("img",{className:"operation-image",key:"image-"+t,alt:"",src:e})}))):e===pt.CellType.FILE?h.a.createElement(p.Fragment,{key:"operation-collaborate-file-"+i},h.a.createElement(Mf,{value:a,column:t})):e===pt.CellType.CHECKBOX?"".concat(r?"true":"fasle"," -> ").concat(a?"true":"fasle"):null},n.getOperateTable=function(e){return n.props.tableMap[e]},n.transformOperation=function(e){var t=n.props.t,a=e.op_type,r=e.table_id,i=n.getOperateTable(r),o="Modified",s="",l="",c=t("Deleted_Table"),u=[],d=t("Empty");switch(a){case pt.OPERATION_TYPE.INSERT_ROW:if(!i){l=t("Insert_New_Row");break}var p=i.rows,f=i.name,m=p.findIndex((function(t){return t._id===e.row_data._id}));l="".concat(t("Insert_New_Row")," ").concat(m+1),c=f;break;case pt.OPERATION_TYPE.INSERT_ROWS:if(!i){l=t("Insert_New_Rows");break}var g=[],v=i.rows,y=i.name;v.forEach((function(t,n){e.row_ids.includes(t._id)&&g.push(n)})),c=y,l="".concat(t("Insert_New_Rows")," ").concat(g.join(", "));break;case pt.OPERATION_TYPE.DELETE_ROW:if(l=t("Delete_Row"),!i)break;var _=e.deleted_row,b=i.columns;if(c=i.name,_){var w=_[b[0].key]||"";l="".concat(t("Delete_Row")," ").concat(w)}break;case pt.OPERATION_TYPE.DELETE_ROWS:if(l=t("Delete_Rows"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MOVE_ROWS:if(l=t("Move_Rows"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MODIFY_ROW:if(l=t("Modify_Row"),!i)break;var E=e.row_id,T=e.updated,x=e.old_row,C=i.name,S=i.rows,k=i.columns;c=C;var O=S.find((function(e){return e._id===E}));if(!O)break;s=O[k[0].key];var M=Object.keys(T)[0],L=k.find((function(e){return e.key===M}));if(!L)break;var D=L.type,R=T[M],N=x?x[M]:d;l=n.getDescriptionOfModifiedRow(D,L,R,N);break;case pt.OPERATION_TYPE.MODIFY_ROWS:if(!i){l=t("Move_Column");break}var I=e.row_ids,A=e.old_rows,P=e.updated,Y=i.name,F=i.rows,j=i.columns;c=Y,I.forEach((function(e){var t=F.find((function(t){return t._id===e}));if(t){var a=Object.keys(P[e]),r=j[0].key;s=t[r];var i=[];a.map((function(t,a){var r=j.find((function(e){return e.key===t}));if(r){var o=r.type,s=r.key,l=P[e][s],c=A[e]?A[e][s]:d,u=n.getDescriptionOfModifiedRow(o,r,l,c,a);i.push(h.a.createElement("div",{key:"rows-modified-description-"+a,className:"row-modified"},u))}})),u.push({title:s,description:i})}}));break;case pt.OPERATION_TYPE.MOVE_GROUP_ROWS:if(l=t("Move_Group_Rows"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.INSERT_COLUMN:if(!i){l=t("Insert_New_Column");break}c=i.name,l="".concat(t("Insert_New_Column"),' "').concat(e.column_data.name,'"');break;case pt.OPERATION_TYPE.RESTORE_COLUMN:if(!i){l=t("Restore_Column");break}c=i.name,l="".concat(t("Restore_Column"),' "').concat(e.new_column.name,'"');break;case pt.OPERATION_TYPE.DELETE_COLUMN:if(!i){l=t("Delete_Column");break}c=i.name,l="".concat(t("Delete_Column"),' "').concat(e.old_column.name,'"');break;case pt.OPERATION_TYPE.RENAME_COLUMN:if(!i){l=t("RENAME_COLUMN");break}var U=e.old_column_name,H=e.new_column_name;c=i.name,l='"'.concat(U,'" ').concat(t("RENAME_COLUMN"),' "').concat(H,'"');break;case pt.OPERATION_TYPE.RESIZE_COLUMN:if(!i){l=t("Modify_Width");break}var B=e.column_key,V=e.new_column_width;c=i.name;var G=i.columns.find((function(e){return e.key===B}));if(!G){l="".concat(t("Modify_Width"),' "').concat(V,'"px');break}l='"'.concat(G.name,'" ').concat(t("Modify_Width"),' "').concat(V,'"px');break;case pt.OPERATION_TYPE.FREEZE_COLUMN:if(l=t("Freeze_Column"),!i)break;c=i.name;var W=i.columns.find((function(t){return t.key===e.column_key}));if(!W)break;l="".concat(t("Freeze_Column"),' "').concat(W.name,'"');break;case pt.OPERATION_TYPE.MODIFY_COLUMN_DATA:if(l=t("Modify_Column_Data"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MOVE_COLUMN:if(l=t("Move_Column"),!i)break;c=i.name;var z=i.columns.find((function(t){return t.key===e.moved_column_key}));if(!z)break;l="".concat(t("Move_Column"),' "').concat(z.name,'"');break;case pt.OPERATION_TYPE.MODIFY_COLUMN_TYPE:if(!i){l=t("Modify_Column_Type");break}c=i.name,l="".concat(t("Column"),' "').concat(e.old_column.name,'" ').concat(t("Modify_Column_Type"));break;case pt.OPERATION_TYPE.INSERT_TABLE:o="Add",c=e.table_data.name||e.table_data.title,l="".concat(t("Insert_Table"),' "').concat(c,'"');break;case pt.OPERATION_TYPE.RENAME_TABLE:if(!i){l=t("Rename_Table");break}c=i.name,l="".concat(t("Rename_Table")," ").concat(t("To")," ").concat(e.table_name);break;case pt.OPERATION_TYPE.DELETE_TABLE:c=e.table_name,l="".concat(t("Delete_Table"),' "').concat(e.table_name,'"');break;case pt.OPERATION_TYPE.MOVE_TABLE:c=e.moved_table.name||e.moved_table.title,l="".concat(t("Move_Table"),' "').concat(c,'"');break;case pt.OPERATION_TYPE.INSERT_VIEW:if(!i){l=t("Add_View");break}c=i.name,l="".concat(t("Add_View"),' "').concat(e.view_data.name,'"');break;case pt.OPERATION_TYPE.MOVE_VIEW:if(!i){l=t("Move_View");break}c=i.name,l="".concat(t("Move_View"),' "').concat(e.moved_view.name,'"');break;case pt.OPERATION_TYPE.RENAME_VIEW:if(!i){l=t("Rename_View");break}var q=e.view_name,K=e.view_data;c=i.name;var X=q||K.name;l="".concat(t("Rename_View")," ").concat(t("To"),' "').concat(X,'"');break;case pt.OPERATION_TYPE.DELETE_VIEW:if(!i){l=t("Delete_View");break}c=i.name,l="".concat(t("Delete_View")," '").concat(e.view_name,"'");break;case pt.OPERATION_TYPE.MODIFY_FILTERS:if(l=t("Modify_Filters"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MODIFY_HIDDEN_COLUMNS:if(l=t("Modify_Hidden_Columns"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MODIFY_SORTS:if(l=t("Modify_Sorts"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.ADD_STATISTICS:o="Add",c=t("Statistics"),l="".concat(t("Add_Statistic")," ").concat(e.stat_item.name);break;case pt.OPERATION_TYPE.DELETE_STATISTICS:c=t("Statistics"),l="".concat(t("Delete_Statistic")," ").concat(e.stat_name);break;case pt.OPERATION_TYPE.EDIT_STATISTICS:c=t("Statistics"),l="".concat(t("Edit_Statistic"),' "').concat(e.stat_item.name,'"');break;case pt.OPERATION_TYPE.MODIFY_GROUPBYS:if(l=t("Modify_Group"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MODIFY_VIEW_LOCK:if(l=t("Modify_View_Lock"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MODIFY_HEADER_LOCK:if(l=t("Modify_Header_Lock"),!i)break;c=i.name;break;case pt.OPERATION_TYPE.MODIFY_DTABLE_DESCRIPTION:c=t("Table_description"),l=t("Modify_table_description")}return a!==pt.OPERATION_TYPE.MODIFY_ROWS&&(u=[{title:s,description:l}]),{op_type:o,content:u,head:c}},n.isSupportRestore=function(e,t){return!!(ft()().diff(e,"day")+1<4&&Sk.includes(t))},n.onRestore=function(){var e=n.props.operationItem,t=JSON.parse(e.operation);n.props.onRestore(t)},n.onOperationLogDropdownmenuToggle=function(){var e=n.btnOperationLogDropdownmenu.getBoundingClientRect(),t=e.top,a=e.height,r=e.left,i=e.width;n.setState({isShowOperationLogDropdownmenu:!n.state.isShowOperationLogDropdownmenu,operationLogDropdownmenuStyle:{top:t+a,left:r-i}})},n.onHideOperationLogDropdownmenu=function(){n.setState({isShowOperationLogDropdownmenu:!1})},n.state={isShowOperationLogDropdownmenu:!1},n.isTableReadOnly="r"===window.dtable.permission,n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.operationItem,a=t.collaborators,r=t.t,i=a[n.author],o=JSON.parse(n.operation),s=this.transformOperation(o),l=s.op_type,c=s.content,u=s.head,d=window.dtable.mediaUrl+"avatars/default.png",f=i?i.avatar_url:d,m=i?i.name:n.author,g=this.isSupportRestore(n.op_time,o.op_type);return h.a.createElement("div",{className:"operation-log-item"},h.a.createElement("div",{className:"operation-log-item-title"},h.a.createElement("img",{className:"operation-log-item-avartar",src:f,alt:""})),h.a.createElement("div",{className:"operation-log-item-body"},h.a.createElement("div",{className:"operation-log-item-head d-flex"},h.a.createElement("span",{className:"operation-operator"},m),h.a.createElement("span",{className:"operation-name"},r(l)),h.a.createElement("span",{className:"operation-table"},u)),h.a.createElement("div",{className:"operation-log-item-time d-flex justify-content-center"},h.a.createElement("div",{className:"time-content"},ft()(o.op_time).format("YYYY-MM-DD HH:mm")),!this.isTableReadOnly&&h.a.createElement("span",{className:"btn-log-dropdownmenu",onClick:this.onOperationLogDropdownmenuToggle,ref:function(t){return e.btnOperationLogDropdownmenu=t}},h.a.createElement("i",{className:"dtable-font dtable-icon-more-level"}))),h.a.createElement("div",{className:"operation-log-item-content"},c.map((function(e,t){return h.a.createElement(p.Fragment,{key:"operation-content-fragment-title"+t},h.a.createElement("div",{className:"operation-log-item-content-title"},e.title),h.a.createElement("div",{className:"operation-log-item-content-body"},e.description))})))),this.state.isShowOperationLogDropdownmenu&&h.a.createElement(Dm,null,h.a.createElement(Ck,{isSupportRestore:g,onRestore:this.onRestore,style:this.state.operationLogDropdownmenuStyle,onHideOperationLogDropdownmenu:this.onHideOperationLogDropdownmenu})))}}]),t}(h.a.Component),Ok=Object(I.d)("dtable")(kk),Mk=(n(1255),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).transformCollaborators=function(){var e={};return n.props.collaborators.map((function(t){e[t.email]=t})),e},n.transformTables=function(){var e={};return n.props.value.tables.map((function(t){var n=t._id||t._tid;e[n]={name:t.name,rows:t.rows,columns:t.columns}})),e},n.listTableOperations=function(){window.app.dtableStore.getTableOperations(n.operationPage).then((function(e){var t=e.data.operations;t.length<25&&(n.hasRestOperations=!1),t.length<=25&&(t=t.filter((function(e){return JSON.parse(e.operation).op_type!==pt.OPERATION_TYPE.UPDATE_DEFAULT_DATA}))),n.setState({operationsList:n.state.operationsList.concat(t),isShowLoading:!1}),n.operationPage++,n.flag=!0})).catch((function(e){n.hasRestOperations=!1,n.setState({isShowLoading:!1});var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))}))},n.onScroll=function(){n.hasRestOperations&&n.flag&&n.wrapper.offsetHeight+n.wrapper.scrollTop>=n.container.offsetHeight&&(n.flag=!1,n.setState({isShowLoading:!0},(function(){n.listTableOperations()})))},n.onRestore=function(e){var t=n.props,a=t.value,r=t.t,i=e.op_type,o=e.table_id,s=a.tables,l=window.app.dtableStore,c=pt.TableUtils.getTableById(s,o),u=["_creator","_ctime","_last_modifier","_mtime"],d=!1;if(i===pt.OPERATION_TYPE.DELETE_TABLE)if(c)Za.danger(r("Table_has_already_been_restored"));else{var p=e.deleted_table;l.restoreTable(p),d=!0}else{if(!c)return void Za.danger(r("Table_xxx_has_been_deleted"));var h=s.findIndex((function(e){return e._id===o}));switch(i){case pt.OPERATION_TYPE.DELETE_COLUMN:var f=e.upper_column_key,m=e.old_column,g=c.columns;if(g.find((function(e){return e.key===m.key}))){Za.danger(r("Column_has_already_been_restored"));break}g.find((function(e){return e.key===f}))||(f=g[g.length-1].key),l.restoreColumn(h,f,m),d=!0;break;case pt.OPERATION_TYPE.MODIFY_COLUMN_TYPE:var v=e.column_key,y=e.new_column,_=e.old_column,b=e.old_rows_data,w=c.columns.find((function(e){return e.key===v}));if(!w){Za.danger(r("Column_has_been_deleted"));break}if(w.type===_.type){Za.danger(r("Column_type_has_already_been_restored"));break}l.restoreColumnType(h,v,_,y,b),d=!0;break;case pt.OPERATION_TYPE.DELETE_ROW:var E=e.row_id,T=e.upper_row_id,x=e.deleted_row,C=c.rows;if(C.find((function(e){return e._id===E}))){Za.danger(r("Row_has_already_been_restored"));break}if(!C.find((function(e){return e._id===T}))){var S=C[C.length-1]||{};T=S._id}l.insertRow(h,T,"insert_below",x),d=!0;break;case pt.OPERATION_TYPE.DELETE_ROWS:var k=e.row_ids,O=e.upper_row_ids,M=e.deleted_rows,L=c.rows;if(k.some((function(e){return L.findIndex((function(t){return t._id===e}))>-1}))){Za.danger(r("Rows_has_already_been_restored"));break}l.restoreRows(h,O,"insert_below",M),d=!0;break;case pt.OPERATION_TYPE.MODIFY_ROW:var D=e.row_id,R=e.old_row,N=e.updated,I=c.rows.find((function(e){return e._id===D}));if(!I){Za.danger(r("Row_has_been_deleted"));break}var A=Object.keys(N);if(0===Object.keys(R).length&&0!==A.length&&A.forEach((function(e){u.includes(e)||(R[e]=null)})),Object.keys(R).every((function(e){return R[e]===I[e]}))){Za.danger(r("Row_modifications_has_already_been_restored"));break}l.modifyRow(h,D,R,N),d=!0;break;case pt.OPERATION_TYPE.MODIFY_ROWS:var P=e.row_ids,Y=e.old_rows,F=e.updated,j=c.rows,U=[];if(P.forEach((function(e){var t=j.find((function(t){return t._id===e}));t&&U.push(t)})),0===U.length){Za.danger(r("Rows_has_been_deleted"));break}var H=!0;if(U.forEach((function(e){var t=Y[e._id],n=F[e._id],a=Object.keys(n);0===Object.keys(t).length&&0!==a.length&&(a.forEach((function(e){u.includes(e)||(t[e]=null)})),Y[e._id]=t),H&&!Object.keys(t).every((function(n){return t[n]===e[n]}))&&(H=!1)})),H){Za.danger(r("Rows_modifications_has_already_been_restored"));break}l.modifyRows(h,P,Y,F),d=!0}}d&&Za.success(r("Restored_successfully"))},n.collaboratorsMap=n.transformCollaborators(),n.tableMap=n.transformTables(),n.operationPage=1,n.flag=!0,n.hasRestOperations=!0,n.state={isShowLoading:!0,operationsList:[]},n}return S(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.container=null,this.wrapper=null}},{key:"componentDidMount",value:function(){this.listTableOperations()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isShowLoading,a=t.operationsList,r=this.props.t;return h.a.createElement("div",{className:"operations-container",style:{zIndex:2}},h.a.createElement("div",{className:"operations-header"},h.a.createElement("span",null,r("Operation_Log")),h.a.createElement("span",{onClick:function(){return e.props.toggleDialog("")},className:"operation-close"},h.a.createElement("i",{className:"dtable-font dtable-icon-x"}))),h.a.createElement("div",{onScroll:this.onScroll,ref:function(t){return e.wrapper=t},className:"operation-wraper"},h.a.createElement("div",{ref:function(t){return e.container=t}},!n&&0===a.length&&h.a.createElement("p",{className:"d-flex justify-content-center pt-2"},r("No_Operation_Log")),a.length>0&&a.map((function(t,n){return h.a.createElement(Ok,{key:"operation-log-item-".concat(n),tableMap:e.tableMap,collaborators:e.collaboratorsMap,operationItem:t,onRestore:e.onRestore})}))),n&&h.a.createElement(Dh,null)))}}]),t}(h.a.Component)),Lk=Object(I.d)("dtable")(Mk),Dk=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onViewSnapshot=function(){var e=window.dtable,t=e.workspaceID,a=e.fileName,r=e.server,i=n.props.snapshot,o="".concat(r,"/dtable/snapshots/workspace/").concat(t,"/dtable/").concat(a,"/").concat(i.commit_id,"/");window.open(o)},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.snapshot,n=e.t;return h.a.createElement("div",{className:"snapshot-item",onClick:this.onViewSnapshot},h.a.createElement("span",null,ft()(t.ctime).format("YYYY-MM-DD HH:mm")),h.a.createElement("span",{className:"snapshot-item-text"},n("View")))}}]),t}(h.a.Component),Rk=Object(I.d)("dtable")(Dk),Nk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).loadSnapshots=function(e,t){var a=window.dtable,r=a.workspaceID,i=a.fileName,o=window.dtableWebAPI,s=n.props.t;o.listDTableSnapshots(r,i,e,t).then((function(e){var t=n.state.snapshots.slice(0);t=t.concat(e.data.snapshot_list),n.setState({snapshots:t,page:e.data.page_info.current_page,hasNextPage:e.data.page_info.has_next_page,isSnapshotsLoading:!1}),n.flag=!0})).catch((function(e){n.setState({isSnapshotsLoading:!1});var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(s(t))}))},n.onHandleScroll=function(){if(n.state.hasNextPage&&n.flag&&n.snapshotList.offsetHeight+n.snapshotList.scrollTop+1>=n.snapshotContainer.offsetHeight){n.flag=!1;var e=n.state.page+1;n.setState({isSnapshotsLoading:!0},(function(){n.loadSnapshots(e,n.state.perPage)}))}},n.state={isSnapshotsLoading:!0,snapshots:[],page:1,perPage:20,hasNextPage:!1},n.flag=!0,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.page,n=e.perPage;this.loadSnapshots(t,n)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isSnapshotsLoading,a=t.snapshots,r=this.props.t;return h.a.createElement("div",{className:"operations-container",style:{zIndex:2}},h.a.createElement("div",{className:"operations-header"},h.a.createElement("span",null,r("Snapshots")),h.a.createElement("span",{onClick:function(){return e.props.toggleDialog("")},className:"operation-close"},h.a.createElement("i",{className:"dtable-font dtable-icon-x"}))),h.a.createElement("div",{className:"snapshots",onScroll:this.onHandleScroll,ref:function(t){return e.snapshotList=t}},!n&&0===a.length&&h.a.createElement("p",{className:"d-flex justify-content-center pt-2"},r("No_Snapshots")),h.a.createElement("div",{ref:function(t){return e.snapshotContainer=t},className:"position-relative"},a.length>0&&a.map((function(e,t){return h.a.createElement(Rk,{snapshot:e,key:"snapshot".concat(t)})}))),n&&h.a.createElement(Dh,null)))}}]),t}(h.a.Component),Ik=Object(I.d)("dtable")(Nk),Ak=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getOpUser=function(){var e=n.props,t=e.deletedRow,a=e.collaborators,r=t.op_user,i=a.find((function(e){return e.email===r}))||{},o=i.name,s=i.avatar_url,l=window.dtable.mediaUrl;return h.a.createElement("div",{className:"deleted-row-operator"},h.a.createElement("span",{className:"operator-avatar-content"},h.a.createElement("img",{className:"operator-avatar",alt:o||"anonymous",src:s||"".concat(l,"/avatars/default.png")})),h.a.createElement("span",{className:"operator-name"},o||"anonymous"))},n.getOpContent=function(){var e=n.props,t=e.deletedRow,a=e.t,r=t.detail,i=r.table_name,o=r.row_name;return h.a.createElement("div",{className:"deleted-row-description"},a("From_xxx_delete_a_row_xxx",{table_name:i,row_name:o}))},n.onRestoreRow=function(){var e=n.props,t=e.deletedRow,a=e.tables,r=e.toggle,i=e.t,o=t.detail,s=t.row_id,l=o.table_id,c=o.row_data,u=o.table_name,d=o.row_name,p=a.findIndex((function(e){return e._id===l}));if(p<0)Za.danger(i("Table_xxx_has_been_deleted",{table_name:u}));else{var h=a.find((function(e){return e._id===l})).rows;if(h.findIndex((function(e){return e._id===s}))>-1)Za.danger(i("Row_xxx_has_been_restored",{row_name:d}));else{var f=h.length,m=h[f-1],g=m?m._id:"",v={_id:s};c.forEach((function(e){var t=e.column_key,n=e.value;v[t]=n})),window.app.dtableStore.insertRow(p,g,"insert_below",v),window.app.onSelectTable(p),setTimeout((function(){window.app.scrollToRestoreRow(f),r()}),500)}}},ft.a.locale(window.dtable.lang),n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.deletedRow,n=e.t,a=t.op_time;return h.a.createElement("div",{className:"deleted-row"},this.getOpUser(),this.getOpContent(),h.a.createElement("div",{className:"deleted-row-date"},ft()(a).fromNow()),h.a.createElement("div",{className:"deleted-row-restore"},h.a.createElement("span",{onClick:this.onRestoreRow},n("Restore"))))}}]),t}(h.a.Component),Pk=Object(I.d)("dtable")(Ak),Yk=(n(1256),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onScroll=function(){n.hasRestDeletedRows&&!n.state.isShowLoading&&n.deletedRows.offsetHeight+n.deletedRows.scrollTop>=n.deletedRowsContent.offsetHeight&&n.setState({isShowLoading:!0},(function(){n.listdeletedRows(n.page,25)}))},n.listdeletedRows=function(e,t){window.app.dtableStore.dtableAPI.listDeletedRows(e,t).then((function(e){var t=n.state.deletedRows;t.slice(0);var a=e.data.deleted_rows;Array.isArray(a)?n.setState({deletedRows:t.concat(a),isShowLoading:!1},(function(){n.page++,a.length<25&&(n.hasRestDeletedRows=!1)})):Za.danger(n.props.t("Type_Error"))})).catch((function(e){n.setState({isShowLoading:!1});var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))}))},n.toggle=function(){n.props.toggleDialog("")},n.state={deletedRows:[],isShowLoading:!0},n.page=1,n.deletedRows=null,n.deletedRowsContent=null,n.hasRestDeletedRows=!0,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.listdeletedRows(this.page,25)}},{key:"componentWillUnmount",value:function(){this.deletedRows=null,this.deletedRowsContent=null}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.collaborators,r=t.tables,i=this.state,o=i.deletedRows,s=i.isShowLoading;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"deleted-rows-dialog"},h.a.createElement(xr,{toggle:this.toggle},n("Deleted_Rows")),h.a.createElement(kr,null,s||0!==o.length?h.a.createElement("div",{className:"deleted-rows-container"},h.a.createElement("div",{className:"deleted-rows-header deleted-row"},h.a.createElement("div",{className:"deleted-row-operator"},n("Deleted_Records")),h.a.createElement("div",{className:"deleted-row-description"}),h.a.createElement("div",{className:"deleted-row-date"},n("Time")),h.a.createElement("div",{className:"deleted-row-restore"})),h.a.createElement("div",{className:"deleted-rows",ref:function(t){return e.deletedRows=t},onScroll:this.onScroll},h.a.createElement("div",{className:"deleted-rows-content",ref:function(t){return e.deletedRowsContent=t}},o.map((function(t,n){return h.a.createElement(Pk,{key:n,deletedRow:t,collaborators:a,tables:r,toggle:e.toggle})})),s&&h.a.createElement(Dh,null)))):h.a.createElement("div",{className:"no-deleted-rows"},n("No_deleted_rows"))))}}]),t}(h.a.Component)),Fk=Object(I.d)("dtable")(Yk),jk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).getOpUser=function(){var e=n.props,t=e.deletedRow,a=e.collaborators,r=t.op_user,i=a.find((function(e){return e.email===r})),o=window.dtable.mediaUrl;return h.a.createElement("div",{className:"op-user-img-view"},h.a.createElement("img",{src:i?i.avatar_url:"".concat(o,"/avatars/default.png"),alt:"",width:"32",height:"32",className:"avatar"}))},n.getOpDescription=function(){var e=n.props,t=e.deletedRow,a=e.t,r=e.collaborators,i=t.detail,o=t.op_time,s=t.op_user,l=i.table_name,c=i.row_name,u=r.find((function(e){return e.email===s}));return h.a.createElement("div",{className:"deleted-row-content-view"},h.a.createElement("div",{className:"deleted-row-time"},h.a.createElement("span",{className:"deleted-row-op-user"},u?u.name:"anonymous"),h.a.createElement("span",{className:"deleted-row-op-time"},h.a.createElement("time",{datetime:o,is:"relative-time",title:ft()(o).format("llll")},ft()(o).fromNow()))),h.a.createElement("div",{className:"deleted-row-description-view"},h.a.createElement("span",{className:"description"},a("From_xxx_delete_a_row_xxx",{table_name:l,row_name:c})),h.a.createElement("span",{className:"restore",onClick:n.onRestoreRow},a("Restore"))))},n.onRestoreRow=function(){var e=n.props,t=e.deletedRow,a=e.tables,r=e.toggle,i=e.t,o=t.detail,s=t.row_id,l=o.table_id,c=o.row_data,u=o.table_name,d=o.row_name,p=a.findIndex((function(e){return e._id===l}));if(p<0)Za.danger(i("Table_xxx_has_been_deleted",{table_name:u}));else{var h=a.find((function(e){return e._id===l})).rows;if(h.findIndex((function(e){return e._id===s}))>-1)Za.danger(i("Row_xxx_has_been_restored",{row_name:d}));else{var f=h.length,m=h[f-1],g=m?m._id:"",v={_id:s};c.forEach((function(e){var t=e.column_key,n=e.value;v[t]=n})),window.app.dtableStore.insertRow(p,g,"insert_below",v),window.app.onSelectTable(p),setTimeout((function(){window.app.scrollToRestoreRow(f),r()}),500)}}},ft.a.locale(window.dtable.lang),n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"deleted-row-view"},this.getOpUser(),this.getOpDescription())}}]),t}(h.a.Component),Uk=Object(I.d)("dtable")(jk);n(1257);var Hk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onScroll=function(){n.hasRestDeletedRows&&!n.state.isShowLoading&&n.deletedRows.offsetHeight+n.deletedRows.scrollTop>=n.deletedRowsContent.offsetHeight&&n.setState({isShowLoading:!0},(function(){n.listdeletedRows(n.page,25)}))},n.listdeletedRows=function(e,t){window.app.dtableStore.dtableAPI.listDeletedRows(e,t).then((function(e){var t=n.state.deletedRows;t.slice(0);var a=e.data.deleted_rows;Array.isArray(a)?n.setState({deletedRows:t.concat(a),isShowLoading:!1},(function(){n.page++,a.length<25&&(n.hasRestDeletedRows=!1)})):Za.danger(n.props.t("Type_Error"))})).catch((function(e){n.setState({isShowLoading:!1});var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))}))},n.toggle=function(){n.props.toggleDialog("")},n.state={deletedRows:[],isShowLoading:!0},n.page=1,n.deletedRows=null,n.deletedRowsContent=null,n.hasRestDeletedRows=!0,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.listdeletedRows(this.page,25)}},{key:"componentWillUnmount",value:function(){this.deletedRows=null,this.deletedRowsContent=null}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.collaborators,r=t.tables,i=this.state,o=i.deletedRows,s=i.isShowLoading;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"mobile-deleted-rows-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:n("Deleted_Rows"),onLeftClick:this.toggle,leftName:h.a.createElement("i",{className:"dtable-font dtable-icon-return"})}),h.a.createElement("div",{className:"deleted-rows-view",ref:function(t){return e.deletedRows=t},onScroll:this.onScroll,style:{height:document.body.clientHeight-50}},h.a.createElement("div",{className:"deleted-rows-content-view",ref:function(t){return e.deletedRowsContent=t}},s||0!==o.length?h.a.createElement(p.Fragment,null,o.map((function(t,n){return h.a.createElement(Uk,{key:n,deletedRow:t,collaborators:a,tables:r,toggle:e.toggle})})),s&&h.a.createElement(Dh,null)):h.a.createElement("div",{className:"no-deleted-rows"},n("No_deleted_rows"))))))}}]),t}(p.Component),Bk=Object(I.d)("dtable")(Hk),Vk=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.historyShowType,n=e.collaborators,a=e.value,r=e.toggleDialog;switch(t){case uC.OPERATIONS:return h.a.createElement(Dm,null,h.a.createElement(Lk,{collaborators:n,value:a,toggleDialog:r}));case uC.SNAPSHOTS:return h.a.createElement(Dm,null,h.a.createElement(Ik,{toggleDialog:r}));case uC.DELETED_ROWS:var i=window.isMobile?Bk:Fk;return h.a.createElement(i,{toggleDialog:r,collaborators:n,tables:a.tables});default:return""}}}]),t}(h.a.Component),Gk=Object(I.d)("dtable")(Vk),Wk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).closeDialog=function(){if(n.hasEditorChange()){var e=n.editor.getMarkdown();n.props.onModifyDTableDescription({text:e})}n.props.onHideDTableDescriptionDialog()},n.onKeyDown=function(e){e.stopPropagation()},n.hasEditorChange=function(){return!n.isTableReadOnly&&n.editor.hasContentChange()},n.editorUtilities=new qp,n.isTableReadOnly="r"===window.dtable.permission,n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;this.isTableReadOnly||(this.timer=setInterval((function(){if(e.hasEditorChange()){var t=e.editor.getMarkdown();e.props.onModifyDTableDescription({text:t})}}),6e4))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"onRef",value:function(e){this.editor=e}},{key:"render",value:function(){var e=this.props,t=e.description,n=e.t,a=(t||{}).text;return h.a.createElement(Oo,null,h.a.createElement("div",{className:"dtable-description-dialog longtext-modal-dialog"},h.a.createElement("div",{className:"longtext-modal-dialog-header ".concat(this.isTableReadOnly?"longtext-modal-dialog-header-border":"")},h.a.createElement("span",null,n("Description")),h.a.createElement("span",{onClick:this.closeDialog,className:"longtext-close"},"\xd7")),h.a.createElement("div",{onKeyDown:this.onKeyDown,className:"longtext-container ".concat(this.isTableReadOnly?"longtext-container-scroll":"")},this.isTableReadOnly?h.a.createElement(el,{markdownContent:a,showTOC:!1}):h.a.createElement(Bp,{onRef:this.onRef.bind(this),editorUtilities:this.editorUtilities,value:a}))))}}]),t}(p.Component),zk=Object(I.d)("dtable")(Wk),qk=function(e){function t(e){var n;v(this,t),n=T(this,x(t).call(this,e));var a=document.body.offsetWidth;return n.rowCounts=a<767.8?10:20,n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.description,a=e.onHideDTableDescriptionDialog,r=(n||{}).text;return h.a.createElement("div",{className:"row-expand-view dtable-description-view",style:{zIndex:ea}},h.a.createElement(Vv,{title:t("Description"),onLeftClick:a,leftName:h.a.createElement("i",{className:"dtable-font dtable-icon-return"})}),h.a.createElement("div",{className:"view-partition view-partition-border-bottom"}),h.a.createElement("div",{className:"long-text-container"},h.a.createElement(Bv.j,{rows:this.rowCounts,value:r,editable:!1})))}}]),t}(p.Component),Kk=Object(I.d)("dtable")(qk),Xk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).updateNotification=function(){var e=n.props.notificationItem;window.app.dtableStore.dtableAPI.updateNotification(e.id,!0).then((function(){e.seen=1,n.props.onMarkNotification()})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))}))},n.getCommentatorImageurl=function(){var e=n.props.notificationItem;return window.app.state.collaborators.find((function(t){return t.email===e.detail.author}))},n.getRowDetaile=function(){var e=n.props,t=e.notificationItem,a=e.tables,r=pt.TableUtils.getTableById(a,t.detail.table_id);return pt.TableUtils.getRowById(r,t.detail.row_id)},n.getMtimeRelative=function(){var e=n.props.notificationItem,t=window.dtable.lang,a=new Date(e.created_at).getTime();return ft.a.locale(t),ft()(a).fromNow()},n.onHandleItemClick=function(){var e=n.props.notificationItem;e.seen||n.updateNotification(),n.props.onOpenRowExpandDialog(e)},n.onMarkNotificationRead=function(e){e.stopPropagation(),n.updateNotification()},n.onNotificationClick=function(e){e.preventDefault()},n.convertNotification=function(e){xy.process(e).then((function(e){var t=String(e);n.setState({notificationContent:t})}))},n.state={notificationContent:""},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.convertNotification(this.props.notificationItem.detail.comment)}},{key:"render",value:function(){var e,t=this,n=this.getCommentatorImageurl(),a=this.getRowDetaile();a&&(e=a["0000"]);var r=this.getMtimeRelative(),i=this.props.notificationItem;return h.a.createElement(p.Fragment,null,e&&h.a.createElement("div",{className:"notification-item",onClick:this.onHandleItemClick},h.a.createElement("div",{className:"notification-item-header"},!i.seen&&h.a.createElement("span",{className:"notification-point",onClick:this.onMarkNotificationRead}),h.a.createElement("div",{className:"notification-header-info"},h.a.createElement("div",null,h.a.createElement("img",{src:n.avatar_url,alt:"",width:"20",style:{borderRadius:"50%"}}),h.a.createElement("span",{className:"ml-2"},n.name)),h.a.createElement("span",{className:"notification-time"},r))),h.a.createElement("div",{className:"ml-7"},h.a.createElement(I.b,{i18nKey:"notification-text-1"},"Add a new comment for record named",h.a.createElement("span",{className:"text-primary"},{rowName:e})),h.a.createElement("div",{className:"notification-content-wrapper"},h.a.createElement("span",{className:"notification-content-quotes"},'"'),h.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.notificationContent},className:"notification-comment-content",onClick:function(e){return t.onNotificationClick(e)}}),h.a.createElement("span",{className:"notification-content-quotes text-right"},'"')))))}}]),t}(h.a.Component),Jk=Object(I.d)("dtable")(Xk),Zk=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).registerHandles=function(){document.addEventListener("mousedown",n.handleOutsideClick)},n.unregisterHandles=function(){document.removeEventListener("mousedown",n.handleOutsideClick)},n.handleOutsideClick=function(e){if(!n.notificationContainerRef.contains(e.target)){if(n.unregisterHandles(),"tool notification"===e.target.className||"tool notification"===e.target.parentNode.className)return;n.props.onNotificationListToggle()}},n.onNotificationDialogToggle=function(){n.props.onNotificationDialogToggle(),n.props.onNotificationListToggle()},n.onHandleScroll=function(){n.notificationListRef.offsetHeight+n.notificationListRef.scrollTop+1>=n.notificationsRrapperRef.offsetHeight&&n.props.listNotifications()},n.state={isShowNotificationDialog:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.registerHandles()}},{key:"componentWillUnmount",value:function(){this.unregisterHandles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.notificationList,a=t.tables,r=t.onNotificationListToggle,i=t.t;return h.a.createElement(p.Fragment,null,h.a.createElement(wr,{target:"notification-popover",isOpen:!0,fade:!1,hideArrow:!0,placement:"bottom",className:"notification-wrapper"},h.a.createElement("div",{className:"notification-container",ref:function(t){return e.notificationContainerRef=t}},h.a.createElement("div",{className:"notification-header"},i("Notification"),h.a.createElement("span",{className:"dtable-font dtable-icon-x notification-close-icon",onClick:r})),h.a.createElement("div",{className:"notification-body"},h.a.createElement("div",{className:"mark-notifications",onClick:this.props.onMarkAllNotifications},i("Mark_all_as_read")),h.a.createElement("div",{className:"notification-list-container",onScroll:this.onHandleScroll,ref:function(t){return e.notificationListRef=t}},h.a.createElement("div",{ref:function(t){return e.notificationsRrapperRef=t}},Array.isArray(n)&&n.map((function(t,n){return h.a.createElement(Jk,{key:"notification"+n,notificationItem:t,tables:a,onOpenRowExpandDialog:e.props.onOpenRowExpandDialog,onMarkNotification:e.props.onMarkNotification})})))),h.a.createElement("div",{className:"notification-footer",onClick:this.onNotificationDialogToggle},i("View_all_notifications"))))))}}]),t}(h.a.Component),$k=Object(I.d)("dtable")(Zk),Qk=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).getCommentatorImageurl=function(){var e=n.props.notificationItem;return window.app.state.collaborators.find((function(t){return t.email===e.detail.author}))},n.getRowDetaile=function(){var e=n.props,t=e.notificationItem,a=e.tables,r=pt.TableUtils.getTableById(a,t.detail.table_id);return pt.TableUtils.getRowById(r,t.detail.row_id)},n.getMtimeRelative=function(){var e=n.props.notificationItem,t=new Date(e.created_at).getTime();return ft()(t).fromNow()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.getCommentatorImageurl(),t=this.getRowDetaile(),n=this.getMtimeRelative(),a=e.name,r=t["0000"];return h.a.createElement("tr",null,h.a.createElement("td",{className:"pl-3"},h.a.createElement("img",{style:{borderRadius:"50%"},src:e.avatar_url,alt:"",width:"30"})),h.a.createElement("td",null,h.a.createElement(I.b,{i18nKey:"notification-list-dialog-text-1"},h.a.createElement("span",{className:"mr-2"},{noticeName:a}),"add a new comment for record named",h.a.createElement("span",{className:"text-primary"},{rowName:r}))),h.a.createElement("td",null,n))}}]),t}(h.a.Component),eO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.onNotificationDialogToggle()},n.toggleDropDownMenu=function(){n.setState({isItemMenuShow:!n.state.isItemMenuShow})},n.onMarkAllNotifications=function(){n.props.onMarkAllNotifications()},n.onDeleteAllNotifications=function(){window.app.dtableStore.dtableAPI.deleteNotification().then((function(){n.props.onDeleteAllNotifications()})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))}))},n.onHandleScroll=function(){n.notificationTableRef.offsetHeight+n.notificationTableRef.scrollTop+1>=n.tableRef.offsetHeight+64&&n.props.listNotifications()},n.renderHeaderRowBtn=function(){var e=n.props.t;return h.a.createElement("div",{className:"notification-header-close"},h.a.createElement(De,{isOpen:n.state.isItemMenuShow,toggle:n.toggleDropDownMenu,className:"notification-dropdown"},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":n.state.isItemMenuShow,className:"notification-dropdown-toggle"},h.a.createElement("span",{className:"dtable-font dtable-icon-more-level item-dropdown-icon"})),h.a.createElement(st,{right:!0},h.a.createElement(dt,{onClick:n.onMarkAllNotifications},h.a.createElement("span",{className:"notification-dropdown-item"},h.a.createElement("i",{className:"dtable-font dtable-icon-all-read"})),e("Mark_all_as_read")),h.a.createElement(dt,{onClick:n.onDeleteAllNotifications},h.a.createElement("span",{className:"notification-dropdown-item"},h.a.createElement("i",{className:"dtable-font dtable-icon-delete"})),e("Delete_all_notifications")))),h.a.createElement("span",{className:"dtable-font dtable-icon-x notification-close-icon",onClick:n.toggle}))},n.state={isItemMenuShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.notificationList,a=t.t,r=this.renderHeaderRowBtn();return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,className:"notification-list-dialog",contentClassName:"notification-list-content"},h.a.createElement(xr,{close:r,toggle:this.toggle},a("All_notifications")),h.a.createElement(kr,{className:"notification-modal-body"},h.a.createElement("div",{className:"notification-dialog-body",ref:function(t){return e.notificationTableRef=t},onScroll:this.onHandleScroll},h.a.createElement("table",{ref:function(t){return e.tableRef=t}},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"10%"}),h.a.createElement("th",{width:"70%"},a("News")),h.a.createElement("th",{width:"20%"},a("Update_date")))),h.a.createElement("tbody",null,n.map((function(t,n){return h.a.createElement(Qk,{key:n,notificationItem:t,tables:e.props.tables})})))))))}}]),t}(h.a.Component),tO=Object(I.d)("dtable")(eO),nO=(n(1258),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).rowExpandToggle=function(){n.setState({isShowRowExpandDialog:!n.state.isShowRowExpandDialog})},n.onNotificationListToggle=function(){n.setState({isShowNotificationList:!n.state.isShowNotificationList}),n.props.onRestBrowserTitle()},n.onNotificationDialogToggle=function(){n.setState({isShowNotificationDialog:!n.state.isShowNotificationDialog})},n.onOpenRowExpandDialog=function(e){var t=n.props.tables,a=pt.TableUtils.getTableById(t,e.detail.table_id),r=t.findIndex((function(e){return e._id===a._id})),i=pt.TableUtils.getRowById(a,e.detail.row_id),o=a.columns;n.setState({expandedRow:i,columns:o,selectTable:a,selectTableIndex:r}),n.rowExpandToggle(),n.onNotificationListToggle()},n.onCommit=function(e,t,a){var r=n.state.selectTableIndex;n.props.onCommit(r,e,t,a)},n.state={isShowNotificationList:!1,isShowNotificationDialog:!1,isShowRowExpandDialog:!1,expandedRow:{},columns:[],selectTableIndex:-1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.tables,n=e.notificationCount,a=e.notificationList,r=this.state,i=r.isShowNotificationList,o=r.isShowNotificationDialog,s=r.isShowRowExpandDialog,l=r.columns,c=r.expandedRow,u=r.selectTable;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"tool notification",onClick:this.onNotificationListToggle,id:"notification-popover"},h.a.createElement("i",{className:"dtable-font dtable-icon-notice"}),n>0&&h.a.createElement("span",{className:"notification-count"},n)),i&&h.a.createElement($k,{notificationList:a,tables:t,onNotificationListToggle:this.onNotificationListToggle,onNotificationDialogToggle:this.onNotificationDialogToggle,listNotifications:this.props.listNotifications,onOpenRowExpandDialog:this.onOpenRowExpandDialog,onMarkAllNotifications:this.props.onMarkAllNotifications,onMarkNotification:this.props.onMarkNotification}),o&&h.a.createElement(tO,{onNotificationDialogToggle:this.onNotificationDialogToggle,notificationList:a,tables:t,listNotifications:this.props.listNotifications,onDeleteAllNotifications:this.props.onDeleteAllNotifications,onMarkAllNotifications:this.props.onMarkAllNotifications}),s&&h.a.createElement(iC,{columns:l,expandedRow:c,expandedTable:u,onCommit:this.onCommit,onRowExpandCancel:this.rowExpandToggle,formulaRows:om(u)}))}}]),t}(h.a.Component)),aO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).checkInTooltip=function(e,t){for(var a=0;a<e.length;a++)if(e[a].id===t.id)return void n.setState({isInToolbar:!0});n.state.isInToolbar&&n.setState({isInToolbar:!1})},n.onClick=function(){var e=n.props.plugin;n.props.executePluginItemCallback(e)},n.handleMouseOver=function(){n.state.isFreeze||n.setState({dropdownOpen:!0})},n.handleMouseLeave=function(){n.state.isFreeze||n.setState({dropdownOpen:!1})},n.toggleDropDownMenu=function(){var e=!n.state.showMenu;n.setState({showMenu:e,isFreeze:e,dropdownOpen:e})},n.onAddToolbarPlugin=function(e){e.stopPropagation(),n.setState({isFreeze:!1,showMenu:!1});var t=n.props.plugin;n.props.addToolbarPlugin(t)},n.onRemoveToolbarPlugin=function(e){e.stopPropagation(),n.setState({isFreeze:!1,showMenu:!1});var t=n.props.plugin;n.props.deleteToolbarPlugin(t)},n.state={dropdownOpen:!1,isFreeze:!1,showMenu:!1,isInToolbar:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.toolbarPlugins,n=e.plugin;this.checkInTooltip(t,n)}},{key:"componentWillReceiveProps",value:function(e){var t=e.toolbarPlugins,n=e.plugin;this.checkInTooltip(t,n)}},{key:"render",value:function(){var e=this.props,t=e.plugin,n=e.t,a=window.dtable,r=a.server,i=a.workspaceID,o=a.fileName,s=a.mediaUrl,l=a.externalLinkToken,c=this.state,u=c.dropdownOpen,d=c.showMenu,p=c.isInToolbar,f=s+"plugins/default.png";return t.info.has_icon&&(f="".concat(r,"/workspace/").concat(i,"/dtable/").concat(o,"/plugins/").concat(t.id,"/media/icon.png"),l&&(f="".concat(r,"/dtable/external-links/").concat(l,"/workspace/").concat(i,"/dtable/").concat(o,"/plugins/").concat(t.id,"/media/icon.png"))),h.a.createElement("div",{className:"plugin-panel-item",onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},h.a.createElement("div",{className:"item-info",onClick:this.onClick},h.a.createElement("div",{className:"item-icon"},h.a.createElement("img",{src:f,width:"24",alt:"icon"})),h.a.createElement("div",{className:"item-name"},qv(t))),u&&h.a.createElement(De,{isOpen:d,size:"sm",toggle:this.toggleDropDownMenu},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown",onClick:this.toggleDropDownMenu,"aria-expanded":d},h.a.createElement("i",{className:"dtable-font dtable-icon-more-level"})),h.a.createElement(st,null,p?h.a.createElement(dt,{onClick:this.onRemoveToolbarPlugin},h.a.createElement("span",null,n("Remove_from_toolbar"))):h.a.createElement(dt,{onClick:this.onAddToolbarPlugin},h.a.createElement("span",null,n("Add_to_toolbar"))))))}}]),t}(h.a.Component),rO=function e(t){v(this,e),this.id=t.id,this.plugin_name=t.plugin_name,this.added_by=t.added_by,this.added_time=t.added_time,this.info=t.info},iO=n(722),oO=n.n(iO),sO=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).onDeletePlugin=function(){n.props.onDeletePlugin()},n.toggle=function(){n.props.toggleDeletePlugin()},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.plugin.plugin_name;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle},h.a.createElement(xr,{toggle:this.toggle},t("Delete_Plugin")),h.a.createElement(kr,null,h.a.createElement("p",null,h.a.createElement(I.b,{i18nKey:"delete_plugin_tip"},"Ary you sure you want delete",h.a.createElement("span",{className:"op-target"},{plugin_name:n}),"?"))),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.onDeletePlugin},t("Delete"))))}}]),t}(p.Component),lO=Object(I.d)("dtable")(sO),cO=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.uploadPercent,n=e.type,a=e.t,r=a("update"===n?"Plugin_updated_loading":"Plugin_uploaded_loading");return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"plugin-item-mask"}),h.a.createElement("div",{className:"plugin-upload-wrapper"},100!==t&&h.a.createElement(rh,{uploadPercent:t,width:60,tipText:"100%",className:"plugin-item-progress"}),100===t&&h.a.createElement("span",{className:"upload-success-tip"},r)))}}]),t}(h.a.Component),uO=Object(I.d)("dtable")(cO),dO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleUpdatePlugin=function(e){e.stopPropagation(),n.fileInput.current.click()},n.toggleDeletePlugin=function(){n.setState({isShowDeletePluginDialog:!n.state.isShowDeletePluginDialog})},n.onUpdatePlugin=function(e){var t=e.target.files;if(0!==t.length){var a=n.props.plugin,r=window.dtable,i=r.workspaceID,o=r.fileName,s=window.dtableWebAPI,l=new oO.a;l.append("plugin",t[0]),n.setState({isShowUploadPluginItem:!0}),s.updateDtablePlugin(i,o,a.id,l,n.onUploadProgress).then((function(e){var t=new rO(e.data);n.props.onUpdatePlugin(t),setTimeout((function(){n.setState({isShowUploadPluginItem:!1,uploadPercent:0})}),1e3)})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isShowUploadPluginItem:!1,uploadPercent:0})}))}},n.onUploadProgress=function(e){var t=Math.floor(e.loaded/e.total*100);n.setState({uploadPercent:t})},n.onDeletePlugin=function(){var e=window.dtable,t=e.workspaceID,a=e.fileName,r=window.dtableWebAPI,i=n.props.plugin;r.deleteDTablePlugin(t,a,i.id).then((function(e){n.props.onDeletePlugin(i)})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a))}))},n.onFileInputClick=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},n.onDropdownToggleClick=function(e){n.setState({isMenuShow:!n.state.isMenuShow})},n.state={isShowDeletePluginDialog:!1,isMenuShow:!1,pluginFile:"",uploadPercent:0,isShowUploadPluginItem:!1},n.fileInput=h.a.createRef(),n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.plugin,n=e.t,a=window.dtable,r=a.server,i=a.workspaceID,o=a.fileName,s=a.mediaUrl+"plugins/default.png";t.info.has_icon&&(s="".concat(r,"/workspace/").concat(i,"/dtable/").concat(o,"/plugins/").concat(t.id,"/media/icon.png"));var l=null;if(t.info.has_card_image){var c="".concat(r,"/workspace/").concat(i,"/dtable/").concat(o,"/plugins/").concat(t.id,"/media/card_image.png");l={backgroundImage:"url(".concat(c,")"),backgroundSize:"cover"}}return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"plugin-item"},h.a.createElement("div",{className:"plugin-version"},t.info.version),h.a.createElement("input",{ref:this.fileInput,className:"file-uploader",accept:"Application/zip",type:"file",onClick:this.onFileInputClick,onChange:this.onUpdatePlugin}),h.a.createElement("div",{className:"plugin-item-icon",style:l},!l&&h.a.createElement("img",{src:s,width:"60",alt:"icon"})),h.a.createElement("div",{className:"plugin-item-info"},h.a.createElement("div",{className:"item-content"},h.a.createElement("div",{className:"item-name"},qv(t)),h.a.createElement("div",{className:"item-op"},h.a.createElement(De,{className:"dtable-dropdown-menu",isOpen:this.state.isMenuShow,toggle:this.onDropdownToggleClick},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown","aria-expanded":this.state.isMenuShow},h.a.createElement("i",{className:"toggle-icon dtable-font dtable-icon-more-level"})),h.a.createElement(st,{right:!0},h.a.createElement(dt,{onClick:this.toggleUpdatePlugin},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-update user-select-none"}),h.a.createElement("span",{className:"item-text"},n("Update"))),h.a.createElement(dt,{onClick:this.toggleDeletePlugin},h.a.createElement("i",{className:"item-icon dtable-font dtable-icon-delete user-select-none"}),h.a.createElement("span",{className:"item-text"},n("Delete"))))))),h.a.createElement("div",{className:"item-description text-truncate"},t.info.description)),this.state.isShowUploadPluginItem&&h.a.createElement(uO,{uploadPercent:this.state.uploadPercent,type:"update"})),this.state.isShowDeletePluginDialog&&h.a.createElement(lO,{plugin:t,onDeletePlugin:this.onDeletePlugin,toggleDeletePlugin:this.toggleDeletePlugin}))}}]),t}(h.a.Component),pO=Object(I.d)("dtable")(dO),hO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).pluginDragEnter=function(e){e.preventDefault(),n.enteredCounter++,0!==n.enteredCounter&&n.setState({isPluginTipShow:!0})},n.pluginDragOver=function(e){e.stopPropagation(),e.preventDefault()},n.pluginDragLeave=function(e){n.enteredCounter--,0===n.enteredCounter&&n.setState({isPluginTipShow:!1})},n.pluginDrop=function(e){n.enteredCounter=0,n.setState({isPluginTipShow:!1});var t=e.dataTransfer.files;"application/zip"===t[0].type&&n.props.onUploadPlugin(e,t[0])},n.onUploadPluginToggle=function(e){e.stopPropagation(),n.refs.files.click()},n.onInputFile=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},n.handleFileChange=function(e){e.persist(),n.setState({value:""}),n.props.onUploadPlugin(e)},n.state={isPluginTipShow:!1,value:""},n.enteredCounter=0,n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t,t=this.state.isPluginTipShow;return h.a.createElement("div",{className:"register-plugin-item ".concat(t?"plugin-item-active":"")},h.a.createElement("div",{className:"register-plugin-container",onClick:this.onUploadPluginToggle,onDragEnter:this.pluginDragEnter,onDragOver:this.pluginDragOver,onDragLeave:this.pluginDragLeave,onDrop:this.pluginDrop},h.a.createElement("div",{className:"register-plugin-content"},h.a.createElement("i",{className:"register-plugin-icon dtable-font dtable-icon-upload"}),h.a.createElement("div",{className:"register-plugin-tip"},e("Click_to_upload_plugin"))),h.a.createElement("input",{className:"file-uploader",type:"file",ref:"files",value:this.state.value,onClick:this.onInputFile,onChange:this.handleFileChange})))}}]),t}(h.a.Component),fO=Object(I.d)("dtable")(hO),mO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onUploadPlugin=function(e,t){n.setState({isShowUploadPluginItem:!0});var a=window.dtable,r=a.workspaceID,i=a.fileName,o=window.dtableWebAPI,s=t||e.target.files[0],l=new FormData;l.append("plugin",s),o.uploadDTablePlugin(r,i,l,n.onUploadProgress).then((function(e){var t=new rO(e.data);n.props.onAddPlugin(t),n.setState({isShowUploadPluginItem:!1,uploadPercent:0})})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isShowUploadPluginItem:!1,uploadPercent:0})}))},n.onUploadProgress=function(e){var t=Math.floor(e.loaded/e.total*100);n.setState({uploadPercent:t})},n.state={isShowUploadPluginItem:!1,uploadPercent:0},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this;return h.a.createElement(p.Fragment,null,this.props.plugins.map((function(t){return h.a.createElement(pO,{key:t.id,plugin:t,onDeletePlugin:e.props.onDeletePlugin,onUpdatePlugin:e.props.onUpdatePlugin})})),this.state.isShowUploadPluginItem&&h.a.createElement("div",{className:"plugin-item"},h.a.createElement(uO,{uploadPercent:this.state.uploadPercent})),h.a.createElement(fO,{onUploadPlugin:this.onUploadPlugin}))}}]),t}(h.a.Component),gO=Object(I.d)("dtable")(mO),vO=new(function(){function e(){v(this,e),this.req=U.a.create()}return _(e,[{key:"initServer",value:function(){var e=window.dtable.seatableMarketUrl;this.server=e.replace(/\/+$/,"")}},{key:"listPlugins",value:function(){this.initServer();var e=this.server+"/api/plugins/";return this.req.get(e)}},{key:"listTemplates",value:function(){this.initServer();var e=this.server+"/api/templates/";return this.req.get(e)}}]),e}()),yO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onInstallPlugin=function(){var e=n.props.plugin,t=window.dtable,a=t.workspaceID,r=t.fileName,i=window.dtableWebAPI,o=new FormData;o.append("plugin_name",e.name),o.append("from_market",!0),n.setState({isInstalling:!0}),i.uploadDTablePlugin(a,r,o).then((function(e){var t=new rO(e.data);n.props.onInstallPlugin(t),n.setState({isInstalling:!1})})).catch((function(e){var t=n.props.t,a=nm(e,!0);e.response&&403===e.response.status||Za.danger(t(a)),n.setState({isInstalling:!1})}))},n.state={isInstalling:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.plugin,n=e.t,a=window.dtable,r=a.mediaUrl,i=a.seatableMarketUrl.replace(/\/+$/,""),o=r+"plugins/default.png",s=null;if(t.card_image_url){var l=i+t.card_image_url;s={backgroundImage:"url(".concat(l,")"),backgroundSize:"cover"}}var c=t.version;return h.a.createElement("div",{className:"plugin-item"},c&&h.a.createElement("div",{className:"plugin-version"},t.version),h.a.createElement("div",{className:"plugin-item-icon",style:s},!s&&h.a.createElement("img",{src:o,width:"60",alt:"icon"})),h.a.createElement("div",{className:"plugin-item-info"},h.a.createElement("div",{className:"item-content"},h.a.createElement("div",{className:"item-name"},t.display_name),h.a.createElement("button",{className:"btn btn-primary",onClick:this.onInstallPlugin,disabled:t.installed},this.state.isInstalling&&h.a.createElement(Dh,null),!this.state.isInstalling&&h.a.createElement(p.Fragment,null,t.installed?n("Installed"):n("Install")))),h.a.createElement("div",{className:"item-description text-truncate"},t.description)))}}]),t}(h.a.Component),_O=Object(I.d)("dtable")(yO),bO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onInstallPlugin=function(e){var t=n.state.marketPluginList.slice(0).map((function(t){return t.name===e.info.name&&(t.installed=!0),t}));n.props.onAddPlugin(e),n.setState({marketPluginList:t})},n.state={isLoadingData:!0,marketPluginList:[]},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this;vO.listPlugins().then((function(t){var n=t.data.plugin_list,a=e.props.plugins;n=n.map((function(e){var t=a.find((function(t){return t.info.name===e.name}));return e.installed=!!t,e})),e.setState({isLoadingData:!1,marketPluginList:n})})).catch((function(t){var n=e.props.t,a=nm(t,!0);t.response&&403===t.response.status||Za.danger(n(a))}))}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state,a=n.isLoadingData,r=n.marketPluginList;return a?h.a.createElement(Dh,null):r.length?h.a.createElement(p.Fragment,null,r.map((function(t,n){return h.a.createElement(_O,{key:n,plugin:t,onInstallPlugin:e.onInstallPlugin})}))):h.a.createElement("div",{className:"no-content-tip"},t("no_plugins_tip"))}}]),t}(h.a.Component),wO=Object(I.d)("dtable")(bO),EO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.togglePluginsManager()},n.onActivedChanged=function(e){n.setState({activeTab:e})},n.state={isRegisterPluginDialogShow:!1,activeTab:"installed"},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.activeTab,a=window.dtable.seatableMarketUrl;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,size:"lg",className:"dtable-plugins-manager-dialog",contentClassName:"dtable-plugins-manager-content"},h.a.createElement(xr,{toggle:this.toggle,className:"plugins-manager-header"},h.a.createElement("div",{className:"header-title"},t("Plugin_Manager")),h.a.createElement("div",{className:"header-nav"},h.a.createElement("div",{className:"header-nav-item ".concat("installed"===n?"active":""),onClick:function(){return e.onActivedChanged("installed")}},t("Installed_Plugins")),a&&h.a.createElement("div",{className:"header-nav-item ".concat("installed"!==n?"active":""),onClick:function(){return e.onActivedChanged("market")}},t("Plugin_Market")))),h.a.createElement(kr,{className:"plugins-manager-container"},"installed"===this.state.activeTab&&h.a.createElement(gO,{plugins:this.props.plugins,onAddPlugin:this.props.onAddPlugin,onUpdatePlugin:this.props.onUpdatePlugin,onDeletePlugin:this.props.onDeletePlugin}),a&&"installed"!==this.state.activeTab&&h.a.createElement(wO,{plugins:this.props.plugins,onAddPlugin:this.props.onAddPlugin})))}}]),t}(h.a.Component),TO=Object(I.d)("dtable")(EO),xO=(n(1259),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).togglePluginsManager=function(){n.setState({isPluginsManagerShow:!n.state.isPluginsManagerShow})},n.state={plugins:[],isPluginsManagerShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.toolbarPlugins,r=t.addToolbarPlugin,i=t.deleteToolbarPlugin,o=window.dtable,s=o.externalLinkToken,l=o.isAdmin;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"dtable-plugins-module"},h.a.createElement("div",{className:"dtable-plugins-header"},h.a.createElement("div",{className:"pligins-title font-weight-bold"},n("Plugins")),h.a.createElement("div",{className:"plugins-close",onClick:this.props.togglePluginsPanel},h.a.createElement("i",{className:"dtable-font dtable-icon-x"}))),h.a.createElement("div",{className:"dtable-plugins-body"},h.a.createElement("div",{className:"dtable-plugins-list"},this.props.plugins.length>0&&this.props.plugins.map((function(t){return h.a.createElement(aO,{t:n,key:t.id,plugin:t,toolbarPlugins:a,addToolbarPlugin:r,deleteToolbarPlugin:i,executePluginItemCallback:e.props.executePluginItemCallback})})))),!s&&l&&h.a.createElement("div",{className:"dtable-plugins-footer"},h.a.createElement("button",{className:"btn btn-primary container-fluid",onClick:this.togglePluginsManager},n("Plugin_Manager")))),this.state.isPluginsManagerShow&&h.a.createElement(TO,{plugins:this.props.plugins,onAddPlugin:this.props.onAddPlugin,onUpdatePlugin:this.props.onUpdatePlugin,onDeletePlugin:this.props.onDeletePlugin,togglePluginsManager:this.togglePluginsManager}))}}]),t}(h.a.Component)),CO=Object(I.d)("dtable")(xO),SO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(){n.props.copyCancel()},n.handleSubmit=function(){n.props.copyDTable(n.state.dstWorkspace)},n.setDstWorkspace=function(e){n.setState({dstWorkspace:e.value})},n.state={dstWorkspace:null,options:[]},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=window.dtableWebAPI,n=this.props.t;t.listWorkspaces().then((function(t){for(var a=t.data.workspace_list,r=[],i=0;i<a.length;i++){var o=a[i],s={value:o,label:h.a.createElement("div",null,"Personal"!==o.owner_type?o.owner_name:n("My_Tables"))};r.push(s)}e.setState({options:r})}))}},{key:"render",value:function(){var e=window.dtable.fileName,t=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.toggle,size:"md"},h.a.createElement(xr,{toggle:this.toggle},h.a.createElement("span",{className:"mr-1"},t("Copy")),h.a.createElement("span",{className:"op-target"},e)),h.a.createElement(kr,null,h.a.createElement(ir,{for:"copy-to-group"},t("Copy_to")),h.a.createElement(gv.b,{options:this.state.options,placeholder:t("Please_select_a_group"),onChange:this.setDstWorkspace,captureMenuScroll:!1})),h.a.createElement(Nr,null,h.a.createElement(Ve,{color:"secondary",onClick:this.toggle},t("Cancel")),h.a.createElement(Ve,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.dstWorkspace},t("Submit"))))}}]),t}(h.a.Component),kO=Object(I.d)("dtable")(SO);var OO=Object(I.d)("dtable")((function(e){var t=window.dtable.loginUrl,n=e.t,a="".concat(t,"?next=").concat(encodeURIComponent(location.href));return h.a.createElement("span",{className:"error"},h.a.createElement("a",{className:"action-link p-0",href:a},n("Please_login_first_to_copy_this_table")))})),MO=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggleCopyDialog=function(){window.dtable.username?n.setState({isShowCopyDialog:!n.state.isShowCopyDialog}):Za.danger(h.a.createElement(OO,null),{id:"copied_failed",duration:3600})},n.copyExternalDTable=function(e){var t=window.dtable,a=t.server,r=t.externalLinkToken,i=t.fileName,o=window.dtableWebAPI,s=n.props.t,l="".concat(a,"/dtable/external-links/").concat(r,"/");o.copyExternalDtable(e.id,l).then((function(e){n.toggleCopyDialog();var t=s("Successfully_copied_xxx",{fileName:i});Za.success(t)})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(s(t))}))},n.state={isShowCopyDialog:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"tool",onClick:this.toggleCopyDialog},h.a.createElement("i",{className:"dtable-font dtable-icon-copy"}),h.a.createElement("span",{className:"tool-title"},e("Copy"))),this.state.isShowCopyDialog&&h.a.createElement(kO,{copyCancel:this.toggleCopyDialog,copyDTable:this.copyExternalDTable}))}}]),t}(h.a.Component),LO=Object(I.d)("dtable")(MO),DO=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).exportDTable=function(){var e=window.dtable,t=e.externalLinkToken,n=e.server;rm(n+"/dtable/external-links/"+t+"/download-zip/")},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement("div",{className:"tool export-dtable",onClick:this.exportDTable},h.a.createElement("i",{className:"dtable-font dtable-icon-export"}),h.a.createElement("span",{className:"tool-title"},e("Export")))}}]),t}(h.a.Component),RO=Object(I.d)("dtable")(DO),NO={tabs:z.a.bool,pills:z.a.bool,vertical:z.a.oneOfType([z.a.bool,z.a.string]),horizontal:z.a.string,justified:z.a.bool,fill:z.a.bool,navbar:z.a.bool,card:z.a.bool,tag:ge,className:z.a.string,cssModule:z.a.object},IO=function(e){var t=e.className,n=e.cssModule,a=e.tabs,r=e.pills,i=e.vertical,o=e.horizontal,s=e.justified,l=e.fill,c=e.navbar,u=e.card,d=e.tag,p=B(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),f=ce(ie()(t,c?"navbar-nav":"nav",!!o&&"justify-content-"+o,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(i),{"nav-tabs":a,"card-header-tabs":u&&a,"nav-pills":r,"card-header-pills":u&&r,"nav-justified":s,"nav-fill":l}),n);return h.a.createElement(d,H({},p,{className:f}))};IO.propTypes=NO,IO.defaultProps={tag:"ul",vertical:!1};var AO=IO,PO={tag:ge,active:z.a.bool,className:z.a.string,cssModule:z.a.object},YO=function(e){var t=e.className,n=e.cssModule,a=e.active,r=e.tag,i=B(e,["className","cssModule","active","tag"]),o=ce(ie()(t,"nav-item",!!a&&"active"),n);return h.a.createElement(r,H({},i,{className:o}))};YO.propTypes=PO,YO.defaultProps={tag:"li"};var FO=YO,jO={tag:ge,innerRef:z.a.oneOfType([z.a.object,z.a.func,z.a.string]),disabled:z.a.bool,active:z.a.bool,className:z.a.string,cssModule:z.a.object,onClick:z.a.func,href:z.a.any},UO=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(E(n)),n}V(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,a=e.active,r=e.tag,i=e.innerRef,o=B(e,["className","cssModule","active","tag","innerRef"]),s=ce(ie()(t,"nav-link",{disabled:o.disabled,active:a}),n);return h.a.createElement(r,H({},o,{ref:i,onClick:this.onClick,className:s}))},t}(h.a.Component);UO.propTypes=jO,UO.defaultProps={tag:"a"};var HO=UO,BO=h.a.createContext({}),VO={tag:ge,activeTab:z.a.any,className:z.a.string,cssModule:z.a.object},GO=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={activeTab:n.props.activeTab},n}return V(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.cssModule,a=e.tag,r=ue(this.props,Object.keys(VO)),i=ce(ie()("tab-content",t),n);return h.a.createElement(BO.Provider,{value:{activeTabId:this.state.activeTab}},h.a.createElement(a,H({},r,{className:i})))},t}(p.Component);Object(Qr.polyfill)(GO);var WO=GO;GO.propTypes=VO,GO.defaultProps={tag:"div"};var zO={tag:ge,className:z.a.string,cssModule:z.a.object,tabId:z.a.any};function qO(e){var t=e.className,n=e.cssModule,a=e.tabId,r=e.tag,i=B(e,["className","cssModule","tabId","tag"]),o=function(e){return ce(ie()("tab-pane",t,{active:a===e}),n)};return h.a.createElement(BO.Consumer,null,(function(e){var t=e.activeTabId;return h.a.createElement(r,H({},i,{className:o(t)}))}))}qO.propTypes=zO,qO.defaultProps={tag:"div"};var KO=n(300),XO=n.n(KO),JO=function(e){function t(){return v(this,t),T(this,x(t).apply(this,arguments))}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.innerProps;return h.a.createElement("div",Object.assign({},n,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),t("User_not_found"))}}]),t}(h.a.Component),ZO=Object(I.d)("dtable")(JO),$O=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleSelectChange=function(e){n.options=[],n.props.onSelectChange(e)},n.loadOptions=function(e,t){var a=window.dtableWebAPI,r=e.trim();r.length>0&&a.searchUsers(r).then((function(e){n.options=[];for(var a=0;a<e.data.users.length;a++){var r=e.data.users[a],i={};i.value=r.name,i.email=r.email,i.label=h.a.createElement(h.a.Fragment,null,h.a.createElement("img",{src:r.avatar_url,className:"select-module select-module-icon avatar",alt:""}),h.a.createElement("span",{className:"select-module select-module-name"},r.name)),n.options.push(i)}t(n.options)})).catch((function(e){var t=nm(e);Za.danger(t)}))},n.clearSelect=function(){n.refs.userSelect.select.onChange([],{action:"clear"})},n.options=[],n}return S(t,e),_(t,[{key:"render",value:function(){return h.a.createElement(XO.a,{isClearable:!0,classNamePrefix:!0,components:{NoOptionsMessage:ZO},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:"user-select ".concat(this.props.className),value:this.props.value,ref:"userSelect"})}}]),t}(h.a.Component),QO=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).onHideSelect=function(){n.setState({isEditing:!1})},n.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isEditing:!0})},n.onPermissionChanged=function(e){e.value!==n.props.currentPermission&&n.props.onPermissionChanged(e.value),n.setState({isEditing:!1})},n.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation()},n.state={isEditing:!1};var a=e.t;return n.options=[{value:"rw",label:h.a.createElement("div",null,a("Read_Write"))},{value:"r",label:h.a.createElement("div",null,a("Read_Only"))}],n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onHideSelect)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHideSelect)}},{key:"render",value:function(){var e=this.props,t=e.currentPermission,n=e.isTextMode,a=e.t,r=a("r"===t?"Read_Only":"Read_Write");return h.a.createElement("div",{onClick:this.onSelectHandler},n&&!this.state.isEditing?h.a.createElement(p.Fragment,null,h.a.createElement("span",null,r),this.props.isEditIconShow&&h.a.createElement("span",{title:a("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:this.onEditPermission})):h.a.createElement(gv.b,{options:this.options,placeholder:r,onChange:this.onPermissionChanged,captureMenuScroll:!1}))}}]),t}(h.a.Component),eM=Object(I.d)("dtable")(QO),tM=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onMouseEnter=function(){n.setState({isOperationShow:!0})},n.onMouseLeave=function(){n.setState({isOperationShow:!1})},n.deleteTableShare=function(){n.props.deleteTableShare(n.props.item.email)},n.updateTableShare=function(e){n.props.updateTableShare(n.props.item.email,e)},n.state={isOperationShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.item,a=n.permission;return h.a.createElement("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},h.a.createElement("td",{className:"name"},n.name),h.a.createElement("td",null,h.a.createElement(eM,{isTextMode:!0,isEditIconShow:this.state.isOperationShow,currentPermission:a,onPermissionChanged:this.updateTableShare})),h.a.createElement("td",null,h.a.createElement("span",{className:"dtable-font dtable-icon-x action-icon ".concat(this.state.isOperationShow?"":"hide"),onClick:this.deleteTableShare,title:t("Delete")})))}}]),t}(h.a.Component),nM=Object(I.d)("dtable")(tM),aM=(n(1260),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).handleSelectChange=function(e){n.setState({selectedOptions:e})},n.setPermission=function(e){n.setState({permission:e})},n.addTableShare=function(){var e=n.state,t=e.selectedOptions,a=e.permission,r=e.userList,i=window.dtableWebAPI,o=window.dtable,s=o.workspaceID,l=o.fileName;if(t&&0!==t.length){for(var c=function(e){var o=t[e].value,c=t[e].email;i.addTableShare(s,l,c,a).then((function(e){var t={name:o,email:c,permission:a};r.push(t),n.setState({userList:r})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))},u=0;u<t.length;u++)c(u);n.setState({selectedOption:null}),n.refs.userSelect.clearSelect()}},n.deleteTableShare=function(e){var t=window.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName;t.deleteTableShare(r,i,e).then((function(t){var a=n.state.userList.filter((function(t){return t.email!==e}));n.setState({userList:a})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))},n.updateTableShare=function(e,t){var a=window.dtableWebAPI,r=window.dtable,i=r.workspaceID,o=r.fileName;a.updateTableShare(i,o,e,t).then((function(a){var r=n.state.userList.map((function(n){return n.email===e&&(n.permission=t),n}));n.setState({userList:r})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))},n.renderUserList=function(){return n.state.userList.map((function(e,t){return h.a.createElement(nM,{key:t,item:e,permissions:["rw","r"],deleteTableShare:n.deleteTableShare,updateTableShare:n.updateTableShare})}))},n.state={selectedOptions:null,permission:"rw",userList:[]},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=window.dtableWebAPI,n=window.dtable,a=n.workspaceID,r=n.fileName;t.listTableShares(a,r).then((function(t){e.setState({userList:t.data.user_list})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))}},{key:"render",value:function(){var e=window.dtable.dtableServer,t=window.dtable,n=t.canInvitePeople,a=t.cloudMode,r=t.isOrgContext,i=this.props.t;return h.a.createElement("div",{className:"share-link-container"},a&&!r&&h.a.createElement("div",{className:"share-link-tip"},i("Share_to_user_tip")),h.a.createElement("table",null,h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"50%"},i("User")),h.a.createElement("th",{width:"35%"},i("Permission")),h.a.createElement("th",{width:"15%"}))),h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement($O,{ref:"userSelect",isMulti:!0,className:"reviewer-select",placeholder:i("Select_users"),onSelectChange:this.handleSelectChange})),h.a.createElement("td",null,h.a.createElement(eM,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,onPermissionChanged:this.setPermission})),h.a.createElement("td",null,h.a.createElement(Ve,{onClick:this.addTableShare},i("Submit")))))),h.a.createElement("div",{className:"share-list-container"},h.a.createElement("table",{className:"table-thead-hidden"},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"50%"},i("User")),h.a.createElement("th",{width:"35%"},i("Permission")),h.a.createElement("th",{width:"15%"}))),h.a.createElement("tbody",null,this.renderUserList())),n&&h.a.createElement("a",{href:e+"invitations/",className:"invite-link-in-popup"},h.a.createElement("i",{className:"dtable-font dtable-icon-invite invite-link-icon-in-popup"}),h.a.createElement("span",{className:"invite-link-icon-in-popup"},i("Invite_People")))))}}]),t}(h.a.Component)),rM=Object(I.d)("dtable")(aM),iM=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onMouseEnter=function(){n.setState({isOperationShow:!0})},n.onMouseLeave=function(){n.setState({isOperationShow:!1})},n.updateTableShare=function(e){e!==n.props.groupShare.permission&&n.props.updateTableShare(n.props.groupShare.group_id,e)},n.deleteTableShare=function(){n.props.deleteTableShare(n.props.groupShare.group_id)},n.state={isOperationShow:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.groupShare,t=e.group_name,n=e.permission;return h.a.createElement("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},h.a.createElement("td",null,t),h.a.createElement("td",null,h.a.createElement(eM,{isTextMode:!0,isEditIconShow:this.state.isOperationShow,currentPermission:n,onPermissionChanged:this.updateTableShare})),h.a.createElement("td",null,h.a.createElement("span",{className:"dtable-font dtable-icon-x action-icon ".concat(this.state.isOperationShow?"":"hide"),onClick:this.deleteTableShare,title:this.props.t("Delete")})))}}]),t}(h.a.Component),oM=Object(I.d)("dtable")(iM),sM=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).setPermission=function(e){n.setState({permission:e})},n.addTableShare=function(){var e=window.dtableWebAPI,t=window.dtable,a=t.workspaceID,r=t.fileName,i=n.state,o=i.groupID,s=i.permission;e.addTableGroupShare(a,r,o,s).then((function(e){var t=n.state.groupShares.slice();t.push(e.data.dtable_group_share),n.setState({groupShares:t,currentSelected:null})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))},n.updateTableShare=function(e,t){var a=window.dtableWebAPI,r=window.dtable,i=r.workspaceID,o=r.fileName;a.updateTableGroupShare(i,o,e,t).then((function(){var a=n.state.groupShares.slice();a=a.map((function(n){return n.group_id===e&&(n.permission=t),n})),n.setState({groupShares:a})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))},n.deleteTableShare=function(e){var t=window.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName;t.deleteTableGroupShare(r,i,e).then((function(){var t=n.state.groupShares.slice();t=t.filter((function(t){return t.group_id!==e})),n.setState({groupShares:t})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))},n.setGroup=function(e){n.setState({groupID:e.value,currentSelected:e})},n.renderGroupList=function(){return n.state.groupShares.map((function(e,t){return h.a.createElement(oM,{groupShare:e,key:t,updateTableShare:n.updateTableShare,deleteTableShare:n.deleteTableShare})}))},n.state={permission:"rw",groupID:null,groups:[],groupShares:[],currentSelected:null},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=window.dtableWebAPI,n=window.dtable,a=n.workspaceID,r=n.fileName;t.listWorkspaces().then((function(n){var i=n.data.workspace_list.filter((function(e){return"Group"===e.owner_type})).map((function(e){return{value:e.group_id,label:e.owner_name}}));return e.setState({groups:i}),t.listTableGroupShares(a,r)})).then((function(t){e.setState({groupShares:t.data.dtable_group_share_list})})).catch((function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(t)}))}},{key:"render",value:function(){var e=this.props.t;return h.a.createElement("div",{className:"share-link-container"},h.a.createElement("table",null,h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"50%"},e("Group_2")),h.a.createElement("th",{width:"35%"},e("Permission")),h.a.createElement("th",{width:"15%"}))),h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement(gv.b,{value:this.state.currentSelected,options:this.state.groups,placeholder:e("Select_groups"),onChange:this.setGroup,captureMenuScroll:!1})),h.a.createElement("td",null,h.a.createElement(eM,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,onPermissionChanged:this.setPermission})),h.a.createElement("td",null,h.a.createElement(Ve,{onClick:this.addTableShare},e("Submit")))))),h.a.createElement("div",{className:"share-list-container"},h.a.createElement("table",{className:"table-thead-hidden"},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"50%"},e("Group_2")),h.a.createElement("th",{width:"35%"},e("Permission")),h.a.createElement("th",{width:"15%"}))),h.a.createElement("tbody",null,this.renderGroupList()))))}}]),t}(h.a.Component),lM=Object(I.d)("dtable")(sM),cM=function e(t){v(this,e),this.workspaceID=t.workspace_id,this.permission=t.permission,this.username=t.username,this.is_expired=t.is_expired,this.expire_date=t.expire_date,this.token=t.token,this.link=t.link,this.ctime=t.ctime},uM=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).onMouseOver=function(){n.setState({isShowDelete:!n.state.isShowDelete})},n.tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.convertPermission=function(e){var t=n.props.t;switch(e){case"r":return t("Read_Only");case"rw":return t("Read_Write");default:return""}},n.onCopyInviteLink=function(){var e=n.props.inviteLink;n.props.onCopyInviteLink(e.link)},n.onDeleteInviteLinkSubmit=function(){var e=n.props.inviteLink;n.props.onDeleteInviteLinkSubmit(e)},n.state={inviteLink:e.inviteLink,isShowDelete:!1,tooltipOpen:!1},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props.t;return h.a.createElement("tr",{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOver},h.a.createElement("td",null,this.convertPermission(this.state.inviteLink.permission)),h.a.createElement("td",{className:"ellipsis"},this.state.inviteLink.link),h.a.createElement("td",null,h.a.createElement("span",{className:"dtable-font dtable-icon-copy-link action-icon","data-placement":"bottom",onClick:this.onCopyInviteLink,id:"copy-link".concat(this.props.index)}),h.a.createElement(Yn,{toggle:this.tooltipToggle,target:"copy-link".concat(this.props.index),placement:"bottom",isOpen:this.state.tooltipOpen,boundariesElement:document.body},e("Copy_Link"))),h.a.createElement("td",null,h.a.createElement("span",{className:"dtable-font dtable-icon-x action-icon ".concat(this.state.isShowDelete?"":"hide"),onClick:this.onDeleteInviteLinkSubmit,title:e("Delete")})))}}]),t}(h.a.Component),dM=Object(I.d)("dtable")(uM),pM=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).generateDTableInviteLink=function(){n.setState({errorMessage:""});var e=n.props.t,t=n.state.permission,a=window.dtableWebAPI,r=window.dtable,i=r.workspaceID,o=r.fileName;a.createDTableShareLink(i,o,t).then((function(t){var a=new cM(t.data),r=n.state.inviteLinks;r.push(a),n.setState({inviteLinks:r}),Za.success(e("Link_Generated"))})).catch((function(e){var t=nm(e);Za.danger(t)}))},n.onCopyInviteLink=function(e){var t=n.props.t;Fx()(e),Za.success(t("copied_invite_link")),n.props.closeShareDialog()},n.deleteInviteLink=function(e){var t=n.props.t;window.dtableWebAPI.deleteDTableShareLink(e.token).then((function(){var a=n.state.inviteLinks.filter((function(t){return t.token!==e.token}));n.setState({inviteLinks:a}),Za.success(t("Delete_Successfully"))})).catch((function(e){var t=nm(e);Za.danger(t)}))},n.onDeleteInviteLinkSubmit=function(e){n.deleteInviteLink(e)},n.updatePermission=function(e){n.setState({permission:e})},n.permissionOptions=["read-only","read-write"],n.state={errorMessage:"",inviteLink:null,inviteLinks:[],isLoading:!0,currentPermission:n.permissionOptions[0],isSendLinkShown:!1,permission:"rw"},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){this.getDTableInviteLink()}},{key:"getDTableInviteLink",value:function(){var e=this,t=window.dtableWebAPI,n=window.dtable,a=n.workspaceID,r=n.fileName;t.getDTableShareLink(a,r).then((function(t){var n=t.data.dtable_share_links.map((function(e){return new cM(e)}));e.setState({inviteLinks:n})})).catch((function(t){var n=nm(t);e.setState({isLoading:!0}),Za.danger(n)}))}},{key:"render",value:function(){var e=this,t=this.props.t;return h.a.createElement("div",null,h.a.createElement("table",null,h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"80%"},t("Permission")),h.a.createElement("th",{width:"20%"}))),h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement(eM,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,onPermissionChanged:this.updatePermission})),h.a.createElement("td",{width:"20%"},h.a.createElement(Ve,{onClick:this.generateDTableInviteLink},t("Generate")))))),h.a.createElement("div",{className:"dtable-share-link-list-container"},h.a.createElement("div",{className:"h-100",style:{maxHeight:"calc(18rem - 1.25rem)"}},h.a.createElement("table",null,h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",{width:"16%"},t("Permission")),h.a.createElement("th",{width:"70%"},t("Invite_Links")),h.a.createElement("th",{width:"6%"}),h.a.createElement("th",{width:"8%"}))),h.a.createElement("tbody",null,this.state.inviteLinks.map((function(t,n){return h.a.createElement(dM,{key:t.token,inviteLink:t,onCopyInviteLink:e.onCopyInviteLink,onDeleteInviteLinkSubmit:e.onDeleteInviteLinkSubmit,index:n})})))))))}}]),t}(h.a.Component),hM=Object(I.d)("dtable")(pM),fM=function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).generateExternalLink=function(){var e=window.dtableWebAPI,t=window.dtable,a=t.workspaceID,r=t.fileName;e.createDTableExternalLink(a,r).then((function(e){var t=e.data;n.setState({externalLink:t})})).catch((function(e){var t=nm(e);Za.danger(t)}))},n.deleteExternalLink=function(){var e=window.dtableWebAPI,t=window.dtable,a=t.workspaceID,r=t.fileName,i=n.state.externalLink;e.deleteDTableExternalLink(a,r,i.token).then((function(){n.setState({externalLink:null,isConfirmDeleteShow:!1})})).catch((function(e){var t=nm(e);Za.danger(t)}))},n.onDeleteExternalLinkToggle=function(){n.setState({isConfirmDeleteShow:!n.state.isConfirmDeleteShow})},n.onCopyExternalLink=function(){var e=n.props.t,t=n.state.externalLink;Fx()(t.url),Za.success(e("copied_external_link")),n.props.closeShareDialog()},n.state={externalLink:"",isLoadingExternalLink:!0,isConfirmDeleteShow:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=window.dtableWebAPI,n=window.dtable,a=n.workspaceID,r=n.fileName;t.getDTableExternalLink(a,r).then((function(t){var n=t.data.links;e.setState({externalLink:n[0]||null,isLoadingExternalLink:!1})})).catch((function(e){var t=nm(e);Za.danger(t)}))}},{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.externalLink,a=t.isLoadingExternalLink,r=t.isConfirmDeleteShow;return a?h.a.createElement(Dh,null):h.a.createElement("div",{className:"external-link-container"},!n&&h.a.createElement(p.Fragment,null,h.a.createElement("p",{className:"external-link-tip"},e("external_link_tip")),h.a.createElement("button",{className:"btn btn-primary",onClick:this.generateExternalLink},e("Generate"))),n&&h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"link-info"},h.a.createElement("span",{className:"external-link"},n.url),h.a.createElement("span",{className:"dtable-font dtable-icon-copy-link action-icon",title:e("Copy"),onClick:this.onCopyExternalLink})),!r&&h.a.createElement("button",{className:"btn btn-primary mt-4",onClick:this.onDeleteExternalLinkToggle},e("Delete")),r&&h.a.createElement("div",{className:"alert alert-warning mt-4"},h.a.createElement("h4",{className:"alert-heading"},e("external_link_delete_tip_title")),h.a.createElement("p",{className:"mb-4"},e("external_link_delete_tip_content")),h.a.createElement("button",{className:"btn btn-primary mr-4",onClick:this.deleteExternalLink},e("Delete")),h.a.createElement("button",{className:"btn btn-secondary",onClick:this.onDeleteExternalLinkToggle},e("Cancel")))))}}]),t}(h.a.Component),mM=Object(I.d)("dtable")(fM),gM=(n(1261),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).toggle=function(e){n.state.activeTab!==e&&n.setState({activeTab:e})},n.renderContent=function(){var e=n.props.t,t=n.state.activeTab,a=window.dtable,r=a.cloudMode,i=a.isOrgContext,o=a.canGenerateExternalLink,s=a.canGenerateShareLink;return h.a.createElement(p.Fragment,null,h.a.createElement("div",{className:"share-dialog-side"},h.a.createElement(AO,{pills:!0,vertical:!0},h.a.createElement(p.Fragment,null,h.a.createElement(FO,null,h.a.createElement(HO,{className:"shareToUser"===t?"active":"",onClick:n.toggle.bind(E(n),"shareToUser")},e("Share_to_user"))),(!r||i)&&h.a.createElement(FO,null,h.a.createElement(HO,{className:"shareToGroup"===t?"active":"",onClick:n.toggle.bind(E(n),"shareToGroup")},e("Share_to_group"))),s&&h.a.createElement(FO,null,h.a.createElement(HO,{className:"inviteLink"===t?"active":"",onClick:n.toggle.bind(E(n),"inviteLink")},e("Invite_link"))),o&&h.a.createElement(FO,null,h.a.createElement(HO,{className:"externalLink"===t?"active":"",onClick:n.toggle.bind(E(n),"externalLink")},e("External_link")))))),h.a.createElement("div",{className:"share-dialog-main"},h.a.createElement(WO,{activeTab:n.state.activeTab},h.a.createElement(qO,{tabId:"shareToUser"},h.a.createElement(rM,null)),(!r||i)&&h.a.createElement(qO,{tabId:"shareToGroup"},h.a.createElement(lM,null)),s&&h.a.createElement(qO,{tabId:"inviteLink"},h.a.createElement(hM,{closeShareDialog:n.props.shareCancel})),o&&h.a.createElement(qO,{tabId:"externalLink"},h.a.createElement(mM,{closeShareDialog:n.props.shareCancel})))))},n.state={activeTab:"shareToUser"},n}return S(t,e),_(t,[{key:"render",value:function(){var e=window.dtable.fileName,t=this.props.t;return h.a.createElement(_r,{isOpen:!0,toggle:this.props.shareCancel,className:"share-dialog"},h.a.createElement(xr,{toggle:this.props.shareCancel},t("Share")," ",h.a.createElement("span",{className:"op-target",title:e},e)),h.a.createElement(kr,{className:"share-dialog-content"},this.renderContent()))}}]),t}(h.a.Component)),vM=Object(I.d)("dtable")(gM),yM=(n(1262),Kv()?"\u2318":"CTRL"),_M=function(e){function t(){var e,n;v(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=T(this,(e=x(t)).call.apply(e,[this].concat(r)))).renderShortcut=function(e){return h.a.createElement(p.Fragment,null,h.a.createElement("span",{className:"keyboard-shortcut"},e.map((function(e,t){return h.a.createElement("kbd",{key:t},e)}))),h.a.createElement("br",null))},n.renderContainer=function(e,t){return h.a.createElement("div",{className:"keyboard-shortcut-container"},h.a.createElement("div",{className:"col-3"},n.renderShortcut(e)),h.a.createElement("div",{className:"col-9"},t))},n}return S(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.toggle;return h.a.createElement(_r,{isOpen:!0,toggle:n,className:"keyboard-shortcut-dialog"},h.a.createElement(xr,{toggle:n},h.a.createElement("span",{className:"mr-2"},t("Keyboard_shortcuts")),h.a.createElement("span",{className:"keyboard-shortcut"},h.a.createElement("kbd",null,yM),h.a.createElement("kbd",null,"?"))),h.a.createElement(kr,null,h.a.createElement("div",null,h.a.createElement("div",{className:"pb-2"},h.a.createElement("div",{className:"keyboard-shortcut-title pb-1"},t("General")),this.renderContainer([yM,"f"],t("Open_find_bar"))),h.a.createElement("div",{className:"pb-2"},h.a.createElement("div",{className:"keyboard-shortcut-title pb-1"},t("Grid_view")),this.renderContainer([yM,"z"],t("Undo_action")),this.renderContainer([yM,"shift","z"],t("Redo_action")),this.renderContainer([yM,";"],t("Set_the_selected_date_or_datetime_field_to_now")),this.renderContainer([yM,"c"],t("Copy_a_cell_or_range_of_cells")),this.renderContainer([yM,"x"],t("Cut_a_cell_or_range_of_cells")),this.renderContainer([yM,"v"],t("Paste_a_cell_if_you_select_a_range_of_cells_you_can_paste_the_same_value_into_multiple_cells_at_once")),this.renderContainer(["space"],t("Expand_the_selected_record")),h.a.createElement("div",{className:"keyboard-shortcut-container"},h.a.createElement("div",{className:"col-3"},this.renderShortcut(["pgup"]),this.renderShortcut(["pgdn"]),this.renderShortcut(["fn","\u2191"]),this.renderShortcut(["fn","\u2193"])),h.a.createElement("div",{className:"col-9"},t("Scroll_one_screen_up_or_down"))),h.a.createElement("div",{className:"keyboard-shortcut-container"},h.a.createElement("div",{className:"col-3"},this.renderShortcut(["alt","pgup"]),this.renderShortcut(["alt","pgdn"]),this.renderShortcut(["alt","fn","\u2191"]),this.renderShortcut(["alt","fn","\u2193"])),h.a.createElement("div",{className:"col-9"},t("Scroll_one_screen_left_or_right"))),this.renderContainer(["shift","enter"],t("Insert_a_record_below_the_selected_cell"))),h.a.createElement("div",{className:"pb-2"},h.a.createElement("div",{className:"keyboard-shortcut-title pb-1"},t("Expanded_record")),this.renderContainer([yM,"'"],t("Open_comment_panel")),this.renderContainer(["esc"],t("Close_expanded_record"))))))}}]),t}(h.a.PureComponent),bM=Object(I.d)("dtable")(_M),wM=function(e){function t(e){var n;v(this,t),(n=T(this,x(t).call(this,e))).getCommonDatasetIds=function(){for(var e=n.dtableStore.value.tables,t=new Set,a=0;a<e.length;a++)for(var r=e[a].columns,i=0;i<r.length;i++){var o=r[i];if("link-common-dataset"===o.type&&o.data){var s=o.data.linked_common_dataset_id;t.add(s)}}return N(t)},n.listCommentsByDays=function(){var e=[];window.app.dtableStore.dtableAPI.listRowCommentsByDays().then((function(t){t.data.comments.forEach((function(t){var n=new EC(t);e.push(n)})),n.setState({commentRowList:e})}))},n.initDTablePlugins=function(){var e=window.dtableWebAPI,t=window.dtable,a=t.workspaceID,r=t.fileName,i=t.externalLinkToken;i?e.listPluginsByExternalLink(i).then((function(e){var t=e.data.plugin_list.map((function(e){return new rO(e)}));t.forEach((function(e){n.registerPlugin(e)})),n.setState({plugins:t})})):e.listDTablePlugins(a,r).then((function(e){var t=e.data.plugin_list.map((function(e){return new rO(e)}));t.forEach((function(e){n.registerPlugin(e)})),n.setState({plugins:t})}))},n.listNotifications=function(e){var t=n.state,a=t.notificationList,r=t.canGetNotificationList,i=t.notificationListPage,o=t.notificationListPerPage;e&&(a=e.notificationList,r=e.canGetNotificationList,i=e.notificationListPage,o=e.notificationListPerPage);var s=a.slice(0);r&&window.app.dtableStore.dtableAPI.listNotifications(i,o).then((function(e){var t=e.data.notification_list;t.forEach((function(e){var t=new wC(e);s.push(t)}));var a=s.filter((function(e){return!e.seen})).length;t.length===o?n.setState({notificationListPage:i+1,canGetNotificationList:!0,notificationCount:a,notificationList:s}):n.setState({canGetNotificationList:!1,notificationCount:a,notificationList:s})})).catch((function(e){n.handleError(e)}))},n.onNewNotification=function(e){n.onUpdateNotification(),n.setState({isChangeBrowserTitle:!0}),n.listCommentsByDays(),n.popupBrowserNotification(e)},n.popupBrowserNotification=function(e){var t=n.state.collaborators.find((function(t){return t.email===e.detail.author})),a=n.props.t,r=window.dtable.fileName;if("Notification"in window){var i=n.getNotificationContent(e.detail.comment),o=window.Notification;"granted"===o.permission?new o(a("xxx_has_a_new_comment",{table_name:r}),{body:"".concat(t.name,": ").concat(i)}):"denied"!==o.permission&&o.requestPermission((function(e){"granted"===e&&new o(a("xxx_has_a_new_comment",{table_name:r}),{body:"".concat(t.name,": ").concat(i)})}))}},n.getNotificationContent=function(e){for(var t,n=/(@\[([^\]]+?)\]\(([^\]]+?)\))/g,a=0,r="";null!==(t=n.exec(e));){var i="@".concat(t[2]),o=e.substring(a,t.index);a=n.lastIndex,r+=o+i}return a<e.length&&(r+=e.slice(a)),r},n.handleError=function(e){var t=nm(e,!0);e.response&&403===e.response.status||Za.danger(n.props.t(t))},n.onDtableBeginSaving=function(){n.setState({isSaving:!0,isSaved:!1})},n.onDtableEndSaving=function(){n.setState({isSaving:!1,isSaved:!0}),setTimeout((function(){n.setState({isSaving:!1,isSaved:!1})}),2e3)},n.onOperationExecuteError=function(e){var t=n.props.t("Failed_to_execute_operation_on_server"),a=ma[e.error_type];a=n.props.t(a),Za.danger(t+a,{duration:null})},n.onSocketConnectError=function(e){var t=ma[e.error_type];t=n.props.t(t),Za.warning(t,{hasCloseButton:!1,duration:null})},n.onSocketDisconnect=function(){var e=n.props.t("Server_is_disconnected_Reconnecting");Za.warning(e,{hasCloseButton:!1,duration:null})},n.onDisconnectOperationTip=function(){Za.warning(n.props.t("Server_is_not_connected_Operation_will_be_sent_to_server_later"))},n.onSocketReconnect=function(){Za.closeAll(),Za.success(n.props.t("Server_is_reconnected")),n.onUpdateNotification()},n.updateDTableAccessToken=function(){var e=window.dtableWebAPI,t=window.dtable,a=t.workspaceID,r=t.fileName,i=t.shareLinkToken,o=t.externalLinkToken;setInterval((function(){o?e.getTableAccessTokenByExternalLink(o).then((function(e){window.dtable.accessToken=e.data.access_token,n.setState({isAccessTokenLoaded:!0})})):i?e.getTableAccessTokenByShareLink(i).then((function(e){var t=e.data.access_token;n.dtableStore.updateAccessToken(t)})):e.getTableAccessToken(a,r).then((function(e){var t=e.data.access_token;n.dtableStore.updateAccessToken(t)}))}),ga)},n.showStatisticsView=function(){n.setState({isStatisticsViewShow:!0})},n.hideStatisticsView=function(){n.setState({isStatisticsViewShow:!1})},n.showStatisticsDialog=function(){n.setState({statisticsDialog:!0})},n.hideStatisticsDialog=function(){n.setState({statisticsDialog:!1})},n.tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.toggleKeyboardShortcuts=function(){n.setState({isKeyboardShortcutsShow:!n.state.isKeyboardShortcutsShow})},n.onListFormDialogToggle=function(){n.setState({isShowListFormDialog:!n.state.isShowListFormDialog})},n.toggleHistoryDialog=function(e){n.setState({historyShowType:e})},n.addStatistics=function(e){n.dtableStore.addStatistics(e)},n.deleteStatistics=function(e,t){n.dtableStore.deleteStatistics(e,t)},n.editStatistics=function(e,t){n.dtableStore.editStatistics(e,t)},n.selectView=function(e,t){var a,r=n.state.value.tables[e],i=r._id,o=r.views[t],s=o._id;pt.Views.isGroupView(o)&&(a=n.getCurrentFoldedGroups(n.getAllFoldedGroups(),i,s)),n.dtableStore.selectView(e,t),n.setState({selectedTableIdx:e,selectedViewIdx:t,foldedGroups:a||[]}),n.restoreViewPosition(i,s)},n.onDTableDataChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n.state,i=r.selectedTableIdx,o=r.selectedViewIdx;o=null!==a?a:o,i=null!==t?t:i,n.setState({value:e,selectedTableIdx:i,selectedViewIdx:o})},n.onDTableCurrentTableDelete=function(e){var t=n.props.t("Table_xxx_has_been_deleted",{table_name:e});Za.notify(t,{duration:1})},n.onDTableCurrentViewDelete=function(e){var t=n.props.t("View_xxx_has_been_deleted",{view_name:e});Za.notify(t,{duration:1})},n.onUndoOperation=function(){n.dtableStore.undoOperation(),Za.closeAll()},n.onHotKey=function(e){if(P()("mod+/",e)&&(e.preventDefault(),n.toggleKeyboardShortcuts()),"editor-component"!==e.target.className){if(P()("mod+s",e))return e.preventDefault(),!0;if(P()("mod+z",e))e.preventDefault(),n.dtableStore.undoOperation();else if(P()("mod+shift+z",e))e.preventDefault(),n.dtableStore.redoOperation();else if(P()("mod+f",e))e.preventDefault(),n.state.searchActive||n.setState({searchActive:!0});else if(P()("shift+enter",e)&&window.canvas)window.canvas.onInsertRowBelowCell();else if(P()("opt+pageup",e)&&window.grid)window.grid.scrollLeftPage();else if(P()("opt+pagedown",e)&&window.grid)window.grid.scrollRightPage();else if(P()("space",e)&&!n.state.isShowRowExpand){e.preventDefault();var t=window.canvas.state.selectedPosition,a=t.groupIdx,r=t.rowIdx;if(-1===r)return;var i=n.isGroupView()?n.groupRowGetter({groupIdx:a,rowIdx:r}):n.rowGetter(r);n.onRowExpand(i)}}},n.onHotKeyUp=function(e){e.target.className},n.onSearchActiveToggle=function(){n.setState({searchActive:!n.state.searchActive})},n.onHistoryState=function(){var e=n.state.value.tables;if(e){var t=location,a=t.origin,r=t.pathname,i=t.search;if(i){var o,s,l,c=n.getUrlSearches(i);if(e.map((function(e,t){c.tid===e._id&&(o=e._id,s=t)})),o){e[s].views.forEach((function(e,t){c.vid===e._id&&(l=e._id,n.selectView(s,t))})),l||(l=e[s].views[0]._id,n.selectView(s,0));var u="".concat(a).concat(r,"?tid=").concat(o,"&vid=").concat(l);c["row-id"]&&(u+="&row-id=".concat(c["row-id"]),n.checkRowExpand(e[s],c["row-id"])),history.replaceState(null,document.title,u)}else history.replaceState(null,document.title,location.href.split("?")[0]),n.onHistoryState()}else i=e[0]._id?"?tid=".concat(e[0]._id,"&vid=").concat(e[0].views[0]._id):"",history.replaceState(null,null,a+r+i),n.selectView(0,0)}},n.changeSearch=function(e,t){var a=location.search,r=n.getUrlSearches(a),i="?tid=".concat(r.tid,"&vid=").concat(r.vid);t&&(i+="&".concat(e,"=").concat(t)),history.replaceState(null,"",location.pathname+i)},n.pushHistoryState=function(e,t){var a=e?"?tid=".concat(e,"&vid=").concat(t):"";return history.pushState({},null,location.href.split("?")[0]+a),n.storeTable2ViewId(e,t),!1},n.storeTable2ViewId=function(e,t){var a=window.dtable.dtableUuid,r=n.getTable2ViewId(),i=r.findIndex((function(e){return e.dtableUuid===a}));if(i>-1){var o=r[i];o[e]=t,r[i]=o}else r.push(D({dtableUuid:a},e,t));window.localStorage.setItem("table2ViewId",JSON.stringify(r))},n.removeTable2ViewId=function(e){var t=window.dtable.dtableUuid,a=n.getTable2ViewId(),r=a.findIndex((function(e){return e.dtableUuid===t}));r>-1&&delete a[r][e]},n.getTable2ViewId=function(){var e=window.localStorage.getItem("table2ViewId");return e=e?JSON.parse(e):[],Array.isArray(e)?e:[]},n.getViewId=function(e){var t=window.dtable.dtableUuid,a=e._id,r=e.views,i=(n.getTable2ViewId().find((function(e){return e.dtableUuid===t}))||{})[a]||null;return i&&pt.Views.getViewById(r,i)?i:r[0]._id},n.getPositionID=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("&")},n.storeViewPosition=function(){var e=window.dtable.dtableUuid,t=n.state,a=t.value,r=t.selectedTableIdx,i=t.selectedViewIdx,o=a.tables[r],s=n.getPositionID(e,o._id,o.views[i]._id),l=window.canvas.groupViewCanvas?window.canvas.groupViewCanvas:window.canvas.canvas;l&&window.localStorage.setItem(s,l.scrollTop),window.localStorage.setItem(o._id+"scrollLeft",window.grid.getScrollLeft())},n.restoreViewPosition=function(e,t){var a=window.dtable.dtableUuid,r=n.getPositionID(a,e,t);setTimeout((function(){var t=window.localStorage.getItem(r);window.canvas&&t&&window.canvas.setScrollTop(parseInt(t,10)),window.grid&&window.grid.setScrollLeft(window.localStorage.getItem(e+"scrollLeft")||0),window.viewport&&window.viewport.metricsUpdated()}),1)},n.onSelectTable=function(e){n.onGridSelectNone(),n.storeViewPosition();var t=n.state.value.tables[e],a=n.getViewId(t),r=t.views.findIndex((function(e){return e._id===a}));n.pushHistoryState(t._id,a),n.selectView(e,r)},n.onSelectLinkedTable=function(){var e=n.state,t=e.value,a=e.linkedTable,r=t.tables.findIndex((function(e){return e._id===a._id}));n.onSelectTable(r)},n.onNewTableConfirm=function(e){n.onGridSelectNone(),n.dtableStore.insertTable(e);var t=n.state.value.tables,a=t.length-1,r=t[a];n.pushHistoryState(r._id,r.views[0]._id),n.selectView(a,0)},n.onRenameTableConfirm=function(e){var t=n.state,a=t.selectedTableIdx,r=t.selectedViewIdx;n.dtableStore.renameTable(n.state.selectedTableIdx,e),n.selectView(a,r)},n.onDeleteTable=function(){n.onGridSelectNone();var e=n.state,t=e.selectedTableIdx,a=e.value.tables,r=t===a.length-1?t-1:t,i=a[t];n.removeTable2ViewId(i._id),n.dtableStore.deleteTable(t);var o=a[r],s=n.getViewId(o),l=o.views.findIndex((function(e){return e._id===s}));n.pushHistoryState(o._id,s),n.selectView(r,l)},n.onDuplicateTable=function(e,t){if(n.state.value.tables.findIndex((function(t){return t._id===e}))>-1){n.dtableStore.duplicateTable(e,t);var a=n.state.value.tables,r=a.length-1,i=a[r];n.pushHistoryState(i._id,i.views[0]._id),n.selectView(r,0)}},n.moveTable=function(e,t){var a,r,i,o=n.state,s=o.value,l=o.selectedTableIdx,c=o.selectedViewIdx,u=s.tables;a=t.data._id,i=e.data,r=e.idx>t.idx?"move_above":"move_below",n.dtableStore.moveTable(a,r,i);var d=u[l],p=u.findIndex((function(e){return e._id===d._id}));n.selectView(p,c)},n.getRowsSize=function(){var e=n.state,t=e.selectedTableIdx;return e.value.tables[t].rows.length},n.onInsertRow=function(e){var t=n.state.selectedTableIdx,a=e.row_id,r=e.row_insert_position,i=e.row_data;n.dtableStore.insertRow(t,a,r,i),n.focusDataGrid()},n.onRowDelete=function(e,t){var a=n.state.selectedTableIdx,r=t.old_row,i=t.upper_row_id;n.dtableStore.deleteRow(a,r._id,r,i),n.onGridSelectNone(),n.focusDataGrid()},n.onRowsDelete=function(e){var t=e.selectedIds,a=e.old_rows,r=e.invert_above_row_ids,i=n.state.selectedTableIdx;n.dtableStore.deleteRows(i,t,a,r),n.onGridSelectNone(),n.focusDataGrid()},n.moveRows=function(e,t,a,r){for(var i=[],o=0;o<a.length;o++)i.push(e);var s=n.state.selectedTableIdx;n.dtableStore.moveRows(s,i,t,a,r),n.focusDataGrid()},n.moveGroupRows=function(e,t,a,r,i,o){for(var s=n.state.selectedTableIdx,l=[],c=0;c<a.length;c++)l.push(e);n.dtableStore.moveGroupRows(s,l,t,a,r,i,o),n.focusDataGrid()},n.onRowDuplicate=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=a.tables[r],o=i.columns[0].key,s=pt.TableUtils.getRowById(i,e),l=F()(s);l[o]="".concat(l[o],"(copy)"),delete l._id,n.dtableStore.insertRow(r,e,"insert_below",l),n.focusDataGrid()},n.onNewColumn=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n.state,o=i.value,s=i.selectedTableIdx,l=o.tables;if(t===pt.CellType.LINK){var c=a.display_column_key,u=a.table_id,d=a.other_table_id,p=a.is_internal_link,h={display_column_key:c,table_id:u,other_table_id:d,is_internal_link:p},f=l.findIndex((function(e){return e._id===a.other_table_id}));return n.dtableStore.addLinkColumn(e,s,f,h),void n.focusDataGrid()}var m=pt.TableUtils.getTableByIndex(l,s),g=r||m.columns.length-1;n.dtableStore.insertColumn(s,e,t,g);var v=[pt.CellType.DATE,pt.CellType.NUMBER,pt.CellType.FORMULA,pt.CellType.LINK_COMMON_DATASET];if(v.includes(t)&&Object.getOwnPropertyNames(a).length>0){var y=l[s].columns,_=y[g+1].key;n.dtableStore.setColumnData(s,_,a)}n.focusDataGrid()},n.searchRowsInTableByName=function(e,t,a){return n.dtableStore.searchRowsInTableByName(e,t,a)},n.getLinkedRows=function(e,t){return n.dtableStore.getRowsByID(e,t)},n.addLink=function(e,t,a,r){n.dtableStore.addLink(e,t,a,r)},n.removeLink=function(e,t,a,r){n.dtableStore.removeLink(e,t,a,r)},n.getLinkCellValue=function(e,t,a){return n.dtableStore.getLinkCellValue(e,t,a)},n.deleteRowLinks=function(e,t,a){for(var r=F()(n.getLinkCellValue(e,t,a)),i=0;i<r.length;i++)n.removeLink(e,t,a,r[i])},n.pasteRowLinks=function(e,t,a,r){var i=new Set(n.getLinkCellValue(e,t,r)),o=new Set(n.getLinkCellValue(e,t,a)),s=!0,l=!1,c=void 0;try{for(var u,d=i[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;o.has(p)||n.removeLink(e,t,r,p)}}catch(_){l=!0,c=_}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var h=!0,f=!1,m=void 0;try{for(var g,v=o[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){var y=g.value;i.has(y)||n.addLink(e,t,r,y)}}catch(_){f=!0,m=_}finally{try{h||null==v.return||v.return()}finally{if(f)throw m}}},n.getSelectedTableId=function(){var e=n.state,t=e.value,a=e.selectedTableIdx;return pt.TableUtils.getTableId(t.tables,a)},n.onDeleteColumn=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=a.tables[r].columns,o=e.column,s=i.findIndex((function(e){return e.key===o.key})),l=0===s?null:i[s-1].key,c=h.a.createElement("span",null,n.props.t("Column_deleted"),h.a.createElement(CC,{onUndoOperation:n.onUndoOperation}));n.dtableStore.deleteColumn(r,o.key,o,l),Za.success(c),n.focusDataGrid()},n.onRenameColumn=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.renameColumn(a,e.key,t),n.focusDataGrid()},n.onAddColumnOption=function(e,t,a){var r=F()(t);a.id=Object(pt.generateOptionID)(t),r.push(a),n.updateColumnOptions(e,r)},n.onDeleteColumnOption=function(e,t,a){var r=F()(t);r.splice(a,1),n.updateColumnOptions(e,r)},n.updateColumnOptions=function(e,t){var a=n.state.selectedTableIdx,r={options:t};n.dtableStore.setColumnData(a,e.key,r)},n.onUpdateFormula=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.setColumnData(a,e.key,t)},n.updateColumnFormat=function(e,t){var a=n.state.selectedTableIdx,r={format:t};n.dtableStore.setColumnData(a,e.key,r)},n.toggleColumnFreeze=function(e,t){n.dtableStore.setColumnFreeze(n.state.selectedTableIdx,e.key,t)},n.onColumnResize=function(e,t){var a=n.state.selectedTableIdx,r=n.dtableStore.getColumn(a,e-1);n.dtableStore.resizeColumn(a,r.key,t),n.focusDataGrid()},n.onHeaderDrop=function(e,t){var a,r=n.state,i=r.value,o=r.selectedTableIdx,s=i.tables[o],l=F()(s),c=l.columns,u=l.columns.findIndex((function(t){return t.key===e})),d=l.columns.findIndex((function(e){return e.key===t})),p=0===u?null:c[u-1].key;a=u>d?"move_left":"move_right",n.dtableStore.moveColumn(o,a,e,t,p)},n.handleExpandedTableGridRowsUpdated=function(e,t,a){var r=n.state,i=r.expandedTable,o=r.value.tables.findIndex((function(e){return e._id===i._id}));n.dtableStore.modifyRow(o,e,t,a)},n.handleGridRowsUpdated=function(e,t,a){n.dtableStore.modifyRow(n.state.selectedTableIdx,e,t,a),n.focusDataGrid()},n.onPasteGrid=function(e){var t=e.pastePosition,a=e.copied,r=e.cutTableIdx,i=e.cutViewIdx,o=e.cutPosition,s=e.type,l=e.pasteFrom,c=e.isSmartPaste,u=void 0!==c&&c,d=n.state,p=d.value,h=d.selectedTableIdx,f=d.collaborators,m=p.tables;n.gridUtils.pasteGrid({tables:m,selectedTableIdx:h,pastePosition:t,copied:a,cutTableIdx:r,cutViewIdx:i,cutPosition:o,type:s,pasteFrom:l,collaborators:f,isSmartPaste:u})},n.onFillingDragRows=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=a.tables;n.gridUtils.fillingDragRows({tables:i,selectedTableIdx:r,draggedRange:e})},n.onGridSelectNone=function(){var e=n.refs.data_grid;if(e){var t=e.grid,a=e.state;e.grid.onSelectNone(),t.selectAllCheckbox&&t.selectAllCheckbox.checked&&t.onDeselectAllRows(),a.selectedIds.length>0&&(a.selectedIds.length=0)}},n.addView=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=a.tables;n.dtableStore.insertView(r,e);var o=i[r],s=o.views.length-1;n.pushHistoryState(o._id,o.views[s]._id),n.selectView(r,s)},n.moveView=function(e,t){var a,r,i,o=n.state,s=o.value,l=o.selectedTableIdx,c=o.selectedViewIdx,u=s.tables;a=t.data._id,i=e.data,r=e.idx>t.idx?"move_above":"move_below";var d=u[l].views[c];n.dtableStore.moveView(l,a,r,i);var p=u[l].views.findIndex((function(e){return e._id===d._id}));n.selectView(l,p)},n.onSelectView=function(e){n.storeViewPosition();var t=n.state,a=t.value,r=t.selectedTableIdx,i=a.tables[r];n.pushHistoryState(i._id,i.views[e]._id),n.selectView(r,e)},n.onRenameView=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.renameView(a,e,t),n.selectView(a,e)},n.onDeleteView=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=t.selectedViewIdx,o=a.tables[r];n.dtableStore.deleteView(r,e),i===e?i=0:i>e&&(i-=1),n.pushHistoryState(o._id,o.views[i]._id),n.selectView(r,i)},n.modifyViewLock=function(e){var t=n.state,a=t.selectedTableIdx,r=t.selectedViewIdx;n.dtableStore.modifyViewLock(a,r,e)},n.modifyHeaderLock=function(e){var t=n.state.selectedTableIdx;n.dtableStore.modifyHeaderLock(t,e)},n.addFilter=function(e){var t=n.state.selectedTableIdx;n.dtableStore.addFilter(t,e)},n.updateFilter=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.updateFilter(a,e,t)},n.deleteFilter=function(e){var t=n.state.selectedTableIdx;n.dtableStore.deleteFilter(t,e)},n.updateFilterConjunction=function(e){var t=n.state.selectedTableIdx;n.dtableStore.updateFilterConjunction(t,e)},n.onHideColumn=function(e){var t=n.state.selectedTableIdx;n.dtableStore.hideColumn(t,e),n.onGridSelectNone()},n.addSort=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.addSort(a,e),t&&n.setState({isSortComponentShow:!0})},n.updateSort=function(e,t,a){var r=n.state.selectedTableIdx;n.dtableStore.updateSort(r,e,t),a&&n.setState({isSortComponentShow:!0})},n.deleteSort=function(e){var t=n.state.selectedTableIdx;n.dtableStore.deleteSort(t,e)},n.onSortComponentToggle=function(){n.setState({isSortComponentShow:!n.state.isSortComponentShow})},n.onShowColumn=function(e){n.onGridSelectNone();var t=n.state.selectedTableIdx;n.dtableStore.showColumn(t,e)},n.hideAllColumns=function(){n.onGridSelectNone();var e=n.state.selectedTableIdx;n.dtableStore.hideAllColumns(e)},n.showAllColumns=function(){n.onGridSelectNone();var e=n.state.selectedTableIdx;n.dtableStore.showAllColumns(e)},n.addGroup=function(e){var t=n.state.selectedTableIdx;n.dtableStore.addGroup(t,e),n.onGridSelectNone()},n.updateGroup=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.updateGroup(a,e,t),n.onGridSelectNone()},n.deleteGroup=function(e){var t=n.state.selectedTableIdx;n.dtableStore.deleteGroup(t,e),n.onGridSelectNone()},n.searchCells=function(e){var t=n.state,a=t.selectedTableIdx,r=t.value,i=t.selectedViewIdx,o=r.tables[a],s=o.views,l=pt.Views.getViewByIndex(s,i),c=Ex(o,l),u=pt.Views.getColumns(l,o),d=Cx(c,u,e);n.setState({searchResult:d}),0!==d.matchedCells.length&&n.scrollToCurrentSelectedCell(d,0)},n.focusNextMatchedCell=function(){var e=n.state.searchResult;if(e){var t=e.matchedCells.length,a=e.currentSelectIndex;if(++a<t){var r=Object.assign({},e,{currentSelectIndex:a});n.setState({searchResult:r}),n.scrollToCurrentSelectedCell(e,a)}}},n.scrollToRestoreRow=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=t.selectedViewIdx,o=a.tables[r],s=o.views,l=o.rows,c=pt.Views.getViewByIndex(s,i);if(pt.Views.isGroupView(c))for(var u=c.groups,d=l[e],p=0;p<u.length;p++){var h=u[p].row_ids.indexOf(d._id);if(h>-1){window.canvas.jumpToRow(p+2,h+3);break}}else window.canvas.jumpToRow(e+1)},n.focusPreviousMatchedCell=function(){var e=n.state.searchResult;if(e){var t=e.currentSelectIndex;if((t-=1)>=0){var a=Object.assign({},e,{currentSelectIndex:t});n.setState({searchResult:a}),n.scrollToCurrentSelectedCell(e,t)}}},n.clearSearchResult=function(){n.setState({searchResult:Sx()})},n.checkRowExpand=function(e,t){for(var a,r,i=e.rows,o=0;o<i.length;o++)if(i[o]._id===t){a=o,r=i[o];break}r&&a>-1&&n.expandRow(r,e)},n.expandRow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.changeSearch("row-id",e._id);var a=t;if(!a){var r=n.state,i=r.value,o=r.selectedTableIdx;a=i.tables[o]}n.setState({isShowRowExpand:!0,expandedTable:a,expandedRow:e})},n.onRowExpandCancel=function(){n.changeSearch("row-id",null),n.setState({isShowRowExpand:!1})},n.onEditCell=function(e,t){n.setState({isCellEditorShow:!0,expandedRow:e,selectedRowIndex:t.rowIdx,selectedColumnIndex:t.idx})},n.onCellEditorCancel=function(){n.setState({isCellEditorShow:!n.state.isCellEditorShow})},n.openInternalLinkRowExpand=function(e,t){var a=n.getLinkedTable(t);n.setState({isInternalLinkRowExpand:!0,linkedTable:a,expandedRow:e})},n.getLinkedTable=function(e){var t=n.state.value.tables;return pt.TableUtils.getTableById(t,e)},n.onDeleteAllNotifications=function(){n.setState({notificationCount:0,notificationList:[],notificationListPage:1,notificationListPerPage:25,canGetNotificationList:!0})},n.onUpdateNotification=function(){n.listNotifications({notificationCount:0,notificationList:[],notificationListPage:1,notificationListPerPage:25,canGetNotificationList:!0})},n.onMarkNotification=function(){var e=n.state.notificationCount;n.setState({notificationCount:e-1})},n.onMarkAllNotifications=function(){0!==n.state.notificationCount&&window.app.dtableStore.dtableAPI.updateAllNotifications(!0).then((function(){n.onUpdateNotification()})).catch((function(e){n.handleError(e)}))},n.onRestBrowserTitle=function(){n.setState({isChangeBrowserTitle:!1})},n.notificatonRowsUpdated=function(e,t,a,r){n.dtableStore.modifyRow(e,t,a,r)},n.closeInternalLinkRowExpand=function(){n.setState({isInternalLinkRowExpand:!1})},n.interanlLinkRowsUpdated=function(e,t,a){var r=n.state,i=r.value,o=r.linkedTable,s=i.tables.findIndex((function(e){return e._id===o._id}));n.dtableStore.modifyRow(s,e,t,a)},n.onExpandGroupToggle=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=t.selectedViewIdx,o=a.tables[r],s=o._id,l=o.views[i]._id,c=n.getAllFoldedGroups(),u=n.getCurrentFoldedGroups(c,s,l)||[];va(e,u)?u.push(e):u=u.filter((function(t){return t!==e})),n.storeFoldedGroups(c,s,l,u),n.onGridSelectNone(),n.setState({foldedGroups:u})},n.getAllFoldedGroups=function(){var e=window.localStorage.getItem("foldedGroups");return e=e?JSON.parse(e):[],Array.isArray(e)?e:[]},n.getCurrentFoldedGroups=function(e,t,n){var a=window.dtable.dtableUuid;return(e.find((function(e){return e.dtableUuid===a}))||{})["".concat(t,"-").concat(n)]},n.storeFoldedGroups=function(e,t,n,a){var r=window.dtable.dtableUuid,i=N(e),o=i.findIndex((function(e){return e.dtableUuid===r})),s="".concat(t,"-").concat(n);o>-1?i[o][s]=a:i.push(D({dtableUuid:r},s,a)),window.localStorage.setItem("foldedGroups",JSON.stringify(i))},n.modifyColumnType=function(e,t){var a=n.state,r=a.selectedTableIdx,i=a.collaborators;n.dtableStore.modifyColumnType(r,e,t,i),n.focusDataGrid()},n.toggleShowHeader=function(){n.setState({mobileShowHeader:!n.state.mobileShowHeader})},n.getRowsCount=function(){var e=n.state,t=e.value,a=e.selectedTableIdx,r=e.selectedViewIdx,i=t.tables[a],o=i.views,s=pt.Views.getViewByIndex(o,r);return pt.Views.getRowsLength(s,i)},n.rowGetter=function(e){var t=n.state,a=t.value,r=t.selectedTableIdx,i=t.selectedViewIdx,o=a.tables[r],s=o.views,l=pt.Views.getViewByIndex(s,i);return pt.Views.getRow(l,o,e)},n.groupRowGetter=function(e){var t=e.groupIdx,a=e.rowIdx,r=n.state,i=r.value,o=r.selectedTableIdx,s=r.selectedViewIdx,l=i.tables[o],c=l.views,u=pt.Views.getViewByIndex(c,s);return pt.Views.getRow(u,l,a,t)},n.isGroupView=function(){var e=n.state,t=e.value,a=e.selectedTableIdx,r=e.selectedViewIdx,i=t.tables[a].views[r];return pt.Views.isGroupView(i)},n.getGroups=function(){var e=n.state,t=e.value,a=e.selectedTableIdx,r=e.selectedViewIdx,i=t.tables[a].views[r];return pt.Views.getGroups(i)},n.getFormulaRows=function(){var e=n.state,t=e.value,a=e.selectedTableIdx,r=e.selectedViewIdx,i=t.tables[a].views[r];return pt.Views.getFormulaRows(i)},n.updateTableSetting=function(e,t){var a=n.state.selectedTableIdx;n.dtableStore.updateTableSetting(a,e,t)},n.modifyDTableDescription=function(e){n.dtableStore.modifyDTableDescription(e)},n.onDTableDescriptionToggle=function(){n.setState({isShowDTableDescriptionDialog:!n.state.isShowDTableDescriptionDialog})},n.hideDTableDescriptionDialog=function(){n.setState({isShowDTableDescriptionDialog:!1})},n.togglePluginsPanel=function(){n.setState({isPluginPanelShow:!n.state.isPluginPanelShow})},n.toggleHeaderMoreDropdown=function(){n.setState({isHeaderMoreDropdown:!n.state.isHeaderMoreDropdown})},n.registerPlugin=function(e){var t=window.dtable,n=t.siteRoot,a=t.workspaceID,r=t.fileName,i=t.externalLinkToken,o=e.info.last_modified,s=ft()(o).valueOf();if(e.info.has_css){var l="".concat(n,"workspace/").concat(a,"/dtable/").concat(r,"/plugins/").concat(e.id,"/media/main.css?t=").concat(s);i&&(l="".concat(n,"dtable/external-links/").concat(i,"/workspace/").concat(a,"/dtable/").concat(r,"/plugins/").concat(e.id,"/media/main.css?t=").concat(s));var c="link_".concat(e.id,"_").concat(e.plugin_name),u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.href=l,u.setAttribute("id",c),document.head.appendChild(u)}var d="".concat(n,"workspace/").concat(a,"/dtable/").concat(r,"/plugins/").concat(e.id,"/main.js?t=").concat(s);i&&(d="".concat(n,"dtable/external-links/").concat(i,"/workspace/").concat(a,"/dtable/").concat(r,"/plugins/").concat(e.id,"/main.js?t=").concat(s));var p="script_".concat(e.id,"_").concat(e.plugin_name),h=document.createElement("script");h.type="text/javascript",h.src=d,h.setAttribute("id",p),document.body.appendChild(h)},n.unregisterPlugin=function(e){if(e.info.has_css){var t="link_".concat(e.id,"_").concat(e.plugin_name),a=document.getElementById(t);document.head.removeChild(a)}var r="script_".concat(e.id,"_").concat(e.plugin_name),i=document.getElementById(r);document.body.removeChild(i),n.pluginsHandles=n.pluginsHandles.filter((function(t){return t.plugin_name!==e.plugin_name}))},n.onAddPlugin=function(e){var t=n.state.plugins.slice(0);t.push(e),n.registerPlugin(e),n.setState({plugins:t})},n.onUpdatePlugin=function(e){var t=n.state.plugins,a=t.find((function(t){return t.id===e.id})),r=t.findIndex((function(t){return t.id===e.id}));n.unregisterPlugin(a),n.registerPlugin(e);var i=t.slice(0);i.splice(r,1,e),n.setState({plugins:i})},n.onDeletePlugin=function(e){var t=n.state.plugins.slice(0);t=t.filter((function(t){return t.id!==e.id})),n.deleteToolbarPlugin(e),n.unregisterPlugin(e),n.dtableStore.deletePluginSettings(e.plugin_name),n.setState({plugins:t})},n.addToolbarPlugin=function(e){var t=n.state.value.settings,a=t&&t.extra_toolbar_items||[];a.push(e),n.dtableStore.updateToolbarPlugin(a)},n.deleteToolbarPlugin=function(e){var t=n.state.value;if(t.settings&&t.settings.extra_toolbar_items){var a=t.settings.extra_toolbar_items.filter((function(t){return t.plugin_name!==e.plugin_name}));n.dtableStore.updateToolbarPlugin(a)}},n.registerPluginItemCallback=function(e,t){var a=!1;if(e||(a=!0,Za.danger("valid_options_1_class",{param:"plugin_name"})),t&&"function"===typeof t||(a=!0,Za.danger("valid_options_2_class",{param:"callback",type:"function"})),a)Za.danger("valid_options_error");else{var r={plugin_name:e,callback:t};n.pluginsHandles.push(r)}},n.executePluginItemCallback=function(e){var t=n.pluginsHandles.find((function(t){return t.plugin_name===e.plugin_name}));if(t){var a=n.state,r=a.selectedTableIdx,i=a.selectedViewIdx,o=a.value.tables,s=pt.TableUtils.getTableByIndex(o,r),l=pt.Views.getViewByIndex(s.views,i);t.callback(s.name,l.name,e)}},n.toggleShareDialog=function(){n.setState({isShareDialogShow:!n.state.isShareDialogShow})},n.renderDTableDescription=function(){var e=n.state,t=e.isShowDTableDescriptionDialog,a=(e.value||{}).description;return t?window.isMobile?h.a.createElement(Kk,{description:a,onHideDTableDescriptionDialog:n.hideDTableDescriptionDialog}):h.a.createElement(zk,{description:a,onHideDTableDescriptionDialog:n.hideDTableDescriptionDialog,onModifyDTableDescription:n.modifyDTableDescription}):null},n.onExportStatisticToTable=function(e,t){var a=n.state.collaborators;n.dtableStore.exportStatisticToTable(e,t,a),n.selectLatestTable()},n.selectLatestTable=function(){var e=n.state.value.tables,t=e.length-1,a=e[t];n.pushHistoryState(a._id,a.views[0]._id),n.selectView(t,0)},n.renderBrowserTitle=function(){var e=n.state.isChangeBrowserTitle,t=window.dtable.mediaUrl,a=document.querySelector('link[rel*="icon"]'),r=document.createElement("link");a&&document.head.removeChild(a),r.type="image/x-icon",r.rel="shortcut icon",r.href="".concat(t,"img/seatable-favicon.ico"),e&&(r.href="".concat(t,"img/seaTable-notification.ico")),document.getElementsByTagName("head")[0].appendChild(r)},n.renderSaveMsg=function(){var e=n.props.t,t=n.state,a=t.isSaving,r=t.isSaved;return a&&!r?h.a.createElement("span",{className:"tip-message"},e("Saving")):!a&&r?window.isMobile?h.a.createElement("i",{className:"ml-2 dtable-font dtable-icon-check-mark"}):h.a.createElement("span",{className:"tip-message"},e("All_changes_saved")):null},n.focusDataGrid=function(){setTimeout((function(){window.canvas.focusContainer()}),0)},n.state={value:null,selectedTableIdx:0,selectedViewIdx:0,searchResult:null,collaborators:[],linkedCommonDatasets:[],datasetList:[],isShowRowExpand:!1,expandedRow:null,expandedTable:null,isSaving:!1,isSaved:!1,statisticsDialog:!1,isStatisticsViewShow:!1,tooltipOpen:!1,isShowListFormDialog:!1,selectedRowIndex:null,selectedColumnIndex:null,searchActive:!1,mobileShowHeader:!0,isInternalLinkRowExpand:!1,historyShowType:"",isShowDTableDescriptionDialog:!1,notificationCount:0,notificationList:[],notificationListPage:1,notificationListPerPage:25,canGetNotificationList:!0,isPluginPanelShow:!1,plugins:[],isChangeBrowserTitle:!1,isSortComponentShow:!1,isShareDialogShow:!1,isKeyboardShortcutsShow:!1,isLoading:!0,isCellEditorShow:!1,linkedTable:null,isHeaderMoreDropdown:!1,commentRowList:[]};var a=window.dtable;return n.dtableStore=new pt.DTableStore(a),n.eventBus=n.dtableStore.eventBus,n.gridUtils=new xC(n.dtableStore),n.pluginsHandles=[],n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this.eventBus;this.unsubscribeLocalTableDataChange=e.subscribe("local-dtable-changed",this.onDTableDataChange),this.unsubscribeRemoteTableDataChange=e.subscribe("remote-dtable-changed",this.onDTableDataChange),this.unsubscribeTableCurrentTableDelete=e.subscribe("dtable-current-table-delete",this.onDTableCurrentTableDelete),this.unsubscribeTableCurrentViewDelete=e.subscribe("dtable-current-view-delete",this.onDTableCurrentViewDelete),this.unsubscribeDtableBeginSaving=e.subscribe("dtable-begin-saving",this.onDtableBeginSaving),this.unsubscribeDtableEndSaving=e.subscribe("dtable-end-saving",this.onDtableEndSaving),this.unsubscribeOperationExecuteError=e.subscribe("operation-execute-error",this.onOperationExecuteError),this.unsubscribeConnectError=e.subscribe("connect-error",this.onSocketConnectError),this.unsubscribeReconnect=e.subscribe("reconnect",this.onSocketReconnect),this.unsubscribeDisconnect=e.subscribe("disconnect",this.onSocketDisconnect),this.unsubscribeDisconnectOperationTip=e.subscribe("disconnect-operation-tip",this.onDisconnectOperationTip),this.unsubscribeNotification=e.subscribe("new-notification",this.onNewNotification),history.pushState&&window.addEventListener("popstate",this.onHistoryState),window.isMobile=tm,window.app=this,this.initDtableData(),this.updateDTableAccessToken()}},{key:"componentWillUnmount",value:function(){this.storeViewPosition(),document.removeEventListener("popstate",this.onHistoryState),this.unsubscribeLocalTableDataChange(),this.unsubscribeRemoteTableDataChange(),this.unsubscribeTableCurrentTableDelete(),this.unsubscribeTableCurrentViewDelete(),this.unsubscribeDtableBeginSaving(),this.unsubscribeDtableEndSaving(),this.unsubscribeOperationExecuteError(),this.unsubscribeConnectError(),this.unsubscribeDisconnect(),this.unsubscribeReconnect(),this.unsubscribeNotification(),window.isMobile=null,window.app=null}},{key:"initDtableData",value:function(){var e=L(O.a.mark((function e(){var t,n,a,r,i,o,s,l,c=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.dtable,n=t.snapshotCommitID,a=t.permission,!n){e.next=6;break}return e.next=4,this.getSnapshot();case 4:e.next=9;break;case 6:return e.next=8,this.dtableStore.loadFromServer();case 8:this.dtableStore.syncWithServer();case 9:if("r"===a){e.next=13;break}return e.next=13,this.listCommonDatasets();case 13:return e.next=15,this.dtableStore.loadRelatedUsers();case 15:this.listCommentsByDays(),this.initDTablePlugins(),this.listNotifications(),r=this.dtableStore,i=r.value,o=r.collaborators,s=r.view_index,l=o.map((function(e){return new bC(e)})),this.setState({value:i,collaborators:l,selectedViewIdx:s},(function(){c.onHistoryState(),c.setState({isLoading:!1})}));case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSnapshot",value:function(){var e=L(O.a.mark((function e(){var t,n,a,r,i,o,s,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window,n=t.dtableWebAPI,a=window.dtable,r=a.workspaceID,i=a.fileName,o=a.snapshotCommitID,e.prev=2,e.next=5,n.getDTableSnapshotDownloadLink(r,i,o);case 5:return s=e.sent,e.next=8,U.a.create().get(s.data);case 8:l=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.handleError(e.t0);case 14:l&&l.data&&this.dtableStore.deseralizeDTable(l.data);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"listCommonDatasets",value:function(){var e=L(O.a.mark((function e(){var t,n,a,r,i=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getCommonDatasetIds(),n=[],a=0;case 3:if(!(a<t.length)){e.next=18;break}return r=void 0,e.prev=5,e.next=8,window.dtableWebAPI.getCommonDataset(t[a]);case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),this.handleError(e.t0);case 14:n[t[a]]=r?r.data:null;case 15:a++,e.next=3;break;case 18:this.setState({linkedCommonDatasets:n}),window.dtableWebAPI.listCommonDatasets().then((function(e){i.setState({datasetList:e.data.dataset_list})}));case 20:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCommonDataset",value:function(){var e=L(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.linkedCommonDatasets.slice(0))[t]){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,window.dtableWebAPI.getCommonDataset(t);case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.handleError(e.t0);case 12:if(a){e.next=14;break}return e.abrupt("return");case 14:r=a.data,n[t]=r,this.setState({linkedCommonDatasets:n});case 17:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUrlSearches",value:function(e){var t={};return e.split("?")[1].split("&").forEach((function(e){var n=e.split("=");t[n[0]]=decodeURI(n[1])})),t}},{key:"scrollToCurrentSelectedCell",value:function(e,t){var n=e.matchedCells[t],a=this.state,r=a.value,i=a.selectedTableIdx,o=a.selectedViewIdx,s=r.tables[i],l=s.views,c=pt.Views.getViewByIndex(l,o),u=n.column,d=n.groupIdx,p=n.rowIdx,h=pt.Views.getColumns(c,s).findIndex((function(e){return e.key===u}));if(pt.Views.isGroupView(c)){var f=window.viewport.state,m=f.groupVisibleStartIdx,g=f.groupVisibleEndIdx;(m>=d||d>=g)&&window.canvas.jumpToRow(d+1,p)}else{var v=window.viewport.state,y=v.rowVisibleEndIdx;p<v.rowVisibleStartIdx?window.canvas.jumpToRow(p-1):p>=y&&window.canvas.jumpToRow(p)}var _=window.viewport.state,b=_.colVisibleStartIdx,w=_.colVisibleEndIdx;(b>=h||h>w)&&(window.isMobile?window.canvas.scrollToColumn(h+1):window.canvas.scrollToColumn(h))}},{key:"onImportCSV",value:function(e,t){var n=this;this.dtableStore.dtableAPI.importCSV(e,t).then((function(){setTimeout((function(){var e=n.state.value.tables,t=e.length-1,a=e[t];n.pushHistoryState(a._id,a.views[0]._id),n.selectView(t,0)}),500)})).catch((function(e){n.handleError(e)}))}},{key:"render",value:function(){if(this.state.isLoading)return h.a.createElement("div",{className:"d-center-middle"},h.a.createElement(Dh,null));var e=this.props.t,t=this.state,n=t.value,a=t.selectedTableIdx,r=t.selectedViewIdx,i=t.isShowRowExpand,o=t.expandedRow,s=t.expandedTable,l=t.statisticsDialog,c=t.isShowListFormDialog,u=t.selectedRowIndex,d=t.selectedColumnIndex,f=t.searchResult,m=t.searchActive,g=t.isKeyboardShortcutsShow,v=t.foldedGroups,y=t.mobileShowHeader,_=t.historyShowType,b=t.notificationCount,w=t.isHeaderMoreDropdown,E=t.notificationList,T=t.isCellEditorShow,x=t.linkedTable,C=t.commentRowList,S=null,k=(n||{}).tables,O=0,M=!1,L=[],D={};if(!k)return"";S=k[a],O=this.getRowsCount(),L=this.getGroups(),M=this.isGroupView(),D=this.getFormulaRows()||{};var R=window.dtable.externalLinkToken,N=n.settings?n.settings.extra_toolbar_items:[];return h.a.createElement(p.Fragment,null,y&&h.a.createElement("div",{id:"header"},h.a.createElement("div",{className:"logo"},h.a.createElement("a",{href:window.dtable.server,className:"dtable-logo-link"},h.a.createElement("i",{className:"dtable-font dtable-icon-dtable-logo"})),this.renderSaveMsg()),h.a.createElement("div",{className:"title"},h.a.createElement("span",null,window.dtable.fileName),h.a.createElement("span",{className:"dtable-description",onClick:this.onDTableDescriptionToggle},h.a.createElement("i",{className:"dtable-font dtable-icon-description"}))),window.isMobile?h.a.createElement(kC,{t:e,showFormDialog:this.onListFormDialogToggle,showStatisticsView:this.showStatisticsView,togglePluginsPanel:this.togglePluginsPanel,toggleHistoryDialog:this.toggleHistoryDialog}):h.a.createElement("div",{className:"tools"},!R&&h.a.createElement("div",{onClick:this.onListFormDialogToggle,className:"tool form"},h.a.createElement("i",{className:"dtable-font dtable-icon-form"}),h.a.createElement("span",{className:"tool-title"},e("Forms"))),h.a.createElement("div",{className:"tool statistics",id:"statistics",onClick:this.showStatisticsDialog},h.a.createElement("i",{className:"dtable-font dtable-icon-statistics"}),h.a.createElement("span",{className:"tool-title"},e("Statistics"))),!R&&h.a.createElement(nO,{notificationCount:b,notificationList:E,tables:k,onDeleteAllNotifications:this.onDeleteAllNotifications,onMarkAllNotifications:this.onMarkAllNotifications,listNotifications:this.listNotifications,onUpdateNotification:this.onUpdateNotification,onCommit:this.notificatonRowsUpdated,onRestBrowserTitle:this.onRestBrowserTitle,onMarkNotification:this.onMarkNotification}),R&&h.a.createElement(RO,null),R&&h.a.createElement(LO,null),h.a.createElement(De,{className:"tool",isOpen:w,toggle:this.toggleHeaderMoreDropdown},h.a.createElement(ze,{tag:"span","data-toggle":"dropdown"},h.a.createElement("span",{className:"toggle-icon dtable-font dtable-icon-more-level"})),h.a.createElement(st,{right:!0},h.a.createElement(dt,{onClick:this.toggleKeyboardShortcuts},e("Shortcuts")))))),h.a.createElement("div",{id:"tables",className:y?"":"h-100"},S&&h.a.createElement(_C,{tables:n.tables,rowsCount:O,rowGetter:this.rowGetter,groupRowGetter:this.groupRowGetter,isGroupView:M,groups:L,modifyCanlendarViewColumn:this.modifyCanlendarViewColumn,focusNextMatchedCell:this.focusNextMatchedCell,focusPreviousMatchedCell:this.focusPreviousMatchedCell,selectedTab:a,searchCells:this.searchCells,clearSearchResult:this.clearSearchResult,searchResult:f,selectedViewIdx:r,onChangeTabActive:this.onSelectTable,onNewTableConfirm:this.onNewTableConfirm,onRenameTableConfirm:this.onRenameTableConfirm,onDeleteTab:this.onDeleteTable,onDuplicateTable:this.onDuplicateTable,moveTable:this.moveTable,addView:this.addView,moveView:this.moveView,modifyViewLock:this.modifyViewLock,onSelectView:this.onSelectView,onRenameView:this.onRenameView,onDeleteView:this.onDeleteView,addFilter:this.addFilter,updateFilter:this.updateFilter,deleteFilter:this.deleteFilter,updateFilterConjunction:this.updateFilterConjunction,moveColumn:this.onHeaderDrop,onHideColumn:this.onHideColumn,onShowColumn:this.onShowColumn,hideAllColumns:this.hideAllColumns,showAllColumns:this.showAllColumns,addSort:this.addSort,updateSort:this.updateSort,deleteSort:this.deleteSort,onSortComponentToggle:this.onSortComponentToggle,isSortComponentShow:this.state.isSortComponentShow,addGroup:this.addGroup,updateGroup:this.updateGroup,deleteGroup:this.deleteGroup,searchActive:m,onSearchActiveToggle:this.onSearchActiveToggle,toggleShowHeader:this.toggleShowHeader,mobileShowHeader:y,onRowExpand:this.expandRow,toggleHistoryDialog:this.toggleHistoryDialog,updateTableSetting:this.updateTableSetting,onCalendarInsertRow:this.onInsertRow,togglePluginsPanel:this.togglePluginsPanel,toolbarPlugins:N,executePluginItemCallback:this.executePluginItemCallback,toggleShareDialog:this.toggleShareDialog}),S&&h.a.createElement(V_,{ref:"data_grid",tables:k,table:S,rowsCount:O,isGroupView:M,groups:L,formulaRows:D,selectedTableIdx:a,selectedViewIdx:r,foldedGroups:v,mobileShowHeader:y,searchResult:f,eventBus:this.eventBus,rowGetter:this.rowGetter,groupRowGetter:this.groupRowGetter,getRowsSize:this.getRowsSize,onInsertRow:this.onInsertRow,onRowDelete:this.onRowDelete,onRowsDelete:this.onRowsDelete,moveRows:this.moveRows,moveGroupRows:this.moveGroupRows,onRowDuplicate:this.onRowDuplicate,onNewColumn:this.onNewColumn,onDeleteColumn:this.onDeleteColumn,onRenameColumn:this.onRenameColumn,onHideColumn:this.onHideColumn,onColumnResize:this.onColumnResize,onHeaderDrop:this.onHeaderDrop,handleGridRowsUpdated:this.handleGridRowsUpdated,onPasteGrid:this.onPasteGrid,updateColumnFormat:this.updateColumnFormat,onRowExpand:this.expandRow,onEditCell:this.onEditCell,toggleColumnFreeze:this.toggleColumnFreeze,modifyHeaderLock:this.modifyHeaderLock,onExpandGroupToggle:this.onExpandGroupToggle,modifyColumnType:this.modifyColumnType,onUpdateFormula:this.onUpdateFormula,addSort:this.addSort,updateSort:this.updateSort,onSortComponentToggle:this.onSortComponentToggle,onFillingDragRows:this.onFillingDragRows,commentRowList:C,listCommentsByDays:this.listCommentsByDays,onGridKeyDown:this.onHotKey,onGridKeyUp:this.onHotKeyUp})),!tm&&i&&h.a.createElement(iC,{columns:s.columns,expandedTable:s,expandedRow:o,formulaRows:om(s),onRowExpandCancel:this.onRowExpandCancel,onCommit:this.handleExpandedTableGridRowsUpdated,listCommentsByDays:this.listCommentsByDays}),tm&&i&&h.a.createElement(uk,{columns:s.columns,expandedRow:o,formulaRows:om(s),onRowExpandCancel:this.onRowExpandCancel,onCommit:this.handleExpandedTableGridRowsUpdated}),this.state.isInternalLinkRowExpand&&h.a.createElement(iC,{columns:im(x),expandedTable:x,expandedRow:o,formulaRows:om(x),isInternalLinkTable:!0,onSelectTable:this.onSelectLinkedTable,onRowExpandCancel:this.closeInternalLinkRowExpand,onCommit:this.interanlLinkRowsUpdated,listCommentsByDays:this.listCommentsByDays}),T&&h.a.createElement(fk,{columns:S.columns,hiddenColumns:S.views[r].hidden_columns,rowIdx:u,columnIdx:d,onCellEditorCancel:this.onCellEditorCancel,onCommit:this.handleGridRowsUpdated,expandedRow:o}),l&&h.a.createElement(fS,{hideStatisticsDialog:this.hideStatisticsDialog,value:n,onExportStatisticToTable:this.onExportStatisticToTable}),c&&h.a.createElement(SS,{onListFormDialogToggle:this.onListFormDialogToggle}),this.state.isStatisticsViewShow&&h.a.createElement(Ek,{hideStatisticsView:this.hideStatisticsView,value:n,selectedTableIdx:a,selectedViewIdx:r}),_&&h.a.createElement(Gk,{toggleDialog:this.toggleHistoryDialog,collaborators:this.state.collaborators,value:n,historyShowType:_}),this.renderBrowserTitle(),this.renderDTableDescription(),this.state.isPluginPanelShow&&h.a.createElement(Dm,null,h.a.createElement(CO,{plugins:this.state.plugins,executePluginItemCallback:this.executePluginItemCallback,onAddPlugin:this.onAddPlugin,onUpdatePlugin:this.onUpdatePlugin,onDeletePlugin:this.onDeletePlugin,togglePluginsPanel:this.togglePluginsPanel,addToolbarPlugin:this.addToolbarPlugin,deleteToolbarPlugin:this.deleteToolbarPlugin,toolbarPlugins:N})),this.state.isShareDialogShow&&h.a.createElement(vM,{shareCancel:this.toggleShareDialog}),g&&h.a.createElement(bM,{toggle:this.toggleKeyboardShortcuts}))}}]),t}(h.a.Component),EM=Object(I.d)("dtable")(wM),TM=function(e){return/text|textarea|tel|email|number|search|password|url/i.test(e)},xM=function(e){var t=e||window.event,n=t.target||t.srcElement;return"editor-component"===n.className||(!(8===t.keyCode&&!function(e){var t,n=e.type||e.getAttribute("type");if(t=e.tagName,/input|textarea/i.test(t)){var a=e.readOnly,r=e.disabled;return a=void 0!==a&&a,r=void 0===r||r,!(!TM(n)||TM(n)&&(a||r))}return!!function(e){return e.isContentEditable}(e)}(n))||(t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1))},CM=(n(1263),n(1264),n(1265),n(1266),n(1267),function(e){function t(e){var n;return v(this,t),(n=T(this,x(t).call(this,e))).state={isAccessTokenLoaded:!1},n}return S(t,e),_(t,[{key:"componentDidMount",value:function(){var e=this,t=window.dtable,n=t.workspaceID,a=t.fileName,r=t.shareLinkToken,i=t.externalLinkToken,o=window.dtableWebAPI;if(o.req){if(i)return void o.getTableAccessTokenByExternalLink(i).then((function(t){window.dtable.accessToken=t.data.access_token,e.setState({isAccessTokenLoaded:!0})}));if(r)return void o.getTableAccessTokenByShareLink(r).then((function(t){window.dtable.accessToken=t.data.access_token,e.setState({isAccessTokenLoaded:!0})}));o.getTableAccessToken(n,a).then((function(t){window.dtable.accessToken=t.data.access_token,e.setState({isAccessTokenLoaded:!0})}))}else o.login().then((function(){i?o.getTableAccessTokenByExternalLink(i).then((function(t){window.dtable.accessToken=t.data.access_token,e.setState({isAccessTokenLoaded:!0})})):r?o.getTableAccessTokenByShareLink(r).then((function(t){window.dtable.accessToken=t.data.access_token,e.setState({isAccessTokenLoaded:!0})})):o.getTableAccessToken(n,a).then((function(t){window.dtable.accessToken=t.data.access_token,e.setState({isAccessTokenLoaded:!0})}))}));document.addEventListener("keydown",(function(e){xM(e)})),document.addEventListener("keypress",(function(e){xM(e)}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",xM()),document.removeEventListener("keypress",xM()),window.onbeforeunload=function(){return null}}},{key:"render",value:function(){return this.state.isAccessTokenLoaded?h.a.createElement(p.Suspense,{fallback:h.a.createElement("div",{className:"d-center-middle"},h.a.createElement(Dh,null))},h.a.createElement(EM,null)):h.a.createElement("div",{className:"d-center-middle"},h.a.createElement(Dh,null))}}]),t}(h.a.Component)),SM=n(260),kM=n(18),OM=n(2),MM=window.app.config,LM=MM.siteRoot,DM=MM.mediaUrl,RM=MM.lang,NM=MM.loginUrl,IM=MM.dtableBaiduMapKey,AM=MM.dtableGoogleMapKey,PM=MM.dtableEnableGeolocationColumn,YM=window.app.pageOptions,FM=YM.server,jM=YM.workspaceID,UM=YM.username,HM=YM.userNickName,BM=YM.contactEmail,VM=YM.fileName,GM=YM.filePath,WM=YM.dtableUuid,zM=YM.dtableServer,qM=YM.dtableSocket,KM=YM.shareLinkToken,XM=YM.externalLinkToken,JM=YM.permission,ZM=YM.repoApiToken,$M=YM.seafileUrl,QM=YM.snapshotCommitID,eL=YM.canCreateCommonDataset,tL=YM.cloudMode,nL=YM.isOrgContext,aL=YM.seatableMarketUrl,rL=YM.canGenerateShareLink,iL=YM.canGenerateExternalLink,oL=YM.canInvitePeople,sL=YM.assetQuotaExceeded,lL=YM.isAdmin;window.dtable={},window.dtable={workspaceID:jM,siteRoot:LM,username:UM,name:HM,contactEmail:BM,server:FM,dtableServer:zM,dtableSocket:qM,filePath:GM,fileName:VM,dtableUuid:WM,mediaUrl:DM,lang:RM,shareLinkToken:KM,externalLinkToken:XM,permission:JM,repoApiToken:ZM,seafileUrl:$M,loginUrl:NM,snapshotCommitID:QM,canCreateCommonDataset:eL,cloudMode:tL,isOrgContext:nL,dtableBaiduMapKey:IM,dtableGoogleMapKey:AM,dtableEnableGeolocationColumn:PM,seatableMarketUrl:aL,canGenerateShareLink:rL,canGenerateExternalLink:iL,canInvitePeople:oL,isAdmin:lL},window.dtableWebAPI=g.a;var cL=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){sL&&kM.a.warning(Object(OM.A)("Your attachments has exceeded quota and all tables will be read-only."))}},{key:"render",value:function(){return h.a.createElement(CM,null)}}]),t}(h.a.Component);m.a.render(h.a.createElement(I.a,{i18n:SM.a},h.a.createElement(cL,null)),document.getElementById("wrapper"))}],[[865,1,0]]]);
//# sourceMappingURL=viewDataGrid.chunk.js.map