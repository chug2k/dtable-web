{"version":3,"sources":["pages/org-admin/side-panel.js","components/select-editor/user-status-editor.js","pages/org-admin/org-user-item.js","pages/org-admin/org-users-list.js","pages/org-admin/org-admin-list.js","pages/org-admin/main-panel-topbar.js","models/org-user.js","components/dialog/org-add-admin-dialog.js","components/dialog/org-add-user-dialog.js","../node_modules/@seafile/seafile-editor/dist/utils/copy-to-clipboard.js","components/dialog/org-admin-invite-user-dialog.js","pages/org-admin/org-users.js","components/org-admin-user-nav.js","components/dialog/set-org-user-name.js","components/dialog/set-org-user-contact-email.js","components/dialog/set-org-user-quota.js","pages/org-admin/org-user-profile.js","models/org-group.js","pages/org-admin/org-groups.js","components/org-admin-group-nav.js","pages/org-admin/org-group-info.js","pages/org-admin/org-group-members.js","components/dialog/orgadmin-diglog/sysadmin-set-org-name-dialog.js","pages/org-admin/org-info.js","pages/org-admin/org-departments.js","components/dialog/org-add-department-dialog.js","components/dialog/org-delete-department-dialog.js","components/dialog/org-set-group-quota-dialog.js","pages/org-admin/org-departments-list.js","components/dialog/org-add-member-dialog.js","components/dialog/org-delete-member-dialog.js","pages/org-admin/org-department-item.js","pages/org-admin/org-normal-dtables.js","pages/org-admin/org-trash-dtables.js","pages/org-admin/org-dtables.js","pages/org-admin/index.js","../node_modules/qr.js/lib/mode.js","../node_modules/qr.js/lib/ErrorCorrectLevel.js","../node_modules/qr.js/lib/Polynomial.js","../node_modules/qr.js/lib/math.js","components/logo.js","../node_modules/qrcode.react/lib/index.js","components/select-editor/role-editor.js","pages/dtable/dialog/restore-table-dialog.js","../node_modules/qr.js/lib/QRCode.js","../node_modules/qr.js/lib/8BitByte.js","../node_modules/qr.js/lib/RSBlock.js","../node_modules/qr.js/lib/BitBuffer.js","../node_modules/qr.js/lib/util.js","components/paginator.js"],"names":["SidePanel","getActiveClass","tab","props","currentTab","tabItemClick","className","this","isSidePanelClosed","onCloseSidePanel","style","gettext","to","siteRoot","onClick","React","Component","UserStatusEditor","translateStatus","userStatus","isTextMode","isEditIconShow","options","statusArray","currentOption","currentStatus","onOptionChanged","onStatusChanged","translateOption","UserItem","onMouseEnter","isItemFreezed","setState","showMenu","highlight","onMouseLeave","toggleDelete","email","user","toggleResetPW","toaster","success","dtableWebAPI","orgAdminResetOrgUserPassword","orgID","then","res","msg","replace","data","new_password","duration","catch","error","errMessage","Utils","getErrorMsg","danger","toggleRevokeAdmin","changeStatus","st","statusCode","orgAdminChangeOrgUserStatus","id","onDropdownToggleClick","e","preventDefault","toggleOperationMenu","stopPropagation","isItemMenuShow","state","onFreezedItem","onUnfreezedItem","is_active","href","encodeURIComponent","isOperationMenuShow","username","name","quota","self_usage","ctime","last_login","isOpen","toggle","tag","title","data-toggle","aria-expanded","OrgUsersList","onChangePageNum","num","page","initOrgUsersData","orgUsers","pageNext","width","map","item","key","OrgAdminList","initOrgAdmin","orgAdminUsers","MainPanelTopbar","children","isAdminPanel","moment","locale","lang","OrgUserInfo","object","contact_email","owner_contact_email","bytesToSize","fromNow","format","AddOrgAdminDialog","handleSelectChange","option","selectedOption","addOrgAdmin","userEmail","orgAdminSetOrgAdmin","userInfo","onAddedOrgAdmin","ref","isMulti","placeholder","onSelectChange","color","AddOrgUserDialog","handleSubmit","validateInputParams","password","newName","trim","isAddingUser","handleKeyPress","togglePasswordVisible","isPasswordVisible","passwdInput","type","passwdNewInput","generatePassword","val","Math","random","toString","substr","passwdnew","inputEmail","target","value","inputName","inputPassword","passwd","inputPasswordNew","createRef","length","password1","password2","for","onChange","innerRef","input","addonType","disabled","text","reselectPrevious","range","selection","mark","document","createRange","getSelection","createElement","textContent","body","appendChild","selectNode","addRange","execCommand","console","log","err","removeRange","removeAllRanges","removeChild","InviteUserDialog","copyLink","copy","invitationLink","message","size","OrgUsers","param","toggleAddOrgAdmin","isShowAddOrgAdminDialog","toggleAddOrgUser","isShowAddOrgUserDialog","toggleInviteUserDialog","isInviteUserDialogOpen","orgAdminListOrgUsers","userList","user_list","page_next","addOrgUser","orgAdminAddOrgUser","unshift","toggleOrgUsersDelete","orgAdminDeleteOrgUser","users","filter","toggleOrgAdminDelete","topbarChildren","topBtn","OrgAdminUserNav","currentItem","urlBase","SetOrgUserName","handleInputChange","inputValue","formSubmit","submitBtnDisabled","orgAdminSetOrgUserName","updateName","toggleDialog","errorMsg","formErrorMsg","centered","Fragment","SetOrgUserContactEmail","contactEmail","orgAdminSetOrgUserContactEmail","newContactEmail","updateContactEmail","SetOrgUserQuota","orgAdminSetOrgUserQuota","updateQuota","quota_total","initialQuota","quotaTotal","window","org","pageOptions","orgName","OrgUserProfile","loading","orgAdminGetOrgUserInfo","Object","assign","response","status","location","loginUrl","Content","toggleSetNameDialog","isSetNameDialogOpen","toggleSetContactEmailDialog","isSetContactEmailDialogOpen","toggleSetQuotaDialog","isSetQuotaDialogOpen","avatar_url","quota_usage","src","height","alt","OrgGroupInfo","groupName","group_name","creatorName","creator_name","creatorEmail","creator_email","creatorContactEmail","creator_contact_email","OrgGroups","initData","orgAdminListOrgGroups","orgGroups","groups","deleteGroupItem","group","orgAdminDeleteOrgGroup","GroupItem","renderGroupHref","renderGroupCreator","userInfoHref","OrgAdminGroupNav","groupID","orgAdminGetGroup","OrgGroupMembers","orgAdminListGroupMembers","members","index","Item","role","getRoleText","OrgAdminSetOrgNameDialog","isSubmitBtnActive","onKeyPress","OrgInfo","orgAdminUpdateOrgInfo","showEditIcon","action","storage_quota","storage_usage","member_quota","member_usage","active_members","org_name","orgAdminGetOrgInfo","orgMemberQuotaEnabled","OrgDepartments","AddDepartDialog","validateName","parentGroup","parentGroupID","orgAdminAddDepartGroup","departName","onDepartChanged","error_msg","handleChange","newInput","focus","setSelectionRange","header","DeleteDepartDialog","deleteDepart","orgAdminDeleteDepartGroup","subtitle","HTMLescape","dangerouslySetInnerHTML","__html","SetGroupQuotaDialog","setGroupQuota","test","newQuota","orgAdminSetGroupQuota","OrgDepartmentsList","listDepartGroups","orgAdminListDepartGroups","showDeleteDepartDialog","showSetGroupQuotaDialog","toggleAddDepartDialog","isShowAddDepartDialog","toggleCancel","newHref","created_at","bind","AddMemberDialog","Options","refs","orgSelect","clearSelect","orgAdminAddGroupMember","failed","onMemberChanged","DeleteMemberDialog","deleteMember","member","orgAdminDeleteGroupMember","OrgDepartmentItem","listOrgMembers","orgAdminListGroupInfo","ancestorGroups","ancestor_groups","listSubDepartGroups","showDeleteMemberDialog","onSubDepartChanged","toggleItemFreezed","isFreezed","deletedMember","toggleAddMemberDialog","isShowAddMemberDialog","subGroup","subGroupID","subGroupName","nextProps","ancestor","MemberItem","toggleMemberRoleMenu","showRoleMenu","onChangeUserRole","isAdmin","orgAdminSetGroupMemberRole","roles","memberLink","serviceURL","currentRole","onRoleChanged","handleMouseOver","isOpIconShown","handleMouseOut","onMenuItemClick","operation","toggleDeleteDialog","onDeleteDTable","dtableName","orgAdminDeleteDTable","deleteDTable","isDeleteDialogOpen","aria-hidden","uuid","creator","currentTable","deleteCancel","OrgNormalDTables","dtableList","slice","dtable","getPreviousPageList","loadDTables","getNextPageList","resetPerPage","per_page","orgAdminListDTables","dtable_list","count","gotoPreviousPage","gotoNextPage","currentPage","hasNextPage","canResetPerPage","curPerPage","toggleRestoreDialog","onRestoreDTable","orgAdminRestoreTrashDTable","restoreDTable","isRestoreDialogOpen","delete_time","restoreCancel","OrgTrashDTables","orgAdminListTrashDTables","expireDays","OrgDTables","Org","split","indexOf","path","ReactDOM","render","getElementById","module","exports","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","L","M","Q","H","math","QRPolynomial","shift","undefined","Error","offset","Array","i","prototype","get","getLength","multiply","j","gexp","glog","mod","ratio","QRMath","n","LOG_TABLE","EXP_TABLE","Logo","closeSide","mediaUrl","logoPath","logoHeight","logoWidth","siteTitle","showCloseSidePanelIcon","aria-label","_typeof","obj","Symbol","iterator","constructor","_extends","arguments","source","hasOwnProperty","call","apply","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","level","bgColor","fgColor","includeMargin","MARGIN_SIZE","DEFAULT_IMG_SCALE","generatePath","modules","margin","ops","row","y","start","cell","x","concat","join","excavateModules","excavation","h","w","getImageSettings","cells","imageSettings","numCells","defaultSize","floor","scale","excavate","floorX","floorY","ceil","SUPPORTS_PATH2D","Path2D","addPath","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_this","_len","args","_key","imgLoaded","update","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","devicePixelRatio","fillStyle","fillRect","fill","rdx","cdx","_image","drawImage","_this2","_this$props2","otherProps","canvasStyle","img","imgSrc","display","onLoad","handleImageLoad","_ref","_ref2","PureComponent","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","viewBox","d","QRCode","renderAs","defaultProps","RoleEditor","translateRole","RestoreTableDialog","BitByte","RSBlock","BitBuffer","util","Polynomial","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","proto","newData","isDark","col","getModuleCount","rsBlocks","getRSBlocks","buffer","totalDataCount","dataCount","put","mode","getLengthInBits","write","makeImpl","getBestMaskPattern","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","modPoly","modIndex","totalCodeCount","QR8bitByte","ECL","QRRSBlock","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","QRBitBuffer","bufIndex","bit","Mode","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","a","qrCode","sameCount","darkCount","abs","Paginator","perPage","updateURL","Number","goToPrevious","goToNext","url","URL","searchParams","URLSearchParams","search","set","navigate","getPerPageText","leftDisabled","rightDisabled"],"mappings":"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AAI,IAAK,CAAC,GAAI,GAAI,IAC5E,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACpG,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACnG,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACnG,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACnG,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACnG,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACpG,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACnG,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACtG,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACpG,CAAC,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACzF,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACtG,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpG,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACtG,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpG,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACtG,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACtG,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI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","file":"static/js/orgAdmin.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport Logo from '../../components/logo';\nimport { gettext, siteRoot } from '../../utils/constants';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\nclass SidePanel extends React.Component {\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab === tab ? 'active' : '';\n  }\n\n  tabItemClick = (tab) => {\n    this.props.tabItemClick(tab);\n  }\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <div className=\"side-nav\">\n            <div className=\"side-nav-con\">\n              <h3 className=\"sf-heading\" style={{ 'color': '#f7941d' }}>{gettext('Admin')}</h3>\n              <ul className=\"nav nav-pills flex-column nav-container\">\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('orgmanage')}`} to={siteRoot + 'org/orgmanage/'} onClick={() => this.tabItemClick('orgmanage')} >\n                    <span className=\"dtable-font dtable-icon-info\"></span>\n                    <span className=\"nav-text\">{gettext('Info')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('users') || this.getActiveClass('admins')}`} to={siteRoot + 'org/useradmin/'} onClick={() => this.tabItemClick('users')} >\n                    <span className=\"dtable-font dtable-icon-mine\"></span>\n                    <span className=\"nav-text\">{gettext('Users')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('tables')}`} to={siteRoot + 'org/dtableadmin/'} onClick={() => this.tabItemClick('tables')}>\n                    <span className=\"dtable-font dtable-icon-dtable-logo\"></span>\n                    <span className=\"nav-text\">{gettext('Tables')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('groupadmin')}`} to={siteRoot + 'org/groupadmin/'} onClick={() => this.tabItemClick('groupadmin')}>\n                    <span className=\"dtable-font dtable-icon-groups\"></span>\n                    <span className=\"nav-text\">{gettext('Groups')}</span>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className={`nav-link ellipsis ${this.getActiveClass('departmentadmin')}`} to={siteRoot + 'org/departmentadmin/'} onClick={() => this.tabItemClick('departmentadmin')} >\n                    <span className=\"dtable-font dtable-icon-organization\"></span>\n                    <span className=\"nav-text\">{gettext('Departments')}</span>\n                  </Link>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusArray: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass UserStatusEditor extends React.Component {\n\n  translateStatus = (userStatus) => {\n    if (userStatus === 'active') {\n      return gettext('Active');\n    }\n    \n    if (userStatus === 'inactive') {\n      return gettext('Inactive');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor \n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusArray}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n\n}\n\nUserStatusEditor.propTypes = propTypes;\n\nexport default UserStatusEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { gettext, siteRoot, orgID, username } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport UserStatusEditor from '../../components/select-editor/user-status-editor';\n\nconst propTypes = {\n  user: PropTypes.object,\n  currentTab: PropTypes.string,\n  toggleRevokeAdmin: PropTypes.func,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      currentStatus: this.props.user.is_active ? 'active' : 'inactive',\n      isItemMenuShow: false\n    };\n\n    this.statusArray = ['active', 'inactive'];\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  } \n\n  toggleDelete = () => {\n    const email = this.props.user.email;\n    this.props.toggleDelete(email);\n  }        \n           \n  toggleResetPW = () => {\n    const email = this.props.user.email;\n    toaster.success(gettext('Resetting user\\'s password, please wait for a moment.'));\n    dtableWebAPI.orgAdminResetOrgUserPassword(orgID, email).then(res => {\n      let msg;\n      msg = gettext('Successfully reset password to %(passwd)s for user %(user)s.');\n      msg = msg.replace('%(passwd)s', res.data.new_password);\n      msg = msg.replace('%(user)s', email);\n      toaster.success(msg, {\n        duration: 15\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleRevokeAdmin = () => {\n    const email = this.props.user.email;\n    this.props.toggleRevokeAdmin(email);\n  }\n\n  changeStatus = (st) => {\n    let statusCode;\n    if (st === 'active') {\n      statusCode = 1;\n    } else {\n      statusCode = 0;\n    }\n\n    dtableWebAPI.orgAdminChangeOrgUserStatus(this.props.user.id, statusCode).then(res => {\n      this.setState({\n        currentStatus: statusCode === 1 ? 'active' : 'inactive',\n        highlight: false,\n        showMenu: false,\n      });\n      toaster.success(gettext('Edit succeeded.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      if (errMessage === gettext('Error')) {\n        errMessage = gettext('Edit failed.');\n      }\n      toaster.danger(errMessage);\n    });\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  render() {\n    let { user, currentTab } = this.props;\n    let href = siteRoot + 'org/useradmin/info/' + encodeURIComponent(user.email) + '/';\n    let isOperationMenuShow = (user.email !== username)  && this.state.showMenu;\n    let isEditIconShow = isOperationMenuShow;\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td>\n          <a href={href} className=\"font-weight-normal\">{user.name}</a>\n        </td>\n        <td>\n          <UserStatusEditor \n            isTextMode={true}\n            isEditIconShow={isEditIconShow}\n            currentStatus={this.state.currentStatus}\n            statusArray={this.statusArray}\n            onStatusChanged={this.changeStatus}\n          />\n        </td>\n        <td>{user.quota ? user.self_usage + ' / ' + user.quota : user.self_usage}</td>\n        <td style={{'fontSize': '11px'}}>{user.ctime} / {user.last_login ? user.last_login : '--'}</td>\n        <td className=\"text-center cursor-pointer\">\n          {isOperationMenuShow && (\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon dtable-font dtable-icon-more-vertical\"\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n                <DropdownItem onClick={this.toggleResetPW}>{gettext('ResetPwd')}</DropdownItem>\n                {currentTab === 'admins' && <DropdownItem onClick={this.toggleRevokeAdmin}>{gettext('Revoke Admin')}</DropdownItem>}\n              </DropdownMenu>\n            </Dropdown>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nUserItem.propTypes = propTypes;\n\nexport default UserItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport UserItem from './org-user-item';\n\nconst propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  initOrgUsersData: PropTypes.func.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  orgUsers: PropTypes.array.isRequired,\n  page: PropTypes.number.isRequired,\n  pageNext: PropTypes.bool.isRequired,\n};\n\nclass OrgUsersList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.initOrgUsersData(this.props.page);\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.props.page;\n\n    if (num === 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n\n    this.props.initOrgUsersData(page);\n  }\n\n  render() {\n    let { orgUsers, page, pageNext } = this.props;\n    return (\n      <div className=\"cur-view-content\">\n        <table>\n          <thead>\n            <tr>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"15%\">{gettext('Status')}</th>\n              <th width=\"15%\">{gettext('Space Used')}</th>\n              <th width=\"20%\">{gettext('Create At / Last Login')}</th>\n              <th width=\"20%\" className=\"text-center\">{gettext('Operations')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orgUsers.map(item => {\n              return (\n                <UserItem \n                  key={item.id}\n                  user={item}\n                  currentTab={this.props.currentTab}\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleDelete={this.props.toggleDelete}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />\n              );})}\n          </tbody>\n        </table>\n        <div className=\"paginator\">\n          {page !== 1 && <span className=\"a-simulate\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</span>}\n          {(page !== 1 && pageNext) && <span> | </span>}\n          {pageNext && <span className=\"a-simulate\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</span>}\n        </div>\n      </div>\n    );\n  }\n}\n\nOrgUsersList.propTypes = propTypes;\n\nexport default OrgUsersList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport UserItem from './org-user-item';\n\nimport '../../css/org-admin-paginator.css';\n\nconst propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  toggleRevokeAdmin: PropTypes.func.isRequired,\n  orgAdminUsers: PropTypes.array.isRequired,\n  initOrgAdmin: PropTypes.func.isRequired,\n};\n\nclass OrgAdminList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.initOrgAdmin();\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    let orgAdminUsers = this.props.orgAdminUsers;\n\n    return (\n      <div className=\"cur-view-content\">\n        <table>\n          <thead>\n            <tr>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"15%\">{gettext('Status')}</th>\n              <th width=\"15%\">{gettext('Space Used')}</th>\n              <th width=\"20%\">{gettext('Create At / Last Login')}</th>\n              <th width=\"20%\" className=\"text-center\">{gettext('Operations')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orgAdminUsers.map(item => {\n              return (\n                <UserItem \n                  key={item.id}\n                  user={item}\n                  currentTab={this.props.currentTab}\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleDelete={this.props.toggleDelete}\n                  toggleRevokeAdmin={this.props.toggleRevokeAdmin}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nOrgAdminList.propTypes = propTypes;\n\nexport default OrgAdminList;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Account from '../../components/common/account';\n\nconst propTypes = {\n  children: PropTypes.object,\n};\n\nclass MainPanelTopbar extends Component {\n\n  render() {\n    return (\n      <div className=\"main-panel-north border-left-show\">\n        <div className=\"cur-view-toolbar\">\n          <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\"></span>\n          <div className=\"operation\">\n            {this.props.children}\n          </div>\n        </div>\n        <div className=\"common-toolbar\">\n          <Account isAdminPanel={true}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanelTopbar.propTypes = propTypes;\n\nexport default MainPanelTopbar;\n","import { Utils } from '../utils/utils';\nimport { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgUserInfo {\n  constructor(object) {\n    this.id = object.id;\n    this.name = object.name;\n    this.email = object.email;\n    this.contact_email = object.owner_contact_email;\n    this.is_active = object.is_active;\n    this.quota = object.quota > 0 ? Utils.bytesToSize(object.quota) : '';\n    this.self_usage = Utils.bytesToSize(object.self_usage);\n    this.last_login = object.last_login ? moment(object.last_login).fromNow() : '--';\n    this.ctime = moment(object.ctime).format('YYYY-MM-DD HH:mm:ss');\n  }\n}\n\nexport default OrgUserInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\nimport UserSelect from '../user-select';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport OrgUserInfo from '../../models/org-user';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  onAddedOrgAdmin: PropTypes.func.isRequired,\n};\n\nclass AddOrgAdminDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      errMessage: ''\n    });\n    this.options = [];\n  }\n\n  addOrgAdmin = () => {\n    if (!this.state.selectedOption) return;\n    const userEmail = this.state.selectedOption.email;\n    dtableWebAPI.orgAdminSetOrgAdmin(orgID, userEmail, true).then(res => {\n      let userInfo = new OrgUserInfo(res.data);\n      this.props.onAddedOrgAdmin(userInfo);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  } \n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Admins')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Select a user as admin...')}\n            onSelectChange={this.handleSelectChange}\n          />\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n          <Button color=\"primary\" onClick={this.addOrgAdmin}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddOrgAdminDialog.propTypes = propTypes;\n\nexport default AddOrgAdminDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, Input, ModalHeader, ModalBody, ModalFooter, Label, Form, InputGroup, InputGroupAddon, FormGroup } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nclass AddOrgUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPasswordVisible: true,\n      email: '',\n      name: '',\n      password: '',\n      passwdnew: '',\n      errMessage: '',\n      isAddingUser: false,\n    };\n    this.passwdInput = React.createRef();\n    this.passwdNewInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateInputParams();\n    if (isValid) {\n      let { email, name, password } = this.state;\n      let newName = name.trim();\n      this.setState({isAddingUser: true});\n      this.props.handleSubmit(email, newName, password);\n    }\n  } \n\n  handleKeyPress = (e) => {\n    e.preventDefault();\n    if (e.key === 'Enter') {\n      this.handleSubmit(e);\n    }\n  };\n\n  togglePasswordVisible = () => {\n    this.setState({isPasswordVisible: !this.state.isPasswordVisible}, () => {\n      if (this.state.isPasswordVisible) {\n        this.passwdInput.type = 'password';\n        this.passwdNewInput.type = 'password';\n      } else {\n        this.passwdInput.type = 'text';\n        this.passwdNewInput.type = 'text';\n      }\n    });\n  }\n\n  generatePassword = () => {\n    let val = Math.random().toString(36).substr(5);\n    this.setState({\n      password: val,\n      passwdnew: val,\n      isPasswordVisible: false\n    }, () => {\n      this.passwdInput.type = 'text';\n      this.passwdNewInput.type = 'text';\n    });\n  }\n\n  inputEmail = (e) => {\n    let email = e.target.value.trim();\n    this.setState({email: email});\n  }\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({name: name});\n  }\n\n  inputPassword = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({password: passwd}, () => {\n      if (this.state.isPasswordVisible) {\n        this.passwdInput.type = 'password';\n        this.passwdNewInput.type = 'password';\n      }\n    });\n  }\n\n  inputPasswordNew = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({passwdnew: passwd}, () => {\n      if (this.state.isPasswordVisible) {\n        this.passwdInput.type = 'password';\n        this.passwdNewInput.type = 'password';\n      }\n    });\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  validateInputParams() {\n    let errMessage;\n    let email = this.state.email;\n    if (!email.length) {\n      errMessage = gettext('email is required');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    let name = this.state.name;\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n\n    let password1 = this.state.password;\n    let password2 = this.state.passwdnew;\n    if (!password1.length) {\n      errMessage = gettext('Please enter password');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (!password2.length) {\n      errMessage = gettext('Please enter the password again');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (password1 !== password2) {\n      errMessage = gettext('Passwords don\\'t match');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add User')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"userEmail\">{gettext('Email')}</Label>\n              <Input id=\"userEmail\"  value={this.state.email || ''} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userName\">{gettext('User Name')}</Label>\n              <Input id=\"userName\" value={this.state.name || ''} onChange={this.inputName} />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userPwd\">{gettext('Password')}</Label>\n              <InputGroup className=\"passwd\">\n                <Input id=\"userPwd\" innerRef={input => {this.passwdInput = input;}} value={this.state.password || ''} onChange={this.inputPassword} />\n                <InputGroupAddon addonType=\"append\">\n                  <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon dtable-font ${this.state.isPasswordVisible ? 'dtable-icon-eye-slash' : 'dtable-icon-eye'}`}></i></Button>\n                  <Button onClick={this.generatePassword}><i className=\"link-operation-icon dtable-font dtable-icon-random-generation\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userPwdNew\">{gettext('Confirm Password')}</Label>\n              <Input id=\"userPwdNew\" innerRef={input => {this.passwdNewInput = input;}}  className=\"passwd\"   value={this.state.passwdnew || ''} onChange={this.inputPasswordNew} />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Label className=\"err-message\">{this.state.errMessage}</Label>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" disabled={this.state.isAddingUser} onClick={this.handleSubmit} className={this.state.isAddingUser ? 'btn-loading' : ''}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddOrgUserDialog.propTypes = propTypes;\n\nexport default AddOrgUserDialog;\n","import deselectCurrent from 'toggle-selection';\n\nfunction copy(text) {\n  var reselectPrevious,\n      range,\n      selection,\n      mark,\n      success = false;\n\n  try {\n    reselectPrevious = deselectCurrent();\n    range = document.createRange();\n    selection = document.getSelection();\n    mark = document.createElement('span');\n    mark.textContent = text;\n    document.body.appendChild(mark);\n    range.selectNode(mark);\n    selection.addRange(range);\n    var successful = document.execCommand('copy');\n\n    if (!successful) {\n      console.log('copy command was unsuccessful');\n    }\n\n    success = true;\n  } catch (err) {\n    console.error('unable to copy using execCommand');\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == 'function') {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nexport default copy;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport QRCode from 'qrcode.react';\nimport { gettext } from '../../utils/constants';\nimport toaster from '../toast';\nimport copy from '@seafile/seafile-editor/dist/utils/copy-to-clipboard';\n\nimport '../../css/org-admin-invite-user.css';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  invitationLink: PropTypes.string.isRequired\n};\n\nclass InviteUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  copyLink = () => {\n    copy(this.props.invitationLink);\n    const message = gettext('Invitation link has been copied to clipboard');\n    toaster.success((message), {\n      duration: 2\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} className=\"org-admin-invite-user-dialog\">\n        <ModalHeader toggle={this.props.toggle}>{gettext('Invite user')}</ModalHeader>\n        <ModalBody className=\"org-admin-invite-user-container d-flex flex-row\">\n          <div className=\"org-admin-invite-user-item\">\n            <div className=\"org-admin-invite-user\">\n              <span className=\"org-admin-invite-user-text\">{gettext('Send the invitation link or QR code to the others, and they will be able to join the organization via scanning the QR code.')}</span>\n            </div>\n            <div className=\"org-admin-invite-user-copy-link\">\n              <span className=\"org-admin-invite-user-link\">{this.props.invitationLink}</span>\n              <Button color=\"primary\" onClick={this.copyLink} className=\"org-admin-invite-user-link-btn\" title={gettext('Copy')}>{gettext('Copy')}</Button>\n            </div>\n          </div>\n          <div className=\"org-admin-invite-qrcode text-center\">\n            <div className=\"org-admin-invite-qrcode-content\">\n              <QRCode value={this.props.invitationLink} size={80} />\n            </div>\n            <div className=\"org-admin-invite-qrcode-tip\">\n              <span className=\"qrcode-tip-content\">{gettext('Scan QR code')}</span>\n              <span className=\"qrcode-tip-content\">{gettext('Join the orgainization directly')}</span>\n            </div>\n          </div>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nInviteUserDialog.propTypes = propTypes;\n\nexport default InviteUserDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport OrgUsersList from './org-users-list';\nimport OrgAdminList from './org-admin-list';\nimport MainPanelTopbar from './main-panel-topbar';\nimport AddOrgAdminDialog from '../../components/dialog/org-add-admin-dialog';\nimport ModalPortal from '../../components/modal-portal';\nimport AddOrgUserDialog from '../../components/dialog/org-add-user-dialog'; \nimport InviteUserDialog from '../../components/dialog/org-admin-invite-user-dialog';\nimport toaster from '../../components/toast';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport OrgUserInfo from '../../models/org-user';\nimport { gettext, invitationLink, orgID } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgAdminUsers: [],\n      isShowAddOrgAdminDialog: false,\n      orgUsers: [],\n      page: 1,\n      pageNext: false,\n      isShowAddOrgUserDialog: false,\n      isInviteUserDialogOpen: false,\n    };\n  }\n\n  tabItemClick = (param) => {\n    this.props.tabItemClick(param);\n  }\n\n  toggleAddOrgAdmin = () => {\n    this.setState({isShowAddOrgAdminDialog: !this.state.isShowAddOrgAdminDialog});\n  }\n\n  toggleAddOrgUser = () => {\n    this.setState({isShowAddOrgUserDialog: !this.state.isShowAddOrgUserDialog});\n  }\n\n  toggleInviteUserDialog = () => {\n    this.setState({isInviteUserDialogOpen: !this.state.isInviteUserDialogOpen});\n  }\n\n  initOrgUsersData = (page) => {\n    dtableWebAPI.orgAdminListOrgUsers(orgID, '', page).then(res => {\n      let userList = res.data.user_list.map(item => {\n        return new OrgUserInfo(item);\n      });\n      this.setState({\n        orgUsers: userList,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  addOrgUser = (email, name, password) => {\n    dtableWebAPI.orgAdminAddOrgUser(orgID, email, name, password).then(res => {\n      let userInfo = new OrgUserInfo(res.data);\n      this.state.orgUsers.unshift(userInfo);\n      this.setState({\n        orgUsers: this.state.orgUsers \n      });\n      this.toggleAddOrgUser();\n      let msg = gettext('successfully added user %s.');\n      msg = msg.replace('%s', email);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n      this.toggleAddOrgUser();\n    });\n  }\n\n  toggleOrgUsersDelete = (email) => {\n    dtableWebAPI.orgAdminDeleteOrgUser(orgID, email).then(res => {\n      let users = this.state.orgUsers.filter(item => item.email !== email);\n      this.setState({orgUsers: users});\n      let msg = gettext('Successfully deleted %s');\n      msg = msg.replace('%s', email);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  } \n\n  initOrgAdmin = () => {\n    dtableWebAPI.orgAdminListOrgUsers(orgID, true).then(res => {\n      let userList = res.data.user_list.map(item => {\n        return new OrgUserInfo(item);\n      });\n      this.setState({orgAdminUsers: userList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleOrgAdminDelete = (email) => {\n    dtableWebAPI.orgAdminDeleteOrgUser(orgID, email).then(res => {\n      this.setState({\n        orgAdminUsers: this.state.orgAdminUsers.filter(item => item.email !== email)\n      });\n      let msg = gettext('Successfully deleted %s');\n      msg = msg.replace('%s', email);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleRevokeAdmin = (email) => {\n    dtableWebAPI.orgAdminSetOrgAdmin(orgID, email, false).then(res => {\n      this.setState({\n        orgAdminUsers: this.state.orgAdminUsers.filter(item => item.email !== email)\n      });\n      let msg = gettext('Successfully revoke the admin permission of %s');\n      msg = msg.replace('%s', res.data.name);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onAddedOrgAdmin = (userInfo) => {\n    this.state.orgAdminUsers.unshift(userInfo);\n    this.setState({\n      orgAdminUsers: this.state.orgAdminUsers\n    });\n    let msg = gettext('Successfully set %s as admin.');\n    msg = msg.replace('%s', userInfo.email);\n    toaster.success(msg);\n    this.toggleAddOrgAdmin();\n  } \n\n  render() {\n    const topBtn = 'btn btn-secondary operation-item';\n    let topbarChildren;\n    if (this.props.currentTab === 'admins') {\n      topbarChildren = (\n        <Fragment>\n          <button className={topBtn} title={gettext('Add admin')} onClick={this.toggleAddOrgAdmin}>\n            <i className=\"dtable-font dtable-icon-add-square text-secondary mr-1\"></i>{gettext('Add admin')}\n          </button>\n          {this.state.isShowAddOrgAdminDialog &&\n            <ModalPortal>\n              <AddOrgAdminDialog toggle={this.toggleAddOrgAdmin} onAddedOrgAdmin={this.onAddedOrgAdmin}/>\n            </ModalPortal>\n          }\n        </Fragment>\n      );\n    } else if (this.props.currentTab === 'users') {\n      topbarChildren = (\n        <Fragment>\n          <button className={topBtn} title={gettext('Add user')} onClick={this.toggleAddOrgUser}>\n            <i className=\"dtable-font dtable-icon-add-square text-secondary mr-1\"></i>{gettext('Add user')}</button>\n          {invitationLink &&\n            <button className={topBtn} title={gettext('Invite user')} onClick={this.toggleInviteUserDialog}>\n              <i className=\"dtable-font dtable-icon-add-square text-secondary mr-1\"></i>{gettext('Invite user')}</button>\n          }\n          {this.state.isShowAddOrgUserDialog &&\n            <ModalPortal>\n              <AddOrgUserDialog handleSubmit={this.addOrgUser} toggle={this.toggleAddOrgUser}/>\n            </ModalPortal>\n          }\n          {this.state.isInviteUserDialogOpen &&\n            <ModalPortal>\n              <InviteUserDialog invitationLink={invitationLink} toggle={this.toggleInviteUserDialog}/>\n            </ModalPortal>\n          }\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren}/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path org-user-nav\">\n              <ul className=\"nav\">\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('users')}>\n                  <span className={`nav-link ${this.props.currentTab === 'users' ? 'active': ''}`}>{gettext('All')}</span>\n                </li>\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('admins')}>\n                  <span className={`nav-link ${this.props.currentTab === 'admins' ? 'active': ''}`} >{gettext('Admin')}</span>\n                </li>\n              </ul>\n            </div>\n            {this.props.currentTab === 'users' &&\n              <OrgUsersList\n                currentTab={this.props.currentTab}\n                initOrgUsersData={this.initOrgUsersData}\n                toggleDelete={this.toggleOrgUsersDelete}\n                orgUsers={this.state.orgUsers}\n                page={this.state.page}\n                pageNext={this.state.pageNext}\n              />\n            }\n            {this.props.currentTab === 'admins' &&\n              <OrgAdminList\n                currentTab={this.props.currentTab}\n                toggleDelete={this.toggleOrgAdminDelete}\n                toggleRevokeAdmin={this.toggleRevokeAdmin}\n                orgAdminUsers={this.state.orgAdminUsers}\n                initOrgAdmin={this.initOrgAdmin}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired,\n};\n\nOrgUsers.propTypes = propTypes;\n\nexport default OrgUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { siteRoot, gettext } from '../utils/constants'; \n\nconst propTypes = {\n  email: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass OrgAdminUserNav extends React.Component {\n\n  render() {\n    const { email, currentItem } = this.props;\n    const urlBase = `${siteRoot}org/useradmin/info/${encodeURIComponent(email)}/`;\n    return (\n      <div className=\"cur-view-path org-admin-user-nav\">\n        <ul className=\"nav\">\n          <li className=\"nav-item\">\n            <Link to={urlBase} className={`nav-link${currentItem === 'profile' ? ' active' : ''}`}>{gettext('Profile')}</Link>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nOrgAdminUserNav.propTypes = propTypes;\n\nexport default OrgAdminUserNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap'; \nimport { gettext } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  orgID: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  updateName: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SetOrgUserName extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: this.props.name,\n      submitBtnDisabled: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputValue: e.target.value \n    });\n  }\n\n  formSubmit = () => {\n    const { orgID, email } = this.props;\n    const name = this.state.inputValue.trim();\n\n    this.setState({\n      submitBtnDisabled: true \n    });\n\n    // when name is '', api returns the previous name\n    // but newName needs to be ''\n    dtableWebAPI.orgAdminSetOrgUserName(orgID, email, name).then((res) => {\n      const newName = name ? res.data.name : '';\n      this.props.updateName(newName);\n      this.props.toggleDialog();\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        formErrorMsg: errorMsg,\n        submitBtnDisabled: false\n      }); \n    });\n  }\n\n  render() {\n    const { inputValue, formErrorMsg, submitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} centered={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>{gettext('Set user name')}</ModalHeader>\n        <ModalBody>\n          <React.Fragment>\n            <input type=\"text\" className=\"form-control\" value={inputValue} onChange={this.handleInputChange} />\n            {formErrorMsg && <p className=\"error m-0 mt-2\">{formErrorMsg}</p>}\n          </React.Fragment>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</button>\n          <button className=\"btn btn-primary\" disabled={submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetOrgUserName.propTypes = propTypes;\n\nexport default SetOrgUserName;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap'; \nimport { gettext } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  orgID: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  contactEmail: PropTypes.string.isRequired,\n  updateContactEmail: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SetOrgUserContactEmail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: this.props.contactEmail,\n      submitBtnDisabled: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputValue: e.target.value \n    });\n  }\n\n  formSubmit = () => {\n    const { orgID, email } = this.props;\n    const contactEmail = this.state.inputValue.trim();\n\n    this.setState({\n      submitBtnDisabled: true \n    });\n\n    dtableWebAPI.orgAdminSetOrgUserContactEmail(orgID, email, contactEmail).then((res) => {\n      const newContactEmail = contactEmail ? res.data.contact_email : '';\n      this.props.updateContactEmail(newContactEmail);\n      this.props.toggleDialog();\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        formErrorMsg: errorMsg,\n        submitBtnDisabled: false\n      }); \n    });\n  }\n\n  render() {\n    const { inputValue, formErrorMsg, submitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} centered={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>{gettext('Set user contact email')}</ModalHeader>\n        <ModalBody>\n          <React.Fragment>\n            <input type=\"text\" className=\"form-control\" value={inputValue} onChange={this.handleInputChange} />\n            {formErrorMsg && <p className=\"error m-0 mt-2\">{formErrorMsg}</p>}\n          </React.Fragment>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</button>\n          <button className=\"btn btn-primary\" disabled={submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetOrgUserContactEmail.propTypes = propTypes;\n\nexport default SetOrgUserContactEmail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap'; \nimport { gettext } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  orgID: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  quotaTotal: PropTypes.string.isRequired,\n  updateQuota: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SetOrgUserQuota extends React.Component {\n\n  constructor(props) {\n    super(props);\n    const initialQuota = this.props.quotaTotal < 0 ? '' :\n      this.props.quotaTotal / (1000 * 1000);\n    this.state = {\n      inputValue: initialQuota,\n      submitBtnDisabled: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputValue: e.target.value \n    });\n  }\n\n  formSubmit = () => {\n    const { orgID, email } = this.props;\n    const quota = this.state.inputValue.trim();\n\n    if (!quota) {\n      this.setState({\n        formErrorMsg: gettext('It is required.')\n      });\n      return false;\n    }\n\n    this.setState({\n      submitBtnDisabled: true \n    });\n\n    dtableWebAPI.orgAdminSetOrgUserQuota(orgID, email, quota).then((res) => {\n      this.props.updateQuota(res.data.quota_total);\n      this.props.toggleDialog();\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        formErrorMsg: errorMsg,\n        submitBtnDisabled: false\n      }); \n    });\n  }\n\n  render() {\n    const { inputValue, formErrorMsg, submitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} centered={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>{gettext('Set user quota')}</ModalHeader>\n        <ModalBody>\n          <React.Fragment>\n            <InputGroup>\n              <input type=\"text\" className=\"form-control\" value={inputValue} onChange={this.handleInputChange} />\n              <InputGroupAddon addonType=\"append\">\n                <InputGroupText>MB</InputGroupText>\n              </InputGroupAddon>\n            </InputGroup>\n            <p className=\"small text-secondary mt-2 mb-2\">{gettext('Tip: 0 means default limit')}</p>\n            {formErrorMsg && <p className=\"error m-0 mt-2\">{formErrorMsg}</p>}\n          </React.Fragment>\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</button>\n          <button className=\"btn btn-primary\" disabled={submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetOrgUserQuota.propTypes = propTypes;\n\nexport default SetOrgUserQuota;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { gettext, loginUrl } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminUserNav from '../../components/org-admin-user-nav';\nimport SetOrgUserName from '../../components/dialog/set-org-user-name';\nimport SetOrgUserContactEmail from '../../components/dialog/set-org-user-contact-email';\nimport SetOrgUserQuota from '../../components/dialog/set-org-user-quota';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID, orgName } = window.org.pageOptions;\n\nconst orgUserProfilePropTypes = {\n  email: PropTypes.string,\n};\n\nclass OrgUserProfile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    dtableWebAPI.orgAdminGetOrgUserInfo(orgID, this.props.email).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data)); \n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status === 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          }); \n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          }); \n        }   \n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        }); \n      }   \n    }); \n  }\n\n  updateName = (name) => {\n    this.setState({\n      name: name \n    });\n  }\n\n  updateContactEmail = (contactEmail) => {\n    this.setState({\n      contact_email: contactEmail \n    });\n  }\n\n  updateQuota = (quota) => {\n    this.setState({\n      quota_total: quota \n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminUserNav email={this.props.email} currentItem='profile' />\n            <div className=\"cur-view-content\">\n              <Content \n                data={this.state}\n                updateName={this.updateName}\n                updateContactEmail={this.updateContactEmail}\n                updateQuota={this.updateQuota}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgUserProfile.propTypes = orgUserProfilePropTypes;\n\nconst contentPropTypes = {\n  data: PropTypes.object.isRequired,\n  updateName: PropTypes.func.isRequired,\n  updateContactEmail: PropTypes.func.isRequired,\n  updateQuota: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetNameDialogOpen: false,\n      isSetContactEmailDialogOpen: false,\n      isSetQuotaDialogOpen: false\n    };\n  }\n\n  toggleSetNameDialog = () => {\n    this.setState({\n      isSetNameDialogOpen: !this.state.isSetNameDialogOpen\n    });\n  }\n\n  toggleSetContactEmailDialog = () => {\n    this.setState({\n      isSetContactEmailDialogOpen: !this.state.isSetContactEmailDialogOpen\n    });\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({\n      isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen\n    });\n  }\n\n  render() {\n    const {\n      loading, errorMsg,\n      avatar_url, email, contact_email,\n      name, quota_total, quota_usage\n    } = this.props.data;\n    const { isSetNameDialogOpen, isSetContactEmailDialogOpen, isSetQuotaDialogOpen } = this.state;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <dl>\n          <dt>{gettext('Avatar')}</dt>\n          <dd>\n            <img src={avatar_url} width=\"48\" height=\"48\" className=\"rounded\" alt=\"\" />\n          </dd>\n\n          <dt>ID</dt>\n          <dd>{email}</dd>\n\n          <dt>{gettext('Name')}</dt>\n          <dd>\n            {name || '--'}\n            <span title={gettext('Edit')} className=\"attr-action-icon dtable-font dtable-icon-rename\" onClick={this.toggleSetNameDialog}></span>\n          </dd>\n\n          <dt>{gettext('Contact Email')}</dt>\n          <dd>\n            {contact_email || '--'}\n            <span title={gettext('Edit')} className=\"attr-action-icon dtable-font dtable-icon-rename\" onClick={this.toggleSetContactEmailDialog}></span>\n          </dd>\n\n          <dt>{gettext('Organization')}</dt>\n          <dd>{orgName}</dd>\n\n          <dt>{gettext('Space Used / Quota')}</dt>\n          <dd>\n            {`${Utils.bytesToSize(quota_usage)}${quota_total > 0 ? ' / ' + Utils.bytesToSize(quota_total) : ''}`}\n            <span title={gettext('Edit')} className=\"attr-action-icon dtable-font dtable-icon-rename\" onClick={this.toggleSetQuotaDialog}></span>\n          </dd>\n        </dl>\n        {isSetNameDialogOpen && \n        <SetOrgUserName\n          orgID={orgID}\n          email={email}\n          name={name}\n          updateName={this.props.updateName}\n          toggleDialog={this.toggleSetNameDialog}\n        />\n        }\n        {isSetContactEmailDialogOpen && \n        <SetOrgUserContactEmail\n          orgID={orgID}\n          email={email}\n          contactEmail={contact_email}\n          updateContactEmail={this.props.updateContactEmail}\n          toggleDialog={this.toggleSetContactEmailDialog}\n        />\n        }\n        {isSetQuotaDialogOpen && \n        <SetOrgUserQuota\n          orgID={orgID}\n          email={email}\n          quotaTotal={quota_total}\n          updateQuota={this.props.updateQuota}\n          toggleDialog={this.toggleSetQuotaDialog}\n        />\n        }\n      </Fragment>\n    ); \n  }\n}\n\nContent.propTypes = contentPropTypes;\n\nexport default OrgUserProfile;\n","import { lang } from '../utils/constants';\nimport moment from 'moment';\n\nmoment.locale(lang);\n\nclass OrgGroupInfo {\n  constructor(object) {\n    this.id = object.id;\n    this.groupName = object.group_name;\n    this.creatorName = object.creator_name;\n    this.creatorEmail = object.creator_email;\n    this.creatorContactEmail = object.creator_contact_email;\n    this.ctime = moment(object.ctime).format('YYYY-MM-DD HH:mm:ss');\n  }\n}\n\nexport default OrgGroupInfo;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { siteRoot, gettext, orgID } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport OrgGroupInfo from '../../models/org-group';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass OrgGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pageNext: false,\n      orgGroups: [],\n      isItemFreezed: false  \n    };\n  }\n\n  componentDidMount() {\n    let page = this.state.page;\n    this.initData(page);\n  }\n\n  initData = (page) => {\n    dtableWebAPI.orgAdminListOrgGroups(orgID, page).then(res => {\n      let orgGroups = res.data.groups.map(item => {\n        return new OrgGroupInfo(item);\n      });\n\n      this.setState({\n        orgGroups: orgGroups,\n        pageNext: res.data.page_next,\n        page: res.data.page,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n\n  onChangePageNum = (e, num) => {\n    e.preventDefault();\n    let page = this.state.page;\n\n    if (num === 1) {\n      page = page + 1;\n    } else {\n      page = page - 1;\n    }\n    this.initData(page);\n  } \n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  deleteGroupItem = (group) => {\n    dtableWebAPI.orgAdminDeleteOrgGroup(orgID, group.id).then(res => {\n      this.setState({\n        orgGroups: this.state.orgGroups.filter(item => item.id !== group.id)\n      }); \n      let msg = gettext('Successfully deleted {name}');\n      msg = msg.replace('{name}', group.groupName);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let groups = this.state.orgGroups;\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"30%\">{gettext('Name')}</th>\n                    <th width=\"35%\">{gettext('Creator')}</th>\n                    <th width=\"23%\">{gettext('Created At')}</th>\n                    <th width=\"12%\" className=\"text-center\">{gettext('Operations')}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {groups.map(item => {\n                    return (\n                      <GroupItem\n                        key={item.id}\n                        group={item}\n                        isItemFreezed={this.state.isItemFreezed}\n                        onFreezedItem={this.onFreezedItem} \n                        onUnfreezedItem={this.onUnfreezedItem}\n                        deleteGroupItem={this.deleteGroupItem}\n                      />\n                    );\n                  })}\n                </tbody>\n              </table>\n              <div className=\"paginator\">\n                {this.state.page !== 1 && <span className=\"a-simulate\" onClick={(e) => this.onChangePageNum(e, -1)}>{gettext('Previous')}</span>}\n                {(this.state.page !== 1 && this.state.pageNext) && <span> | </span>}\n                {this.state.pageNext && <span className=\"a-simulate\" onClick={(e) => this.onChangePageNum(e, 1)}>{gettext('Next')}</span>}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst GroupItemPropTypes = {\n  group: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroupItem: PropTypes.func.isRequired,\n};\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  } \n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  toggleDelete = () => {\n    this.props.deleteGroupItem(this.props.group);\n  }\n\n  renderGroupHref = (group) => {\n    let groupInfoHref;\n    if (group.creatorName === 'system admin') {\n      groupInfoHref = siteRoot + 'org/departmentadmin/groups/' + group.id + '/';\n    } else {\n      groupInfoHref = siteRoot + 'org/groupadmin/' + group.id + '/';\n    } \n                                                         \n    return groupInfoHref; \n  }\n\n  renderGroupCreator = (group) => {\n    let userInfoHref = siteRoot + 'org/useradmin/info/' + group.creatorEmail + '/';\n    if (group.creatorName === 'system admin') {\n      return (\n        <td> -- </td>\n      );\n    } else {\n      return(\n        <td>\n          <a href={userInfoHref} className=\"font-weight-normal\">{group.creatorName}</a>\n        </td>\n      );\n    }     \n  }\n\n  render() {\n    let { group } = this.props;\n    let isOperationMenuShow = (group.creatorName !== 'system admin') && this.state.showMenu;\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td>\n          <a href={this.renderGroupHref(group)} className=\"font-weight-normal\">{group.groupName}</a>\n        </td>\n        {this.renderGroupCreator(group)}\n        <td>{group.ctime}</td>\n        <td className=\"text-center cursor-pointer\">\n          {isOperationMenuShow &&\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon dtable-font dtable-icon-more-vertical\"\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          }\n        </td>\n      </tr>\n    );\n  }\n\n}\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default OrgGroups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { siteRoot, gettext } from '../utils/constants'; \n\nconst propTypes = {\n  groupID: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass OrgAdminGroupNav extends React.Component {\n\n  render() {\n    const { groupID, currentItem } = this.props;\n    const urlBase = `${siteRoot}org/groupadmin/${groupID}/`;\n    return (\n      <div className=\"cur-view-path org-admin-user-nav\">\n        <ul className=\"nav\">\n          <li className=\"nav-item\">\n            <Link to={urlBase} className={`nav-link${currentItem === 'info' ? ' active' : ''}`}>{gettext('Group Info')}</Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to={`${urlBase}members/`} className={`nav-link${currentItem === 'members' ? ' active' : ''}`}>{gettext('Members')}</Link>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nOrgAdminGroupNav.propTypes = propTypes;\n\nexport default OrgAdminGroupNav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { gettext, loginUrl, siteRoot } from '../../utils/constants';\nimport Loading from '../../components/loading';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nconst orgGroupInfoPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass OrgGroupInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    dtableWebAPI.orgAdminGetGroup(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data)); \n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status === 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          }); \n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          }); \n        }   \n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        }); \n      }   \n    }); \n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='info' />\n            <div className=\"cur-view-content\">\n              <Content \n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgGroupInfo.propTypes = orgGroupInfoPropTypes;\n\nconst contentPropTypes = {\n  data: PropTypes.object,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n    const {\n      loading, errorMsg,\n      group_name, creator_email, creator_name\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <dl>\n        <dt>{gettext('Name')}</dt>\n        <dd>{group_name}</dd>\n\n        <dt>{gettext('Creator')}</dt>\n        <dd>\n          <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(creator_email)}/`}>{creator_name}</Link>\n        </dd>\n      </dl>\n    ); \n  }\n}\n\nContent.propTypes = contentPropTypes;\n\nexport default OrgGroupInfo;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { gettext, loginUrl, siteRoot } from '../../utils/constants';\nimport Loading from '../../components/loading';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nconst orgGroupMembersPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass OrgGroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    dtableWebAPI.orgAdminListGroupMembers(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data)); \n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status === 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          }); \n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          }); \n        }   \n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        }); \n      }   \n    }); \n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='members' />\n            <div className=\"cur-view-content\">\n              <Content \n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgGroupMembers.propTypes = orgGroupMembersPropTypes;\n\nconst contentPropTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, members \n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"10%\"></th>\n              <th width=\"50%\">{gettext('Name')}</th>\n              <th width=\"40%\">{gettext('Role')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {members.map((item, index) => {\n              return <Item key={index} data={item} />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    ); \n  }\n}\n\nContent.propTypes = contentPropTypes;\n\nconst itemPropTypes = {\n  data: PropTypes.object.isRequired\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getRoleText() {\n    switch (this.props.data.role) {\n      case 'Owner':\n        return gettext('Owner');\n      case 'Admin':\n        return gettext('Admin');\n      case 'Member':\n        return gettext('Member');\n      default:\n        return null;\n    }\n  }\n\n  render() {\n    const item = this.props.data; \n    return (\n      <Fragment>\n        <tr>\n          <td className=\"text-center\">\n            <img src={item.avatar_url} alt=\"\" className=\"avatar\" width=\"32\" />\n          </td>\n          <td>\n            <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(item.email)}/`}>{item.name}</Link>\n          </td>\n          <td>\n            {this.getRoleText()}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = itemPropTypes;\n\nexport default OrgGroupMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  name: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired,\n};\n\nclass OrgAdminSetOrgNameDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.name,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value.trim();\n    this.setState({\n      name: value,\n      isSubmitBtnActive: value !== ''\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.updateName(this.state.name);\n    this.toggle();\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Name')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                className=\"form-control\"\n                value={name}\n                onKeyPress={this.handleKeyPress} \n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nOrgAdminSetOrgNameDialog.propTypes = propTypes;\n\nexport default OrgAdminSetOrgNameDialog;\n","import React, { Component, Fragment } from 'react';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { gettext, orgMemberQuotaEnabled} from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\nimport OrgAdminSetOrgNameDialog from '../../components/dialog/orgadmin-diglog/sysadmin-set-org-name-dialog';\nimport toaster from '../../components/toast';\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      storage_quota: 0,\n      storage_usage: 0,\n      member_quota: 0,\n      member_usage: 0,\n      active_members: 0,\n      org_name: '',\n      isSetNameDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    dtableWebAPI.orgAdminGetOrgInfo().then(res => {\n      this.setState({\n        storage_quota: res.data.storage_quota,\n        storage_usage: res.data.storage_usage,\n        member_quota: res.data.member_quota,\n        member_usage: res.data.member_usage,\n        active_members: res.data.active_members,\n        org_name: res.data.org_name\n      });\n    });\n  }\n\n  updateName = (newName) => {\n    dtableWebAPI.orgAdminUpdateOrgInfo(newName).then((res) => {\n      this.setState({ 'org_name' : newName });\n      toaster.success(gettext('Successfully set name.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleSetNameDialog = () => {\n    this.setState({isSetNameDialogOpen: !this.state.isSetNameDialogOpen});\n  }\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"dtable-font dtable-icon-rename attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  }\n\n  render() {\n    let { org_name, isSetNameDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Info')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <dl>\n                <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n                <dd className=\"info-item-content\">\n                  {this.state.org_name}\n                  {this.showEditIcon(this.toggleSetNameDialog)}\n                </dd>\n                <dt>{gettext('Space Used')} / {gettext('Space Limit')}</dt>\n                <dd>{Utils.bytesToSize(this.state.storage_usage)} / {this.state.storage_quota ? Utils.bytesToSize(this.state.storage_quota) : '--'}</dd>\n\n                {orgMemberQuotaEnabled ? <dt>{gettext('Active Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt> : <dt>{gettext('Active Users')} / {gettext('Total Users')}</dt>}\n\n                {orgMemberQuotaEnabled ? <dd>{(this.state.active_members > 0) ? this.state.active_members : '--'} / {(this.state.member_usage > 0) ? this.state.member_usage : '--'} / {(this.state.member_quota > 0) ? this.state.member_quota : '--'}</dd> : <dd>{this.state.active_members > 0 ? this.state.active_members : '--'} / {this.state.member_usage > 0 ? this.state.member_usage : '--'}</dd>}\n\n              </dl>\n              {isSetNameDialogOpen &&\n                <OrgAdminSetOrgNameDialog\n                  name={org_name}\n                  updateName={this.updateName}\n                  toggle={this.toggleSetNameDialog}\n                />\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../../css/org-department-item.css';\n\nconst propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n};\n\nclass OrgDepartments extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"h-100 org-departments\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nOrgDepartments.propTypes = propTypes;\n\nexport default OrgDepartments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\n\nconst propTypes = {\n  groupID: PropTypes.string,\n  parentGroupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onDepartChanged: PropTypes.func.isRequired,\n};\n\nclass AddDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departName: '',\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0, 0);\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      let parentGroup = -1;\n      if (this.props.parentGroupID) {\n        parentGroup = this.props.parentGroupID;\n      }\n      dtableWebAPI.orgAdminAddDepartGroup(orgID, parentGroup, this.state.departName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartChanged();\n      }).catch(error => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  }\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      departName: e.target.value, \n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    let header = this.props.parentGroupID ? gettext('New Sub-department') : gettext('New Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departName\">{gettext('Name')}</Label>\n              <Input \n                id=\"departName\" \n                onKeyPress={this.handleKeyPress} \n                value={this.state.departName} \n                onChange={this.handleChange}\n                innerRef={input => {this.newInput = input;}}\n              />\n            </FormGroup>\n          </Form>\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddDepartDialog.propTypes = propTypes;\n\nexport default AddDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  groupName: PropTypes.string,\n  groupID: PropTypes.number.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartChanged: PropTypes.func.isRequired\n};\n\nclass DeleteDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errMessage: null\n    };\n  }\n\n  deleteDepart = () => {\n    dtableWebAPI.orgAdminDeleteDepartGroup(orgID, this.props.groupID).then((res) => {\n      if (res.data.success) {\n        this.props.onDepartChanged();\n        this.props.toggle();\n      }\n    }).catch(err => {\n      this.setState({ errMessage: 'There are sub-departments in this department.' });\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Are you sure you want to delete {placeholder} ?');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.groupName) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Department')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: subtitle}}></div>\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          {!this.state.errMessage && <Button color=\"primary\" onClick={this.deleteDepart}>{gettext('Delete')}</Button>}\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteDepartDialog.propTypes = propTypes;\n\nexport default DeleteDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, InputGroupAddon, InputGroup } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.number.isRequired,\n  onDepartChanged: PropTypes.func.isRequired,\n};\n\nclass SetGroupQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0, 0);\n  }\n\n  setGroupQuota = () => {\n    const myReg = /^[1-9]\\d*$/im;\n    let quota = this.state.quota;\n    if ((quota.length && myReg.test(quota)) || quota === -2) {\n      this.setState({ errMessage: '' });\n      let newQuota = this.state.quota === -2 ? this.state.quota : this.state.quota * 1000000;\n      dtableWebAPI.orgAdminSetGroupQuota(orgID, this.props.groupID, newQuota).then((res) => {\n        this.props.toggle();\n        this.props.onDepartChanged();\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      const err = gettext('Quota is invalid.');\n      this.setState({ errMessage: err });\n    } \n  }\n\n  handleChange = (e) => {\n    const quota = e.target.value.trim();\n    this.setState({ quota: quota });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.setGroupQuota();\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <InputGroup>\n            <Input\n              onKeyPress={this.handleKeyPress} \n              value={this.state.quota} \n              onChange={this.handleChange}\n              innerRef={input => {this.newInput = input;}}\n            />\n            <InputGroupAddon addonType=\"append\">{'MB'}</InputGroupAddon>\n          </InputGroup>\n          <p className=\"tip\">\n            <br/><span>{gettext('An integer that is greater than 0 or equal to -2.')}</span><br/>\n            <span>{gettext('Tip: -2 means no limit.')}</span>\n          </p>\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.setGroupQuota}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetGroupQuotaDialog.propTypes = propTypes;\n\nexport default SetGroupQuotaDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@reach/router';\nimport { Utils } from '../../utils/utils.js';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport MainPanelTopbar from './main-panel-topbar';\nimport ModalPortal from '../../components/modal-portal';\nimport AddDepartDialog from '../../components/dialog/org-add-department-dialog';\nimport DeleteDepartDialog from '../../components/dialog/org-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../components/dialog/org-set-group-quota-dialog';\nimport { siteRoot, gettext, orgID } from '../../utils/constants';\nimport '../../css/org-department-item.css';\n\nclass OrgDepartmentsList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: null,\n      groupID: '',\n      groupName: '',\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n      isShowAddDepartDialog: false,\n    };\n  }\n  \n  componentDidMount() {\n    this.listDepartGroups();\n  }\n\n  listDepartGroups = () => {\n    dtableWebAPI.orgAdminListDepartGroups(orgID).then(res => {\n      this.setState({ groups: res.data.data });\n    });\n  }\n\n  showDeleteDepartDialog = (group) => {\n    this.setState({ showDeleteDepartDialog: true, groupID: group.id, groupName: group.name });\n  }\n\n  showSetGroupQuotaDialog = (groupID) => {\n    this.setState({ showSetGroupQuotaDialog: true, groupID: groupID });\n  }\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog});\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n    });\n  }\n\n  onDepartChanged = () => {\n    this.listDepartGroups();\n  }\n\n  render() {\n    const groups = this.state.groups;\n    const topbarChildren = (\n      <Fragment>\n        <button className='btn btn-secondary operation-item' title={gettext('New Department')} onClick={this.toggleAddDepartDialog}>{gettext('New Department')}\n        </button>\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onDepartChanged={this.onDepartChanged}\n              groupID={this.state.groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren}/>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">{gettext('Departments')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {groups && groups.length > 0 ?\n                <table>\n                  <thead>\n                    <tr>\n                      <th width=\"40%\">{gettext('Name')}</th>\n                      <th width=\"25%\">{gettext('Created At')}</th>\n                      <th width=\"20%\">{gettext('Quota')}</th>\n                      <th width=\"15%\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group, index) => {\n                      return(\n                        <React.Fragment key={group.id}>\n                          <GroupItem\n                            group={group}\n                            showDeleteDepartDialog={this.showDeleteDepartDialog}\n                            showSetGroupQuotaDialog={this.showSetGroupQuotaDialog}\n                          />\n                        </React.Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                :\n                <p className=\"no-group\">{gettext('No departments')}</p>\n              }\n            </div>\n            <React.Fragment>\n              {this.state.showDeleteDepartDialog && (\n                <ModalPortal>\n                  <DeleteDepartDialog\n                    toggle={this.toggleCancel}\n                    groupID={this.state.groupID}\n                    groupName={this.state.groupName}\n                    onDepartChanged={this.onDepartChanged}\n                  />\n                </ModalPortal>\n              )}\n              {this.state.showSetGroupQuotaDialog && (\n                <ModalPortal>\n                  <SetGroupQuotaDialog\n                    toggle={this.toggleCancel}\n                    groupID={this.state.groupID}\n                    onDepartChanged={this.onDepartChanged}\n                  />\n                </ModalPortal>\n              )}\n            </React.Fragment>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  }\n\n  render() {\n    const group = this.props.group;\n    const highlight = this.state.highlight;\n    const newHref = siteRoot+ 'org/departmentadmin/groups/' + group.id + '/';\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><Link to={newHref}>{group.name}</Link></td>\n        <td>{moment(group.created_at).fromNow()}</td>\n        <td onClick={this.props.showSetGroupQuotaDialog.bind(this, group.id)}>\n          {Utils.bytesToSize(group.quota)}{' '}\n          <span title=\"Edit Quota\" className={`dtable-font dtable-icon-rename attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n        </td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteDepartDialog.bind(this, group)}>\n          <span className={`sf2-icon-delete action-icon  ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nconst GroupItemPropTypes = {\n  group: PropTypes.object.isRequired,\n  showSetGroupQuotaDialog: PropTypes.func.isRequired,\n  showDeleteDepartDialog: PropTypes.func.isRequired,\n};\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default OrgDepartmentsList;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\nimport UserSelect from '../user-select.js';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID:  PropTypes.string.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n    this.Options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n    this.Options = [];\n  }\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const email = this.state.selectedOption.email;\n    this.refs.orgSelect.clearSelect();\n    this.setState({ errMessage: [] });\n    dtableWebAPI.orgAdminAddGroupMember(orgID, this.props.groupID, email).then((res) => {\n      this.setState({ selectedOption: null });\n      if (res.data.failed.length > 0) {\n        this.setState({ errMessage: res.data.failed[0].error_msg });\n      }\n      if (res.data.success.length > 0) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Select users...')}\n            onSelectChange={this.handleSelectChange}\n            ref=\"orgSelect\"\n            isMulti={false}\n            className='org-add-member-select'\n          />\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, orgID } from '../../utils/constants';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\n\nconst propTypes = {\n  member: PropTypes.object.isRequired,\n  groupID: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass DeleteMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteMember = () => {\n    const userEmail = this.props.member.email;\n    dtableWebAPI.orgAdminDeleteGroupMember(orgID, this.props.groupID, userEmail).then((res) => {\n      if (res.data.success) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Are you sure you want to delete {placeholder} ?');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.member.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Member')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: subtitle}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.deleteMember}>{gettext('Delete')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteMemberDialog.propTypes = propTypes;\n\nexport default DeleteMemberDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@reach/router';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { Utils } from '../../utils/utils.js';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport ModalPortal from '../../components/modal-portal';\nimport RoleEditor from '../../components/select-editor/role-editor';\nimport AddDepartDialog from '../../components/dialog/org-add-department-dialog';\nimport AddMemberDialog from '../../components/dialog/org-add-member-dialog';\nimport DeleteMemberDialog from '../../components/dialog/org-delete-member-dialog';\nimport DeleteDepartDialog from '../../components/dialog/org-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../components/dialog/org-set-group-quota-dialog';\nimport { serviceURL, siteRoot, gettext, orgID } from '../../utils/constants';\nimport '../../css/org-department-item.css';\n\nclass OrgDepartmentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      isItemFreezed: false,\n      ancestorGroups: [],\n      members: [],\n      deletedMember: {},\n      isShowAddMemberDialog: false,\n      showDeleteMemberDialog: false,\n      groups: [],\n      subGroupID: '',\n      subGroupName: '',\n      isShowAddDepartDialog: false,\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n    };\n  }\n\n  componentDidMount() {\n    const groupID = this.props.groupID;\n    this.listOrgMembers(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listOrgMembers(nextProps.groupID);\n    }\n  }\n\n  listOrgMembers = (groupID) => {\n    dtableWebAPI.orgAdminListGroupInfo(orgID, groupID, true).then(res => {\n      this.setState({\n        members: res.data.members,\n        groups: res.data.groups,\n        ancestorGroups: res.data.ancestor_groups,\n        groupName: res.data.name,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  listSubDepartGroups = (groupID) => {\n    dtableWebAPI.orgAdminListGroupInfo(orgID, groupID, true).then(res => {\n      this.setState({ groups: res.data.groups });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteMemberDialog: false,\n      showDeleteDepartDialog: false,\n      showSetGroupQuotaDialog: false,\n    });\n  }\n\n  onSubDepartChanged = () => {\n    this.listSubDepartGroups(this.props.groupID);\n  }\n\n  onMemberChanged = () => {\n    this.listOrgMembers(this.props.groupID);\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  }\n\n  showDeleteMemberDialog = (member) => {\n    this.setState({ showDeleteMemberDialog: true, deletedMember: member });\n  }\n\n  toggleAddMemberDialog = () => {\n    this.setState({ isShowAddMemberDialog: !this.state.isShowAddMemberDialog });\n  }\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog});\n  }\n\n  showDeleteDepartDialog = (subGroup) => {\n    this.setState({ \n      showDeleteDepartDialog: true,\n      subGroupID: subGroup.id,\n      subGroupName: subGroup.name\n    });\n  }\n\n  showSetGroupQuotaDialog = (subGroupID) => {\n    this.setState({\n      showSetGroupQuotaDialog: true,\n      subGroupID: subGroupID\n    });\n  }\n\n  render() {\n    const { members, groups } = this.state;\n    const groupID = this.props.groupID;\n    const topBtn = 'btn btn-secondary operation-item';\n    const topbarChildren = (\n      <Fragment>\n        {groupID &&\n          <button className={topBtn} title={gettext('New Sub-department')} onClick={this.toggleAddDepartDialog}>{gettext('New Sub-department')}</button>\n        }\n        {groupID &&\n          <button className={topBtn} title={gettext('Add Member')} onClick={this.toggleAddMemberDialog}>{gettext('Add Member')}</button>\n        }\n        {this.state.isShowAddMemberDialog && (\n          <ModalPortal>\n            <AddMemberDialog\n              toggle={this.toggleAddMemberDialog}\n              onMemberChanged={this.onMemberChanged}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onDepartChanged={this.onSubDepartChanged}\n              parentGroupID={groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar children={topbarChildren} />\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">\n                  {groupID ? \n                    <Link to={siteRoot + 'org/departmentadmin/'}>{gettext('Departments')}</Link>\n                    : <span>{gettext('Departments')}</span>\n                  }\n                  {this.state.ancestorGroups.map(ancestor => {\n                    let newHref = siteRoot + 'org/departmentadmin/groups/' + ancestor.id + '/';\n                    return <span key={ancestor.id}>{' / '}<Link to={newHref}>{ancestor.name}</Link></span>;\n                  })}\n                  {groupID && <span>{' / '}{this.state.groupName}</span>}\n                </h3>\n              </div>\n            </div>\n\n            <div className=\"cur-view-subcontainer org-groups\">\n              <div className=\"cur-view-path\">\n                <div className=\"fleft\"><h3 className=\"sf-heading\">{gettext('Sub-departments')}</h3></div>\n              </div>\n              <div className=\"cur-view-content\">\n                {groups && groups.length > 0 ?\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"40%\">{gettext('Name')}</th>\n                        <th width=\"25%\">{gettext('Created At')}</th>\n                        <th width=\"20%\">{gettext('Quota')}</th>\n                        <th width=\"15%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {groups.map((group, index) => {\n                        return(\n                          <React.Fragment key={group.id}>\n                            <GroupItem\n                              group={group}\n                              showDeleteDepartDialog={this.showDeleteDepartDialog}\n                              showSetGroupQuotaDialog={this.showSetGroupQuotaDialog}\n                            />\n                          </React.Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                  : <p className=\"no-group\">{gettext('No sub-departments')}</p>\n                }\n              </div>\n            </div>\n            \n            <div className=\"cur-view-subcontainer org-members\">\n              <div className=\"cur-view-path\">\n                <div className=\"fleft\"><h3 className=\"sf-heading\">{gettext('Members')}</h3></div>\n              </div>\n              <div className=\"cur-view-content\">\n                {(members && members.length === 1 && members[0].role === 'Owner') ?\n                  <p className=\"no-member\">{gettext('No members')}</p> :\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"15%\">{gettext('Role')}</th>\n                        <th width=\"30%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {members.map((member, index) => {\n                        return (\n                          <React.Fragment key={index}>\n                            <MemberItem\n                              member={member}\n                              showDeleteMemberDialog={this.showDeleteMemberDialog}\n                              isItemFreezed={this.state.isItemFreezed}\n                              onMemberChanged={this.onMemberChanged}\n                              toggleItemFreezed={this.toggleItemFreezed}\n                              groupID={groupID}\n                            />\n                          </React.Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                }\n              </div>\n            </div>\n\n          </div>\n          <React.Fragment>\n            {this.state.showDeleteMemberDialog && (\n              <ModalPortal>\n                <DeleteMemberDialog\n                  toggle={this.toggleCancel}\n                  onMemberChanged={this.onMemberChanged}\n                  member={this.state.deletedMember}\n                  groupID={groupID}\n                />\n              </ModalPortal>\n            )}\n            {this.state.showDeleteDepartDialog && (\n              <ModalPortal>\n                <DeleteDepartDialog\n                  toggle={this.toggleCancel}\n                  groupID={this.state.subGroupID}\n                  groupName={this.state.subGroupName}\n                  onDepartChanged={this.onSubDepartChanged}\n                />\n              </ModalPortal>\n            )}\n            {this.state.showSetGroupQuotaDialog && (\n              <ModalPortal>\n                <SetGroupQuotaDialog\n                  toggle={this.toggleCancel}\n                  groupID={this.state.subGroupID}\n                  onDepartChanged={this.onSubDepartChanged}\n                />\n              </ModalPortal>\n            )}\n          </React.Fragment>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass MemberItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showRoleMenu: false,\n    };\n    this.roles = ['Admin', 'Member'];\n  }\n\n  onMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: false });\n  }\n\n  toggleMemberRoleMenu = () => {\n    this.setState({ showRoleMenu: !this.state.showRoleMenu });\n  }\n\n  onChangeUserRole = (role) => {\n    let isAdmin = role === 'Admin' ? true : false;\n    dtableWebAPI.orgAdminSetGroupMemberRole(orgID, this.props.groupID, this.props.member.email, isAdmin).then((res) => {\n      this.props.onMemberChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.setState({\n      highlight: false,\n    });\n  }\n\n  render() {\n    const member = this.props.member;\n    const highlight = this.state.highlight;\n    let memberLink = serviceURL + '/org/useradmin/info/' + member.email + '/';\n    if (member.role === 'Owner') return null;\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={member.avatar_url} alt=\"member-header\" width=\"24\" className=\"avatar\"/></td>\n        <td><a href={memberLink}>{member.name}</a></td>\n        <td>\n          <RoleEditor \n            isTextMode={true}\n            isEditIconShow={highlight}\n            currentRole={member.role}\n            roles={this.roles}\n            onRoleChanged={this.onChangeUserRole}\n            toggleItemFreezed={this.props.toggleItemFreezed}\n          />\n        </td>\n        {!this.props.isItemFreezed ?\n          <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteMemberDialog.bind(this, member)}>\n            <span className={`dtable-font dtable-icon-x action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n          </td> : <td></td>\n        }\n      </tr>\n    );\n  }\n}\n\nconst MemberItemPropTypes = {\n  groupID: PropTypes.string.isRequired,\n  member: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onMemberChanged: PropTypes.func.isRequired,\n  showDeleteMemberDialog: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n};\n\nMemberItem.propTypes = MemberItemPropTypes;\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  }\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  }\n\n  render() {\n    const group = this.props.group;\n    const highlight = this.state.highlight;\n    const newHref = siteRoot+ 'org/departmentadmin/groups/' + group.id + '/';\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><Link to={newHref}>{group.name}</Link></td>\n        <td>{moment(group.created_at).fromNow()}</td>\n        <td onClick={this.props.showSetGroupQuotaDialog.bind(this, group.id)}>\n          {Utils.bytesToSize(group.quota)}{' '}\n          <span title=\"Edit Quota\" className={`dtable-font dtable-icon-rename attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n        </td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteDepartDialog.bind(this, group)}>\n          <span className={`dtable-font dtable-icon-x action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nconst GroupItemPropTypes = {\n  group: PropTypes.object.isRequired,\n  groupID: PropTypes.string,\n  showSetGroupQuotaDialog: PropTypes.func.isRequired,\n  showDeleteDepartDialog: PropTypes.func.isRequired,\n  isSubdepartChanged: PropTypes.bool,\n};\n\nGroupItem.propTypes = GroupItemPropTypes;\n\n\nconst OrgDepartmentItemPropTypes = {\n  groupID: PropTypes.string,\n};\n\nOrgDepartmentItem.propTypes = OrgDepartmentItemPropTypes;\n\nexport default OrgDepartmentItem;","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { orgID, gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport moment from 'moment';\nimport ModalPortal from '../../components/modal-portal';\nimport DeleteTableDialog from '../dtable/dialog/delete-table-dialog';\nimport Paginator from '../../components/paginator';\n\n\nconst ItemPropTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteDTable: PropTypes.func.isRequired,\n};\n\n\nclass Item extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isItemMenuShow: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShown: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  onDeleteDTable = () => {\n    const item = this.props.item;\n    let dtableName = item.name;\n\n    dtableWebAPI.orgAdminDeleteDTable(orgID, item.id).then(() => {\n      this.props.deleteDTable(item);\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', dtableName);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n\n    this.toggleDeleteDialog();\n  }\n\n  toggleDeleteDialog = () => {\n    this.setState({ isDeleteDialogOpen: !this.state.isDeleteDialogOpen });\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({isOpIconShown: true, highlight: true});\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({isOpIconShown: false, highlight: false});\n    }\n  }\n\n  toggleOperationMenu = () => {\n    this.setState({\n      isItemMenuShow: !this.state.isItemMenuShow\n    }, () => {\n      if (this.state.isItemMenuShow) {\n        this.props.onFreezedItem();\n      } else {\n        this.setState({highlight: false});\n        this.props.onUnfreezedItem();\n      }\n    });\n  }\n\n  render() {\n    const item = this.props.item;\n    let { isOpIconShown } = this.state;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td><span className=\"dtable-font dtable-icon-table system-dtable-font\" aria-hidden=\"true\"></span></td>\n          <td>\n            {item.name}\n          </td>\n          <td>{item.uuid}</td>\n          <td>{item.creator}</td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            {isOpIconShown && (\n              <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n                <DropdownToggle\n                  tag=\"a\"\n                  className=\"attr-action-icon dtable-font dtable-icon-more-vertical\"\n                  title={gettext('More Operations')}\n                  data-toggle=\"dropdown\"\n                  aria-expanded={this.state.isItemMenuShow}\n                />\n                <DropdownMenu>\n                  <DropdownItem onClick={this.toggleDeleteDialog}>{gettext('Delete')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            )}\n          </td>\n        </tr>\n        {this.state.isDeleteDialogOpen &&\n          <ModalPortal>\n            <DeleteTableDialog\n              currentTable={item}\n              handleSubmit={this.onDeleteDTable}\n              deleteCancel={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = ItemPropTypes;\n\n\nclass OrgNormalDTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = ({\n      isItemFreezed: false,\n      dtableList: [],\n      page: 1,\n      per_page: 25,\n    });\n  }\n\n  componentDidMount() {\n    this.loadDTables(this.state.page);\n  }\n\n  loadDTables(page) {\n    dtableWebAPI.orgAdminListDTables(orgID, page, this.state.per_page).then((res) => {\n      this.setState({\n        dtableList: res.data.dtable_list,\n        count: res.data.count\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  deleteDTable = (item) => {\n    let dtableList = this.state.dtableList.slice();\n    dtableList = dtableList.filter((dtable) => {return dtable.id !== item.id;});\n    this.setState({dtableList: dtableList});\n  }\n\n  getPreviousPageList = () => {\n    this.setState({\n      page: this.state.page - 1\n    }, () => {\n      this.loadDTables(this.state.page);\n    });\n  }\n\n  getNextPageList = () => {\n    this.setState({\n      page: this.state.page + 1\n    }, () => {\n      this.loadDTables(this.state.page);\n    });\n  }\n\n  resetPerPage = (per_page) => {\n    this.setState({\n      per_page: per_page\n    },() => {\n      this.loadDTables(1);\n    });\n  }\n\n  render() {\n    let { dtableList, page, per_page, count } = this.state;\n    return (\n      <div className='cur-view-content'>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"18%\">{gettext('Name')}</th>\n              <th width=\"32%\">ID</th>\n              <th width=\"25%\">{gettext('Creator')}</th>\n              <th width=\"15%\">{gettext('Created At')}</th>\n              <th width=\"5%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {dtableList.map((item, index) => {\n              return (\n                <Item \n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteDTable={this.deleteDTable}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        <Paginator\n          gotoPreviousPage={this.getPreviousPageList}\n          gotoNextPage={this.getNextPageList}\n          currentPage={page}\n          hasNextPage={Utils.hasNextPage(page, per_page, count)}\n          canResetPerPage={true}\n          curPerPage={per_page}\n          resetPerPage={this.resetPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nexport default OrgNormalDTables;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport { orgID, gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport moment from 'moment';\nimport ModalPortal from '../../components/modal-portal';\nimport RestoreTableDialog from '../dtable/dialog/restore-table-dialog';\nimport Paginator from '../../components/paginator';\n\n\nconst ItemPropTypes = {\n  item: PropTypes.object.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  restoreDTable: PropTypes.func.isRequired,\n};\n\n\nclass Item extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isItemMenuShow: false,\n      highlight: false,\n      isRestoreDialogOpen: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  }\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShown: false\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.toggleRestoreDialog();\n        break;\n      default:\n        break;\n    }\n  }\n\n  onRestoreDTable = () => {\n    const item = this.props.item;\n    let dtableName = item.name;\n\n    dtableWebAPI.orgAdminRestoreTrashDTable(orgID, item.id).then(() => {\n      this.props.restoreDTable(item);\n      const msg = gettext('Successfully restore {name}.').replace('{name}', dtableName);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n\n    this.toggleRestoreDialog();\n  }\n\n  toggleRestoreDialog = () => {\n    this.setState({ isRestoreDialogOpen: !this.state.isRestoreDialogOpen });\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({isOpIconShown: true, highlight: true});\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({isOpIconShown: false, highlight: false});\n    }\n  }\n\n  toggleOperationMenu = () => {\n    this.setState({\n      isItemMenuShow: !this.state.isItemMenuShow\n    }, () => {\n      if (this.state.isItemMenuShow) {\n        this.props.onFreezedItem();\n      } else {\n        this.setState({highlight: false});\n        this.props.onUnfreezedItem();\n      }\n    });\n  }\n\n  render() {\n    const item = this.props.item;\n    let { isOpIconShown } = this.state;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td><span className=\"dtable-font dtable-icon-table system-dtable-font\" aria-hidden=\"true\"></span></td>\n          <td>\n            {item.name}\n          </td>\n          <td>{item.uuid}</td>\n          <td>{item.creator}</td>\n          <td>{moment(item.delete_time).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            {isOpIconShown && (\n              <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n                <DropdownToggle\n                  tag=\"a\"\n                  className=\"attr-action-icon dtable-font dtable-icon-more-vertical\"\n                  title={gettext('More Operations')}\n                  data-toggle=\"dropdown\"\n                  aria-expanded={this.state.isItemMenuShow}\n                />\n                <DropdownMenu>\n                  <DropdownItem onClick={this.toggleRestoreDialog}>{gettext('Restore')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            )}\n          </td>\n        </tr>\n        {this.state.isRestoreDialogOpen &&\n          <ModalPortal>\n            <RestoreTableDialog\n              currentTable={item}\n              handleSubmit={this.onRestoreDTable}\n              restoreCancel={this.toggleRestoreDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = ItemPropTypes;\n\n\nclass OrgTrashDTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = ({\n      isItemFreezed: false,\n      dtableList: [],\n      page: 1,\n      per_page: 25,\n      expireDays: 30,\n    });\n  }\n\n  componentDidMount() {\n    this.loadDTables(1);\n  }\n\n  loadDTables = (page) => {\n    dtableWebAPI.orgAdminListTrashDTables(orgID, page, this.state.per_page).then((res) => {\n      this.setState({\n        dtableList: res.data.dtable_list, \n        count: res.data.count\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  restoreDTable = (item) => {\n    let dtableList = this.state.dtableList.slice();\n    dtableList = dtableList.filter((dtable) => {return dtable.id !== item.id;});\n    this.setState({dtableList: dtableList});\n  }\n\n  getPreviousPageList = () => {\n    this.setState({\n      page: this.state.page - 1\n    }, () => {\n      this.loadDTables(this.state.page);\n    });\n  }\n\n  getNextPageList = () => {\n    this.setState({\n      page: this.state.page + 1\n    }, () => {\n      this.loadDTables(this.state.page);\n    });\n  }\n\n  resetPerPage = (per_page) => {\n    this.setState({\n      per_page: per_page\n    },() => {\n      this.loadDTables(1);\n    });\n  }\n\n  render() {\n    let { dtableList, page, per_page, count } = this.state;\n    return (\n      <div className='cur-view-content'>\n        <p className=\"mt-4 small text-secondary\">{gettext('Tip: tables deleted {expireDays} days ago will be cleaned automatically.').replace('{expireDays}', this.state.expireDays)}</p>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"18%\">{gettext('Name')}</th>\n              <th width=\"32%\">ID</th>\n              <th width=\"25%\">{gettext('Creator')}</th>\n              <th width=\"15%\">{gettext('Deleted At')}</th>\n              <th width=\"5%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {dtableList.map((item, index) => {\n              return (\n                <Item \n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  restoreDTable={this.restoreDTable}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        <Paginator\n          gotoPreviousPage={this.getPreviousPageList}\n          gotoNextPage={this.getNextPageList}\n          currentPage={page}\n          hasNextPage={Utils.hasNextPage(page, per_page, count)}\n          canResetPerPage={true}\n          curPerPage={per_page}\n          resetPerPage={this.resetPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nexport default OrgTrashDTables;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport OrgNormalDTables from './org-normal-dtables';\nimport { gettext } from '../../utils/constants';\nimport OrgTrashDTables from './org-trash-dtables';\nimport MainPanelTopbar from './main-panel-topbar';\n\n\nconst OrgDTablesPropTypes = {\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\n\nclass OrgDTables extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  tabItemClick = (tab) => {\n    this.props.tabItemClick(tab);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path org-user-nav\">\n              <ul className=\"nav\">\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('tables')}>\n                  <span className={`nav-link ${this.props.currentTab === 'tables' ? 'active': ''}`}>{gettext('Tables')}</span>\n                </li>\n                <li className=\"nav-item\" onClick={() => this.tabItemClick('trash')}>\n                  <span className={`nav-link ${this.props.currentTab === 'trash' ? 'active': ''}`} >{gettext('Trash')}</span>\n                </li>\n              </ul>\n            </div>\n            {this.props.currentTab === 'tables' && \n              <OrgNormalDTables />\n            }\n            {this.props.currentTab === 'trash' && \n              <OrgTrashDTables />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgDTables.propTypes = OrgDTablesPropTypes;\n\nexport default OrgDTables;\n","// Import React!\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from '@reach/router';\nimport moment from 'moment';\nimport { siteRoot, lang } from '../../utils/constants';\nimport SidePanel from './side-panel';\nimport OrgUsers from './org-users';\nimport OrgUserProfile from './org-user-profile';\nimport OrgGroups from './org-groups';\nimport OrgGroupInfo from './org-group-info';\nimport OrgGroupMembers from './org-group-members';\nimport OrgInfo from './org-info';\nimport OrgDepartments from './org-departments';\nimport OrgDepartmentsList from './org-departments-list';\nimport OrgDepartmentItem from './org-department-item';\nimport OrgDTables from './org-dtables';\n\nimport '../../css/layout.css';\nimport '../../css/toolbar.css';\n\nmoment.locale(lang);\n\nclass Org extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidePanelClosed: false,\n      currentTab: 'users',\n    };\n  }\n\n  componentDidMount() {\n    let href = window.location.href.split('/');\n    let currentTab = href[href.length - 2];\n\n    if (location.href.indexOf(`${siteRoot}org/useradmin`) !== -1) {\n      currentTab = 'users';\n    }\n    if (location.href.indexOf(`${siteRoot}org/groupadmin`) !== -1) {\n      currentTab = 'groupadmin';\n    }\n    if (location.href.indexOf(`${siteRoot}org/departmentadmin`) !== -1) {\n      currentTab = 'departmentadmin';\n    }\n    if (location.href.indexOf(`${siteRoot}org/dtableadmin`) !== -1) {\n      currentTab = 'tables';\n    }\n    this.setState({currentTab: currentTab});\n  }\n\n  onCloseSidePanel = () => {\n    this.setState({isSidePanelClosed: !this.state.isSidePanelClosed});\n  }\n\n  tabItemClick = (param) => {\n    this.setState({currentTab: param});          \n  }\n\n  render() {\n    let { isSidePanelClosed, currentTab } = this.state;\n    return (\n      <div id=\"main\">\n        <SidePanel isSidePanelClosed={isSidePanelClosed} onCloseSidePanel={this.onCloseSidePanel} currentTab={currentTab} tabItemClick={this.tabItemClick}/>       \n        <div className=\"main-panel o-hidden\">\n          <Router className=\"reach-router\">\n            <OrgInfo path={siteRoot + 'org/orgmanage'}/>\n            <OrgUsers path={siteRoot + 'org/useradmin'} currentTab={currentTab} tabItemClick={this.tabItemClick}/>\n            <OrgUserProfile path={siteRoot + 'org/useradmin/info/:email/'} />\n            <OrgGroups path={siteRoot + 'org/groupadmin'} />\n            <OrgGroupInfo path={siteRoot + 'org/groupadmin/:groupID/'} />\n            <OrgGroupMembers path={siteRoot + 'org/groupadmin/:groupID/members/'} />\n            <OrgDepartments path={siteRoot + 'org/departmentadmin'}>\n              <OrgDepartmentsList path='/'/>\n              <OrgDepartmentItem path='groups/:groupID'/>\n            </OrgDepartments>\n            <OrgDTables path={siteRoot + 'org/dtableadmin'} currentTab={currentTab} tabItemClick={this.tabItemClick}/>\n          </Router>\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <Org />,\n  document.getElementById('wrapper')\n);\n","module.exports = {\n  MODE_NUMBER: 1 << 0,\n  MODE_ALPHA_NUM: 1 << 1,\n  MODE_8BIT_BYTE: 1 << 2,\n  MODE_KANJI: 1 << 3\n};","module.exports = {\n  L: 1,\n  M: 0,\n  Q: 3,\n  H: 2\n};","var math = require('./math');\n\nfunction QRPolynomial(num, shift) {\n  if (num.length == undefined) {\n    throw new Error(num.length + \"/\" + shift);\n  }\n\n  var offset = 0;\n\n  while (offset < num.length && num[offset] == 0) {\n    offset++;\n  }\n\n  this.num = new Array(num.length - offset + shift);\n\n  for (var i = 0; i < num.length - offset; i++) {\n    this.num[i] = num[i + offset];\n  }\n}\n\nQRPolynomial.prototype = {\n  get: function get(index) {\n    return this.num[index];\n  },\n  getLength: function getLength() {\n    return this.num.length;\n  },\n  multiply: function multiply(e) {\n    var num = new Array(this.getLength() + e.getLength() - 1);\n\n    for (var i = 0; i < this.getLength(); i++) {\n      for (var j = 0; j < e.getLength(); j++) {\n        num[i + j] ^= math.gexp(math.glog(this.get(i)) + math.glog(e.get(j)));\n      }\n    }\n\n    return new QRPolynomial(num, 0);\n  },\n  mod: function mod(e) {\n    if (this.getLength() - e.getLength() < 0) {\n      return this;\n    }\n\n    var ratio = math.glog(this.get(0)) - math.glog(e.get(0));\n    var num = new Array(this.getLength());\n\n    for (var i = 0; i < this.getLength(); i++) {\n      num[i] = this.get(i);\n    }\n\n    for (var i = 0; i < e.getLength(); i++) {\n      num[i] ^= math.gexp(math.glog(e.get(i)) + ratio);\n    } // recursive call\n\n\n    return new QRPolynomial(num, 0).mod(e);\n  }\n};\nmodule.exports = QRPolynomial;","var QRMath = {\n  glog: function glog(n) {\n    if (n < 1) {\n      throw new Error(\"glog(\" + n + \")\");\n    }\n\n    return QRMath.LOG_TABLE[n];\n  },\n  gexp: function gexp(n) {\n    while (n < 0) {\n      n += 255;\n    }\n\n    while (n >= 256) {\n      n -= 255;\n    }\n\n    return QRMath.EXP_TABLE[n];\n  },\n  EXP_TABLE: new Array(256),\n  LOG_TABLE: new Array(256)\n};\n\nfor (var i = 0; i < 8; i++) {\n  QRMath.EXP_TABLE[i] = 1 << i;\n}\n\nfor (var i = 8; i < 256; i++) {\n  QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];\n}\n\nfor (var i = 0; i < 255; i++) {\n  QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\n}\n\nmodule.exports = QRMath;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle } from '../utils/constants'; \n\nconst propTypes = {\n  onCloseSidePanel: PropTypes.func,\n  showCloseSidePanelIcon: PropTypes.bool,\n};\n\nclass Logo extends React.Component {\n\n  closeSide = () => {\n    this.props.onCloseSidePanel();\n  }\n  \n  render() {\n    return (\n      <div className=\"top-logo\">\n        <a href={siteRoot} id=\"logo\">\n          <img src={mediaUrl + logoPath} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" />\n        </a>\n        {this.props.showCloseSidePanelIcon &&\n          <span \n            className=\"a-simulate sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none\"\n            onClick={this.closeSide} \n            title=\"Close\" \n            aria-label=\"Close\" \n          >\n          </span>\n        }\n      </div>\n    );\n  }\n}\n\nLogo.propTypes = propTypes;\n\nexport default Logo;\n","'use strict';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\n\n\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.update();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roles: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func,\n};\n\nclass RoleEditor extends React.Component {\n\n  translateRole = (role) => {\n    if (role === 'Admin') {\n      return gettext('Admin');\n    }\n    \n    if (role === 'Member') {\n      return gettext('Member');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor \n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roles}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRole}\n        toggleItemFreezed={this.props.toggleItemFreezed}\n      />\n    );\n  }\n}\n\nRoleEditor.propTypes = propTypes;\n\nexport default RoleEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  currentTable: PropTypes.object.isRequired,\n  restoreCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nclass RestoreTableDialog extends React.Component {\n\n  toggle = () => {\n    this.props.restoreCancel();\n  }\n  \n  render() {\n    let currentTable = this.props.currentTable;\n    let name = currentTable.name;\n\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Restore Table')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure to restore')}{' '}<b>{name}</b> ?</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.props.handleSubmit}>{gettext('Restore')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRestoreTableDialog.propTypes = propTypes;\n\nexport default RestoreTableDialog;\n","var BitByte = require('./8BitByte');\n\nvar RSBlock = require('./RSBlock');\n\nvar BitBuffer = require('./BitBuffer');\n\nvar util = require('./util');\n\nvar Polynomial = require('./Polynomial');\n\nfunction QRCode(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n} // for client side minification\n\n\nvar proto = QRCode.prototype;\n\nproto.addData = function (data) {\n  var newData = new BitByte(data);\n  this.dataList.push(newData);\n  this.dataCache = null;\n};\n\nproto.isDark = function (row, col) {\n  if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n    throw new Error(row + \",\" + col);\n  }\n\n  return this.modules[row][col];\n};\n\nproto.getModuleCount = function () {\n  return this.moduleCount;\n};\n\nproto.make = function () {\n  // Calculate automatically typeNumber if provided is < 1\n  if (this.typeNumber < 1) {\n    var typeNumber = 1;\n\n    for (typeNumber = 1; typeNumber < 40; typeNumber++) {\n      var rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n      var buffer = new BitBuffer();\n      var totalDataCount = 0;\n\n      for (var i = 0; i < rsBlocks.length; i++) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      for (var i = 0; i < this.dataList.length; i++) {\n        var data = this.dataList[i];\n        buffer.put(data.mode, 4);\n        buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));\n        data.write(buffer);\n      }\n\n      if (buffer.getLengthInBits() <= totalDataCount * 8) break;\n    }\n\n    this.typeNumber = typeNumber;\n  }\n\n  this.makeImpl(false, this.getBestMaskPattern());\n};\n\nproto.makeImpl = function (test, maskPattern) {\n  this.moduleCount = this.typeNumber * 4 + 17;\n  this.modules = new Array(this.moduleCount);\n\n  for (var row = 0; row < this.moduleCount; row++) {\n    this.modules[row] = new Array(this.moduleCount);\n\n    for (var col = 0; col < this.moduleCount; col++) {\n      this.modules[row][col] = null; //(col + row) % 3;\n    }\n  }\n\n  this.setupPositionProbePattern(0, 0);\n  this.setupPositionProbePattern(this.moduleCount - 7, 0);\n  this.setupPositionProbePattern(0, this.moduleCount - 7);\n  this.setupPositionAdjustPattern();\n  this.setupTimingPattern();\n  this.setupTypeInfo(test, maskPattern);\n\n  if (this.typeNumber >= 7) {\n    this.setupTypeNumber(test);\n  }\n\n  if (this.dataCache == null) {\n    this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n  }\n\n  this.mapData(this.dataCache, maskPattern);\n};\n\nproto.setupPositionProbePattern = function (row, col) {\n  for (var r = -1; r <= 7; r++) {\n    if (row + r <= -1 || this.moduleCount <= row + r) continue;\n\n    for (var c = -1; c <= 7; c++) {\n      if (col + c <= -1 || this.moduleCount <= col + c) continue;\n\n      if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {\n        this.modules[row + r][col + c] = true;\n      } else {\n        this.modules[row + r][col + c] = false;\n      }\n    }\n  }\n};\n\nproto.getBestMaskPattern = function () {\n  var minLostPoint = 0;\n  var pattern = 0;\n\n  for (var i = 0; i < 8; i++) {\n    this.makeImpl(true, i);\n    var lostPoint = util.getLostPoint(this);\n\n    if (i == 0 || minLostPoint > lostPoint) {\n      minLostPoint = lostPoint;\n      pattern = i;\n    }\n  }\n\n  return pattern;\n};\n\nproto.createMovieClip = function (target_mc, instance_name, depth) {\n  var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n  var cs = 1;\n  this.make();\n\n  for (var row = 0; row < this.modules.length; row++) {\n    var y = row * cs;\n\n    for (var col = 0; col < this.modules[row].length; col++) {\n      var x = col * cs;\n      var dark = this.modules[row][col];\n\n      if (dark) {\n        qr_mc.beginFill(0, 100);\n        qr_mc.moveTo(x, y);\n        qr_mc.lineTo(x + cs, y);\n        qr_mc.lineTo(x + cs, y + cs);\n        qr_mc.lineTo(x, y + cs);\n        qr_mc.endFill();\n      }\n    }\n  }\n\n  return qr_mc;\n};\n\nproto.setupTimingPattern = function () {\n  for (var r = 8; r < this.moduleCount - 8; r++) {\n    if (this.modules[r][6] != null) {\n      continue;\n    }\n\n    this.modules[r][6] = r % 2 == 0;\n  }\n\n  for (var c = 8; c < this.moduleCount - 8; c++) {\n    if (this.modules[6][c] != null) {\n      continue;\n    }\n\n    this.modules[6][c] = c % 2 == 0;\n  }\n};\n\nproto.setupPositionAdjustPattern = function () {\n  var pos = util.getPatternPosition(this.typeNumber);\n\n  for (var i = 0; i < pos.length; i++) {\n    for (var j = 0; j < pos.length; j++) {\n      var row = pos[i];\n      var col = pos[j];\n\n      if (this.modules[row][col] != null) {\n        continue;\n      }\n\n      for (var r = -2; r <= 2; r++) {\n        for (var c = -2; c <= 2; c++) {\n          if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {\n            this.modules[row + r][col + c] = true;\n          } else {\n            this.modules[row + r][col + c] = false;\n          }\n        }\n      }\n    }\n  }\n};\n\nproto.setupTypeNumber = function (test) {\n  var bits = util.getBCHTypeNumber(this.typeNumber);\n\n  for (var i = 0; i < 18; i++) {\n    var mod = !test && (bits >> i & 1) == 1;\n    this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n  }\n\n  for (var i = 0; i < 18; i++) {\n    var mod = !test && (bits >> i & 1) == 1;\n    this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n  }\n};\n\nproto.setupTypeInfo = function (test, maskPattern) {\n  var data = this.errorCorrectLevel << 3 | maskPattern;\n  var bits = util.getBCHTypeInfo(data); // vertical\t\t\n\n  for (var i = 0; i < 15; i++) {\n    var mod = !test && (bits >> i & 1) == 1;\n\n    if (i < 6) {\n      this.modules[i][8] = mod;\n    } else if (i < 8) {\n      this.modules[i + 1][8] = mod;\n    } else {\n      this.modules[this.moduleCount - 15 + i][8] = mod;\n    }\n  } // horizontal\n\n\n  for (var i = 0; i < 15; i++) {\n    var mod = !test && (bits >> i & 1) == 1;\n\n    if (i < 8) {\n      this.modules[8][this.moduleCount - i - 1] = mod;\n    } else if (i < 9) {\n      this.modules[8][15 - i - 1 + 1] = mod;\n    } else {\n      this.modules[8][15 - i - 1] = mod;\n    }\n  } // fixed module\n\n\n  this.modules[this.moduleCount - 8][8] = !test;\n};\n\nproto.mapData = function (data, maskPattern) {\n  var inc = -1;\n  var row = this.moduleCount - 1;\n  var bitIndex = 7;\n  var byteIndex = 0;\n\n  for (var col = this.moduleCount - 1; col > 0; col -= 2) {\n    if (col == 6) col--;\n\n    while (true) {\n      for (var c = 0; c < 2; c++) {\n        if (this.modules[row][col - c] == null) {\n          var dark = false;\n\n          if (byteIndex < data.length) {\n            dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n          }\n\n          var mask = util.getMask(maskPattern, row, col - c);\n\n          if (mask) {\n            dark = !dark;\n          }\n\n          this.modules[row][col - c] = dark;\n          bitIndex--;\n\n          if (bitIndex == -1) {\n            byteIndex++;\n            bitIndex = 7;\n          }\n        }\n      }\n\n      row += inc;\n\n      if (row < 0 || this.moduleCount <= row) {\n        row -= inc;\n        inc = -inc;\n        break;\n      }\n    }\n  }\n};\n\nQRCode.PAD0 = 0xEC;\nQRCode.PAD1 = 0x11;\n\nQRCode.createData = function (typeNumber, errorCorrectLevel, dataList) {\n  var rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n  var buffer = new BitBuffer();\n\n  for (var i = 0; i < dataList.length; i++) {\n    var data = dataList[i];\n    buffer.put(data.mode, 4);\n    buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));\n    data.write(buffer);\n  } // calc num max data.\n\n\n  var totalDataCount = 0;\n\n  for (var i = 0; i < rsBlocks.length; i++) {\n    totalDataCount += rsBlocks[i].dataCount;\n  }\n\n  if (buffer.getLengthInBits() > totalDataCount * 8) {\n    throw new Error(\"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\");\n  } // end code\n\n\n  if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n    buffer.put(0, 4);\n  } // padding\n\n\n  while (buffer.getLengthInBits() % 8 != 0) {\n    buffer.putBit(false);\n  } // padding\n\n\n  while (true) {\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n      break;\n    }\n\n    buffer.put(QRCode.PAD0, 8);\n\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n      break;\n    }\n\n    buffer.put(QRCode.PAD1, 8);\n  }\n\n  return QRCode.createBytes(buffer, rsBlocks);\n};\n\nQRCode.createBytes = function (buffer, rsBlocks) {\n  var offset = 0;\n  var maxDcCount = 0;\n  var maxEcCount = 0;\n  var dcdata = new Array(rsBlocks.length);\n  var ecdata = new Array(rsBlocks.length);\n\n  for (var r = 0; r < rsBlocks.length; r++) {\n    var dcCount = rsBlocks[r].dataCount;\n    var ecCount = rsBlocks[r].totalCount - dcCount;\n    maxDcCount = Math.max(maxDcCount, dcCount);\n    maxEcCount = Math.max(maxEcCount, ecCount);\n    dcdata[r] = new Array(dcCount);\n\n    for (var i = 0; i < dcdata[r].length; i++) {\n      dcdata[r][i] = 0xff & buffer.buffer[i + offset];\n    }\n\n    offset += dcCount;\n    var rsPoly = util.getErrorCorrectPolynomial(ecCount);\n    var rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);\n    var modPoly = rawPoly.mod(rsPoly);\n    ecdata[r] = new Array(rsPoly.getLength() - 1);\n\n    for (var i = 0; i < ecdata[r].length; i++) {\n      var modIndex = i + modPoly.getLength() - ecdata[r].length;\n      ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;\n    }\n  }\n\n  var totalCodeCount = 0;\n\n  for (var i = 0; i < rsBlocks.length; i++) {\n    totalCodeCount += rsBlocks[i].totalCount;\n  }\n\n  var data = new Array(totalCodeCount);\n  var index = 0;\n\n  for (var i = 0; i < maxDcCount; i++) {\n    for (var r = 0; r < rsBlocks.length; r++) {\n      if (i < dcdata[r].length) {\n        data[index++] = dcdata[r][i];\n      }\n    }\n  }\n\n  for (var i = 0; i < maxEcCount; i++) {\n    for (var r = 0; r < rsBlocks.length; r++) {\n      if (i < ecdata[r].length) {\n        data[index++] = ecdata[r][i];\n      }\n    }\n  }\n\n  return data;\n};\n\nmodule.exports = QRCode;","var mode = require('./mode');\n\nfunction QR8bitByte(data) {\n  this.mode = mode.MODE_8BIT_BYTE;\n  this.data = data;\n}\n\nQR8bitByte.prototype = {\n  getLength: function getLength(buffer) {\n    return this.data.length;\n  },\n  write: function write(buffer) {\n    for (var i = 0; i < this.data.length; i++) {\n      // not JIS ...\n      buffer.put(this.data.charCodeAt(i), 8);\n    }\n  }\n};\nmodule.exports = QR8bitByte;","// ErrorCorrectLevel\nvar ECL = require('./ErrorCorrectLevel');\n\nfunction QRRSBlock(totalCount, dataCount) {\n  this.totalCount = totalCount;\n  this.dataCount = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [// L\n// M\n// Q\n// H\n// 1\n[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], // 2\n[1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], // 3\n[1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], // 4\t\t\n[1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], // 5\n[1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], // 6\n[2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], // 7\t\t\n[2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], // 8\n[2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], // 9\n[2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], // 10\t\t\n[2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], // 11\n[4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], // 12\n[2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], // 13\n[4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], // 14\n[3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], // 15\n[5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], // 16\n[5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], // 17\n[1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], // 18\n[5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], // 19\n[3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], // 20\n[3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], // 21\n[4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], // 22\n[2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], // 23\n[4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], // 24\n[6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], // 25\n[8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], // 26\n[10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], // 27\n[8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], // 28\n[3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], // 29\n[7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], // 30\n[5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], // 31\n[13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], // 32\n[17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], // 33\n[17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], // 34\n[13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], // 35\n[12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], // 36\n[6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], // 37\n[17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], // 38\n[4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], // 39\n[20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], // 40\n[19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];\n\nQRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n  var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\n  if (rsBlock == undefined) {\n    throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n  }\n\n  var length = rsBlock.length / 3;\n  var list = new Array();\n\n  for (var i = 0; i < length; i++) {\n    var count = rsBlock[i * 3 + 0];\n    var totalCount = rsBlock[i * 3 + 1];\n    var dataCount = rsBlock[i * 3 + 2];\n\n    for (var j = 0; j < count; j++) {\n      list.push(new QRRSBlock(totalCount, dataCount));\n    }\n  }\n\n  return list;\n};\n\nQRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n  switch (errorCorrectLevel) {\n    case ECL.L:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\n    case ECL.M:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\n    case ECL.Q:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\n    case ECL.H:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n};\n\nmodule.exports = QRRSBlock;","function QRBitBuffer() {\n  this.buffer = new Array();\n  this.length = 0;\n}\n\nQRBitBuffer.prototype = {\n  get: function get(index) {\n    var bufIndex = Math.floor(index / 8);\n    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n  },\n  put: function put(num, length) {\n    for (var i = 0; i < length; i++) {\n      this.putBit((num >>> length - i - 1 & 1) == 1);\n    }\n  },\n  getLengthInBits: function getLengthInBits() {\n    return this.length;\n  },\n  putBit: function putBit(bit) {\n    var bufIndex = Math.floor(this.length / 8);\n\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0);\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n    }\n\n    this.length++;\n  }\n};\nmodule.exports = QRBitBuffer;","var Mode = require('./mode');\n\nvar Polynomial = require('./Polynomial');\n\nvar math = require('./math');\n\nvar QRMaskPattern = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n};\nvar QRUtil = {\n  PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],\n  G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,\n  G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,\n  G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,\n  getBCHTypeInfo: function getBCHTypeInfo(data) {\n    var d = data << 10;\n\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n      d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);\n    }\n\n    return (data << 10 | d) ^ QRUtil.G15_MASK;\n  },\n  getBCHTypeNumber: function getBCHTypeNumber(data) {\n    var d = data << 12;\n\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n      d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);\n    }\n\n    return data << 12 | d;\n  },\n  getBCHDigit: function getBCHDigit(data) {\n    var digit = 0;\n\n    while (data != 0) {\n      digit++;\n      data >>>= 1;\n    }\n\n    return digit;\n  },\n  getPatternPosition: function getPatternPosition(typeNumber) {\n    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n  },\n  getMask: function getMask(maskPattern, i, j) {\n    switch (maskPattern) {\n      case QRMaskPattern.PATTERN000:\n        return (i + j) % 2 == 0;\n\n      case QRMaskPattern.PATTERN001:\n        return i % 2 == 0;\n\n      case QRMaskPattern.PATTERN010:\n        return j % 3 == 0;\n\n      case QRMaskPattern.PATTERN011:\n        return (i + j) % 3 == 0;\n\n      case QRMaskPattern.PATTERN100:\n        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n\n      case QRMaskPattern.PATTERN101:\n        return i * j % 2 + i * j % 3 == 0;\n\n      case QRMaskPattern.PATTERN110:\n        return (i * j % 2 + i * j % 3) % 2 == 0;\n\n      case QRMaskPattern.PATTERN111:\n        return (i * j % 3 + (i + j) % 2) % 2 == 0;\n\n      default:\n        throw new Error(\"bad maskPattern:\" + maskPattern);\n    }\n  },\n  getErrorCorrectPolynomial: function getErrorCorrectPolynomial(errorCorrectLength) {\n    var a = new Polynomial([1], 0);\n\n    for (var i = 0; i < errorCorrectLength; i++) {\n      a = a.multiply(new Polynomial([1, math.gexp(i)], 0));\n    }\n\n    return a;\n  },\n  getLengthInBits: function getLengthInBits(mode, type) {\n    if (1 <= type && type < 10) {\n      // 1 - 9\n      switch (mode) {\n        case Mode.MODE_NUMBER:\n          return 10;\n\n        case Mode.MODE_ALPHA_NUM:\n          return 9;\n\n        case Mode.MODE_8BIT_BYTE:\n          return 8;\n\n        case Mode.MODE_KANJI:\n          return 8;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else if (type < 27) {\n      // 10 - 26\n      switch (mode) {\n        case Mode.MODE_NUMBER:\n          return 12;\n\n        case Mode.MODE_ALPHA_NUM:\n          return 11;\n\n        case Mode.MODE_8BIT_BYTE:\n          return 16;\n\n        case Mode.MODE_KANJI:\n          return 10;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else if (type < 41) {\n      // 27 - 40\n      switch (mode) {\n        case Mode.MODE_NUMBER:\n          return 14;\n\n        case Mode.MODE_ALPHA_NUM:\n          return 13;\n\n        case Mode.MODE_8BIT_BYTE:\n          return 16;\n\n        case Mode.MODE_KANJI:\n          return 12;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else {\n      throw new Error(\"type:\" + type);\n    }\n  },\n  getLostPoint: function getLostPoint(qrCode) {\n    var moduleCount = qrCode.getModuleCount();\n    var lostPoint = 0; // LEVEL1\n\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount; col++) {\n        var sameCount = 0;\n        var dark = qrCode.isDark(row, col);\n\n        for (var r = -1; r <= 1; r++) {\n          if (row + r < 0 || moduleCount <= row + r) {\n            continue;\n          }\n\n          for (var c = -1; c <= 1; c++) {\n            if (col + c < 0 || moduleCount <= col + c) {\n              continue;\n            }\n\n            if (r == 0 && c == 0) {\n              continue;\n            }\n\n            if (dark == qrCode.isDark(row + r, col + c)) {\n              sameCount++;\n            }\n          }\n        }\n\n        if (sameCount > 5) {\n          lostPoint += 3 + sameCount - 5;\n        }\n      }\n    } // LEVEL2\n\n\n    for (var row = 0; row < moduleCount - 1; row++) {\n      for (var col = 0; col < moduleCount - 1; col++) {\n        var count = 0;\n        if (qrCode.isDark(row, col)) count++;\n        if (qrCode.isDark(row + 1, col)) count++;\n        if (qrCode.isDark(row, col + 1)) count++;\n        if (qrCode.isDark(row + 1, col + 1)) count++;\n\n        if (count == 0 || count == 4) {\n          lostPoint += 3;\n        }\n      }\n    } // LEVEL3\n\n\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount - 6; col++) {\n        if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    for (var col = 0; col < moduleCount; col++) {\n      for (var row = 0; row < moduleCount - 6; row++) {\n        if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {\n          lostPoint += 40;\n        }\n      }\n    } // LEVEL4\n\n\n    var darkCount = 0;\n\n    for (var col = 0; col < moduleCount; col++) {\n      for (var row = 0; row < moduleCount; row++) {\n        if (qrCode.isDark(row, col)) {\n          darkCount++;\n        }\n      }\n    }\n\n    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n    lostPoint += ratio * 10;\n    return lostPoint;\n  }\n};\nmodule.exports = QRUtil;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { navigate } from '@reach/router';\nimport { gettext } from '../utils/constants';\n\nimport '../css/pagination.css';\n\nconst propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  gotoPreviousPage: PropTypes.func.isRequired,\n  gotoNextPage: PropTypes.func.isRequired,\n  hasNextPage: PropTypes.bool.isRequired,\n  resetPerPage: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number.isRequired\n};\n\nclass Paginator extends Component {\n\n  resetPerPage = (e) => {\n    const perPage = e.target.value;\n    this.updateURL(1, perPage);\n    this.props.resetPerPage(Number(perPage));\n  }\n\n  goToPrevious = () => {\n    const { currentPage, curPerPage } = this.props;\n    this.updateURL(currentPage - 1, curPerPage);\n    this.props.gotoPreviousPage();\n  } \n\n  goToNext = () => {\n    const { currentPage, curPerPage } = this.props;\n    this.updateURL(currentPage + 1, curPerPage);\n    this.props.gotoNextPage();\n  } \n\n  updateURL = (page, perPage) => {\n    let url = new URL(location.href);\n    let searchParams = new URLSearchParams(url.search);\n    searchParams.set('page', page);\n    searchParams.set('per_page', perPage);\n    url.search = searchParams.toString();\n    navigate(url.toString());\n  }\n\n  getPerPageText = (perPage) => {\n    return gettext('{number_placeholder} / Page').replace('{number_placeholder}', perPage);\n  }\n\n  render() {\n    const { curPerPage, currentPage } = this.props;\n    let leftDisabled = currentPage === 1;\n    let rightDisabled = !this.props.hasNextPage;\n    return (\n      <div className=\"my-6 paginator d-flex align-items-center justify-content-center\">\n        <button\n          className=\"btn btn-secondary\"\n          disabled={leftDisabled}\n          onClick={this.goToPrevious}\n        >\n          <span className={`dtable-font dtable-icon-left ${leftDisabled ? 'paginator-disabled-btn' : ''}`}></span>\n        </button>\n        <span className=\"btn btn-primary mx-4\">{currentPage}</span>\n        <button\n          className=\"btn btn-secondary\"\n          disabled={rightDisabled}\n          onClick={this.goToNext}\n        >\n          <span className={`dtable-font dtable-icon-right ${rightDisabled ? 'paginator-disabled-btn': ''}`}></span>\n        </button>\n        <select\n          className=\"form-control d-inline-block w-auto ml-6\"\n          value={curPerPage}\n          onChange={this.resetPerPage}\n        >\n          <option value=\"25\">{this.getPerPageText(25)}</option>\n          <option value=\"50\">{this.getPerPageText(50)}</option>\n          <option value=\"100\">{this.getPerPageText(100)}</option>\n        </select>\n      </div>\n    );\n  }\n}\n\nPaginator.propTypes = propTypes;\n\nexport default Paginator;\n"],"sourceRoot":""}