{"version":3,"sources":["pages/dtable-edit-form/app-form-content.js","pages/dtable-edit-form/widgets/form-setting-item.js","pages/dtable-edit-form/widgets/setting-send-notification.js","pages/dtable-edit-form/widgets/group-selection-popover.js","pages/dtable-edit-form/widgets/group-selection-item.js","pages/dtable-edit-form/widgets/setting-form-share.js","pages/dtable-edit-form/widgets/setting-remarks.js","pages/dtable-edit-form/select/option.js","pages/dtable-edit-form/select/option-group.js","pages/dtable-edit-form/select/index.js","pages/dtable-edit-form/select/select.js","pages/dtable-edit-form/app-form-setting.js","pages/dtable-edit-form/app-main.js","dtable-edit-form-view.js","pages/dtable-share-form/cell-editor-widgets/collaborator-editor-option.js","pages/dtable-share-form/cell-editor-widgets/collaborator-editor-popover.js","pages/dtable-share-form/generator/label-generator.js","pages/dtable-share-form/cell-editor/collaborator-editor.js","pages/dtable-share-form/cell-editor-widgets/select-editor-option.js","pages/dtable-share-form/cell-editor-widgets/select-editor-popover.js","pages/dtable-share-form/cell-viewer-mobile/mobile-common-header.js","pages/dtable-share-form/cell-viewer-mobile/single-select-view.js","pages/dtable-share-form/utils/zIndexes.js","pages/dtable-share-form/cell-editor/single-select-editor.js","pages/dtable-share-form/cell-viewer-mobile/multi-select-view.js","pages/dtable-share-form/cell-editor/mutiple-select-editor.js","pages/dtable-share-form/cell-editor-widgets/long-text-editor-preview-all.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/header-list.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/button-group.js","../node_modules/@seafile/seafile-editor/node_modules/reactstrap/dist/reactstrap.es.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/icon-button.js","../node_modules/@seafile/seafile-editor/dist/components/add-link-dialog.js","../node_modules/@seafile/seafile-editor/dist/components/add-image-dialog.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/table-toolbar.js","../node_modules/@seafile/seafile-editor/dist/components/topbar-component/upload-img.js","../node_modules/@seafile/seafile-editor/dist/components/toolbar.js","../node_modules/@seafile/seafile-editor/dist/editor/editor-utils/range-utils.js","../node_modules/@seafile/seafile-editor/dist/editor/textlink-hovermenu.js","../node_modules/@seafile/seafile-editor/dist/components/context-menu.js","../node_modules/@seafile/seafile-editor/dist/editor/element-model/link.js","../node_modules/@seafile/seafile-editor/dist/editor/element-model/image.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/block-element-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/inline-element-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/void-element-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/editor-utils/text-utils.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/shortcut-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/controller/normalize-controller.js","../node_modules/@seafile/seafile-editor/dist/editor/custom/set-event-transfer.js","../node_modules/@seafile/seafile-editor/dist/editor/editor-plugin.js","../node_modules/@seafile/seafile-editor/dist/editor/simple-editor.js","pages/dtable-share-form/cell-editor-widgets/long-text-editor-dialog.js","pages/dtable-share-form/cell-viewer-mobile/long-text-view.js","pages/dtable-share-form/cell-editor/long-text-editor.js","pages/dtable-share-form/cell-viewer-mobile/date-editor-view.js","pages/dtable-share-form/cell-editor-widgets/click-outside.js","pages/dtable-share-form/cell-editor/date-editor.js","pages/dtable-share-form/cell-editor/text-editor.js","pages/dtable-share-form/utils/number-utils.js","pages/dtable-share-form/cell-editor/number-editor.js","pages/dtable-share-form/cell-editor/checkbox-editor.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/image-thumbnail.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/upload-progress.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/local-file-addition.js","pages/dtable-share-form/cell-editor/file-editor.js","pages/dtable-share-form/cell-editor-widgets/file-image-edit/local-image-addition.js","pages/dtable-share-form/cell-editor/image-editor.js","pages/dtable-share-form/cell-editor/editor-config.js","pages/dtable-share-form/generator/form-editor-generator.js","pages/dtable-share-form/row-item.js","pages/dtable-share-form/remark-item.js"],"names":["AppFormContent","getRowItems","props","currentColumns","remarkContent","isRemarkContentShow","rowItems","disabledType","key","column","includes","type","item","isReadOnly","push","remarkItem","this","className","React","Component","FormSettingItem","onColumnItemClick","event","nativeEvent","stopImmediatePropagation","value","target","checked","state","isChecked","columnSetting","setState","flag","nextProps","iconClass","CELL_ICON","onChange","name","gettext","window","SettingSendNotication","onDocumentToggle","showPopover","onCommit","selectedUsers","togglePopover","stopPropagation","onDeleteUser","deletedUser","filter","user","email","onOptionItemToggle","slice","email_index","map","indexOf","splice","getPopoverStyle","width","minHeight","position","margin","document","addEventListener","removeEventListener","isSendNotification","closeSendNotification","openSendNotification","popoverStyle","check","onClick","index","collaborator","onDeleteCollaborator","collaborators","relatedUsers","selectedCollaborators","GroupSelectionPopover","onValueChanged","e","trim","searchValue","onInputClick","group","getFilterGroups","groups","toLowerCase","toString","selectedGroups","style","placeholder","length","isSelect","some","selectGroup","id","bind","fontSize","GroupSelectionItem","onDeleteGroup","getGroup","getContainerStyle","display","alignItems","padding","height","borderRadius","background","getOperationStyle","lineHeight","cursor","color","transform","textAlign","containerStyle","operationStyle","SettingFormShare","deletedGroup","group_index","changeToAnonymous","handleShareTypeChange","changeToUsers","changeToGroups","shareType","allGroups","SettingRemarks","textValue","onChangeRemarkShow","onSubmitForm","handleChange","onRemarkChange","onBlur","remarkOption","Option","onSelectOption","children","OptGroup","renderOptGroup","options","opt","i","label","Select","onSelectToggle","isLocked","isShowSelectOptions","hideSelect","selector","contains","ref","node","classnames","shared","pageOptions","workspaceID","dtableName","sharedGroups","AppFormSetting","onBeforeUnload","isSettingChanged","timer","clearTimeout","initFormSetting","activeTable","selectedColumns","notificationConfig","selectedColumnKeys","columnSettings","columns","forEach","notificationSelectedUsers","is_send_notification","notification_selected_users","dtableWebAPI","getTableRelatedUsers","then","res","data","user_list","isSettingsLoaded","listGroups","findActiveTable","table_id","tables","find","table","_id","createTableOptions","createTableOption","onTableSelectedChanged","selectedItem","currentTable","caculateColumnSettings","onSave","newCurrrentColumns","onColumnChanged","newColumnSettings","settingColumn","onSettingBeginSaving","setTimeout","configTableId","handleNotificationSelectUserChange","handleShareSelectGroupChange","tableId","formConfigInfo","tableSettings","JSON","parse","columnKeys","notification_config","onbeforeunload","formToken","dtableWebURL","AppMain","isSaving","isSaved","onSettingEndSaving","newColumns","config","Object","assign","form_name","formName","updateDTableForm","stringify","catch","error","errMessage","Utils","getErrorMsg","toaster","danger","groupIDs","dTableFormShare","getSubmitLink","slicedTableWebURL","charAt","onCheckFormPage","open","renameToggle","onRenameToggle","onRenameForm","isColumnsLoaded","editTable","defaultValue","autoFocus","Fragment","dtableMetadata","formConfig","DtableEditFormView","metadata","ReactDOM","render","getElementById","CollaboratorEditorOption","getCollaborator","marginRight","getAvatarStyle","getAvatarIconStyle","avatarStyle","avatarIconStyle","alt","src","avatar_url","CollaboratorEditorPopover","getFilterCollaborators","selectedCollaborator","LabelGenerator","POPOVER_MAX_HEIGHT","CollaboratorEditor","formatCollaborators","newValue","app","updated","isPopoverShow","onAddCollaboratorToggle","setEditorRef","editor","caculatePopoverPosition","innerHeight","getClientRects","top","left","bottom","isDataInit","defaultProps","SelectEditorOption","onDeleteOption","onDeleteSelectOption","option","backgroundColor","getOptionStyle","flex","alignContent","textColor","isShowRemoveIcon","optionStyle","SelectEditorPopover","onAddNewOption","getFilterOptions","isShowCreateBtn","selectedOptions","selectedOption","MobileCommonHeader","title","titleClass","onLeftClick","leftName","onRightClick","rightName","SingleSelectView","handleHistaryBack","preventDefault","closeEditor","onChangeSearch","searchVal","getFilteredOptions","onRemoveOption","optionID","renderMenuContent","onMouseDown","maxWidth","clientWidth","clientHeight","body","history","pushState","filteredOptions","findIndex","zIndex","maxHeight","SingleSelectEditor","MobileMask","formatOption","onAddOptionToggle","isEditorMounted","query","MultipSelectView","optionIdx","updatedValue","getMultipleSelectList","Array","isArray","v","isSelected","MutipleSelectEditor","option_index","formatOptions","updateValue","LongTextEditorPreviewAll","formatterLongTextValue","mdFile","processor","process","result","innerHtml","String","isFormatValue","text","onContentClick","dangerouslySetInnerHTML","__html","_React$PureComponent","HeaderList","_this","call","handleClick","disabled","getContainer","toggle","dropdownOpen","findDOMNode","_this2","createElement","t","headerType","onClickHeader","PureComponent","ButtonGroup","apply","arguments","role","getScrollbarWidth","scrollDiv","overflow","appendChild","scrollbarWidth","offsetWidth","removeChild","setScrollbarWidth","paddingRight","isBodyOverflowing","innerWidth","getOriginalBodyPadding","getComputedStyle","parseInt","getPropertyValue","conditionallyUpdateScrollbar","fixedContent","querySelectorAll","bodyPadding","globalCssModule","mapToCssModules","undefined","cssModule","split","c","join","omit","obj","omitKeys","keys","pick","pickKeys","warned","warnOnce","message","console","deprecated","propType","explanation","propName","componentName","_len","rest","_key","concat","DOMElement","Element","Error","getTarget","selection","querySelector","TransitionTimeouts","Fade","Collapse","Modal","Carousel","TransitionPropTypeKeys","TransitionStatuses","ENTERING","ENTERED","EXITING","EXITED","keyCodes","esc","space","tab","up","down","PopperPlacements","canUseDOM","_typeof","freeze","setGlobalCssModule","Symbol","iterator","constructor","prototype","instance","Constructor","TypeError","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_extends","source","hasOwnProperty","subClass","superClass","create","setPrototypeOf","__proto__","objectWithoutProperties","self","ReferenceError","propTypes","tag","oneOfType","func","string","fluid","bool","object","Tag","attributes","classes","propTypes$1","noGutters","stringOrNumberProp","number","columnProps","shape","size","pull","order","offset","propTypes$2","xs","sm","md","lg","xl","widths","array","defaultProps$2","getColumnSizeClass","isXs","colWidth","colSize","colClasses","columnProp","_classNames","colSizeInterfix","colClass","_colClass","propTypes$3","light","dark","inverse","full","fixed","sticky","toggleable","expand","toggleableToExpand","getExpandClass","getToggleableClass","propTypes$4","propTypes$5","propTypes$6","tabs","pills","vertical","horizontal","justified","fill","navbar","card","getVerticalClass","propTypes$7","active","propTypes$8","dropup","direction","oneOf","isOpen","nav","addonType","inNavbar","childContextTypes","isRequired","_React$Component","Dropdown","getPrototypeOf","addEvents","handleDocumentClick","handleKeyDown","removeEvents","handleProps","prevProps","_this3","which","container","test","tagName","click","focus","menuClass","itemClass","disabledClass","items","_omit","attrs","onKeyDown","propTypes$9","innerRef","href","any","NavLink","_props","propTypes$10","propTypes$11","propTypes$12","block","outline","Button","propTypes$13","propTypes$14","propTypes$15","propTypes$16","divider","header","contextTypes","DropdownItem","getTabIndex","context","tabIndex","propTypes$17","right","flip","contextTypes$1","noFlipModifier","enabled","directionPositionMap","show","position1","position2","placement","component","modifiers","propTypes$18","caret","contextTypes$2","DropdownToggle","ariaLabel","unwrapExports","x","__esModule","createCommonjsModule","fn","module","exports","classNamesShape","timeoutsShape","transitionTimeout","transitionType","timeoutPropName","enabledPropName","_propTypes2","default","enter","exit","enterActive","exitActive","UNMOUNTED","PropTypes$$1","newObj","_interopRequireWildcard","_react2","_interopRequireDefault","_reactDom2","Transition","_classCallCheck","_possibleConstructorReturn","parentGroup","transitionGroup","appear","isMounting","initialStatus","nextStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","_inherits","getChildContext","componentDidMount","updateStatus","componentWillReceiveProps","pendingState","componentDidUpdate","componentWillUnmount","cancelNextCallback","getTimeouts","timeout","mounting","performEnter","performExit","appearing","timeouts","onEnter","safeSetState","onEntering","onTransitionEnd","onEntered","onExit","onExiting","onExited","cancel","nextState","callback","_this4","setNextCallback","_this5","handler","addEndListener","childProps","_objectWithoutProperties","child","Children","only","cloneElement","noop","propTypes$19","arrayOf","baseClass","baseClassActive","defaultProps$18","otherProps","transitionProps","isActive","propTypes$20","pill","propTypes$21","propTypes$22","propTypes$23","propTypes$24","propTypes$25","propTypes$26","propTypes$27","propTypes$28","propTypes$29","cardImgClassName","propTypes$30","CarouselItem","startAnimation","isAppearing","offsetHeight","dispatchEvent","CustomEvent","isIn","slide","directionClassName","orderClassName","itemClasses","handleKeyPress","renderItems","hoverStart","hoverEnd","indicatorClicked","ride","setInterval","activeIndex","clearInterval","_setInterval","interval","cycleInterval","next","_clearInterval","pause","mouseEnter","_props2","mouseLeave","evt","keyboard","keyCode","previous","carouselItems","_props3","outerClasses","innerClasses","every","onMouseEnter","onMouseLeave","_carouselItems","_controlLeft","_controlRight","indicators","wrappedIndicators","onClickHandler","controlLeft","controlRight","directionText","anchorClasses","iconClasses","screenReaderClasses","listClasses","idx","indicatorClasses","caption","altText","captionHeader","captionText","propTypes$31","controls","autoPlay","goToIndex","_Component","UncontrolledCarousel","animating","nextIndex","newIndex","slides","propTypes$32","propTypes$33","propTypes$34","propTypes$35","placementPrefix","hideArrow","fallbackPlacement","childContextTypes$1","popperManager","PopperContent","handlePlacementChange","setTargetNode","getTargetNode","_element","renderIntoSubtree","hide","targetNode","getContainerNode","unmountComponentAtNode","childNodes","unstable_renderSubtreeIntoContainer","renderChildren","arrowClassName","popperClassName","extendedModifiers","behavior","update","PopperTargetHelper","propTypes$36","innerClassName","delay","DEFAULT_DELAYS","defaultProps$34","Popover","addTargetEvents","removeTargetEvents","getRef","_target","clearShowTimeout","clearHideTimeout","_popover","isNaN","_showTimeout","getDelay","_hideTimeout","popperClasses","propTypes$37","propTypes$38","propTypes$39","bar","multi","max","animated","striped","barClassName","percent","progressClasses","progressBarClasses","ProgressBar","propTypes$41","Portal","defaultNode","createPortal","FadePropTypes","propTypes$40","centered","labelledBy","backdrop","onOpened","onClosed","wrapClassName","modalClassName","backdropClassName","contentClassName","external","fade","backdropTransition","modalTransition","propsToOmit","defaultProps$38","_originalBodyPadding","handleBackdropClick","handleEscape","init","setFocus","_isMounted","prevState","destroy","_dialog","parentNode","setAttribute","bodyClassAdded","modalOpenClassName","modalOpenClassNameRegex","RegExp","replace","dialogBaseClass","modalAttributes","onKeyUp","hasTransition","renderModalDialog","propTypes$42","wrapTag","closeAriaLabel","closeButton","WrapTag","fromCharCode","propTypes$43","propTypes$44","propTypes$45","autohide","DEFAULT_DELAYS$1","defaultProps$42","Tooltip","onMouseOverTooltip","onMouseLeaveTooltip","onMouseOverTooltipContent","onMouseLeaveTooltipContent","onMouseOver","propTypes$46","bordered","hover","responsive","responsiveTag","ResponsiveTag","responsiveClassName","propTypes$47","flush","propTypes$48","inline","propTypes$49","valid","defaultProps$46","propTypes$50","row","propTypes$51","propTypes$52","bsSize","invalid","static","plaintext","addon","Input","staticInput","checkInput","isNotaNumber","formControlClass","propTypes$53","propTypes$55","propTypes$54","stringOrNumberProp$1","columnProps$1","propTypes$58","hidden","for","defaultProps$53","getColumnSizeClass$1","htmlFor","propTypes$60","propTypes$61","propTypes$62","defaultAriaLabel","defaultCaret","propTypes$63","activeTab","childContextTypes$2","activeTabId","TabContent","propTypes$64","tabId","contextTypes$3","TabPane","propTypes$65","_transitionStatusToCl","propTypes$66","closeClassName","transition","defaultProps$60","Alert","closeClasses","propTypes$67","defaultProps$61","transitionStatusToClassHash","getHeight","scrollHeight","collapseClass","getTransitionClass","propTypes$68","action","handleDisabledOnClick","propTypes$69","propTypes$70","UncontrolledAlert","UncontrolledButtonDropdown","UncontrolledDropdown","UncontrolledTooltip","IconButton","isFreezed","tooltipOpen","that","isRichEditor","icon","AddLinkDialog","setInitialValue","editorUtils","getSelectedText","isLinkActive","linkNode","getCurrentLinkNode","getLinkText","url","handleUrlChange","handleTitleChange","handleSubmit","setLink","editorSelection","insertLink","toggleLinkDialog","seafileEditor","AddImageDialog","insertImage","onToggleImageDialog","TableToolBar","handle","onSetAlign","onInsertColumn","onRemoveColumn","onInsertRow","onRemoveRow","onRemoveTable","_React$PureComponent2","DropList","UploadImg","_getPrototypeOf2","args","imgtoggle","uploadLocalImage","editorApi","files","onInsertImage","handleFileChange","onInputFile","isSimpleEditor","insertRepoImage","accept","ToolBar","onToggleLink","unwrapLink","onToggleLinkDialog","toolbarStatus","readOnly","isTableActive","isHeadActive","isCodeActive","isBoldActive","isItalicActive","isInlineCodeActive","isBlockquoteActive","isOrderedListActive","isUnorderedListActive","isCheckListActive","onClickMark","onClickBlock","onToggleCheckItem","onAddTable","isShowLinkDialog","isShowImageDialog","range","isCollapsed","TextLinkHoverMenu","link","saveRef","refDom","setMenuPosition","getSelection","anchorOffset","focusOffset","getRangeAt","rect","getBoundingClientRect","navigator","userAgent","collapsed","startOffset","setEnd","endContainer","setStart","startContainer","componentWillMount","componentWillUpdate","ContextMenu","menuHeight","menu","requestAnimationFrame","contextStyle","tableUtils","contextMenuPosition","_ref","insertRow","insertColumn","removeRow","removeColumn","Link","Image","exec","listUtils","codeUtils","blockquoteUtils","command","setNodes","_getEventTransfer","fragment","html","isInCodeBlock","endsWith","img","insertNodes","isInternalFileLink","lastIndexOf","substring","fileName","decodeURIComponent","isInternalDirLink","_index","dirName","isInTable","pasteContentInTable","isInlist","pasteContentInList","pasteContentInCodeBlock","isInBlockquote","pasteContentInBlockquote","insertFragment","_fragment","wrapBlockquote","unwrapBlockquote","wrapList","unwrapList","getCurrentListItem","match","nearestItem","listItems","nodes","at","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","err","return","wrapCodeBlock","unwrapCodeBlock","splitNodes","always","insertText","anchor","path","insertTable","removeTable","setAlign","align","exitTable","isInline","element","elementData","wrapNodes","select","collapse","edge","unwrapNodes","removeNodes","newNodeLink","voids","types","isVoid","TextUtils","_editor","getTextInfoBeforeSelection","_Editor$nodes","start","beforeText","SHORTCUTS","textUtils","getNodesByTypeAtRange","splitNodesAtPoint","splitCodeLine","_textUtils$getTextInf","_block","blockNode","delete","_textUtils$getTextInf2","_beforeText","_range","increaseListDepth","_Editor$nodes3","_Editor$nodes5","listNode","codeBlock","blockPath","normalizeNode","_ref2","previousSibling","nextSiblings","mergeNodes","childPath","TRANSFER_TYPES","content","mime","transfer","dataTransfer","clipboardData","setData","getData","Plugin","mode","onCopy","getSelectedTableCells","encodedTable","btoa","encodeURIComponent","SimpleEditor","isShowContextMenu","operations","o","contentChanged","foucsEditor","editorRef","firstChild","hasContentChange","onContextMenu","clientX","clientY","plugin","isShowBigImage","onRef","_this$state","getToolbarStatus","selectionCollapsed","renderElement","renderLeaf","decorate","editorUtilities","imageFile","parentPath","getTableAssetUploadLink","uploadLink","upload_link","newFile","File","formData","FormData","parent_path","append","uploadImage","onUploadProgress","_getImageURL","LongTextEditorDialog","isContentChanged","currentContent","getCurrentContent","onCloseEditorDialog","simpleEditor","markdownContent","getMarkdown","getPreviewContent","previewText","images","links","preview","setSimpleEditorRef","LongTextView","saveValue","closeDialog","rowCounts","rows","LongTextEditor","isShowEditorDialog","onCommitCancel","perview","now","moment","DateEditorView","handleDateChange","date","showTime","HM","time","format","newTime","Date","handleTimeChange","deleteDate","getCalendarContainer","calendarContainerRef","current","getFormat","showHour","defaultCalendarValue","createRef","iszhcn","lang","locale","clone","calendar","translateCalendar","dateInputPlaceholder","showDateInput","focusablePanel","showToday","onFocus","onReadOnlyFocus","renderCalendar","ClickOutside","isClickedInside","onClickOutside","handleMouseDown","onMouseDownCapture","DataEditor","getFormatValue","getDateFormat","onDateEditorToggle","onFocusDatePicker","showHourAndMinute","storageFormat","onOpenChange","onClear","getCalender","isDateInit","dateFormat","datePickerValue","animation","withTranslation","TextEditor","isEditorShow","onEditorhandle","input","currentTarget","selectionStart","selectionEnd","isHotkey","onPaste","onCut","setInputRef","NP","enableBoundaryChecking","getFloatNumber","isIncludePercent","newData","parseFloat","toThousands","num","isCurrency","integer","Math","trunc","decimal","abs","minus","padEnd","counter","is","unshift","getCurrentOption","commaValue","moneyCommaValue","toFixed","NumebrEditor","formatValue","inputValue","onEditorHandle","getStyle","CheckboxEditor","getValue","marginLeft","formID","ImageThumbnail","UploadProgress","uploadPercent","theme","defaultColor","activeColor","success","successColor","symbolClassName","LocalFileAddition","persist","deleteFile","fileDragEnter","enteredCounter","isFileTipShow","fileDragOver","fileDragLeave","fileDrop","reader","FileReader","onload","readAsText","fileUploadClick","refs","showDeleteIcon","enterFileIndex","hideDeleteIcon","fileUploadAgain","calculateFileArr","fileArr","isUploading","thumbnailSrc","isErrorTip","medialUrl","fileItem","fileIconUrl","getFileIconUrl","direntType","uploadContainerClassName","addBoxClassName","addIconClassName","fileTips","onDragEnter","onDragOver","onDragLeave","onDrop","server","serviceURL","mediaUrl","FileEditor","onAddFileToggle","isUpdated","iconUrl","onFileEditorToggle","uploadFile","file","uploadLocalFile","response","relativePath","getUploadLinkViaFormToken","file_relative_path","setFileMessage","loaded","total","floor","LocalImageAddition","handleImageChange","deleteImage","isImageTipShow","image_file","calculateImageArr","imageArr","imageItem","imageTips","ImageEditor","onAddImageToggle","enterImageIndex","decodeURI","onImageEditorToggle","image","img_relative_path","getImageUrl","EditorConfig","CELL_TYPE","COLLABORATOR","SINGLE_SELECT","MULTIPLE_SELECT","LONG_TEXT","DATE","TEXT","NUMBER","CHECKBOX","FILE","IMAGE","FormEditorGenerator","getCellEditor","CellEditor","editorProps","RowItem","setRowRef","rowItem","editorMode","RemarkItem","convertRemarkContent","noteContent"],"mappings":"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","file":"static/js/dtableEditFormView.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport RowItem from '../dtable-share-form/row-item';\nimport RemarkItem from '../dtable-share-form/remark-item';\n\nconst propTypes = {\n  currentColumns: PropTypes.array.isRequired,\n  remarkContent: PropTypes.string,\n  isRemarkContentShow: PropTypes.bool.isRequired\n};\n\nclass AppFormContent extends React.Component {\n\n  getRowItems = () => {\n    let { currentColumns, remarkContent, isRemarkContentShow } = this.props;\n    let rowItems = [];\n    const disabledType = ['formula', 'link', 'collaborator', 'creator', 'ctime'];\n    for (let key in currentColumns) {\n      let column = currentColumns[key];\n      if (disabledType.includes(column.type)) {\n        continue;\n      }\n      let item = <RowItem key={key} column={column} isReadOnly={true} />;\n      rowItems.push(item);\n    }\n    if (isRemarkContentShow) {\n      let remarkItem = <RemarkItem remarkContent={remarkContent} key=\"remark-item-tip\" />;\n      rowItems.push(remarkItem);\n    }\n    return rowItems;\n  }\n\n  render() {\n    let rowItems = this.getRowItems();\n    return (\n      <div className=\"form-items-container\">\n        {rowItems}\n      </div>\n    );\n  }\n}\n\nAppFormContent.propTypes = propTypes;\n\nexport default AppFormContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CELL_ICON } from '../../dtable-share-row/contants/contants';\n\nconst propTypes = {\n  columnSetting: PropTypes.object.isRequired,\n  onColumnItemClick: PropTypes.func.isRequired,\n};\n\nclass FormSettingItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChecked: props.columnSetting.flag\n    };\n  }\n\n  onColumnItemClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    let value = event.target.checked;\n    if (value === this.state.isChecked) {\n      return;\n    }\n    let { columnSetting } = this.props;\n    this.setState({isChecked: value}, () => {\n      this.props.onColumnItemClick(columnSetting.key, !columnSetting.flag); \n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.columnSetting.flag !== this.props.columnSetting.flag) {\n      this.setState({isChecked: nextProps.columnSetting.flag});\n    }\n  }\n \n  render() {\n    let { columnSetting } = this.props;\n    let iconClass = CELL_ICON[columnSetting.type];\n    return (\n      <div className=\"form-setting-item\">\n        <div className=\"form-column-switch\">\n          <label className=\"custom-switch\">\n            <input className=\"custom-switch-input\" type=\"checkbox\" checked={this.state.isChecked} onChange={this.onColumnItemClick} name=\"custom-switch-checkbox\" />\n            <span className=\"custom-switch-description text-truncate\"><i className={`dtable-font ${iconClass}`}></i><span>{columnSetting.name}</span></span>\n            <span className=\"custom-switch-indicator\"></span>\n          </label>\n        </div>\n      </div>\n    );\n  }\n}\n\nFormSettingItem.propTypes = propTypes;\n\nexport default FormSettingItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Label, Input } from 'reactstrap';\nimport CollaboratorEditorOption from '../../dtable-share-form/cell-editor-widgets/collaborator-editor-option';\nimport CollaboratorEditorPopover from '../../dtable-share-form/cell-editor-widgets/collaborator-editor-popover';\nimport '../../dtable-share-form/css/collaborator.css'; \n\nconst gettext = window.gettext;\nconst propTypes = {\n  selectedUsers: PropTypes.array,\n  relatedUsers: PropTypes.array,\n  onCommit: PropTypes.func,\n  closeSendNotification: PropTypes.func,\n  openSendNotification: PropTypes.func,\n  isSendNotification: PropTypes.bool,\n};\n\nclass SettingSendNotication extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedUsers: props.selectedUsers,\n      showPopover: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n  \n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  onDocumentToggle = () => {\n    this.setState({showPopover: false});\n  }\n\n  onCommit = (selectedUsers) => {\n    this.props.onCommit(selectedUsers);\n  }\n  \n  togglePopover = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    this.setState({showPopover: !this.state.showPopover});\n  }\n\n  onDeleteUser = (deletedUser) => {\n    let selectedUsers = this.state.selectedUsers.filter(user => user.email !== deletedUser.email);\n    this.setState({selectedUsers: selectedUsers}, () => {\n      this.onCommit(selectedUsers);\n    });\n  }\n\n  onOptionItemToggle = (user) => {\n    let { selectedUsers: currentValue } = this.state;\n    let selectedUsers = currentValue.slice(0);\n    let emails = selectedUsers.map(item => {return item.email;});\n    let email_index = emails.indexOf(user.email);\n    if (email_index > -1) {\n      selectedUsers.splice(email_index, 1);\n    } else {\n      selectedUsers.push(user);\n    }\n    this.setState({selectedUsers}, () => {\n      this.onCommit(selectedUsers);\n    });\n  }\n\n  getPopoverStyle = () => {\n    return {\n      width: '250px',\n      minHeight: 'auto',\n      position: 'absolute',\n      margin: '5px',\n    };\n  }\n  \n  render() {\n    let { showPopover, selectedUsers } = this.state;\n    const { isSendNotification, closeSendNotification, openSendNotification } = this.props;\n    const popoverStyle = this.getPopoverStyle();\n    return (\n      <div className=\"table-setting\">   \n        <div className=\"title\">{gettext('Notification Rule')}</div>\n        <FormGroup check className=\"ml-1\">\n          <Label check>\n            <Input type=\"radio\" name=\"radio2\" onChange={closeSendNotification} checked={!isSendNotification}/>\n            {' '}{gettext('Do not send notification')}\n          </Label>\n        </FormGroup>\n        <FormGroup check className=\"ml-1\">\n          <Label check>\n            <Input type=\"radio\" name=\"radio2\" onChange={openSendNotification} checked={isSendNotification}/>\n            {' '}{gettext('Send notification to')}\n          </Label>\n        </FormGroup>\n        {isSendNotification &&\n          <div className=\"mt-2 position-relative\">\n            <div className=\"send-notification-container\" onClick={this.togglePopover}>\n              {selectedUsers.map((user, index) => {\n                return (\n                  <CollaboratorEditorOption\n                    key={index}\n                    collaborator={user}\n                    onDeleteCollaborator={this.onDeleteUser}\n                  />\n                );\n              })}\n            </div>\n            {showPopover &&\n              <CollaboratorEditorPopover\n                popoverStyle={popoverStyle}\n                collaborators={this.props.relatedUsers}\n                selectedCollaborators={selectedUsers}\n                onOptionItemToggle={this.onOptionItemToggle}\n              />\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nSettingSendNotication.propTypes = propTypes;\n\nexport default SettingSendNotication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  popoverStyle: PropTypes.object.isRequired,\n  groups: PropTypes.array.isRequired,\n  selectedGroups: PropTypes.array.isRequired,\n  onOptionItemToggle: PropTypes.func.isRequired,\n};\n\nclass GroupSelectionPopover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: '',\n    };\n  }\n\n  onValueChanged = (e) => {\n    let value = e.target.value.trim();\n    this.setState({searchValue: value});\n  }\n\n  onInputClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n  } \n\n  onOptionItemToggle = (group) => {\n    this.props.onOptionItemToggle(group);\n  }\n\n  getFilterGroups = () => {\n    let { groups } = this.props;\n    let filter = this.state.searchValue.toLowerCase();\n    if (!filter) {\n      return groups;\n    }\n    return groups.filter(groups => {\n      return (groups.name.toString().toLowerCase()).indexOf(filter) > -1;\n    });\n  }\n\n  render() {\n\n    let { popoverStyle, selectedGroups } = this.props;\n    let groups = this.getFilterGroups();\n\n    return (\n      <div className=\"group-selection-popover\" style={popoverStyle}>\n        <div className=\"group-selections-search\">\n          <input className=\"form-control\" onChange={this.onValueChanged} onClick={this.onInputClick} placeholder={'Find a group'}></input>\n        </div>\n        <div className=\"group-selections-container\">\n          {groups.length > 0 && groups.map((group, index) => {\n            // check is selected\n            let isSelect = selectedGroups.some(selectGroup => {\n              return selectGroup.id === group.id;\n            });\n            return (\n              <div key={index} className=\"group-selection-item\" onClick={this.onOptionItemToggle.bind(this, group)}>\n                <div className=\"group-name\">{group.name}</div>\n                <div className=\"group-checked\">\n                  {isSelect && <i className=\"dtable-font dtable-icon-check-mark\" style={{fontSize: '12px'}}></i>}\n                </div>\n              </div>\n            );\n          })}\n          {groups.length === 0 && (<div className=\"search-option-null\">{'No group available'}</div>)}\n        </div>\n      </div>\n    );\n  }\n}\n\nGroupSelectionPopover.propTypes = propTypes;\n\nexport default GroupSelectionPopover;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  group: PropTypes.object,\n  onDeleteGroup: PropTypes.func.isRequired,\n};\n\nclass GroupSelectionItem extends React.Component {\n\n  onDeleteGroup = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    let group = this.props.group;\n    this.props.onDeleteGroup(group);\n  }\n\n  getGroup = () => {\n    let { group } = this.props;\n    return group;\n  }\n\n  getContainerStyle = () => {\n    return {\n      display: 'inline-flex',\n      alignItems: 'center',\n      margin: '0 10px 5px 0px',\n      padding: '0 8px',\n      height: '20px',\n      fontSize: '13px',\n      borderRadius: '10px',\n      background: '#eaeaea',\n    };\n  }\n\n  getOperationStyle = () => {\n    return {\n      display: 'inline-block',\n      width: '16px',\n      height: '20px',\n      lineHeight: '20px',\n      cursor: 'pointer',\n      color: '#909090',\n      transform: 'scale(.8)',\n      textAlign: 'center'\n    };\n  }\n\n  render() {\n    let group = this.getGroup();\n    let containerStyle = this.getContainerStyle();\n    let operationStyle = this.getOperationStyle();\n\n    return (\n      <div className=\"group-selection-item\" style={containerStyle}>\n        <span className=\"group-name\">{group.name}</span>\n        <span className=\"group-remove\" style={operationStyle} onClick={this.onDeleteGroup}>\n          <i className=\"dtable-font dtable-icon-fork-number\" style={{fontSize: '12px', height: '20px', lineHeight: '20px'}}></i>\n        </span>\n      </div>\n    );\n  }\n}\n\nGroupSelectionItem.propTypes = propTypes;\n\nexport default GroupSelectionItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Label, Input } from 'reactstrap';\nimport GroupSelectionPopover from './group-selection-popover';\nimport GroupSelectionItem from './group-selection-item';\nimport '../css/group-selection.css'; \n\nconst gettext = window.gettext;\nconst propTypes = {\n  handleShareTypeChange: PropTypes.func.isRequired,\n  shareType: PropTypes.string.isRequired,\n  allGroups: PropTypes.array.isRequired,\n  selectedGroups: PropTypes.array.isRequired,\n  onCommit: PropTypes.func.isRequired,\n};\n\nclass SettingFormShare extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPopover: false,\n      selectedGroups: props.selectedGroups,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n  \n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  onDocumentToggle = () => {\n    this.setState({showPopover: false});\n  }\n\n  onCommit = (selectedGroups) => {\n    this.props.onCommit(selectedGroups);\n  }\n  \n  togglePopover = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    this.setState({showPopover: !this.state.showPopover});\n  }\n\n  onDeleteGroup = (deletedGroup) => {\n    let selectedGroups = this.state.selectedGroups.filter(group => group.id !== deletedGroup.id);\n    this.setState({selectedGroups: selectedGroups}, () => {\n      this.onCommit(selectedGroups);\n    });\n  }\n\n  onOptionItemToggle = (group) => {\n    let { selectedGroups: currentValue } = this.state;\n    let selectedGroups = currentValue.slice(0);\n    let group_ids = selectedGroups.map(item => {return item.id;});\n    let group_index = group_ids.indexOf(group.id);\n    if (group_index > -1) {\n      selectedGroups.splice(group_index, 1);\n    } else {\n      selectedGroups.push(group);\n    }\n    this.setState({selectedGroups}, () => {\n      this.onCommit(selectedGroups);\n    });\n  }\n\n  getPopoverStyle = () => {\n    return {\n      width: '250px',\n      minHeight: 'auto',\n      position: 'absolute',\n      margin: '5px',\n    };\n  }\n  \n  changeToAnonymous = () => {\n    this.props.handleShareTypeChange('anonymous');\n  }\n\n  changeToUsers = () => {\n    this.props.handleShareTypeChange('login_users');\n  }\n\n  changeToGroups = () => {\n    this.props.handleShareTypeChange('shared_groups');\n  }\n\n  render() {\n    let { showPopover } = this.state;\n    const { shareType, allGroups, selectedGroups } = this.props;\n    const popoverStyle = this.getPopoverStyle();\n    return (\n      <div className=\"table-setting\">   \n        <div className=\"title\">{gettext('Access Permission')}</div>\n        <FormGroup check className=\"ml-1\">\n          <Label check>\n            <Input type=\"radio\" name=\"formShare\" onChange={this.changeToAnonymous} checked={shareType === 'anonymous'}/>\n            {' '}{gettext('Anyone (including anonymous users)')}\n          </Label>\n        </FormGroup>\n        <FormGroup check className=\"ml-1\">\n          <Label check>\n            <Input type=\"radio\" name=\"formShare\" onChange={this.changeToUsers} checked={shareType === 'login_users'}/>\n            {' '}{gettext('Only login users')}\n          </Label>\n        </FormGroup>\n        <FormGroup check className=\"ml-1\">\n          <Label check>\n            <Input type=\"radio\" name=\"formShare\" onChange={this.changeToGroups} checked={shareType === 'shared_groups'}/>\n            {' '}{gettext('Specific groups')}\n          </Label>\n        </FormGroup>\n        {shareType === 'shared_groups' &&\n          <div className=\"mt-2 position-relative\">\n            <div className=\"send-notification-container\" onClick={this.togglePopover}>\n              {selectedGroups.map((group, index) => {\n                return (\n                  <GroupSelectionItem\n                    key={index}\n                    group={group}\n                    onDeleteGroup={this.onDeleteGroup}\n                  />\n                );\n              })}\n            </div>\n            {showPopover &&\n              <GroupSelectionPopover\n                popoverStyle={popoverStyle}\n                groups={allGroups}\n                selectedGroups={selectedGroups}\n                onOptionItemToggle={this.onOptionItemToggle}\n              />\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nSettingFormShare.propTypes = propTypes;\n\nexport default SettingFormShare;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\n\nconst propTypes = {\n  onRemarkChange: PropTypes.func.isRequired,\n  onChangeRemarkShow: PropTypes.func.isRequired,\n  onSubmitForm: PropTypes.func.isRequired,\n  remarkOption: PropTypes.object,\n};\n\nconst gettext = window.gettext;\n\nclass SettingRemarks extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChecked: props.remarkOption ? props.remarkOption.isRemarkContentShow : true,\n      textValue: props.remarkOption ? props.remarkOption.remarkContent : '',\n    };\n  }\n\n  componentDidMount() {\n    let { isChecked } = this.state;\n    this.props.onChangeRemarkShow(isChecked);\n  }\n\n  onColumnItemClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    let value = event.target.checked;\n    if (value === this.state.isChecked) {\n      return;\n    }\n    if (!value) {\n      this.setState({textValue: null});\n    }\n    this.props.onChangeRemarkShow(value);\n    this.setState({isChecked: value}, () => {\n      this.props.onSubmitForm();\n    });\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.props.onRemarkChange(value);\n    this.setState({textValue: value});\n  }\n\n  onBlur = () => {\n    this.props.onSubmitForm();\n  }\n\n  render() {\n    const { isChecked, textValue } = this.state;\n    return (\n      <div className=\"table-setting\">\n        <div className=\"form-setting-item\">\n          <div className=\"form-column-switch form-setting-remarks\">\n            <label className=\"custom-switch\">\n              <input \n                className=\"custom-switch-input\" \n                type=\"checkbox\" \n                checked={this.state.isChecked} \n                onChange={this.onColumnItemClick} \n                name=\"custom-switch-checkbox\" \n              />\n              <span className=\"form-setting-title\">{gettext('Form Note')}</span>\n              <span className=\"custom-switch-indicator\"></span>\n            </label>\n          </div>\n        </div>\n        {isChecked && \n          <div className=\"form-remark-tip\">\n            <Input\n              type=\"textarea\"\n              value={textValue || ''}\n              onChange={this.handleChange}\n              placeholder={gettext('Add notes here to guilde users how to fill the form.')}\n              className=\"remark-tip-content\"\n              onBlur={this.onBlur}\n            />\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nSettingRemarks.propTypes = propTypes;\n\nexport default SettingRemarks;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  value: PropTypes.object,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n  onSelectOption: PropTypes.func,\n};\n\nclass Option extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onSelectOption = (value) => {\n    this.props.onSelectOption(value);\n  }\n\n  render() {\n    return(\n      <div className=\"option\" onClick={this.onSelectOption.bind(this, this.props.value)}>{this.props.children}</div>\n    );\n  }\n}\n\nOption.propTypes = propTypes;\n\nexport default Option;","import React, { Component } from 'react';\nimport Option from './option';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  options: PropTypes.array,\n  onSelectOption: PropTypes.func\n};\n\nclass OptGroup extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderOptGroup = () => {\n    let { options } = this.props;\n    return options && options.map((opt, i) => {\n      return (\n        <Option key={i} value={opt.value} onSelectOption={this.props.onSelectOption}>{opt.label}</Option>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"option-group\">\n        {this.renderOptGroup()}\n      </div>\n    );\n  }\n}\n\nOptGroup.propTypes = propTypes;\n\nexport default OptGroup;","import Select from './select';\n\nexport default Select;","import React, { Component } from 'react';\nimport OptGroup from './option-group';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport '../css/select.css';\n\nconst propTypes = {\n  className: PropTypes.string,\n  value: PropTypes.object,\n  options: PropTypes.array,\n  placeholder: PropTypes.string,\n  onSelectOption: PropTypes.func,\n  isLocked: PropTypes.bool\n};\n\nclass Select extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowSelectOptions: false\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.hideSelect);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.hideSelect);\n  }\n\n  onSelectToggle = () => {\n    if (this.props.isLocked) return;\n    this.setState({\n      isShowSelectOptions: !this.state.isShowSelectOptions\n    });\n  }\n\n  hideSelect = (event) => {\n    if (!this.selector.contains(event.target)) {\n      this.setState({isShowSelectOptions: false});\n    }\n  }\n\n  render() {\n    let { className, value, options, placeholder } = this.props;\n    return(\n      <div \n        ref={(node) => this.selector = node}\n        className={classnames('dtable-select', 'custom-select', {'focus': this.state.isShowSelectOptions}, className)} \n        onClick={this.onSelectToggle}>\n        <div className=\"selected-option\">\n          {value.label ? (\n            <span className=\"selected-option-show\">{value.label}</span>\n          ) : (\n            <span className=\"select-placeholder\">{placeholder}</span>\n          )}\n          {!this.props.isLocked && <i className=\"dtable-font dtable-icon-drop-down\"></i>}\n        </div>\n        {this.state.isShowSelectOptions && (\n          <OptGroup \n            options={options}\n            onSelectOption={this.props.onSelectOption}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nSelect.propTypes = propTypes;\n\nexport default Select;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../components/loading';\nimport FormSettingItem from './widgets/form-setting-item';\nimport SettingSendNotication from './widgets/setting-send-notification';\nimport SettingFormShare from './widgets/setting-form-share';\nimport SettingRemarks from './widgets/setting-remarks';\nimport Select from './select';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\n\nconst gettext = window.gettext;\n\nconst { workspaceID, dtableName, shareType, sharedGroups } = window.shared.pageOptions;\n\nconst propTypes = {\n  tables: PropTypes.array.isRequired,\n  onSubmitForm: PropTypes.func.isRequired,\n  onColumnChanged: PropTypes.func.isRequired,\n  onRemarkChange: PropTypes.func.isRequired,\n  onChangeRemarkShow: PropTypes.func.isRequired,\n  onSettingBeginSaving: PropTypes.func.isRequired,\n  formConfigInfo: PropTypes.object.isRequired,\n};\n\nclass AppFormSetting extends React.Component {\n\n  constructor(props) {\n    super(props);\n    const tableId = props.formConfigInfo.table_id;\n    this.state = {\n      isSettingsLoaded: false, \n      tableSettings: [],\n      columnSettings: [],\n      activeTable: this.findActiveTable(tableId),\n      isSendNotification: false,\n      notificationSelectedUsers: [],\n      relatedUsers: [],\n      shareType: shareType,\n      allGroups: [],\n      selectedGroups: JSON.parse(sharedGroups),\n    };\n    this.isSettingChanged = false;\n    this.timer = null;\n  }\n\n  componentDidMount() {\n    let { tables, formConfigInfo } = this.props;\n    let table_id = formConfigInfo.table_id;\n    let activeTable = tables[0];\n    let columns = activeTable.columns;\n    if (table_id) {\n      activeTable = tables.find(table => { return table['_id'] === table_id;});\n      let configColumns = formConfigInfo.columns;\n      let columnKeys = configColumns.map(column => { return column.key;});\n      let allColumns = activeTable.columns;\n      columns = allColumns.filter(column => {\n        return columnKeys.indexOf(column.key) > -1;\n      });\n    }\n    this.initFormSetting(activeTable, columns, formConfigInfo.notification_config);\n    window.onbeforeunload = this.onBeforeUnload;\n  }\n\n  componentWillUnmount() {\n    window.onbeforeunload = null;\n  }\n\n  onBeforeUnload = () => {\n    if (this.isSettingChanged && this.timer) {\n      this.onSubmitForm();\n      this.isSettingChanged = false;\n      clearTimeout(this.timer);\n      this.timer = null;\n      return '';\n    }\n  }\n\n  initFormSetting = (activeTable, selectedColumns, notificationConfig) => {\n    const selectedColumnKeys = selectedColumns ? selectedColumns.map((column) => { return column.key; }) : null;\n    const disabledType = ['formula', 'link', 'collaborator', 'creator', 'ctime'];\n    let columnSettings = [];\n    activeTable.columns.forEach((column) => {\n      let { key, name, type } = column;\n      if (!disabledType.includes(type)) {\n        let columnSetting = { key, name, type, flag: selectedColumnKeys ? selectedColumnKeys.includes(column.key) : true };\n        columnSettings.push(columnSetting);\n      }\n    });\n    let isSendNotification = false;\n    let notificationSelectedUsers = [];\n    if (notificationConfig) {\n      isSendNotification = notificationConfig.is_send_notification || false;\n      notificationSelectedUsers =  notificationConfig.notification_selected_users === [] ? false :\n        notificationConfig.notification_selected_users;\n    }\n    dtableWebAPI.getTableRelatedUsers(workspaceID, dtableName).then(res => {\n      let relatedUsers = res.data ? res.data.user_list : [];\n      this.setState({\n        columnSettings,\n        activeTable,\n        relatedUsers,\n        isSendNotification,\n        notificationSelectedUsers,\n        isSettingsLoaded: true,\n      }, () => {\n        this.onSubmitForm();\n      });\n    });\n    this.listGroups();\n  }\n\n  listGroups = () => {\n    dtableWebAPI.listGroups().then(res => {\n      this.setState({\n        allGroups: res.data,\n      });\n    });\n  }\n\n  findActiveTable = (table_id) => {\n    let activeTable = this.props.tables.find((table) => {\n      return table._id === table_id;\n    });\n    if (!activeTable) return null;\n    return activeTable;\n  }\n\n  createTableOptions = () => {\n    let { tables } = this.props;\n    return tables.map(table => {\n      return this.createTableOption(table);\n    });\n  }\n\n  createTableOption = (table) => {\n    return ({\n      value: { _id: table._id },\n      label: (<span className='select-option-name'>{table.name}</span>)\n    });\n  }\n\n  onTableSelectedChanged = (selectedItem) => {\n    let { tables } = this.props;\n    let currentTable = tables.find((table) => {\n      return table._id === selectedItem._id;\n    });\n    this.caculateColumnSettings(currentTable);\n    this.onSave();\n  }\n\n  caculateColumnSettings = (currentTable) => {\n    let columnSettings = currentTable.columns.map(column => {\n      return {\n        key: column.key,\n        name: column.name,\n        type: column.type,\n        flag: true,\n      };\n    });\n    const disabledType = ['formula', 'link', 'collaborator', 'creator', 'ctime'];\n    columnSettings = columnSettings.filter(columnSetting => {\n      return !disabledType.includes(columnSetting.type);\n    });\n    let newCurrrentColumns = currentTable.columns.filter(column => {\n      return !disabledType.includes(column.type);\n    });\n    this.setState({\n      columnSettings: columnSettings,\n      activeTable: currentTable,\n    });\n    this.props.onColumnChanged(newCurrrentColumns);\n  }\n\n  onColumnItemClick = (key, flag) => {\n    let { columnSettings, activeTable } = this.state;\n    let newColumnSettings = columnSettings.map(column => {\n      if (column.key === key) {\n        column.flag = flag;\n      }\n      return column;\n    });\n    const disabledType = ['formula', 'link', 'collaborator', 'creator', 'ctime'];\n    let newCurrrentColumns = activeTable.columns.filter(column => {\n      if (disabledType.indexOf(column.type) > -1) {\n        return false;\n      }\n      let settingItem = columnSettings.find(settingColumn => {\n        return settingColumn.key === column.key;\n      });\n      return settingItem.flag;\n    });\n    this.setState({columnSettings: newColumnSettings});\n    this.props.onColumnChanged(newCurrrentColumns);\n    this.onSave();\n  }\n\n  onSave = () => {\n    this.props.onSettingBeginSaving();\n    if (!this.isSettingChanged && !this.timer) {\n      this.isSettingChanged = true;\n      this.timer = setTimeout(() => {\n        this.onSubmitForm();\n        this.isSettingChanged = false;\n        clearTimeout(this.timer);\n        this.timer = null;\n      }, 3000);\n    }\n  }\n\n  onSubmitForm = () => {\n    let configTableId = this.state.activeTable._id;\n    let { shareType, selectedGroups } = this.state;\n    if (shareType !== 'shared_groups') {\n      selectedGroups = [];\n      this.setState({selectedGroups: selectedGroups});\n    }\n    let notificationConfig = {\n      is_send_notification: this.state.isSendNotification,\n      notification_selected_users: this.state.notificationSelectedUsers\n    };\n    this.props.onSubmitForm(configTableId, notificationConfig, shareType, selectedGroups);\n  }\n\n  closeSendNotification = () => {\n    this.setState({isSendNotification: false}, () => {\n      this.onSave();\n    });\n  }\n\n  openSendNotification = () => {\n    this.setState({isSendNotification: true}, () => {\n      this.onSave();\n    });\n  }\n\n  handleNotificationSelectUserChange = (options) => {\n    this.setState({ notificationSelectedUsers: options }, () => {\n      this.onSave();\n    });\n  };\n\n  handleShareSelectGroupChange = (options) => {\n    this.setState({ selectedGroups: options }, () => {\n      this.onSave();\n    });\n  };\n\n  handleShareTypeChange = (shareType) => {\n    this.setState({ shareType: shareType }, () => {\n      this.onSave();\n    });\n  };\n\n  render() {\n    if (!this.state.isSettingsLoaded) {\n      return <Loading />;\n    }\n    const { onRemarkChange, onChangeRemarkShow, formConfigInfo } = this.props;\n    let { activeTable, columnSettings, isSendNotification, notificationSelectedUsers, relatedUsers, \n      shareType, allGroups, selectedGroups } = this.state;\n    return (\n      <div className=\"app-form-setting\">\n        <div className=\"setting-header\">\n          <div className=\"setting-header-title\">{gettext('Form Settings')}</div>\n        </div>\n        <div className=\"setting-body\">\n          <div className=\"table-setting\">\n            <div className=\"title\">{gettext('Table')}</div>\n            <Select\n              value={this.createTableOption(activeTable)}\n              options={this.createTableOptions()}\n              onSelectOption={this.onTableSelectedChanged}\n            />\n          </div>\n          <div className=\"table-setting-divider\"></div>\n          <div className=\"table-setting\">\n            <div className=\"title\">{gettext('Fields')}</div>\n            <div className=\"setting-list-container\">\n              {columnSettings.map(columnSetting => {\n                return (\n                  <FormSettingItem\n                    key={columnSetting.key}\n                    columnSetting={columnSetting}\n                    onColumnItemClick={this.onColumnItemClick}\n                  />\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"table-setting-divider\"></div>\n          <SettingSendNotication\n            selectedUsers={notificationSelectedUsers}\n            relatedUsers={relatedUsers}\n            onCommit={this.handleNotificationSelectUserChange}\n            closeSendNotification={this.closeSendNotification}\n            openSendNotification={this.openSendNotification}\n            isSendNotification={isSendNotification}\n          />\n          <div className=\"table-setting-divider\"></div>\n          <SettingFormShare\n            shareType={shareType}\n            handleShareTypeChange={this.handleShareTypeChange}\n            allGroups={allGroups}\n            selectedGroups={selectedGroups}\n            onCommit={this.handleShareSelectGroupChange}\n          />\n          <div className=\"table-setting-divider\"></div>\n          <SettingRemarks \n            onRemarkChange={onRemarkChange}\n            onChangeRemarkShow={onChangeRemarkShow}\n            onSubmitForm={this.onSubmitForm}\n            remarkOption={formConfigInfo.remarkOption}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nAppFormSetting.propTypes = propTypes;\n\nexport default AppFormSetting;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport Loading from '../../components/loading';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport { dtableWebAPI } from '../../utils/dtable-web-api';\nimport AppFormContent from './app-form-content';\nimport AppFormSetting from './app-form-setting';\n\nconst gettext = window.gettext;\nconst { formToken, dtableWebURL } = window.shared.pageOptions;\n\nconst propTypes = {\n  tables: PropTypes.array.isRequired,\n  formConfigInfo: PropTypes.object.isRequired,\n};\n\nclass AppMain extends React.Component {\n\n  constructor(props) {\n    super(props);\n    const { remarkOption, form_name } = props.formConfigInfo;\n    this.state = {\n      isColumnsLoaded: false,\n      currentColumns: null,\n      onRenameToggle: false,\n      formName: form_name,\n      isSaving: false,\n      isSaved: false,\n      remarkContent: remarkOption ? remarkOption.remarkContent : null,\n      isRemarkContentShow: remarkOption ? remarkOption.isRemarkContentShow : true\n    };\n  }\n\n  componentDidMount() {\n    let { tables, formConfigInfo } = this.props;\n    let tableId = formConfigInfo.table_id;\n    let columns = tables[0].columns;\n    if (tableId) {\n      // current operation is update the form settings\n      let editTable = tables.find(table => { return table._id === tableId; });\n      let configColumns = formConfigInfo.columns;\n      let columnKeys = configColumns.map(column => { return column.key;});\n      let allColumns = editTable.columns;\n      columns = allColumns.filter(column => {\n        return columnKeys.indexOf(column.key) > -1;\n      });\n    }\n    this.setState({\n      currentColumns: columns,\n      isColumnsLoaded: true\n    });\n  }\n\n  onSettingBeginSaving = () => {\n    this.setState({ isSaving: true, isSaved: false });\n  }\n\n  onSettingEndSaving = () => {\n    this.setState({ isSaving: false, isSaved: true });\n    setTimeout(() => {\n      this.setState({ isSaving: false, isSaved: false });\n    }, 2000);\n  }\n\n  onColumnChanged = (newColumns) => {\n    this.setState({currentColumns: newColumns});\n  }\n\n  onSubmitForm = (configTableId, notificationConfig, shareType, selectedGroups) => {\n    let { currentColumns, remarkContent, isRemarkContentShow } = this.state;\n    let columns = currentColumns.map(column => {\n      return { key: column.key };\n    });\n    let remarkOption = {\n      isRemarkContentShow, remarkContent\n    };\n    let config = this.props.formConfigInfo;\n    config = Object.assign({}, config, {columns: columns, table_id: configTableId, form_name: this.state.formName, notification_config: notificationConfig, remarkOption});\n    dtableWebAPI.updateDTableForm(formToken, JSON.stringify(config)).then(res => {\n      this.onSettingEndSaving();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    let groupIDs = selectedGroups.map(group => group.id);\n    dtableWebAPI.dTableFormShare(formToken, shareType, groupIDs).then(res => {\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getSubmitLink = () => {\n    let slicedTableWebURL = dtableWebURL;\n    if (slicedTableWebURL.charAt(slicedTableWebURL.length - 1) === '/') {\n      slicedTableWebURL = slicedTableWebURL.slice(0, slicedTableWebURL.length - 1);\n    }\n    return `${slicedTableWebURL}/dtable/forms/${formToken}/`;\n  }\n\n  onCheckFormPage = () => {\n    window.open(this.getSubmitLink());\n  }\n\n  onRemarkChange = (value) => {\n    this.setState({remarkContent: value});\n  }\n\n  onChangeRemarkShow = (value) => {\n    if (!value) {\n      this.setState({remarkContent: null});\n    }\n    this.setState({isRemarkContentShow: value});\n  }\n\n  renameToggle = () => {\n    this.setState({\n      onRenameToggle: !this.state.onRenameToggle,\n    });\n  }\n\n  onRenameForm =() => {\n    let value = event.target.value;\n    let { formName } = this.state;\n    formName = value.trim() ? value.trim() : formName;\n    this.setState({\n      onRenameToggle: !this.state.onRenameToggle,\n      formName: formName\n    });\n  }\n\n  render() {\n    const { formConfigInfo, tables } = this.props;\n    const { isSaved, isSaving, isColumnsLoaded, formName, onRenameToggle, remarkContent, isRemarkContentShow,\n      currentColumns } = this.state;\n    if (!isColumnsLoaded) {\n      return <Loading />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <div className=\"app-header\">\n          <div className=\"app-title form-table-title\">\n            {onRenameToggle ? (\n              <Input defaultValue={formName} className=\"edit-form-rename-input\" onBlur={this.onRenameForm} autoFocus={true} />\n            ) : (\n              <React.Fragment>\n                <span className=\"edit-form-name\">{formName}</span>\n                <span onClick={this.renameToggle} className=\"dtable-font dtable-icon-rename\"></span>\n              </React.Fragment>\n            )}\n            {isSaving && !isSaved && <span className=\"tip-message\">{gettext('Saving...')}</span>}\n            {!isSaving && isSaved && <span className=\"tip-message\">{gettext('All changes saved')}</span>}\n          </div>\n          <button onClick={this.onCheckFormPage} className=\"btn btn-outline-primary\">{gettext('Form Page')}</button>\n        </div>\n        <div className=\"app-main\">\n          <div className=\"app-content-container\">\n            <AppFormContent \n              currentColumns={currentColumns} \n              remarkContent={remarkContent} \n              isRemarkContentShow={isRemarkContentShow}\n            />\n          </div>\n          <div className=\"app-side-container\">\n            <AppFormSetting\n              formConfigInfo={formConfigInfo}\n              tables={tables}\n              onColumnChanged={this.onColumnChanged}\n              onSubmitForm={this.onSubmitForm}\n              onRemarkChange={this.onRemarkChange}\n              onChangeRemarkShow={this.onChangeRemarkShow}\n              onSettingBeginSaving={this.onSettingBeginSaving}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAppMain.propTypes = propTypes;\n\nexport default AppMain;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppMain from './pages/dtable-edit-form/app-main';\n\nimport './css/dtable-edit-form.css';\n\nconst { dtableMetadata, formConfig } = window.shared.pageOptions;\n\nclass DtableEditFormView extends React.Component {\n\n  render() {\n    let formConfigInfo = JSON.parse(formConfig);\n    let metadata = JSON.parse(dtableMetadata).metadata;\n    let tables = metadata.tables;\n    return <AppMain tables={tables} formConfigInfo={formConfigInfo} />;\n  }\n}\n\nReactDOM.render(\n  <DtableEditFormView />,\n  document.getElementById('wrapper')\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  column: PropTypes.object,\n  collaborator: PropTypes.object,\n  onDeleteCollaborator: PropTypes.func.isRequired,\n};\n\nclass CollaboratorEditorOption extends React.Component {\n\n  onDeleteCollaborator = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    let collaborator = this.props.collaborator;\n    this.props.onDeleteCollaborator(collaborator);\n  }\n\n  getCollaborator = () => {\n    let { collaborator } = this.props;\n    return collaborator;\n  }\n\n  getContainerStyle = () => {\n    return {\n      display: 'inline-flex',\n      alignItems: 'center',\n      marginRight: '10px',\n      padding: '0 8px 0 2px',\n      height: '20px',\n      fontSize: '13px',\n      borderRadius: '10px',\n      background: '#eaeaea',\n    };\n  }\n\n  getAvatarStyle = () => {\n    return {\n      display: 'flex',\n      alignItems: 'center',\n      margin: '0 4px 0 2px',\n    };\n  }\n  \n  getAvatarIconStyle = () => {\n    return {\n      width: '16px',\n      height: '16px',\n      marginRight: '4px',\n      borderRadius: '50%',\n    };\n  }\n\n  getOperationStyle = () => {\n    return {\n      display: 'inline-block',\n      width: '16px',\n      height: '20px',\n      lineHeight: '20px',\n      cursor: 'pointer',\n      color: '#909090',\n      transform: 'scale(.8)',\n      textAlign: 'center'\n    };\n  }\n\n  render() {\n    let collaborator = this.getCollaborator();\n    let containerStyle = this.getContainerStyle();\n    let avatarStyle = this.getAvatarStyle();\n    let avatarIconStyle = this.getAvatarIconStyle();\n    let operationStyle = this.getOperationStyle();\n\n    return (\n      <div className=\"collaborator-option-item\" style={containerStyle}>\n        <span className=\"collaborator-avatar\" style={avatarStyle}>\n          <img className=\"collaborator-icon\" style={avatarIconStyle} alt={collaborator.name} src={collaborator.avatar_url} />\n          <span className=\"collaborator-name\">{collaborator.name}</span>\n        </span>\n        <span className=\"collaborator-remove\" style={operationStyle} onClick={this.onDeleteCollaborator}>\n          <i className=\"dtable-font dtable-icon-fork-number\" style={{fontSize: '12px', height: '20px', lineHeight: '20px'}}></i>\n        </span>\n      </div>\n    );\n  }\n}\n\nCollaboratorEditorOption.propTypes = propTypes;\n\nexport default CollaboratorEditorOption;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  popoverStyle: PropTypes.object.isRequired,\n  collaborators: PropTypes.array.isRequired,\n  selectedCollaborators: PropTypes.array.isRequired,\n  onOptionItemToggle: PropTypes.func.isRequired,\n};\n\nclass CollaboratorEditorPopover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: '',\n    };\n  }\n\n  onValueChanged = (e) => {\n    let value = e.target.value.trim();\n    this.setState({searchValue: value});\n  }\n\n  onInputClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n  } \n\n  onOptionItemToggle = (collaborator) => {\n    this.props.onOptionItemToggle(collaborator);\n  }\n\n  getFilterCollaborators = () => {\n    let { collaborators } = this.props;\n    let filter = this.state.searchValue.toLowerCase();\n    if (!filter) {\n      return collaborators;\n    }\n    return collaborators.filter(collaborator => {\n      return (collaborator.name.toString().toLowerCase()).indexOf(filter) > -1;\n    });\n  }\n\n  render() {\n\n    let { popoverStyle, selectedCollaborators } = this.props;\n    let collaborators = this.getFilterCollaborators();\n\n    return (\n      <div className=\"collaborator-editor-popover\" style={popoverStyle}>\n        <div className=\"collaborator-options-search\">\n          <input className=\"form-control\" onChange={this.onValueChanged} onClick={this.onInputClick} placeholder={gettext('Find a collaborator')}></input>\n        </div>\n        <div className=\"collaborator-options-container\">\n          {collaborators.length > 0 && collaborators.map((collaborator, index) => {\n            // check is selected\n            let isSelect = selectedCollaborators.some(selectedCollaborator => {\n              return selectedCollaborator.email === collaborator.email;\n            });\n            return (\n              <div key={index} className=\"collaborator-option-item\" onClick={this.onOptionItemToggle.bind(this, collaborator)}>\n                <div className=\"collaborator-avatar\" >\n                  <img className=\"collaborator-icon\" alt={collaborator.name} src={collaborator.avatar_url} />\n                  <span className=\"collaborator-name\">{collaborator.name}</span>\n                </div>\n                <div className=\"collaborator-checked\">\n                  {isSelect && <i className=\"dtable-font dtable-icon-check-mark\" style={{fontSize: '12px'}}></i>}\n                </div>\n              </div>\n            );\n          })}\n          {collaborators.length === 0 && (<div className=\"search-option-null\">{gettext('No collaborators available')}</div>)}\n        </div>\n      </div>\n    );\n  }\n}\n\nCollaboratorEditorPopover.propTypes = propTypes;\n\nexport default CollaboratorEditorPopover;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CellLabel from '../../dtable-share-row/cell-label';\n\nconst propTypes = {\n  column: PropTypes.object,\n};\n\nclass LabelGenerator extends React.Component {\n\n  render() {\n    let { column } = this.props;\n\n    return <CellLabel column={column} />;\n  }\n}\n\nLabelGenerator.propTypes = propTypes;\n\nexport default LabelGenerator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CollaboratorEditorOption from '../cell-editor-widgets/collaborator-editor-option';\nimport CollaboratorEditorPopover from '../cell-editor-widgets/collaborator-editor-popover';\n\nimport '../css/collaborator.css'; \n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst POPOVER_MAX_HEIGHT = 200;\n\nclass CollaboratorEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: [],\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: null,\n      isDataInit: false,\n      isPopoverShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    this.setState({ \n      newValue: value,\n      isDataInit: true,\n    });\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n  \n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  formatCollaborators = () => {\n    let { newValue } = this.state;\n    \n    if (!newValue || newValue.length === 0) {\n      return [];\n    }\n\n    let collaborators = window.app.collaborators;\n    let selectedCollaborators = collaborators.length > 0 && collaborators.filter(collaborator => {\n      return newValue && newValue.indexOf(collaborator.email) > -1;\n    });\n    return selectedCollaborators || [];\n  }\n\n  onCommit = (newValue) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = newValue;\n    this.props.onCommit(updated, column);\n  }\n  \n  onDocumentToggle = () => {\n    this.setState({isPopoverShow: false});\n  }\n\n  onAddCollaboratorToggle = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isPopoverShow: !this.state.isPopoverShow});\n  }\n\n  onDeleteCollaborator = (collaborator) => {\n    let { newValue: currentValue } = this.state;\n    let newValue = currentValue.filter(item => item !== collaborator.email);\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n  }\n\n  onOptionItemToggle = (collaborator) => {\n    let { newValue: currentValue } = this.state;\n    let newValue = currentValue.slice(0);  // make a copy\n\n    let email_index = newValue.indexOf(collaborator.email);\n    if (email_index > -1) {\n      newValue.splice(email_index, 1);\n    } else {\n      newValue.push(collaborator.email);\n    }\n\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  caculatePopoverPosition = () => {\n    let innerHeight = window.innerHeight;\n    let { top, left, height } = this.editor.getClientRects()[0];\n    let isBelow = (innerHeight - (top + height)) > POPOVER_MAX_HEIGHT;\n    let position = { top : (top + height + 1), left: left};\n    if (!isBelow) {\n      let bottom = innerHeight - top;\n      position = { bottom: bottom, left: left };\n    }\n    return position;\n  }\n\n  getPopoverStyle = () => {\n    let defaultPosition = { \n      position: 'absolute',\n    };\n    let position = this.caculatePopoverPosition();\n    return Object.assign({}, {...defaultPosition}, {...position});\n  }\n  \n  render() {\n\n    let collaborators = window.app.collaborators;\n    let selectedCollaborators = this.formatCollaborators();\n\n    let { isDataInit } = this.state;\n    let popoverStyle = null;\n    if (isDataInit) {\n      popoverStyle = this.getPopoverStyle();\n    }\n\n    return (\n      <div className=\"cell-editor grid-cell-type-collaborator\">\n        <div ref={this.setEditorRef} className=\"collaborator-editor-container\">\n          {selectedCollaborators.map((collaborator, index) => {\n            return <CollaboratorEditorOption key={index} collaborator={collaborator} onDeleteCollaborator={this.onDeleteCollaborator}/>;\n          })}\n        </div>\n        <div className=\"collaborator-editor-add\" onClick={this.onAddCollaboratorToggle}>\n          <i className=\"dtable-font dtable-icon-add-square\"></i>\n        </div>\n        {this.state.isPopoverShow && (\n          <CollaboratorEditorPopover\n            popoverStyle={popoverStyle}\n            collaborators={collaborators} \n            selectedCollaborators={selectedCollaborators}\n            onOptionItemToggle={this.onOptionItemToggle} \n          />\n        )}\n      </div>\n    );\n  }\n}\n\nCollaboratorEditor.propTypes = propTypes;\n\nexport default CollaboratorEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  option: PropTypes.object.isRequired,\n  isShowRemoveIcon: PropTypes.bool,\n  onDeleteSelectOption: PropTypes.func,\n};\n\n/**\n * option : {\n *   id: '',\n *   name: '',\n *   color: '',\n * }\n */\n\nclass SelectEditorOption extends React.Component {\n\n  static defaultProps = {\n    isShowRemoveIcon: false,\n  }\n\n  onDeleteOption = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n    this.props.onDeleteSelectOption(this.props.option);\n  }\n\n  getContainerStyle = () => {\n    let option = this.props.option;\n    return {\n      display: 'inline-flex',\n      marginRight: '10px',\n      padding: '0px 10px',\n      height: '20px',\n      textAlign: 'center',\n      borderRadius: '10px',\n      fontSize: '13px',\n      backgroundColor: option.color,\n    };\n  }\n\n  getOptionStyle = (option) => {\n    const textColor = option.textColor || null;\n    return {\n      flex: 1,\n      display: 'flex',\n      alignContent: 'center',\n      margin: '0 4px 0 2px',\n      color: textColor,\n    };\n  }\n\n  getOperationStyle = (option) => {\n    const textColor = option.textColor || null;\n    return {\n      height: '20px',\n      width: '16px',\n      cursor: 'pointer',\n      color: textColor === '#FFFFFF' ? '#FFFFFF' : '#909090',\n      transform: 'scale(.8)',\n    };\n  }\n\n  render() {\n    let { option, isShowRemoveIcon } = this.props;\n    let containerStyle = this.getContainerStyle();\n    let optionStyle = this.getOptionStyle(option);\n    let operationStyle = this.getOperationStyle(option);\n\n    return (\n      <div className=\"select-option-item\" style={containerStyle}>\n        <div className=\"option-info\" style={optionStyle}>\n          <div className=\"option-name\">{option.name}</div>\n        </div>\n        {isShowRemoveIcon && (\n          <div className=\"option-remove\" style={operationStyle} onClick={this.onDeleteOption}>\n            <i className=\"dtable-font dtable-icon-fork-number\" style={{fontSize: '12px', lineHeight: '20px'}}></i>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nSelectEditorOption.propTypes = propTypes;\n\nexport default SelectEditorOption;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  popoverStyle: PropTypes.object.isRequired,\n  options: PropTypes.array.isRequired,\n  onAddNewOption: PropTypes.func,\n  selectedOptions: PropTypes.array.isRequired,\n  onOptionItemToggle: PropTypes.func.isRequired,\n};\n\nclass SelectEditorPopover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: '',\n      isShowCreateBtn: false,\n    };\n  }\n\n  onValueChanged = (event) => {\n    let value = event.target.value.trim();\n    this.setState({searchValue: value});\n  }\n\n  onInputClick = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    event.stopPropagation();\n  } \n\n  onAddNewOption = () => {\n    let name = this.state.searchValue;\n    this.props.onAddNewOption(name);\n  }\n\n  onOptionItemToggle = (item) => {\n    this.props.onOptionItemToggle(item);\n  }\n\n  getFilterOptions = () => {\n    let { options } = this.props;\n    let filter = this.state.searchValue.toLowerCase();\n    if (!filter) {\n      return options;\n    }\n    return options.filter(option => {\n      return (option.name.toString().toLowerCase()).indexOf(filter) > -1;\n    });\n  }\n\n  getOptionStyle = (option) => {\n    const textColor = option.textColor || null;\n    return {\n      display: 'inline-block',\n      padding: '0px 10px',\n      height: '20px',\n      lineHeight: '20px',\n      borderRadius: '10px',\n      fontSize: '13px',\n      backgroundColor: option.color,\n      color: textColor,\n    };\n  }\n\n  render() {\n    let { popoverStyle, selectedOptions } = this.props;\n    let options = this.getFilterOptions();\n    let { isShowCreateBtn } = this.state;\n    return (\n      <div className=\"select-editor-popover\" style={popoverStyle}>\n        <div className=\"select-options-search\">\n          <input className=\"form-control\" onChange={this.onValueChanged} onClick={this.onInputClick} placeholder={gettext('Find a collaborator')}></input>\n        </div>\n        <div className=\"select-options-container\">\n          {options.length > 0 && options.map((option, index) => {\n            let optionStyle = this.getOptionStyle(option);\n            let isSelect = selectedOptions.some(selectedOption => {\n              return selectedOption.id === option.id;\n            }); \n            return (\n              <div key={index} className=\"select-option-item\" onClick={this.onOptionItemToggle.bind(this, option)}>\n                <div className=\"option-info\">\n                  <div className=\"option-name\" style={optionStyle}>{option.name}</div>\n                </div>\n                <div className=\"option-checked\">\n                  {isSelect && <i className=\"dtable-font dtable-icon-check-mark\"></i>}\n                </div>\n              </div>\n            );\n          })}\n          {options.length === 0 && (<div className=\"search-option-null\">{gettext('No options avaliable')}</div>)}\n        </div>\n        {isShowCreateBtn && (\n          <div className=\"select-options-add\" onClick=\"this.onAddNewOption\">{gettext('Add an option')}{this.state.searchValue}</div>\n        )}\n      </div>\n    );\n  }\n}\n\nSelectEditorPopover.propTypes = propTypes;\n\nexport default SelectEditorPopover;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction MobileCommonHeader(props) {\n  const { title, titleClass, onLeftClick, leftName, onRightClick, rightName } = props;\n  return(\n    <div className={`am-list-header mobile-am-list-header ${titleClass ? titleClass : ''}`}>\n      <div className=\"row-expand-view-header\">\n        <span className=\"row-expand-view-header-btn\" onClick={onLeftClick}>{leftName || ''}</span>\n        <h4 className=\"row-expand-view-header-title\">{title}</h4>\n        <span className=\"row-expand-view-header-btn\" onClick={onRightClick}\n          style={{ color: '#f09f3f'}}>{rightName || ''}</span>\n      </div>\n    </div>\n  );\n}\n\nMobileCommonHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  titleClass: PropTypes.string,\n  onLeftClick: PropTypes.func,\n  onRightClick: PropTypes.func,\n  leftName: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  rightName: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n};\n\nexport default MobileCommonHeader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as zIndexes from '../utils/zIndexes';\nimport { gettext } from '../../../utils/constants';\nimport MobileCommonHeader from './mobile-common-header';\n\nconst propTypes = {\n  closeEditor: PropTypes.func,\n  onCommit: PropTypes.func,\n  column: PropTypes.object,\n  value: PropTypes.string,\n  isReadOnly: PropTypes.bool,\n};\n\nclass SingleSelectView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value || '',\n      searchVal: '',\n      options: props.column.data ? props.column.data.options : [],\n    };\n    this.clientHeight = document.body.clientHeight;\n    this.clientWidth = document.body.clientWidth;\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  onChangeSearch = (event) => {\n    let { searchVal } = this.state;\n    if (searchVal === event.target.value) {\n      return;\n    }\n    searchVal = event.target.value;\n    this.setState({ searchVal });\n  }\n\n  getFilteredOptions = () => {\n    let { searchVal, options } = this.state;\n    return searchVal ? options.filter((item) => item.name.indexOf(searchVal) > -1) : options;\n  }\n\n  onRemoveOption = () => {\n    this.setState({ value: '' }, () => {\n      this.props.onCommit({id: this.state.value});\n      this.props.closeEditor();\n    });\n  }\n\n  onSelectOption = (optionID) => {\n    this.setState({ value: optionID }, () => {\n      this.props.onCommit({id: this.state.value});\n      this.props.closeEditor();\n    });\n  }\n\n  renderMenuContent = (options) => {\n    let { value } = this.state;\n    if (options.length === 0) {\n      return <div className=\"none-search-result\">{gettext('No options available.')}</div>;\n    }\n    // this.clientWidth - 16 - 10 - 20 - 10: \n    // clientWidth - select-options-body's paddingLeft - single-select-container's paddingRight - check-icon's width - gaps\n    return options.map((option, i) => {\n      return (\n        <div className=\"single-select-item\" key={i}>\n          <div className=\"single-select-container\" onMouseDown={this.onSelectOption.bind(this, option.id)}>\n            <span className=\"single-select\">\n              <span className=\"single-select-name\" \n                style={{backgroundColor: option.color, color: option.textColor || null, maxWidth: this.clientWidth - 16 - 10 - 20 - 10}}\n              >\n                {option.name}\n              </span>\n            </span>\n            {value === option.id && \n              <span className='single-select-check-icon'><i className=\"dtable-font dtable-icon-check-mark\"></i></span>\n            }\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const { column, value, isReadOnly } = this.props;\n    const { searchVal } = this.state;\n    const filteredOptions = this.getFilteredOptions();\n    const isShowCreateBtn = searchVal ? filteredOptions.findIndex(option => option.name === searchVal) === -1 : false;\n    let selectedOption = column.data && column.data.options.find(option => option.id === value);\n    let textColor = selectedOption ? selectedOption.textColor : null;\n    return (\n      <div className=\"row-expand-view single-select-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={column.name}\n          onLeftClick={this.props.closeEditor}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"select-options-body\" style={{ maxHeight: this.clientHeight - 50 }}>\n          <div className=\"current-cell-value-container\">\n            <div className=\"view-subtitle\">\n              <span>{gettext('Current option')}</span>\n            </div>\n            <div className=\"current-cell-value\">\n              {selectedOption ?\n                <div className=\"current-option-container\" style={{ backgroundColor: selectedOption.color }}>\n                  <span className=\"current-option-name\" style={{ color: textColor}}>{selectedOption.name}</span>\n                  {!isReadOnly && \n                    <div className=\"remove-container\" onClick={this.onRemoveOption}>\n                      <i className=\"remove-option dtable-font dtable-icon-fork-number\" style={{ color: textColor === '#FFFFFF' ? textColor : null }}></i>\n                    </div>\n                  }\n                </div>\n                :\n                <span className=\"empty-placeholder\">{gettext('No option')}</span>\n              }\n            </div>\n          </div>\n          <div className=\"view-partition\"></div>\n          <div className=\"single-selects-editor-list\">\n            <div className=\"search-single-selects\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder={gettext('Find an option')}\n                value={searchVal}\n                onChange={this.onChangeSearch}\n                onClick={(e) => {e.stopPropagation();}}\n              />\n            </div>\n            <div className=\"view-subtitle\">\n              <span>{!isShowCreateBtn && gettext('Choose an option')}</span>\n            </div>\n            <div className=\"single-selects-container\">\n              {this.renderMenuContent(filteredOptions)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSingleSelectView.propTypes = propTypes;\n\nexport default SingleSelectView;","export const ROW_EXPAND_VIEW = 100;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SelectEditorOption from '../cell-editor-widgets/select-editor-option';\nimport SelectEditorPopover from '../cell-editor-widgets/select-editor-popover';\nimport MediaQuery from 'react-responsive';\nimport SingleSelectView from '../cell-viewer-mobile/single-select-view';\nimport { gettext } from '../../../utils/constants';\n\nimport '../css/select-editor.css';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.string,\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst POPOVER_MAX_HEIGHT = 200;\n\nclass SingleSelectEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: ''\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: null,\n      isPopoverShow: false,\n    };\n    this.isEditorMounted = false;\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    this.isEditorMounted = true;\n    this.setState({newValue: value});\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  onDocumentToggle = (e) => {\n    if (this.MobileMask && this.MobileMask.contains(e.target)) {\n      return;\n    }\n    this.setState({isPopoverShow: false});\n  }\n\n  formatOption = () => {\n    let { column } = this.props;\n    let newValue = this.state.newValue;\n    if (!newValue) {\n      return null;\n    }\n\n    let options = (column && column.data && column.data.options) || [];\n    let option = options.find(option => option.id === newValue);\n    return option;\n  }\n\n  onAddOptionToggle = (event) => {\n    if (event) {\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    }\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isPopoverShow: !this.state.isPopoverShow});\n  }\n\n  onCommit = (newValue) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = newValue;\n    this.props.onCommit(updated, column);\n  }\n\n  onOptionItemToggle = (option) => {\n    let { newValue } = this.state;\n\n    if (newValue === option.id) {\n      return;\n    }\n\n    this.setState({newValue: option.id}, () => {\n      this.onCommit(option.id);\n    });\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  caculatePopoverPosition = () => {\n    let innerHeight = window.innerHeight;\n    let { top, left, height } = this.editor.getClientRects()[0];\n    let isBelow = (innerHeight - (top + height)) > POPOVER_MAX_HEIGHT;\n    let position = { top : (top + height + 1), left: left};\n    if (!isBelow) {\n      let bottom = innerHeight - top;\n      position = { bottom: bottom, left: left };\n    }\n    return position;\n  }\n\n  getPopoverStyle = () => {\n    let defaultPosition = { \n      position: 'absolute',\n    };\n    let position = this.caculatePopoverPosition();\n    return Object.assign({}, {...defaultPosition}, {...position});\n  }\n\n  render() {\n    let { column, isReadOnly } = this.props;\n    let option = this.formatOption();\n    let options = column.data && (column.data.options || []);\n    let selectedOptions = option ? [option] : [];\n    let popoverStyle = null;\n    let { isPopoverShow } = this.state;\n    if (this.isEditorMounted && isPopoverShow) { // after component mounted;\n      popoverStyle = this.getPopoverStyle();\n    }\n    return (\n      <div className=\"cell-editor grid-cell-type-single-select\">\n        <div ref={this.setEditorRef} className=\"select-editor-container\" onClick={this.onAddOptionToggle}>\n          {option && <SelectEditorOption option={option} />}\n        </div>\n        {!option && <div className=\"select-editor-add\" onClick={this.onAddOptionToggle}>{gettext('Add an option')}</div>}\n        <MediaQuery query=\"(min-width: 768px)\">\n          {isPopoverShow &&\n            <SelectEditorPopover \n              popoverStyle={popoverStyle}\n              options={options}\n              selectedOptions={selectedOptions}\n              onAddNewOption={this.onAddNewOption}\n              onOptionItemToggle={this.onOptionItemToggle}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {isPopoverShow &&\n            <div className=\"cell-viewer-mobile-mask\" ref={ref => this.MobileMask = ref}>\n              <SingleSelectView\n                column={this.props.column}\n                value={this.state.newValue}\n                onCommit={this.onOptionItemToggle}\n                closeEditor={this.onAddOptionToggle}\n                isReadOnly={isReadOnly}\n              />\n            </div>\n          }\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nSingleSelectEditor.propTypes = propTypes;\n\nexport default SingleSelectEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as zIndexes from '../utils/zIndexes';\nimport { gettext } from '../../../utils/constants';\nimport MobileCommonHeader from './mobile-common-header';\n\nconst propTypes = {\n  column: PropTypes.object,\n  value: PropTypes.array,\n  onCommit: PropTypes.func,\n  closeEditor: PropTypes.func,\n  isReadOnly: PropTypes.bool,\n};\n\nclass MultipSelectView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value || [],\n      searchVal: '',\n      options: (props.column && props.column.data) ? props.column.data.options : [],\n    };\n    this.clientHeight = document.body.clientHeight;\n    this.clientWidth = document.body.clientWidth;\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false); \n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  onChangeSearch = (event) => {\n    let { searchVal } = this.state;\n    if (searchVal === event.target.value) {\n      return;\n    }\n    this.setState({ searchVal: event.target.value });\n  }\n\n  onSelectOption = (optionID) => {\n    let { value } = this.state;\n    let optionIdx = value.indexOf(optionID);\n    let updatedValue = value.slice(0);\n    if (optionIdx > -1) {\n      updatedValue.splice(optionIdx, 1);\n    } else {\n      updatedValue.push(optionID);\n    }\n    this.setState({ value: updatedValue }, () => {\n      this.props.onCommit(this.state.value);\n    });\n  }\n\n  getFilteredOptions = () => {\n    let { searchVal, options } = this.state;\n    if (searchVal) {\n      return options.filter((item) => item.name.indexOf(searchVal) > -1);\n    } else {\n      return options;\n    } \n  }\n\n  onRemoveOption = (optionIdx) => {\n    let { value } = this.state;\n    let updatedValue = value.slice(0);\n    updatedValue.splice(optionIdx, 1);\n    this.setState({ value: updatedValue }, () => {\n      this.props.onCommit(this.state.value);\n    });\n  }\n\n  getMultipleSelectList = () => {\n    const { value } = this.state;\n    const { column, isReadOnly } = this.props;\n    const options = column.data ? column.data.options : [];\n    let newValue = [];\n    if (Array.isArray(value)) { \n      value.forEach((v, optionIdx) => {\n        let option = options.find(option => option.id === v);\n        if (option) {\n          newValue.push(\n            <div className=\"multiple-select-item current-multiple-select-item\" key={'multiple_select_' + optionIdx}>\n              <div className=\"current-option-container\" style={{ backgroundColor: option.color }} title={option.name}>\n                <span className=\"current-option-name\" style={{ color: option.textColor || null }}>{option.name}</span>\n                {!isReadOnly && \n                  <div className=\"remove-container\" onClick={this.onRemoveOption.bind(this, optionIdx)}>\n                    <i className=\"remove-option dtable-font dtable-icon-fork-number\" style={{ color: option.textColor === '#FFFFFF' ? option.textColor : null }}></i>\n                  </div>\n                }\n              </div>\n            </div>\n          );\n        }\n      });\n    }\n    return newValue;\n  }\n\n  renderMenuContent = (filteredOptions) => {\n    let { value } = this.state;\n    if (filteredOptions.length === 0) {\n      return (<span className=\"none-search-result\">{gettext('No options available.')}</span>);\n    }\n    // this.clientWidth - 16 - 10 - 20 - 10: \n    // clientWidth - select-options-body's paddingLeft - single-select-container's paddingRight - check-icon's width - gaps\n    return filteredOptions.map((option, i) => {\n      const isSelected = value.find((item) => item === option.id);\n      return (\n        <div key={i} className=\"dropdown-item multiple-select-item\">\n          <div className=\"multiple-select-container\" onMouseDown={this.onSelectOption.bind(this, option.id)}>\n            <div className=\"multiple-select\">\n              <span className=\"multiple-select-name\" \n                style={{backgroundColor: option.color, color: option.textColor || null, maxWidth: this.clientWidth - 16 - 10 - 20 - 10}}\n              >\n                {option.name}\n              </span>\n            </div>\n            <div className='multiple-select-check-icon'>\n              {isSelected && <i className=\"dtable-font dtable-icon-check-mark\"></i>}\n            </div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    let { column } = this.props;\n    let { searchVal } = this.state;\n    let filteredOptions = this.getFilteredOptions();\n    let isShowCreateBtn = false;\n    if (this.state.searchVal) {\n      isShowCreateBtn = filteredOptions.findIndex(option => option.name === searchVal) === -1 ? true : false;\n    }\n    let value = this.getMultipleSelectList();\n    return (\n      <div className=\"row-expand-view multiple-select-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={column.name}\n          onLeftClick={this.props.closeEditor}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"select-options-body\" style={{ maxHeight: this.clientHeight - 50 }}>\n          <div className=\"current-cell-value-container\">\n            <div className=\"view-subtitle\">\n              <span>{gettext('Current option')}</span>\n            </div>\n            <div className=\"current-cell-value\" style={value.length  === 0 ? {height: 50} : {}}>\n              {value.length > 0 ?\n                value\n                :\n                <span className=\"empty-placeholder\">{gettext('No option')}</span>\n              }\n            </div>\n          </div>\n          <div className=\"view-partition\"></div>\n          <div className=\"multiple-selects-editor-list\">\n            <div className=\"search-multiple-selects\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder={gettext('Find an option')}\n                value={this.state.searchVal}\n                onChange={this.onChangeSearch}\n                onClick={(e) => {e.stopPropagation();}}\n              />\n            </div>\n            <div className=\"view-subtitle\">\n              <span>{!isShowCreateBtn && gettext('Choose options')}</span>\n            </div>\n            <div className=\"multiple-selects-container\">\n              {this.renderMenuContent(filteredOptions)}\n            </div> \n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMultipSelectView.propTypes = propTypes;\n\nexport default MultipSelectView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SelectEditorOption from '../cell-editor-widgets/select-editor-option';\nimport SelectEditorPopover from '../cell-editor-widgets/select-editor-popover';\nimport MediaQuery from 'react-responsive';\nimport MultipSelectView from '../cell-viewer-mobile/multi-select-view';\nimport { gettext } from '../../../utils/constants';\n\nimport '../css/select-editor.css';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst POPOVER_MAX_HEIGHT = 200;\n\nclass MutipleSelectEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: []\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: null,\n      isPopoverShow: false\n    };\n\n    this.isEditorMounted = false;\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    this.isEditorMounted = true;\n    this.setState({newValue: value});\n    document.addEventListener('click', this.onDocumentToggle);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onDocumentToggle);\n  }\n\n  onDocumentToggle = (e) => {\n    if (this.MobileMask && this.MobileMask.contains(e.target)) {\n      return;\n    }\n    this.setState({isPopoverShow: false});\n  }\n\n  onAddOptionToggle = (event) => {\n    if (event) {\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    }\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isPopoverShow: !this.state.isPopoverShow});\n  }\n\n  onCommit = (newValue) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = newValue;\n    this.props.onCommit(updated, column);\n  }\n\n  onDeleteSelectOption = (option) => {\n    let { newValue : currentValue } = this.state;\n    let newValue = currentValue.filter(item => item !== option.id);\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n  }\n\n  onAddNewOption = (name) => {\n    // need todo\n  }\n\n  onOptionItemToggle = (option) => {\n    let { newValue } = this.state;\n\n    let option_index = newValue.indexOf(option.id);\n    if (option_index > -1) {\n      newValue.splice(option_index, 1);\n    } else {\n      newValue.push(option.id);\n    }\n\n    this.setState({newValue: newValue}, () => {\n      this.onCommit(newValue);\n    });\n\n  }\n\n  formatOptions = () => {\n    let { newValue } = this.state;\n    let { column } = this.props;\n    let options = (column && column.data && column.data.options) || [];\n\n    if (!newValue || !newValue.length === 0) {\n      return [];\n    } \n\n    let selectedOptions = options.filter(option => {\n      return newValue.indexOf(option.id) > -1;\n    });\n\n    return selectedOptions;\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  caculatePopoverPosition = () => {\n    let innerHeight = window.innerHeight;\n    let { top, left, height } = this.editor.getClientRects()[0];\n    let isBelow = (innerHeight - (top + height)) > POPOVER_MAX_HEIGHT;\n    let position = { top : (top + height + 1), left: left};\n    if (!isBelow) {\n      let bottom = innerHeight - top;\n      position = { bottom: bottom, left: left };\n    }\n    return position;\n  }\n\n  getPopoverStyle = () => {\n    let defaultPosition = { \n      position: 'absolute',\n    };\n    let position = this.caculatePopoverPosition();\n    return Object.assign({}, {...defaultPosition}, {...position});\n  }\n\n  updateValue = (newValue) => {\n    this.setState({ newValue }, () => {\n      this.onCommit(newValue);\n    });\n  }\n\n  render() {\n    let { column, isReadOnly } = this.props;\n    let selectedOptions = this.formatOptions();\n    let options = column.data && (column.data.options || []);\n    let popoverStyle = null;\n    let { isPopoverShow } = this.state;\n    if (this.isEditorMounted && isPopoverShow) { // after component mounted;\n      popoverStyle = this.getPopoverStyle();\n    }\n    return (\n      <div className=\"cell-editor grid-cell-type-single-select\">\n        <div ref={this.setEditorRef} className=\"select-editor-container\" onClick={this.onAddOptionToggle}>\n          {selectedOptions.length > 0 && selectedOptions.map((option) => {\n            return (\n              <SelectEditorOption \n                key={option.id}\n                option={option} \n                isShowRemoveIcon={true} \n                onDeleteSelectOption={this.onDeleteSelectOption.bind(this, option)}\n              /> \n            );\n          })}\n        </div>\n        {selectedOptions.length === 0 &&\n          <div className=\"select-editor-add\" onClick={this.onAddOptionToggle}>{gettext('Add an option')}</div>\n        }\n        <MediaQuery query=\"(min-width: 768px)\">\n          {isPopoverShow &&\n            <SelectEditorPopover \n              popoverStyle={popoverStyle}\n              options={options}\n              selectedOptions={selectedOptions}\n              onAddNewOption={this.onAddNewOption}\n              onOptionItemToggle={this.onOptionItemToggle}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {isPopoverShow &&\n            <div className=\"cell-viewer-mobile-mask\" ref={ref => this.MobileMask = ref}>\n              <MultipSelectView\n                column={this.props.column}\n                value={this.state.newValue}\n                onCommit={this.updateValue}\n                closeEditor={this.onAddOptionToggle}\n                isReadOnly={isReadOnly}\n              />\n            </div>\n          }\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nMutipleSelectEditor.propTypes = propTypes;\n\nexport default MutipleSelectEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { processor } from '@seafile/seafile-editor/dist/utils/seafile-markdown2html';\nimport Loading from '../../../components/loading';\n\nconst propTypes = {\n  newValue: PropTypes.object,\n  onContentClick: PropTypes.func.isRequired,\n};\n\nclass LongTextEditorPreviewAll extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      innerHtml: null,\n      isFormatValue: true,\n    };\n  }\n\n  componentDidMount() {\n    let newValue = this.props.newValue;\n    let mdFile = newValue ? newValue.text : '';\n    if (mdFile) {\n      this.formatterLongTextValue(mdFile);\n    } else {\n      this.setState({\n        isFormatValue: false,\n        innerHtml: ''\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let mdFile = nextProps.newValue.text;\n    this.formatterLongTextValue(mdFile);\n  }\n\n  formatterLongTextValue = (mdFile) => {\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({\n        isFormatValue: false,\n        innerHtml: innerHtml\n      });\n    });\n  }\n\n  render() {\n    if (this.state.isFormatValue) {\n      return <Loading />;\n    }\n\n    return (\n      <div className=\"long-text-editor-container article\" onClick={this.props.onContentClick}>\n        <div dangerouslySetInnerHTML={{__html: this.state.innerHtml}}></div>\n      </div>\n    );\n  }\n\n}\n\nLongTextEditorPreviewAll.propTypes = propTypes;\n\nexport default LongTextEditorPreviewAll;\n","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTranslation } from 'react-i18next';\n\nvar HeaderList =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(HeaderList, _React$PureComponent);\n\n  function HeaderList(props) {\n    var _this;\n\n    _classCallCheck(this, HeaderList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HeaderList).call(this, props));\n\n    _this.handleClick = function (event) {\n      if (_this.props.disabled) return;\n\n      var container = _this.getContainer();\n\n      if (container.contains(event.target)) {\n        _this.toggle();\n      } else {\n        if (_this.state.dropdownOpen) {\n          _this.setState({\n            dropdownOpen: !_this.state.dropdownOpen\n          });\n        }\n      }\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        dropdownOpen: !_this.state.dropdownOpen\n      });\n    };\n\n    _this.state = {\n      dropdownOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(HeaderList, [{\n    key: \"getContainer\",\n    value: function getContainer() {\n      return ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      /*\n      *  here need to use click event in DropdownItem instead of onMouseDown, reactStrap listen click, keyUp, to trigger toggle function,\n      *  if we listen mouseDown event the tool bar will render,the position of the component will change\n      *  and then the click event of this component will not be triggered\n      * */\n\n\n      return React.createElement(\"div\", {\n        className: 'header-list'\n      }, React.createElement(\"div\", {\n        className: 'list-body ' + (this.props.disabled ? '' : 'header-list-body-hover') + (this.state.dropdownOpen ? ' header-list-body-highlight' : '')\n      }, React.createElement(\"div\", {\n        className: 'list-title'\n      }, this.props.t(this.props.headerType)), React.createElement(\"div\", {\n        className: 'list-caret'\n      }, React.createElement(\"i\", {\n        className: this.state.dropdownOpen ? 'fa fa-caret-up' : 'fa fa-caret-down'\n      }))), this.state.dropdownOpen && React.createElement(\"div\", {\n        className: 'list-dropdown'\n      }, React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'paragraph');\n        }\n      }, this.props.t('paragraph')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_one');\n        }\n      }, this.props.t('header_one')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_two');\n        }\n      }, this.props.t('header_two')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_three');\n        }\n      }, this.props.t('header_three')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_four');\n        }\n      }, this.props.t('header_four')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_five');\n        }\n      }, this.props.t('header_five')), React.createElement(\"div\", {\n        className: 'list-dropdown-item',\n        onClick: function onClick(event) {\n          _this2.props.onClickHeader(event, 'header_six');\n        }\n      }, this.props.t('header_six'))));\n    }\n  }]);\n\n  return HeaderList;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(HeaderList);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\n\nvar ButtonGroup =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ButtonGroup, _React$PureComponent);\n\n  function ButtonGroup() {\n    _classCallCheck(this, ButtonGroup);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ButtonGroup).apply(this, arguments));\n  }\n\n  _createClass(ButtonGroup, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: 'btn-group ' + this.props.className,\n        role: 'group'\n      }, this.props.children);\n    }\n  }]);\n\n  return ButtonGroup;\n}(React.PureComponent);\n\nexport default ButtonGroup;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport isFunction from 'lodash.isfunction';\nimport isobject from 'lodash.isobject';\nimport ReactDOM from 'react-dom';\nimport { Arrow, Manager, Popper, Target } from 'react-popper';\nimport toNumber from 'lodash.tonumber'; // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L436-L443\n\nfunction getScrollbarWidth() {\n  var scrollDiv = document.createElement('div'); // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\n\nfunction setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? padding + 'px' : null;\n}\n\nfunction isBodyOverflowing() {\n  return document.body.clientWidth < window.innerWidth;\n}\n\nfunction getOriginalBodyPadding() {\n  var style = window.getComputedStyle(document.body, null);\n  return parseInt(style && style.getPropertyValue('padding-right') || 0, 10);\n}\n\nfunction conditionallyUpdateScrollbar() {\n  var scrollbarWidth = getScrollbarWidth(); // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n\n  var fixedContent = document.querySelectorAll('.fixed-top, .fixed-bottom, .is-fixed, .sticky-top')[0];\n  var bodyPadding = fixedContent ? parseInt(fixedContent.style.paddingRight || 0, 10) : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\n\nvar globalCssModule = void 0;\n\nfunction setGlobalCssModule(cssModule) {\n  globalCssModule = cssModule;\n}\n\nfunction mapToCssModules() {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var cssModule = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : globalCssModule;\n  if (!cssModule) return className;\n  return className.split(' ').map(function (c) {\n    return cssModule[c] || c;\n  }).join(' ');\n}\n/**\n * Returns a new object with the key/value pairs from `obj` that are not in the array `omitKeys`.\n */\n\n\nfunction omit(obj, omitKeys) {\n  var result = {};\n  Object.keys(obj).forEach(function (key) {\n    if (omitKeys.indexOf(key) === -1) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n/**\n * Returns a filtered copy of an object with only the specified keys.\n */\n\n\nfunction pick(obj, keys) {\n  var pickKeys = Array.isArray(keys) ? keys : [keys];\n  var length = pickKeys.length;\n  var key = void 0;\n  var result = {};\n\n  while (length > 0) {\n    length -= 1;\n    key = pickKeys[length];\n    result[key] = obj[key];\n  }\n\n  return result;\n}\n\nvar warned = {};\n\nfunction warnOnce(message) {\n  if (!warned[message]) {\n    /* istanbul ignore else */\n    if (typeof console !== 'undefined') {\n      console.error(message); // eslint-disable-line no-console\n    }\n\n    warned[message] = true;\n  }\n}\n\nfunction deprecated(propType, explanation) {\n  return function validate(props, propName, componentName) {\n    if (props[propName] !== null && typeof props[propName] !== 'undefined') {\n      warnOnce('\"' + propName + '\" property of \"' + componentName + '\" has been deprecated.\\n' + explanation);\n    }\n\n    for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      rest[_key - 3] = arguments[_key];\n    }\n\n    return propType.apply(undefined, [props, propName, componentName].concat(rest));\n  };\n}\n\nfunction DOMElement(props, propName, componentName) {\n  if (!(props[propName] instanceof Element)) {\n    return new Error('Invalid prop `' + propName + '` supplied to `' + componentName + '`. Expected prop to be an instance of Element. Validation failed.');\n  }\n}\n\nfunction getTarget(target) {\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (typeof target === 'string' && document) {\n    var selection = document.querySelector(target);\n\n    if (selection === null) {\n      selection = document.querySelector('#' + target);\n    }\n\n    if (selection === null) {\n      throw new Error('The target \\'' + target + '\\' could not be identified in the dom, tip: check spelling');\n    }\n\n    return selection;\n  }\n\n  return target;\n}\n/* eslint key-spacing: [\"error\", { afterColon: true, align: \"value\" }] */\n// These are all setup to match what is in the bootstrap _variables.scss\n// https://github.com/twbs/bootstrap/blob/v4-dev/scss/_variables.scss\n\n\nvar TransitionTimeouts = {\n  Fade: 150,\n  // $transition-fade\n  Collapse: 350,\n  // $transition-collapse\n  Modal: 300,\n  // $modal-transition\n  Carousel: 600 // $carousel-transition\n\n}; // Duplicated Transition.propType keys to ensure that Reactstrap builds\n// for distribution properly exclude these keys for nested child HTML attributes\n// since `react-transition-group` removes propTypes in production builds.\n\nvar TransitionPropTypeKeys = ['in', 'mountOnEnter', 'unmountOnExit', 'appear', 'enter', 'exit', 'timeout', 'onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'];\nvar TransitionStatuses = {\n  ENTERING: 'entering',\n  ENTERED: 'entered',\n  EXITING: 'exiting',\n  EXITED: 'exited'\n};\nvar keyCodes = {\n  esc: 27,\n  space: 32,\n  tab: 9,\n  up: 38,\n  down: 40\n};\nvar PopperPlacements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar utils = Object.freeze({\n  getScrollbarWidth: getScrollbarWidth,\n  setScrollbarWidth: setScrollbarWidth,\n  isBodyOverflowing: isBodyOverflowing,\n  getOriginalBodyPadding: getOriginalBodyPadding,\n  conditionallyUpdateScrollbar: conditionallyUpdateScrollbar,\n  setGlobalCssModule: setGlobalCssModule,\n  mapToCssModules: mapToCssModules,\n  omit: omit,\n  pick: pick,\n  warnOnce: warnOnce,\n  deprecated: deprecated,\n  DOMElement: DOMElement,\n  getTarget: getTarget,\n  TransitionTimeouts: TransitionTimeouts,\n  TransitionPropTypeKeys: TransitionPropTypeKeys,\n  TransitionStatuses: TransitionStatuses,\n  keyCodes: keyCodes,\n  PopperPlacements: PopperPlacements,\n  canUseDOM: canUseDOM\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar propTypes = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Container = function Container(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      fluid = props.fluid,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'fluid', 'tag']);\n  var classes = mapToCssModules(classNames(className, fluid ? 'container-fluid' : 'container'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nContainer.propTypes = propTypes;\nContainer.defaultProps = defaultProps;\nvar propTypes$1 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$1 = {\n  tag: 'div'\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'noGutters', 'tag']);\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, 'row'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes$1;\nRow.defaultProps = defaultProps$1;\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  push: deprecated(stringOrNumberProp, 'Please use the prop \"order\"'),\n  pull: deprecated(stringOrNumberProp, 'Please use the prop \"order\"'),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes$2 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps$2 = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : 'col-' + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : 'col-' + colWidth + '-auto';\n  }\n\n  return isXs ? 'col-' + colSize : 'col-' + colWidth + '-' + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'widths', 'tag']);\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isobject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : '-' + colWidth + '-';\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, defineProperty(_classNames, colClass, columnProp.size || columnProp.size === ''), defineProperty(_classNames, 'order' + colSizeInterfix + columnProp.order, columnProp.order || columnProp.order === 0), defineProperty(_classNames, 'offset' + colSizeInterfix + columnProp.offset, columnProp.offset || columnProp.offset === 0), _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes$2;\nCol.defaultProps = defaultProps$2;\nvar propTypes$3 = {\n  light: PropTypes.bool,\n  dark: PropTypes.bool,\n  inverse: deprecated(PropTypes.bool, 'Please use the prop \"dark\"'),\n  full: PropTypes.bool,\n  fixed: PropTypes.string,\n  sticky: PropTypes.string,\n  color: PropTypes.string,\n  role: PropTypes.string,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggleable: deprecated(PropTypes.oneOfType([PropTypes.bool, PropTypes.string]), 'Please use the prop \"expand\"'),\n  expand: PropTypes.oneOfType([PropTypes.bool, PropTypes.string])\n};\nvar defaultProps$3 = {\n  tag: 'nav',\n  expand: false\n};\n\nvar getExpandClass = function getExpandClass(expand) {\n  if (expand === false) {\n    return false;\n  } else if (expand === true || expand === 'xs') {\n    return 'navbar-expand';\n  }\n\n  return 'navbar-expand-' + expand;\n}; // To better maintain backwards compatibility while toggleable is deprecated.\n// We must map breakpoints to the next breakpoint so that toggleable and expand do the same things at the same breakpoint.\n\n\nvar toggleableToExpand = {\n  xs: 'sm',\n  sm: 'md',\n  md: 'lg',\n  lg: 'xl'\n};\n\nvar getToggleableClass = function getToggleableClass(toggleable) {\n  if (toggleable === undefined || toggleable === 'xl') {\n    return false;\n  } else if (toggleable === false) {\n    return 'navbar-expand';\n  }\n\n  return 'navbar-expand-' + (toggleable === true ? 'sm' : toggleableToExpand[toggleable] || toggleable);\n};\n\nvar Navbar = function Navbar(props) {\n  var _classNames;\n\n  var toggleable = props.toggleable,\n      expand = props.expand,\n      className = props.className,\n      cssModule = props.cssModule,\n      light = props.light,\n      dark = props.dark,\n      inverse = props.inverse,\n      fixed = props.fixed,\n      sticky = props.sticky,\n      color = props.color,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['toggleable', 'expand', 'className', 'cssModule', 'light', 'dark', 'inverse', 'fixed', 'sticky', 'color', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'navbar', getExpandClass(expand) || getToggleableClass(toggleable), (_classNames = {\n    'navbar-light': light,\n    'navbar-dark': inverse || dark\n  }, defineProperty(_classNames, 'bg-' + color, color), defineProperty(_classNames, 'fixed-' + fixed, fixed), defineProperty(_classNames, 'sticky-' + sticky, sticky), _classNames)), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNavbar.propTypes = propTypes$3;\nNavbar.defaultProps = defaultProps$3;\nvar propTypes$4 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$4 = {\n  tag: 'a'\n};\n\nvar NavbarBrand = function NavbarBrand(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'navbar-brand'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNavbarBrand.propTypes = propTypes$4;\nNavbarBrand.defaultProps = defaultProps$4;\nvar propTypes$5 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  type: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node\n};\nvar defaultProps$5 = {\n  tag: 'button',\n  type: 'button'\n};\n\nvar NavbarToggler = function NavbarToggler(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'children', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'navbar-toggler'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }), children || React.createElement('span', {\n    className: mapToCssModules('navbar-toggler-icon', cssModule)\n  }));\n};\n\nNavbarToggler.propTypes = propTypes$5;\nNavbarToggler.defaultProps = defaultProps$5;\nvar propTypes$6 = {\n  tabs: PropTypes.bool,\n  pills: PropTypes.bool,\n  vertical: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  horizontal: PropTypes.string,\n  justified: PropTypes.bool,\n  fill: PropTypes.bool,\n  navbar: PropTypes.bool,\n  card: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$6 = {\n  tag: 'ul',\n  vertical: false\n};\n\nvar getVerticalClass = function getVerticalClass(vertical) {\n  if (vertical === false) {\n    return false;\n  } else if (vertical === true || vertical === 'xs') {\n    return 'flex-column';\n  }\n\n  return 'flex-' + vertical + '-column';\n};\n\nvar Nav = function Nav(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      tabs = props.tabs,\n      pills = props.pills,\n      vertical = props.vertical,\n      horizontal = props.horizontal,\n      justified = props.justified,\n      fill = props.fill,\n      navbar = props.navbar,\n      card = props.card,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tabs', 'pills', 'vertical', 'horizontal', 'justified', 'fill', 'navbar', 'card', 'tag']);\n  var classes = mapToCssModules(classNames(className, navbar ? 'navbar-nav' : 'nav', horizontal ? 'justify-content-' + horizontal : false, getVerticalClass(vertical), {\n    'nav-tabs': tabs,\n    'card-header-tabs': card && tabs,\n    'nav-pills': pills,\n    'card-header-pills': card && pills,\n    'nav-justified': justified,\n    'nav-fill': fill\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNav.propTypes = propTypes$6;\nNav.defaultProps = defaultProps$6;\nvar propTypes$7 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$7 = {\n  tag: 'li'\n};\n\nvar NavItem = function NavItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      active = props.active,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'active', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'nav-item', active ? 'active' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nNavItem.propTypes = propTypes$7;\nNavItem.defaultProps = defaultProps$7;\n/* eslint react/no-find-dom-node: 0 */\n// https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-find-dom-node.md\n\nvar propTypes$8 = {\n  disabled: PropTypes.bool,\n  dropup: deprecated(PropTypes.bool, 'Please use the prop \"direction\" with the value \"up\".'),\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']),\n  group: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  nav: PropTypes.bool,\n  active: PropTypes.bool,\n  addonType: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['prepend', 'append'])]),\n  size: PropTypes.string,\n  tag: PropTypes.string,\n  toggle: PropTypes.func,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  inNavbar: PropTypes.bool\n};\nvar defaultProps$8 = {\n  isOpen: false,\n  direction: 'down',\n  nav: false,\n  active: false,\n  addonType: false,\n  inNavbar: false\n};\nvar childContextTypes = {\n  toggle: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']).isRequired,\n  inNavbar: PropTypes.bool.isRequired\n};\n\nvar Dropdown = function (_React$Component) {\n  inherits(Dropdown, _React$Component);\n\n  function Dropdown(props) {\n    classCallCheck(this, Dropdown);\n\n    var _this = possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this, props));\n\n    _this.addEvents = _this.addEvents.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.removeEvents = _this.removeEvents.bind(_this);\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(Dropdown, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        toggle: this.props.toggle,\n        isOpen: this.props.isOpen,\n        direction: this.props.direction === 'down' && this.props.dropup ? 'up' : this.props.direction,\n        inNavbar: this.props.inNavbar\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.handleProps();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.isOpen !== prevProps.isOpen) {\n        this.handleProps();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeEvents();\n    }\n  }, {\n    key: 'getContainer',\n    value: function getContainer() {\n      return ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: 'addEvents',\n    value: function addEvents() {\n      var _this2 = this;\n\n      ['click', 'touchstart', 'keyup'].forEach(function (event) {\n        return document.addEventListener(event, _this2.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'removeEvents',\n    value: function removeEvents() {\n      var _this3 = this;\n\n      ['click', 'touchstart', 'keyup'].forEach(function (event) {\n        return document.removeEventListener(event, _this3.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(e) {\n      if (e && (e.which === 3 || e.type === 'keyup' && e.which !== keyCodes.tab)) return;\n      var container = this.getContainer();\n\n      if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === keyCodes.tab)) {\n        return;\n      }\n\n      this.toggle(e);\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      if ([keyCodes.esc, keyCodes.up, keyCodes.down, keyCodes.space].indexOf(e.which) === -1 || /button/i.test(e.target.tagName) && e.which === keyCodes.space || /input|textarea/i.test(e.target.tagName)) {\n        return;\n      }\n\n      e.preventDefault();\n      if (this.props.disabled) return;\n      var container = this.getContainer();\n\n      if (e.which === keyCodes.space && this.props.isOpen && container !== e.target) {\n        e.target.click();\n      }\n\n      if (e.which === keyCodes.esc || !this.props.isOpen) {\n        this.toggle(e);\n        container.querySelector('[aria-expanded]').focus();\n        return;\n      }\n\n      var menuClass = mapToCssModules('dropdown-menu', this.props.cssModule);\n      var itemClass = mapToCssModules('dropdown-item', this.props.cssModule);\n      var disabledClass = mapToCssModules('disabled', this.props.cssModule);\n      var items = container.querySelectorAll('.' + menuClass + ' .' + itemClass + ':not(.' + disabledClass + ')');\n      if (!items.length) return;\n      var index = -1;\n\n      for (var i = 0; i < items.length; i += 1) {\n        if (items[i] === e.target) {\n          index = i;\n          break;\n        }\n      }\n\n      if (e.which === keyCodes.up && index > 0) {\n        index -= 1;\n      }\n\n      if (e.which === keyCodes.down && index < items.length - 1) {\n        index += 1;\n      }\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      items[index].focus();\n    }\n  }, {\n    key: 'handleProps',\n    value: function handleProps() {\n      if (this.props.isOpen) {\n        this.addEvents();\n      } else {\n        this.removeEvents();\n      }\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(e) {\n      if (this.props.disabled) {\n        return e && e.preventDefault();\n      }\n\n      return this.props.toggle(e);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _omit = omit(this.props, ['toggle', 'disabled', 'inNavbar', 'direction']),\n          className = _omit.className,\n          cssModule = _omit.cssModule,\n          dropup = _omit.dropup,\n          isOpen = _omit.isOpen,\n          group = _omit.group,\n          size = _omit.size,\n          nav = _omit.nav,\n          active = _omit.active,\n          addonType = _omit.addonType,\n          attrs = objectWithoutProperties(_omit, ['className', 'cssModule', 'dropup', 'isOpen', 'group', 'size', 'nav', 'active', 'addonType']);\n\n      var direction = this.props.direction === 'down' && dropup ? 'up' : this.props.direction;\n      attrs.tag = attrs.tag || (nav ? 'li' : 'div');\n      var classes = mapToCssModules(classNames(className, direction !== 'down' && 'drop' + direction, nav && active ? 'active' : false, (_classNames = {}, defineProperty(_classNames, 'input-group-' + addonType, addonType), defineProperty(_classNames, 'btn-group', group), defineProperty(_classNames, 'btn-group-' + size, !!size), defineProperty(_classNames, 'dropdown', !group && !addonType), defineProperty(_classNames, 'show', isOpen), defineProperty(_classNames, 'nav-item', nav), _classNames)), cssModule);\n      return React.createElement(Manager, _extends({}, attrs, {\n        className: classes,\n        onKeyDown: this.handleKeyDown\n      }));\n    }\n  }]);\n  return Dropdown;\n}(React.Component);\n\nDropdown.propTypes = propTypes$8;\nDropdown.defaultProps = defaultProps$8;\nDropdown.childContextTypes = childContextTypes;\n\nfunction NavDropdown(props) {\n  warnOnce('The \"NavDropdown\" component has been deprecated.\\nPlease use component \"Dropdown\" with nav prop.');\n  return React.createElement(Dropdown, _extends({\n    nav: true\n  }, props));\n}\n\nvar propTypes$9 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  disabled: PropTypes.bool,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  onClick: PropTypes.func,\n  href: PropTypes.any\n};\nvar defaultProps$9 = {\n  tag: 'a'\n};\n\nvar NavLink = function (_React$Component) {\n  inherits(NavLink, _React$Component);\n\n  function NavLink(props) {\n    classCallCheck(this, NavLink);\n\n    var _this = possibleConstructorReturn(this, (NavLink.__proto__ || Object.getPrototypeOf(NavLink)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  createClass(NavLink, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.href === '#') {\n        e.preventDefault();\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          active = _props.active,\n          Tag = _props.tag,\n          innerRef = _props.innerRef,\n          attributes = objectWithoutProperties(_props, ['className', 'cssModule', 'active', 'tag', 'innerRef']);\n      var classes = mapToCssModules(classNames(className, 'nav-link', {\n        disabled: attributes.disabled,\n        active: active\n      }), cssModule);\n      return React.createElement(Tag, _extends({}, attributes, {\n        ref: innerRef,\n        onClick: this.onClick,\n        className: classes\n      }));\n    }\n  }]);\n  return NavLink;\n}(React.Component);\n\nNavLink.propTypes = propTypes$9;\nNavLink.defaultProps = defaultProps$9;\nvar propTypes$10 = {\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$10 = {\n  tag: 'ol'\n};\n\nvar Breadcrumb = function Breadcrumb(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'breadcrumb'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nBreadcrumb.propTypes = propTypes$10;\nBreadcrumb.defaultProps = defaultProps$10;\nvar propTypes$11 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$11 = {\n  tag: 'li'\n};\n\nvar BreadcrumbItem = function BreadcrumbItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      active = props.active,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'active', 'tag']);\n  var classes = mapToCssModules(classNames(className, active ? 'active' : false, 'breadcrumb-item'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nBreadcrumbItem.propTypes = propTypes$11;\nBreadcrumbItem.defaultProps = defaultProps$11;\nvar propTypes$12 = {\n  active: PropTypes.bool,\n  block: PropTypes.bool,\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  outline: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  onClick: PropTypes.func,\n  size: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$12 = {\n  color: 'secondary',\n  tag: 'button'\n};\n\nvar Button = function (_React$Component) {\n  inherits(Button, _React$Component);\n\n  function Button(props) {\n    classCallCheck(this, Button);\n\n    var _this = possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  createClass(Button, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          active = _props.active,\n          block = _props.block,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          color = _props.color,\n          outline = _props.outline,\n          size = _props.size,\n          Tag = _props.tag,\n          innerRef = _props.innerRef,\n          attributes = objectWithoutProperties(_props, ['active', 'block', 'className', 'cssModule', 'color', 'outline', 'size', 'tag', 'innerRef']);\n      var classes = mapToCssModules(classNames(className, 'btn', 'btn' + (outline ? '-outline' : '') + '-' + color, size ? 'btn-' + size : false, block ? 'btn-block' : false, {\n        active: active,\n        disabled: this.props.disabled\n      }), cssModule);\n\n      if (attributes.href && Tag === 'button') {\n        Tag = 'a';\n      }\n\n      return React.createElement(Tag, _extends({\n        type: Tag === 'button' && attributes.onClick ? 'button' : undefined\n      }, attributes, {\n        className: classes,\n        ref: innerRef,\n        onClick: this.onClick\n      }));\n    }\n  }]);\n  return Button;\n}(React.Component);\n\nButton.propTypes = propTypes$12;\nButton.defaultProps = defaultProps$12;\nvar propTypes$13 = {\n  children: PropTypes.node\n};\n\nvar ButtonDropdown = function ButtonDropdown(props) {\n  return React.createElement(Dropdown, _extends({\n    group: true\n  }, props));\n};\n\nButtonDropdown.propTypes = propTypes$13;\nvar propTypes$14 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  'aria-label': PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  role: PropTypes.string,\n  size: PropTypes.string,\n  vertical: PropTypes.bool\n};\nvar defaultProps$13 = {\n  tag: 'div',\n  role: 'group'\n};\n\nvar ButtonGroup = function ButtonGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      vertical = props.vertical,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'size', 'vertical', 'tag']);\n  var classes = mapToCssModules(classNames(className, size ? 'btn-group-' + size : false, vertical ? 'btn-group-vertical' : 'btn-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nButtonGroup.propTypes = propTypes$14;\nButtonGroup.defaultProps = defaultProps$13;\nvar propTypes$15 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  'aria-label': PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  role: PropTypes.string\n};\nvar defaultProps$14 = {\n  tag: 'div',\n  role: 'toolbar'\n};\n\nvar ButtonToolbar = function ButtonToolbar(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'btn-toolbar'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nButtonToolbar.propTypes = propTypes$15;\nButtonToolbar.defaultProps = defaultProps$14;\nvar propTypes$16 = {\n  children: PropTypes.node,\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  divider: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  header: PropTypes.bool,\n  onClick: PropTypes.func,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.bool\n};\nvar contextTypes = {\n  toggle: PropTypes.func\n};\nvar defaultProps$15 = {\n  tag: 'button',\n  toggle: true\n};\n\nvar DropdownItem = function (_React$Component) {\n  inherits(DropdownItem, _React$Component);\n\n  function DropdownItem(props) {\n    classCallCheck(this, DropdownItem);\n\n    var _this = possibleConstructorReturn(this, (DropdownItem.__proto__ || Object.getPrototypeOf(DropdownItem)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    _this.getTabIndex = _this.getTabIndex.bind(_this);\n    return _this;\n  }\n\n  createClass(DropdownItem, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled || this.props.header || this.props.divider) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n\n      if (this.props.toggle) {\n        this.context.toggle(e);\n      }\n    }\n  }, {\n    key: 'getTabIndex',\n    value: function getTabIndex() {\n      if (this.props.disabled || this.props.header || this.props.divider) {\n        return '-1';\n      }\n\n      return '0';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var tabIndex = this.getTabIndex();\n\n      var _omit = omit(this.props, ['toggle']),\n          className = _omit.className,\n          cssModule = _omit.cssModule,\n          divider = _omit.divider,\n          Tag = _omit.tag,\n          header = _omit.header,\n          active = _omit.active,\n          props = objectWithoutProperties(_omit, ['className', 'cssModule', 'divider', 'tag', 'header', 'active']);\n\n      var classes = mapToCssModules(classNames(className, {\n        disabled: props.disabled,\n        'dropdown-item': !divider && !header,\n        active: active,\n        'dropdown-header': header,\n        'dropdown-divider': divider\n      }), cssModule);\n\n      if (Tag === 'button') {\n        if (header) {\n          Tag = 'h6';\n        } else if (divider) {\n          Tag = 'div';\n        } else if (props.href) {\n          Tag = 'a';\n        }\n      }\n\n      return React.createElement(Tag, _extends({\n        type: Tag === 'button' && (props.onClick || this.props.toggle) ? 'button' : undefined\n      }, props, {\n        tabIndex: tabIndex,\n        className: classes,\n        onClick: this.onClick\n      }));\n    }\n  }]);\n  return DropdownItem;\n}(React.Component);\n\nDropdownItem.propTypes = propTypes$16;\nDropdownItem.defaultProps = defaultProps$15;\nDropdownItem.contextTypes = contextTypes;\nvar propTypes$17 = {\n  tag: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  right: PropTypes.bool,\n  flip: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$16 = {\n  tag: 'div',\n  flip: true\n};\nvar contextTypes$1 = {\n  isOpen: PropTypes.bool.isRequired,\n  direction: PropTypes.oneOf(['up', 'down', 'left', 'right']).isRequired,\n  inNavbar: PropTypes.bool.isRequired\n};\nvar noFlipModifier = {\n  flip: {\n    enabled: false\n  }\n};\nvar directionPositionMap = {\n  up: 'top',\n  left: 'left',\n  right: 'right',\n  down: 'bottom'\n};\n\nvar DropdownMenu = function DropdownMenu(props, context) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      right = props.right,\n      tag = props.tag,\n      flip = props.flip,\n      attrs = objectWithoutProperties(props, ['className', 'cssModule', 'right', 'tag', 'flip']);\n  var classes = mapToCssModules(classNames(className, 'dropdown-menu', {\n    'dropdown-menu-right': right,\n    show: context.isOpen\n  }), cssModule);\n  var Tag = tag;\n\n  if (context.isOpen && !context.inNavbar) {\n    Tag = Popper;\n    var position1 = directionPositionMap[context.direction] || 'bottom';\n    var position2 = right ? 'end' : 'start';\n    attrs.placement = position1 + '-' + position2;\n    attrs.component = tag;\n    attrs.modifiers = !flip ? noFlipModifier : undefined;\n  }\n\n  return React.createElement(Tag, _extends({\n    tabIndex: '-1',\n    role: 'menu'\n  }, attrs, {\n    'aria-hidden': !context.isOpen,\n    className: classes\n  }));\n};\n\nDropdownMenu.propTypes = propTypes$17;\nDropdownMenu.defaultProps = defaultProps$16;\nDropdownMenu.contextTypes = contextTypes$1;\nvar propTypes$18 = {\n  caret: PropTypes.bool,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  'aria-haspopup': PropTypes.bool,\n  split: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  nav: PropTypes.bool\n};\nvar defaultProps$17 = {\n  'aria-haspopup': true,\n  color: 'secondary'\n};\nvar contextTypes$2 = {\n  isOpen: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n  inNavbar: PropTypes.bool.isRequired\n};\n\nvar DropdownToggle = function (_React$Component) {\n  inherits(DropdownToggle, _React$Component);\n\n  function DropdownToggle(props) {\n    classCallCheck(this, DropdownToggle);\n\n    var _this = possibleConstructorReturn(this, (DropdownToggle.__proto__ || Object.getPrototypeOf(DropdownToggle)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  createClass(DropdownToggle, [{\n    key: 'onClick',\n    value: function onClick(e) {\n      if (this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.props.nav && !this.props.tag) {\n        e.preventDefault();\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n\n      this.context.toggle(e);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          color = _props.color,\n          cssModule = _props.cssModule,\n          caret = _props.caret,\n          split = _props.split,\n          nav = _props.nav,\n          tag = _props.tag,\n          props = objectWithoutProperties(_props, ['className', 'color', 'cssModule', 'caret', 'split', 'nav', 'tag']);\n      var ariaLabel = props['aria-label'] || 'Toggle Dropdown';\n      var classes = mapToCssModules(classNames(className, {\n        'dropdown-toggle': caret || split,\n        'dropdown-toggle-split': split,\n        'nav-link': nav\n      }), cssModule);\n      var children = props.children || React.createElement('span', {\n        className: 'sr-only'\n      }, ariaLabel);\n      var Tag = void 0;\n\n      if (nav && !tag) {\n        Tag = 'a';\n        props.href = '#';\n      } else if (!tag) {\n        Tag = Button;\n        props.color = color;\n        props.cssModule = cssModule;\n      } else {\n        Tag = tag;\n      }\n\n      if (this.context.inNavbar) {\n        return React.createElement(Tag, _extends({}, props, {\n          className: classes,\n          onClick: this.onClick,\n          'aria-expanded': this.context.isOpen,\n          children: children\n        }));\n      }\n\n      return React.createElement(Target, _extends({}, props, {\n        className: classes,\n        component: Tag,\n        onClick: this.onClick,\n        'aria-expanded': this.context.isOpen,\n        children: children\n      }));\n    }\n  }]);\n  return DropdownToggle;\n}(React.Component);\n\nDropdownToggle.propTypes = propTypes$18;\nDropdownToggle.defaultProps = defaultProps$17;\nDropdownToggle.contextTypes = contextTypes$2;\n\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar PropTypes$1 = createCommonjsModule(function (module, exports) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.classNamesShape = exports.timeoutsShape = undefined;\n  exports.transitionTimeout = transitionTimeout;\n\n  var _propTypes2 = _interopRequireDefault(PropTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function transitionTimeout(transitionType) {\n    var timeoutPropName = 'transition' + transitionType + 'Timeout';\n    var enabledPropName = 'transition' + transitionType;\n    return function (props) {\n      // If the transition is enabled\n      if (props[enabledPropName]) {\n        // If no timeout duration is provided\n        if (props[timeoutPropName] == null) {\n          return new Error(timeoutPropName + ' wasn\\'t supplied to CSSTransitionGroup: ' + 'this can cause unreliable animations and won\\'t be supported in ' + 'a future version of React. See ' + 'https://fb.me/react-animation-transition-group-timeout for more ' + 'information.'); // If the duration isn't a number\n        } else if (typeof props[timeoutPropName] !== 'number') {\n          return new Error(timeoutPropName + ' must be a number (in milliseconds)');\n        }\n      }\n\n      return null;\n    };\n  }\n\n  var timeoutsShape = exports.timeoutsShape = _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.shape({\n    enter: _propTypes2.default.number,\n    exit: _propTypes2.default.number\n  }).isRequired]);\n\n  var classNamesShape = exports.classNamesShape = _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    enter: _propTypes2.default.string,\n    exit: _propTypes2.default.string,\n    active: _propTypes2.default.string\n  }), _propTypes2.default.shape({\n    enter: _propTypes2.default.string,\n    enterActive: _propTypes2.default.string,\n    exit: _propTypes2.default.string,\n    exitActive: _propTypes2.default.string\n  })]);\n});\nunwrapExports(PropTypes$1);\nvar Transition_1 = createCommonjsModule(function (module, exports) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.EXITING = exports.ENTERED = exports.ENTERING = exports.EXITED = exports.UNMOUNTED = undefined;\n\n  var PropTypes$$1 = _interopRequireWildcard(PropTypes);\n\n  var _react2 = _interopRequireDefault(React);\n\n  var _reactDom2 = _interopRequireDefault(ReactDOM);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var UNMOUNTED = exports.UNMOUNTED = 'unmounted';\n  var EXITED = exports.EXITED = 'exited';\n  var ENTERING = exports.ENTERING = 'entering';\n  var ENTERED = exports.ENTERED = 'entered';\n  var EXITING = exports.EXITING = 'exiting';\n  /**\n   * The Transition component lets you describe a transition from one component\n   * state to another _over time_ with a simple declarative API. Most commonly\n   * it's used to animate the mounting and unmounting of a component, but can also\n   * be used to describe in-place transition states as well.\n   *\n   * By default the `Transition` component does not alter the behavior of the\n   * component it renders, it only tracks \"enter\" and \"exit\" states for the components.\n   * It's up to you to give meaning and effect to those states. For example we can\n   * add styles to a component when it enters or exits:\n   *\n   * ```jsx\n   * import Transition from 'react-transition-group/Transition';\n   *\n   * const duration = 300;\n   *\n   * const defaultStyle = {\n   *   transition: `opacity ${duration}ms ease-in-out`,\n   *   opacity: 0,\n   * }\n   *\n   * const transitionStyles = {\n   *   entering: { opacity: 0 },\n   *   entered:  { opacity: 1 },\n   * };\n   *\n   * const Fade = ({ in: inProp }) => (\n   *   <Transition in={inProp} timeout={duration}>\n   *     {(state) => (\n   *       <div style={{\n   *         ...defaultStyle,\n   *         ...transitionStyles[state]\n   *       }}>\n   *         I'm A fade Transition!\n   *       </div>\n   *     )}\n   *   </Transition>\n   * );\n   * ```\n   *\n   * As noted the `Transition` component doesn't _do_ anything by itself to its child component.\n   * What it does do is track transition states over time so you can update the\n   * component (such as by adding styles or classes) when it changes states.\n   *\n   * There are 4 main states a Transition can be in:\n   *  - `ENTERING`\n   *  - `ENTERED`\n   *  - `EXITING`\n   *  - `EXITED`\n   *\n   * Transition state is toggled via the `in` prop. When `true` the component begins the\n   * \"Enter\" stage. During this stage, the component will shift from its current transition state,\n   * to `'entering'` for the duration of the transition and then to the `'entered'` stage once\n   * it's complete. Let's take the following example:\n   *\n   * ```jsx\n   * state= { in: false };\n   *\n   * toggleEnterState = () => {\n   *   this.setState({ in: true });\n   * }\n   *\n   * render() {\n   *   return (\n   *     <div>\n   *       <Transition in={this.state.in} timeout={500} />\n   *       <button onClick={this.toggleEnterState}>Click to Enter</button>\n   *     </div>\n   *   );\n   * }\n   * ```\n   *\n   * When the button is clicked the component will shift to the `'entering'` state and\n   * stay there for 500ms (the value of `timeout`) when finally switches to `'entered'`.\n   *\n   * When `in` is `false` the same thing happens except the state moves from `'exiting'` to `'exited'`.\n   */\n\n  var Transition = function (_React$Component) {\n    _inherits(Transition, _React$Component);\n\n    function Transition(props, context) {\n      _classCallCheck(this, Transition);\n\n      var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n      var parentGroup = context.transitionGroup; // In the context of a TransitionGroup all enters are really appears\n\n      var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n      var initialStatus = void 0;\n      _this.nextStatus = null;\n\n      if (props.in) {\n        if (appear) {\n          initialStatus = EXITED;\n          _this.nextStatus = ENTERING;\n        } else {\n          initialStatus = ENTERED;\n        }\n      } else {\n        if (props.unmountOnExit || props.mountOnEnter) {\n          initialStatus = UNMOUNTED;\n        } else {\n          initialStatus = EXITED;\n        }\n      }\n\n      _this.state = {\n        status: initialStatus\n      };\n      _this.nextCallback = null;\n      return _this;\n    }\n\n    Transition.prototype.getChildContext = function getChildContext() {\n      return {\n        transitionGroup: null\n      }; // allows for nested Transitions\n    };\n\n    Transition.prototype.componentDidMount = function componentDidMount() {\n      this.updateStatus(true);\n    };\n\n    Transition.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var _ref = this.pendingState || this.state,\n          status = _ref.status;\n\n      if (nextProps.in) {\n        if (status === UNMOUNTED) {\n          this.setState({\n            status: EXITED\n          });\n        }\n\n        if (status !== ENTERING && status !== ENTERED) {\n          this.nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          this.nextStatus = EXITING;\n        }\n      }\n    };\n\n    Transition.prototype.componentDidUpdate = function componentDidUpdate() {\n      this.updateStatus();\n    };\n\n    Transition.prototype.componentWillUnmount = function componentWillUnmount() {\n      this.cancelNextCallback();\n    };\n\n    Transition.prototype.getTimeouts = function getTimeouts() {\n      var timeout = this.props.timeout;\n      var exit = void 0,\n          enter = void 0,\n          appear = void 0;\n      exit = enter = appear = timeout;\n\n      if (timeout != null && typeof timeout !== 'number') {\n        exit = timeout.exit;\n        enter = timeout.enter;\n        appear = timeout.appear;\n      }\n\n      return {\n        exit: exit,\n        enter: enter,\n        appear: appear\n      };\n    };\n\n    Transition.prototype.updateStatus = function updateStatus() {\n      var mounting = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var nextStatus = this.nextStatus;\n\n      if (nextStatus !== null) {\n        this.nextStatus = null; // nextStatus will always be ENTERING or EXITING.\n\n        this.cancelNextCallback();\n\n        var node = _reactDom2.default.findDOMNode(this);\n\n        if (nextStatus === ENTERING) {\n          this.performEnter(node, mounting);\n        } else {\n          this.performExit(node);\n        }\n      } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n        this.setState({\n          status: UNMOUNTED\n        });\n      }\n    };\n\n    Transition.prototype.performEnter = function performEnter(node, mounting) {\n      var _this2 = this;\n\n      var enter = this.props.enter;\n      var appearing = this.context.transitionGroup ? this.context.transitionGroup.isMounting : mounting;\n      var timeouts = this.getTimeouts(); // no enter animation skip right to ENTERED\n      // if we are mounting and running this it means appear _must_ be set\n\n      if (!mounting && !enter) {\n        this.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node);\n        });\n        return;\n      }\n\n      this.props.onEnter(node, appearing);\n      this.safeSetState({\n        status: ENTERING\n      }, function () {\n        _this2.props.onEntering(node, appearing); // FIXME: appear timeout?\n\n\n        _this2.onTransitionEnd(node, timeouts.enter, function () {\n          _this2.safeSetState({\n            status: ENTERED\n          }, function () {\n            _this2.props.onEntered(node, appearing);\n          });\n        });\n      });\n    };\n\n    Transition.prototype.performExit = function performExit(node) {\n      var _this3 = this;\n\n      var exit = this.props.exit;\n      var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n      if (!exit) {\n        this.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n        return;\n      }\n\n      this.props.onExit(node);\n      this.safeSetState({\n        status: EXITING\n      }, function () {\n        _this3.props.onExiting(node);\n\n        _this3.onTransitionEnd(node, timeouts.exit, function () {\n          _this3.safeSetState({\n            status: EXITED\n          }, function () {\n            _this3.props.onExited(node);\n          });\n        });\n      });\n    };\n\n    Transition.prototype.cancelNextCallback = function cancelNextCallback() {\n      if (this.nextCallback !== null) {\n        this.nextCallback.cancel();\n        this.nextCallback = null;\n      }\n    };\n\n    Transition.prototype.safeSetState = function safeSetState(nextState, callback) {\n      var _this4 = this; // We need to track pending updates for instances where a cWRP fires quickly\n      // after cDM and before the state flushes, which would double trigger a\n      // transition\n\n\n      this.pendingState = nextState; // This shouldn't be necessary, but there are weird race conditions with\n      // setState callbacks and unmounting in testing, so always make sure that\n      // we can cancel any pending setState callbacks after we unmount.\n\n      callback = this.setNextCallback(callback);\n      this.setState(nextState, function () {\n        _this4.pendingState = null;\n        callback();\n      });\n    };\n\n    Transition.prototype.setNextCallback = function setNextCallback(callback) {\n      var _this5 = this;\n\n      var active = true;\n\n      this.nextCallback = function (event) {\n        if (active) {\n          active = false;\n          _this5.nextCallback = null;\n          callback(event);\n        }\n      };\n\n      this.nextCallback.cancel = function () {\n        active = false;\n      };\n\n      return this.nextCallback;\n    };\n\n    Transition.prototype.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n      this.setNextCallback(handler);\n\n      if (node) {\n        if (this.props.addEndListener) {\n          this.props.addEndListener(node, this.nextCallback);\n        }\n\n        if (timeout != null) {\n          setTimeout(this.nextCallback, timeout);\n        }\n      } else {\n        setTimeout(this.nextCallback, 0);\n      }\n    };\n\n    Transition.prototype.render = function render() {\n      var status = this.state.status;\n\n      if (status === UNMOUNTED) {\n        return null;\n      }\n\n      var _props = this.props,\n          children = _props.children,\n          childProps = _objectWithoutProperties(_props, ['children']); // filter props for Transtition\n\n\n      delete childProps.in;\n      delete childProps.mountOnEnter;\n      delete childProps.unmountOnExit;\n      delete childProps.appear;\n      delete childProps.enter;\n      delete childProps.exit;\n      delete childProps.timeout;\n      delete childProps.addEndListener;\n      delete childProps.onEnter;\n      delete childProps.onEntering;\n      delete childProps.onEntered;\n      delete childProps.onExit;\n      delete childProps.onExiting;\n      delete childProps.onExited;\n\n      if (typeof children === 'function') {\n        return children(status, childProps);\n      }\n\n      var child = _react2.default.Children.only(children);\n\n      return _react2.default.cloneElement(child, childProps);\n    };\n\n    return Transition;\n  }(_react2.default.Component);\n\n  Transition.contextTypes = {\n    transitionGroup: PropTypes$$1.object\n  };\n  Transition.childContextTypes = {\n    transitionGroup: function transitionGroup() {}\n  };\n  Transition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    /**\n     * A `function` child can be used instead of a React element.\n     * This function is called with the current transition status\n     * ('entering', 'entered', 'exiting', 'exited', 'unmounted'), which can used\n     * to apply context specific props to a component.\n     *\n     * ```jsx\n     * <Transition timeout={150}>\n     *   {(status) => (\n     *     <MyComponent className={`fade fade-${status}`} />\n     *   )}\n     * </Transition>\n     * ```\n     */\n    children: PropTypes$$1.oneOfType([PropTypes$$1.func.isRequired, PropTypes$$1.element.isRequired]).isRequired,\n\n    /**\n     * Show the component; triggers the enter or exit states\n     */\n    in: PropTypes$$1.bool,\n\n    /**\n     * By default the child component is mounted immediately along with\n     * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n     * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n     * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n     */\n    mountOnEnter: PropTypes$$1.bool,\n\n    /**\n     * By default the child component stays mounted after it reaches the `'exited'` state.\n     * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n     */\n    unmountOnExit: PropTypes$$1.bool,\n\n    /**\n     * Normally a component is not transitioned if it is shown when the `<Transition>` component mounts.\n     * If you want to transition on the first mount set `appear` to `true`, and the\n     * component will transition in as soon as the `<Transition>` mounts.\n     *\n     * > Note: there are no specific \"appear\" states. `appear` only adds an additional `enter` transition.\n     */\n    appear: PropTypes$$1.bool,\n\n    /**\n     * Enable or disable enter transitions.\n     */\n    enter: PropTypes$$1.bool,\n\n    /**\n     * Enable or disable exit transitions.\n     */\n    exit: PropTypes$$1.bool,\n\n    /**\n     * The duration of the transition, in milliseconds.\n     * Required unless `addEventListener` is provided\n     *\n     * You may specify a single timeout for all transitions like: `timeout={500}`,\n     * or individually like:\n     *\n     * ```jsx\n     * timeout={{\n     *  enter: 300,\n     *  exit: 500,\n     * }}\n     * ```\n     *\n     * @type {number | { enter?: number, exit?: number }}\n     */\n    timeout: function timeout(props) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var pt = PropTypes$1.timeoutsShape;\n      if (!props.addEndListener) pt = pt.isRequired;\n      return pt.apply(undefined, [props].concat(args));\n    },\n\n    /**\n     * Add a custom transition end trigger. Called with the transitioning\n     * DOM node and a `done` callback. Allows for more fine grained transition end\n     * logic. **Note:** Timeouts are still used as a fallback if provided.\n     *\n     * ```jsx\n     * addEndListener={(node, done) => {\n     *   // use the css transitionend event to mark the finish of a transition\n     *   node.addEventListener('transitionend', done, false);\n     * }}\n     * ```\n     */\n    addEndListener: PropTypes$$1.func,\n\n    /**\n     * Callback fired before the \"entering\" status is applied. An extra parameter\n     * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n     *\n     * @type Function(node: HtmlElement, isAppearing: bool) -> void\n     */\n    onEnter: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"entering\" status is applied. An extra parameter\n     * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n     *\n     * @type Function(node: HtmlElement, isAppearing: bool)\n     */\n    onEntering: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"entered\" status is applied. An extra parameter\n     * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n     *\n     * @type Function(node: HtmlElement, isAppearing: bool) -> void\n     */\n    onEntered: PropTypes$$1.func,\n\n    /**\n     * Callback fired before the \"exiting\" status is applied.\n     *\n     * @type Function(node: HtmlElement) -> void\n     */\n    onExit: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"exiting\" status is applied.\n     *\n     * @type Function(node: HtmlElement) -> void\n     */\n    onExiting: PropTypes$$1.func,\n\n    /**\n     * Callback fired after the \"exited\" status is applied.\n     *\n     * @type Function(node: HtmlElement) -> void\n     */\n    onExited: PropTypes$$1.func\n  } : {}; // Name the function so it is clearer in the documentation\n\n  function noop() {}\n\n  Transition.defaultProps = {\n    in: false,\n    mountOnEnter: false,\n    unmountOnExit: false,\n    appear: false,\n    enter: true,\n    exit: true,\n    onEnter: noop,\n    onEntering: noop,\n    onEntered: noop,\n    onExit: noop,\n    onExiting: noop,\n    onExited: noop\n  };\n  Transition.UNMOUNTED = 0;\n  Transition.EXITED = 1;\n  Transition.ENTERING = 2;\n  Transition.ENTERED = 3;\n  Transition.EXITING = 4;\n  exports.default = Transition;\n});\nvar Transition = unwrapExports(Transition_1);\n\nvar propTypes$19 = _extends({}, Transition.propTypes, {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  tag: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  baseClass: PropTypes.string,\n  baseClassActive: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n});\n\nvar defaultProps$18 = _extends({}, Transition.defaultProps, {\n  tag: 'div',\n  baseClass: 'fade',\n  baseClassActive: 'show',\n  timeout: TransitionTimeouts.Fade,\n  appear: true,\n  enter: true,\n  exit: true,\n  in: true\n});\n\nfunction Fade(props) {\n  var Tag = props.tag,\n      baseClass = props.baseClass,\n      baseClassActive = props.baseClassActive,\n      className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      otherProps = objectWithoutProperties(props, ['tag', 'baseClass', 'baseClassActive', 'className', 'cssModule', 'children']); // In NODE_ENV=production the Transition.propTypes are wrapped which results in an\n  // empty object \"{}\". This is the result of the `react-transition-group` babel\n  // configuration settings. Therefore, to ensure that production builds work without\n  // error, we can either explicitly define keys or use the Transition.defaultProps.\n  // Using the Transition.defaultProps excludes any required props. Thus, the best\n  // solution is to explicitly define required props in our utilities and reference these.\n  // This also gives us more flexibility in the future to remove the prop-types\n  // dependency in distribution builds (Similar to how `react-transition-group` does).\n  // Note: Without omitting the `react-transition-group` props, the resulting child\n  // Tag component would inherit the Transition properties as attributes for the HTML\n  // element which results in errors/warnings for non-valid attributes.\n\n  var transitionProps = pick(otherProps, TransitionPropTypeKeys);\n  var childProps = omit(otherProps, TransitionPropTypeKeys);\n  return React.createElement(Transition, transitionProps, function (status) {\n    var isActive = status === 'entered';\n    var classes = mapToCssModules(classNames(className, baseClass, isActive && baseClassActive), cssModule);\n    return React.createElement(Tag, _extends({\n      className: classes\n    }, childProps), children);\n  });\n}\n\nFade.propTypes = propTypes$19;\nFade.defaultProps = defaultProps$18;\nvar propTypes$20 = {\n  color: PropTypes.string,\n  pill: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$19 = {\n  color: 'secondary',\n  pill: false,\n  tag: 'span'\n};\n\nvar Badge = function Badge(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      pill = props.pill,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'color', 'pill', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'badge', 'badge-' + color, pill ? 'badge-pill' : false), cssModule);\n\n  if (attributes.href && Tag === 'span') {\n    Tag = 'a';\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nBadge.propTypes = propTypes$20;\nBadge.defaultProps = defaultProps$19;\nvar propTypes$21 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  block: deprecated(PropTypes.bool, 'Please use the props \"body\"'),\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$20 = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      block = props.block,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'color', 'block', 'body', 'inverse', 'outline', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, block || body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + '-' + color : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCard.propTypes = propTypes$21;\nCard.defaultProps = defaultProps$20;\nvar propTypes$22 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$21 = {\n  tag: 'div'\n};\n\nvar CardGroup = function CardGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardGroup.propTypes = propTypes$22;\nCardGroup.defaultProps = defaultProps$21;\nvar propTypes$23 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$22 = {\n  tag: 'div'\n};\n\nvar CardDeck = function CardDeck(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-deck'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardDeck.propTypes = propTypes$23;\nCardDeck.defaultProps = defaultProps$22;\nvar propTypes$24 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$23 = {\n  tag: 'div'\n};\n\nvar CardColumns = function CardColumns(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-columns'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardColumns.propTypes = propTypes$24;\nCardColumns.defaultProps = defaultProps$23;\nvar propTypes$25 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$24 = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardBody.propTypes = propTypes$25;\nCardBody.defaultProps = defaultProps$24;\n\nfunction CardBlock(props) {\n  warnOnce('The \"CardBlock\" component has been deprecated.\\nPlease use component \"CardBody\".');\n  return React.createElement(CardBody, props);\n}\n\nvar propTypes$26 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$25 = {\n  tag: 'a'\n};\n\nvar CardLink = function CardLink(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'innerRef']);\n  var classes = mapToCssModules(classNames(className, 'card-link'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n};\n\nCardLink.propTypes = propTypes$26;\nCardLink.defaultProps = defaultProps$25;\nvar propTypes$27 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$26 = {\n  tag: 'div'\n};\n\nvar CardFooter = function CardFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardFooter.propTypes = propTypes$27;\nCardFooter.defaultProps = defaultProps$26;\nvar propTypes$28 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$27 = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes$28;\nCardHeader.defaultProps = defaultProps$27;\nvar propTypes$29 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  top: PropTypes.bool,\n  bottom: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$28 = {\n  tag: 'img'\n};\n\nvar CardImg = function CardImg(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      top = props.top,\n      bottom = props.bottom,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'top', 'bottom', 'tag']);\n  var cardImgClassName = 'card-img';\n\n  if (top) {\n    cardImgClassName = 'card-img-top';\n  }\n\n  if (bottom) {\n    cardImgClassName = 'card-img-bottom';\n  }\n\n  var classes = mapToCssModules(classNames(className, cardImgClassName), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardImg.propTypes = propTypes$29;\nCardImg.defaultProps = defaultProps$28;\nvar propTypes$30 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$29 = {\n  tag: 'div'\n};\n\nvar CardImgOverlay = function CardImgOverlay(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-img-overlay'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardImgOverlay.propTypes = propTypes$30;\nCardImgOverlay.defaultProps = defaultProps$29;\n\nvar CarouselItem = function (_React$Component) {\n  inherits(CarouselItem, _React$Component);\n\n  function CarouselItem(props) {\n    classCallCheck(this, CarouselItem);\n\n    var _this = possibleConstructorReturn(this, (CarouselItem.__proto__ || Object.getPrototypeOf(CarouselItem)).call(this, props));\n\n    _this.state = {\n      startAnimation: false\n    };\n    _this.onEnter = _this.onEnter.bind(_this);\n    _this.onEntering = _this.onEntering.bind(_this);\n    _this.onExit = _this.onExit.bind(_this);\n    _this.onExiting = _this.onExiting.bind(_this);\n    _this.onExited = _this.onExited.bind(_this);\n    return _this;\n  }\n\n  createClass(CarouselItem, [{\n    key: 'onEnter',\n    value: function onEnter(node, isAppearing) {\n      this.setState({\n        startAnimation: false\n      });\n      this.props.onEnter(node, isAppearing);\n    }\n  }, {\n    key: 'onEntering',\n    value: function onEntering(node, isAppearing) {\n      // getting this variable triggers a reflow\n      var offsetHeight = node.offsetHeight;\n      this.setState({\n        startAnimation: true\n      });\n      this.props.onEntering(node, isAppearing);\n      return offsetHeight;\n    }\n  }, {\n    key: 'onExit',\n    value: function onExit(node) {\n      this.setState({\n        startAnimation: false\n      });\n      this.props.onExit(node);\n    }\n  }, {\n    key: 'onExiting',\n    value: function onExiting(node) {\n      this.setState({\n        startAnimation: true\n      });\n      node.dispatchEvent(new CustomEvent('slide.bs.carousel'));\n      this.props.onExiting(node);\n    }\n  }, {\n    key: 'onExited',\n    value: function onExited(node) {\n      node.dispatchEvent(new CustomEvent('slid.bs.carousel'));\n      this.props.onExited(node);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          isIn = _props.in,\n          children = _props.children,\n          cssModule = _props.cssModule,\n          slide = _props.slide,\n          Tag = _props.tag,\n          className = _props.className,\n          transitionProps = objectWithoutProperties(_props, ['in', 'children', 'cssModule', 'slide', 'tag', 'className']);\n      return React.createElement(Transition, _extends({}, transitionProps, {\n        enter: slide,\n        exit: slide,\n        'in': isIn,\n        onEnter: this.onEnter,\n        onEntering: this.onEntering,\n        onExit: this.onExit,\n        onExiting: this.onExiting,\n        onExited: this.onExited\n      }), function (status) {\n        var direction = _this2.context.direction;\n        var isActive = status === TransitionStatuses.ENTERED || status === TransitionStatuses.EXITING;\n        var directionClassName = (status === TransitionStatuses.ENTERING || status === TransitionStatuses.EXITING) && _this2.state.startAnimation && (direction === 'right' ? 'carousel-item-left' : 'carousel-item-right');\n        var orderClassName = status === TransitionStatuses.ENTERING && (direction === 'right' ? 'carousel-item-next' : 'carousel-item-prev');\n        var itemClasses = mapToCssModules(classNames(className, 'carousel-item', isActive && 'active', directionClassName, orderClassName), cssModule);\n        return React.createElement(Tag, {\n          className: itemClasses\n        }, children);\n      });\n    }\n  }]);\n  return CarouselItem;\n}(React.Component);\n\nCarouselItem.propTypes = _extends({}, Transition.propTypes, {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  in: PropTypes.bool,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  slide: PropTypes.bool,\n  className: PropTypes.string\n});\nCarouselItem.defaultProps = _extends({}, Transition.defaultProps, {\n  tag: 'div',\n  timeout: TransitionTimeouts.Carousel,\n  slide: true\n});\nCarouselItem.contextTypes = {\n  direction: PropTypes.string\n};\n\nvar Carousel = function (_React$Component) {\n  inherits(Carousel, _React$Component);\n\n  function Carousel(props) {\n    classCallCheck(this, Carousel);\n\n    var _this = possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n    _this.handleKeyPress = _this.handleKeyPress.bind(_this);\n    _this.renderItems = _this.renderItems.bind(_this);\n    _this.hoverStart = _this.hoverStart.bind(_this);\n    _this.hoverEnd = _this.hoverEnd.bind(_this);\n    _this.state = {\n      direction: 'right',\n      indicatorClicked: false\n    };\n    return _this;\n  }\n\n  createClass(Carousel, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        direction: this.state.direction\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Set up the cycle\n      if (this.props.ride === 'carousel') {\n        this.setInterval();\n      } // TODO: move this to the specific carousel like bootstrap. Currently it will trigger ALL carousels on the page.\n\n\n      document.addEventListener('keyup', this.handleKeyPress);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setInterval(nextProps); // Calculate the direction to turn\n\n      if (this.props.activeIndex + 1 === nextProps.activeIndex) {\n        this.setState({\n          direction: 'right'\n        });\n      } else if (this.props.activeIndex - 1 === nextProps.activeIndex) {\n        this.setState({\n          direction: 'left'\n        });\n      } else if (this.props.activeIndex > nextProps.activeIndex) {\n        this.setState({\n          direction: this.state.indicatorClicked ? 'left' : 'right'\n        });\n      } else if (this.props.activeIndex !== nextProps.activeIndex) {\n        this.setState({\n          direction: this.state.indicatorClicked ? 'right' : 'left'\n        });\n      }\n\n      this.setState({\n        indicatorClicked: false\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.clearInterval();\n      document.removeEventListener('keyup', this.handleKeyPress);\n    }\n  }, {\n    key: 'setInterval',\n    value: function (_setInterval) {\n      function setInterval() {\n        return _setInterval.apply(this, arguments);\n      }\n\n      setInterval.toString = function () {\n        return _setInterval.toString();\n      };\n\n      return setInterval;\n    }(function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props; // make sure not to have multiple intervals going...\n\n      this.clearInterval();\n\n      if (props.interval) {\n        this.cycleInterval = setInterval(function () {\n          props.next();\n        }, parseInt(props.interval, 10));\n      }\n    })\n  }, {\n    key: 'clearInterval',\n    value: function (_clearInterval) {\n      function clearInterval() {\n        return _clearInterval.apply(this, arguments);\n      }\n\n      clearInterval.toString = function () {\n        return _clearInterval.toString();\n      };\n\n      return clearInterval;\n    }(function () {\n      clearInterval(this.cycleInterval);\n    })\n  }, {\n    key: 'hoverStart',\n    value: function hoverStart() {\n      if (this.props.pause === 'hover') {\n        this.clearInterval();\n      }\n\n      if (this.props.mouseEnter) {\n        var _props;\n\n        (_props = this.props).mouseEnter.apply(_props, arguments);\n      }\n    }\n  }, {\n    key: 'hoverEnd',\n    value: function hoverEnd() {\n      if (this.props.pause === 'hover') {\n        this.setInterval();\n      }\n\n      if (this.props.mouseLeave) {\n        var _props2;\n\n        (_props2 = this.props).mouseLeave.apply(_props2, arguments);\n      }\n    }\n  }, {\n    key: 'handleKeyPress',\n    value: function handleKeyPress(evt) {\n      if (this.props.keyboard) {\n        if (evt.keyCode === 37) {\n          this.props.previous();\n        } else if (evt.keyCode === 39) {\n          this.props.next();\n        }\n      }\n    }\n  }, {\n    key: 'renderItems',\n    value: function renderItems(carouselItems, className) {\n      var _this2 = this;\n\n      var slide = this.props.slide;\n      return React.createElement('div', {\n        role: 'listbox',\n        className: className\n      }, carouselItems.map(function (item, index) {\n        var isIn = index === _this2.props.activeIndex;\n        return React.cloneElement(item, {\n          in: isIn,\n          slide: slide\n        });\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props3 = this.props,\n          children = _props3.children,\n          cssModule = _props3.cssModule,\n          slide = _props3.slide,\n          className = _props3.className;\n      var outerClasses = mapToCssModules(classNames(className, 'carousel', slide && 'slide'), cssModule);\n      var innerClasses = mapToCssModules(classNames('carousel-inner'), cssModule);\n      var slidesOnly = children.every(function (child) {\n        return child.type === CarouselItem;\n      }); // Rendering only slides\n\n      if (slidesOnly) {\n        return React.createElement('div', {\n          className: outerClasses,\n          onMouseEnter: this.hoverStart,\n          onMouseLeave: this.hoverEnd\n        }, this.renderItems(children, innerClasses));\n      } // Rendering slides and controls\n\n\n      if (children[0] instanceof Array) {\n        var _carouselItems = children[0];\n        var _controlLeft = children[1];\n        var _controlRight = children[2];\n        return React.createElement('div', {\n          className: outerClasses,\n          onMouseEnter: this.hoverStart,\n          onMouseLeave: this.hoverEnd\n        }, this.renderItems(_carouselItems, innerClasses), _controlLeft, _controlRight);\n      } // Rendering indicators, slides and controls\n\n\n      var indicators = children[0];\n\n      var wrappedOnClick = function wrappedOnClick(e) {\n        if (typeof indicators.props.onClickHandler === 'function') {\n          _this3.setState({\n            indicatorClicked: true\n          }, function () {\n            return indicators.props.onClickHandler(e);\n          });\n        }\n      };\n\n      var wrappedIndicators = React.cloneElement(indicators, {\n        onClickHandler: wrappedOnClick\n      });\n      var carouselItems = children[1];\n      var controlLeft = children[2];\n      var controlRight = children[3];\n      return React.createElement('div', {\n        className: outerClasses,\n        onMouseEnter: this.hoverStart,\n        onMouseLeave: this.hoverEnd\n      }, wrappedIndicators, this.renderItems(carouselItems, innerClasses), controlLeft, controlRight);\n    }\n  }]);\n  return Carousel;\n}(React.Component);\n\nCarousel.propTypes = {\n  // the current active slide of the carousel\n  activeIndex: PropTypes.number,\n  // a function which should advance the carousel to the next slide (via activeIndex)\n  next: PropTypes.func.isRequired,\n  // a function which should advance the carousel to the previous slide (via activeIndex)\n  previous: PropTypes.func.isRequired,\n  // controls if the left and right arrow keys should control the carousel\n  keyboard: PropTypes.bool,\n\n  /* If set to \"hover\", pauses the cycling of the carousel on mouseenter and resumes the cycling of the carousel on\n   * mouseleave. If set to false, hovering over the carousel won't pause it. (default: \"hover\")\n   */\n  pause: PropTypes.oneOf(['hover', false]),\n  // Autoplays the carousel after the user manually cycles the first item. If \"carousel\", autoplays the carousel on load.\n  // This is how bootstrap defines it... I would prefer a bool named autoplay or something...\n  ride: PropTypes.oneOf(['carousel']),\n  // the interval at which the carousel automatically cycles (default: 5000)\n  // eslint-disable-next-line react/no-unused-prop-types\n  interval: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),\n  children: PropTypes.array,\n  // called when the mouse enters the Carousel\n  mouseEnter: PropTypes.func,\n  // called when the mouse exits the Carousel\n  mouseLeave: PropTypes.func,\n  // controls whether the slide animation on the Carousel works or not\n  slide: PropTypes.bool,\n  cssModule: PropTypes.object,\n  className: PropTypes.string\n};\nCarousel.defaultProps = {\n  interval: 5000,\n  pause: 'hover',\n  keyboard: true,\n  slide: true\n};\nCarousel.childContextTypes = {\n  direction: PropTypes.string\n};\n\nvar CarouselControl = function CarouselControl(props) {\n  var direction = props.direction,\n      onClickHandler = props.onClickHandler,\n      cssModule = props.cssModule,\n      directionText = props.directionText,\n      className = props.className;\n  var anchorClasses = mapToCssModules(classNames(className, 'carousel-control-' + direction), cssModule);\n  var iconClasses = mapToCssModules(classNames('carousel-control-' + direction + '-icon'), cssModule);\n  var screenReaderClasses = mapToCssModules(classNames('sr-only'), cssModule);\n  return React.createElement('a', {\n    className: anchorClasses,\n    role: 'button',\n    tabIndex: '0',\n    onClick: function onClick(e) {\n      e.preventDefault();\n      onClickHandler();\n    }\n  }, React.createElement('span', {\n    className: iconClasses,\n    'aria-hidden': 'true'\n  }), React.createElement('span', {\n    className: screenReaderClasses\n  }, directionText || direction));\n};\n\nCarouselControl.propTypes = {\n  direction: PropTypes.oneOf(['prev', 'next']).isRequired,\n  onClickHandler: PropTypes.func.isRequired,\n  cssModule: PropTypes.object,\n  directionText: PropTypes.string,\n  className: PropTypes.string\n};\n\nvar CarouselIndicators = function CarouselIndicators(props) {\n  var items = props.items,\n      activeIndex = props.activeIndex,\n      cssModule = props.cssModule,\n      onClickHandler = props.onClickHandler,\n      className = props.className;\n  var listClasses = mapToCssModules(classNames(className, 'carousel-indicators'), cssModule);\n  var indicators = items.map(function (item, idx) {\n    var indicatorClasses = mapToCssModules(classNames({\n      active: activeIndex === idx\n    }), cssModule);\n    return React.createElement('li', {\n      key: '' + (item.key || item.src) + item.caption + item.altText,\n      onClick: function onClick(e) {\n        e.preventDefault();\n        onClickHandler(idx);\n      },\n      className: indicatorClasses\n    });\n  });\n  return React.createElement('ol', {\n    className: listClasses\n  }, indicators);\n};\n\nCarouselIndicators.propTypes = {\n  items: PropTypes.array.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n  cssModule: PropTypes.object,\n  onClickHandler: PropTypes.func.isRequired,\n  className: PropTypes.string\n};\n\nvar CarouselCaption = function CarouselCaption(props) {\n  var captionHeader = props.captionHeader,\n      captionText = props.captionText,\n      cssModule = props.cssModule,\n      className = props.className;\n  var classes = mapToCssModules(classNames(className, 'carousel-caption', 'd-none', 'd-md-block'), cssModule);\n  return React.createElement('div', {\n    className: classes\n  }, React.createElement('h3', null, captionHeader), React.createElement('p', null, captionText));\n};\n\nCarouselCaption.propTypes = {\n  captionHeader: PropTypes.string,\n  captionText: PropTypes.string.isRequired,\n  cssModule: PropTypes.object,\n  className: PropTypes.string\n};\nvar propTypes$31 = {\n  items: PropTypes.array.isRequired,\n  indicators: PropTypes.bool,\n  controls: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  activeIndex: PropTypes.number,\n  next: PropTypes.func,\n  previous: PropTypes.func,\n  goToIndex: PropTypes.func\n};\n\nvar UncontrolledCarousel = function (_Component) {\n  inherits(UncontrolledCarousel, _Component);\n\n  function UncontrolledCarousel(props) {\n    classCallCheck(this, UncontrolledCarousel);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledCarousel.__proto__ || Object.getPrototypeOf(UncontrolledCarousel)).call(this, props));\n\n    _this.animating = false;\n    _this.state = {\n      activeIndex: 0\n    };\n    _this.next = _this.next.bind(_this);\n    _this.previous = _this.previous.bind(_this);\n    _this.goToIndex = _this.goToIndex.bind(_this);\n    _this.onExiting = _this.onExiting.bind(_this);\n    _this.onExited = _this.onExited.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledCarousel, [{\n    key: 'onExiting',\n    value: function onExiting() {\n      this.animating = true;\n    }\n  }, {\n    key: 'onExited',\n    value: function onExited() {\n      this.animating = false;\n    }\n  }, {\n    key: 'next',\n    value: function next() {\n      if (this.animating) return;\n      var nextIndex = this.state.activeIndex === this.props.items.length - 1 ? 0 : this.state.activeIndex + 1;\n      this.setState({\n        activeIndex: nextIndex\n      });\n    }\n  }, {\n    key: 'previous',\n    value: function previous() {\n      if (this.animating) return;\n      var nextIndex = this.state.activeIndex === 0 ? this.props.items.length - 1 : this.state.activeIndex - 1;\n      this.setState({\n        activeIndex: nextIndex\n      });\n    }\n  }, {\n    key: 'goToIndex',\n    value: function goToIndex(newIndex) {\n      if (this.animating) return;\n      this.setState({\n        activeIndex: newIndex\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          autoPlay = _props.autoPlay,\n          indicators = _props.indicators,\n          controls = _props.controls,\n          items = _props.items,\n          goToIndex = _props.goToIndex,\n          props = objectWithoutProperties(_props, ['autoPlay', 'indicators', 'controls', 'items', 'goToIndex']);\n      var activeIndex = this.state.activeIndex;\n      var slides = items.map(function (item) {\n        return React.createElement(CarouselItem, {\n          onExiting: _this2.onExiting,\n          onExited: _this2.onExited,\n          key: item.src\n        }, React.createElement('img', {\n          src: item.src,\n          alt: item.altText\n        }), React.createElement(CarouselCaption, {\n          captionText: item.caption,\n          captionHeader: item.caption\n        }));\n      });\n      return React.createElement(Carousel, _extends({\n        activeIndex: activeIndex,\n        next: this.next,\n        previous: this.previous,\n        ride: autoPlay ? 'carousel' : undefined\n      }, props), indicators && React.createElement(CarouselIndicators, {\n        items: items,\n        activeIndex: props.activeIndex || activeIndex,\n        onClickHandler: goToIndex || this.goToIndex\n      }), slides, controls && React.createElement(CarouselControl, {\n        direction: 'prev',\n        directionText: 'Previous',\n        onClickHandler: props.previous || this.previous\n      }), controls && React.createElement(CarouselControl, {\n        direction: 'next',\n        directionText: 'Next',\n        onClickHandler: props.next || this.next\n      }));\n    }\n  }]);\n  return UncontrolledCarousel;\n}(Component);\n\nUncontrolledCarousel.propTypes = propTypes$31;\nUncontrolledCarousel.defaultProps = {\n  controls: true,\n  indicators: true,\n  autoPlay: true\n};\nvar propTypes$32 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$30 = {\n  tag: 'h6'\n};\n\nvar CardSubtitle = function CardSubtitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-subtitle'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardSubtitle.propTypes = propTypes$32;\nCardSubtitle.defaultProps = defaultProps$30;\nvar propTypes$33 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$31 = {\n  tag: 'p'\n};\n\nvar CardText = function CardText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardText.propTypes = propTypes$33;\nCardText.defaultProps = defaultProps$31;\nvar propTypes$34 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$32 = {\n  tag: 'h5'\n};\n\nvar CardTitle = function CardTitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'card-title'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardTitle.propTypes = propTypes$34;\nCardTitle.defaultProps = defaultProps$32;\nvar propTypes$35 = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  placement: PropTypes.string,\n  placementPrefix: PropTypes.string,\n  hideArrow: PropTypes.bool,\n  tag: PropTypes.string,\n  isOpen: PropTypes.bool.isRequired,\n  cssModule: PropTypes.object,\n  offset: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  fallbackPlacement: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  flip: PropTypes.bool,\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired,\n  modifiers: PropTypes.object\n};\nvar defaultProps$33 = {\n  placement: 'auto',\n  hideArrow: false,\n  isOpen: false,\n  offset: 0,\n  fallbackPlacement: 'flip',\n  flip: true,\n  container: 'body',\n  modifiers: {}\n};\nvar childContextTypes$1 = {\n  popperManager: PropTypes.object.isRequired\n};\n\nvar PopperContent = function (_React$Component) {\n  inherits(PopperContent, _React$Component);\n\n  function PopperContent(props) {\n    classCallCheck(this, PopperContent);\n\n    var _this = possibleConstructorReturn(this, (PopperContent.__proto__ || Object.getPrototypeOf(PopperContent)).call(this, props));\n\n    _this.handlePlacementChange = _this.handlePlacementChange.bind(_this);\n    _this.setTargetNode = _this.setTargetNode.bind(_this);\n    _this.getTargetNode = _this.getTargetNode.bind(_this);\n    _this.state = {};\n    return _this;\n  }\n\n  createClass(PopperContent, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        popperManager: {\n          setTargetNode: this.setTargetNode,\n          getTargetNode: this.getTargetNode\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.handleProps();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.isOpen !== prevProps.isOpen) {\n        this.handleProps();\n      } else if (this._element) {\n        // rerender\n        this.renderIntoSubtree();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.hide();\n    }\n  }, {\n    key: 'setTargetNode',\n    value: function setTargetNode(node) {\n      this.targetNode = node;\n    }\n  }, {\n    key: 'getTargetNode',\n    value: function getTargetNode() {\n      return this.targetNode;\n    }\n  }, {\n    key: 'getContainerNode',\n    value: function getContainerNode() {\n      return getTarget(this.props.container);\n    }\n  }, {\n    key: 'handlePlacementChange',\n    value: function handlePlacementChange(data) {\n      if (this.state.placement !== data.placement) {\n        this.setState({\n          placement: data.placement\n        });\n      }\n\n      return data;\n    }\n  }, {\n    key: 'handleProps',\n    value: function handleProps() {\n      if (this.props.container !== 'inline') {\n        if (this.props.isOpen) {\n          this.show();\n        } else {\n          this.hide();\n        }\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (this._element) {\n        this.getContainerNode().removeChild(this._element);\n        ReactDOM.unmountComponentAtNode(this._element);\n        this._element = null;\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this._element = document.createElement('div');\n      this.getContainerNode().appendChild(this._element);\n      this.renderIntoSubtree();\n\n      if (this._element.childNodes && this._element.childNodes[0] && this._element.childNodes[0].focus) {\n        this._element.childNodes[0].focus();\n      }\n    }\n  }, {\n    key: 'renderIntoSubtree',\n    value: function renderIntoSubtree() {\n      ReactDOM.unstable_renderSubtreeIntoContainer(this, this.renderChildren(), this._element);\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      var _props = this.props,\n          cssModule = _props.cssModule,\n          children = _props.children,\n          isOpen = _props.isOpen,\n          flip = _props.flip,\n          target = _props.target,\n          offset = _props.offset,\n          fallbackPlacement = _props.fallbackPlacement,\n          placementPrefix = _props.placementPrefix,\n          hideArrow = _props.hideArrow,\n          className = _props.className,\n          tag = _props.tag,\n          container = _props.container,\n          modifiers = _props.modifiers,\n          attrs = objectWithoutProperties(_props, ['cssModule', 'children', 'isOpen', 'flip', 'target', 'offset', 'fallbackPlacement', 'placementPrefix', 'hideArrow', 'className', 'tag', 'container', 'modifiers']);\n      var arrowClassName = mapToCssModules('arrow', cssModule);\n      var placement = (this.state.placement || attrs.placement).split('-')[0];\n      var popperClassName = mapToCssModules(classNames(className, placementPrefix ? placementPrefix + '-' + placement : placement), this.props.cssModule);\n\n      var extendedModifiers = _extends({\n        offset: {\n          offset: offset\n        },\n        flip: {\n          enabled: flip,\n          behavior: fallbackPlacement\n        },\n        update: {\n          enabled: true,\n          order: 950,\n          fn: this.handlePlacementChange\n        }\n      }, modifiers);\n\n      return React.createElement(Popper, _extends({\n        modifiers: extendedModifiers\n      }, attrs, {\n        component: tag,\n        className: popperClassName\n      }), children, !hideArrow && React.createElement(Arrow, {\n        className: arrowClassName\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.setTargetNode(getTarget(this.props.target));\n\n      if (this.props.container === 'inline') {\n        return this.props.isOpen ? this.renderChildren() : null;\n      }\n\n      return null;\n    }\n  }]);\n  return PopperContent;\n}(React.Component);\n\nPopperContent.propTypes = propTypes$35;\nPopperContent.defaultProps = defaultProps$33;\nPopperContent.childContextTypes = childContextTypes$1;\n\nvar PopperTargetHelper = function PopperTargetHelper(props, context) {\n  context.popperManager.setTargetNode(getTarget(props.target));\n  return null;\n};\n\nPopperTargetHelper.contextTypes = {\n  popperManager: PropTypes.object.isRequired\n};\nPopperTargetHelper.propTypes = {\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired\n};\nvar propTypes$36 = {\n  placement: PropTypes.oneOf(PopperPlacements),\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired,\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  isOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  hideArrow: PropTypes.bool,\n  className: PropTypes.string,\n  innerClassName: PropTypes.string,\n  placementPrefix: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.func,\n  delay: PropTypes.oneOfType([PropTypes.shape({\n    show: PropTypes.number,\n    hide: PropTypes.number\n  }), PropTypes.number]),\n  modifiers: PropTypes.object\n};\nvar DEFAULT_DELAYS = {\n  show: 0,\n  hide: 0\n};\nvar defaultProps$34 = {\n  isOpen: false,\n  hideArrow: false,\n  placement: 'right',\n  placementPrefix: 'bs-popover',\n  delay: DEFAULT_DELAYS,\n  toggle: function toggle() {}\n};\n\nvar Popover = function (_React$Component) {\n  inherits(Popover, _React$Component);\n\n  function Popover(props) {\n    classCallCheck(this, Popover);\n\n    var _this = possibleConstructorReturn(this, (Popover.__proto__ || Object.getPrototypeOf(Popover)).call(this, props));\n\n    _this.addTargetEvents = _this.addTargetEvents.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.removeTargetEvents = _this.removeTargetEvents.bind(_this);\n    _this.getRef = _this.getRef.bind(_this);\n    _this.toggle = _this.toggle.bind(_this);\n    _this.show = _this.show.bind(_this);\n    _this.hide = _this.hide.bind(_this);\n    return _this;\n  }\n\n  createClass(Popover, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._target = getTarget(this.props.target);\n      this.handleProps();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.handleProps();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.clearShowTimeout();\n      this.clearHideTimeout();\n      this.removeTargetEvents();\n    }\n  }, {\n    key: 'getRef',\n    value: function getRef(ref) {\n      this._popover = ref;\n    }\n  }, {\n    key: 'getDelay',\n    value: function getDelay(key) {\n      var delay = this.props.delay;\n\n      if ((typeof delay === 'undefined' ? 'undefined' : _typeof(delay)) === 'object') {\n        return isNaN(delay[key]) ? DEFAULT_DELAYS[key] : delay[key];\n      }\n\n      return delay;\n    }\n  }, {\n    key: 'handleProps',\n    value: function handleProps() {\n      if (this.props.isOpen) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.clearHideTimeout();\n      this.addTargetEvents();\n\n      if (!this.props.isOpen) {\n        this.clearShowTimeout();\n        this._showTimeout = setTimeout(this.toggle, this.getDelay('show'));\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.clearShowTimeout();\n      this.removeTargetEvents();\n\n      if (this.props.isOpen) {\n        this.clearHideTimeout();\n        this._hideTimeout = setTimeout(this.toggle, this.getDelay('hide'));\n      }\n    }\n  }, {\n    key: 'clearShowTimeout',\n    value: function clearShowTimeout() {\n      clearTimeout(this._showTimeout);\n      this._showTimeout = undefined;\n    }\n  }, {\n    key: 'clearHideTimeout',\n    value: function clearHideTimeout() {\n      clearTimeout(this._hideTimeout);\n      this._hideTimeout = undefined;\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(e) {\n      if (e.target !== this._target && !this._target.contains(e.target) && e.target !== this._popover && !(this._popover && this._popover.contains(e.target))) {\n        if (this._hideTimeout) {\n          this.clearHideTimeout();\n        }\n\n        if (this.props.isOpen) {\n          this.toggle(e);\n        }\n      }\n    }\n  }, {\n    key: 'addTargetEvents',\n    value: function addTargetEvents() {\n      var _this2 = this;\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.addEventListener(event, _this2.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'removeTargetEvents',\n    value: function removeTargetEvents() {\n      var _this3 = this;\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.removeEventListener(event, _this3.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(e) {\n      if (this.props.disabled) {\n        return e && e.preventDefault();\n      }\n\n      return this.props.toggle(e);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.isOpen) {\n        return null;\n      }\n\n      var attributes = omit(this.props, Object.keys(propTypes$36));\n      var classes = mapToCssModules(classNames('popover-inner', this.props.innerClassName), this.props.cssModule);\n      var popperClasses = mapToCssModules(classNames('popover', 'show', this.props.className), this.props.cssModule);\n      return React.createElement(PopperContent, {\n        className: popperClasses,\n        target: this.props.target,\n        isOpen: this.props.isOpen,\n        hideArrow: this.props.hideArrow,\n        placement: this.props.placement,\n        placementPrefix: this.props.placementPrefix,\n        container: this.props.container,\n        modifiers: this.props.modifiers\n      }, React.createElement('div', _extends({}, attributes, {\n        className: classes,\n        ref: this.getRef\n      })));\n    }\n  }]);\n  return Popover;\n}(React.Component);\n\nPopover.propTypes = propTypes$36;\nPopover.defaultProps = defaultProps$34;\nvar propTypes$37 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$35 = {\n  tag: 'h3'\n};\n\nvar PopoverHeader = function PopoverHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'popover-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPopoverHeader.propTypes = propTypes$37;\nPopoverHeader.defaultProps = defaultProps$35;\n\nfunction PopoverTitle(props) {\n  warnOnce('The \"PopoverTitle\" component has been deprecated.\\nPlease use component \"PopoverHeader\".');\n  return React.createElement(PopoverHeader, props);\n}\n\nvar propTypes$38 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$36 = {\n  tag: 'div'\n};\n\nvar PopoverBody = function PopoverBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'popover-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPopoverBody.propTypes = propTypes$38;\nPopoverBody.defaultProps = defaultProps$36;\n\nfunction PopoverContent(props) {\n  warnOnce('The \"PopoverContent\" component has been deprecated.\\nPlease use component \"PopoverBody\".');\n  return React.createElement(PopoverBody, props);\n}\n\nvar propTypes$39 = {\n  children: PropTypes.node,\n  bar: PropTypes.bool,\n  multi: PropTypes.bool,\n  tag: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  animated: PropTypes.bool,\n  striped: PropTypes.bool,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  barClassName: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$37 = {\n  tag: 'div',\n  value: 0,\n  max: 100\n};\n\nvar Progress = function Progress(props) {\n  var children = props.children,\n      className = props.className,\n      barClassName = props.barClassName,\n      cssModule = props.cssModule,\n      value = props.value,\n      max = props.max,\n      animated = props.animated,\n      striped = props.striped,\n      color = props.color,\n      bar = props.bar,\n      multi = props.multi,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['children', 'className', 'barClassName', 'cssModule', 'value', 'max', 'animated', 'striped', 'color', 'bar', 'multi', 'tag']);\n  var percent = toNumber(value) / toNumber(max) * 100;\n  var progressClasses = mapToCssModules(classNames(className, 'progress'), cssModule);\n  var progressBarClasses = mapToCssModules(classNames('progress-bar', bar ? className || barClassName : barClassName, animated ? 'progress-bar-animated' : null, color ? 'bg-' + color : null, striped || animated ? 'progress-bar-striped' : null), cssModule);\n  var ProgressBar = multi ? children : React.createElement('div', {\n    className: progressBarClasses,\n    style: {\n      width: percent + '%'\n    },\n    role: 'progressbar',\n    'aria-valuenow': value,\n    'aria-valuemin': '0',\n    'aria-valuemax': max,\n    children: children\n  });\n\n  if (bar) {\n    return ProgressBar;\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: progressClasses,\n    children: ProgressBar\n  }));\n};\n\nProgress.propTypes = propTypes$39;\nProgress.defaultProps = defaultProps$37;\nvar propTypes$41 = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nvar Portal = function (_React$Component) {\n  inherits(Portal, _React$Component);\n\n  function Portal() {\n    classCallCheck(this, Portal);\n    return possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = propTypes$41;\n\nfunction noop() {}\n\nvar FadePropTypes = PropTypes.shape(Fade.propTypes);\nvar propTypes$40 = {\n  isOpen: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  centered: PropTypes.bool,\n  size: PropTypes.string,\n  toggle: PropTypes.func,\n  keyboard: PropTypes.bool,\n  role: PropTypes.string,\n  labelledBy: PropTypes.string,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['static'])]),\n  onEnter: PropTypes.func,\n  onExit: PropTypes.func,\n  onOpened: PropTypes.func,\n  onClosed: PropTypes.func,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  wrapClassName: PropTypes.string,\n  modalClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  contentClassName: PropTypes.string,\n  external: PropTypes.node,\n  fade: PropTypes.bool,\n  cssModule: PropTypes.object,\n  zIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  backdropTransition: FadePropTypes,\n  modalTransition: FadePropTypes\n};\nvar propsToOmit = Object.keys(propTypes$40);\nvar defaultProps$38 = {\n  isOpen: false,\n  autoFocus: true,\n  centered: false,\n  role: 'dialog',\n  backdrop: true,\n  keyboard: true,\n  zIndex: 1050,\n  fade: true,\n  onOpened: noop,\n  onClosed: noop,\n  modalTransition: {\n    timeout: TransitionTimeouts.Modal\n  },\n  backdropTransition: {\n    mountOnEnter: true,\n    timeout: TransitionTimeouts.Fade // uses standard fade transition\n\n  }\n};\n\nvar Modal = function (_React$Component) {\n  inherits(Modal, _React$Component);\n\n  function Modal(props) {\n    classCallCheck(this, Modal);\n\n    var _this = possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n    _this._element = null;\n    _this._originalBodyPadding = null;\n    _this.handleBackdropClick = _this.handleBackdropClick.bind(_this);\n    _this.handleEscape = _this.handleEscape.bind(_this);\n    _this.onOpened = _this.onOpened.bind(_this);\n    _this.onClosed = _this.onClosed.bind(_this);\n    _this.state = {\n      isOpen: props.isOpen\n    };\n\n    if (props.isOpen) {\n      _this.init();\n    }\n\n    return _this;\n  }\n\n  createClass(Modal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.onEnter) {\n        this.props.onEnter();\n      }\n\n      if (this.state.isOpen && this.props.autoFocus) {\n        this.setFocus();\n      }\n\n      this._isMounted = true;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.isOpen && !this.props.isOpen) {\n        this.setState({\n          isOpen: nextProps.isOpen\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      if (nextState.isOpen && !this.state.isOpen) {\n        this.init();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.autoFocus && this.state.isOpen && !prevState.isOpen) {\n        this.setFocus();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.onExit) {\n        this.props.onExit();\n      }\n\n      if (this.state.isOpen) {\n        this.destroy();\n      }\n\n      this._isMounted = false;\n    }\n  }, {\n    key: 'onOpened',\n    value: function onOpened(node, isAppearing) {\n      this.props.onOpened();\n      (this.props.modalTransition.onEntered || noop)(node, isAppearing);\n    }\n  }, {\n    key: 'onClosed',\n    value: function onClosed(node) {\n      // so all methods get called before it is unmounted\n      this.props.onClosed();\n      (this.props.modalTransition.onExited || noop)(node);\n      this.destroy();\n\n      if (this._isMounted) {\n        this.setState({\n          isOpen: false\n        });\n      }\n    }\n  }, {\n    key: 'setFocus',\n    value: function setFocus() {\n      if (this._dialog && this._dialog.parentNode && typeof this._dialog.parentNode.focus === 'function') {\n        this._dialog.parentNode.focus();\n      }\n    }\n  }, {\n    key: 'handleBackdropClick',\n    value: function handleBackdropClick(e) {\n      e.stopPropagation();\n      if (!this.props.isOpen || this.props.backdrop !== true) return;\n      var container = this._dialog;\n\n      if (e.target && !container.contains(e.target) && this.props.toggle) {\n        this.props.toggle(e);\n      }\n    }\n  }, {\n    key: 'handleEscape',\n    value: function handleEscape(e) {\n      if (this.props.isOpen && this.props.keyboard && e.keyCode === 27 && this.props.toggle) {\n        this.props.toggle(e);\n      }\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      this._element = document.createElement('div');\n\n      this._element.setAttribute('tabindex', '-1');\n\n      this._element.style.position = 'relative';\n      this._element.style.zIndex = this.props.zIndex;\n      this._originalBodyPadding = getOriginalBodyPadding();\n      conditionallyUpdateScrollbar();\n      document.body.appendChild(this._element);\n\n      if (!this.bodyClassAdded) {\n        document.body.className = classNames(document.body.className, mapToCssModules('modal-open', this.props.cssModule));\n        this.bodyClassAdded = true;\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      if (this._element) {\n        document.body.removeChild(this._element);\n        this._element = null;\n      }\n\n      if (this.bodyClassAdded) {\n        var modalOpenClassName = mapToCssModules('modal-open', this.props.cssModule); // Use regex to prevent matching `modal-open` as part of a different class, e.g. `my-modal-opened`\n\n        var modalOpenClassNameRegex = new RegExp('(^| )' + modalOpenClassName + '( |$)');\n        document.body.className = document.body.className.replace(modalOpenClassNameRegex, ' ').trim();\n        this.bodyClassAdded = false;\n      }\n\n      setScrollbarWidth(this._originalBodyPadding);\n    }\n  }, {\n    key: 'renderModalDialog',\n    value: function renderModalDialog() {\n      var _classNames,\n          _this2 = this;\n\n      var attributes = omit(this.props, propsToOmit);\n      var dialogBaseClass = 'modal-dialog';\n      return React.createElement('div', _extends({}, attributes, {\n        className: mapToCssModules(classNames(dialogBaseClass, this.props.className, (_classNames = {}, defineProperty(_classNames, 'modal-' + this.props.size, this.props.size), defineProperty(_classNames, dialogBaseClass + '-centered', this.props.centered), _classNames)), this.props.cssModule),\n        role: 'document',\n        ref: function ref(c) {\n          _this2._dialog = c;\n        }\n      }), React.createElement('div', {\n        className: mapToCssModules(classNames('modal-content', this.props.contentClassName), this.props.cssModule)\n      }, this.props.children));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.isOpen) {\n        var _props = this.props,\n            wrapClassName = _props.wrapClassName,\n            modalClassName = _props.modalClassName,\n            backdropClassName = _props.backdropClassName,\n            cssModule = _props.cssModule,\n            isOpen = _props.isOpen,\n            backdrop = _props.backdrop,\n            role = _props.role,\n            labelledBy = _props.labelledBy,\n            external = _props.external;\n        var modalAttributes = {\n          onClick: this.handleBackdropClick,\n          onKeyUp: this.handleEscape,\n          style: {\n            display: 'block'\n          },\n          'aria-labelledby': labelledBy,\n          role: role,\n          tabIndex: '-1'\n        };\n        var hasTransition = this.props.fade;\n\n        var modalTransition = _extends({}, Fade.defaultProps, this.props.modalTransition, {\n          baseClass: hasTransition ? this.props.modalTransition.baseClass : '',\n          timeout: hasTransition ? this.props.modalTransition.timeout : 0\n        });\n\n        var backdropTransition = _extends({}, Fade.defaultProps, this.props.backdropTransition, {\n          baseClass: hasTransition ? this.props.backdropTransition.baseClass : '',\n          timeout: hasTransition ? this.props.backdropTransition.timeout : 0\n        });\n\n        return React.createElement(Portal, {\n          node: this._element\n        }, React.createElement('div', {\n          className: mapToCssModules(wrapClassName)\n        }, React.createElement(Fade, _extends({}, modalAttributes, modalTransition, {\n          'in': isOpen,\n          onEntered: this.onOpened,\n          onExited: this.onClosed,\n          cssModule: cssModule,\n          className: mapToCssModules(classNames('modal', modalClassName), cssModule)\n        }), external, this.renderModalDialog()), React.createElement(Fade, _extends({}, backdropTransition, {\n          'in': isOpen && !!backdrop,\n          cssModule: cssModule,\n          className: mapToCssModules(classNames('modal-backdrop', backdropClassName), cssModule)\n        }))));\n      }\n\n      return null;\n    }\n  }]);\n  return Modal;\n}(React.Component);\n\nModal.propTypes = propTypes$40;\nModal.defaultProps = defaultProps$38;\nvar propTypes$42 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  wrapTag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  toggle: PropTypes.func,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  closeAriaLabel: PropTypes.string\n};\nvar defaultProps$39 = {\n  tag: 'h5',\n  wrapTag: 'div',\n  closeAriaLabel: 'Close'\n};\n\nvar ModalHeader = function ModalHeader(props) {\n  var closeButton = void 0;\n  var className = props.className,\n      cssModule = props.cssModule,\n      children = props.children,\n      toggle = props.toggle,\n      Tag = props.tag,\n      WrapTag = props.wrapTag,\n      closeAriaLabel = props.closeAriaLabel,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'children', 'toggle', 'tag', 'wrapTag', 'closeAriaLabel']);\n  var classes = mapToCssModules(classNames(className, 'modal-header'), cssModule);\n\n  if (toggle) {\n    closeButton = React.createElement('button', {\n      type: 'button',\n      onClick: toggle,\n      className: mapToCssModules('close', cssModule),\n      'aria-label': closeAriaLabel\n    }, React.createElement('span', {\n      'aria-hidden': 'true'\n    }, String.fromCharCode(215)));\n  }\n\n  return React.createElement(WrapTag, _extends({}, attributes, {\n    className: classes\n  }), React.createElement(Tag, {\n    className: mapToCssModules('modal-title', cssModule)\n  }, children), closeButton);\n};\n\nModalHeader.propTypes = propTypes$42;\nModalHeader.defaultProps = defaultProps$39;\nvar propTypes$43 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$40 = {\n  tag: 'div'\n};\n\nvar ModalBody = function ModalBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'modal-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalBody.propTypes = propTypes$43;\nModalBody.defaultProps = defaultProps$40;\nvar propTypes$44 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$41 = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes$44;\nModalFooter.defaultProps = defaultProps$41;\nvar propTypes$45 = {\n  placement: PropTypes.oneOf(PopperPlacements),\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]).isRequired,\n  container: PropTypes.oneOfType([PropTypes.string, PropTypes.func, DOMElement]),\n  isOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  hideArrow: PropTypes.bool,\n  className: PropTypes.string,\n  innerClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  toggle: PropTypes.func,\n  autohide: PropTypes.bool,\n  placementPrefix: PropTypes.string,\n  delay: PropTypes.oneOfType([PropTypes.shape({\n    show: PropTypes.number,\n    hide: PropTypes.number\n  }), PropTypes.number]),\n  modifiers: PropTypes.object\n};\nvar DEFAULT_DELAYS$1 = {\n  show: 0,\n  hide: 250\n};\nvar defaultProps$42 = {\n  isOpen: false,\n  hideArrow: false,\n  placement: 'top',\n  placementPrefix: 'bs-tooltip',\n  delay: DEFAULT_DELAYS$1,\n  autohide: true,\n  toggle: function toggle() {}\n};\n\nvar Tooltip = function (_React$Component) {\n  inherits(Tooltip, _React$Component);\n\n  function Tooltip(props) {\n    classCallCheck(this, Tooltip);\n\n    var _this = possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, props));\n\n    _this.addTargetEvents = _this.addTargetEvents.bind(_this);\n    _this.handleDocumentClick = _this.handleDocumentClick.bind(_this);\n    _this.removeTargetEvents = _this.removeTargetEvents.bind(_this);\n    _this.toggle = _this.toggle.bind(_this);\n    _this.onMouseOverTooltip = _this.onMouseOverTooltip.bind(_this);\n    _this.onMouseLeaveTooltip = _this.onMouseLeaveTooltip.bind(_this);\n    _this.onMouseOverTooltipContent = _this.onMouseOverTooltipContent.bind(_this);\n    _this.onMouseLeaveTooltipContent = _this.onMouseLeaveTooltipContent.bind(_this);\n    _this.show = _this.show.bind(_this);\n    _this.hide = _this.hide.bind(_this);\n    return _this;\n  }\n\n  createClass(Tooltip, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._target = getTarget(this.props.target);\n      this.addTargetEvents();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeTargetEvents();\n    }\n  }, {\n    key: 'onMouseOverTooltip',\n    value: function onMouseOverTooltip() {\n      if (this._hideTimeout) {\n        this.clearHideTimeout();\n      }\n\n      this._showTimeout = setTimeout(this.show, this.getDelay('show'));\n    }\n  }, {\n    key: 'onMouseLeaveTooltip',\n    value: function onMouseLeaveTooltip() {\n      if (this._showTimeout) {\n        this.clearShowTimeout();\n      }\n\n      this._hideTimeout = setTimeout(this.hide, this.getDelay('hide'));\n    }\n  }, {\n    key: 'onMouseOverTooltipContent',\n    value: function onMouseOverTooltipContent() {\n      if (this.props.autohide) {\n        return;\n      }\n\n      if (this._hideTimeout) {\n        this.clearHideTimeout();\n      }\n    }\n  }, {\n    key: 'onMouseLeaveTooltipContent',\n    value: function onMouseLeaveTooltipContent() {\n      if (this.props.autohide) {\n        return;\n      }\n\n      if (this._showTimeout) {\n        this.clearShowTimeout();\n      }\n\n      this._hideTimeout = setTimeout(this.hide, this.getDelay('hide'));\n    }\n  }, {\n    key: 'getDelay',\n    value: function getDelay(key) {\n      var delay = this.props.delay;\n\n      if ((typeof delay === 'undefined' ? 'undefined' : _typeof(delay)) === 'object') {\n        return isNaN(delay[key]) ? DEFAULT_DELAYS$1[key] : delay[key];\n      }\n\n      return delay;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      if (!this.props.isOpen) {\n        this.clearShowTimeout();\n        this.toggle();\n      }\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (this.props.isOpen) {\n        this.clearHideTimeout();\n        this.toggle();\n      }\n    }\n  }, {\n    key: 'clearShowTimeout',\n    value: function clearShowTimeout() {\n      clearTimeout(this._showTimeout);\n      this._showTimeout = undefined;\n    }\n  }, {\n    key: 'clearHideTimeout',\n    value: function clearHideTimeout() {\n      clearTimeout(this._hideTimeout);\n      this._hideTimeout = undefined;\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(e) {\n      if (e.target === this._target || this._target.contains(e.target)) {\n        if (this._hideTimeout) {\n          this.clearHideTimeout();\n        }\n\n        if (!this.props.isOpen) {\n          this.toggle();\n        }\n      }\n    }\n  }, {\n    key: 'addTargetEvents',\n    value: function addTargetEvents() {\n      var _this2 = this;\n\n      this._target.addEventListener('mouseover', this.onMouseOverTooltip, true);\n\n      this._target.addEventListener('mouseout', this.onMouseLeaveTooltip, true);\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.addEventListener(event, _this2.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'removeTargetEvents',\n    value: function removeTargetEvents() {\n      var _this3 = this;\n\n      this._target.removeEventListener('mouseover', this.onMouseOverTooltip, true);\n\n      this._target.removeEventListener('mouseout', this.onMouseLeaveTooltip, true);\n\n      ['click', 'touchstart'].forEach(function (event) {\n        return document.removeEventListener(event, _this3.handleDocumentClick, true);\n      });\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle(e) {\n      if (this.props.disabled) {\n        return e && e.preventDefault();\n      }\n\n      return this.props.toggle();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.isOpen) {\n        return null;\n      }\n\n      var attributes = omit(this.props, Object.keys(propTypes$45));\n      var classes = mapToCssModules(classNames('tooltip-inner', this.props.innerClassName), this.props.cssModule);\n      var popperClasses = mapToCssModules(classNames('tooltip', 'show', this.props.className), this.props.cssModule);\n      return React.createElement(PopperContent, {\n        className: popperClasses,\n        target: this.props.target,\n        isOpen: this.props.isOpen,\n        hideArrow: this.props.hideArrow,\n        placement: this.props.placement,\n        placementPrefix: this.props.placementPrefix,\n        container: this.props.container,\n        modifiers: this.props.modifiers\n      }, React.createElement('div', _extends({}, attributes, {\n        className: classes,\n        onMouseOver: this.onMouseOverTooltipContent,\n        onMouseLeave: this.onMouseLeaveTooltipContent\n      })));\n    }\n  }]);\n  return Tooltip;\n}(React.Component);\n\nTooltip.propTypes = propTypes$45;\nTooltip.defaultProps = defaultProps$42;\nvar propTypes$46 = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  striped: PropTypes.bool,\n  inverse: deprecated(PropTypes.bool, 'Please use the prop \"dark\"'),\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  responsiveTag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$43 = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      striped = props.striped,\n      inverse = props.inverse,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'size', 'bordered', 'striped', 'inverse', 'dark', 'hover', 'responsive', 'tag', 'responsiveTag']);\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, striped ? 'table-striped' : false, dark || inverse ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = responsive === true ? 'table-responsive' : 'table-responsive-' + responsive;\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes$46;\nTable.defaultProps = defaultProps$43;\nvar propTypes$47 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  flush: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$44 = {\n  tag: 'ul'\n};\n\nvar ListGroup = function ListGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      flush = props.flush,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'flush']);\n  var classes = mapToCssModules(classNames(className, 'list-group', flush ? 'list-group-flush' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroup.propTypes = propTypes$47;\nListGroup.defaultProps = defaultProps$44;\nvar propTypes$48 = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$45 = {\n  tag: 'form'\n};\n\nvar Form = function Form(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      inline = props.inline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'inline', 'tag', 'innerRef']);\n  var classes = mapToCssModules(classNames(className, inline ? 'form-inline' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n};\n\nForm.propTypes = propTypes$48;\nForm.defaultProps = defaultProps$45;\nvar propTypes$49 = {\n  children: PropTypes.node,\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  valid: PropTypes.bool\n};\nvar defaultProps$46 = {\n  tag: 'div',\n  valid: undefined\n};\n\nvar FormFeedback = function FormFeedback(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      valid = props.valid,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'valid', 'tag']);\n  var classes = mapToCssModules(classNames(className, valid ? 'valid-feedback' : 'invalid-feedback'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormFeedback.propTypes = propTypes$49;\nFormFeedback.defaultProps = defaultProps$46;\nvar propTypes$50 = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$47 = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'row', 'disabled', 'check', 'inline', 'tag']);\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes$50;\nFormGroup.defaultProps = defaultProps$47;\nvar propTypes$51 = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  color: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$48 = {\n  tag: 'small',\n  color: 'muted'\n};\n\nvar FormText = function FormText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      inline = props.inline,\n      color = props.color,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'inline', 'color', 'tag']);\n  var classes = mapToCssModules(classNames(className, !inline ? 'form-text' : false, color ? 'text-' + color : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormText.propTypes = propTypes$51;\nFormText.defaultProps = defaultProps$48;\n/* eslint react/prefer-stateless-function: 0 */\n\nvar propTypes$52 = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.string,\n  bsSize: PropTypes.string,\n  state: deprecated(PropTypes.string, 'Please use the props \"valid\" and \"invalid\" to indicate the state.'),\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  static: deprecated(PropTypes.bool, 'Please use the prop \"plaintext\"'),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$49 = {\n  type: 'text'\n};\n\nvar Input = function (_React$Component) {\n  inherits(Input, _React$Component);\n\n  function Input() {\n    classCallCheck(this, Input);\n    return possibleConstructorReturn(this, (Input.__proto__ || Object.getPrototypeOf(Input)).apply(this, arguments));\n  }\n\n  createClass(Input, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          type = _props.type,\n          bsSize = _props.bsSize,\n          state = _props.state,\n          valid = _props.valid,\n          invalid = _props.invalid,\n          tag = _props.tag,\n          addon = _props.addon,\n          staticInput = _props.static,\n          plaintext = _props.plaintext,\n          innerRef = _props.innerRef,\n          attributes = objectWithoutProperties(_props, ['className', 'cssModule', 'type', 'bsSize', 'state', 'valid', 'invalid', 'tag', 'addon', 'static', 'plaintext', 'innerRef']);\n      var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n      var isNotaNumber = new RegExp('\\\\D', 'g');\n      var fileInput = type === 'file';\n      var textareaInput = type === 'textarea';\n      var selectInput = type === 'select';\n      var Tag = tag || (selectInput || textareaInput ? type : 'input');\n      var formControlClass = 'form-control';\n\n      if (plaintext || staticInput) {\n        formControlClass = formControlClass + '-plaintext';\n        Tag = tag || 'p';\n      } else if (fileInput) {\n        formControlClass = formControlClass + '-file';\n      } else if (checkInput) {\n        if (addon) {\n          formControlClass = null;\n        } else {\n          formControlClass = 'form-check-input';\n        }\n      }\n\n      if (state && typeof valid === 'undefined' && typeof invalid === 'undefined') {\n        if (state === 'danger') {\n          invalid = true;\n        } else if (state === 'success') {\n          valid = true;\n        }\n      }\n\n      if (attributes.size && isNotaNumber.test(attributes.size)) {\n        warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n        bsSize = attributes.size;\n        delete attributes.size;\n      }\n\n      var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? 'form-control-' + bsSize : false, formControlClass), cssModule);\n\n      if (Tag === 'input' || typeof tag !== 'string') {\n        attributes.type = type;\n      }\n\n      return React.createElement(Tag, _extends({}, attributes, {\n        ref: innerRef,\n        className: classes\n      }));\n    }\n  }]);\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes$52;\nInput.defaultProps = defaultProps$49;\nvar propTypes$53 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  size: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$50 = {\n  tag: 'div'\n};\n\nvar InputGroup = function InputGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      size = props.size,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'size']);\n  var classes = mapToCssModules(classNames(className, 'input-group', size ? 'input-group-' + size : null), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nInputGroup.propTypes = propTypes$53;\nInputGroup.defaultProps = defaultProps$50;\nvar propTypes$55 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$52 = {\n  tag: 'span'\n};\n\nvar InputGroupText = function InputGroupText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'input-group-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nInputGroupText.propTypes = propTypes$55;\nInputGroupText.defaultProps = defaultProps$52;\nvar propTypes$54 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$51 = {\n  tag: 'div'\n};\n\nvar InputGroupAddon = function InputGroupAddon(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      addonType = props.addonType,\n      children = props.children,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'addonType', 'children']);\n  var classes = mapToCssModules(classNames(className, 'input-group-' + addonType), cssModule); // Convenience to assist with transition\n\n  if (typeof children === 'string') {\n    return React.createElement(Tag, _extends({}, attributes, {\n      className: classes\n    }), React.createElement(InputGroupText, {\n      children: children\n    }));\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    children: children\n  }));\n};\n\nInputGroupAddon.propTypes = propTypes$54;\nInputGroupAddon.defaultProps = defaultProps$51;\nvar propTypes$56 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node,\n  groupClassName: PropTypes.string,\n  groupAttributes: PropTypes.object,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\n\nvar InputGroupButton = function InputGroupButton(props) {\n  warnOnce('The \"InputGroupButton\" component has been deprecated.\\nPlease use component \"InputGroupAddon\".');\n  var children = props.children,\n      groupClassName = props.groupClassName,\n      groupAttributes = props.groupAttributes,\n      propsWithoutGroup = objectWithoutProperties(props, ['children', 'groupClassName', 'groupAttributes']);\n\n  if (typeof children === 'string') {\n    var cssModule = propsWithoutGroup.cssModule,\n        tag = propsWithoutGroup.tag,\n        addonType = propsWithoutGroup.addonType,\n        attributes = objectWithoutProperties(propsWithoutGroup, ['cssModule', 'tag', 'addonType']);\n\n    var allGroupAttributes = _extends({}, groupAttributes, {\n      cssModule: cssModule,\n      tag: tag,\n      addonType: addonType\n    });\n\n    return React.createElement(InputGroupAddon, _extends({}, allGroupAttributes, {\n      className: groupClassName\n    }), React.createElement(Button, _extends({}, attributes, {\n      children: children\n    })));\n  }\n\n  return React.createElement(InputGroupAddon, _extends({}, props, {\n    children: children\n  }));\n};\n\nInputGroupButton.propTypes = propTypes$56;\nvar propTypes$57 = {\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node\n};\n\nvar InputGroupButtonDropdown = function InputGroupButtonDropdown(props) {\n  return React.createElement(Dropdown, props);\n};\n\nInputGroupButtonDropdown.propTypes = propTypes$57;\nvar colWidths$1 = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp$1 = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps$1 = PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.shape({\n  size: stringOrNumberProp$1,\n  push: deprecated(stringOrNumberProp$1, 'Please use the prop \"order\"'),\n  pull: deprecated(stringOrNumberProp$1, 'Please use the prop \"order\"'),\n  order: stringOrNumberProp$1,\n  offset: stringOrNumberProp$1\n})]);\nvar propTypes$58 = {\n  children: PropTypes.node,\n  hidden: PropTypes.bool,\n  check: PropTypes.bool,\n  size: PropTypes.string,\n  for: PropTypes.string,\n  tag: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  xs: columnProps$1,\n  sm: columnProps$1,\n  md: columnProps$1,\n  lg: columnProps$1,\n  xl: columnProps$1,\n  widths: PropTypes.array\n};\nvar defaultProps$53 = {\n  tag: 'label',\n  widths: colWidths$1\n};\n\nvar getColumnSizeClass$1 = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : 'col-' + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : 'col-' + colWidth + '-auto';\n  }\n\n  return isXs ? 'col-' + colSize : 'col-' + colWidth + '-' + colSize;\n};\n\nvar Label = function Label(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      hidden = props.hidden,\n      widths = props.widths,\n      Tag = props.tag,\n      check = props.check,\n      size = props.size,\n      htmlFor = props.for,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'hidden', 'widths', 'tag', 'check', 'size', 'for']);\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n    var colClass = void 0;\n\n    if (isobject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : '-' + colWidth + '-';\n      colClass = getColumnSizeClass$1(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, defineProperty(_classNames, colClass, columnProp.size || columnProp.size === ''), defineProperty(_classNames, 'order' + colSizeInterfix + columnProp.order, columnProp.order || columnProp.order === 0), defineProperty(_classNames, 'offset' + colSizeInterfix + columnProp.offset, columnProp.offset || columnProp.offset === 0), _classNames))), cssModule);\n    } else {\n      colClass = getColumnSizeClass$1(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n  var classes = mapToCssModules(classNames(className, hidden ? 'sr-only' : false, check ? 'form-check-label' : false, size ? 'col-form-label-' + size : false, colClasses, colClasses.length ? 'col-form-label' : false), cssModule);\n  return React.createElement(Tag, _extends({\n    htmlFor: htmlFor\n  }, attributes, {\n    className: classes\n  }));\n};\n\nLabel.propTypes = propTypes$58;\nLabel.defaultProps = defaultProps$53;\nvar propTypes$59 = {\n  body: PropTypes.bool,\n  bottom: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  heading: PropTypes.bool,\n  left: PropTypes.bool,\n  list: PropTypes.bool,\n  middle: PropTypes.bool,\n  object: PropTypes.bool,\n  right: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  top: PropTypes.bool\n};\n\nvar Media = function Media(props) {\n  var body = props.body,\n      bottom = props.bottom,\n      className = props.className,\n      cssModule = props.cssModule,\n      heading = props.heading,\n      left = props.left,\n      list = props.list,\n      middle = props.middle,\n      object = props.object,\n      right = props.right,\n      tag = props.tag,\n      top = props.top,\n      attributes = objectWithoutProperties(props, ['body', 'bottom', 'className', 'cssModule', 'heading', 'left', 'list', 'middle', 'object', 'right', 'tag', 'top']);\n  var defaultTag = void 0;\n\n  if (heading) {\n    defaultTag = 'h4';\n  } else if (left || right) {\n    defaultTag = 'a';\n  } else if (object) {\n    defaultTag = 'img';\n  } else if (list) {\n    defaultTag = 'ul';\n  } else {\n    defaultTag = 'div';\n  }\n\n  var Tag = tag || defaultTag;\n  var classes = mapToCssModules(classNames(className, {\n    'media-body': body,\n    'media-heading': heading,\n    'media-left': left,\n    'media-right': right,\n    'media-top': top,\n    'media-bottom': bottom,\n    'media-middle': middle,\n    'media-object': object,\n    'media-list': list,\n    media: !body && !heading && !left && !right && !top && !bottom && !middle && !object && !list\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nMedia.propTypes = propTypes$59;\nvar propTypes$60 = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$54 = {\n  tag: 'ul'\n};\n\nvar Pagination = function Pagination(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'size', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'pagination', defineProperty({}, 'pagination-' + size, !!size)), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPagination.propTypes = propTypes$60;\nPagination.defaultProps = defaultProps$54;\nvar propTypes$61 = {\n  active: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  disabled: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$55 = {\n  tag: 'li'\n};\n\nvar PaginationItem = function PaginationItem(props) {\n  var active = props.active,\n      className = props.className,\n      cssModule = props.cssModule,\n      disabled = props.disabled,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['active', 'className', 'cssModule', 'disabled', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'page-item', {\n    active: active,\n    disabled: disabled\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPaginationItem.propTypes = propTypes$61;\nPaginationItem.defaultProps = defaultProps$55;\nvar propTypes$62 = {\n  'aria-label': PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  next: PropTypes.bool,\n  previous: PropTypes.bool,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n};\nvar defaultProps$56 = {\n  tag: 'a'\n};\n\nvar PaginationLink = function PaginationLink(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      next = props.next,\n      previous = props.previous,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'next', 'previous', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'page-link'), cssModule);\n  var defaultAriaLabel = void 0;\n\n  if (previous) {\n    defaultAriaLabel = 'Previous';\n  } else if (next) {\n    defaultAriaLabel = 'Next';\n  }\n\n  var ariaLabel = props['aria-label'] || defaultAriaLabel;\n  var defaultCaret = void 0;\n\n  if (previous) {\n    defaultCaret = '\\xAB';\n  } else if (next) {\n    defaultCaret = '\\xBB';\n  }\n\n  var children = props.children;\n\n  if (children && Array.isArray(children) && children.length === 0) {\n    children = null;\n  }\n\n  if (previous || next) {\n    children = [React.createElement('span', {\n      'aria-hidden': 'true',\n      key: 'caret'\n    }, children || defaultCaret), React.createElement('span', {\n      className: 'sr-only',\n      key: 'sr'\n    }, ariaLabel)];\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    'aria-label': ariaLabel\n  }), children);\n};\n\nPaginationLink.propTypes = propTypes$62;\nPaginationLink.defaultProps = defaultProps$56;\nvar propTypes$63 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  activeTab: PropTypes.any,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$57 = {\n  tag: 'div'\n};\nvar childContextTypes$2 = {\n  activeTabId: PropTypes.any\n};\n\nvar TabContent = function (_Component) {\n  inherits(TabContent, _Component);\n\n  function TabContent(props) {\n    classCallCheck(this, TabContent);\n\n    var _this = possibleConstructorReturn(this, (TabContent.__proto__ || Object.getPrototypeOf(TabContent)).call(this, props));\n\n    _this.state = {\n      activeTab: _this.props.activeTab\n    };\n    return _this;\n  }\n\n  createClass(TabContent, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        activeTabId: this.state.activeTab\n      };\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.activeTab !== nextProps.activeTab) {\n        this.setState({\n          activeTab: nextProps.activeTab\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          cssModule = _props.cssModule,\n          Tag = _props.tag;\n      var attributes = omit(this.props, Object.keys(propTypes$63));\n      var classes = mapToCssModules(classNames('tab-content', className), cssModule);\n      return React.createElement(Tag, _extends({}, attributes, {\n        className: classes\n      }));\n    }\n  }]);\n  return TabContent;\n}(Component);\n\nTabContent.propTypes = propTypes$63;\nTabContent.defaultProps = defaultProps$57;\nTabContent.childContextTypes = childContextTypes$2;\nvar propTypes$64 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  tabId: PropTypes.any\n};\nvar defaultProps$58 = {\n  tag: 'div'\n};\nvar contextTypes$3 = {\n  activeTabId: PropTypes.any\n};\n\nfunction TabPane(props, context) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      tabId = props.tabId,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tabId', 'tag']);\n  var classes = mapToCssModules(classNames('tab-pane', className, {\n    active: tabId === context.activeTabId\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n}\n\nTabPane.propTypes = propTypes$64;\nTabPane.defaultProps = defaultProps$58;\nTabPane.contextTypes = contextTypes$3;\nvar propTypes$65 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps$59 = {\n  tag: 'div'\n};\n\nvar Jumbotron = function Jumbotron(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      fluid = props.fluid,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'fluid']);\n  var classes = mapToCssModules(classNames(className, 'jumbotron', fluid ? 'jumbotron-fluid' : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nJumbotron.propTypes = propTypes$65;\nJumbotron.defaultProps = defaultProps$59;\nvar propTypes$66 = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  closeAriaLabel: PropTypes.string,\n  cssModule: PropTypes.object,\n  color: PropTypes.string,\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transition: PropTypes.shape(Fade.propTypes)\n};\nvar defaultProps$60 = {\n  color: 'success',\n  isOpen: true,\n  tag: 'div',\n  closeAriaLabel: 'Close',\n  transition: _extends({}, Fade.defaultProps, {\n    unmountOnExit: true\n  })\n};\n\nfunction Alert(props) {\n  var className = props.className,\n      closeClassName = props.closeClassName,\n      closeAriaLabel = props.closeAriaLabel,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      color = props.color,\n      isOpen = props.isOpen,\n      toggle = props.toggle,\n      children = props.children,\n      transition = props.transition,\n      attributes = objectWithoutProperties(props, ['className', 'closeClassName', 'closeAriaLabel', 'cssModule', 'tag', 'color', 'isOpen', 'toggle', 'children', 'transition']);\n  var classes = mapToCssModules(classNames(className, 'alert', 'alert-' + color, {\n    'alert-dismissible': toggle\n  }), cssModule);\n  var closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n  return React.createElement(Fade, _extends({}, attributes, transition, {\n    tag: Tag,\n    className: classes,\n    'in': isOpen,\n    role: 'alert'\n  }), toggle ? React.createElement('button', {\n    type: 'button',\n    className: closeClasses,\n    'aria-label': closeAriaLabel,\n    onClick: toggle\n  }, React.createElement('span', {\n    'aria-hidden': 'true'\n  }, '\\xD7')) : null, children);\n}\n\nAlert.propTypes = propTypes$66;\nAlert.defaultProps = defaultProps$60;\n\nvar _transitionStatusToCl;\n\nvar propTypes$67 = _extends({}, Transition.propTypes, {\n  isOpen: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.node,\n  navbar: PropTypes.bool,\n  cssModule: PropTypes.object\n});\n\nvar defaultProps$61 = _extends({}, Transition.defaultProps, {\n  isOpen: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  tag: 'div',\n  timeout: TransitionTimeouts.Collapse\n});\n\nvar transitionStatusToClassHash = (_transitionStatusToCl = {}, defineProperty(_transitionStatusToCl, TransitionStatuses.ENTERING, 'collapsing'), defineProperty(_transitionStatusToCl, TransitionStatuses.ENTERED, 'collapse show'), defineProperty(_transitionStatusToCl, TransitionStatuses.EXITING, 'collapsing'), defineProperty(_transitionStatusToCl, TransitionStatuses.EXITED, 'collapse'), _transitionStatusToCl);\n\nfunction getTransitionClass(status) {\n  return transitionStatusToClassHash[status] || 'collapse';\n}\n\nfunction getHeight(node) {\n  return node.scrollHeight;\n}\n\nvar Collapse = function (_Component) {\n  inherits(Collapse, _Component);\n\n  function Collapse(props) {\n    classCallCheck(this, Collapse);\n\n    var _this = possibleConstructorReturn(this, (Collapse.__proto__ || Object.getPrototypeOf(Collapse)).call(this, props));\n\n    _this.state = {\n      height: null\n    };\n    ['onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'].forEach(function (name) {\n      _this[name] = _this[name].bind(_this);\n    });\n    return _this;\n  }\n\n  createClass(Collapse, [{\n    key: 'onEntering',\n    value: function onEntering(node, isAppearing) {\n      this.setState({\n        height: getHeight(node)\n      });\n      this.props.onEntering(node, isAppearing);\n    }\n  }, {\n    key: 'onEntered',\n    value: function onEntered(node, isAppearing) {\n      this.setState({\n        height: null\n      });\n      this.props.onEntered(node, isAppearing);\n    }\n  }, {\n    key: 'onExit',\n    value: function onExit(node) {\n      this.setState({\n        height: getHeight(node)\n      });\n      this.props.onExit(node);\n    }\n  }, {\n    key: 'onExiting',\n    value: function onExiting(node) {\n      // getting this variable triggers a reflow\n      var _unused = node.offsetHeight; // eslint-disable-line no-unused-vars\n\n      this.setState({\n        height: 0\n      });\n      this.props.onExiting(node);\n    }\n  }, {\n    key: 'onExited',\n    value: function onExited(node) {\n      this.setState({\n        height: null\n      });\n      this.props.onExited(node);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          Tag = _props.tag,\n          isOpen = _props.isOpen,\n          className = _props.className,\n          navbar = _props.navbar,\n          cssModule = _props.cssModule,\n          children = _props.children,\n          otherProps = objectWithoutProperties(_props, ['tag', 'isOpen', 'className', 'navbar', 'cssModule', 'children']);\n      var height = this.state.height; // In NODE_ENV=production the Transition.propTypes are wrapped which results in an\n      // empty object \"{}\". This is the result of the `react-transition-group` babel\n      // configuration settings. Therefore, to ensure that production builds work without\n      // error, we can either explicitly define keys or use the Transition.defaultProps.\n      // Using the Transition.defaultProps excludes any required props. Thus, the best\n      // solution is to explicitly define required props in our utilities and reference these.\n      // This also gives us more flexibility in the future to remove the prop-types\n      // dependency in distribution builds (Similar to how `react-transition-group` does).\n      // Note: Without omitting the `react-transition-group` props, the resulting child\n      // Tag component would inherit the Transition properties as attributes for the HTML\n      // element which results in errors/warnings for non-valid attributes.\n\n      var transitionProps = pick(otherProps, TransitionPropTypeKeys);\n      var childProps = omit(otherProps, TransitionPropTypeKeys);\n      return React.createElement(Transition, _extends({}, transitionProps, {\n        'in': isOpen,\n        onEntering: this.onEntering,\n        onEntered: this.onEntered,\n        onExit: this.onExit,\n        onExiting: this.onExiting,\n        onExited: this.onExited\n      }), function (status) {\n        var collapseClass = getTransitionClass(status);\n        var classes = mapToCssModules(classNames(className, collapseClass, navbar && 'navbar-collapse'), cssModule);\n        var style = height === null ? null : {\n          height: height\n        };\n        return React.createElement(Tag, _extends({}, childProps, {\n          style: _extends({}, childProps.style, style),\n          className: classes\n        }), children);\n      });\n    }\n  }]);\n  return Collapse;\n}(Component);\n\nCollapse.propTypes = propTypes$67;\nCollapse.defaultProps = defaultProps$61;\nvar propTypes$68 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  color: PropTypes.string,\n  action: PropTypes.bool,\n  className: PropTypes.any,\n  cssModule: PropTypes.object\n};\nvar defaultProps$62 = {\n  tag: 'li'\n};\n\nvar handleDisabledOnClick = function handleDisabledOnClick(e) {\n  e.preventDefault();\n};\n\nvar ListGroupItem = function ListGroupItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      active = props.active,\n      disabled = props.disabled,\n      action = props.action,\n      color = props.color,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag', 'active', 'disabled', 'action', 'color']);\n  var classes = mapToCssModules(classNames(className, active ? 'active' : false, disabled ? 'disabled' : false, action ? 'list-group-item-action' : false, color ? 'list-group-item-' + color : false, 'list-group-item'), cssModule); // Prevent click event when disabled.\n\n  if (disabled) {\n    attributes.onClick = handleDisabledOnClick;\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroupItem.propTypes = propTypes$68;\nListGroupItem.defaultProps = defaultProps$62;\nvar propTypes$69 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.any,\n  cssModule: PropTypes.object\n};\nvar defaultProps$63 = {\n  tag: 'h5'\n};\n\nvar ListGroupItemHeading = function ListGroupItemHeading(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'list-group-item-heading'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroupItemHeading.propTypes = propTypes$69;\nListGroupItemHeading.defaultProps = defaultProps$63;\nvar propTypes$70 = {\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  className: PropTypes.any,\n  cssModule: PropTypes.object\n};\nvar defaultProps$64 = {\n  tag: 'p'\n};\n\nvar ListGroupItemText = function ListGroupItemText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = objectWithoutProperties(props, ['className', 'cssModule', 'tag']);\n  var classes = mapToCssModules(classNames(className, 'list-group-item-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nListGroupItemText.propTypes = propTypes$70;\nListGroupItemText.defaultProps = defaultProps$64;\n\nvar UncontrolledAlert = function (_Component) {\n  inherits(UncontrolledAlert, _Component);\n\n  function UncontrolledAlert(props) {\n    classCallCheck(this, UncontrolledAlert);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledAlert.__proto__ || Object.getPrototypeOf(UncontrolledAlert)).call(this, props));\n\n    _this.state = {\n      isOpen: true\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledAlert, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Alert, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledAlert;\n}(Component);\n\nvar UncontrolledButtonDropdown = function (_Component) {\n  inherits(UncontrolledButtonDropdown, _Component);\n\n  function UncontrolledButtonDropdown(props) {\n    classCallCheck(this, UncontrolledButtonDropdown);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledButtonDropdown.__proto__ || Object.getPrototypeOf(UncontrolledButtonDropdown)).call(this, props));\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledButtonDropdown, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(ButtonDropdown, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledButtonDropdown;\n}(Component);\n\nvar UncontrolledDropdown = function (_Component) {\n  inherits(UncontrolledDropdown, _Component);\n\n  function UncontrolledDropdown(props) {\n    classCallCheck(this, UncontrolledDropdown);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledDropdown.__proto__ || Object.getPrototypeOf(UncontrolledDropdown)).call(this, props));\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledDropdown, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Dropdown, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledDropdown;\n}(Component);\n\nvar UncontrolledNavDropdown = function UncontrolledNavDropdown(props) {\n  warnOnce('The \"UncontrolledNavDropdown\" component has been deprecated.\\nPlease use component \"UncontrolledDropdown\" with nav prop.');\n  return React.createElement(UncontrolledDropdown, _extends({\n    nav: true\n  }, props));\n};\n\nvar UncontrolledTooltip = function (_Component) {\n  inherits(UncontrolledTooltip, _Component);\n\n  function UncontrolledTooltip(props) {\n    classCallCheck(this, UncontrolledTooltip);\n\n    var _this = possibleConstructorReturn(this, (UncontrolledTooltip.__proto__ || Object.getPrototypeOf(UncontrolledTooltip)).call(this, props));\n\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_this);\n    return _this;\n  }\n\n  createClass(UncontrolledTooltip, [{\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(Tooltip, _extends({\n        isOpen: this.state.isOpen,\n        toggle: this.toggle\n      }, this.props));\n    }\n  }]);\n  return UncontrolledTooltip;\n}(Component);\n\nexport { Alert, Container, Row, Col, Navbar, NavbarBrand, NavbarToggler, Nav, NavItem, NavDropdown, NavLink, Breadcrumb, BreadcrumbItem, Button, ButtonDropdown, ButtonGroup, ButtonToolbar, Dropdown, DropdownItem, DropdownMenu, DropdownToggle, Fade, Badge, Card, CardLink, CardGroup, CardDeck, CardColumns, CardBody, CardBlock, CardFooter, CardHeader, CardImg, CardImgOverlay, Carousel, UncontrolledCarousel, CarouselControl, CarouselItem, CarouselIndicators, CarouselCaption, CardSubtitle, CardText, CardTitle, Popover, PopoverContent, PopoverBody, PopoverTitle, PopoverHeader, Progress, Modal, ModalHeader, ModalBody, ModalFooter, PopperContent, PopperTargetHelper, Tooltip, Table, ListGroup, Form, FormFeedback, FormGroup, FormText, Input, InputGroup, InputGroupAddon, InputGroupButton, InputGroupButtonDropdown, InputGroupText, Label, Media, Pagination, PaginationItem, PaginationLink, TabContent, TabPane, Jumbotron, Collapse, ListGroupItem, ListGroupItemText, ListGroupItemHeading, UncontrolledAlert, UncontrolledButtonDropdown, UncontrolledDropdown, UncontrolledNavDropdown, UncontrolledTooltip, utils as Util };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Tooltip } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar IconButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(IconButton, _React$Component);\n\n  function IconButton(props) {\n    var _this;\n\n    _classCallCheck(this, IconButton);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IconButton).call(this, props));\n\n    _this.toggle = function () {\n      if (_this.props.disabled || _this.state.isFreezed && !_this.state.tooltipOpen) return;\n\n      _this.setState({\n        tooltipOpen: !_this.state.tooltipOpen,\n        isFreezed: true\n      });\n\n      var that = _assertThisInitialized(_this);\n\n      setTimeout(function () {\n        that.setState({\n          isFreezed: false\n        });\n      }, 100);\n    };\n\n    _this.state = {\n      tooltipOpen: false,\n      isFreezed: false\n    };\n    return _this;\n  }\n\n  _createClass(IconButton, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (this.props.disabled !== nextProps.disabled) {\n        this.setState({\n          tooltipOpen: false\n        });\n        return true;\n      } // only render iconButton when the button is active or show show tooltip\n\n\n      if (nextState.tooltipOpen === this.state.tooltipOpen && nextProps.isActive === this.props.isActive) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.props.isRichEditor ? 'rich-icon-btn ' + (this.props.disabled ? 'rich-icon-btn-disabled' : 'rich-icon-btn-hover') : 'btn btn-icon btn-secondary btn-active';\n      return React.createElement(\"button\", {\n        id: this.props.id,\n        type: 'button',\n        onClick: this.props.disabled ? null : this.props.onClick,\n        onMouseDown: this.props.disabled ? null : this.props.onMouseDown,\n        className: className,\n        \"data-active\": this.props.isActive || false,\n        disabled: this.props.disabled\n      }, React.createElement(\"i\", {\n        className: this.props.icon\n      }), React.createElement(Tooltip, {\n        toggle: this.toggle,\n        delay: {\n          show: 0,\n          hide: 0\n        },\n        target: this.props.id,\n        placement: \"bottom\",\n        isOpen: this.state.tooltipOpen\n      }, this.props.text));\n    }\n  }]);\n\n  return IconButton;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(IconButton);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { Fragment } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\nimport { EditorUtils } from '../editor/editor-utils/common-editor-utils';\n\nvar AddLinkDialog =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(AddLinkDialog, _React$PureComponent);\n\n  function AddLinkDialog(props) {\n    var _this;\n\n    _classCallCheck(this, AddLinkDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddLinkDialog).call(this, props));\n\n    _this.setInitialValue = function () {\n      var text = _this.editorUtils.getSelectedText();\n\n      if (_this.isLinkActive) {\n        var linkNode = _this.editorUtils.getCurrentLinkNode();\n\n        _this.setState({\n          title: _this.editorUtils.getLinkText(linkNode),\n          url: linkNode.data.href\n        });\n      } else {\n        _this.setState({\n          title: text,\n          url: ''\n        });\n      }\n    };\n\n    _this.handleUrlChange = function (event) {\n      _this.setState({\n        url: event.target.value\n      });\n    };\n\n    _this.handleTitleChange = function (event) {\n      _this.setState({\n        title: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (!_this.isLinkActive) {\n        _this.editorUtils.insertLink({\n          text: _this.state.title,\n          url: _this.state.url,\n          selection: _this.editorSelection\n        });\n      } else {\n        _this.editorUtils.setLink({\n          text: _this.state.title,\n          url: _this.state.url,\n          selection: _this.editorSelection\n        });\n      }\n\n      _this.props.toggleLinkDialog();\n    };\n\n    _this.editorUtils = new EditorUtils(window.seafileEditor);\n    _this.isLinkActive = _this.editorUtils.isLinkActive();\n    _this.editorSelection = null;\n    _this.state = {\n      url: '',\n      title: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddLinkDialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.editorSelection = window.seafileEditor.selection;\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setInitialValue();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        isOpen: true,\n        toggle: this.props.toggleLinkDialog,\n        className: this.props.className\n      }, React.createElement(ModalHeader, {\n        toggle: this.props.toggleLinkDialog\n      }, this.props.t('insert_link')), React.createElement(ModalBody, null, React.createElement(Fragment, null, React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"addLink\"\n      }, this.props.t('link_address')), React.createElement(\"input\", {\n        type: \"url\",\n        className: \"form-control\",\n        id: \"addLink\",\n        value: this.state.url,\n        onChange: this.handleUrlChange\n      })), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"addTitle\"\n      }, this.props.t('link_title')), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"addTitle\",\n        value: this.state.title,\n        onChange: this.handleTitleChange\n      })))), React.createElement(ModalFooter, null, React.createElement(Button, {\n        color: \"primary\",\n        disabled: false,\n        onClick: this.handleSubmit\n      }, this.props.t('add_link')), React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.props.toggleLinkDialog\n      }, this.props.t('cancel'))));\n    }\n  }]);\n\n  return AddLinkDialog;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(AddLinkDialog);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar AddImageDialog =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(AddImageDialog, _React$PureComponent);\n\n  function AddImageDialog(props) {\n    var _this;\n\n    _classCallCheck(this, AddImageDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddImageDialog).call(this, props));\n\n    _this.handleUrlChange = function (event) {\n      _this.setState({\n        url: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      _this.props.insertImage({\n        url: _this.state.url,\n        selection: _this.editorSelection\n      });\n\n      _this.props.onToggleImageDialog();\n    };\n\n    _this.state = {\n      url: ''\n    };\n    _this.editorSelection = null;\n    return _this;\n  }\n\n  _createClass(AddImageDialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.editorSelection = window.seafileEditor.selection;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        isOpen: true,\n        toggle: this.props.onToggleImageDialog,\n        className: this.props.className\n      }, React.createElement(ModalHeader, {\n        toggle: this.props.onToggleImageDialog\n      }, this.props.t('insert_image')), React.createElement(ModalBody, null, React.createElement(\"p\", null, this.props.t('image_address')), React.createElement(\"input\", {\n        type: \"url\",\n        value: this.state.value,\n        onChange: this.handleUrlChange\n      })), React.createElement(ModalFooter, null, React.createElement(Button, {\n        color: \"primary\",\n        disabled: this.state.url.length === 0,\n        onClick: this.handleSubmit\n      }, this.props.t('submit')), ' ', React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.props.onToggleImageDialog\n      }, this.props.t('cancel'))));\n    }\n  }]);\n\n  return AddImageDialog;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(AddImageDialog);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport IconButton from './icon-button';\nimport ButtonGroup from './button-group';\nimport { withTranslation } from 'react-i18next';\n\nvar TableToolBar =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(TableToolBar, _React$PureComponent);\n\n  function TableToolBar() {\n    _classCallCheck(this, TableToolBar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TableToolBar).apply(this, arguments));\n  }\n\n  _createClass(TableToolBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(DropList, {\n        icon: 'ico ico-left-align',\n        items: [{\n          handle: function handle(e) {\n            _this.props.onSetAlign(e, 'left');\n          },\n          icon: 'ico ico-left-align',\n          text: this.props.t('left')\n        }, {\n          handle: function handle(e) {\n            _this.props.onSetAlign(e, 'center');\n          },\n          icon: 'ico ico-center-horizontally',\n          text: this.props.t('center')\n        }, {\n          handle: function handle(e) {\n            _this.props.onSetAlign(e, 'right');\n          },\n          icon: 'ico ico-right-align',\n          text: this.props.t('right')\n        }]\n      }), React.createElement(DropList, {\n        icon: 'ico ico-column',\n        items: [{\n          handle: this.props.onInsertColumn,\n          text: this.props.t('Insert_Column')\n        }, {\n          handle: this.props.onRemoveColumn,\n          text: this.props.t('Remove_Column')\n        }]\n      }), React.createElement(DropList, {\n        icon: 'ico ico-row',\n        items: [{\n          handle: this.props.onInsertRow,\n          text: this.props.t('Insert_Row')\n        }, {\n          handle: this.props.onRemoveRow,\n          text: this.props.t('Remove_Row')\n        }]\n      }), React.createElement(IconButton, {\n        disabled: false,\n        isRichEditor: true,\n        text: this.props.t('remove_table'),\n        id: 'removeTable',\n        icon: 'ico ico-delete-table',\n        onMouseDown: this.props.onRemoveTable\n      }));\n    }\n  }]);\n\n  return TableToolBar;\n}(React.PureComponent);\n\nvar DropList =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(DropList, _React$PureComponent2);\n\n  function DropList(props) {\n    var _this2;\n\n    _classCallCheck(this, DropList);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(DropList).call(this, props));\n\n    _this2.handleClick = function (event) {\n      if (_this2.props.disabled) return;\n\n      var container = _this2.getContainer();\n\n      if (container.contains(event.target)) {\n        _this2.toggle();\n      } else {\n        if (_this2.state.dropdownOpen) {\n          _this2.setState({\n            dropdownOpen: !_this2.state.dropdownOpen\n          });\n        }\n      }\n    };\n\n    _this2.toggle = function () {\n      _this2.setState({\n        dropdownOpen: !_this2.state.dropdownOpen\n      });\n    };\n\n    _this2.state = {\n      dropdownOpen: false\n    };\n    return _this2;\n  }\n\n  _createClass(DropList, [{\n    key: \"getContainer\",\n    value: function getContainer() {\n      return ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var items = [];\n      this.props.items.forEach(function (item, index) {\n        items.push(React.createElement(\"button\", {\n          key: 'dropdown-item' + index,\n          onMouseDown: item.handle,\n          className: 'dropdown-item'\n        }, item.icon ? React.createElement(\"i\", {\n          className: item.icon,\n          style: {\n            marginRight: '6px'\n          }\n        }) : null, item.text));\n      });\n      return React.createElement(\"div\", {\n        className: 'custom-dropdown-list'\n      }, React.createElement(\"div\", {\n        id: 'list_toggle',\n        className: 'dropdown-list-toggle'\n      }, React.createElement(\"i\", {\n        className: this.props.icon,\n        style: {\n          marginRight: '3px'\n        }\n      }), React.createElement(\"i\", {\n        className: this.state.dropdownOpen ? 'fa fa-caret-up' : 'fa fa-caret-down'\n      })), this.state.dropdownOpen && React.createElement(\"div\", {\n        role: 'menu',\n        className: 'custom-dropdown-menu dropdown-menu'\n      }, items));\n    }\n  }]);\n\n  return DropList;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(TableToolBar);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem, Tooltip } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar UploadImg =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UploadImg, _React$Component);\n\n  function UploadImg() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UploadImg);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UploadImg)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      dropdownOpen: false,\n      tooltipOpen: false\n    };\n\n    _this.imgtoggle = function () {\n      _this.setState({\n        dropdownOpen: !_this.state.dropdownOpen\n      });\n    };\n\n    _this.toggle = function () {\n      if (_this.props.disabled) {\n        _this.setState({\n          tooltipOpen: false\n        });\n\n        return;\n      }\n\n      _this.setState({\n        tooltipOpen: !_this.state.tooltipOpen\n      });\n    };\n\n    _this.uploadLocalImage = function (event) {\n      window.seafileEditor.editorApi.uploadLocalImage(event.target.files[0]).then(function (res) {\n        _this.props.onInsertImage({\n          url: res\n        });\n      });\n    };\n\n    _this.handleFileChange = function (event) {\n      _this.uploadLocalImage(event);\n\n      _this.setState({\n        dropdownOpen: false\n      });\n    };\n\n    _this.onInputFile = function (event) {\n      event.target.value = null;\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    };\n\n    return _this;\n  }\n\n  _createClass(UploadImg, [{\n    key: \"render\",\n    value: function render() {\n      var t = this.props.t;\n      return React.createElement(React.Fragment, null, React.createElement(Dropdown, {\n        isOpen: this.state.dropdownOpen,\n        toggle: this.imgtoggle,\n        className: this.props.disabled ? 'upload-localimg upload-localimg-disabled' : 'upload-localimg upload-localimg-hover'\n      }, React.createElement(DropdownToggle, {\n        id: this.props.id,\n        disabled: this.props.disabled\n      }, React.createElement(\"i\", {\n        className: \"fa fa-image\"\n      }), React.createElement(Tooltip, {\n        toggle: this.toggle,\n        delay: {\n          show: 0,\n          hide: 0\n        },\n        target: this.props.id,\n        placement: \"bottom\",\n        isOpen: this.state.tooltipOpen\n      }, t('insert_image'))), React.createElement(DropdownMenu, null, React.createElement(DropdownItem, {\n        onClick: this.props.onToggleImageDialog\n      }, t('insert_network_image')), !this.props.isSimpleEditor && React.createElement(DropdownItem, {\n        onMouseDown: this.props.editor.insertRepoImage\n      }, t('Insert_library_image')), React.createElement(DropdownItem, {\n        className: \"seafile-ed-dropbtn\"\n      }, React.createElement(\"span\", {\n        className: \"seafile-ed-localimgspan\"\n      }, React.createElement(\"span\", {\n        className: \"upload-local-image-word\"\n      }, t('upload_local_image')), React.createElement(\"input\", {\n        type: \"file\",\n        onClick: this.onInputFile,\n        className: \"seafile-ed-localimginput\",\n        accept: \"image/*\",\n        onChange: this.handleFileChange\n      }))))));\n    }\n  }]);\n\n  return UploadImg;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(UploadImg);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport HeaderList from '../components/topbar-component/header-list';\nimport ButtonGroup from '../components/topbar-component/button-group';\nimport IconButton from '../components/topbar-component/icon-button';\nimport { withTranslation } from 'react-i18next';\nimport AddLinkDialog from './add-link-dialog';\nimport AddImageDialog from './add-image-dialog';\nimport TableToolBar from './topbar-component/table-toolbar';\nimport { EditorUtils } from '../editor/editor-utils/common-editor-utils';\nimport UploadImg from './topbar-component/upload-img'; // import InsertFile from './topbarcomponent/insertFile';\n\nvar ToolBar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ToolBar, _React$Component);\n\n  function ToolBar(props) {\n    var _this;\n\n    _classCallCheck(this, ToolBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToolBar).call(this, props));\n\n    _this.onToggleLink = function (event) {\n      var isLinkActive = _this.editorUtils.isLinkActive();\n\n      if (!isLinkActive) {\n        _this.props.onToggleLinkDialog();\n\n        return;\n      } else {\n        _this.editorUtils.unwrapLink();\n      }\n    };\n\n    _this.editor = window.seafileEditor;\n    _this.editorUtils = new EditorUtils(_this.editor);\n    return _this;\n  }\n\n  _createClass(ToolBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      var toolbarStatus = this.props.toolbarStatus;\n      var readOnly = this.props.readOnly;\n      var isTableActive = toolbarStatus.isTableActive,\n          isHeadActive = toolbarStatus.isHeadActive,\n          isCodeActive = toolbarStatus.isCodeActive,\n          isBoldActive = toolbarStatus.isBoldActive,\n          isItalicActive = toolbarStatus.isItalicActive,\n          isInlineCodeActive = toolbarStatus.isInlineCodeActive,\n          isLinkActive = toolbarStatus.isLinkActive,\n          isBlockquoteActive = toolbarStatus.isBlockquoteActive,\n          isOrderedListActive = toolbarStatus.isOrderedListActive,\n          isUnorderedListActive = toolbarStatus.isUnorderedListActive,\n          isCheckListActive = toolbarStatus.isCheckListActive;\n      return React.createElement(\"div\", {\n        className: 'sf-editor-rich-menu ' + (this.props.isSimpleEditor ? '' : 'rich-menu')\n      }, React.createElement(\"div\", {\n        className: 'button-container'\n      }, !readOnly && React.createElement(\"div\", {\n        className: 'header-list-container'\n      }, React.createElement(HeaderList, {\n        disabled: isCodeActive || isTableActive,\n        headerType: toolbarStatus.headerType,\n        onClickHeader: this.editorUtils.onClickHeader\n      })), React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('bold'),\n        id: 'BOLDButton',\n        icon: 'fa fa-bold',\n        isActive: isBoldActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickMark(event, 'BOLD');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('italic'),\n        id: 'ITALICButton',\n        icon: 'fa fa-italic',\n        isActive: isItalicActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickMark(event, 'ITALIC');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('code'),\n        id: 'CODEButton',\n        icon: 'fa fa-code',\n        isActive: isInlineCodeActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickMark(event, 'CODE');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('insert_link'),\n        id: 'linkButton',\n        icon: 'fa fa-link',\n        isActive: isLinkActive,\n        onMouseDown: this.onToggleLink\n      })), React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('quote'),\n        id: 'block-quoteButton',\n        icon: 'fa fa-quote-left',\n        isActive: isBlockquoteActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'blockquote');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('ordered_list'),\n        id: 'ordered_listButton',\n        icon: 'fa fa-list-ol',\n        isActive: isOrderedListActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'ordered_list');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('unordered_list'),\n        id: 'unordered_listButton',\n        icon: 'fa fa-list-ul',\n        isActive: isUnorderedListActive,\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'unordered_list');\n        }\n      }), React.createElement(IconButton, {\n        disabled: isTableActive || isCodeActive || isHeadActive,\n        isRichEditor: true,\n        text: t('check_list_item'),\n        id: 'checkListItemButton',\n        icon: 'fa fa-check-square',\n        isActive: isCheckListActive,\n        onMouseDown: this.editorUtils.onToggleCheckItem\n      })), React.createElement(ButtonGroup, {\n        className: 'editor-btn-group'\n      }, React.createElement(IconButton, {\n        disabled: isTableActive || isHeadActive,\n        isRichEditor: true,\n        text: t('code_block'),\n        id: 'codeButton',\n        icon: 'ico ico-code-block',\n        onMouseDown: function onMouseDown(event) {\n          return _this2.editorUtils.onClickBlock(event, 'code_block');\n        },\n        isActive: isCodeActive && !readOnly\n      }), React.createElement(IconButton, {\n        disabled: isCodeActive || isTableActive || isHeadActive,\n        isRichEditor: true,\n        text: t('insert_table'),\n        id: 'tableButton',\n        icon: 'fa fa-table',\n        onMouseDown: this.editorUtils.onAddTable\n      }), React.createElement(UploadImg, {\n        disabled: isCodeActive || isHeadActive,\n        text: 'insert_image',\n        id: 'insertImageButton',\n        isSimpleEditor: this.props.isSimpleEditor,\n        onInsertImage: this.editorUtils.insertImage,\n        toolbarStatus: this.props.toolbarStatus,\n        onToggleImageDialog: this.props.onToggleImageDialog\n      })), isTableActive && !readOnly && React.createElement(TableToolBar, {\n        onRemoveTable: this.editorUtils.onRemoveTable,\n        onInsertColumn: this.editorUtils.onInsertColumn,\n        onRemoveColumn: this.editorUtils.onRemoveColumn,\n        onInsertRow: this.editorUtils.onInsertRow,\n        onRemoveRow: this.editorUtils.onRemoveRow,\n        onSetAlign: this.editorUtils.onSetAlign\n      })), this.props.isShowLinkDialog && React.createElement(AddLinkDialog, {\n        toggleLinkDialog: this.props.onToggleLinkDialog\n      }), this.props.isShowImageDialog && React.createElement(AddImageDialog, {\n        onToggleImageDialog: this.props.onToggleImageDialog,\n        insertImage: this.editorUtils.insertImage\n      }));\n    }\n  }]);\n\n  return ToolBar;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(ToolBar);","import { Range } from 'slate';\n\nvar isRangeCollapsed = function isRangeCollapsed(range) {\n  if (range) {\n    return Range.isCollapsed(range);\n  }\n};\n\nexport { isRangeCollapsed };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { Button } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\n\nvar TextLinkHoverMenu =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(TextLinkHoverMenu, _React$PureComponent);\n\n  function TextLinkHoverMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TextLinkHoverMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TextLinkHoverMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      link: ''\n    };\n\n    _this.saveRef = function (ref) {\n      _this.refDom = ref;\n    };\n\n    _this.setLink = function () {\n      var linkNode = _this.props.editorUtils.getCurrentLinkNode();\n\n      if (linkNode) {\n        _this.setState({\n          link: linkNode.data.href\n        });\n      }\n    };\n\n    _this.setMenuPosition = function () {\n      if (_this.refDom && window.getSelection().anchorOffset !== 0 && window.getSelection().focusOffset !== 0) {\n        var native = window.getSelection();\n        var range = native.getRangeAt(0);\n        var rect = range.getBoundingClientRect();\n\n        if (navigator.userAgent.indexOf('Chrome') < 0 && navigator.userAgent.indexOf('Safari') > 0) {\n          if (range.collapsed && rect.top === 0 && rect.height === 0) {\n            if (range.startOffset === 0) {\n              range.setEnd(range.endContainer, 1);\n            } else {\n              range.setStart(range.startContainer, range.startOffset - 1);\n            }\n\n            rect = range.getBoundingClientRect();\n\n            if (rect.top === 0 && rect.height === 0) {\n              if (range.getClientRects().length) {\n                rect = range.getClientRects()[0];\n              }\n            }\n          }\n        }\n\n        var style = _this.refDom.style;\n        style.zIndex = '1050';\n        style.top = \"\".concat(rect.top - 45, \"px\");\n        var left = parseInt(rect.x - 125);\n\n        if (left < 0) {\n          style.left = '0px';\n        } else if (left + 250 > document.body.clientWidth) {\n          style.left = \"\".concat(document.body.clientWidth - 250, \"px\");\n        } else {\n          style.left = \"\".concat(rect.x - 125, \"px\");\n        }\n      }\n    };\n\n    _this.componentWillMount = function () {\n      _this.saveRef();\n\n      _this.setLink();\n    };\n\n    _this.componentDidMount = function () {\n      _this.setMenuPosition();\n    };\n\n    _this.componentWillUnmount = function () {\n      _this.refDom = null;\n    };\n\n    _this.componentWillUpdate = function () {\n      _this.setMenuPosition();\n\n      _this.setLink();\n    };\n\n    return _this;\n  }\n\n  _createClass(TextLinkHoverMenu, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"seafile-ed-hovermenu\",\n        ref: this.saveRef\n      }, React.createElement(\"a\", {\n        href: this.state.link,\n        target: \"blank\",\n        className: \"seafile-ed-hovermenu-link\"\n      }, this.state.link), React.createElement(Button, {\n        color: \"\",\n        className: \"seafile-ed-hovermenu-btn\",\n        onClick: this.props.editorUtils.unwrapLink\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\"\n      })), React.createElement(Button, {\n        color: \"\",\n        onClick: this.props.onToggleLinkDialog,\n        className: \"seafile-ed-hovermenu-btn\"\n      }, React.createElement(\"i\", {\n        className: \"fa fa-edit\"\n      })), React.createElement(\"span\", {\n        className: \"seafile-ed-hovermenu-triangle\"\n      }));\n    }\n  }]);\n\n  return TextLinkHoverMenu;\n}(React.PureComponent);\n\nexport default withTranslation('seafile-editor')(TextLinkHoverMenu);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\n\nvar ContextMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContextMenu, _React$Component);\n\n  function ContextMenu(props) {\n    var _this;\n\n    _classCallCheck(this, ContextMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenu).call(this, props));\n\n    _this.setMenuPosition = function () {\n      var menuHeight = _this.menu.offsetHeight; // get height of context menu when the menu is drawing completed in this page\n\n      if (menuHeight === 0) {\n        requestAnimationFrame(_this.setMenuPosition);\n      }\n\n      var top = 0;\n\n      if (_this.position.top + menuHeight > document.body.clientHeight) {\n        top = document.body.clientHeight - menuHeight - 5;\n      } else {\n        top = _this.position.top;\n      }\n\n      var left = _this.position.left + 3;\n\n      _this.setState({\n        contextStyle: {\n          top: top,\n          left: left,\n          zIndex: '1051',\n          display: 'block'\n        }\n      });\n    };\n\n    _this.tableUtils = props.tableUtils;\n    _this.state = {\n      contextStyle: {}\n    };\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.position = this.props.contextMenuPosition;\n      this.setMenuPosition();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.menu = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        role: 'menu',\n        style: this.state.contextStyle,\n        ref: function ref(_ref) {\n          return _this2.menu = _ref;\n        },\n        className: 'seafile-contextmenu dropdown-menu'\n      }, React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertRow('before');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Row_Before')), React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertRow('after');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Row_After')), React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertColumn('before');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Column_Before')), React.createElement(\"button\", {\n        onMouseDown: function onMouseDown(event) {\n          return _this2.tableUtils.insertColumn('after');\n        },\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Insert_Column_After')), React.createElement(\"div\", {\n        className: 'seafile-divider dropdown-divider'\n      }), React.createElement(\"button\", {\n        onMouseDown: this.tableUtils.removeRow,\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Remove_Row')), React.createElement(\"button\", {\n        onMouseDown: this.tableUtils.removeColumn,\n        className: 'seafile-contextmenu-item dropdown-item'\n      }, this.props.t('Remove_Column')));\n    }\n  }]);\n\n  return ContextMenu;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(ContextMenu);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\n\nvar Link = function Link(options) {\n  _classCallCheck(this, Link);\n\n  this.type = options.type || 'link';\n  this.children = options.children || [{\n    text: ''\n  }];\n  this.data = options.data || {\n    href: ''\n  };\n};\n\nvar generateLinkElement = function generateLinkElement(options) {\n  return Object.assign({}, new Link(options));\n};\n\nexport default generateLinkElement;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\n\nvar Image = function Image(options) {\n  _classCallCheck(this, Image);\n\n  this.type = options.type || 'image';\n  this.data = options.data || {\n    src: ''\n  };\n  this.children = options.children || [{\n    text: ''\n  }];\n};\n\nvar generateImage = function generateImage(options) {\n  return Object.assign({}, new Image(options));\n};\n\nexport default generateImage;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Editor } from 'slate';\nimport ListUtils from '../editor-utils/block-element-utils/list-utils';\nimport CodeUtils from '../editor-utils/block-element-utils/code-utils';\nimport { isRangeCollapsed } from '../editor-utils/range-utils';\nimport TableUtils from '../editor-utils/block-element-utils/table-utils';\nimport getEventTransfer from '../custom/get-event-transfer';\nimport BlockquoteUtils from '../editor-utils/block-element-utils/blockquote-utils';\nimport { htmlDeserializer } from '../../utils/deserialize-html';\nimport generateLinkElement from '../element-model/link';\nimport generateImageElement from '../element-model/image';\nimport isUrl from 'is-url';\n\nvar withBlock = function withBlock(editor) {\n  var exec = editor.exec;\n  var listUtils = new ListUtils(editor);\n  var codeUtils = new CodeUtils(editor);\n  var tableUtils = new TableUtils(editor);\n  var blockquoteUtils = new BlockquoteUtils(editor);\n\n  editor.exec = function (command) {\n    var data = command.data;\n    var selection = editor.selection;\n\n    switch (command.type) {\n      case 'set_header':\n        Editor.setNodes(editor, {\n          type: command.headerType\n        });\n        break;\n\n      case 'insert_data':\n        var _getEventTransfer = getEventTransfer(data),\n            fragment = _getEventTransfer.fragment,\n            type = _getEventTransfer.type,\n            html = _getEventTransfer.html,\n            text = _getEventTransfer.text;\n\n        if (type === 'file') {\n          exec(command);\n          return;\n        } // insert a link if text content is a url\n\n\n        if (type === 'text' && !codeUtils.isInCodeBlock()) {\n          if (isUrl(text)) {\n            if (text.endsWith('png') || text.endsWith('PNG') || text.endsWith('jpg') || text.endsWith('JPG') || text.endsWith('gif') || text.endsWith('GIF')) {\n              var img = generateImageElement({\n                data: {\n                  src: text\n                }\n              });\n              Editor.insertNodes(editor, img);\n              return;\n            }\n\n            if (window.seafileEditor.editorApi.isInternalFileLink(text)) {\n              var index = text.lastIndexOf('/');\n\n              if (index > 0) {\n                var name = text.substring(index + 1);\n                var fileName = decodeURIComponent(name);\n                Editor.insertNodes(editor, generateLinkElement({\n                  data: {\n                    href: text\n                  },\n                  children: [{\n                    text: fileName\n                  }]\n                }));\n                return;\n              }\n            }\n\n            if (window.seafileEditor.editorApi.isInternalDirLink(text)) {\n              var _index = text.lastIndexOf('/');\n\n              if (_index > 0) {\n                var name = text.substring(_index + 1);\n                var dirName = decodeURIComponent(name);\n                Editor.insertNodes(editor, generateLinkElement({\n                  data: {\n                    href: text\n                  },\n                  children: [{\n                    text: dirName\n                  }]\n                }));\n                return editor;\n              }\n            }\n\n            Editor.insertNodes(editor, generateLinkElement({\n              data: {\n                href: text\n              },\n              children: [{\n                text: text\n              }]\n            }));\n            return;\n          }\n        }\n\n        if (tableUtils.isInTable()) {\n          tableUtils.pasteContentInTable(command);\n          return;\n        }\n\n        if (listUtils.isInlist()) {\n          listUtils.pasteContentInList(command);\n          return;\n        }\n\n        if (codeUtils.isInCodeBlock()) {\n          codeUtils.pasteContentInCodeBlock(command);\n          return;\n        }\n\n        if (blockquoteUtils.isInBlockquote()) {\n          blockquoteUtils.pasteContentInBlockquote(command);\n          return;\n        }\n\n        if (type === 'fragment') {\n          if (fragment.length === 1 && fragment[0].type === 'paragraph') {\n            Editor.insertFragment(editor, fragment);\n            return;\n          }\n\n          Editor.insertNodes(editor, fragment);\n          return;\n        }\n\n        if (type === 'html') {\n          var _fragment = htmlDeserializer(html);\n\n          Editor.insertNodes(editor, _fragment);\n          return;\n        }\n\n        exec(command);\n        break;\n\n      case 'set_blockquote':\n        if (!selection) {\n          return;\n        }\n\n        blockquoteUtils.wrapBlockquote();\n        break;\n\n      case 'unwrap_blockquote':\n        blockquoteUtils.unwrapBlockquote();\n        break;\n\n      case 'set_ordered_list':\n        if (!selection) {\n          return;\n        }\n\n        listUtils.wrapList('ordered_list');\n        break;\n\n      case 'set_unordered_list':\n        if (!selection) {\n          return;\n        }\n\n        listUtils.wrapList('unordered_list');\n        break;\n\n      case 'unwrap_unordered_list':\n      case 'unwrap_ordered_list':\n        listUtils.unwrapList();\n        break;\n\n      case 'wrap_check_list_item':\n        var listItem = listUtils.getCurrentListItem();\n\n        if (listItem.length === 0) {\n          // not in list, add list\n          listUtils.wrapList('unordered_list');\n          Editor.setNodes(editor, {\n            data: {\n              checked: false\n            }\n          }, {\n            match: {\n              type: 'list_item'\n            }\n          });\n        } else {\n          var listItems = Editor.nodes(editor, {\n            at: editor.selection,\n            match: {\n              type: 'list_item'\n            }\n          });\n          var nearestItem;\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = listItems[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var _listItem = _step.value;\n              nearestItem = _listItem;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          Editor.setNodes(editor, {\n            data: {\n              checked: false\n            }\n          }, {\n            at: nearestItem[1]\n          });\n        }\n\n        break;\n\n      case 'unwrap_check_list_item':\n        var item = listUtils.getCurrentListItem();\n        Editor.setNodes(editor, {\n          data: {}\n        }, {\n          at: item[0][1]\n        });\n        break;\n\n      case 'set_code_block':\n        codeUtils.wrapCodeBlock();\n        break;\n\n      case 'unwrap_code_block':\n        codeUtils.unwrapCodeBlock();\n        break;\n\n      case 'exit_code_block':\n        Editor.splitNodes(editor, {\n          match: 'block',\n          always: true\n        });\n        codeUtils.unwrapCodeBlock(true);\n        break;\n\n      case 'increase_code_block_indent':\n        if (isRangeCollapsed(editor.selection)) {\n          var block = Editor.match(editor, editor.selection, 'block');\n          Editor.insertText(editor, '\\t', {\n            at: {\n              anchor: {\n                path: [].concat(_toConsumableArray(block[1]), [0]),\n                offset: 0\n              },\n              focus: {\n                path: [].concat(_toConsumableArray(block[1]), [0]),\n                offset: 0\n              }\n            }\n          });\n        }\n\n        break;\n\n      case 'insert_table':\n        tableUtils.insertTable();\n        break;\n\n      case 'remove_table':\n        tableUtils.removeTable();\n        break;\n\n      case 'insert_row':\n        tableUtils.insertRow();\n        break;\n\n      case 'insert_column':\n        tableUtils.insertColumn();\n        break;\n\n      case 'remove_row':\n        tableUtils.removeRow();\n        break;\n\n      case 'remove_column':\n        tableUtils.removeColumn();\n        break;\n\n      case 'set_table_cell_align':\n        tableUtils.setAlign(command.align);\n        break;\n\n      case 'exit_table':\n        tableUtils.exitTable();\n        break;\n\n      default:\n        exec(command);\n        break;\n    }\n  };\n\n  return editor;\n};\n\nexport default withBlock;","import { Editor, Range } from 'slate';\nimport generateLinkElement from '../element-model/link';\nimport generateImageElement from '../element-model/image';\n\nvar withInline = function withInline(editor) {\n  var exec = editor.exec,\n      isInline = editor.isInline;\n\n  editor.isInline = function (element) {\n    return element.type === 'link' || element.type === 'image' ? true : isInline(element);\n  };\n\n  editor.exec = function (command) {\n    var data = command.data;\n    var selection = editor.selection;\n\n    switch (command.type) {\n      case 'insert_link_at_selection':\n        selection = command.elementData.selection;\n        var isCollapsed = selection && Range.isCollapsed(selection);\n        var link = generateLinkElement({\n          type: 'link',\n          children: [{\n            text: command.elementData.text\n          }],\n          data: {\n            href: command.elementData.url\n          }\n        });\n\n        if (isCollapsed) {\n          Editor.insertNodes(editor, link, {\n            at: selection\n          });\n        } else {\n          Editor.wrapNodes(editor, link, {\n            split: true,\n            at: selection\n          });\n          Editor.select(editor, selection);\n          Editor.collapse(editor, {\n            edge: 'end'\n          });\n        }\n\n        break;\n\n      case 'unwrap_link':\n        Editor.unwrapNodes(editor, {\n          match: {\n            type: 'link'\n          }\n        });\n        break;\n\n      case 'set_link':\n        Editor.removeNodes(editor, {\n          match: {\n            type: 'link'\n          }\n        });\n        var newNodeLink = generateLinkElement({\n          type: 'link',\n          data: {\n            href: command.elementData.url\n          },\n          children: [{\n            text: command.elementData.text\n          }]\n        });\n        Editor.insertNodes(editor, newNodeLink);\n        break;\n\n      case 'insert_image_at_selection':\n        var img = generateImageElement({\n          data: command.data\n        });\n        Editor.insertNodes(editor, img, {\n          at: command.at\n        });\n        break;\n\n      case 'set_image':\n        Editor.setNodes(editor, {\n          data: data\n        }, {\n          match: {\n            type: 'image'\n          },\n          at: editor.selection,\n          voids: true\n        });\n        break;\n\n      case 'insert_data':\n        if (data.types.includes('Files') && data.files[0].type.includes('image')) {\n          window.seafileEditor.editorApi.uploadLocalImage(command.data.files[0]).then(function (res) {\n            var img = generateImageElement({\n              data: {\n                src: res\n              }\n            });\n            Editor.insertNodes(editor, img);\n          });\n          return;\n        }\n\n        exec(command);\n        break;\n\n      default:\n        exec(command);\n        break;\n    }\n  };\n\n  return editor;\n};\n\nexport default withInline;","var withVoid = function withVoid(editor) {\n  var isVoid = editor.isVoid;\n\n  editor.isVoid = function (element) {\n    return element.type === 'image' ? true : isVoid(element);\n  };\n\n  return editor;\n};\n\nexport default withVoid;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { Editor } from 'slate';\n\nvar TextUtils = function TextUtils(_editor) {\n  var _this = this;\n\n  _classCallCheck(this, TextUtils);\n\n  this.getTextInfoBeforeSelection = function () {\n    var editor = _this.editor;\n    var selection = _this.editor.selection;\n    var anchor = selection.anchor;\n\n    var _Editor$nodes = Editor.nodes(editor, {\n      match: 'block'\n    }),\n        _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n        block = _Editor$nodes2[0];\n\n    var path = block ? block[1] : [];\n    var start = Editor.start(editor, path);\n    var range = {\n      anchor: anchor,\n      focus: start\n    };\n    var beforeText = Editor.text(editor, range);\n    return {\n      range: range,\n      beforeText: beforeText,\n      block: block\n    };\n  };\n\n  this.editor = _editor;\n} // Get text related variables before current selection\n// block: Parent of current text node\n// range: From start of block to current selection\n// beforeText: The text of block from start to selection\n;\n\nexport default TextUtils;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { Editor, Node, Range } from 'slate';\nimport ListUtils from '../editor-utils/block-element-utils/list-utils';\nimport { isRangeCollapsed } from '../editor-utils/range-utils';\nimport { SfEditor } from '../custom/custom';\nimport CodeUtils from '../editor-utils/block-element-utils/code-utils';\nimport TextUtils from '../editor-utils/text-utils';\nimport TableUtils from '../editor-utils/block-element-utils/table-utils';\nimport BlockquoteUtils from '../editor-utils/block-element-utils/blockquote-utils';\nvar SHORTCUTS = {\n  '1.': 'ordered_list',\n  '*': 'unordered_list',\n  '_': 'unordered_list',\n  '>': 'blockquote',\n  '#': 'header_one',\n  '##': 'header_two',\n  '###': 'header_three',\n  '####': 'header_four',\n  '#####': 'header_five',\n  '######': 'header_six',\n  '   ': 'code_block'\n};\n\nvar withMarkdownShortcut = function withMarkdownShortcut(editor) {\n  var exec = editor.exec;\n  var listUtils = new ListUtils(editor);\n  var codeUtils = new CodeUtils(editor);\n  var tableUtils = new TableUtils(editor);\n  var textUtils = new TextUtils(editor);\n  var blockquoteUtils = new BlockquoteUtils(editor);\n\n  editor.exec = function (command) {\n    var selection = editor.selection;\n\n    switch (command.type) {\n      case 'split_list_item':\n        Editor.splitNodes(editor, {\n          match: 'block',\n          always: true\n        });\n        break;\n\n      case 'insert_break':\n        if (!Range.isCollapsed(editor.selection)) {\n          exec(command);\n          return;\n        } // unwrap blockquote when press enter at an empty blockquote line;\n\n\n        if (blockquoteUtils.isInBlockquote()) {\n          var _Editor$nodes = Editor.nodes(editor, {\n            match: 'block'\n          }),\n              _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n              block = _Editor$nodes2[0];\n\n          if (Node.text(block[0]).length === 0) {\n            Editor.unwrapNodes(editor, {\n              match: {\n                type: 'blockquote'\n              },\n              split: true\n            });\n            return;\n          }\n        } // if press enter in a list unwrap the list or insert a new list item\n\n\n        if (listUtils.isInlist()) {\n          var node = SfEditor.getNodesByTypeAtRange(editor, 'list_item'); // unwrap list if the list item text is none\n\n          if (Node.text(node[0]).length === 0) {\n            listUtils.unwrapList();\n            return;\n          } // insert a new list item\n\n\n          if (isRangeCollapsed(editor.selection)) {\n            SfEditor.splitNodesAtPoint(editor, {\n              at: editor.selection.anchor,\n              match: {\n                type: 'list_item'\n              },\n              always: true\n            });\n            return;\n          }\n        }\n\n        if (codeUtils.isInCodeBlock()) {\n          codeUtils.splitCodeLine();\n          return;\n        }\n\n        if (tableUtils.isInTable()) {\n          tableUtils.insertRow();\n          return;\n        }\n\n        exec(command);\n        break;\n\n      case 'insert_text':\n        // set element by markdown shortcut;\n        if (command.text === ' ' && isRangeCollapsed(selection)) {\n          var _textUtils$getTextInf = textUtils.getTextInfoBeforeSelection(),\n              beforeText = _textUtils$getTextInf.beforeText,\n              range = _textUtils$getTextInf.range,\n              _block = _textUtils$getTextInf.block;\n\n          var path = _block[1];\n          var blockNode = _block[0];\n          var type = SHORTCUTS[beforeText];\n\n          if (!type || codeUtils.isInCodeBlock() || tableUtils.isInTable() || listUtils.isInlist() || blockNode.type !== 'paragraph') {\n            exec(command);\n            return;\n          }\n\n          Editor.select(editor, range);\n          Editor.delete(editor);\n\n          if (type === 'blockquote') {\n            if (!blockquoteUtils.isInBlockquote()) {\n              editor.exec({\n                type: 'set_blockquote'\n              });\n            }\n          }\n\n          if (type.includes('header')) {\n            // set the outest  paragraph into header \n            if (_block[0].type === 'paragraph' && path.length === 1) {\n              editor.exec({\n                type: 'set_header',\n                headerType: type\n              });\n            }\n          }\n\n          if (type === 'ordered_list') {\n            editor.exec({\n              type: 'set_ordered_list'\n            });\n          }\n\n          if (type === 'unordered_list') {\n            editor.exec({\n              type: 'set_unordered_list'\n            });\n          }\n\n          if (type === 'code_block') {\n            if (!codeUtils.isInCodeBlock()) {\n              editor.exec({\n                type: 'set_code_block'\n              });\n              return;\n            }\n          }\n        }\n\n        if (command.text === '`' && isRangeCollapsed(editor.selection)) {\n          var _textUtils$getTextInf2 = textUtils.getTextInfoBeforeSelection(),\n              _beforeText = _textUtils$getTextInf2.beforeText,\n              _range = _textUtils$getTextInf2.range;\n\n          if (_beforeText === '``' && !codeUtils.isInCodeBlock()) {\n            Editor.select(editor, _range);\n            Editor.delete(editor);\n            editor.exec({\n              type: 'set_code_block'\n            });\n            return;\n          }\n        }\n\n        exec(command);\n        break;\n\n      case 'increase_list_item_depth':\n        listUtils.increaseListDepth();\n        break;\n\n      case 'delete_backward':\n        var anchor = selection.anchor;\n\n        if (anchor.offset === 0 && isRangeCollapsed(selection)) {\n          var _Editor$nodes3 = Editor.nodes(editor, {\n            match: 'block'\n          }),\n              _Editor$nodes4 = _slicedToArray(_Editor$nodes3, 1),\n              match = _Editor$nodes4[0];\n\n          var _block2 = match[0];\n\n          if (_block2.type.includes('header')) {\n            editor.exec({\n              type: 'set_header',\n              headerType: 'paragraph'\n            });\n            return;\n          }\n\n          if (blockquoteUtils.isInBlockquote()) {\n            editor.exec({\n              type: 'unwrap_blockquote'\n            });\n            return;\n          }\n\n          if (listUtils.isInlist()) {\n            var _Editor$nodes5 = Editor.nodes(editor, {\n              match: [{\n                type: 'ordered_list'\n              }, {\n                type: 'unordered_list'\n              }]\n            }),\n                _Editor$nodes6 = _slicedToArray(_Editor$nodes5, 1),\n                _node = _Editor$nodes6[0];\n\n            var listNode = _node[0];\n\n            if (listNode.children.length === 1 && Node.text(listNode).length === 0) {\n              listUtils.unwrapList();\n              return;\n            }\n          }\n\n          if (codeUtils.isInCodeBlock()) {\n            var _node2 = Editor.match(editor, editor.selection, {\n              type: 'code_block'\n            });\n\n            var codeBlock = _node2[0];\n            var children = codeBlock.children;\n            var text = Node.text(codeBlock);\n\n            if (text.length === 0 && children.length === 1) {\n              editor.exec({\n                type: 'unwrap_code_block'\n              });\n              return;\n            }\n          }\n\n          if (tableUtils.isInTable()) {\n            var _block3 = Editor.match(editor, editor.selection, 'block');\n\n            var blockPath = _block3[1];\n            var start = Editor.start(editor, blockPath);\n            var offset = start.offset;\n\n            if (offset === 0) {\n              return;\n            }\n          }\n        }\n\n        exec(command);\n        break;\n\n      default:\n        exec(command);\n    }\n  };\n\n  return editor;\n};\n\nexport default withMarkdownShortcut;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { SfEditor } from '../custom/custom';\n\nvar normalizeNode = function normalizeNode(editor) {\n  var normalizeNode = editor.normalizeNode;\n\n  editor.normalizeNode = function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        node = _ref2[0],\n        path = _ref2[1]; // if current node is a list node\n\n\n    var type = node.type; // wrap the outest list item into unoreded list\n\n    if (path.length === 1 && type === 'list_item') {\n      SfEditor.wrapNodes(editor, {\n        type: 'unordered_list',\n        children: [node]\n      }, {\n        at: path\n      });\n    }\n\n    if (path.length === 1 && (type === 'ordered_list' || type === 'unordered_list')) {\n      var index = path[0];\n      var previousSibling = editor.children[index - 1];\n      var nextSiblings = editor.children[index + 1];\n\n      if (previousSibling && previousSibling.type === type) {\n        // merge previous same type list node\n        SfEditor.mergeNodes(editor, {\n          at: path\n        });\n      }\n\n      if (nextSiblings && nextSiblings.type === type) {\n        // merge next same type list node\n        SfEditor.mergeNodes(editor, {\n          at: [index + 1]\n        });\n      }\n    } // trailing a paragrph at the end of the document\n\n\n    if (path.length === 1 && path[0] === editor.children.length - 1 && node.type !== 'paragraph') {\n      SfEditor.insertNodes(editor, {\n        type: 'paragraph',\n        children: [{\n          text: ''\n        }]\n      }, {\n        at: [path[0] + 1]\n      });\n    }\n\n    if (type === 'blockquote') {\n      node.children.forEach(function (child, index) {\n        var childPath = [].concat(_toConsumableArray(path), [index]);\n\n        if (child.type === 'blockquote') {\n          SfEditor.unwrapNodes(editor, {\n            at: childPath\n          });\n        }\n      });\n    }\n\n    return normalizeNode([node, path]);\n  };\n\n  return editor;\n};\n\nexport default normalizeNode;","var TRANSFER_TYPES = {\n  fragment: 'application/x-slate-fragment',\n  html: 'text/html',\n  text: 'text/plain'\n}; // tranfrom slate fragment and write to clipboard\n\nfunction setEventTransfer(event, type, content) {\n  var mime = TRANSFER_TYPES[type];\n  var transfer = event.dataTransfer || event.clipboardData;\n  transfer.setData(mime, content);\n  transfer.setData('text', transfer.getData('text'));\n}\n\nexport default setEventTransfer;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport isHotKey from 'is-hotkey';\nimport { Range, Editor } from 'slate';\nimport ListUtils from './editor-utils/block-element-utils/list-utils';\nimport CodeUtils from './editor-utils/block-element-utils/code-utils';\nimport TableUtils from './editor-utils/block-element-utils/table-utils';\nimport setEventTransfer from './custom/set-event-transfer';\nimport { SfEditor } from '../editor/custom/custom';\n\nvar Plugin = function Plugin(_editor) {\n  var _this = this;\n\n  _classCallCheck(this, Plugin);\n\n  this.onKeyDown = function (event) {\n    if (isHotKey('shift+enter', event)) {\n      event.preventDefault();\n\n      if (_this.listUtils.isInlist()) {\n        _this.editor.exec({\n          type: 'split_list_item'\n        });\n      }\n    }\n\n    if (isHotKey('shift+tab', event)) {\n      event.preventDefault();\n\n      if (_this.listUtils.isInlist()) {\n        var _Editor$nodes = Editor.nodes(_this.editor, {\n          match: [{\n            type: 'unordered_list'\n          }, {\n            type: 'ordered_list'\n          }],\n          at: _this.editor.selection,\n          mode: 'highest'\n        }),\n            _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n            listNode = _Editor$nodes2[0];\n\n        if (!listNode) return;\n        var type = listNode[0].type;\n\n        _this.editor.exec({\n          type: \"unwrap_\".concat(type)\n        });\n      }\n    }\n\n    if (isHotKey('tab', event) && Range.isCollapsed(_this.editor.selection)) {\n      event.preventDefault();\n\n      if (_this.codeUtils.isInCodeBlock()) {\n        _this.editor.exec({\n          type: 'increase_code_block_indent'\n        });\n      }\n\n      if (_this.listUtils.isInlist()) {\n        _this.editor.exec({\n          type: 'increase_list_item_depth'\n        });\n      }\n    }\n\n    if (isHotKey('mod+enter', event)) {\n      event.preventDefault();\n\n      if (_this.codeUtils.isInCodeBlock()) {\n        _this.editor.exec({\n          type: 'exit_code_block'\n        });\n      }\n\n      if (_this.tableUtils.isInTable()) {\n        _this.editor.exec({\n          type: 'exit_table'\n        });\n      }\n    }\n  };\n\n  this.onCopy = function (event, editor) {\n    if (_this.tableUtils.isInTable()) {\n      event.preventDefault();\n\n      var table = _this.tableUtils.getSelectedTableCells();\n\n      if (!table) {\n        setEventTransfer(event, 'text', SfEditor.text(editor, editor.selection));\n        return;\n      } // encode table object to string with slate specific method\n\n\n      var encodedTable = window.btoa(encodeURIComponent(JSON.stringify(table)));\n      setEventTransfer(event, 'fragment', encodedTable);\n      return;\n    }\n  };\n\n  this.editor = _editor;\n  this.listUtils = new ListUtils(_editor);\n  this.codeUtils = new CodeUtils(_editor);\n  this.tableUtils = new TableUtils(_editor);\n};\n\nexport default Plugin;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport ToolBar from '../components/toolbar';\nimport { withTranslation } from 'react-i18next';\nimport { renderNode, renderLeaf, EditorUtils, decorationNode } from './editor-utils/common-editor-utils';\nimport { createEditor, Node } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { deserialize, serialize } from '../utils/slate2markdown/index';\nimport { Editable, withReact, Slate } from 'slate-react';\nimport { isRangeCollapsed } from './editor-utils/range-utils';\nimport ModalPortal from '../components/modal-portal';\nimport TextLinkHoverMenu from './textlink-hovermenu';\nimport ContextMenu from '../components/context-menu';\nimport withBlock from './controller/block-element-controller';\nimport withInline from './controller/inline-element-controller';\nimport withVoid from './controller/void-element-controller';\nimport withMarkdownShortcut from './controller/shortcut-controller';\nimport normalizeNode from './controller/normalize-controller';\nimport Plugin from './editor-plugin';\nimport TableUtils from '../editor/editor-utils/block-element-utils/table-utils';\nimport './code-highlight-package';\nimport '../css/layout.css';\nimport '../css/richeditor/rich-editor-main.css';\nimport '../css/richeditor/navbar-imgbutton.css';\nimport '../css/richeditor/textlink-hovermenu.css';\nimport '../css/richeditor/image.css';\nimport '../css/richeditor/link.css';\nimport '../css/topbar.css';\n\nvar SimpleEditor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SimpleEditor, _React$Component);\n\n  function SimpleEditor(props) {\n    var _this;\n\n    _classCallCheck(this, SimpleEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SimpleEditor).call(this, props));\n\n    _this.onChange = function (value) {\n      _this.setState({\n        value: value\n      }); // hide context menu when content change\n\n\n      if (_this.state.isShowContextMenu === true) {\n        _this.setState({\n          isShowContextMenu: false\n        });\n\n        _this.contextMenuPosition = {};\n      }\n\n      var operations = _this.editor.operations;\n      var hasChange = operations.some(function (o) {\n        return o.type !== 'set_selection' && o.type !== 'set_value';\n      });\n      if (hasChange) _this.contentChanged = true;\n    };\n\n    _this.foucsEditor = function () {\n      _this.editorRef.firstChild.focus();\n    };\n\n    _this.hasContentChange = function () {\n      return _this.contentChanged;\n    };\n\n    _this.onToggleLinkDialog = function () {\n      _this.setState({\n        isShowLinkDialog: !_this.state.isShowLinkDialog\n      });\n    };\n\n    _this.onToggleImageDialog = function () {\n      _this.setState({\n        isShowImageDialog: !_this.state.isShowImageDialog\n      });\n    };\n\n    _this.onContextMenu = function (event) {\n      if (_this.tableUtils.isInTable()) {\n        event.preventDefault();\n        _this.contextMenuPosition = {\n          left: event.clientX,\n          top: event.clientY\n        };\n\n        _this.setState({\n          isShowContextMenu: !_this.state.isShowContextMenu\n        });\n      }\n    };\n\n    _this.editor = normalizeNode(withMarkdownShortcut(withVoid(withBlock(withInline(withHistory(withReact(createEditor())))))));\n    _this.editor.editorApi = props.editorApi;\n    window.seafileEditor = _this.editor;\n    _this.editorUtils = new EditorUtils(_this.editor);\n    _this.tableUtils = new TableUtils(_this.editor);\n    _this.plugin = new Plugin(_this.editor);\n    _this.editorRef = null;\n    _this.contextMenuPosition = {};\n    _this.state = {\n      value: deserialize(props.value),\n      isShowLinkDialog: false,\n      isShowImageDialog: false,\n      isShowBigImage: false,\n      isShowContextMenu: false\n    };\n    return _this;\n  }\n\n  _createClass(SimpleEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef(this);\n    }\n  }, {\n    key: \"getMarkdown\",\n    value: function getMarkdown() {\n      this.contentChanged = false;\n      return serialize(this.state.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          value = _this$state.value,\n          isShowLinkDialog = _this$state.isShowLinkDialog,\n          isShowImageDialog = _this$state.isShowImageDialog;\n      var editor = this.editor,\n          foucsEditor = this.foucsEditor;\n      var toolbarStatus = this.editorUtils.getToolbarStatus();\n      var readOnly = this.props.readOnly;\n      var selectionCollapsed = isRangeCollapsed(editor.selection);\n      return React.createElement(\"div\", {\n        className: \"seafile-editor-module seafile-simple-editor\"\n      }, React.createElement(Slate, {\n        editor: this.editor,\n        value: value,\n        onChange: this.onChange\n      }, React.createElement(\"div\", {\n        className: \"seafile-rich-editor-topbar\"\n      }, React.createElement(ToolBar, {\n        onToggleLinkDialog: this.onToggleLinkDialog,\n        onToggleImageDialog: this.onToggleImageDialog,\n        toolbarStatus: toolbarStatus,\n        isSimpleEditor: true,\n        isShowLinkDialog: isShowLinkDialog,\n        isShowImageDialog: isShowImageDialog\n      })), React.createElement(\"div\", {\n        className: \"editor-container\"\n      }, React.createElement(\"div\", {\n        ref: function ref(_ref) {\n          return _this2.editorRef = _ref;\n        },\n        onClick: value.length === 1 && value[0].type === 'paragraph' && Node.text(value[0].children[0]).length === 0 ? foucsEditor : null,\n        className: \"editor article\"\n      }, React.createElement(Editable, {\n        renderElement: function renderElement(props) {\n          return renderNode(props, editor, readOnly);\n        },\n        className: 'editor-component',\n        renderLeaf: renderLeaf,\n        onContextMenu: this.onContextMenu,\n        onCopy: function onCopy(event) {\n          _this2.plugin.onCopy(event, editor);\n        },\n        autoFocus: true,\n        onKeyDown: this.plugin.onKeyDown,\n        decorate: decorationNode\n      })), toolbarStatus.isLinkActive && selectionCollapsed ? React.createElement(ModalPortal, null, React.createElement(TextLinkHoverMenu, {\n        onToggleLinkDialog: this.onToggleLinkDialog,\n        editorUtils: this.editorUtils\n      })) : null, this.state.isShowContextMenu && React.createElement(ModalPortal, null, React.createElement(ContextMenu, {\n        tableUtils: this.tableUtils,\n        contextMenuPosition: this.contextMenuPosition\n      })))));\n    }\n  }]);\n\n  return SimpleEditor;\n}(React.Component);\n\nexport default withTranslation('seafile-editor')(SimpleEditor);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport getPreviewContent from '../utils/markdown-utils';\nimport { dtableWebAPI } from '../../../utils/dtable-web-api';\n\nconst { workspaceID, dtableName, dtableWebURL } = window.shared.pageOptions;\n\nconst propTypes = {\n  newValue: PropTypes.object,\n  column: PropTypes.object.isRequired,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\n/**\n * use simple editor need to block shortcuts for external containers\n */\n\nclass EditorUtilities {\n\n  uploadLocalImage = (imageFile) => {\n    let parentPath;\n    return (\n      dtableWebAPI.getTableAssetUploadLink(workspaceID, dtableName).then((res) => {\n        const uploadLink = res.data.upload_link + '?ret-json=1';\n        const newFile = new File([imageFile], imageFile.name, {type: imageFile.type});\n        const formData = new FormData();\n        parentPath = res.data.parent_path;\n        formData.append('parent_dir', parentPath);\n        formData.append('relative_path', 'images');\n        formData.append('file', newFile);\n        return dtableWebAPI.uploadImage(uploadLink, formData, this.onUploadProgress);\n      }).then ((res) => {\n        return this._getImageURL(res.data[0].name, parentPath);\n      })\n    );\n  }\n  \n  _getImageURL(fileName, path) {\n    // todo\n    let url = dtableWebURL + 'workspace/' + workspaceID + path + '/images/' + encodeURIComponent(fileName);\n    return url;\n  }\n}\n\nconst editorUtilities = new EditorUtilities();\n\nclass LongTextEditorDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.timer = null;\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      if (this.isContentChanged()) {\n        let currentContent = this.getCurrentContent();\n        this.props.onCommit(currentContent);\n      }\n    }, 6000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  }\n\n  toggle = () => {\n    if (this.isContentChanged()) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  }\n\n  isContentChanged = () => {\n    return this.simpleEditor.hasContentChange();\n  }\n\n  getCurrentContent = () => {\n    let markdownContent = this.simpleEditor.getMarkdown();\n    let { previewText , images, links } = getPreviewContent(markdownContent);\n    let newValue = Object.assign({}, this.value, { text: markdownContent, preview: previewText, images: images, links: links });\n    return newValue;\n  }\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  }\n\n  render() {\n    let { newValue, column } = this.props;\n    return (\n      <Modal \n        isOpen={true} \n        toggle={this.toggle} \n        onKeyDown={this.onKeyDown}\n        wrapClassName={'long-text-editor-dialog-wrapper'}\n        className={'long-text-editor-dialog'}\n        contentClassName={'long-text-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"long-text-editor-dialog-title\" toggle={this.toggle}>{column.name}</ModalHeader>\n        <ModalBody className={'long-text-editor-dialog-main'}>\n          <SimpleEditor \n            onRef={this.setSimpleEditorRef.bind(this)}\n            editorUtilities={editorUtilities}\n            value={newValue.text}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nLongTextEditorDialog.propTypes = propTypes;\n\nexport default LongTextEditorDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextareaItem } from 'antd-mobile';\nimport * as zIndexes from '../utils/zIndexes';\nimport getPreviewContent from '../utils/markdown-utils';\nimport MobileCommonHeader from './mobile-common-header';\n\nconst propTypes = {\n  column: PropTypes.object,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  onCommit: PropTypes.func,\n  closeEditor: PropTypes.func,\n};\n\nclass LongTextView extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: (props.value && props.value.text) ? props.value.text : '', \n    };\n    const offsetWidth = document.body.offsetWidth;\n    this.rowCounts = offsetWidth < 767.8 ? 10 : 20;\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false); \n    this.timer = setInterval(() => {\n      this.saveValue();\n    }, 60000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  saveValue = () => {\n    const markdownContent = this.state.value;\n    const { previewText , images, links } = getPreviewContent(markdownContent);\n    const newValue = Object.assign({}, { text: markdownContent, preview: previewText, images: images, links: links });\n    this.props.onCommit(newValue);\n  }\n\n  closeDialog = () => {\n    this.saveValue();\n    this.props.closeEditor();\n  }\n\n  handleChange = (value) => {\n    this.setState({ value });\n  }\n\n  render() {\n    return (\n      <div className=\"row-expand-view long-text-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={this.props.column.name}\n          onLeftClick={this.closeDialog}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"view-partition view-partition-border-bottom\"></div>\n        <div className=\"long-text-container\">\n          <TextareaItem rows={this.rowCounts} value={this.state.value} onChange={this.handleChange}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nLongTextView.propTypes = propTypes;\n\nexport default LongTextView;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LongTextEditorPreviewAll from '../cell-editor-widgets/long-text-editor-preview-all';\nimport LongTextEditorDialog from '../cell-editor-widgets/long-text-editor-dialog';\nimport MediaQuery from 'react-responsive';\nimport LongTextView from '../cell-viewer-mobile/long-text-view';\nimport { gettext } from '../../../utils/constants';\n\nimport '../css/long-text.css';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass LongTextEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: { text: '', perview: '' }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: '',\n      innerHtml: '',\n      isShowEditorDialog: false,\n    };\n\n    this.value = props.value ? props.value : {text: '', preview: ''};\n  }\n\n  componentDidMount() {\n    this.setState({newValue: this.value});\n  }\n\n  onCommit = (newValue) => {\n    this.setState({newValue: newValue}, () => {\n      let updated = {};\n      let column = this.props.column;\n      updated[column.key] = newValue;\n      this.props.onCommit(updated);\n    });\n  }\n\n  onContentClick = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isShowEditorDialog: true});\n  }\n\n  onCloseEditorDialog = () => {\n    this.setState({isShowEditorDialog: false});\n  }\n\n  setEditorRef = (editor) => {\n    this.editor = editor;\n  }\n\n  render() {\n    // todo compatible with grid mode\n    const { isShowEditorDialog, newValue } = this.state;\n    return (\n      <div className=\"cell-editor grid-cell-type-long-text\">\n        {newValue.text && (\n          <LongTextEditorPreviewAll \n            newValue={newValue} \n            onContentClick={this.onContentClick}\n          />\n        )}\n        {!newValue.text && (\n          <div className=\"editor-operation long-text-editor-edit\" onClick={this.onContentClick}>{gettext('Edit Text')}</div>\n        )}\n        <MediaQuery query=\"(min-width: 768px)\">\n          {isShowEditorDialog &&\n            <LongTextEditorDialog\n              newValue={newValue}\n              column={this.props.column}\n              onCommit={this.onCommit}\n              onCommitCancel={this.onCommitCancel}\n              onCloseEditorDialog={this.onCloseEditorDialog}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {isShowEditorDialog &&\n            <div className=\"cell-viewer-mobile-mask\">\n              <LongTextView\n                column={this.props.column}\n                value={newValue}\n                onCommit={this.onCommit}\n                closeEditor={this.onCloseEditorDialog}\n              />\n            </div>\n          }\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nLongTextEditor.propTypes = propTypes;\n\nexport default LongTextEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { DatePicker } from 'antd-mobile';\nimport Calendar from '@seafile/seafile-calendar';\nimport * as SeaDatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport * as zIndexes from '../utils/zIndexes';\nimport { translateCalendar } from '../utils/date-format-utils';\nimport { gettext } from '../../../utils/constants';\nimport MobileCommonHeader from './mobile-common-header';\nimport '@seafile/seafile-calendar/assets/index.css';\nimport 'moment/locale/zh-cn';\nimport 'moment/locale/en-gb';\n\nconst propTypes = {\n  column: PropTypes.object,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  onCommit: PropTypes.func,\n  onChange: PropTypes.func,\n  closeEditor: PropTypes.func,\n};\n\nconst now = moment();\n\nclass DateEditorView extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.showTime = props.column.data ? props.column.data.format === 'YYYY-MM-DD HH:mm': false;\n    this.state = {\n      time: null,\n      defaultCalendarValue: null,\n    };\n    this.calendarContainerRef = React.createRef();\n  }\n\n  componentDidMount() {\n    history.pushState(null, null, '#');\n    window.addEventListener('popstate', this.handleHistaryBack, false);\n    let { value } = this.props;\n    const iszhcn = (window.app.config && window.app.config.lang === 'zh-cn');\n    if (iszhcn) {\n      now.locale('zh-cn');\n    } else {\n      now.locale('en-gb');\n    }\n    if (!value) {\n      value = new Date(Date.now());\n    }\n    this.setState({\n      defaultCalendarValue: now.clone(),\n      time: iszhcn ? moment(value).locale('zh-cn') : moment(value).locale('en-gb')\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.handleHistaryBack, false);\n  }\n\n  handleHistaryBack = (e) => {\n    e.preventDefault();\n    this.props.closeEditor();\n  }\n\n  handleDateChange = (date) => {\n    if (this.showTime) {\n      const HM = moment(this.state.time).format('HH:mm');\n      const newTime = moment(date).format('YYYY-MM-DD') + ' ' + HM;\n      this.setState({ time: new Date(newTime) });\n    }\n    else {\n      this.setState({ time: date });\n    }\n  }\n\n  handleTimeChange = (time) => {\n    const YMD = moment(this.state.time).format('YYYY-MM-DD');\n    const newTime = YMD + ' ' + moment(time).format('HH:mm');\n    this.setState({ time: new Date(newTime) });\n  }\n\n  closeEditor = () => {\n    this.props.closeEditor();\n  }\n\n  deleteDate = () => {\n    this.props.onChange(null);\n    this.props.closeEditor();\n  }\n\n  getCalendarContainer = () => {\n    return this.calendarContainerRef.current;\n  }\n\n  getFormat = (showHour) => {\n    return showHour ? 'YYYY-MM-DD HH:mm' : 'YYYY-MM-DD';\n  }\n\n  onChange = (value) => {\n    if (!value) return;\n    const newTime = value.format(this.getFormat(this.showTime));\n    this.setState({ time: newTime });\n    this.props.onChange(value);\n  }\n\n  renderCalendar() {\n    const { time } = this.state;\n    const calendar = (\n      <Calendar\n        locale={translateCalendar()}\n        dateInputPlaceholder={gettext('Please input date')}\n        format={this.getFormat(this.showTime)}\n        defaultValue={this.state.defaultCalendarValue}\n        showDateInput={false}\n        focusablePanel={false}\n        showToday={false}\n        showTime={false}\n        style={{width: '100%', fontSize: '14px'}}\n      />\n    );\n    return (\n      <div className=\"date-picker-container\">\n        <SeaDatePicker\n          calendar={calendar}\n          value={moment(time)}\n          onChange={this.onChange}\n          getCalendarContainer={this.getCalendarContainer}\n          open={true}\n          style={{width: '100%'}}\n        >\n          {({ time }) => {\n            return (\n              <div tabIndex=\"0\" onFocus={this.onReadOnlyFocus}>\n                <input\n                  placeholder={gettext('Please select')}\n                  readOnly\n                  tabIndex=\"-1\"\n                  className=\"ant-calendar-picker-input ant-input form-control\"\n                  value={time ? moment(time).format(this.getFormat(this.showTime)) : ''}\n                />\n                <div ref={this.calendarContainerRef} style={{height: '22rem'}}/>\n              </div>\n            );\n          }}\n        </SeaDatePicker>\n      </div>\n    );\n  }\n\n  render() {\n    const { column } = this.props;\n    return (\n      <div className=\"row-expand-view date-editor-view\" style={{ zIndex: zIndexes.ROW_EXPAND_VIEW }}>\n        <MobileCommonHeader\n          title={column.name}\n          onLeftClick={this.closeEditor}\n          leftName={(<i className=\"dtable-font dtable-icon-return\"></i>)}\n        />\n        <div className=\"date-input\" style={this.showTime ? { width: '50%' } : { width: '100%' }}>\n          <DatePicker mode=\"date\" value={this.state.value} onChange={this.handleDateChange}>\n            <div className=\"date-input-day\">{moment(this.state.time).format('YYYY-MM-DD')}</div>\n          </DatePicker>\n        </div>\n        {this.showTime &&\n          <div className=\"date-input\" style={{ width: '50%' }}>\n            <DatePicker mode=\"time\" value={this.state.value} onChange={this.handleTimeChange}>\n              <div className=\"date-input-day\">{moment(this.state.time).format('HH:mm')}</div>\n            </DatePicker>\n          </div>\n        }\n        <div className=\"view-partition view-partition-border-top view-partition-border-bottom\"></div>\n        {this.renderCalendar()}\n        <div className=\"row-expand-view-footer\">\n          <div onClick={this.deleteDate} className=\"clear-date\">{gettext('Clear')}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nDateEditorView.propTypes = propTypes;\n\nexport default DateEditorView;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Detecting outside click on a react component is surprisingly hard.\n * A general approach is to have a global click handler on the document\n * which checks if the click target is inside the editor container or\n * not using editorContainer.contains(e.target). This approach works well\n * until portals are used for editors. Portals render children into a DOM\n * node that exists outside the DOM hierarchy of the parent component so\n * editorContainer.contains(e.target) does not work. Here are some examples\n * of the DOM structure with different types of editors\n *\n *\n * SimpleEditor for example Texbox (No Portals)\n *   <div react-data-grid>..<div>\n *   <div portal-created-by-the-grid-for-editors>\n *      <div editor-container>\n *        <div simple-editor>..</div>\n *      </div>\n *   <div>\n *\n * ComplexEditor for example Modals (using Portals)\n *   <div react-data-grid>..<div>\n *   <div portal-created-by-the-grid-for-editors>\n *      <div editor-container>\n *        // Nothing here\n *      </div>\n *   <div>\n *   <div portal-created-by-the-editor>\n *     <div complex-editor>..</div>\n *   </div>\n *\n *\n * One approach to detect outside click is to use event bubbling through\n * portals. An event fired from inside a portal will propagate to ancestors\n * in the containing React tree, even if those elements are not ancestors\n * in the DOM tree. This means a click handler can be attached on the document\n * and on the editor container. The editor container can set a flag to notify\n * that the click was inside the editor and the document click handler can use\n * this flag to call onClickOutside. This approach however has a few caveats\n * - Click handler on the document is set using document.addEventListener\n * - Click handler on the editor container is set using onClick prop\n *\n * This means if a child component inside the editor calls e.stopPropagation\n * then the click handler on the editor container will not be called whereas\n * document click handler will be called.\n * https://github.com/facebook/react/issues/12518\n *\n * To solve this issue onClickCapture event is used.\n */\n\nexport default class ClickOutside extends React.Component {\n  static propTypes = {\n    children: PropTypes.element.isRequired,\n    onClickOutside: PropTypes.func.isRequired\n  };\n\n  isClickedInside = false;\n\n  componentDidMount() {\n    document.addEventListener('click', this.handleDocumentClick);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleDocumentClick);\n  }\n\n  handleDocumentClick = (e) => {\n    if (this.isClickedInside) {\n      this.isClickedInside = false;\n      return;\n    }\n\n    this.props.onClickOutside(e);\n  };\n\n  handleMouseDown = () => {\n    this.isClickedInside = true;\n  }\n\n  render() {\n    return React.cloneElement(\n      React.Children.only(this.props.children), {\n        onMouseDownCapture: this.handleMouseDown\n      }\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport { withTranslation } from 'react-i18next';\nimport MediaQuery from 'react-responsive';\nimport DateEditorView from '../cell-viewer-mobile/date-editor-view';\nimport ClickOutside from '../cell-editor-widgets/click-outside';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../utils/date-format-utils';\nimport { gettext } from '../../../utils/constants';\nimport 'moment/locale/zh-cn';\nimport 'moment/locale/en-gb';\nimport '@seafile/seafile-calendar/assets/index.css';\nimport '../css/date-editor.css';\n\nconst now = moment();\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.string,\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n  t: PropTypes.func,\n};\n\nclass DataEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: '',\n    defaultCalendarValue: null,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      isDateInit: false,\n      isPopoverShow: false,\n      newValue: null,\n      dateFormat: 'YYYY-MM-DD',\n      showHourAndMinute: false,\n      defaultCalendarValue: null,\n    };\n\n    this.calendarContainerRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const iszhcn = (window.app.config && window.app.config.lang === 'zh-cn');\n    iszhcn ? moment.locale('zh-cn') : moment.locale('en-gb');\n    const { value } = this.props;\n    let dateFormat = this.getDateFormat();\n    this.setState({\n      isDateInit: true,\n      newValue: value && (iszhcn ? moment(value).locale('zh-cn') : moment(value).locale('en-gb')),\n      dateFormat: dateFormat,\n      showHourAndMinute: dateFormat.indexOf('HH:mm') > -1,\n      defaultCalendarValue: now.clone(),\n    });\n  }\n\n  onClickOutside = () => {\n    this.setState({isPopoverShow: false, open: false});\n  }\n\n  getFormatValue = (value) => {\n    if (!value) {\n      return null;\n    }\n    return moment(value);\n  }\n\n  getDateFormat = () => {\n    let { column } = this.props;\n    let defaultDateFormat = 'YYYY-MM-DD';\n    let dateFormat = column.data && column.data.format;\n    return dateFormat || defaultDateFormat;\n  }\n\n  onCommit = (value) => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = value;\n    this.props.onCommit(updated);\n  }\n\n  onDateEditorToggle = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({\n      isPopoverShow: !this.state.isPopoverShow,\n      open: !this.state.open\n    });\n  }\n\n  onFocusDatePicker = () => {\n    this.setState({open: true});\n  }\n\n  handleMouseDown = (event) => {\n    event.stopPropagation();\n  }\n\n  onChange = (value) => {\n    if (!value) return;\n    let { showHourAndMinute } = this.state;\n    this.setState({newValue: value}, () => {\n      let storageFormat = showHourAndMinute ? 'YYYY-MM-DD HH:mm' : 'YYYY-MM-DD';\n      value = value && value.format(storageFormat);\n      this.onCommit(value);\n    });\n  }\n\n  onOpenChange = (open) => {\n    if (!this.state.showHourAndMinute) {\n      this.setState({\n        isPopoverShow: open,\n        open: open\n      });\n    }\n  }\n\n  getCalendarContainer = () => {\n    return this.calendarContainerRef.current;\n  }\n\n  onClear = () => {\n    this.setState({\n      isPopoverShow: false,\n      open: false,\n    });\n  }\n\n  getCalender = () => {\n    return (\n      <Calendar \n        locale={translateCalendar()}\n        style={{ zIndex: 1001 }}\n        format={this.getDateFormat()}\n        defaultValue={this.state.defaultCalendarValue}\n        showDateInput={true}\n        dateInputPlaceholder={gettext('Please input')}\n        focusablePanel={false}\n        showHourAndMinute={this.state.showHourAndMinute}\n        onClear={this.onClear}\n      />\n    );\n  }\n\n  render() {\n    if (!this.state.isDateInit) {\n      return (\n        <div className=\"cell-editor grid-cell-type-date\">\n          <div className=\"date-editor-conteinr\">\n            <div className=\"control-form\"></div>\n          </div>\n        </div>\n      );\n    }\n\n    let calendar = this.getCalender();\n    let state = this.state;\n    let value = state.newValue ? state.newValue.format(this.getDateFormat()) : '';\n\n    let datePickerValue = state.newValue || null;\n    return (\n      <ClickOutside onClickOutside={this.onClickOutside}>\n        <div className=\"cell-editor grid-cell-type-date\">\n          {!this.state.isPopoverShow && (\n            <div className=\"date-editor-container\" style={{width: 320}} onClick={this.onDateEditorToggle}>\n              <div className=\"form-control\">{value || ''}</div>\n            </div>\n          )}\n          <MediaQuery query=\"(min-width: 768px)\">\n            {this.state.isPopoverShow && (\n              <DatePicker \n                open={state.open}\n                value={datePickerValue}\n                animation=\"slide-up\"\n                style={{ zIndex: 1001 }}\n                calendar={calendar}\n                getCalendarContainer={this.getCalendarContainer}\n                onChange={this.onChange}\n                onOpenChange={this.onOpenChange}\n              >\n                {({value}) => {\n                  value = value && (value.format(this.getDateFormat()) || '');\n                  return (\n                    <span className=\"date-editor-container\" tabIndex=\"0\" onFocus={this.onFocusDatePicker}>\n                      <input\n                        placeholder={gettext('Please select')}\n                        readOnly\n                        tabIndex=\"-1\"\n                        className=\"ant-calendar-picker-input ant-input form-control\"\n                        value={value || ''}\n                        onMouseDown={this.handleMouseDown}\n                      />\n                      <div ref={this.calendarContainerRef} />\n                    </span>\n                  );\n                }}\n              </DatePicker>\n            )}\n          </MediaQuery>\n          <MediaQuery query=\"(max-width: 767.8px)\">\n            {this.state.isPopoverShow &&\n              <div className=\"cell-viewer-mobile-mask\">\n                <DateEditorView\n                  column={this.props.column}\n                  value={value}\n                  onCommit={this.props.onCommit}\n                  closeEditor={this.onDateEditorToggle}\n                  onChange={this.onChange}\n                />\n              </div>\n            }\n          </MediaQuery>\n        </div>\n      </ClickOutside>\n    );\n  }\n}\n\nDataEditor.propTypes = propTypes;\n\nexport default withTranslation('dtable') (DataEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport isHotkey from 'is-hotkey';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.string,\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass TextEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: '',\n      isEditorShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let { value } = this.props;\n    this.setState({newValue: value});\n  }\n\n  onCommit = () => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = this.state.newValue;\n    this.props.onCommit(updated);\n\n    this.setState({isEditorShow: false});\n  }\n\n  \n  onBlur = () => {\n    this.onCommit();\n  }\n  \n  onChange = (event) => {\n    let value = event.target.value.trim();\n    this.setState({newValue: value});\n  }\n  \n  onEditorhandle = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({isEditorShow: true}, () => {\n      this.input.focus();\n    });\n  }\n\n  onKeyDown = (event) => {\n    let { selectionStart, selectionEnd, value } = event.currentTarget;\n    if (isHotkey('enter', event)) {\n      event.preventDefault();\n      this.onBlur();\n    } else if ((event.keyCode === 37 && selectionStart === 0) || \n      (event.keyCode === 39 && selectionEnd === value.length)\n    ) {\n      event.stopPropagation();\n    }\n  }\n\n  onPaste = (e) => {\n    e.stopPropagation();\n  }\n\n  onCut = (e) => {\n    e.stopPropagation();\n  }\n\n  setInputRef = (input) => {\n    this.input = input;\n  }\n\n  render() {\n\n    return (\n      <div className=\"cell-editor grid-cell-type-text\">\n        <div className=\"text-editor-container\">\n          {!this.state.isEditorShow && (\n            <div className=\"form-control\" onClick={this.onEditorhandle}>{this.state.newValue}</div>\n          )}\n          {this.state.isEditorShow && (\n            <input\n              ref={this.setInputRef} \n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.newValue} \n              onChange={this.onChange} \n              onKeyDown={this.onKeyDown}\n              onBlur={this.onBlur}\n              onCut={this.onCut}\n              onPaste={this.onPaste}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nTextEditor.propTypes = propTypes;\n\nexport default TextEditor;\n","import NP from 'number-precision';\nNP.enableBoundaryChecking(false);\n\nexport const getFloatNumber = data =>  {\n  let isIncludePercent = data.indexOf('%') > -1;\n  let newData = parseFloat(data.replace(/[^.-\\d]/g, ''));\n  if (isIncludePercent && !isNaN(newData)) {\n    return newData / 100;\n  }\n  return isNaN(newData) ? '' : newData;\n};\n\nexport const toThousands = (num, isCurrency) => {\n  let integer = Math.trunc(num);\n  let decimal = String(Math.abs(NP.minus(num, integer))).slice(1);\n  if (isCurrency) {\n    if (decimal.length === 2) {\n      decimal = decimal.padEnd(3, '0');\n    } else {\n      decimal = decimal.substring(0, 3).padEnd(3, '.00');\n    }\n  }\n  let result = [], counter = 0;\n  integer = Object.is(integer, -0) ? ['-', '0'] : integer.toString().split('');\n  for (var i = integer.length - 1; i >= 0; i--) {\n    counter++;\n    result.unshift(integer[i]);\n    if (!(counter % 3) && i !== 0) {\n      result.unshift(',');\n    }\n  }\n  return result.join('') + decimal;\n};\n\nexport const getCurrentOption = (value, format) => {\n  if (typeof value !== 'number') {\n    return '';\n  }\n  const commaValue = toThousands(value);\n  const moneyCommaValue = toThousands(value.toFixed(2), true);\n  switch(format) {\n    case 'number':\n      return value;\n    case 'number-with-commas':\n      return commaValue;\n    case 'percent':\n      return `${value * 100}%`;\n    case 'yuan':\n      return `${moneyCommaValue}`;\n    case 'dollar':\n      return `$${moneyCommaValue}`;\n    case 'euro':\n      return `${moneyCommaValue}`;\n    default:\n      return value;\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport isHotkey from 'is-hotkey';\nimport { getFloatNumber, getCurrentOption } from '../utils/number-utils';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass NumebrEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDateInit: false,\n      inputValue: '',\n      textValue: '',\n      isEditorShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let value = this.props.value;\n    let newValue = !value && value !== 0 ? '' : value;\n    let dateFormat = this.getDateFormat();\n    newValue = getCurrentOption(newValue, dateFormat);\n    this.setState({\n      inputValue: newValue,\n      textValue: newValue,\n    });\n  }\n\n  formatValue = (value) => {\n    let format = this.getDateFormat();\n    switch(format) {\n      case 'number':\n      case 'number-with-commas': {\n        return value.replace(/[^.-\\d,]/g,'');\n      }\n      case 'percent': {\n        return value.replace(/[^.-\\d,%]/g, '');\n      }\n      case 'yuan': {\n        return value.replace(/[^.-\\d,]/g, '');\n      }\n      case 'dollar': {\n        return value.replace(/[^.-\\d$,]/g, '');\n      }\n      case 'euro': {\n        return value.replace(/[^.-\\d,]/g, '');\n      }\n      default:\n        return value.replace(/[^.-\\d,]/g,'');\n    }\n  }\n\n  getDateFormat = () => {\n    let { column } = this.props;\n    let dataFormat = column.data && column.data.format;\n    let defaultFormat = 'number';\n    return dataFormat || defaultFormat;\n  }\n\n  onCommit = () => {\n    let updated = {};\n    let { column } = this.props;\n    let inputValue = this.state.inputValue ? this.state.inputValue.toString() : '';\n    let value = getFloatNumber(inputValue);\n    updated[column.key] = value;\n    this.props.onCommit(updated);\n\n    let dateFormat = this.getDateFormat();\n    let newValue = getCurrentOption(value, dateFormat);\n    this.setState({\n      isEditorShow: false,\n      textValue: newValue\n    });\n  }\n\n  onEditorHandle = () => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    this.setState({\n      isEditorShow: true,\n      inputValue: this.state.textValue\n    }, () => {\n      this.input.focus();\n    });\n  }\n\n  onBlur = () => {\n    this.onCommit();\n  }\n\n  onChange = (event) => {\n    let value = event.target.value.trim();\n    value = this.formatValue(value);\n    if (value === this.state.inputValue) {\n      return;\n    }\n    this.setState({inputValue : value});\n  }\n\n  onKeyDown = (event) => {\n    let { selectionStart, selectionEnd, value } = event.currentTarget;\n    if (isHotkey('enter', event)) {\n      event.preventDefault();\n      this.onBlur();\n    } else if ((event.keyCode === 37 && selectionStart === 0) || \n      (event.keyCode === 39 && selectionEnd === value.length)\n    ) {\n      event.stopPropagation();\n    }\n  }\n\n  onPaste = (e) => {\n    e.stopPropagation();\n  }\n\n  onCut = (e) => {\n    e.stopPropagation();\n  }\n\n  getStyle = () => {\n    return {\n      width: '320px',\n      textAlign: 'left',\n    };\n  }\n\n  setInputRef = (input) => {\n    this.input = input;\n    return this.input;\n  };\n  \n  render() {\n    let style = this.getStyle();\n    return (\n      <div className=\"cell-editor grid-cell-type-number\">\n        <div className=\"number-editor-container\">\n          {!this.state.isEditorShow &&\n            <div className=\"form-control\" style={style} onClick={this.onEditorHandle}>{this.state.textValue}</div>\n          }\n          {this.state.isEditorShow && (\n            <input \n              ref={this.setInputRef}\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.inputValue}\n              onChange={this.onChange}\n              onBlur={this.onBlur}\n              onCut={this.onCut}\n              onPaste={this.onPaste}\n              style={style}\n              onKeyDown={this.onKeyDown}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nNumebrEditor.propTypes = propTypes;\n\nexport default NumebrEditor;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nclass CheckboxEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: false\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value ? props.value : false,\n    };\n  }\n\n  getValue = () => {\n    let updated = {};\n    let { column } = this.props;\n    updated[column.key] = this.state.value;\n    return updated;\n  }\n\n  onCommit = () => {\n    let updated = this.getValue();\n    this.props.onCommit(updated);\n  }\n\n  onChange = (event) => {\n    if (this.props.isReadOnly) {\n      return;\n    }\n    let value = event.target.checked;\n    if (value === this.state.value) {\n      return;\n    }\n    this.setState({ value }, () => {\n      this.onCommit();\n    });\n  }\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  }\n\n  onBlur = () => {\n    // this.onCommit();\n  }\n\n  setInputRef = (input) => {\n    this.input = input;\n  }\n\n  getStyle = () => {\n    return {\n      marginLeft: 0,\n      transform: 'scale(1.1)'\n    };\n  }\n\n  render() {\n    let style = this.getStyle();\n    \n    return (\n      <div className=\"cell-editor grid-cell-type-checkbox\">\n        <div className=\"checkbox-editor-container\">\n          <input \n            ref={this.setInputRef}\n            type=\"checkbox\"\n            className=\"checkbox\"\n            checked={this.state.value}\n            onBlur={this.onBlur}\n            onPaste={this.onPaste}\n            onKeyDown={this.onKeyDown}\n            onChange={this.onChange}\n            style={style}\n            readOnly={this.props.isReadOnly}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nCheckboxEditor.propTypes = propTypes;\n\nexport default CheckboxEditor;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from 'reactstrap';\n\nconst { formID } = window.shared.pageOptions;\n\nclass ImageThumbnail extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n  }\n\n  toggle = () => {\n    this.setState({ open: !this.state.open });\n  }\n\n  render() {\n    let { src, name, id } = this.props;\n    src += '?token=' + formID;\n    return (\n      <Fragment>\n        <img alt='' src={src} id={`thumbnail-${id}`}/>\n        <Tooltip placement='bottom' isOpen={this.state.open} toggle={this.toggle} target={`thumbnail-${id}`} delay={{show: 0, hide: 0 }} fade={'false'} >\n          {name}\n        </Tooltip>\n      </Fragment>\n    );\n  }\n}\n\nconst ImageThumbnailPropTypes = {\n  src: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nImageThumbnail.propTypes = ImageThumbnailPropTypes;\n\nexport default ImageThumbnail;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Progress } from 'react-sweet-progress';\nimport 'react-sweet-progress/lib/style.css';  \n\nfunction UploadProgress(props) {\n  return (\n    <Progress \n      type=\"circle\" \n      percent={props.uploadPercent} \n      width={props.width || 30}\n      theme={\n        {\n          default: {\n            color: props.defaultColor || 'rgba(0, 0, 0, 0.6)',\n          },\n          active: {\n            color: props.activeColor || '#fff',\n          },\n          success: {\n            color: props.successColor || '#fff',\n          }\n        }\n      }\n      style={\n        {\n          color: '#fff',\n          fontSize: '12px',\n          transform: 'rotate(-90deg)',\n          position: 'absolute',\n          zIndex: 4\n        }\n      }\n      symbolClassName=\"file-upload-span\"\n    />\n  );\n}\n\nUploadProgress.propTypes = {\n  uploadPercent: PropTypes.number.isRequired,\n  width: PropTypes.number,\n  defaultColor: PropTypes.string,\n  activeColor: PropTypes.string,\n  successColor: PropTypes.string,\n};\n\nexport default UploadProgress;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Progress from './upload-progress';\nimport { getFileIconUrl } from '../../../dtable-share-row/utils/utils';\nimport classnames from 'classnames';\nimport { gettext } from '../../../../utils/constants';\n\nconst propTypes = {\n  handleFileChange: PropTypes.func,\n  value: PropTypes.array,\n  deleteFile: PropTypes.func,\n  isUploading: PropTypes.bool,\n  event: PropTypes.object,\n  thumbnailSrc: PropTypes.string,\n  uploadPercent: PropTypes.number,\n  isErrorTip: PropTypes.bool,\n  config: PropTypes.object,\n};\n\nclass LocalFileAddition extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFileTipShow: false,\n      enterFileIndex: -1\n    };\n    this.enteredCounter = 0; // Determine whether to enter the child element to avoid dragging bubbling bugs\n  }\n\n  handleFileChange = (event) => {\n    event.persist();\n    this.props.handleFileChange(event);\n  }\n\n  deleteFile = (index) => {\n    this.props.deleteFile(index);\n  }\n\n  fileDragEnter = (event) => {\n    event.preventDefault();\n    this.enteredCounter++;\n    if (this.enteredCounter !== 0) {\n      this.setState({ isFileTipShow: true });\n    }\n  }\n\n  fileDragOver = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  fileDragLeave = () => {\n    this.enteredCounter--;\n    if (this.enteredCounter === 0) {\n      this.setState({ isFileTipShow: false });\n    }\n  }\n\n  fileDrop = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    event.persist();\n    this.enteredCounter = 0;\n    this.setState({ isFileTipShow: false });\n    let files = event.dataTransfer.files;\n    let reader = new FileReader();\n    reader.onload = () => {\n      this.props.handleFileChange(event, files[0]);\n    };\n    reader.readAsText(files[0]);\n  }\n\n  fileUploadClick = () => {\n    this.refs.files.click();\n  }\n\n  onInputFile = (event) => {\n    event.stopPropagation();\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterFileIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterFileIndex: -1 });\n  }\n\n  fileUploadAgain = () => {\n    this.props.handleFileChange(this.props.event);\n  }\n\n  calculateFileArr = () => {\n    let fileArr = [];\n    let { config, value, isUploading, thumbnailSrc, uploadPercent, isErrorTip } = this.props;\n    let { isFileTipShow, enterFileIndex } = this.state;\n    let { medialUrl } = config;\n    if (Array.isArray(value)) {\n      fileArr = value.map((fileItem, index) => {\n        let fileIconUrl = getFileIconUrl(medialUrl ,fileItem.name, fileItem.direntType);\n        return (\n          <div key = {'file-wrapper-' + index} className=\"file-wrapper\" onMouseEnter={() => this.showDeleteIcon(index)} onMouseLeave={this.hideDeleteIcon}>\n            <div className=\"file-content\">\n              <img src={fileIconUrl} alt=\"\"/>\n            </div>\n            {enterFileIndex === index &&\n              <div className=\"delete-file-icon\" onClick={() => this.deleteFile(index)}  >\n                <span className=\"file-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      if (isUploading) {\n        let fileIconUrl = thumbnailSrc;\n        fileArr.push(\n          <div className=\"file-wrapper\" key={'file-wrapper-circle'} >\n            <div className=\"file-upload-percent\">\n              <img src={fileIconUrl} style={{position: 'absolute', zIndex: uploadPercent === 100 ? 3 : 1}} alt=\"\" />\n              {uploadPercent < 100 && !isErrorTip &&\n                <Progress \n                  uploadPercent={uploadPercent}\n                />\n              } \n              {uploadPercent === 100 && \n                <div className=\"file-upload-success\">\n                  <div className=\"file-upload-success-scale\">\n                    <span className=\"file-upload-success-icon\">\n                      <i className=\"dtable-font dtable-icon-check-mark\"></i>\n                    </span>\n                    <span className=\"file-upload-success-tip\">{gettext('Uploaded completed')}</span>\n                  </div>\n                </div>\n              } \n              <div className=\"file-upload-mask\"></div>\n              {isErrorTip && \n                <div className=\"file-upload-error-tip\">\n                  <span>{gettext('Network Error')}</span>\n                  <span className=\"file-upload-again\" onClick={this.fileUploadAgain}>{gettext('Re-upload')}</span>\n                </div>\n              }\n            </div>\n          </div>\n        );\n      }\n      let uploadContainerClassName = 'file-wrapper';\n      let addBoxClassName = 'file-add-box';\n      let addIconClassName = classnames('file-add-button', {'file-wrapper-drop-active': isFileTipShow});\n      let fileTips = '';\n      if (fileArr.length === 0) {\n        uploadContainerClassName = classnames('file-upload-container', {'file-upload-container-active': isFileTipShow});\n        addBoxClassName = classnames('file-tip-addition', {'file-drop-active': isFileTipShow});\n        addIconClassName = 'file-add-icon';\n        fileTips = isFileTipShow ?\n          <div className=\"file-add-span\">{gettext('Drag and drop to add a file')}</div> : \n          <div className=\"file-add-span\">{gettext('Drag and drop files or click here to add')}</div>;\n      }\n      fileArr.push(\n        <div className={uploadContainerClassName}\n          key={'file-wrapper-addition'} \n          onDragEnter={this.fileDragEnter} \n          onDragOver={this.fileDragOver} \n          onDragLeave={this.fileDragLeave}\n          onDrop={this.fileDrop} \n          onClick={this.fileUploadClick}\n        >\n          <div className={addBoxClassName}>\n            <div className={addIconClassName}>\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n              <input type=\"file\" ref='files'  className='upload-file' onClick={this.onInputFile} onChange={this.handleFileChange} />\n            </div>\n            {fileTips}\n          </div> \n        </div>\n      );\n    }\n    return fileArr;\n  }\n\n  render() {\n    return this.calculateFileArr();\n  }\n}\n\nLocalFileAddition.propTypes = propTypes;\n\nexport default withTranslation('dtable')(LocalFileAddition);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport ImageThumbnail from '../cell-editor-widgets/file-image-edit/image-thumbnail';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport LocalFileAddition from '../cell-editor-widgets/file-image-edit/local-file-addition';\nimport { getFileIconUrl } from '../../dtable-share-row/utils/utils';\nimport { dtableWebAPI } from '../../../utils/dtable-web-api';\nimport { gettext } from '../../../utils/constants';\nimport '../css/file-editor.css';\n\nconst FileEditorPropTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst { dtableName: fileName, workspaceID, dtableWebURL, formToken } = window.shared.pageOptions;\nconst { serviceURL, mediaUrl } = window.app.config;\nconst config = {\n  server: dtableWebURL,\n  workspaceID,\n  fileName,\n  medialUrl: serviceURL + mediaUrl,\n};\n\nclass FileEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: []\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: props.value,\n      isPopoverShow: false,\n      isUpdated: false,\n      uploadPercent: 0,\n      isUploading: false,\n      thumbnailSrc: '',\n      enterFileIndex: -1,\n      isErrorTip: false,\n      event: {},\n    };\n  }\n\n  onAddFileToggle = (event) => {\n    if (event) {\n      event.stopPropagation();\n    }\n    let { isPopoverShow, isUpdated, newValue } = this.state;\n    if (isPopoverShow && isUpdated) {\n      const { column, onCommit } = this.props;\n      let updated = { [column.key]: newValue };\n      onCommit(updated);\n    }\n    this.setState({ isPopoverShow: !isPopoverShow });\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterFileIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterFileIndex: -1 });\n  }\n\n  getFormatValue = () => {\n    const { medialUrl } = config;\n    let fileArr = [];\n    let { newValue, enterFileIndex } = this.state;\n    if (Array.isArray(newValue) && newValue.length > 0) { \n      newValue.forEach((fileItem, index) => {\n        let iconUrl = getFileIconUrl(medialUrl, fileItem.name, fileItem.type);\n        fileArr.push(\n          <div key={`file-${index}`} className=\"share-form-item-file\" onMouseEnter={() => this.showDeleteIcon(index)} onMouseLeave={this.hideDeleteIcon}>\n            <ImageThumbnail src={iconUrl} id={`item-file-${index}`} name={fileItem.name}/>\n            {enterFileIndex === index &&\n              <div className=\"editor-delete-icon\" onClick={() => this.deleteFile(index)}  >\n                <span className=\"file-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      fileArr.push(\n        <div key={`file-${newValue.length + 1}`} className=\"share-form-item-file\" onClick={this.onFileEditorToggle}>\n          <div className=\"file-add-box\">\n            <div className=\"file-add-button\">\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n            </div>\n          </div> \n        </div>\n      );\n    } else {\n      fileArr.push(\n        <div key=\"select-editor-add\" onClick={this.onFileEditorToggle} className=\"select-editor-add\">\n          {gettext('Add Files')}\n        </div>\n      );\n    }\n    return fileArr;\n  }\n\n  onFileEditorToggle = () => {\n    if (this.props.isReadOnly) return;\n    this.setState({ isPopoverShow: !this.state.isPopoverShow });\n  }\n\n  deleteFile = (index) => {\n    let value = this.state.newValue.slice(0);\n    value.splice(index, 1);\n    this.setState({\n      isUpdated: true,\n      newValue: value\n    }, () => {\n      let { column, onCommit } = this.props;\n      let updated = { [column.key]: value };\n      onCommit(updated);\n    });\n  }\n\n  handleFileChange = (event, uploadFile = null) => {\n    event.persist();\n    let file = uploadFile ? uploadFile : event.target.files[0];\n    if (!file) {\n      return;\n    }\n    let { medialUrl } = config;\n    let thumbnailSrc = getFileIconUrl(medialUrl, file.name, file.type);\n    this.setState({\n      isUploading: true,\n      isUpdated: true,\n      isErrorTip: false,\n      thumbnailSrc: thumbnailSrc,\n      event: {},\n    });\n\n    this.uploadLocalFile(file).then((response) => {\n      let value = this.state.newValue.slice(0);\n      value.push(response);\n      this.setState({\n        isUploading: false,\n        uploadPercent: 0,\n        newValue: value,\n        thumbnailSrc: '',\n        enterFileIndex: value.length,\n      });\n    }).catch(err => {\n      this.setState({ isErrorTip: true, event: event });\n    });\n  }\n\n  uploadLocalFile = (imageFile) => {\n    let parentPath = '', relativePath='';\n    return (\n      dtableWebAPI.getUploadLinkViaFormToken(formToken).then((res) => {\n        const uploadLink = res.data.upload_link + '?ret-json=1';\n        const newFile = new File([imageFile], imageFile.name, {type: File.type});\n        const formData = new FormData();\n        parentPath = res.data.parent_path;\n        relativePath = res.data.file_relative_path;\n        formData.append('parent_dir', parentPath);\n        formData.append('relative_path', relativePath);\n        formData.append('file', newFile);\n        return dtableWebAPI.uploadImage(uploadLink, formData, this.onUploadProgress);\n      }).then ((res) => {\n        return this.setFileMessage(res.data[0].name, parentPath, relativePath, res.data[0].size);\n      })\n    );\n  }\n\n  onUploadProgress = (event) => {\n    let { loaded, total } = event;\n    let uploadPercent = Math.floor(loaded / total * 100);\n    this.setState({uploadPercent});\n  }\n\n  setFileMessage(fileName, path, relativePath, size) {\n    let { server, workspaceID } = config;\n    let url = server + 'workspace/' + workspaceID + path + `/${relativePath}/` + encodeURIComponent(fileName);\n    return {\n      url,\n      size,\n      name: fileName,\n      type: 'file',\n    };\n  }\n\n  render() {\n    let value = this.getFormatValue();\n    let { isPopoverShow, newValue, uploadPercent, isUploading, thumbnailSrc, isErrorTip, event } = this.state;\n    return (\n      <div className=\"cell-editor grid-cell-type-file\">\n        {value}\n        {isPopoverShow && (\n          <Modal isOpen={true} toggle={this.onAddFileToggle} contentClassName={'file-editor-modal'}>\n            <ModalHeader toggle={this.onAddFileToggle}>\n              <span className=\"file-editor-title\">{gettext('Add Files')}</span>\n            </ModalHeader>\n            <ModalBody style={{padding: 0}}>\n              <div ref='fileEditorContainer' className=\"file-editor-container\">\n                <LocalFileAddition \n                  handleFileChange={this.handleFileChange}\n                  value={newValue}\n                  uploadPercent={uploadPercent}\n                  isUploading={isUploading}\n                  deleteFile={this.deleteFile} \n                  thumbnailSrc={thumbnailSrc}\n                  config={config}\n                  isErrorTip={isErrorTip}\n                  event={event}\n                />\n              </div>\n            </ModalBody>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nFileEditor.propTypes = FileEditorPropTypes;\nexport default withTranslation('dtable') (FileEditor);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Progress from './upload-progress';\nimport classnames from 'classnames';\nimport { gettext } from '../../../../utils/constants';\n\nconst { formID } = window.shared.pageOptions;\n\nconst propTypes = {\n  handleImageChange: PropTypes.func,\n  value: PropTypes.array,\n  deleteImage: PropTypes.func,\n  isUploading: PropTypes.bool,\n  event: PropTypes.object,\n  thumbnailSrc: PropTypes.string,\n  uploadPercent: PropTypes.number,\n  isErrorTip: PropTypes.bool,\n  config: PropTypes.object,\n};\n\nclass LocalImageAddition extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isImageTipShow: false,\n      enterFileIndex: -1\n    };\n    this.enteredCounter = 0; // Determine whether to enter the child element to avoid dragging bubbling bugs\n  }\n\n  handleImageChange = (event) => {\n    event.persist();\n    this.props.handleImageChange(event);\n  }\n\n  deleteImage = (index) => {\n    this.props.deleteImage(index);\n  }\n\n  fileDragEnter = (event) => {\n    event.preventDefault();\n    this.enteredCounter++;\n    if (this.enteredCounter !== 0) {\n      this.setState({ isImageTipShow: true });\n    }\n  }\n\n  fileDragOver = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  fileDragLeave = () => {\n    this.enteredCounter--;\n    if (this.enteredCounter === 0) {\n      this.setState({ isImageTipShow: false });\n    }\n  }\n\n  fileDrop = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    event.persist();\n    this.enteredCounter = 0;\n    this.setState({ isImageTipShow: false, enterFileIndex: -1 });\n    let files = event.dataTransfer.files;\n    let isImage = /image/i.test(files[0].type);\n    if (isImage) {\n      this.props.handleImageChange(event, files[0]);\n    }\n  }\n\n  fileUploadClick = () => {\n    this.refs.image_file.click();\n  }\n\n  onInputFile = (event) => {\n    event.stopPropagation();\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterFileIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterFileIndex: -1 });\n  }\n\n  fileUploadAgain = () => {\n    this.props.handleImageChange(this.props.event);\n  }\n\n  calculateImageArr = () => {\n    let imageArr = [];\n    let { isImageTipShow, enterFileIndex } = this.state;\n    let { value, isUploading, thumbnailSrc, uploadPercent, isErrorTip } = this.props;\n    if (Array.isArray(value)) {\n      imageArr = value.map((imageItem, index) => {\n        return (\n          <div key = {'image-wrapper-' + index} className=\"image-wrapper\" onMouseEnter={() => this.showDeleteIcon(index)} onMouseLeave={this.hideDeleteIcon}>\n            <div className=\"image-content\">\n              <img src={imageItem+'?token='+formID} alt=\"\"/>\n            </div>\n            {enterFileIndex === index &&\n              <div className=\"delete-image-icon\" onClick={() => this.deleteImage(index)}  >\n                <span className=\"image-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      if (isUploading) {\n        imageArr.push(\n          <div className=\"image-wrapper\" key={'image-wrapper-circle'} >\n            <div className=\"image-upload-percent\">\n              <img src={thumbnailSrc} style={{ position: 'absolute', zIndex: uploadPercent === 100 ? 3 : 1 }} alt=\"\" />\n              {uploadPercent < 100 && !isErrorTip &&\n                <Progress \n                  uploadPercent={uploadPercent}\n                />\n              } \n              {uploadPercent === 100 && \n                <div className=\"image-upload-success\">\n                  <div className=\"image-upload-success-scale\">\n                    <span className=\"image-upload-success-icon\">\n                      <i className=\"dtable-font dtable-icon-check-mark\"></i>\n                    </span>\n                    <span className=\"image-upload-success-tip\">{gettext('Uploaded completed')}</span>\n                  </div>\n                </div>\n              } \n              <div className=\"image-upload-mask\"></div>\n              {isErrorTip && \n                <div className=\"image-upload-error-tip\">\n                  <span>{gettext('Network Error')}</span>\n                  <span className=\"image-upload-again\" onClick={this.fileUploadAgain}>{gettext('Re-upload')}</span>\n                </div>\n              }\n            </div>\n          </div>\n        );\n      }\n      let uploadContainerClassName = 'image-wrapper';\n      let addBoxClassName = 'image-add-box';\n      let addIconClassName = classnames('image-add-button', {'image-wrapper-drop-active': isImageTipShow});\n      let imageTips = '';\n      if (imageArr.length === 0) {\n        uploadContainerClassName = classnames('image-upload-container', {'image-upload-container-active': isImageTipShow});\n        addBoxClassName = classnames('image-tip-addition', {'image-drop-active': isImageTipShow});\n        addIconClassName = 'image-add-icon';\n        imageTips = isImageTipShow ?\n          <div className=\"image-add-span\">{gettext('Drag and drop to add an image')}</div> : \n          <div className=\"image-add-span\">{gettext('Drag and drop images or click here to add')}</div>;\n      }\n      imageArr.push(\n        <div className={uploadContainerClassName}\n          key={'image-wrapper-addition'} \n          onDragEnter={this.fileDragEnter} \n          onDragOver={this.fileDragOver} \n          onDragLeave={this.fileDragLeave}\n          onDrop={this.fileDrop} \n          onClick={this.fileUploadClick}\n        >\n          <div className={addBoxClassName}>\n            <div className={addIconClassName}>\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n              <input type=\"file\" className='upload-image' accept=\"image/*\" ref='image_file' onClick={this.onInputFile} onChange={this.handleImageChange} />\n            </div>\n            {imageTips}\n          </div> \n        </div>\n      );\n    }\n    return imageArr;\n  }\n\n  render() {\n    return this.calculateImageArr();\n  }\n}\n\nLocalImageAddition.propTypes = propTypes;\n\nexport default withTranslation('dtable')(LocalImageAddition); ","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport ImageThumbnail from '../cell-editor-widgets/file-image-edit/image-thumbnail';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport LocalImageAddition from '../cell-editor-widgets/file-image-edit/local-image-addition';\nimport { getFileIconUrl } from '../../dtable-share-row/utils/utils';\nimport { dtableWebAPI } from '../../../utils/dtable-web-api';\nimport { gettext } from '../../../utils/constants';\nimport '../css/image-editor.css';\n\nconst FileEditorPropTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func,\n};\n\nconst { dtableName: fileName, workspaceID, dtableWebURL, formToken } = window.shared.pageOptions;\nconst { serviceURL, mediaUrl } = window.app.config;\nconst config = {\n  server: dtableWebURL,\n  workspaceID,\n  fileName,\n  medialUrl: serviceURL + mediaUrl,\n};\n\nclass ImageEditor extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n    value: []\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newValue: props.value,\n      isPopoverShow: false,\n      isUpdated: false,\n      uploadPercent: 0,\n      isUploading: false,\n      thumbnailSrc: '',\n      enterImageIndex: -1,\n      isErrorTip: false,\n      event: null,\n    };\n  }\n\n  onAddImageToggle = (event) => {\n    if (event) {\n      event.stopPropagation();\n    }\n    let { isPopoverShow, isUpdated, newValue } = this.state;\n    if (isPopoverShow && isUpdated) {\n      const { column, onCommit } = this.props;\n      let updated = { [column.key]: newValue };\n      onCommit(updated);\n    }\n    this.setState({ isPopoverShow: !isPopoverShow });\n  }\n\n  showDeleteIcon = (index) => {\n    this.setState({ enterImageIndex: index });\n  }\n\n  hideDeleteIcon = () => {\n    this.setState({ enterImageIndex: -1 });\n  }\n\n  getFormatValue = () => {\n    let fileArr = [];\n    let { newValue, enterImageIndex } = this.state;\n\n    if (Array.isArray(newValue) && newValue.length > 0) {\n      newValue.forEach((imageItem, index) => {\n        let name = decodeURI(imageItem.slice(imageItem.lastIndexOf('/') + 1));\n        fileArr.push(\n          <div \n            key={`image-${index}`} \n            className=\"share-form-item-image\" \n            onMouseEnter={() => this.showDeleteIcon(index)} \n            onMouseLeave={this.hideDeleteIcon}\n          >\n            <ImageThumbnail src={imageItem} id={`item-image-${index}`} alt=\"\" name={name}/>\n            {enterImageIndex === index &&\n              <div className=\"editor-delete-icon\" onClick={() => this.deleteImage(index)} >\n                <span className=\"image-delete-span\">x</span>\n              </div>\n            }\n          </div>\n        );\n      });\n      fileArr.push(\n        <div key={`image-${newValue.length + 1}`} className=\"share-form-item-image\" onClick={this.onImageEditorToggle}>\n          <div className=\"image-add-box\">\n            <div className=\"image-add-button\">\n              <i className=\"dtable-font dtable-icon-add-files\"></i>\n            </div>\n          </div> \n        </div>\n      );\n    } else {\n      fileArr.push(\n        <div key=\"select-editor-add\" onClick={this.onImageEditorToggle} className=\"select-editor-add\">\n          {gettext('Add Images')}\n        </div>\n      );\n    }\n    return fileArr;\n  }\n\n  onImageEditorToggle = () => {\n    if (this.props.isReadOnly) return;\n    this.setState({ isPopoverShow: !this.state.isPopoverShow });\n  }\n\n  deleteImage = (index) => {\n    let value = this.state.newValue.slice(0);\n    value.splice(index, 1);\n    this.setState({\n      isUpdated: true,\n      newValue: value,\n      enterImageIndex: -1,\n    }, () => {\n      let { column, onCommit } = this.props;\n      let updated = { [column.key]: value };\n      onCommit(updated);\n    });\n  }\n\n  handleImageChange = (event, uploadImage = null) => {\n    event.persist();\n    let image = uploadImage ? uploadImage : event.target.files[0];\n    if (!image) {\n      return;\n    }\n    let { medialUrl } = config;\n    let thumbnailSrc = getFileIconUrl(medialUrl, image.name, image.type);\n    this.setState({\n      isUploading: true,\n      isUpdated: true,\n      isErrorTip: false,\n      thumbnailSrc: thumbnailSrc\n    });\n\n    this.uploadLocalFile(image).then((response) => {\n      let value = this.state.newValue.slice(0);\n      value.push(response);\n      this.setState({\n        isUploading: false,\n        uploadPercent: 0,\n        newValue: value,\n        thumbnailSrc: '',\n        enterImageIndex: value.length,\n      });\n    }).catch(err => {\n      this.setState({ isErrorTip: true, event: event });\n    });\n  }\n\n  uploadLocalFile = (imageFile) => {\n    let parentPath = '', relativePath = '';\n    return (\n      dtableWebAPI.getUploadLinkViaFormToken(formToken).then((res) => {\n        const uploadLink = res.data.upload_link + '?ret-json=1';\n        const newFile = new File([imageFile], imageFile.name, {type: imageFile.type});\n        const formData = new FormData();\n        parentPath = res.data.parent_path;\n        relativePath = res.data.img_relative_path;\n        formData.append('parent_dir', parentPath);\n        formData.append('relative_path', relativePath);\n        formData.append('file', newFile);\n        return dtableWebAPI.uploadImage(uploadLink, formData, this.onUploadProgress);\n      }).then ((res) => {\n        return this.getImageUrl(res.data[0].name);\n      })\n    );\n  }\n\n  onUploadProgress = (event) => {\n    let { loaded, total } = event;\n    let uploadPercent = Math.floor(loaded / total * 100);\n    this.setState({uploadPercent});\n  }\n\n  getImageUrl(fileName) {\n    let { server } = config;\n    let url = server + 'dtable/forms/' + formToken + '/asset/' + encodeURIComponent(fileName);\n    return url;\n  }\n\n  render() {\n    let value = this.getFormatValue();\n    let { isPopoverShow, newValue, uploadPercent, isUploading, thumbnailSrc, isErrorTip, event } = this.state;\n    return (\n      <div className=\"cell-editor grid-cell-type-image\">\n        {value}\n        {isPopoverShow && (\n          <Modal isOpen={true} toggle={this.onAddImageToggle} contentClassName={'image-editor-modal'}>\n            <ModalHeader toggle={this.onAddImageToggle}>\n              <span className=\"image-editor-title\">{gettext('Add Images')}</span>\n            </ModalHeader>\n            <ModalBody style={{padding: 0}}>\n              <div ref='imageEditorContainer' className=\"image-editor-container\">\n                <LocalImageAddition \n                  handleImageChange={this.handleImageChange}\n                  value={newValue}\n                  uploadPercent={uploadPercent}\n                  isUploading={isUploading}\n                  deleteImage={this.deleteImage} \n                  thumbnailSrc={thumbnailSrc}\n                  config={config}\n                  isErrorTip={isErrorTip}\n                  event={event}\n                />\n              </div>\n            </ModalBody>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nImageEditor.propTypes = FileEditorPropTypes;\nexport default withTranslation('dtable') (ImageEditor);","import React from 'react';\nimport { CELL_TYPE } from '../../dtable-share-row/contants/contants';\nimport CollaboratorEditor from './collaborator-editor';\nimport SingleSelectEditor from './single-select-editor';\nimport MutipleSelectDitor from './mutiple-select-editor';\nimport LongTextEditor from './long-text-editor';\nimport DateEditor from './date-editor';\nimport TextEditor from './text-editor';\nimport NumberEditor from './number-editor';\nimport CheckboxEditor from './checkbox-editor';\nimport FileEditor from './file-editor';\nimport ImageEditor from './image-editor';\n\nimport '../css/common-editor.css';\n\nconst EditorConfig = {\n  [CELL_TYPE.COLLABORATOR]: <CollaboratorEditor />,\n  [CELL_TYPE.SINGLE_SELECT]: <SingleSelectEditor />,\n  [CELL_TYPE.MULTIPLE_SELECT]: <MutipleSelectDitor />,\n  [CELL_TYPE.LONG_TEXT]: <LongTextEditor />,\n  [CELL_TYPE.DATE]: <DateEditor />,\n  [CELL_TYPE.TEXT]: <TextEditor />,\n  [CELL_TYPE.NUMBER]: <NumberEditor />,\n  [CELL_TYPE.CHECKBOX]: <CheckboxEditor />,\n  [CELL_TYPE.FILE]: <FileEditor />,\n  [CELL_TYPE.IMAGE]: <ImageEditor />,\n};\n\nexport default EditorConfig;","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport EditorConfig from '../cell-editor/editor-config';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object, PropTypes.bool]),\n  column: PropTypes.object,\n  onCommit: PropTypes.func.isRequired,\n  onCommitCancel: PropTypes.func\n};\n\nclass FormEditorGenerator extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n  }\n\n  getCellEditor = () => {\n    let { column } = this.props;\n    return EditorConfig[column.type];\n  }\n\n  render() {\n    let { isReadOnly, value, column, onCommit, onCommitCancel } = this.props;\n    let CellEditor = this.getCellEditor();\n    let editorProps = {\n      isReadOnly: isReadOnly,\n      value: value,\n      column: column,\n      onCommit: onCommit,\n      onCommitCancel: onCommitCancel,\n    };\n\n    return (\n      <Fragment>\n        {CellEditor && React.cloneElement(CellEditor, { ...editorProps })}\n      </Fragment>\n    );\n  }\n}\n\nFormEditorGenerator.propTypes = propTypes;\n\nexport default FormEditorGenerator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LabelGenerator from './generator/label-generator';\nimport FormEditorGenerator from './generator/form-editor-generator';\n\nconst propTypes = {\n  isReadOnly: PropTypes.bool,\n  column: PropTypes.object.isRequired,\n  firstEditorKeyPress: PropTypes.string,\n  onCommit: PropTypes.func,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object, PropTypes.bool]),\n};\n\nclass RowItem extends React.Component {\n\n  static defaultProps = {\n    isReadOnly: false,\n  }\n\n  constructor(props) {\n    super(props);\n    this.editorMode = 'form_mdoe';\n  }\n\n  onCommit = (updated) => {\n    let { onCommit } = this.props;\n    if (onCommit) {\n      onCommit(updated);\n    }\n  }\n\n  setRowRef = (rowItem) => {\n    this.rowItem = rowItem;\n  }\n\n  render() {\n    let { isReadOnly, column, value } = this.props;\n    return (\n      <div className=\"form_mode compose-editor\">\n        <div className=\"cell-label-container\">\n          <LabelGenerator column={column}></LabelGenerator>\n        </div>\n        <div ref={(rowItem) => {this.setRowRef(rowItem);}} >\n          <FormEditorGenerator\n            isReadOnly={isReadOnly}\n            value={value}\n            column={column}\n            onCommit={this.onCommit}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nRowItem.propTypes = propTypes;\n\nexport default RowItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { processor } from '@seafile/seafile-editor/dist/utils/seafile-markdown2html';\n\nconst propTypes = {\n  remarkContent: PropTypes.string,\n};\n\nconst gettext = window.gettext;\n\nclass RemarkItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      noteContent: null\n    };\n  }\n\n  componentDidMount() {\n    const { remarkContent } = this.props;\n    this.convertRemarkContent(remarkContent);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { remarkContent } = nextProps;\n    this.convertRemarkContent(remarkContent);\n  }\n\n  convertRemarkContent = (mdFile) => {\n    processor.process(mdFile).then((result) => {\n      let noteContent = String(result);\n      this.setState({noteContent: noteContent});\n    });\n  }\n\n  render() {\n    const { remarkContent } = this.props;\n    return(\n      <div className=\"form_mode compose-editor remark-editor-content\">\n        <div className=\"cell-label-container\">\n          <label className=\"cell-label\">{gettext('Note')}</label>\n        </div>\n        { remarkContent ? \n          <div \n            className=\"remark-content-tip\"\n            dangerouslySetInnerHTML={{ __html: this.state.noteContent }}\n          ></div> : \n          <div className=\"remark-content-tip\" style={{color: '#c2c2c2'}}>{gettext('Add notes here to guilde users how to fill the form.')}</div>\n        }\n      </div>\n    );\n  }\n}\n\nRemarkItem.propTypes = propTypes;\n\nexport default RemarkItem;"],"sourceRoot":""}